/*! For license information please see main.b513baa9.js.LICENSE.txt */
(()=>{var e={579:(e,t,r)=>{"use strict";e.exports=r(2799)},1224:()=>{},2284:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})},2799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(e,t,n){var s=null;if(void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),"key"in t)for(var a in n={},t)"key"!==a&&(n[a]=t[a]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:s,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=s,t.jsxs=s},3026:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAABxCAYAAADifkzQAAAACXBIWXMAAAsSAAALEgHS3X78AAAJc0lEQVR4nO2dT27jNhTGXwfdxxco4kUBL+MbjHsAY7wo0GWcdRdjH6CIcwKrm26rHKCAAl/AQQ9QZ5kCLTw3cLbdTEHh4wxFSzJJkRRp8wcY8ye2I+nje3x8fCS/+fz5MyXi5ttYr366HA2IaIwX+/sEPxoS0fWJjz/jzwMR7Yhoz16b9evW8WU7IRpLnC5HYwg1gXDXEGOP1w6iUJsYgvgkNQAu/gu+i33HdrN+3Xu7SUOCFnG6HM2IiL8YBX/Am/XrzsHv4wLzxvIeojJBcxe/0wbBiThdjtjDm0O4PYQr+nqAUkNilp5D0GAsNAgRYQHsIa3g3vIQWz4EZQ3sAxE9EVEWQj/aq4gQb4HXDsLlvV2QItPlaAgxF/AWWZ/X3YuINeKtYo0Mp8vRHB6EMe/jPryLiJvOYhdPZrocLSAmu6+Fz67Am4gYImQI5dlNFl5+sUfgYZiQH4noAW724PoKvIg4XY7Yjd0T0a+wPuc31idSg3XuYp2KiACAW9w81HGWK+Bi18wqN+vXlavf40xEhOM5XmdvfU3AKnnkOnHxHJyICPe5QN8X/JDBNegrM4yFJ7Y9klURhYtlWZfZpbnPUwju9c5m47YmIgTkHbgTt3EOCN2MNS9lRURBwD0CmCRgC+gnt8gJz7t+X2cRBQF3Ni7oUrAp5LsuH04CmoN4oYwdpstR1uW7jEUUXWgS0AxByDnSkUZ0sUTeepKAHRCEzEyFNBIR48BJikLtACEXEHKs+6XagY0QIlsftF46MA5mjWMd49CyRORCc99TLZcC8qs7IU2nhK47LWKZfY+Y0hKR3VFCWUSYOgmz2AkHwI2W1QKq/aOSiPiy+5SN8QPmH3NhBNCKqiVmmBNL/aA/mMcbqrjVkyJi7DJUbRUJO0hudWAsojC1tEhu1D9wq9tTBnTKEhfIi55dUZNNWNU6Xq0WYwjT4BbDu1oaB/u4oD0md8+irNA2QgXDlfDVj7Y913Q5Kod0TTnqNkvkVpgErAEP9l4SkHHLXKBlq1y1WWOtiEKFdhoT1oBg77blLTd4flbA4p3HJj2aLHGerLAerNr6XeGttmd3Gq2xScSFbv7uEkDSQzXIO7VaWQtY41Nd4zgSEbMUlPKjVdDFFDV9YBOfHFxGriQiaiPTkOKYraZ1We+K+FCPGxqnIiJa223KzlRBJHqj8ZE3m4GNRCEsfy+Rd89gP3yJYbMBX2As2BaJyrw5rnjIZSuX3ekkBTRfwVDiXvNjTifM8d0H0aXKIs5c+PIYEZan6fDgKSAshH17voqIiz6k6aZKOaZqJMp4dLl8TaLSL4qWmKzQXMAXn7W3SMJc84G/KOIkiViiG4l+El2bR575zliiiGNUWl0sKKf/oHH/b5jl6WOudcsbTykizPLqkvtDRKIfNT/W5xrMnWyJQ2HnwYtDI6ktctfzBMGRiBNMAF8cmkltzmPfuWUkZK5YIMZFHFyiiIhEc81I9CmgVWBsB8gxF/FSg5qtZiT6EtgqMBZQDd5J/3ExGCa1+4pEmyj7RZ4AH/typ4iExaTyG/okb2WRKMg1SWqH1uWUz4tb4pWPC0QQsZMe4BX+vW8ry7N4DXNsQ6JD0KvAOq3ZN6AtiLhyPYMSeFLbhL0Y2DgHD/BUH/ReZ0mXDhEktU3Yy4GNa1TrMNcmS57bME1qO5ydt4pvd6qKbfdllNSOZf2JTxF1AoMbYVFrJyJLahvhTUQ8lAeNj9x3dauGSe2Y9mUth4Ze3SmChBeNjxi71Q5J7ZjKNQeiiJ9w0z7QSVvdmGyZFWtS2xQuordMBFyVjlv9qNPADJPaz5FubcaSI4d30n94AW5VZ/4y11gqVhgktWcK7wsRptmOi7j1KSKYIxJU4VplmR2S2u81riG6SFSiUih1EI6j8wJytTrDiFa3apDUpkCT2jpcs+oCLuKuB0tkQmaabrWoc6uohtZNat/FXFOEBl2uvBJF1OlHbKLjVo+S5NKRBaqEnNRWZcgTKKWI6BN8DjO+AHemk6P8wNchnGlSW5VxRUSw9d0vcmAVTxofYdHq9TkntRX4Uuwti9hHJTNH163+ec5J7TbggW54yWQwIgrbYKnyncZ7Yx9KyMzEgPCLiOibDvJSYp8gb6njVlU5t8PGKutm5AR40bNLJVijzU0LYktqq1DZV0EWMe87BWXgVtuINqndBDxlZR1pRUT+gz6GGtJ1bHFgZhdiTWqf4mh3k7r5xCKQKudVB7cac1K7EeEo+8r0XJ2IGbafcrHtozId3OrbGW9zPcOJQJV875GIeMNzCNYIt6oz90hnfl7Hqq5utqk8Iwsls4EU2d+Kb486qd0G4pRBXaBWK6Kw/VQogcFPCu/548z3o6u1QjpR7bYKZb9TWNfPLW/5Z7N+/dHjJXkFVti4BKFRRN6qQ7HGzfr1NyL6gYj+IqL/8N//EtEvm/Xr9z1fnmtKK2wK1loP/IKAK90DqBL2gBWy7m3YpEFr3SmsUXe+L2EXpsGqzYhUiofLHed9rB1MVMFShgPKWBo5KaJwblHafdEjMJqFihdULeNf6R4Hl+hMjmMOT+6VoySidG5RcquOgbEMVYd4ygtqkADI0/7gbkH13lon/6u7KqpsGV3PhU/UI+z4/6Cz5ZiWiGgZs67nwicaKXCojFamTHt9ImY5mJC/215bf8lgHcnAZPbIaJEpTP0OB1slITsCrzYzrcgzXimMbE4OIVPEaggEzLos7mnNnaoANzA+l8Jcn0gCGs+Ddl6zj2KkXXKtetgSkGztnpGE1MOmgGRzCxQImUHIvguQgwXdjzUByUafKINWxrYeWZ7Kvl8SwkB+YHtZgXUR6WvqaOt7H9NQEbZk2bkop3QiIlVb3rDnowd6BcnsNVJpTmqWnInIwcTmvcubCBGMnXM04rnL4xeci0jH6+oX537gtHD+/snSCht4EbHm5grc3Fkd44ConDdWp9Yn4lVEqm7kzheGNJbixQLEWyFztfIdlXsXkSPdeIZShKgss+YeemmQvYnIwYOYYzeoR9W6kr4QlpfxEorevUnvInKE6q45tiljD6cIxTqxQpe/9sL19d4VBCOiCB7YHNs+vyAQKnyONWFxE0G4A64jD23MG6SIHOlBTpCy2iEbtEUpgxVLwDCIvybYI6eXBqRL0CLKwOVOhIfNt8V8hqXwB31o2Dh+IOyaxf8+gGBvQgMp/4wlao5KxDogrPhi8H/XUZ5Tjx+Uf486+UBE/wP7fbuJiHkt0AAAAABJRU5ErkJggg=="},3531:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/Asset 8.40d1b49e7f0d3fc98ca3.png"},4288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}function b(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var y=v.prototype=new b;y.constructor=v,p(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray;function B(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function C(e,t,n){var s=n.ref;return{$$typeof:r,type:e,key:t,ref:void 0!==s?s:null,props:n}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var S=/\/+/g;function F(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,A,c=!1;if(null===e)c=!0;else switch(o){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0;break;case u:return E((c=e._init)(e._payload),t,s,a,i)}}if(c)return i=i(e),c=""===a?"."+F(e,0):a,w(i)?(s="",null!=c&&(s=c.replace(S,"$&/")+"/"),E(i,t,s,"",function(e){return e})):null!=i&&(k(i)&&(l=i,A=s+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+c,i=C(l.type,A,l.props)),t.push(i)),1;c=0;var d,h=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)c+=E(a=e[m],t,s,o=h+F(a,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)c+=E(a=a.value,t,s,o=h+F(a,m++),i);else if("object"===o){if("function"===typeof e.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(B,B):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function _(e,t,r){if(null==e)return e;var n=[],s=0;return E(e,n,"","",function(e){return t.call(r,e,s++)}),n}function U(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var Q="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},L={map:_,forEach:function(e,t,r){_(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=L,t.Component=x,t.Fragment=s,t.Profiler=i,t.PureComponent=v,t.StrictMode=a,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=p({},e.props),s=e.key;if(null!=t)for(a in void 0!==t.key&&(s=""+t.key),t)!j.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(n[a]=t[a]);var a=arguments.length-2;if(1===a)n.children=r;else if(1<a){for(var i=Array(a),o=0;o<a;o++)i[o]=arguments[o+2];n.children=i}return C(e.type,s,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,s={},a=null;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)j.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(s[n]=t[n]);var i=arguments.length-2;if(1===i)s.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===s[n]&&(s[n]=i[n]);return C(e,a,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:A,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:U}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,r={};N.T=r;try{var n=e(),s=N.S;null!==s&&s(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(B,Q)}catch(a){Q(a)}finally{null!==t&&null!==r.types&&(t.types=r.types),N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,r){return N.H.useActionState(e,t,r)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return N.H.useEffect(e,t)},t.useEffectEvent=function(e){return N.H.useEffectEvent(e)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,r){return N.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return N.H.useReducer(e,t,r)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return N.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return N.H.useTransition()},t.version="19.2.0"},4391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4980:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2284);function s(e){var t=function(e,t){if("object"!=(0,n.A)(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=(0,n.A)(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.A)(t)?t:t+""}function a(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},5043:(e,t,r)=>{"use strict";e.exports=r(4288)},5239:function(e){e.exports=function(){"use strict";var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};function t(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};function n(e,t,r,n){function s(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,a){function i(e){try{l(n.next(e))}catch(Dt){a(Dt)}}function o(e){try{l(n.throw(e))}catch(Dt){a(Dt)}}function l(e){e.done?r(e.value):s(e.value).then(i,o)}l((n=n.apply(e,t||[])).next())})}function s(e,t){var r,n,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return l([e,t])}}function l(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(s=2&a[0]?n.return:a[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,a[1])).done)return s;switch(n=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(Dt){a=[6,Dt],n=0}finally{r=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t,r){if(r||2===arguments.length)for(var n,s=0,a=t.length;s<a;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||t)}for(var i=function(){function e(e,t,r,n){this.left=e,this.top=t,this.width=r,this.height=n}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(e){return 0!==e.width});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return i.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new i(0,0,n,s)},A=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=e.charCodeAt(r++);56320===(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),r--)}else t.push(s)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var i=e[s];i<=65535?n.push(i):(i-=65536,n.push(55296+(i>>10),i%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<d.length;h++)u[d.charCodeAt(h)]=h;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m="undefined"===typeof Uint8Array?[]:new Uint8Array(256),p=0;p<f.length;p++)m[f.charCodeAt(p)]=p;for(var g=function(e){var t,r,n,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<o;t+=4)r=m[e.charCodeAt(t)],n=m[e.charCodeAt(t+1)],s=m[e.charCodeAt(t+2)],a=m[e.charCodeAt(t+3)],c[l++]=r<<2|n>>4,c[l++]=(15&n)<<4|s>>2,c[l++]=(3&s)<<6|63&a;return A},x=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},b=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},v=5,y=11,w=2,B=65536>>v,N=(1<<v)-1,j=B+(1024>>v)+32,C=65536>>y,k=(1<<y-v)-1,S=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},F=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},E=function(e,t){var r=g(e),n=Array.isArray(r)?b(r):new Uint32Array(r),s=Array.isArray(r)?x(r):new Uint16Array(r),a=24,i=S(s,a/2,n[4]/2),o=2===n[5]?S(s,(a+n[4])/2):F(n,Math.ceil((a+n[4])/4));return new _(n[0],n[1],n[2],n[3],i,o)},_=function(){function e(e,t,r,n,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=s,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>v])<<w)+(e&N),this.data[t];if(e<=65535)return t=((t=this.index[B+(e-55296>>v)])<<w)+(e&N),this.data[t];if(e<this.highStart)return t=j-C+(e>>y),t=this.index[t],t+=e>>v&k,t=((t=this.index[t])<<w)+(e&N),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q="undefined"===typeof Uint8Array?[]:new Uint8Array(256),L=0;L<U.length;L++)Q[U.charCodeAt(L)]=L;var I=50,M=1,D=2,P=3,T=4,O=5,R=7,H=8,z=9,K=10,V=11,q=12,G=13,W=14,J=15,Y=16,X=17,Z=18,$=19,ee=20,te=21,re=22,ne=23,se=24,ae=25,ie=26,oe=27,le=28,Ae=29,ce=30,de=31,ue=32,he=33,fe=34,me=35,pe=36,ge=37,xe=38,be=39,ve=40,ye=41,we=42,Be=43,Ne=[9001,65288],je="!",Ce="\xd7",ke="\xf7",Se=E("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Fe=[ce,pe],Ee=[M,D,P,O],_e=[K,H],Ue=[oe,ie],Qe=Ee.concat(_e),Le=[xe,be,ve,fe,me],Ie=[J,G],Me=function(e,t){void 0===t&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(e,a){var i=Se.get(e);if(i>I?(s.push(!0),i-=I):s.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return n.push(a),r.push(Y);if(i===T||i===V){if(0===a)return n.push(a),r.push(ce);var o=r[a-1];return-1===Qe.indexOf(o)?(n.push(n[a-1]),r.push(o)):(n.push(a),r.push(ce))}return n.push(a),i===de?r.push("strict"===t?te:ge):i===we||i===Ae?r.push(ce):i===Be?e>=131072&&e<=196605||e>=196608&&e<=262141?r.push(ge):r.push(ce):void r.push(i)}),[n,r,s]},De=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a=r;a<=n.length;){if((l=n[++a])===t)return!0;if(l!==K)break}if(s===K)for(a=r;a>0;){var i=n[--a];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=r;o<=n.length;){var l;if((l=n[++o])===t)return!0;if(l!==K)break}if(i!==K)break}return!1},Pe=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n!==K)return n;r--}return 0},Te=function(e,t,r,n,s){if(0===r[n])return Ce;var a=n-1;if(Array.isArray(s)&&!0===s[a])return Ce;var i=a-1,o=a+1,l=t[a],A=i>=0?t[i]:0,c=t[o];if(l===D&&c===P)return Ce;if(-1!==Ee.indexOf(l))return je;if(-1!==Ee.indexOf(c))return Ce;if(-1!==_e.indexOf(c))return Ce;if(Pe(a,t)===H)return ke;if(Se.get(e[a])===V)return Ce;if((l===ue||l===he)&&Se.get(e[o])===V)return Ce;if(l===R||c===R)return Ce;if(l===z)return Ce;if(-1===[K,G,J].indexOf(l)&&c===z)return Ce;if(-1!==[X,Z,$,se,le].indexOf(c))return Ce;if(Pe(a,t)===re)return Ce;if(De(ne,re,a,t))return Ce;if(De([X,Z],te,a,t))return Ce;if(De(q,q,a,t))return Ce;if(l===K)return ke;if(l===ne||c===ne)return Ce;if(c===Y||l===Y)return ke;if(-1!==[G,J,te].indexOf(c)||l===W)return Ce;if(A===pe&&-1!==Ie.indexOf(l))return Ce;if(l===le&&c===pe)return Ce;if(c===ee)return Ce;if(-1!==Fe.indexOf(c)&&l===ae||-1!==Fe.indexOf(l)&&c===ae)return Ce;if(l===oe&&-1!==[ge,ue,he].indexOf(c)||-1!==[ge,ue,he].indexOf(l)&&c===ie)return Ce;if(-1!==Fe.indexOf(l)&&-1!==Ue.indexOf(c)||-1!==Ue.indexOf(l)&&-1!==Fe.indexOf(c))return Ce;if(-1!==[oe,ie].indexOf(l)&&(c===ae||-1!==[re,J].indexOf(c)&&t[o+1]===ae)||-1!==[re,J].indexOf(l)&&c===ae||l===ae&&-1!==[ae,le,se].indexOf(c))return Ce;if(-1!==[ae,le,se,X,Z].indexOf(c))for(var d=a;d>=0;){if((u=t[d])===ae)return Ce;if(-1===[le,se].indexOf(u))break;d--}if(-1!==[oe,ie].indexOf(c))for(d=-1!==[X,Z].indexOf(l)?i:a;d>=0;){var u;if((u=t[d])===ae)return Ce;if(-1===[le,se].indexOf(u))break;d--}if(xe===l&&-1!==[xe,be,fe,me].indexOf(c)||-1!==[be,fe].indexOf(l)&&-1!==[be,ve].indexOf(c)||-1!==[ve,me].indexOf(l)&&c===ve)return Ce;if(-1!==Le.indexOf(l)&&-1!==[ee,ie].indexOf(c)||-1!==Le.indexOf(c)&&l===oe)return Ce;if(-1!==Fe.indexOf(l)&&-1!==Fe.indexOf(c))return Ce;if(l===se&&-1!==Fe.indexOf(c))return Ce;if(-1!==Fe.concat(ae).indexOf(l)&&c===re&&-1===Ne.indexOf(e[o])||-1!==Fe.concat(ae).indexOf(c)&&l===Z)return Ce;if(l===ye&&c===ye){for(var h=r[a],f=1;h>0&&t[--h]===ye;)f++;if(f%2!==0)return Ce}return l===ue&&c===he?Ce:ke},Oe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=Me(e,t.lineBreak),n=r[0],s=r[1],a=r[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(s=s.map(function(e){return-1!==[ae,ce,we].indexOf(e)?ge:e}));var i="keep-all"===t.wordBreak?a.map(function(t,r){return t&&e[r]>=19968&&e[r]<=40959}):void 0;return[n,s,i]},Re=function(){function e(e,t,r,n){this.codePoints=e,this.required=t===je,this.start=r,this.end=n}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),He=function(e,t){var r=A(e),n=Oe(r,t),s=n[0],a=n[1],i=n[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var e=Ce;c<o&&(e=Te(r,a,s,++c,i))===Ce;);if(e!==Ce||c===o){var t=new Re(r,e,l,c);return l=c,{value:t,done:!1}}return{done:!0,value:null}}}},ze=1,Ke=2,Ve=4,qe=8,Ge=10,We=47,Je=92,Ye=9,Xe=32,Ze=34,$e=61,et=35,tt=36,rt=37,nt=39,st=40,at=41,it=95,ot=45,lt=33,At=60,ct=62,dt=64,ut=91,ht=93,ft=61,mt=123,pt=63,gt=125,xt=124,bt=126,vt=128,yt=65533,wt=42,Bt=43,Nt=44,jt=58,Ct=59,kt=46,St=0,Ft=8,Et=11,_t=14,Ut=31,Qt=127,Lt=-1,It=48,Mt=97,Dt=101,Pt=102,Tt=117,Ot=122,Rt=65,Ht=69,zt=70,Kt=85,Vt=90,qt=function(e){return e>=It&&e<=57},Gt=function(e){return e>=55296&&e<=57343},Wt=function(e){return qt(e)||e>=Rt&&e<=zt||e>=Mt&&e<=Pt},Jt=function(e){return e>=Mt&&e<=Ot},Yt=function(e){return e>=Rt&&e<=Vt},Xt=function(e){return Jt(e)||Yt(e)},Zt=function(e){return e>=vt},$t=function(e){return e===Ge||e===Ye||e===Xe},er=function(e){return Xt(e)||Zt(e)||e===it},tr=function(e){return er(e)||qt(e)||e===ot},rr=function(e){return e>=St&&e<=Ft||e===Et||e>=_t&&e<=Ut||e===Qt},nr=function(e,t){return e===Je&&t!==Ge},sr=function(e,t,r){return e===ot?er(t)||nr(t,r):!!er(e)||!(e!==Je||!nr(e,t))},ar=function(e,t,r){return e===Bt||e===ot?!!qt(t)||t===kt&&qt(r):qt(e===kt?t:e)},ir=function(e){var t=0,r=1;e[t]!==Bt&&e[t]!==ot||(e[t]===ot&&(r=-1),t++);for(var n=[];qt(e[t]);)n.push(e[t++]);var s=n.length?parseInt(c.apply(void 0,n),10):0;e[t]===kt&&t++;for(var a=[];qt(e[t]);)a.push(e[t++]);var i=a.length,o=i?parseInt(c.apply(void 0,a),10):0;e[t]!==Ht&&e[t]!==Dt||t++;var l=1;e[t]!==Bt&&e[t]!==ot||(e[t]===ot&&(l=-1),t++);for(var A=[];qt(e[t]);)A.push(e[t++]);var d=A.length?parseInt(c.apply(void 0,A),10):0;return r*(s+o*Math.pow(10,-i))*Math.pow(10,l*d)},or={type:2},lr={type:3},Ar={type:4},cr={type:13},dr={type:8},ur={type:21},hr={type:9},fr={type:10},mr={type:11},pr={type:12},gr={type:14},xr={type:23},br={type:1},vr={type:25},yr={type:24},wr={type:26},Br={type:27},Nr={type:28},jr={type:29},Cr={type:31},kr={type:32},Sr=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(A(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==kr;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(tr(t)||nr(r,n)){var s=sr(t,r,n)?Ke:ze;return{type:5,value:this.consumeName(),flags:s}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),cr;break;case nt:return this.consumeStringToken(nt);case st:return or;case at:return lr;case wt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),gr;break;case Bt:if(ar(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Nt:return Ar;case ot:var a=e,i=this.peekCodePoint(0),o=this.peekCodePoint(1);if(ar(a,i,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sr(a,i,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(i===ot&&o===ct)return this.consumeCodePoint(),this.consumeCodePoint(),yr;break;case kt:if(ar(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case We:if(this.peekCodePoint(0)===wt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===wt&&(l=this.consumeCodePoint())===We)return this.consumeToken();if(l===Lt)return this.consumeToken()}break;case jt:return wr;case Ct:return Br;case At:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),vr;break;case dt:var A=this.peekCodePoint(0),d=this.peekCodePoint(1),u=this.peekCodePoint(2);if(sr(A,d,u))return{type:7,value:this.consumeName()};break;case ut:return Nr;case Je:if(nr(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return jr;case ft:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dr;break;case mt:return mr;case gt:return pr;case Tt:case Kt:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return h!==Bt||!Wt(f)&&f!==pt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case xt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),hr;if(this.peekCodePoint(0)===xt)return this.consumeCodePoint(),ur;break;case bt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fr;break;case Lt:return kr}return $t(e)?(this.consumeWhiteSpace(),Cr):qt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):er(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Wt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===pt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r)return{type:30,start:parseInt(c.apply(void 0,e.map(function(e){return e===pt?It:e})),16),end:parseInt(c.apply(void 0,e.map(function(e){return e===pt?zt:e})),16)};var n=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===ot&&Wt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];Wt(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();return{type:30,start:n,end:parseInt(c.apply(void 0,s),16)}}return{type:30,start:n,end:n}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===st?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===nt||t===Ze){var r=this.consumeStringToken(this.consumeCodePoint());return 0===r.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===at)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),xr)}for(;;){var n=this.consumeCodePoint();if(n===Lt||n===at)return{type:22,value:c.apply(void 0,e)};if($t(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),xr);if(n===Ze||n===nt||n===st||rr(n))return this.consumeBadUrlRemnants(),xr;if(n===Je){if(!nr(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),xr;e.push(this.consumeEscapedCodePoint())}else e.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===at||e===Lt)return;nr(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var n=Math.min(t,e);r+=c.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),r},e.prototype.consumeStringToken=function(e){for(var t="",r=0;;){var n=this._value[r];if(n===Lt||void 0===n||n===e)return{type:0,value:t+=this.consumeStringSlice(r)};if(n===Ge)return this._value.splice(0,r),br;if(n===Je){var s=this._value[r+1];s!==Lt&&void 0!==s&&(s===Ge?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):nr(n,s)&&(t+=this.consumeStringSlice(r),t+=c(this.consumeEscapedCodePoint()),r=-1))}r++}},e.prototype.consumeNumber=function(){var e=[],t=Ve,r=this.peekCodePoint(0);for(r!==Bt&&r!==ot||e.push(this.consumeCodePoint());qt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===kt&&qt(n))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=qe;qt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===Ht||r===Dt)&&((n===Bt||n===ot)&&qt(s)||qt(n)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=qe;qt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[ir(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],n=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);return sr(n,s,a)?{type:15,number:t,flags:r,unit:this.consumeName()}:n===rt?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Wt(e)){for(var t=c(e);Wt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return 0===r||Gt(r)||r>1114111?yt:r}return e===Lt?yt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tr(t))e+=c(t);else{if(!nr(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),Fr=function(){function e(e){this._tokens=e}return e.create=function(t){var r=new Sr;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(32===r.type||Pr(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(32===r.type||3===r.type)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?kr:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Er=function(e){return 15===e.type},_r=function(e){return 17===e.type},Ur=function(e){return 20===e.type},Qr=function(e){return 0===e.type},Lr=function(e,t){return Ur(e)&&e.value===t},Ir=function(e){return 31!==e.type},Mr=function(e){return 31!==e.type&&4!==e.type},Dr=function(e){var t=[],r=[];return e.forEach(function(e){if(4===e.type){if(0===r.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(r),void(r=[])}31!==e.type&&r.push(e)}),r.length&&t.push(r),t},Pr=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Tr=function(e){return 17===e.type||15===e.type},Or=function(e){return 16===e.type||Tr(e)},Rr=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Hr={type:17,number:0,flags:Ve},zr={type:16,number:50,flags:Ve},Kr={type:16,number:100,flags:Ve},Vr=function(e,t,r){var n=e[0],s=e[1];return[qr(n,t),qr("undefined"!==typeof s?s:n,r)]},qr=function(e,t){if(16===e.type)return e.number/100*t;if(Er(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Gr="deg",Wr="grad",Jr="rad",Yr="turn",Xr={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Gr:return Math.PI*t.number/180;case Wr:return Math.PI/200*t.number;case Jr:return t.number;case Yr:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zr=function(e){return 15===e.type&&(e.unit===Gr||e.unit===Wr||e.unit===Jr||e.unit===Yr)},$r=function(e){switch(e.filter(Ur).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Hr,Hr];case"to top":case"bottom":return en(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Hr,Kr];case"to right":case"left":return en(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Kr,Kr];case"to bottom":case"top":return en(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Kr,Hr];case"to left":case"right":return en(270)}return 0},en=function(e){return Math.PI*e/180},tn={name:"color",parse:function(e,t){if(18===t.type){var r=cn[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(5===t.type){if(3===t.value.length){var n=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return sn(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(4===t.value.length){n=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);var i=t.value.substring(3,4);return sn(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16)/255)}if(6===t.value.length)return n=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),sn(parseInt(n,16),parseInt(s,16),parseInt(a,16),1);if(8===t.value.length)return n=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),i=t.value.substring(6,8),sn(parseInt(n,16),parseInt(s,16),parseInt(a,16),parseInt(i,16)/255)}if(20===t.type){var o=un[t.value.toUpperCase()];if("undefined"!==typeof o)return o}return un.TRANSPARENT}},rn=function(e){return 0===(255&e)},nn=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},sn=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(255*n))>>>0},an=function(e,t){if(17===e.type)return e.number;if(16===e.type){var r=3===t?1:255;return 3===t?e.number/100*r:Math.round(e.number/100*r)}return 0},on=function(e,t){var r=t.filter(Mr);if(3===r.length){var n=r.map(an),s=n[0],a=n[1],i=n[2];return sn(s,a,i,1)}if(4===r.length){var o=r.map(an),l=(s=o[0],a=o[1],i=o[2],o[3]);return sn(s,a,i,l)}return 0};function ln(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<.5?t:r<2/3?6*(t-e)*(2/3-r)+e:e}var An=function(e,t){var r=t.filter(Mr),n=r[0],s=r[1],a=r[2],i=r[3],o=(17===n.type?en(n.number):Xr.parse(e,n))/(2*Math.PI),l=Or(s)?s.number/100:0,A=Or(a)?a.number/100:0,c="undefined"!==typeof i&&Or(i)?qr(i,1):1;if(0===l)return sn(255*A,255*A,255*A,1);var d=A<=.5?A*(l+1):A+l-A*l,u=2*A-d,h=ln(u,d,o+1/3),f=ln(u,d,o),m=ln(u,d,o-1/3);return sn(255*h,255*f,255*m,c)},cn={hsl:An,hsla:An,rgb:on,rgba:on},dn=function(e,t){return tn.parse(e,Fr.create(t).parseComponentValue())},un={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hn={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Ur(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fn={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mn=function(e,t){var r=tn.parse(e,t[0]),n=t[1];return n&&Or(n)?{color:r,stop:n}:{color:r,stop:null}},pn=function(e,t){var r=e[0],n=e[e.length-1];null===r.stop&&(r.stop=Hr),null===n.stop&&(n.stop=Kr);for(var s=[],a=0,i=0;i<e.length;i++){var o=e[i].stop;if(null!==o){var l=qr(o,t);l>a?s.push(l):s.push(a),a=l}else s.push(null)}var A=null;for(i=0;i<s.length;i++){var c=s[i];if(null===c)null===A&&(A=i);else if(null!==A){for(var d=i-A,u=(c-s[A-1])/(d+1),h=1;h<=d;h++)s[A+h-1]=u*h;A=null}}return e.map(function(e,r){return{color:e.color,stop:Math.max(Math.min(1,s[r]/t),0)}})},gn=function(e,t,r){var n=t/2,s=r/2,a=qr(e[0],t)-n,i=s-qr(e[1],r);return(Math.atan2(i,a)+2*Math.PI)%(2*Math.PI)},xn=function(e,t,r){var n="number"===typeof e?e:gn(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),a=t/2,i=r/2,o=s/2,l=Math.sin(n-Math.PI/2)*o,A=Math.cos(n-Math.PI/2)*o;return[s,a-A,a+A,i-l,i+l]},bn=function(e,t){return Math.sqrt(e*e+t*t)},vn=function(e,t,r,n,s){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var a=t[0],i=t[1],o=bn(r-a,n-i);return(s?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},yn=function(e,t,r,n,s){var a=0,i=0;switch(e.size){case 0:0===e.shape?a=i=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):1===e.shape&&(a=Math.min(Math.abs(t),Math.abs(t-n)),i=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(0===e.shape)a=i=Math.min(bn(t,r),bn(t,r-s),bn(t-n,r),bn(t-n,r-s));else if(1===e.shape){var o=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),l=vn(n,s,t,r,!0),A=l[0],c=l[1];i=o*(a=bn(A-t,(c-r)/o))}break;case 1:0===e.shape?a=i=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):1===e.shape&&(a=Math.max(Math.abs(t),Math.abs(t-n)),i=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(0===e.shape)a=i=Math.max(bn(t,r),bn(t,r-s),bn(t-n,r),bn(t-n,r-s));else if(1===e.shape){o=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n));var d=vn(n,s,t,r,!1);A=d[0],c=d[1],i=o*(a=bn(A-t,(c-r)/o))}}return Array.isArray(e.size)&&(a=qr(e.size[0],n),i=2===e.size.length?qr(e.size[1],s):a),[a,i]},wn=function(e,t){var r=en(180),n=[];return Dr(t).forEach(function(t,s){if(0===s){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(r=$r(t));if(Zr(a))return void(r=(Xr.parse(e,a)+en(270))%en(360))}var i=mn(e,t);n.push(i)}),{angle:r,stops:n,type:1}},Bn="closest-side",Nn="farthest-side",jn="closest-corner",Cn="farthest-corner",kn="circle",Sn="ellipse",Fn="cover",En="contain",_n=function(e,t){var r=0,n=3,s=[],a=[];return Dr(t).forEach(function(t,i){var o=!0;if(0===i?o=t.reduce(function(e,t){if(Ur(t))switch(t.value){case"center":return a.push(zr),!1;case"top":case"left":return a.push(Hr),!1;case"right":case"bottom":return a.push(Kr),!1}else if(Or(t)||Tr(t))return a.push(t),!1;return e},o):1===i&&(o=t.reduce(function(e,t){if(Ur(t))switch(t.value){case kn:return r=0,!1;case Sn:return r=1,!1;case En:case Bn:return n=0,!1;case Nn:return n=1,!1;case jn:return n=2,!1;case Fn:case Cn:return n=3,!1}else if(Tr(t)||Or(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return e},o)),o){var l=mn(e,t);s.push(l)}}),{size:n,shape:r,stops:s,position:a,type:2}},Un=function(e){return 1===e.type},Qn=function(e){return 2===e.type},Ln={name:"image",parse:function(e,t){if(22===t.type){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(18===t.type){var n=Dn[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function In(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Dn[e.name])}var Mn,Dn={"linear-gradient":function(e,t){var r=en(180),n=[];return Dr(t).forEach(function(t,s){if(0===s){var a=t[0];if(20===a.type&&"to"===a.value)return void(r=$r(t));if(Zr(a))return void(r=Xr.parse(e,a))}var i=mn(e,t);n.push(i)}),{angle:r,stops:n,type:1}},"-moz-linear-gradient":wn,"-ms-linear-gradient":wn,"-o-linear-gradient":wn,"-webkit-linear-gradient":wn,"radial-gradient":function(e,t){var r=0,n=3,s=[],a=[];return Dr(t).forEach(function(t,i){var o=!0;if(0===i){var l=!1;o=t.reduce(function(e,t){if(l)if(Ur(t))switch(t.value){case"center":return a.push(zr),e;case"top":case"left":return a.push(Hr),e;case"right":case"bottom":return a.push(Kr),e}else(Or(t)||Tr(t))&&a.push(t);else if(Ur(t))switch(t.value){case kn:return r=0,!1;case Sn:return r=1,!1;case"at":return l=!0,!1;case Bn:return n=0,!1;case Fn:case Nn:return n=1,!1;case En:case jn:return n=2,!1;case Cn:return n=3,!1}else if(Tr(t)||Or(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return e},o)}if(o){var A=mn(e,t);s.push(A)}}),{size:n,shape:r,stops:s,position:a,type:2}},"-moz-radial-gradient":_n,"-ms-radial-gradient":_n,"-o-radial-gradient":_n,"-webkit-radial-gradient":_n,"-webkit-gradient":function(e,t){var r=en(180),n=[],s=1,a=0,i=3,o=[];return Dr(t).forEach(function(t,r){var a=t[0];if(0===r){if(Ur(a)&&"linear"===a.value)return void(s=1);if(Ur(a)&&"radial"===a.value)return void(s=2)}if(18===a.type)if("from"===a.name){var i=tn.parse(e,a.values[0]);n.push({stop:Hr,color:i})}else if("to"===a.name)i=tn.parse(e,a.values[0]),n.push({stop:Kr,color:i});else if("color-stop"===a.name){var o=a.values.filter(Mr);if(2===o.length){i=tn.parse(e,o[1]);var l=o[0];_r(l)&&n.push({stop:{type:16,number:100*l.number,flags:l.flags},color:i})}}}),1===s?{angle:(r+en(180))%en(360),stops:n,type:s}:{size:i,shape:a,stops:n,position:o,type:s}}},Pn={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var r=t[0];return 20===r.type&&"none"===r.value?[]:t.filter(function(e){return Mr(e)&&In(e)}).map(function(t){return Ln.parse(e,t)})}},Tn={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Ur(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},On={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Dr(t).map(function(e){return e.filter(Or)}).map(Rr)}},Rn={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Dr(t).map(function(e){return e.filter(Ur).map(function(e){return e.value}).join(" ")}).map(Hn)}},Hn=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Mn||(Mn={}));var zn,Kn={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Dr(t).map(function(e){return e.filter(Vn)})}},Vn=function(e){return Ur(e)||Or(e)},qn=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Gn=qn("top"),Wn=qn("right"),Jn=qn("bottom"),Yn=qn("left"),Xn=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Rr(t.filter(Or))}}},Zn=Xn("top-left"),$n=Xn("top-right"),es=Xn("bottom-right"),ts=Xn("bottom-left"),rs=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ns=rs("top"),ss=rs("right"),as=rs("bottom"),is=rs("left"),os=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Er(t)?t.number:0}}},ls=os("top"),As=os("right"),cs=os("bottom"),ds=os("left"),us={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hs={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fs={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Ur).reduce(function(e,t){return e|ms(t.value)},0)}},ms=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ps={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gs={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(zn||(zn={}));var xs,bs={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?zn.STRICT:zn.NORMAL}},vs={name:"line-height",initialValue:"normal",prefix:!1,type:4},ys=function(e,t){return Ur(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Or(e)?qr(e,t):t},ws={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Ln.parse(e,t)}},Bs={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ns={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},js=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Cs=js("top"),ks=js("right"),Ss=js("bottom"),Fs=js("left"),Es={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Ur).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},_s={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Us=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Qs=Us("top"),Ls=Us("right"),Is=Us("bottom"),Ms=Us("left"),Ds={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ps={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ts={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Lr(t[0],"none")?[]:Dr(t).map(function(t){for(var r={color:un.TRANSPARENT,offsetX:Hr,offsetY:Hr,blur:Hr},n=0,s=0;s<t.length;s++){var a=t[s];Tr(a)?(0===n?r.offsetX=a:1===n?r.offsetY=a:r.blur=a,n++):r.color=tn.parse(e,a)}return r})}},Os={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Rs={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var r=Hs[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},Hs={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],16===t.length?[r,n,s,a,i,o]:null}},zs={type:16,number:50,flags:Ve},Ks=[zs,zs],Vs={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Or);return 2!==r.length?Ks:[r[0],r[1]]}},qs={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(xs||(xs={}));for(var Gs={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return xs.BREAK_ALL;case"keep-all":return xs.KEEP_ALL;default:return xs.NORMAL}}},Ws={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(_r(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Js={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Ys={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return _r(t)?t.number:1}},Xs={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zs={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Ur).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},$s={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(e){switch(e.type){case 20:case 0:r.push(e.value);break;case 17:r.push(e.number.toString());break;case 4:n.push(r.join(" ")),r.length=0}}),r.length&&n.push(r.join(" ")),n.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},ea={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ta={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return _r(t)?t.number:Ur(t)&&"bold"===t.value?700:400}},ra={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Ur).map(function(e){return e.value})}},na={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},sa=function(e,t){return 0!==(e&t)},aa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var r=t[0];return 20===r.type&&"none"===r.value?[]:t}},ia={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var r=t[0];if(20===r.type&&"none"===r.value)return null;for(var n=[],s=t.filter(Ir),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(20===i.type){var l=o&&_r(o)?o.number:1;n.push({counter:i.value,increment:l})}}return n}},oa={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var r=[],n=t.filter(Ir),s=0;s<n.length;s++){var a=n[s],i=n[s+1];if(Ur(a)&&"none"!==a.value){var o=i&&_r(i)?i.number:0;r.push({counter:a.value,reset:o})}}return r}},la={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Er).map(function(t){return Js.parse(e,t)})}},Aa={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var r=t[0];if(20===r.type&&"none"===r.value)return null;var n=[],s=t.filter(Qr);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var i=s[a].value,o=s[a+1].value;n.push({open:i,close:o})}return n}},ca=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},da={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Lr(t[0],"none")?[]:Dr(t).map(function(t){for(var r={color:255,offsetX:Hr,offsetY:Hr,blur:Hr,spread:Hr,inset:!1},n=0,s=0;s<t.length;s++){var a=t[s];Lr(a,"inset")?r.inset=!0:Tr(a)?(0===n?r.offsetX=a:1===n?r.offsetY=a:2===n?r.blur=a:r.spread=a,n++):r.color=tn.parse(e,a)}return r})}},ua={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Ur).forEach(function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}}),r.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n}},ha={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fa={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Er(t)?t.number:0}},ma=function(){function e(e,t){var r,n;this.animationDuration=xa(e,la,t.animationDuration),this.backgroundClip=xa(e,hn,t.backgroundClip),this.backgroundColor=xa(e,fn,t.backgroundColor),this.backgroundImage=xa(e,Pn,t.backgroundImage),this.backgroundOrigin=xa(e,Tn,t.backgroundOrigin),this.backgroundPosition=xa(e,On,t.backgroundPosition),this.backgroundRepeat=xa(e,Rn,t.backgroundRepeat),this.backgroundSize=xa(e,Kn,t.backgroundSize),this.borderTopColor=xa(e,Gn,t.borderTopColor),this.borderRightColor=xa(e,Wn,t.borderRightColor),this.borderBottomColor=xa(e,Jn,t.borderBottomColor),this.borderLeftColor=xa(e,Yn,t.borderLeftColor),this.borderTopLeftRadius=xa(e,Zn,t.borderTopLeftRadius),this.borderTopRightRadius=xa(e,$n,t.borderTopRightRadius),this.borderBottomRightRadius=xa(e,es,t.borderBottomRightRadius),this.borderBottomLeftRadius=xa(e,ts,t.borderBottomLeftRadius),this.borderTopStyle=xa(e,ns,t.borderTopStyle),this.borderRightStyle=xa(e,ss,t.borderRightStyle),this.borderBottomStyle=xa(e,as,t.borderBottomStyle),this.borderLeftStyle=xa(e,is,t.borderLeftStyle),this.borderTopWidth=xa(e,ls,t.borderTopWidth),this.borderRightWidth=xa(e,As,t.borderRightWidth),this.borderBottomWidth=xa(e,cs,t.borderBottomWidth),this.borderLeftWidth=xa(e,ds,t.borderLeftWidth),this.boxShadow=xa(e,da,t.boxShadow),this.color=xa(e,us,t.color),this.direction=xa(e,hs,t.direction),this.display=xa(e,fs,t.display),this.float=xa(e,ps,t.cssFloat),this.fontFamily=xa(e,$s,t.fontFamily),this.fontSize=xa(e,ea,t.fontSize),this.fontStyle=xa(e,na,t.fontStyle),this.fontVariant=xa(e,ra,t.fontVariant),this.fontWeight=xa(e,ta,t.fontWeight),this.letterSpacing=xa(e,gs,t.letterSpacing),this.lineBreak=xa(e,bs,t.lineBreak),this.lineHeight=xa(e,vs,t.lineHeight),this.listStyleImage=xa(e,ws,t.listStyleImage),this.listStylePosition=xa(e,Bs,t.listStylePosition),this.listStyleType=xa(e,Ns,t.listStyleType),this.marginTop=xa(e,Cs,t.marginTop),this.marginRight=xa(e,ks,t.marginRight),this.marginBottom=xa(e,Ss,t.marginBottom),this.marginLeft=xa(e,Fs,t.marginLeft),this.opacity=xa(e,Ys,t.opacity);var s=xa(e,Es,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=xa(e,_s,t.overflowWrap),this.paddingTop=xa(e,Qs,t.paddingTop),this.paddingRight=xa(e,Ls,t.paddingRight),this.paddingBottom=xa(e,Is,t.paddingBottom),this.paddingLeft=xa(e,Ms,t.paddingLeft),this.paintOrder=xa(e,ua,t.paintOrder),this.position=xa(e,Ps,t.position),this.textAlign=xa(e,Ds,t.textAlign),this.textDecorationColor=xa(e,Xs,null!==(r=t.textDecorationColor)&&void 0!==r?r:t.color),this.textDecorationLine=xa(e,Zs,null!==(n=t.textDecorationLine)&&void 0!==n?n:t.textDecoration),this.textShadow=xa(e,Ts,t.textShadow),this.textTransform=xa(e,Os,t.textTransform),this.transform=xa(e,Rs,t.transform),this.transformOrigin=xa(e,Vs,t.transformOrigin),this.visibility=xa(e,qs,t.visibility),this.webkitTextStrokeColor=xa(e,ha,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=xa(e,fa,t.webkitTextStrokeWidth),this.wordBreak=xa(e,Gs,t.wordBreak),this.zIndex=xa(e,Ws,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rn(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return sa(this.display,4)||sa(this.display,33554432)||sa(this.display,268435456)||sa(this.display,536870912)||sa(this.display,67108864)||sa(this.display,134217728)},e}(),pa=function(){function e(e,t){this.content=xa(e,aa,t.content),this.quotes=xa(e,Aa,t.quotes)}return e}(),ga=function(){function e(e,t){this.counterIncrement=xa(e,ia,t.counterIncrement),this.counterReset=xa(e,oa,t.counterReset)}return e}(),xa=function(e,t,r){var n=new Sr,s=null!==r&&"undefined"!==typeof r?r.toString():t.initialValue;n.write(s);var a=new Fr(n.read());switch(t.type){case 2:var i=a.parseComponentValue();return t.parse(e,Ur(i)?i.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Xr.parse(e,a.parseComponentValue());case"color":return tn.parse(e,a.parseComponentValue());case"image":return Ln.parse(e,a.parseComponentValue());case"length":var o=a.parseComponentValue();return Tr(o)?o:Hr;case"length-percentage":var l=a.parseComponentValue();return Or(l)?l:Hr;case"time":return Js.parse(e,a.parseComponentValue())}}},ba="data-html2canvas-debug",va=function(e){switch(e.getAttribute(ba)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ya=function(e,t){var r=va(e);return 1===r||t===r},wa=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ya(t,3),this.styles=new ma(e,window.getComputedStyle(t,null)),Ao(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),ya(t,4)&&(this.flags|=16)}return e}(),Ba="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ja="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ca=0;Ca<Na.length;Ca++)ja[Na.charCodeAt(Ca)]=Ca;for(var ka=function(e){var t,r,n,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<o;t+=4)r=ja[e.charCodeAt(t)],n=ja[e.charCodeAt(t+1)],s=ja[e.charCodeAt(t+2)],a=ja[e.charCodeAt(t+3)],c[l++]=r<<2|n>>4,c[l++]=(15&n)<<4|s>>2,c[l++]=(3&s)<<6|63&a;return A},Sa=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},Fa=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Ea=5,_a=11,Ua=2,Qa=65536>>Ea,La=(1<<Ea)-1,Ia=Qa+(1024>>Ea)+32,Ma=65536>>_a,Da=(1<<_a-Ea)-1,Pa=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},Ta=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},Oa=function(e,t){var r=ka(e),n=Array.isArray(r)?Fa(r):new Uint32Array(r),s=Array.isArray(r)?Sa(r):new Uint16Array(r),a=24,i=Pa(s,a/2,n[4]/2),o=2===n[5]?Pa(s,(a+n[4])/2):Ta(n,Math.ceil((a+n[4])/4));return new Ra(n[0],n[1],n[2],n[3],i,o)},Ra=function(){function e(e,t,r,n,s,a){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=s,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Ea])<<Ua)+(e&La),this.data[t];if(e<=65535)return t=((t=this.index[Qa+(e-55296>>Ea)])<<Ua)+(e&La),this.data[t];if(e<this.highStart)return t=Ia-Ma+(e>>_a),t=this.index[t],t+=e>>Ea&Da,t=((t=this.index[t])<<Ua)+(e&La),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ha="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",za="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ka=0;Ka<Ha.length;Ka++)za[Ha.charCodeAt(Ka)]=Ka;var Va,qa=1,Ga=2,Wa=3,Ja=4,Ya=5,Xa=7,Za=8,$a=9,ei=10,ti=11,ri=12,ni=13,si=14,ai=15,ii=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=e.charCodeAt(r++);56320===(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),r--)}else t.push(s)}return t},oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var i=e[s];i<=65535?n.push(i):(i-=65536,n.push(55296+(i>>10),i%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},li=Oa(Ba),Ai="\xd7",ci="\xf7",di=function(e){return li.get(e)},ui=function(e,t,r){var n=r-2,s=t[n],a=t[r-1],i=t[r];if(a===Ga&&i===Wa)return Ai;if(a===Ga||a===Wa||a===Ja)return ci;if(i===Ga||i===Wa||i===Ja)return ci;if(a===Za&&-1!==[Za,$a,ti,ri].indexOf(i))return Ai;if((a===ti||a===$a)&&(i===$a||i===ei))return Ai;if((a===ri||a===ei)&&i===ei)return Ai;if(i===ni||i===Ya)return Ai;if(i===Xa)return Ai;if(a===qa)return Ai;if(a===ni&&i===si){for(;s===Ya;)s=t[--n];if(s===si)return Ai}if(a===ai&&i===ai){for(var o=0;s===ai;)o++,s=t[--n];if(o%2===0)return Ai}return ci},hi=function(e){var t=ii(e),r=t.length,n=0,s=0,a=t.map(di);return{next:function(){if(n>=r)return{done:!0,value:null};for(var e=Ai;n<r&&(e=ui(t,a,++n))===Ai;);if(e!==Ai||n===r){var i=oi.apply(null,t.slice(s,n));return s=n,{value:i,done:!1}}return{done:!0,value:null}}}},fi=function(e){for(var t,r=hi(e),n=[];!(t=r.next()).done;)t.value&&n.push(t.value.slice());return n},mi=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(n),a===t)return!0}}return!1},pi=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var n=t.firstChild,s=A(n.data).map(function(e){return c(e)}),a=0,i={},o=s.every(function(e,t){r.setStart(n,a),r.setEnd(n,a+e.length);var s=r.getBoundingClientRect();a+=e.length;var o=s.x>i.x||s.y>i.y;return i=s,0===t||o});return e.body.removeChild(t),o},gi=function(){return"undefined"!==typeof(new Image).crossOrigin},xi=function(){return"string"===typeof(new XMLHttpRequest).responseType},bi=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch(Dt){return!1}return!0},vi=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},yi=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,a=t.toDataURL();s.src=a;var i=wi(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),Bi(i).then(function(t){n.drawImage(t,0,0);var s=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var i=e.createElement("div");return i.style.backgroundImage="url("+a+")",i.style.height=r+"px",vi(s)?Bi(wi(r,r,0,0,i)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),vi(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},wi=function(e,t,r,n,s){var a="http://www.w3.org/2000/svg",i=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(s),i},Bi=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},Ni={get SUPPORT_RANGE_BOUNDS(){var e=mi(document);return Object.defineProperty(Ni,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ni.SUPPORT_RANGE_BOUNDS&&pi(document);return Object.defineProperty(Ni,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=bi(document);return Object.defineProperty(Ni,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?yi(document):Promise.resolve(!1);return Object.defineProperty(Ni,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=gi();return Object.defineProperty(Ni,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=xi();return Object.defineProperty(Ni,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ni,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ni,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},ji=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Ci=function(e,t,r,n){var s=_i(t,r),a=[],o=0;return s.forEach(function(t){if(r.textDecorationLine.length||t.trim().length>0)if(Ni.SUPPORT_RANGE_BOUNDS){var s=Si(n,o,t.length).getClientRects();if(s.length>1){var l=Fi(t),A=0;l.forEach(function(t){a.push(new ji(t,i.fromDOMRectList(e,Si(n,A+o,t.length).getClientRects()))),A+=t.length})}else a.push(new ji(t,i.fromDOMRectList(e,s)))}else{var c=n.splitText(t.length);a.push(new ji(t,ki(e,n))),n=c}else Ni.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));o+=t.length}),a},ki=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var a=o(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),a}}return i.EMPTY},Si=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},Fi=function(e){if(Ni.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return fi(e)},Ei=function(e,t){if(Ni.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(e){return e.segment})}return Qi(e,t)},_i=function(e,t){return 0!==t.letterSpacing?Fi(e):Ei(e,t)},Ui=[32,160,4961,65792,65793,4153,4241],Qi=function(e,t){for(var r,n=He(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),s=[],a=function(){if(r.value){var e=r.value.slice(),t=A(e),n="";t.forEach(function(e){-1===Ui.indexOf(e)?n+=c(e):(n.length&&s.push(n),s.push(c(e)),n="")}),n.length&&s.push(n)}};!(r=n.next()).done;)a();return s},Li=function(){function e(e,t,r){this.text=Ii(t.data,r.textTransform),this.textBounds=Ci(e,this.text,r,t)}return e}(),Ii=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Mi,Di);case 2:return e.toUpperCase();default:return e}},Mi=/(^|\s|:|-|\(|\))([a-z])/g,Di=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Pi=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return t(r,e),r}(wa),Ti=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return t(r,e),r}(wa),Oi=function(e){function r(t,r){var n=e.call(this,t,r)||this,s=new XMLSerializer,a=o(t,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t(r,e),r}(wa),Ri=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return t(r,e),r}(wa),Hi=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.start=r.start,n.reversed="boolean"===typeof r.reversed&&!0===r.reversed,n}return t(r,e),r}(wa),zi=[{type:15,flags:0,unit:"px",number:3}],Ki=[{type:16,flags:0,number:50}],Vi=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},qi=function(e){var t=e.type===Ji?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Gi="checkbox",Wi="radio",Ji="password",Yi=707406591,Xi=function(e){function r(t,r){var n=e.call(this,t,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=qi(r),n.type!==Gi&&n.type!==Wi||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=Vi(n.bounds)),n.type){case Gi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=zi;break;case Wi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Ki}return n}return t(r,e),r}(wa),Zi=function(e){function r(t,r){var n=e.call(this,t,r)||this,s=r.options[r.selectedIndex||0];return n.value=s&&s.text||"",n}return t(r,e),r}(wa),$i=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return t(r,e),r}(wa),eo=function(e){function r(t,r){var n=e.call(this,t,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=so(t,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?dn(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):un.TRANSPARENT,a=r.contentWindow.document.body?dn(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):un.TRANSPARENT;n.backgroundColor=rn(s)?rn(a)?n.styles.backgroundColor:a:s}}catch(Dt){}return n}return t(r,e),r}(wa),to=["OL","UL","MENU"],ro=function(e,t,r,n){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,oo(s)&&s.data.trim().length>0)r.textNodes.push(new Li(e,s,r.styles));else if(lo(s))if(Co(s)&&s.assignedNodes)s.assignedNodes().forEach(function(t){return ro(e,t,r,n)});else{var i=no(e,s);i.styles.isVisible()&&(ao(s,i,n)?i.flags|=4:io(i.styles)&&(i.flags|=2),-1!==to.indexOf(s.tagName)&&(i.flags|=8),r.elements.push(i),s.slot,s.shadowRoot?ro(e,s.shadowRoot,i,n):No(s)||po(s)||jo(s)||ro(e,s,i,n))}},no=function(e,t){return vo(t)?new Pi(e,t):xo(t)?new Ti(e,t):po(t)?new Oi(e,t):uo(t)?new Ri(e,t):ho(t)?new Hi(e,t):fo(t)?new Xi(e,t):jo(t)?new Zi(e,t):No(t)?new $i(e,t):yo(t)?new eo(e,t):new wa(e,t)},so=function(e,t){var r=no(e,t);return r.flags|=4,ro(e,t,r,r),r},ao=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||go(e)&&r.styles.isTransparent()},io=function(e){return e.isPositioned()||e.isFloating()},oo=function(e){return e.nodeType===Node.TEXT_NODE},lo=function(e){return e.nodeType===Node.ELEMENT_NODE},Ao=function(e){return lo(e)&&"undefined"!==typeof e.style&&!co(e)},co=function(e){return"object"===typeof e.className},uo=function(e){return"LI"===e.tagName},ho=function(e){return"OL"===e.tagName},fo=function(e){return"INPUT"===e.tagName},mo=function(e){return"HTML"===e.tagName},po=function(e){return"svg"===e.tagName},go=function(e){return"BODY"===e.tagName},xo=function(e){return"CANVAS"===e.tagName},bo=function(e){return"VIDEO"===e.tagName},vo=function(e){return"IMG"===e.tagName},yo=function(e){return"IFRAME"===e.tagName},wo=function(e){return"STYLE"===e.tagName},Bo=function(e){return"SCRIPT"===e.tagName},No=function(e){return"TEXTAREA"===e.tagName},jo=function(e){return"SELECT"===e.tagName},Co=function(e){return"SLOT"===e.tagName},ko=function(e){return e.tagName.indexOf("-")>0},So=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,r=e.counterIncrement,n=e.counterReset,s=!0;null!==r&&r.forEach(function(e){var r=t.counters[e.counter];r&&0!==e.increment&&(s=!1,r.length||r.push(1),r[Math.max(0,r.length-1)]+=e.increment)});var a=[];return s&&n.forEach(function(e){var r=t.counters[e.counter];a.push(e.counter),r||(r=t.counters[e.counter]=[]),r.push(e.reset)}),a},e}(),Fo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Eo={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},_o={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Uo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Qo=function(e,t,r,n,s,a){return e<t||e>r?qo(e,s,a.length>0):n.integers.reduce(function(t,r,s){for(;e>=r;)e-=r,t+=n.values[s];return t},"")+a},Lo=function(e,t,r,n){var s="";do{r||e--,s=n(e)+s,e/=t}while(e*t>=t);return s},Io=function(e,t,r,n,s){var a=r-t+1;return(e<0?"-":"")+(Lo(Math.abs(e),a,n,function(e){return c(Math.floor(e%a)+t)})+s)},Mo=function(e,t,r){void 0===r&&(r=". ");var n=t.length;return Lo(Math.abs(e),n,!1,function(e){return t[Math.floor(e%n)]})+r},Do=1,Po=2,To=4,Oo=8,Ro=function(e,t,r,n,s,a){if(e<-9999||e>9999)return qo(e,4,s.length>0);var i=Math.abs(e),o=s;if(0===i)return t[0]+o;for(var l=0;i>0&&l<=4;l++){var A=i%10;0===A&&sa(a,Do)&&""!==o?o=t[A]+o:A>1||1===A&&0===l||1===A&&1===l&&sa(a,Po)||1===A&&1===l&&sa(a,To)&&e>100||1===A&&l>1&&sa(a,Oo)?o=t[A]+(l>0?r[l-1]:"")+o:1===A&&l>0&&(o=r[l-1]+o),i=Math.floor(i/10)}return(e<0?n:"")+o},Ho="\u5341\u767e\u5343\u842c",zo="\u62fe\u4f70\u4edf\u842c",Ko="\u30de\u30a4\u30ca\u30b9",Vo="\ub9c8\uc774\ub108\uc2a4",qo=function(e,t,r){var n=r?". ":"",s=r?"\u3001":"",a=r?", ":"",i=r?" ":"";switch(t){case 0:return"\u2022"+i;case 1:return"\u25e6"+i;case 2:return"\u25fe"+i;case 5:var o=Io(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Mo(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",s);case 6:return Qo(e,1,3999,Fo,3,n).toLowerCase();case 7:return Qo(e,1,3999,Fo,3,n);case 8:return Io(e,945,969,!1,n);case 9:return Io(e,97,122,!1,n);case 10:return Io(e,65,90,!1,n);case 11:return Io(e,1632,1641,!0,n);case 12:case 49:return Qo(e,1,9999,Eo,3,n);case 35:return Qo(e,1,9999,Eo,3,n).toLowerCase();case 13:return Io(e,2534,2543,!0,n);case 14:case 30:return Io(e,6112,6121,!0,n);case 15:return Mo(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",s);case 16:return Mo(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",s);case 17:case 48:return Ro(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ho,"\u8ca0",s,Po|To|Oo);case 47:return Ro(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",zo,"\u8ca0",s,Do|Po|To|Oo);case 42:return Ro(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ho,"\u8d1f",s,Po|To|Oo);case 41:return Ro(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",zo,"\u8d1f",s,Do|Po|To|Oo);case 26:return Ro(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ko,s,0);case 25:return Ro(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ko,s,Do|Po|To);case 31:return Ro(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Vo,a,Do|Po|To);case 33:return Ro(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Vo,a,0);case 32:return Ro(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Vo,a,Do|Po|To);case 18:return Io(e,2406,2415,!0,n);case 20:return Qo(e,1,19999,Uo,3,n);case 21:return Io(e,2790,2799,!0,n);case 22:return Io(e,2662,2671,!0,n);case 22:return Qo(e,1,10999,_o,3,n);case 23:return Mo(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Mo(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Io(e,3302,3311,!0,n);case 28:return Mo(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",s);case 29:return Mo(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",s);case 34:return Io(e,3792,3801,!0,n);case 37:return Io(e,6160,6169,!0,n);case 38:return Io(e,4160,4169,!0,n);case 39:return Io(e,2918,2927,!0,n);case 40:return Io(e,1776,1785,!0,n);case 43:return Io(e,3046,3055,!0,n);case 44:return Io(e,3174,3183,!0,n);case 45:return Io(e,3664,3673,!0,n);case 46:return Io(e,3872,3881,!0,n);default:return Io(e,48,57,!0,n)}},Go="data-html2canvas-ignore",Wo=function(){function e(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new So,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var r=this,a=Yo(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,A=l.document,c=$o(a).then(function(){return n(r,void 0,void 0,function(){var e,r;return s(this,function(n){switch(n.label){case 0:return this.scrolledElements.forEach(sl),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(r=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zo(A)]:[3,4];case 3:n.sent(),n.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(A,r)}).then(function(){return a})]:[2,a]}})})});return A.open(),A.write(rl(document.doctype)+"<html></html>"),nl(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(e){if(ya(e,2),xo(e))return this.createCanvasClone(e);if(bo(e))return this.createVideoClone(e);if(wo(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return vo(t)&&(vo(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),ko(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),n=e.cloneNode(!1);return n.textContent=r,n}}catch(Dt){if(this.context.logger.error("Unable to access cssRules property",Dt),"SecurityError"!==Dt.name)throw Dt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch(Dt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var s=e.getContext("2d"),a=n.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var i=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(i){var o=i.getContextAttributes();!1===(null===o||void 0===o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return n}catch(Dt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return n},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch(Dt){this.context.logger.info("Unable to clone video as it is tainted",e)}var n=e.ownerDocument.createElement("canvas");return n.width=e.offsetWidth,n.height=e.offsetHeight,n},e.prototype.appendChildNode=function(e,t,r){lo(t)&&(Bo(t)||t.hasAttribute(Go)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&lo(t)&&wo(t)||e.appendChild(this.cloneNode(t,r))},e.prototype.cloneChildNodes=function(e,t,r){for(var n=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(lo(s)&&Co(s)&&"function"===typeof s.assignedNodes){var a=s.assignedNodes();a.length&&a.forEach(function(e){return n.appendChildNode(t,e,r)})}else this.appendChildNode(t,s,r)},e.prototype.cloneNode=function(e,t){if(oo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&lo(e)&&(Ao(e)||co(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),i=r.getComputedStyle(e,":after");this.referenceElement===e&&Ao(n)&&(this.clonedReferenceElement=n),go(n)&&cl(n);var o=this.counters.parse(new ga(this.context,s)),l=this.resolvePseudoContent(e,n,a,Va.BEFORE);ko(e)&&(t=!0),bo(e)||this.cloneChildNodes(e,n,t),l&&n.insertBefore(l,n.firstChild);var A=this.resolvePseudoContent(e,n,i,Va.AFTER);return A&&n.appendChild(A),this.counters.pop(o),(s&&(this.options.copyStyles||co(e))&&!yo(e)||t)&&tl(s,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(No(e)||jo(e))&&(No(n)||jo(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,r,n){var s=this;if(r){var a=r.content,i=t.ownerDocument;if(i&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==r.display){this.counters.parse(new ga(this.context,r));var o=new pa(this.context,r),l=i.createElement("html2canvaspseudoelement");tl(r,l),o.content.forEach(function(t){if(0===t.type)l.appendChild(i.createTextNode(t.value));else if(22===t.type){var r=i.createElement("img");r.src=t.value,r.style.opacity="1",l.appendChild(r)}else if(18===t.type){if("attr"===t.name){var n=t.values.filter(Ur);n.length&&l.appendChild(i.createTextNode(e.getAttribute(n[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(Mr),A=a[0],c=a[1];if(A&&Ur(A)){var d=s.counters.getCounterValue(A.value),u=c&&Ur(c)?Ns.parse(s.context,c.value):3;l.appendChild(i.createTextNode(qo(d,u,!1)))}}else if("counters"===t.name){var h=t.values.filter(Mr),f=(A=h[0],h[1]);if(c=h[2],A&&Ur(A)){var m=s.counters.getCounterValues(A.value),p=c&&Ur(c)?Ns.parse(s.context,c.value):3,g=f&&0===f.type?f.value:"",x=m.map(function(e){return qo(e,p,!1)}).join(g);l.appendChild(i.createTextNode(x))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(i.createTextNode(ca(o.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(i.createTextNode(ca(o.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(i.createTextNode(t.value))}}),l.className=ol+" "+ll;var A=n===Va.BEFORE?" "+ol:" "+ll;return co(t)?t.className.baseValue+=A:t.className+=A,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Va||(Va={}));var Jo,Yo=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(Go,"true"),e.body.appendChild(r),r},Xo=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Zo=function(e){return Promise.all([].slice.call(e.images,0).map(Xo))},$o=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var r=setInterval(function(){s.body.childNodes.length>0&&"complete"===s.readyState&&(clearInterval(r),t(e))},50)}})},el=["all","d","content"],tl=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);-1===el.indexOf(n)&&t.style.setProperty(n,e.getPropertyValue(n))}return t},rl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},nl=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},sl=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},al=":before",il=":after",ol="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",Al='{\n    content: "" !important;\n    display: none !important;\n}',cl=function(e){dl(e,"."+ol+al+Al+"\n         ."+ll+il+Al)},dl=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},ul=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),hl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:vl(e)||gl(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return n(this,void 0,void 0,function(){var t,r,n,a,i=this;return s(this,function(s){switch(s.label){case 0:return t=ul.isSameOrigin(e),r=!xl(e)&&!0===this._options.useCORS&&Ni.SUPPORT_CORS_IMAGES&&!t,n=!xl(e)&&!t&&!vl(e)&&"string"===typeof this._options.proxy&&Ni.SUPPORT_CORS_XHR&&!r,t||!1!==this._options.allowTaint||xl(e)||vl(e)||n||r?(a=e,n?[4,this.proxy(a)]:[3,2]):[2];case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,(bl(a)||r)&&(n.crossOrigin="anonymous"),n.src=a,!0===n.complete&&setTimeout(function(){return e(n)},500),i._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var n=e.substring(0,256);return new Promise(function(s,a){var i=Ni.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===i)s(o.response);else{var e=new FileReader;e.addEventListener("load",function(){return s(e.result)},!1),e.addEventListener("error",function(e){return a(e)},!1),e.readAsDataURL(o.response)}else a("Failed to proxy resource "+n+" with status code "+o.status)},o.onerror=a;var l=r.indexOf("?")>-1?"&":"?";if(o.open("GET",""+r+l+"url="+encodeURIComponent(e)+"&responseType="+i),"text"!==i&&o instanceof XMLHttpRequest&&(o.responseType=i),t._options.imageTimeout){var A=t._options.imageTimeout;o.timeout=A,o.ontimeout=function(){return a("Timed out ("+A+"ms) proxying "+n)}}o.send()})},e}(),fl=/^data:image\/svg\+xml/i,ml=/^data:image\/.*;base64,/i,pl=/^data:image\/.*/i,gl=function(e){return Ni.SUPPORT_SVG_DRAWING||!yl(e)},xl=function(e){return pl.test(e)},bl=function(e){return ml.test(e)},vl=function(e){return"blob"===e.substr(0,4)},yl=function(e){return"svg"===e.substr(-3).toLowerCase()||fl.test(e)},wl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Bl=function(e,t,r){return new wl(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},Nl=function(){function e(e,t,r,n){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=n}return e.prototype.subdivide=function(t,r){var n=Bl(this.start,this.startControl,t),s=Bl(this.startControl,this.endControl,t),a=Bl(this.endControl,this.end,t),i=Bl(n,s,t),o=Bl(s,a,t),l=Bl(i,o,t);return r?new e(this.start,n,i,l):new e(l,o,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),jl=function(e){return 1===e.type},Cl=function(){function e(e){var t=e.styles,r=e.bounds,n=Vr(t.borderTopLeftRadius,r.width,r.height),s=n[0],a=n[1],i=Vr(t.borderTopRightRadius,r.width,r.height),o=i[0],l=i[1],A=Vr(t.borderBottomRightRadius,r.width,r.height),c=A[0],d=A[1],u=Vr(t.borderBottomLeftRadius,r.width,r.height),h=u[0],f=u[1],m=[];m.push((s+o)/r.width),m.push((h+c)/r.width),m.push((a+f)/r.height),m.push((l+d)/r.height);var p=Math.max.apply(Math,m);p>1&&(s/=p,a/=p,o/=p,l/=p,c/=p,d/=p,h/=p,f/=p);var g=r.width-o,x=r.height-d,b=r.width-c,v=r.height-f,y=t.borderTopWidth,w=t.borderRightWidth,B=t.borderBottomWidth,N=t.borderLeftWidth,j=qr(t.paddingTop,e.bounds.width),C=qr(t.paddingRight,e.bounds.width),k=qr(t.paddingBottom,e.bounds.width),S=qr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?kl(r.left+N/3,r.top+y/3,s-N/3,a-y/3,Jo.TOP_LEFT):new wl(r.left+N/3,r.top+y/3),this.topRightBorderDoubleOuterBox=s>0||a>0?kl(r.left+g,r.top+y/3,o-w/3,l-y/3,Jo.TOP_RIGHT):new wl(r.left+r.width-w/3,r.top+y/3),this.bottomRightBorderDoubleOuterBox=c>0||d>0?kl(r.left+b,r.top+x,c-w/3,d-B/3,Jo.BOTTOM_RIGHT):new wl(r.left+r.width-w/3,r.top+r.height-B/3),this.bottomLeftBorderDoubleOuterBox=h>0||f>0?kl(r.left+N/3,r.top+v,h-N/3,f-B/3,Jo.BOTTOM_LEFT):new wl(r.left+N/3,r.top+r.height-B/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?kl(r.left+2*N/3,r.top+2*y/3,s-2*N/3,a-2*y/3,Jo.TOP_LEFT):new wl(r.left+2*N/3,r.top+2*y/3),this.topRightBorderDoubleInnerBox=s>0||a>0?kl(r.left+g,r.top+2*y/3,o-2*w/3,l-2*y/3,Jo.TOP_RIGHT):new wl(r.left+r.width-2*w/3,r.top+2*y/3),this.bottomRightBorderDoubleInnerBox=c>0||d>0?kl(r.left+b,r.top+x,c-2*w/3,d-2*B/3,Jo.BOTTOM_RIGHT):new wl(r.left+r.width-2*w/3,r.top+r.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=h>0||f>0?kl(r.left+2*N/3,r.top+v,h-2*N/3,f-2*B/3,Jo.BOTTOM_LEFT):new wl(r.left+2*N/3,r.top+r.height-2*B/3),this.topLeftBorderStroke=s>0||a>0?kl(r.left+N/2,r.top+y/2,s-N/2,a-y/2,Jo.TOP_LEFT):new wl(r.left+N/2,r.top+y/2),this.topRightBorderStroke=s>0||a>0?kl(r.left+g,r.top+y/2,o-w/2,l-y/2,Jo.TOP_RIGHT):new wl(r.left+r.width-w/2,r.top+y/2),this.bottomRightBorderStroke=c>0||d>0?kl(r.left+b,r.top+x,c-w/2,d-B/2,Jo.BOTTOM_RIGHT):new wl(r.left+r.width-w/2,r.top+r.height-B/2),this.bottomLeftBorderStroke=h>0||f>0?kl(r.left+N/2,r.top+v,h-N/2,f-B/2,Jo.BOTTOM_LEFT):new wl(r.left+N/2,r.top+r.height-B/2),this.topLeftBorderBox=s>0||a>0?kl(r.left,r.top,s,a,Jo.TOP_LEFT):new wl(r.left,r.top),this.topRightBorderBox=o>0||l>0?kl(r.left+g,r.top,o,l,Jo.TOP_RIGHT):new wl(r.left+r.width,r.top),this.bottomRightBorderBox=c>0||d>0?kl(r.left+b,r.top+x,c,d,Jo.BOTTOM_RIGHT):new wl(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=h>0||f>0?kl(r.left,r.top+v,h,f,Jo.BOTTOM_LEFT):new wl(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?kl(r.left+N,r.top+y,Math.max(0,s-N),Math.max(0,a-y),Jo.TOP_LEFT):new wl(r.left+N,r.top+y),this.topRightPaddingBox=o>0||l>0?kl(r.left+Math.min(g,r.width-w),r.top+y,g>r.width+w?0:Math.max(0,o-w),Math.max(0,l-y),Jo.TOP_RIGHT):new wl(r.left+r.width-w,r.top+y),this.bottomRightPaddingBox=c>0||d>0?kl(r.left+Math.min(b,r.width-N),r.top+Math.min(x,r.height-B),Math.max(0,c-w),Math.max(0,d-B),Jo.BOTTOM_RIGHT):new wl(r.left+r.width-w,r.top+r.height-B),this.bottomLeftPaddingBox=h>0||f>0?kl(r.left+N,r.top+Math.min(v,r.height-B),Math.max(0,h-N),Math.max(0,f-B),Jo.BOTTOM_LEFT):new wl(r.left+N,r.top+r.height-B),this.topLeftContentBox=s>0||a>0?kl(r.left+N+S,r.top+y+j,Math.max(0,s-(N+S)),Math.max(0,a-(y+j)),Jo.TOP_LEFT):new wl(r.left+N+S,r.top+y+j),this.topRightContentBox=o>0||l>0?kl(r.left+Math.min(g,r.width+N+S),r.top+y+j,g>r.width+N+S?0:o-N+S,l-(y+j),Jo.TOP_RIGHT):new wl(r.left+r.width-(w+C),r.top+y+j),this.bottomRightContentBox=c>0||d>0?kl(r.left+Math.min(b,r.width-(N+S)),r.top+Math.min(x,r.height+y+j),Math.max(0,c-(w+C)),d-(B+k),Jo.BOTTOM_RIGHT):new wl(r.left+r.width-(w+C),r.top+r.height-(B+k)),this.bottomLeftContentBox=h>0||f>0?kl(r.left+N+S,r.top+v,Math.max(0,h-(N+S)),f-(B+k),Jo.BOTTOM_LEFT):new wl(r.left+N+S,r.top+r.height-(B+k))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Jo||(Jo={}));var kl=function(e,t,r,n,s){var a=(Math.sqrt(2)-1)/3*4,i=r*a,o=n*a,l=e+r,A=t+n;switch(s){case Jo.TOP_LEFT:return new Nl(new wl(e,A),new wl(e,A-o),new wl(l-i,t),new wl(l,t));case Jo.TOP_RIGHT:return new Nl(new wl(e,t),new wl(e+i,t),new wl(l,A-o),new wl(l,A));case Jo.BOTTOM_RIGHT:return new Nl(new wl(l,t),new wl(l,t+o),new wl(e+i,A),new wl(e,A));case Jo.BOTTOM_LEFT:default:return new Nl(new wl(l,A),new wl(l-i,A),new wl(e,t+o),new wl(e,t))}},Sl=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Fl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},El=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},_l=function(){function e(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return e}(),Ul=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Ql=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ll=function(e){return 0===e.type},Il=function(e){return 1===e.type},Ml=function(e){return 2===e.type},Dl=function(e,t){return e.length===t.length&&e.some(function(e,r){return e===t[r]})},Pl=function(e,t,r,n,s){return e.map(function(e,a){switch(a){case 0:return e.add(t,r);case 1:return e.add(t+n,r);case 2:return e.add(t+n,r+s);case 3:return e.add(t,r+s)}return e})},Tl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ol=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Cl(this.container),this.container.styles.opacity<1&&this.effects.push(new Ql(this.container.styles.opacity)),null!==this.container.styles.transform){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new _l(r,n,s))}if(0!==this.container.styles.overflowX){var a=Sl(this.curves),i=El(this.curves);Dl(a,i)?this.effects.push(new Ul(a,6)):(this.effects.push(new Ul(a,2)),this.effects.push(new Ul(i,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),r=this.parent,n=this.effects.slice(0);r;){var s=r.effects.filter(function(e){return!Il(e)});if(t||0!==r.container.styles.position||!r.parent){if(n.unshift.apply(n,s),t=-1===[2,3].indexOf(r.container.styles.position),0!==r.container.styles.overflowX){var a=Sl(r.curves),i=El(r.curves);Dl(a,i)||n.unshift(new Ul(i,6))}}else n.unshift.apply(n,s);r=r.parent}return n.filter(function(t){return sa(t.target,e)})},e}(),Rl=function(e,t,r,n){e.container.elements.forEach(function(s){var a=sa(s.flags,4),i=sa(s.flags,2),o=new Ol(s,e);sa(s.styles.display,2048)&&n.push(o);var l=sa(s.flags,8)?[]:n;if(a||i){var A=a||s.styles.isPositioned()?r:t,c=new Tl(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var d=s.styles.zIndex.order;if(d<0){var u=0;A.negativeZIndex.some(function(e,t){return d>e.element.container.styles.zIndex.order?(u=t,!1):u>0}),A.negativeZIndex.splice(u,0,c)}else if(d>0){var h=0;A.positiveZIndex.some(function(e,t){return d>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0}),A.positiveZIndex.splice(h,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else s.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);Rl(o,c,a?c:r,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Rl(o,t,r,l);sa(s.flags,8)&&Hl(s,l)})},Hl=function(e,t){for(var r=e instanceof Hi?e.start:1,n=e instanceof Hi&&e.reversed,s=0;s<t.length;s++){var a=t[s];a.container instanceof Ri&&"number"===typeof a.container.value&&0!==a.container.value&&(r=a.container.value),a.listValue=qo(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},zl=function(e){var t=new Ol(e,null),r=new Tl(t),n=[];return Rl(t,r,r,n),Hl(t.container,n),r},Kl=function(e,t){switch(t){case 0:return Jl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Jl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Jl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Jl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Vl=function(e,t){switch(t){case 0:return Jl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Jl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Jl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Jl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},ql=function(e,t){switch(t){case 0:return Jl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Jl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Jl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Jl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Gl=function(e,t){switch(t){case 0:return Wl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Wl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Wl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Wl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Wl=function(e,t){var r=[];return jl(e)?r.push(e.subdivide(.5,!1)):r.push(e),jl(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Jl=function(e,t,r,n){var s=[];return jl(e)?s.push(e.subdivide(.5,!1)):s.push(e),jl(r)?s.push(r.subdivide(.5,!0)):s.push(r),jl(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),jl(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},Yl=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Xl=function(e){var t=e.styles,r=e.bounds,n=qr(t.paddingLeft,r.width),s=qr(t.paddingRight,r.width),a=qr(t.paddingTop,r.width),i=qr(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+a+i))},Zl=function(e,t){return 0===e?t.bounds:2===e?Xl(t):Yl(t)},$l=function(e,t){return 0===e?t.bounds:2===e?Xl(t):Yl(t)},eA=function(e,t,r){var n=Zl(sA(e.styles.backgroundOrigin,t),e),s=$l(sA(e.styles.backgroundClip,t),e),a=nA(sA(e.styles.backgroundSize,t),r,n),i=a[0],o=a[1],l=Vr(sA(e.styles.backgroundPosition,t),n.width-i,n.height-o);return[aA(sA(e.styles.backgroundRepeat,t),l,a,n,s),Math.round(n.left+l[0]),Math.round(n.top+l[1]),i,o]},tA=function(e){return Ur(e)&&e.value===Mn.AUTO},rA=function(e){return"number"===typeof e},nA=function(e,t,r){var n=t[0],s=t[1],a=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(Or(i)&&o&&Or(o))return[qr(i,r.width),qr(o,r.height)];var l=rA(a);if(Ur(i)&&(i.value===Mn.CONTAIN||i.value===Mn.COVER))return rA(a)?r.width/r.height<a!==(i.value===Mn.COVER)?[r.width,r.width/a]:[r.height*a,r.height]:[r.width,r.height];var A=rA(n),c=rA(s),d=A||c;if(tA(i)&&(!o||tA(o)))return A&&c?[n,s]:l||d?d&&l?[A?n:s*a,c?s:n/a]:[A?n:r.width,c?s:r.height]:[r.width,r.height];if(l){var u=0,h=0;return Or(i)?u=qr(i,r.width):Or(o)&&(h=qr(o,r.height)),tA(i)?u=h*a:o&&!tA(o)||(h=u/a),[u,h]}var f=null,m=null;if(Or(i)?f=qr(i,r.width):o&&Or(o)&&(m=qr(o,r.height)),null===f||o&&!tA(o)||(m=A&&c?f/n*s:r.height),null!==m&&tA(i)&&(f=A&&c?m/s*n:r.width),null!==f&&null!==m)return[f,m];throw new Error("Unable to calculate background-size for element")},sA=function(e,t){var r=e[t];return"undefined"===typeof r?e[0]:r},aA=function(e,t,r,n,s){var a=t[0],i=t[1],o=r[0],l=r[1];switch(e){case 2:return[new wl(Math.round(n.left),Math.round(n.top+i)),new wl(Math.round(n.left+n.width),Math.round(n.top+i)),new wl(Math.round(n.left+n.width),Math.round(l+n.top+i)),new wl(Math.round(n.left),Math.round(l+n.top+i))];case 3:return[new wl(Math.round(n.left+a),Math.round(n.top)),new wl(Math.round(n.left+a+o),Math.round(n.top)),new wl(Math.round(n.left+a+o),Math.round(n.height+n.top)),new wl(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new wl(Math.round(n.left+a),Math.round(n.top+i)),new wl(Math.round(n.left+a+o),Math.round(n.top+i)),new wl(Math.round(n.left+a+o),Math.round(n.top+i+l)),new wl(Math.round(n.left+a),Math.round(n.top+i+l))];default:return[new wl(Math.round(s.left),Math.round(s.top)),new wl(Math.round(s.left+s.width),Math.round(s.top)),new wl(Math.round(s.left+s.width),Math.round(s.height+s.top)),new wl(Math.round(s.left),Math.round(s.height+s.top))]}},iA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oA="Hidden Text",lA=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),n=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),n.src=iA,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(oA)),r.appendChild(s),r.appendChild(n);var i=n.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(oA)),r.style.lineHeight="normal",n.style.verticalAlign="super";var o=n.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:i,middle:o}},e.prototype.getMetrics=function(e,t){var r=e+" "+t;return"undefined"===typeof this._data[r]&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},e}(),AA=function(){function e(e,t){this.context=e,this.options=t}return e}(),cA=1e4,dA=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new lA(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return t(r,e),r.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},r.prototype.applyEffect=function(e){this.ctx.save(),Ml(e)&&(this.ctx.globalAlpha=e.opacity),Ll(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Il(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(e){return n(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},r.prototype.renderNode=function(e){return n(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return sa(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},r.prototype.renderTextWithLetterSpacing=function(e,t,r){var n=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+r):Fi(e.text).reduce(function(t,s){return n.ctx.fillText(s,t,e.bounds.top+r),t+n.ctx.measureText(s).width},e.bounds.left)},r.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),r=pA(e.fontFamily).join(", "),n=Er(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,n,r].join(" "),r,n]},r.prototype.renderTextNode=function(e,t){return n(this,void 0,void 0,function(){var r,n,a,i,o,l,A,c,d=this;return s(this,function(s){return r=this.createFontStyle(t),n=r[0],a=r[1],i=r[2],this.ctx.font=n,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(a,i),l=o.baseline,A=o.middle,c=t.paintOrder,e.textBounds.forEach(function(e){c.forEach(function(r){switch(r){case 0:d.ctx.fillStyle=nn(t.color),d.renderTextWithLetterSpacing(e,t.letterSpacing,l);var n=t.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach(function(r){d.ctx.shadowColor=nn(r.color),d.ctx.shadowOffsetX=r.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=r.offsetY.number*d.options.scale,d.ctx.shadowBlur=r.blur.number,d.renderTextWithLetterSpacing(e,t.letterSpacing,l)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),t.textDecorationLine.length&&(d.ctx.fillStyle=nn(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:d.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+A),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(d.ctx.strokeStyle=nn(t.webkitTextStrokeColor),d.ctx.lineWidth=t.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter"}})}),[2]})})},r.prototype.renderReplacedElement=function(e,t,r){if(r&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var n=Xl(e),s=El(t);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,e.intrinsicWidth,e.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(e){return n(this,void 0,void 0,function(){var t,n,a,o,l,A,c,d,u,h,f,m,p,g,x,b,v,y;return s(this,function(s){switch(s.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,n=e.curves,a=t.styles,o=0,l=t.textNodes,s.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,a)]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof Pi))return[3,8];s.label=5;case 5:return s.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return x=s.sent(),this.renderReplacedElement(t,n,x),[3,8];case 7:return s.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Ti&&this.renderReplacedElement(t,n,t.canvas),!(t instanceof Oi))return[3,12];s.label=9;case 9:return s.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return x=s.sent(),this.renderReplacedElement(t,n,x),[3,12];case 11:return s.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof eo&&t.tree?[4,new r(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=s.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),s.label=14;case 14:if(t instanceof Xi&&(d=Math.min(t.bounds.width,t.bounds.height),t.type===Gi?t.checked&&(this.ctx.save(),this.path([new wl(t.bounds.left+.39363*d,t.bounds.top+.79*d),new wl(t.bounds.left+.16*d,t.bounds.top+.5549*d),new wl(t.bounds.left+.27347*d,t.bounds.top+.44071*d),new wl(t.bounds.left+.39694*d,t.bounds.top+.5649*d),new wl(t.bounds.left+.72983*d,t.bounds.top+.23*d),new wl(t.bounds.left+.84*d,t.bounds.top+.34085*d),new wl(t.bounds.left+.39363*d,t.bounds.top+.79*d)]),this.ctx.fillStyle=nn(Yi),this.ctx.fill(),this.ctx.restore()):t.type===Wi&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+d/2,t.bounds.top+d/2,d/4,0,2*Math.PI,!0),this.ctx.fillStyle=nn(Yi),this.ctx.fill(),this.ctx.restore())),uA(t)&&t.value.length){switch(u=this.createFontStyle(a),v=u[0],h=u[1],f=this.fontMetrics.getMetrics(v,h).baseline,this.ctx.font=v,this.ctx.fillStyle=nn(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fA(t.styles.textAlign),y=Xl(t),m=0,t.styles.textAlign){case 1:m+=y.width/2;break;case 2:m+=y.width}p=y.add(m,0,0,-y.height/2+1),this.ctx.save(),this.path([new wl(y.left,y.top),new wl(y.left+y.width,y.top),new wl(y.left+y.width,y.top+y.height),new wl(y.left,y.top+y.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ji(t.value,p),a.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!sa(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(g=t.styles.listStyleImage).type)return[3,18];x=void 0,b=g.url,s.label=15;case 15:return s.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return x=s.sent(),this.ctx.drawImage(x,t.bounds.left-(x.width+10),t.bounds.top),[3,18];case 17:return s.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(v=this.createFontStyle(a)[0],this.ctx.font=v,this.ctx.fillStyle=nn(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",y=new i(t.bounds.left,t.bounds.top+qr(t.styles.paddingTop,t.bounds.width),t.bounds.width,ys(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ji(e.listValue,y),a.letterSpacing,ys(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),s.label=20;case 20:return[2]}})})},r.prototype.renderStackContent=function(e){return n(this,void 0,void 0,function(){var t,r,n,a,i,o,l,A,c,d,u,h,f,m,p;return s(this,function(s){switch(s.label){case 0:return sa(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:s.sent(),t=0,r=e.negativeZIndex,s.label=2;case 2:return t<r.length?(p=r[t],[4,this.renderStack(p)]):[3,5];case 3:s.sent(),s.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:s.sent(),n=0,a=e.nonInlineLevel,s.label=7;case 7:return n<a.length?(p=a[n],[4,this.renderNode(p)]):[3,10];case 8:s.sent(),s.label=9;case 9:return n++,[3,7];case 10:i=0,o=e.nonPositionedFloats,s.label=11;case 11:return i<o.length?(p=o[i],[4,this.renderStack(p)]):[3,14];case 12:s.sent(),s.label=13;case 13:return i++,[3,11];case 14:l=0,A=e.nonPositionedInlineLevel,s.label=15;case 15:return l<A.length?(p=A[l],[4,this.renderStack(p)]):[3,18];case 16:s.sent(),s.label=17;case 17:return l++,[3,15];case 18:c=0,d=e.inlineLevel,s.label=19;case 19:return c<d.length?(p=d[c],[4,this.renderNode(p)]):[3,22];case 20:s.sent(),s.label=21;case 21:return c++,[3,19];case 22:u=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,s.label=23;case 23:return u<h.length?(p=h[u],[4,this.renderStack(p)]):[3,26];case 24:s.sent(),s.label=25;case 25:return u++,[3,23];case 26:f=0,m=e.positiveZIndex,s.label=27;case 27:return f<m.length?(p=m[f],[4,this.renderStack(p)]):[3,30];case 28:s.sent(),s.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},r.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},r.prototype.formatPath=function(e){var t=this;e.forEach(function(e,r){var n=jl(e)?e.start:e;0===r?t.ctx.moveTo(n.x,n.y):t.ctx.lineTo(n.x,n.y),jl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},r.prototype.renderRepeat=function(e,t,r,n){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(r,n),this.ctx.fill(),this.ctx.translate(-r,-n)},r.prototype.resizeImage=function(e,t,r){var n;if(e.width===t&&e.height===r)return e;var s=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return s.width=Math.max(1,t),s.height=Math.max(1,r),s.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,r),s},r.prototype.renderBackgroundImage=function(e){return n(this,void 0,void 0,function(){var t,r,n,a,i,o;return s(this,function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,r=function(r){var a,i,o,l,A,c,d,u,h,f,m,p,g,x,b,v,y,w,B,N,j,C,k,S,F,E,_,U,Q,L,I;return s(this,function(s){switch(s.label){case 0:if(0!==r.type)return[3,5];a=void 0,i=r.url,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.context.cache.match(i)];case 2:return a=s.sent(),[3,4];case 3:return s.sent(),n.context.logger.error("Error loading background-image "+i),[3,4];case 4:return a&&(o=eA(e,t,[a.width,a.height,a.width/a.height]),v=o[0],C=o[1],k=o[2],B=o[3],N=o[4],x=n.ctx.createPattern(n.resizeImage(a,B,N),"repeat"),n.renderRepeat(v,x,C,k)),[3,6];case 5:Un(r)?(l=eA(e,t,[null,null,null]),v=l[0],C=l[1],k=l[2],B=l[3],N=l[4],A=xn(r.angle,B,N),c=A[0],d=A[1],u=A[2],h=A[3],f=A[4],(m=document.createElement("canvas")).width=B,m.height=N,p=m.getContext("2d"),g=p.createLinearGradient(d,h,u,f),pn(r.stops,c).forEach(function(e){return g.addColorStop(e.stop,nn(e.color))}),p.fillStyle=g,p.fillRect(0,0,B,N),B>0&&N>0&&(x=n.ctx.createPattern(m,"repeat"),n.renderRepeat(v,x,C,k))):Qn(r)&&(b=eA(e,t,[null,null,null]),v=b[0],y=b[1],w=b[2],B=b[3],N=b[4],j=0===r.position.length?[zr]:r.position,C=qr(j[0],B),k=qr(j[j.length-1],N),S=yn(r,C,k,B,N),F=S[0],E=S[1],F>0&&E>0&&(_=n.ctx.createRadialGradient(y+C,w+k,0,y+C,w+k,F),pn(r.stops,2*F).forEach(function(e){return _.addColorStop(e.stop,nn(e.color))}),n.path(v),n.ctx.fillStyle=_,F!==E?(U=e.bounds.left+.5*e.bounds.width,Q=e.bounds.top+.5*e.bounds.height,I=1/(L=E/F),n.ctx.save(),n.ctx.translate(U,Q),n.ctx.transform(1,0,0,L,0,0),n.ctx.translate(-U,-Q),n.ctx.fillRect(y,I*(w-Q)+Q,B,N*I),n.ctx.restore()):n.ctx.fill())),s.label=6;case 6:return t--,[2]}})},n=this,a=0,i=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<i.length?(o=i[a],[5,r(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},r.prototype.renderSolidBorder=function(e,t,r){return n(this,void 0,void 0,function(){return s(this,function(n){return this.path(Kl(r,t)),this.ctx.fillStyle=nn(e),this.ctx.fill(),[2]})})},r.prototype.renderDoubleBorder=function(e,t,r,a){return n(this,void 0,void 0,function(){var n,i;return s(this,function(s){switch(s.label){case 0:return t<3?[4,this.renderSolidBorder(e,r,a)]:[3,2];case 1:return s.sent(),[2];case 2:return n=Vl(a,r),this.path(n),this.ctx.fillStyle=nn(e),this.ctx.fill(),i=ql(a,r),this.path(i),this.ctx.fill(),[2]}})})},r.prototype.renderNodeBackgroundAndBorders=function(e){return n(this,void 0,void 0,function(){var t,r,n,a,i,o,l,A,c=this;return s(this,function(s){switch(s.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,r=!rn(t.backgroundColor)||t.backgroundImage.length,n=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=hA(sA(t.backgroundClip,0),e.curves),r||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),rn(t.backgroundColor)||(this.ctx.fillStyle=nn(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:s.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){c.ctx.save();var r=Sl(e.curves),n=t.inset?0:cA,s=Pl(r,-n+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(r),c.ctx.clip(),c.mask(s)):(c.mask(r),c.ctx.clip(),c.path(s)),c.ctx.shadowOffsetX=t.offsetX.number+n,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=nn(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?nn(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),s.label=2;case 2:i=0,o=0,l=n,s.label=3;case 3:return o<l.length?0!==(A=l[o]).style&&!rn(A.color)&&A.width>0?2!==A.style?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,i,e.curves,2)]:[3,11]:[3,13];case 4:return s.sent(),[3,11];case 5:return 3!==A.style?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,i,e.curves,3)];case 6:return s.sent(),[3,11];case 7:return 4!==A.style?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,i,e.curves)];case 8:return s.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,i,e.curves)];case 10:s.sent(),s.label=11;case 11:i++,s.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},r.prototype.renderDashedDottedBorder=function(e,t,r,a,i){return n(this,void 0,void 0,function(){var n,o,l,A,c,d,u,h,f,m,p,g,x,b,v,y;return s(this,function(s){return this.ctx.save(),n=Gl(a,r),o=Kl(a,r),2===i&&(this.path(o),this.ctx.clip()),jl(o[0])?(l=o[0].start.x,A=o[0].start.y):(l=o[0].x,A=o[0].y),jl(o[1])?(c=o[1].end.x,d=o[1].end.y):(c=o[1].x,d=o[1].y),u=0===r||2===r?Math.abs(l-c):Math.abs(A-d),this.ctx.beginPath(),3===i?this.formatPath(n):this.formatPath(o.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,3===i&&(h=t,f=t),m=!0,u<=2*h?m=!1:u<=2*h+f?(h*=p=u/(2*h+f),f*=p):(g=Math.floor((u+f)/(h+f)),x=(u-g*h)/(g-1),f=(b=(u-(g+1)*h)/g)<=0||Math.abs(f-x)<Math.abs(f-b)?x:b),m&&(3===i?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),3===i?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=nn(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===i&&(jl(o[0])&&(v=o[3],y=o[0],this.ctx.beginPath(),this.formatPath([new wl(v.end.x,v.end.y),new wl(y.start.x,y.start.y)]),this.ctx.stroke()),jl(o[1])&&(v=o[1],y=o[2],this.ctx.beginPath(),this.formatPath([new wl(v.end.x,v.end.y),new wl(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},r.prototype.render=function(e){return n(this,void 0,void 0,function(){var t;return s(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=nn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=zl(e),[4,this.renderStack(t)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},r}(AA),uA=function(e){return e instanceof $i||e instanceof Zi||e instanceof Xi&&e.type!==Wi&&e.type!==Gi},hA=function(e,t){switch(e){case 0:return Sl(t);case 2:return Fl(t);default:return El(t)}},fA=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},mA=["-apple-system","system-ui"],pA=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===mA.indexOf(e)}):e},gA=function(e){function r(t,r){var n=e.call(this,t,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return t(r,e),r.prototype.render=function(e){return n(this,void 0,void 0,function(){var t,r;return s(this,function(n){switch(n.label){case 0:return t=wi(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,xA(t)];case 1:return r=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=nn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},r}(AA),xA=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},bA=function(){function e(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,a([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),vA=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new bA({id:this.instanceName,enabled:t.logging}),this.cache=null!==(n=t.cache)&&void 0!==n?n:new hl(this,t)}return e.instanceCount=1,e}(),yA=function(e,t){return void 0===t&&(t={}),wA(e,t)};"undefined"!==typeof window&&ul.setContext(window);var wA=function(e,t){return n(void 0,void 0,void 0,function(){var n,a,A,c,d,u,h,f,m,p,g,x,b,v,y,w,B,N,j,C,k,S,F,E,_,U,Q,L,I,M,D,P,T,O,R,H,z,K;return s(this,function(s){switch(s.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=n.defaultView))throw new Error("Document is not attached to a Window");return A={allowTaint:null!==(S=t.allowTaint)&&void 0!==S&&S,imageTimeout:null!==(F=t.imageTimeout)&&void 0!==F?F:15e3,proxy:t.proxy,useCORS:null!==(E=t.useCORS)&&void 0!==E&&E},c=r({logging:null===(_=t.logging)||void 0===_||_,cache:t.cache},A),d={windowWidth:null!==(U=t.windowWidth)&&void 0!==U?U:a.innerWidth,windowHeight:null!==(Q=t.windowHeight)&&void 0!==Q?Q:a.innerHeight,scrollX:null!==(L=t.scrollX)&&void 0!==L?L:a.pageXOffset,scrollY:null!==(I=t.scrollY)&&void 0!==I?I:a.pageYOffset},u=new i(d.scrollX,d.scrollY,d.windowWidth,d.windowHeight),h=new vA(c,u),f=null!==(M=t.foreignObjectRendering)&&void 0!==M&&M,m={allowTaint:null!==(D=t.allowTaint)&&void 0!==D&&D,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),p=new Wo(h,e,m),(g=p.clonedReferenceElement)?[4,p.toIFrame(n,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return x=s.sent(),b=go(g)||mo(g)?l(g.ownerDocument):o(h,g),v=b.width,y=b.height,w=b.left,B=b.top,N=BA(h,g,t.backgroundColor),j={canvas:t.canvas,backgroundColor:N,scale:null!==(T=null!==(P=t.scale)&&void 0!==P?P:a.devicePixelRatio)&&void 0!==T?T:1,x:(null!==(O=t.x)&&void 0!==O?O:0)+w,y:(null!==(R=t.y)&&void 0!==R?R:0)+B,width:null!==(H=t.width)&&void 0!==H?H:Math.ceil(v),height:null!==(z=t.height)&&void 0!==z?z:Math.ceil(y)},f?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new gA(h,j).render(g)]):[3,3];case 2:return C=s.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+w+","+B+" with size "+v+"x"+y+" using computed rendering"),h.logger.debug("Starting DOM parsing"),k=so(h,g),N===k.styles.backgroundColor&&(k.styles.backgroundColor=un.TRANSPARENT),h.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),[4,new dA(h,j).render(k)];case 4:C=s.sent(),s.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(Wo.destroy(x)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,C]}})})},BA=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?dn(e,getComputedStyle(n.documentElement).backgroundColor):un.TRANSPARENT,a=n.body?dn(e,getComputedStyle(n.body).backgroundColor):un.TRANSPARENT,i="string"===typeof r?dn(e,r):null===r?un.TRANSPARENT:4294967295;return t===n.documentElement?rn(s)?rn(a)?i:a:s:i};return yA}()},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(!(0<a(s,t)))break e;e[n]=t,e[r]=s,r=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,i=s>>>1;n<i;){var o=2*(n+1)-1,l=e[o],A=o+1,c=e[A];if(0>a(l,r))A<s&&0>a(c,l)?(e[n]=c,e[A]=r,n=A):(e[n]=l,e[o]=r,n=o);else{if(!(A<s&&0>a(c,r)))break e;e[n]=c,e[A]=r,n=A}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var A=[],c=[],d=1,u=null,h=3,f=!1,m=!1,p=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(c);null!==t;){if(null===t.callback)s(c);else{if(!(t.startTime<=e))break;s(c),t.sortIndex=t.expirationTime,r(A,t)}t=n(c)}}function w(e){if(p=!1,y(e),!m)if(null!==n(A))m=!0,N||(N=!0,B());else{var t=n(c);null!==t&&U(w,t.startTime-e)}}var B,N=!1,j=-1,C=5,k=-1;function S(){return!!g||!(t.unstable_now()-k<C)}function F(){if(g=!1,N){var e=t.unstable_now();k=e;var r=!0;try{e:{m=!1,p&&(p=!1,b(j),j=-1),f=!0;var a=h;try{t:{for(y(e),u=n(A);null!==u&&!(u.expirationTime>e&&S());){var i=u.callback;if("function"===typeof i){u.callback=null,h=u.priorityLevel;var o=i(u.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){u.callback=o,y(e),r=!0;break t}u===n(A)&&s(A),y(e)}else s(A);u=n(A)}if(null!==u)r=!0;else{var l=n(c);null!==l&&U(w,l.startTime-e),r=!1}}break e}finally{u=null,h=a,f=!1}r=void 0}}finally{r?B():N=!1}}}if("function"===typeof v)B=function(){v(F)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,_=E.port2;E.port1.onmessage=F,B=function(){_.postMessage(null)}}else B=function(){x(F,0)};function U(e,r){j=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,r(c,e),null===n(A)&&e===n(c)&&(p?(b(j),j=-1):p=!0,U(w,a-i))):(e.sortIndex=o,r(A,e),m||f||(m=!0,N||(N=!0,B()))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},6672:(e,t,r)=>{"use strict";var n=r(5043);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(s(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=r,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=A(r,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:s,fetchPriority:a}):"script"===r&&i.d.X(e,{crossOrigin:n,integrity:s,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=A(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=A(r,t.crossOrigin);i.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=A(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},7004:(e,t,r)=>{"use strict";var n=r(8853),s=r(5043),a=r(7950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function A(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(i(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var S=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var F=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var _=Symbol.for("react.client.reference");function U(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===_?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case B:return"Suspense";case N:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case y:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return U(e(t))}catch(r){}}return null}var Q=Array.isArray,L=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},D=[],P=-1;function T(e){return{current:e}}function O(e){0>P||(e.current=D[P],D[P]=null,P--)}function R(e,t){P++,D[P]=e.current,e.current=t}var H,z,K=T(null),V=T(null),q=T(null),G=T(null);function W(e,t){switch(R(q,t),R(V,e),R(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=xd(t=gd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(K),R(K,e)}function J(){O(K),O(V),O(q)}function Y(e){null!==e.memoizedState&&R(G,e);var t=K.current,r=xd(t,e.type);t!==r&&(R(V,e),R(K,r))}function X(e){V.current===e&&(O(K),O(V)),G.current===e&&(O(G),cu._currentValue=M)}function Z(e){if(void 0===H)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",z=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+z}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(s){var n=s}Reflect.construct(e,[],r)}else{try{r.call()}catch(a){n=a}e.call(r.prototype)}}else{try{throw Error()}catch(i){n=i}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&n&&"string"===typeof o.stack)return[o.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),i=a[0],o=a[1];if(i&&o){var l=i.split("\n"),A=o.split("\n");for(s=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;if(n===l.length||s===A.length)for(n=l.length-1,s=A.length-1;1<=n&&0<=s&&l[n]!==A[s];)s--;for(;1<=n&&0<=s;n--,s--)if(l[n]!==A[s]){if(1!==n||1!==s)do{if(n--,0>--s||l[n]!==A[s]){var c="\n"+l[n].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=n&&0<=s);break}}}finally{$=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Z(r):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Z("Activity");default:return""}}function re(e){try{var t="",r=null;do{t+=te(e,r),r=e,e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}var ne=Object.prototype.hasOwnProperty,se=n.unstable_scheduleCallback,ae=n.unstable_cancelCallback,ie=n.unstable_shouldYield,oe=n.unstable_requestPaint,le=n.unstable_now,Ae=n.unstable_getCurrentPriorityLevel,ce=n.unstable_ImmediatePriority,de=n.unstable_UserBlockingPriority,ue=n.unstable_NormalPriority,he=n.unstable_LowPriority,fe=n.unstable_IdlePriority,me=n.log,pe=n.unstable_setDisableYieldValue,ge=null,xe=null;function be(e){if("function"===typeof me&&pe(e),xe&&"function"===typeof xe.setStrictMode)try{xe.setStrictMode(ge,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ye(e)/we|0)|0},ye=Math.log,we=Math.LN2;var Be=256,Ne=262144,je=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~a)?s=Ce(n):0!==(i&=o)?s=Ce(i):r||0!==(r=o&~e)&&(s=Ce(r)):0!==(o=n&~a)?s=Ce(o):0!==i?s=Ce(i):r||0!==(r=n&~e)&&(s=Ce(r)),0===s?0:0!==t&&t!==s&&0===(t&a)&&((a=s&-s)>=(r=t&-t)||32===a&&0!==(4194048&r))?t:s}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Fe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=je;return 0===(62914560&(je<<=1))&&(je=4194304),e}function _e(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ue(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qe(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ve(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|261930&r}function Le(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ve(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}function Ie(e,t){var r=t&-t;return 0!==((r=0!==(42&r)?1:Me(r))&(e.suspendedLanes|t))?0:r}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:Cu(e.type)}function Te(e,t){var r=I.p;try{return I.p=e,t()}finally{I.p=r}}var Oe=Math.random().toString(36).slice(2),Re="__reactFiber$"+Oe,He="__reactProps$"+Oe,ze="__reactContainer$"+Oe,Ke="__reactEvents$"+Oe,Ve="__reactListeners$"+Oe,qe="__reactHandles$"+Oe,Ge="__reactResources$"+Oe,We="__reactMarker$"+Oe;function Je(e){delete e[Re],delete e[He],delete e[Ke],delete e[Ve],delete e[qe]}function Ye(e){var t=e[Re];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ze]||r[Re]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Md(e);null!==e;){if(r=e[Re])return r;e=Md(e)}return t}r=(e=r).parentNode}return null}function Xe(e){if(e=e[Re]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function $e(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[We]=!0}var tt=new Set,rt={};function nt(e,t){st(e,t),st(e+"Capture",t)}function st(e,t){for(rt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function lt(e,t,r){if(s=t,ne.call(ot,s)||!ne.call(it,s)&&(at.test(s)?ot[s]=!0:(it[s]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var s}function At(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function ct(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=ut(e)?"checked":"value";e._valueTracker=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ut(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xt(e,t,r,n,s,a,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,dt(t)):null!=r?vt(e,i,dt(r)):null!=n&&e.removeAttribute("value"),null==s&&null!=a&&(e.defaultChecked=!!a),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,r,n,s,a,i,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=r){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void ht(e);r=null!=r?""+dt(r):"",t=null!=t?""+dt(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:s)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ht(e)}function vt(e,t,r){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function yt(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+dt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function wt(e,t,r){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+dt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function Bt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(i(92));if(Q(n)){if(1<n.length)throw Error(i(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=dt(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n),ht(e)}function Nt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||jt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function kt(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&r[s]!==n&&Ct(e,s,n)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ft=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ut(){}var Qt=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Mt=null;function Dt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var r=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=n[He]||null;if(!s)throw Error(i(90));xt(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ft(n)}break e;case"textarea":wt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&yt(e,!!r.multiple,t,!1)}}}var Pt=!1;function Tt(e,t,r){if(Pt)return e(t,r);Pt=!0;try{return e(t)}finally{if(Pt=!1,(null!==It||null!==Mt)&&($A(),It&&(t=It,e=Mt,Mt=It=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ot(e,t){var r=e.stateNode;if(null===r)return null;var n=r[He]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(i(231,t,typeof r));return r}var Rt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ht=!1;if(Rt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Xu){Ht=!1}var Kt=null,Vt=null,qt=null;function Gt(){if(qt)return qt;var e,t,r=Vt,n=r.length,s="value"in Kt?Kt.value:Kt.textContent,a=s.length;for(e=0;e<n&&r[e]===s[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===s[a-t];t++);return qt=s.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Yt(){return!1}function Xt(e){function t(t,r,n,s,a){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Jt:Yt,this.isPropagationStopped=Yt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Zt,$t,er,tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Xt(tr),nr=h({},tr,{view:0,detail:0}),sr=Xt(nr),ar=h({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&"mousemove"===e.type?(Zt=e.screenX-er.screenX,$t=e.screenY-er.screenY):$t=Zt=0,er=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),ir=Xt(ar),or=Xt(h({},ar,{dataTransfer:0})),lr=Xt(h({},nr,{relatedTarget:0})),Ar=Xt(h({},tr,{animationName:0,elapsedTime:0,pseudoElement:0})),cr=Xt(h({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dr=Xt(h({},tr,{data:0})),ur={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fr[e])&&!!t[e]}function pr(){return mr}var gr=Xt(h({},nr,{key:function(e){if(e.key){var t=ur[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xr=Xt(h({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),br=Xt(h({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr})),vr=Xt(h({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0})),yr=Xt(h({},ar,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wr=Xt(h({},tr,{newState:0,oldState:0})),Br=[9,13,27,32],Nr=Rt&&"CompositionEvent"in window,jr=null;Rt&&"documentMode"in document&&(jr=document.documentMode);var Cr=Rt&&"TextEvent"in window&&!jr,kr=Rt&&(!Nr||jr&&8<jr&&11>=jr),Sr=String.fromCharCode(32),Fr=!1;function Er(e,t){switch(e){case"keyup":return-1!==Br.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _r(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var Qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Qr[e.type]:"textarea"===t}function Ir(e,t,r,n){It?Mt?Mt.push(n):Mt=[n]:It=n,0<(t=nd(t,"onChange")).length&&(r=new rr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mr=null,Dr=null;function Pr(e){Jc(e,0)}function Tr(e){if(ft(Ze(e)))return e}function Or(e,t){if("change"===e)return t}var Rr=!1;if(Rt){var Hr;if(Rt){var zr="oninput"in document;if(!zr){var Kr=document.createElement("div");Kr.setAttribute("oninput","return;"),zr="function"===typeof Kr.oninput}Hr=zr}else Hr=!1;Rr=Hr&&(!document.documentMode||9<document.documentMode)}function Vr(){Mr&&(Mr.detachEvent("onpropertychange",qr),Dr=Mr=null)}function qr(e){if("value"===e.propertyName&&Tr(Dr)){var t=[];Ir(t,Dr,e,Lt(e)),Tt(Pr,t)}}function Gr(e,t,r){"focusin"===e?(Vr(),Dr=r,(Mr=t).attachEvent("onpropertychange",qr)):"focusout"===e&&Vr()}function Wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Tr(Dr)}function Jr(e,t){if("click"===e)return Tr(t)}function Yr(e,t){if("input"===e||"change"===e)return Tr(t)}var Xr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zr(e,t){if(Xr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ne.call(t,s)||!Xr(e[s],t[s]))return!1}return!0}function $r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function en(e,t){var r,n=$r(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$r(n)}}function tn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rn(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=mt((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sn=Rt&&"documentMode"in document&&11>=document.documentMode,an=null,on=null,ln=null,An=!1;function cn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;An||null==an||an!==mt(n)||("selectionStart"in(n=an)&&nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ln&&Zr(ln,n)||(ln=n,0<(n=nd(on,"onSelect")).length&&(t=new rr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=an)))}function dn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var un={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},hn={},fn={};function mn(e){if(hn[e])return hn[e];if(!un[e])return e;var t,r=un[e];for(t in r)if(r.hasOwnProperty(t)&&t in fn)return hn[e]=r[t];return e}Rt&&(fn=document.createElement("div").style,"AnimationEvent"in window||(delete un.animationend.animation,delete un.animationiteration.animation,delete un.animationstart.animation),"TransitionEvent"in window||delete un.transitionend.transition);var pn=mn("animationend"),gn=mn("animationiteration"),xn=mn("animationstart"),bn=mn("transitionrun"),vn=mn("transitionstart"),yn=mn("transitioncancel"),wn=mn("transitionend"),Bn=new Map,Nn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,t){Bn.set(e,t),nt(t,[e])}Nn.push("scrollEnd");var Cn="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},kn=[],Sn=0,Fn=0;function En(){for(var e=Sn,t=Fn=Sn=0;t<e;){var r=kn[t];kn[t++]=null;var n=kn[t];kn[t++]=null;var s=kn[t];kn[t++]=null;var a=kn[t];if(kn[t++]=null,null!==n&&null!==s){var i=n.pending;null===i?s.next=s:(s.next=i.next,i.next=s),n.pending=s}0!==a&&Ln(r,s,a)}}function _n(e,t,r,n){kn[Sn++]=e,kn[Sn++]=t,kn[Sn++]=r,kn[Sn++]=n,Fn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Un(e,t,r,n){return _n(e,t,r,n),In(e)}function Qn(e,t){return _n(e,null,null,t),In(e)}function Ln(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var s=!1,a=e.return;null!==a;)a.childLanes|=r,null!==(n=a.alternate)&&(n.childLanes|=r),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(s=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,s&&null!==t&&(s=31-ve(r),null===(n=(e=a.hiddenUpdates)[s])?e[s]=[t]:n.push(t),t.lane=536870912|r),a):null}function In(e){if(50<KA)throw KA=0,VA=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mn={};function Dn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,t,r,n){return new Dn(e,t,r,n)}function Tn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function On(e,t){var r=e.alternate;return null===r?((r=Pn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Rn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hn(e,t,r,n,s,a){var o=0;if(n=e,"function"===typeof e)Tn(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Pn(31,r,t,s)).elementType=k,e.lanes=a,e;case g:return zn(r.children,s,a,t);case x:o=8,s|=24;break;case b:return(e=Pn(12,r,t,2|s)).elementType=b,e.lanes=a,e;case B:return(e=Pn(13,r,t,s)).elementType=B,e.lanes=a,e;case N:return(e=Pn(19,r,t,s)).elementType=N,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:o=10;break e;case v:o=9;break e;case w:o=11;break e;case j:o=14;break e;case C:o=16,n=null;break e}o=29,r=Error(i(130,null===e?"null":typeof e,"")),n=null}return(t=Pn(o,r,t,s)).elementType=e,t.type=n,t.lanes=a,t}function zn(e,t,r,n){return(e=Pn(7,e,n,t)).lanes=r,e}function Kn(e,t,r){return(e=Pn(6,e,null,t)).lanes=r,e}function Vn(e){var t=Pn(18,null,null,0);return t.stateNode=e,t}function qn(e,t,r){return(t=Pn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gn=new WeakMap;function Wn(e,t){if("object"===typeof e&&null!==e){var r=Gn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:re(t)},Gn.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var Jn=[],Yn=0,Xn=null,Zn=0,$n=[],es=0,ts=null,rs=1,ns="";function ss(e,t){Jn[Yn++]=Zn,Jn[Yn++]=Xn,Xn=e,Zn=t}function as(e,t,r){$n[es++]=rs,$n[es++]=ns,$n[es++]=ts,ts=e;var n=rs;e=ns;var s=32-ve(n)-1;n&=~(1<<s),r+=1;var a=32-ve(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,rs=1<<32-ve(t)+s|r<<s|n,ns=a+e}else rs=1<<a|r<<s|n,ns=e}function is(e){null!==e.return&&(ss(e,1),as(e,1,0))}function os(e){for(;e===Xn;)Xn=Jn[--Yn],Jn[Yn]=null,Zn=Jn[--Yn],Jn[Yn]=null;for(;e===ts;)ts=$n[--es],$n[es]=null,ns=$n[--es],$n[es]=null,rs=$n[--es],$n[es]=null}function ls(e,t){$n[es++]=rs,$n[es++]=ns,$n[es++]=ts,rs=t.id,ns=t.overflow,ts=e}var As=null,cs=null,ds=!1,us=null,hs=!1,fs=Error(i(519));function ms(e){throw ys(Wn(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fs}function ps(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Re]=e,t[He]=n,r){case"dialog":Yc("cancel",t),Yc("close",t);break;case"iframe":case"object":case"embed":Yc("load",t);break;case"video":case"audio":for(r=0;r<Gc.length;r++)Yc(Gc[r],t);break;case"source":Yc("error",t);break;case"img":case"image":case"link":Yc("error",t),Yc("load",t);break;case"details":Yc("toggle",t);break;case"input":Yc("invalid",t),bt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Yc("invalid",t);break;case"textarea":Yc("invalid",t),Bt(t,n.value,n.defaultValue,n.children)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||Ad(t.textContent,r)?(null!=n.popover&&(Yc("beforetoggle",t),Yc("toggle",t)),null!=n.onScroll&&Yc("scroll",t),null!=n.onScrollEnd&&Yc("scrollend",t),null!=n.onClick&&(t.onclick=Ut),t=!0):t=!1,t||ms(e,!0)}function gs(e){for(As=e.return;As;)switch(As.tag){case 5:case 31:case 13:return void(hs=!1);case 27:case 3:return void(hs=!0);default:As=As.return}}function xs(e){if(e!==As)return!1;if(!ds)return gs(e),ds=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&cs&&ms(e),gs(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));cs=Id(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));cs=Id(e)}else 27===r?(r=cs,Cd(e.type)?(e=Ld,Ld=null,cs=e):cs=r):cs=As?Qd(e.stateNode.nextSibling):null;return!0}function bs(){cs=As=null,ds=!1}function vs(){var e=us;return null!==e&&(null===EA?EA=e:EA.push.apply(EA,e),us=null),e}function ys(e){null===us?us=[e]:us.push(e)}var ws=T(null),Bs=null,Ns=null;function js(e,t,r){R(ws,t._currentValue),t._currentValue=r}function Cs(e){e._currentValue=ws.current,O(ws)}function ks(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ss(e,t,r,n){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var a=s.dependencies;if(null!==a){var o=s.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=s;for(var A=0;A<t.length;A++)if(l.context===t[A]){a.lanes|=r,null!==(l=a.alternate)&&(l.lanes|=r),ks(a.return,r,e),n||(o=null);break e}a=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=r,null!==(a=o.alternate)&&(a.lanes|=r),ks(o,r,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Fs(e,t,r,n){e=null;for(var s=t,a=!1;null!==s;){if(!a)if(0!==(524288&s.flags))a=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=s.type;Xr(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===G.current){if(null===(o=s.alternate))throw Error(i(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(cu):e=[cu])}s=s.return}null!==e&&Ss(t,e,r,n),t.flags|=262144}function Es(e){for(e=e.firstContext;null!==e;){if(!Xr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){Bs=e,Ns=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Us(e){return Ls(Bs,e)}function Qs(e,t){return null===Bs&&_s(e),Ls(e,t)}function Ls(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===Ns){if(null===e)throw Error(i(308));Ns=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ns=Ns.next=t;return r}var Is="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ms=n.unstable_scheduleCallback,Ds=n.unstable_NormalPriority,Ps={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ts(){return{controller:new Is,data:new Map,refCount:0}}function Os(e){e.refCount--,0===e.refCount&&Ms(Ds,function(){e.controller.abort()})}var Rs=null,Hs=0,zs=0,Ks=null;function Vs(){if(0===--Hs&&null!==Rs){null!==Ks&&(Ks.status="fulfilled");var e=Rs;Rs=null,zs=0,Ks=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var qs=L.S;L.S=function(e,t){QA=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Rs){var r=Rs=[];Hs=0,zs=Hc(),Ks={status:"pending",value:void 0,then:function(e){r.push(e)}}}Hs++,t.then(Vs,Vs)}(0,t),null!==qs&&qs(e,t)};var Gs=T(null);function Ws(){var e=Gs.current;return null!==e?e:fA.pooledCache}function Js(e,t){R(Gs,null===t?Gs.current:t.pool)}function Ys(){var e=Ws();return null===e?null:{parent:Ps._currentValue,pool:e}}var Xs=Error(i(460)),Zs=Error(i(474)),$s=Error(i(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ra(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Ut,Ut),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ut,Ut);else{if(null!==(e=fA)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e}throw sa=t,Xs}}function na(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw sa=t,Xs;throw t}}var sa=null;function aa(){if(null===sa)throw Error(i(459));var e=sa;return sa=null,e}function ia(e){if(e===Xs||e===$s)throw Error(i(483))}var oa=null,la=0;function Aa(e){var t=la;return la+=1,null===oa&&(oa=[]),ra(oa,e,t)}function ca(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function da(e,t){if(t.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ua(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=On(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Kn(r,e.mode,n)).return=e,t):((t=s(t,r)).return=e,t)}function A(e,t,r,n){var a=r.type;return a===g?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===C&&na(a)===t.type)?(ca(t=s(t,r.props),r),t.return=e,t):(ca(t=Hn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=qn(r,e.mode,n)).return=e,t):((t=s(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=zn(r,e.mode,n,a)).return=e,t):((t=s(t,r)).return=e,t)}function u(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Kn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ca(r=Hn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case p:return(t=qn(t,e.mode,r)).return=e,t;case C:return u(e,t=na(t),r)}if(Q(t)||E(t))return(t=zn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return u(e,Aa(t),r);if(t.$$typeof===y)return u(e,Qs(e,t),r);da(e,t)}return null}function h(e,t,r,n){var s=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==s?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return r.key===s?A(e,t,r,n):null;case p:return r.key===s?c(e,t,r,n):null;case C:return h(e,t,r=na(r),n)}if(Q(r)||E(r))return null!==s?null:d(e,t,r,n,null);if("function"===typeof r.then)return h(e,t,Aa(r),n);if(r.$$typeof===y)return h(e,t,Qs(e,r),n);da(e,r)}return null}function f(e,t,r,n,s){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return A(t,e=e.get(null===n.key?r:n.key)||null,n,s);case p:return c(t,e=e.get(null===n.key?r:n.key)||null,n,s);case C:return f(e,t,r,n=na(n),s)}if(Q(n)||E(n))return d(t,e=e.get(r)||null,n,s,null);if("function"===typeof n.then)return f(e,t,r,Aa(n),s);if(n.$$typeof===y)return f(e,t,r,Qs(t,n),s);da(t,n)}return null}function x(l,A,c,d){if("object"===typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var b=c.key;null!==A;){if(A.key===b){if((b=c.type)===g){if(7===A.tag){r(l,A.sibling),(d=s(A,c.props.children)).return=l,l=d;break e}}else if(A.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&na(b)===A.type){r(l,A.sibling),ca(d=s(A,c.props),c),d.return=l,l=d;break e}r(l,A);break}t(l,A),A=A.sibling}c.type===g?((d=zn(c.props.children,l.mode,d,c.key)).return=l,l=d):(ca(d=Hn(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return o(l);case p:e:{for(b=c.key;null!==A;){if(A.key===b){if(4===A.tag&&A.stateNode.containerInfo===c.containerInfo&&A.stateNode.implementation===c.implementation){r(l,A.sibling),(d=s(A,c.children||[])).return=l,l=d;break e}r(l,A);break}t(l,A),A=A.sibling}(d=qn(c,l.mode,d)).return=l,l=d}return o(l);case C:return x(l,A,c=na(c),d)}if(Q(c))return function(s,i,o,l){for(var A=null,c=null,d=i,m=i=0,p=null;null!==d&&m<o.length;m++){d.index>m?(p=d,d=null):p=d.sibling;var g=h(s,d,o[m],l);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&t(s,d),i=a(g,i,m),null===c?A=g:c.sibling=g,c=g,d=p}if(m===o.length)return r(s,d),ds&&ss(s,m),A;if(null===d){for(;m<o.length;m++)null!==(d=u(s,o[m],l))&&(i=a(d,i,m),null===c?A=d:c.sibling=d,c=d);return ds&&ss(s,m),A}for(d=n(d);m<o.length;m++)null!==(p=f(d,s,m,o[m],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?m:p.key),i=a(p,i,m),null===c?A=p:c.sibling=p,c=p);return e&&d.forEach(function(e){return t(s,e)}),ds&&ss(s,m),A}(l,A,c,d);if(E(c)){if("function"!==typeof(b=E(c)))throw Error(i(150));return function(s,o,l,A){if(null==l)throw Error(i(151));for(var c=null,d=null,m=o,p=o=0,g=null,x=l.next();null!==m&&!x.done;p++,x=l.next()){m.index>p?(g=m,m=null):g=m.sibling;var b=h(s,m,x.value,A);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(s,m),o=a(b,o,p),null===d?c=b:d.sibling=b,d=b,m=g}if(x.done)return r(s,m),ds&&ss(s,p),c;if(null===m){for(;!x.done;p++,x=l.next())null!==(x=u(s,x.value,A))&&(o=a(x,o,p),null===d?c=x:d.sibling=x,d=x);return ds&&ss(s,p),c}for(m=n(m);!x.done;p++,x=l.next())null!==(x=f(m,s,p,x.value,A))&&(e&&null!==x.alternate&&m.delete(null===x.key?p:x.key),o=a(x,o,p),null===d?c=x:d.sibling=x,d=x);return e&&m.forEach(function(e){return t(s,e)}),ds&&ss(s,p),c}(l,A,c=b.call(c),d)}if("function"===typeof c.then)return x(l,A,Aa(c),d);if(c.$$typeof===y)return x(l,A,Qs(l,c),d);da(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==A&&6===A.tag?(r(l,A.sibling),(d=s(A,c)).return=l,l=d):(r(l,A),(d=Kn(c,l.mode,d)).return=l,l=d),o(l)):r(l,A)}return function(e,t,r,n){try{la=0;var s=x(e,t,r,n);return oa=null,s}catch(i){if(i===Xs||i===$s)throw i;var a=Pn(29,i,null,e.mode);return a.lanes=n,a.return=e,a}}}var ha=ua(!0),fa=ua(!1),ma=!1;function pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ga(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&hA)){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=In(e),Ln(e,null,r),t}return _n(e,n,t,r),In(e)}function va(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Le(e,r)}}function ya(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var s=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===a?s=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?s=a=t:a=a.next=t}else s=a=t;return r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var wa=!1;function Ba(){if(wa){if(null!==Ks)throw Ks}}function Na(e,t,r,n){wa=!1;var s=e.updateQueue;ma=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,A=l.next;l.next=null,null===i?a=A:i.next=A,i=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===o?c.firstBaseUpdate=A:o.next=A,c.lastBaseUpdate=l))}if(null!==a){var d=s.baseState;for(i=0,c=A=l=null,o=a;;){var u=-536870913&o.lane,f=u!==o.lane;if(f?(pA&u)===u:(n&u)===u){0!==u&&u===zs&&(wa=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,p=o;u=t;var g=r;switch(p.tag){case 1:if("function"===typeof(m=p.payload)){d=m.call(g,d,u);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(u="function"===typeof(m=p.payload)?m.call(g,d,u):m)||void 0===u)break e;d=h({},d,u);break e;case 2:ma=!0}}null!==(u=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=s.callbacks)?s.callbacks=[u]:f.push(u))}else f={lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(A=c=f,l=d):c=c.next=f,i|=u;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(f=o).next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}null===c&&(l=d),s.baseState=l,s.firstBaseUpdate=A,s.lastBaseUpdate=c,null===a&&(s.shared.lanes=0),NA|=i,e.lanes=i,e.memoizedState=d}}function ja(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Ca(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)ja(r[e],t)}var ka=T(null),Sa=T(0);function Fa(e,t){R(Sa,e=wA),R(ka,t),wA=e|t.baseLanes}function Ea(){R(Sa,wA),R(ka,ka.current)}function _a(){wA=Sa.current,O(ka),O(Sa)}var Ua=T(null),Qa=null;function La(e){var t=e.alternate;R(Ta,1&Ta.current),R(Ua,e),null===Qa&&(null===t||null!==ka.current||null!==t.memoizedState)&&(Qa=e)}function Ia(e){R(Ta,Ta.current),R(Ua,e),null===Qa&&(Qa=e)}function Ma(e){22===e.tag?(R(Ta,Ta.current),R(Ua,e),null===Qa&&(Qa=e)):Da()}function Da(){R(Ta,Ta.current),R(Ua,Ua.current)}function Pa(e){O(Ua),Qa===e&&(Qa=null),O(Ta)}var Ta=T(0);function Oa(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||_d(r)||Ud(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=0,Ha=null,za=null,Ka=null,Va=!1,qa=!1,Ga=!1,Wa=0,Ja=0,Ya=null,Xa=0;function Za(){throw Error(i(321))}function $a(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xr(e[r],t[r]))return!1;return!0}function ei(e,t,r,n,s,a){return Ra=a,Ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?po:go,Ga=!1,a=r(n,s),Ga=!1,qa&&(a=ri(t,r,n,s)),ti(e),a}function ti(e){L.H=mo;var t=null!==za&&null!==za.next;if(Ra=0,Ka=za=Ha=null,Va=!1,Ja=0,Ya=null,t)throw Error(i(300));null===e||Qo||null!==(e=e.dependencies)&&Es(e)&&(Qo=!0)}function ri(e,t,r,n){Ha=e;var s=0;do{if(qa&&(Ya=null),Ja=0,qa=!1,25<=s)throw Error(i(301));if(s+=1,Ka=za=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}L.H=xo,a=t(r,n)}while(qa);return a}function ni(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?Ai(t):t,e=e.useState()[0],(null!==za?za.memoizedState:null)!==e&&(Ha.flags|=1024),t}function si(){var e=0!==Wa;return Wa=0,e}function ai(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ii(e){if(Va){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Va=!1}Ra=0,Ka=za=Ha=null,qa=!1,Ja=Wa=0,Ya=null}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ka?Ha.memoizedState=Ka=e:Ka=Ka.next=e,Ka}function li(){if(null===za){var e=Ha.alternate;e=null!==e?e.memoizedState:null}else e=za.next;var t=null===Ka?Ha.memoizedState:Ka.next;if(null!==t)Ka=t,za=e;else{if(null===e){if(null===Ha.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(za=e).memoizedState,baseState:za.baseState,baseQueue:za.baseQueue,queue:za.queue,next:null},null===Ka?Ha.memoizedState=Ka=e:Ka=Ka.next=e}return Ka}function Ai(e){var t=Ja;return Ja+=1,null===Ya&&(Ya=[]),e=ra(Ya,e,t),t=Ha,null===(null===Ka?t.memoizedState:Ka.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?po:go),e}function ci(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ai(e);if(e.$$typeof===y)return Us(e)}throw Error(i(438,String(e)))}function di(e){var t=null,r=Ha.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=Ha.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=S;return t.index++,r}function ui(e,t){return"function"===typeof t?t(e):t}function hi(e){return fi(li(),za,e)}function fi(e,t,r){var n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=r;var s=e.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}t.baseQueue=s=a,n.pending=null}if(a=e.baseState,null===s)e.memoizedState=a;else{var l=o=null,A=null,c=t=s.next,d=!1;do{var u=-536870913&c.lane;if(u!==c.lane?(pA&u)===u:(Ra&u)===u){var h=c.revertLane;if(0===h)null!==A&&(A=A.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),u===zs&&(d=!0);else{if((Ra&h)===h){c=c.next,h===zs&&(d=!0);continue}u={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===A?(l=A=u,o=a):A=A.next=u,Ha.lanes|=h,NA|=h}u=c.action,Ga&&r(a,u),a=c.hasEagerState?c.eagerState:r(a,u)}else h={lane:u,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===A?(l=A=h,o=a):A=A.next=h,Ha.lanes|=u,NA|=u;c=c.next}while(null!==c&&c!==t);if(null===A?o=a:A.next=l,!Xr(a,e.memoizedState)&&(Qo=!0,d&&null!==(r=Ks)))throw r;e.memoizedState=a,e.baseState=o,e.baseQueue=A,n.lastRenderedState=a}return null===s&&(n.lanes=0),[e.memoizedState,n.dispatch]}function mi(e){var t=li(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(null!==s){r.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);Xr(a,t.memoizedState)||(Qo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function pi(e,t,r){var n=Ha,s=li(),a=ds;if(a){if(void 0===r)throw Error(i(407));r=r()}else r=t();var o=!Xr((za||s).memoizedState,r);if(o&&(s.memoizedState=r,Qo=!0),s=s.queue,Ri(bi.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||null!==Ka&&1&Ka.memoizedState.tag){if(n.flags|=2048,Mi(9,{destroy:void 0},xi.bind(null,n,s,r,t),null),null===fA)throw Error(i(349));a||0!==(127&Ra)||gi(n,t,r)}return r}function gi(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Ha.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function xi(e,t,r,n){t.value=r,t.getSnapshot=n,vi(t)&&yi(e)}function bi(e,t,r){return r(function(){vi(t)&&yi(e)})}function vi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xr(e,r)}catch(n){return!0}}function yi(e){var t=Qn(e,2);null!==t&&WA(t,e,2)}function wi(e){var t=oi();if("function"===typeof e){var r=e;if(e=r(),Ga){be(!0);try{r()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e},t}function Bi(e,t,r,n){return e.baseState=r,fi(e,za,"function"===typeof n?n:ui)}function Ni(e,t,r,n,s){if(uo(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==L.T?r(!0):a.isTransition=!1,n(a),null===(r=t.pending)?(a.next=t.pending=a,ji(t,a)):(a.next=r.next,t.pending=r.next=a)}}function ji(e,t){var r=t.action,n=t.payload,s=e.state;if(t.isTransition){var a=L.T,i={};L.T=i;try{var o=r(s,n),l=L.S;null!==l&&l(i,o),Ci(e,t,o)}catch(A){Si(e,t,A)}finally{null!==a&&null!==i.types&&(a.types=i.types),L.T=a}}else try{Ci(e,t,a=r(s,n))}catch(c){Si(e,t,c)}}function Ci(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){ki(e,t,r)},function(r){return Si(e,t,r)}):ki(e,t,r)}function ki(e,t,r){t.status="fulfilled",t.value=r,Fi(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ji(e,r)))}function Si(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,Fi(t),t=t.next}while(t!==n)}e.action=null}function Fi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ei(e,t){return t}function _i(e,t){if(ds){var r=fA.formState;if(null!==r){e:{var n=Ha;if(ds){if(cs){t:{for(var s=cs,a=hs;8!==s.nodeType;){if(!a){s=null;break t}if(null===(s=Qd(s.nextSibling))){s=null;break t}}s="F!"===(a=s.data)||"F"===a?s:null}if(s){cs=Qd(s.nextSibling),n="F!"===s.data;break e}}ms(n)}n=!1}n&&(t=r[0])}}return(r=oi()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},r.queue=n,r=lo.bind(null,Ha,n),n.dispatch=r,n=wi(!1),a=co.bind(null,Ha,!1,n.queue),s={state:t,dispatch:null,action:e,pending:null},(n=oi()).queue=s,r=Ni.bind(null,Ha,s,a,r),s.dispatch=r,n.memoizedState=e,[t,r,!1]}function Ui(e){return Qi(li(),za,e)}function Qi(e,t,r){if(t=fi(e,t,Ei)[0],e=hi(ui)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=Ai(t)}catch(i){if(i===Xs)throw $s;throw i}else n=t;var s=(t=li()).queue,a=s.dispatch;return r!==t.memoizedState&&(Ha.flags|=2048,Mi(9,{destroy:void 0},Li.bind(null,s,r),null)),[n,a,e]}function Li(e,t){e.action=t}function Ii(e){var t=li(),r=za;if(null!==r)return Qi(t,r,e);li(),t=t.memoizedState;var n=(r=li()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Mi(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=Ha.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Di(){return li().memoizedState}function Pi(e,t,r,n){var s=oi();Ha.flags|=e,s.memoizedState=Mi(1|t,{destroy:void 0},r,void 0===n?null:n)}function Ti(e,t,r,n){var s=li();n=void 0===n?null:n;var a=s.memoizedState.inst;null!==za&&null!==n&&$a(n,za.memoizedState.deps)?s.memoizedState=Mi(t,a,r,n):(Ha.flags|=e,s.memoizedState=Mi(1|t,a,r,n))}function Oi(e,t){Pi(8390656,8,e,t)}function Ri(e,t){Ti(2048,8,e,t)}function Hi(e){var t=li().memoizedState;return function(e){Ha.flags|=4;var t=Ha.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&hA))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function zi(e,t){return Ti(4,2,e,t)}function Ki(e,t){return Ti(4,4,e,t)}function Vi(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function qi(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Ti(4,4,Vi.bind(null,t,e),r)}function Gi(){}function Wi(e,t){var r=li();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&$a(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ji(e,t){var r=li();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&$a(t,n[1]))return n[0];if(n=e(),Ga){be(!0);try{e()}finally{be(!1)}}return r.memoizedState=[n,t],n}function Yi(e,t,r){return void 0===r||0!==(1073741824&Ra)&&0===(261930&pA)?e.memoizedState=t:(e.memoizedState=r,e=GA(),Ha.lanes|=e,NA|=e,r)}function Xi(e,t,r,n){return Xr(r,t)?r:null!==ka.current?(e=Yi(e,r,n),Xr(e,t)||(Qo=!0),e):0===(42&Ra)||0!==(1073741824&Ra)&&0===(261930&pA)?(Qo=!0,e.memoizedState=r):(e=GA(),Ha.lanes|=e,NA|=e,t)}function Zi(e,t,r,n,s){var a=I.p;I.p=0!==a&&8>a?a:8;var i=L.T,o={};L.T=o,co(e,!1,t,r);try{var l=s(),A=L.S;if(null!==A&&A(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ao(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(l,n),qA());else Ao(e,t,n,qA())}catch(c){Ao(e,t,{then:function(){},status:"rejected",reason:c},qA())}finally{I.p=a,null!==i&&null!==o.types&&(i.types=o.types),L.T=i}}function $i(){}function eo(e,t,r,n){if(5!==e.tag)throw Error(i(476));var s=to(e).queue;Zi(e,s,t,M,null===r?$i:function(){return ro(e),r(n)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:M},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),Ao(e,t.next.queue,{},qA())}function no(){return Us(cu)}function so(){return li().memoizedState}function ao(){return li().memoizedState}function io(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=qA(),n=ba(t,e=xa(r),r);return null!==n&&(WA(n,t,r),va(n,t,r)),t={cache:Ts()},void(e.payload=t)}t=t.return}}function oo(e,t,r){var n=qA();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},uo(e)?ho(t,r):null!==(r=Un(e,t,r,n))&&(WA(r,e,n),fo(r,t,n))}function lo(e,t,r){Ao(e,t,r,qA())}function Ao(e,t,r,n){var s={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(uo(e))ho(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,r);if(s.hasEagerState=!0,s.eagerState=o,Xr(o,i))return _n(e,t,s,0),null===fA&&En(),!1}catch(l){}if(null!==(r=Un(e,t,s,n)))return WA(r,e,n),fo(r,t,n),!0}return!1}function co(e,t,r,n){if(n={lane:2,revertLane:Hc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},uo(e)){if(t)throw Error(i(479))}else null!==(t=Un(e,r,n,2))&&WA(t,e,2)}function uo(e){var t=e.alternate;return e===Ha||null!==t&&t===Ha}function ho(e,t){qa=Va=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fo(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Le(e,r)}}var mo={readContext:Us,use:ci,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};mo.useEffectEvent=Za;var po={readContext:Us,use:ci,useCallback:function(e,t){return oi().memoizedState=[e,void 0===t?null:t],e},useContext:Us,useEffect:Oi,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Pi(4194308,4,Vi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){Pi(4,2,e,t)},useMemo:function(e,t){var r=oi();t=void 0===t?null:t;var n=e();if(Ga){be(!0);try{e()}finally{be(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=oi();if(void 0!==r){var s=r(t);if(Ga){be(!0);try{r(t)}finally{be(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=oo.bind(null,Ha,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},oi().memoizedState=e},useState:function(e){var t=(e=wi(e)).queue,r=lo.bind(null,Ha,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Gi,useDeferredValue:function(e,t){return Yi(oi(),e,t)},useTransition:function(){var e=wi(!1);return e=Zi.bind(null,Ha,e.queue,!0,!1),oi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=Ha,s=oi();if(ds){if(void 0===r)throw Error(i(407));r=r()}else{if(r=t(),null===fA)throw Error(i(349));0!==(127&pA)||gi(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Oi(bi.bind(null,n,a,e),[e]),n.flags|=2048,Mi(9,{destroy:void 0},xi.bind(null,n,a,r,t),null),r},useId:function(){var e=oi(),t=fA.identifierPrefix;if(ds){var r=ns;t="_"+t+"R_"+(r=(rs&~(1<<32-ve(rs)-1)).toString(32)+r),0<(r=Wa++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=Xa++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:no,useFormState:_i,useActionState:_i,useOptimistic:function(e){var t=oi();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=co.bind(null,Ha,!0,r),r.dispatch=t,[e,t]},useMemoCache:di,useCacheRefresh:function(){return oi().memoizedState=io.bind(null,Ha)},useEffectEvent:function(e){var t=oi(),r={impl:e};return t.memoizedState=r,function(){if(0!==(2&hA))throw Error(i(440));return r.impl.apply(void 0,arguments)}}},go={readContext:Us,use:ci,useCallback:Wi,useContext:Us,useEffect:Ri,useImperativeHandle:qi,useInsertionEffect:zi,useLayoutEffect:Ki,useMemo:Ji,useReducer:hi,useRef:Di,useState:function(){return hi(ui)},useDebugValue:Gi,useDeferredValue:function(e,t){return Xi(li(),za.memoizedState,e,t)},useTransition:function(){var e=hi(ui)[0],t=li().memoizedState;return["boolean"===typeof e?e:Ai(e),t]},useSyncExternalStore:pi,useId:so,useHostTransitionStatus:no,useFormState:Ui,useActionState:Ui,useOptimistic:function(e,t){return Bi(li(),0,e,t)},useMemoCache:di,useCacheRefresh:ao};go.useEffectEvent=Hi;var xo={readContext:Us,use:ci,useCallback:Wi,useContext:Us,useEffect:Ri,useImperativeHandle:qi,useInsertionEffect:zi,useLayoutEffect:Ki,useMemo:Ji,useReducer:mi,useRef:Di,useState:function(){return mi(ui)},useDebugValue:Gi,useDeferredValue:function(e,t){var r=li();return null===za?Yi(r,e,t):Xi(r,za.memoizedState,e,t)},useTransition:function(){var e=mi(ui)[0],t=li().memoizedState;return["boolean"===typeof e?e:Ai(e),t]},useSyncExternalStore:pi,useId:so,useHostTransitionStatus:no,useFormState:Ii,useActionState:Ii,useOptimistic:function(e,t){var r=li();return null!==za?Bi(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:di,useCacheRefresh:ao};function bo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:h({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}xo.useEffectEvent=Hi;var vo={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qA(),s=xa(n);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=ba(e,s,n))&&(WA(t,e,n),va(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qA(),s=xa(n);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=ba(e,s,n))&&(WA(t,e,n),va(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qA(),n=xa(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=ba(e,n,r))&&(WA(t,e,r),va(t,e,r))}};function yo(e,t,r,n,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zr(r,n)||!Zr(s,a))}function wo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Bo(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var s in r===t&&(r=h({},r)),e)void 0===r[s]&&(r[s]=e[s]);return r}function No(e){Cn(e)}function jo(e){console.error(e)}function Co(e){Cn(e)}function ko(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function So(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Fo(e,t,r){return(r=xa(r)).tag=3,r.payload={element:null},r.callback=function(){ko(e,t)},r}function Eo(e){return(e=xa(e)).tag=3,e}function _o(e,t,r,n){var s=r.type.getDerivedStateFromError;if("function"===typeof s){var a=n.value;e.payload=function(){return s(a)},e.callback=function(){So(t,r,n)}}var i=r.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){So(t,r,n),"function"!==typeof s&&(null===MA?MA=new Set([this]):MA.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Uo=Error(i(461)),Qo=!1;function Lo(e,t,r,n){t.child=null===e?fa(t,null,r,n):ha(t,e.child,r,n)}function Io(e,t,r,n,s){r=r.render;var a=t.ref;if("ref"in n){var i={};for(var o in n)"ref"!==o&&(i[o]=n[o])}else i=n;return _s(t),n=ei(e,t,r,i,a,s),o=si(),null===e||Qo?(ds&&o&&is(t),t.flags|=1,Lo(e,t,n,s),t.child):(ai(e,t,s),sl(e,t,s))}function Mo(e,t,r,n,s){if(null===e){var a=r.type;return"function"!==typeof a||Tn(a)||void 0!==a.defaultProps||null!==r.compare?((e=Hn(r.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Do(e,t,a,n,s))}if(a=e.child,!al(e,s)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:Zr)(i,n)&&e.ref===t.ref)return sl(e,t,s)}return t.flags|=1,(e=On(a,n)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,r,n,s){if(null!==e){var a=e.memoizedProps;if(Zr(a,n)&&e.ref===t.ref){if(Qo=!1,t.pendingProps=n=a,!al(e,s))return t.lanes=e.lanes,sl(e,t,s);0!==(131072&e.flags)&&(Qo=!0)}}return Ko(e,t,r,n,s)}function Po(e,t,r,n){var s=n.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===n.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|r:r,null!==e){for(n=t.child=e.child,s=0;null!==n;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~a}else n=0,t.child=null;return Oo(e,t,a,r,n)}if(0===(536870912&r))return n=t.lanes=536870912,Oo(e,t,null!==a?a.baseLanes|r:r,r,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Js(0,null!==a?a.cachePool:null),null!==a?Fa(t,a):Ea(),Ma(t)}else null!==a?(Js(0,a.cachePool),Fa(t,a),Da(),t.memoizedState=null):(null!==e&&Js(0,null),Ea(),Da());return Lo(e,t,s,r),t.child}function To(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Oo(e,t,r,n,s){var a=Ws();return a=null===a?null:{parent:Ps._currentValue,pool:a},t.memoizedState={baseLanes:r,cachePool:a},null!==e&&Js(0,null),Ea(),Ma(t),null!==e&&Fs(e,t,n,!0),t.childLanes=s,null}function Ro(e,t){return(t=$o({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ho(e,t,r){return ha(t,e.child,null,r),(e=Ro(t,t.pendingProps)).flags|=2,Pa(t),t.memoizedState=null,e}function zo(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(i(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Ko(e,t,r,n,s){return _s(t),r=ei(e,t,r,n,void 0,s),n=si(),null===e||Qo?(ds&&n&&is(t),t.flags|=1,Lo(e,t,r,s),t.child):(ai(e,t,s),sl(e,t,s))}function Vo(e,t,r,n,s,a){return _s(t),t.updateQueue=null,r=ri(t,n,r,s),ti(e),n=si(),null===e||Qo?(ds&&n&&is(t),t.flags|=1,Lo(e,t,r,a),t.child):(ai(e,t,a),sl(e,t,a))}function qo(e,t,r,n,s){if(_s(t),null===t.stateNode){var a=Mn,i=r.contextType;"object"===typeof i&&null!==i&&(a=Us(i)),a=new r(n,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=vo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=n,a.state=t.memoizedState,a.refs={},pa(t),i=r.contextType,a.context="object"===typeof i&&null!==i?Us(i):Mn,a.state=t.memoizedState,"function"===typeof(i=r.getDerivedStateFromProps)&&(bo(t,r,i,n),a.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&vo.enqueueReplaceState(a,a.state,null),Na(t,n,a,s),Ba(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=Bo(r,o);a.props=l;var A=a.context,c=r.contextType;i=Mn,"object"===typeof c&&null!==c&&(i=Us(c));var d=r.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||A!==i)&&wo(t,a,n,i),ma=!1;var u=t.memoizedState;a.state=u,Na(t,n,a,s),Ba(),A=t.memoizedState,o||u!==A||ma?("function"===typeof d&&(bo(t,r,d,n),A=t.memoizedState),(l=ma||yo(t,r,l,n,u,A,i))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=A),a.props=n,a.state=A,a.context=i,n=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,ga(e,t),c=Bo(r,i=t.memoizedProps),a.props=c,d=t.pendingProps,u=a.context,A=r.contextType,l=Mn,"object"===typeof A&&null!==A&&(l=Us(A)),(A="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==d||u!==l)&&wo(t,a,n,l),ma=!1,u=t.memoizedState,a.state=u,Na(t,n,a,s),Ba();var h=t.memoizedState;i!==d||u!==h||ma||null!==e&&null!==e.dependencies&&Es(e.dependencies)?("function"===typeof o&&(bo(t,r,o,n),h=t.memoizedState),(c=ma||yo(t,r,c,n,u,h,l)||null!==e&&null!==e.dependencies&&Es(e.dependencies))?(A||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=l,n=c):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),n=!1)}return a=n,zo(e,t),n=0!==(128&t.flags),a||n?(a=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&n?(t.child=ha(t,e.child,null,s),t.child=ha(t,null,r,s)):Lo(e,t,r,s),t.memoizedState=a.state,e=t.child):e=sl(e,t,s),e}function Go(e,t,r,n){return bs(),t.flags|=256,Lo(e,t,r,n),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jo(e){return{baseLanes:e,cachePool:Ys()}}function Yo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=kA),e}function Xo(e,t,r){var n,s=t.pendingProps,a=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Ta.current)),n&&(a=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ds){if(a?La(t):Da(),(e=cs)?null!==(e=null!==(e=Ed(e,hs))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ts?{id:rs,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},(r=Vn(e)).return=t,t.child=r,As=t,cs=null):e=null,null===e)throw ms(t);return Ud(e)?t.lanes=32:t.lanes=536870912,null}var l=s.children;return s=s.fallback,a?(Da(),l=$o({mode:"hidden",children:l},a=t.mode),s=zn(s,a,r,null),l.return=t,s.return=t,l.sibling=s,t.child=l,(s=t.child).memoizedState=Jo(r),s.childLanes=Yo(e,n,r),t.memoizedState=Wo,To(null,s)):(La(t),Zo(t,l))}var A=e.memoizedState;if(null!==A&&null!==(l=A.dehydrated)){if(o)256&t.flags?(La(t),t.flags&=-257,t=el(e,t,r)):null!==t.memoizedState?(Da(),t.child=e.child,t.flags|=128,t=null):(Da(),l=s.fallback,a=t.mode,s=$o({mode:"visible",children:s.children},a),(l=zn(l,a,r,null)).flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,ha(t,e.child,null,r),(s=t.child).memoizedState=Jo(r),s.childLanes=Yo(e,n,r),t.memoizedState=Wo,t=To(null,s));else if(La(t),Ud(l)){if(n=l.nextSibling&&l.nextSibling.dataset)var c=n.dgst;n=c,(s=Error(i(419))).stack="",s.digest=n,ys({value:s,source:null,stack:null}),t=el(e,t,r)}else if(Qo||Fs(e,t,r,!1),n=0!==(r&e.childLanes),Qo||n){if(null!==(n=fA)&&(0!==(s=Ie(n,r))&&s!==A.retryLane))throw A.retryLane=s,Qn(e,s),WA(n,e,s),Uo;_d(l)||ic(),t=el(e,t,r)}else _d(l)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,cs=Qd(l.nextSibling),As=t,ds=!0,us=null,hs=!1,null!==e&&ls(t,e),(t=Zo(t,s.children)).flags|=4096);return t}return a?(Da(),l=s.fallback,a=t.mode,c=(A=e.child).sibling,(s=On(A,{mode:"hidden",children:s.children})).subtreeFlags=65011712&A.subtreeFlags,null!==c?l=On(c,l):(l=zn(l,a,r,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,To(null,s),s=t.child,null===(l=e.child.memoizedState)?l=Jo(r):(null!==(a=l.cachePool)?(A=Ps._currentValue,a=a.parent!==A?{parent:A,pool:A}:a):a=Ys(),l={baseLanes:l.baseLanes|r,cachePool:a}),s.memoizedState=l,s.childLanes=Yo(e,n,r),t.memoizedState=Wo,To(e.child,s)):(La(t),e=(r=e.child).sibling,(r=On(r,{mode:"visible",children:s.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Zo(e,t){return(t=$o({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $o(e,t){return(e=Pn(22,e,null,t)).lanes=0,e}function el(e,t,r){return ha(t,e.child,null,r),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ks(e.return,t,r)}function rl(e,t,r,n,s,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s,treeForkCount:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s,i.treeForkCount=a)}function nl(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;n=n.children;var i=Ta.current,o=0!==(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,R(Ta,i),Lo(e,t,n,r),n=ds?Zn:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,r,t);else if(19===e.tag)tl(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(r=t.child,s=null;null!==r;)null!==(e=r.alternate)&&null===Oa(e)&&(s=r),r=r.sibling;null===(r=s)?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),rl(t,!1,s,r,a,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Oa(e)){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}rl(t,!0,r,null,a,n);break;case"together":rl(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function sl(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),NA|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Fs(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=On(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=On(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Es(e))}function il(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Qo=!0;else{if(!al(e,r)&&0===(128&t.flags))return Qo=!1,function(e,t,r){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),js(0,Ps,e.memoizedState.cache),bs();break;case 27:case 5:Y(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:js(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ia(t),null;break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(La(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Xo(e,t,r):(La(t),null!==(e=sl(e,t,r))?e.sibling:null);La(t);break;case 19:var s=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Fs(e,t,r,!1),n=0!==(r&t.childLanes)),s){if(n)return nl(e,t,r);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),R(Ta,Ta.current),n)break;return null;case 22:return t.lanes=0,Po(e,t,r,t.pendingProps);case 24:js(0,Ps,e.memoizedState.cache)}return sl(e,t,r)}(e,t,r);Qo=0!==(131072&e.flags)}else Qo=!1,ds&&0!==(1048576&t.flags)&&as(t,Zn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=na(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var s=e.$$typeof;if(s===w){t.tag=11,t=Io(null,t,e,n,r);break e}if(s===j){t.tag=14,t=Mo(null,t,e,n,r);break e}}throw t=U(e)||e,Error(i(306,t,""))}Tn(e)?(n=Bo(e,n),t.tag=1,t=qo(null,t,e,n,r)):(t.tag=0,t=Ko(null,t,e,n,r))}return t;case 0:return Ko(e,t,t.type,t.pendingProps,r);case 1:return qo(e,t,n=t.type,s=Bo(n,t.pendingProps),r);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(i(387));n=t.pendingProps;var a=t.memoizedState;s=a.element,ga(e,t),Na(t,n,null,r);var o=t.memoizedState;if(n=o.cache,js(0,Ps,n),n!==a.cache&&Ss(t,[Ps],r,!0),Ba(),n=o.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Go(e,t,n,r);break e}if(n!==s){ys(s=Wn(Error(i(424)),t)),t=Go(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(cs=Qd(e.firstChild),As=t,ds=!0,us=null,hs=!0,r=fa(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(bs(),n===s){t=sl(e,t,r);break e}Lo(e,t,n,r)}t=t.child}return t;case 26:return zo(e,t),null===e?(r=Vd(t.type,null,t.pendingProps,null))?t.memoizedState=r:ds||(r=t.type,e=t.pendingProps,(n=pd(q.current).createElement(r))[Re]=t,n[He]=e,ud(n,r,e),et(n),t.stateNode=n):t.memoizedState=Vd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ds&&(n=t.stateNode=Dd(t.type,t.pendingProps,q.current),As=t,hs=!0,s=cs,Cd(t.type)?(Ld=s,cs=Qd(n.firstChild)):cs=s),Lo(e,t,t.pendingProps.children,r),zo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ds&&((s=n=cs)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var s=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[We])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===a)return e}if(null===(e=Qd(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,hs))?(t.stateNode=n,As=t,cs=Qd(n.firstChild),hs=!1,s=!0):s=!1),s||ms(t)),Y(t),s=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,n=a.children,bd(s,a)?n=null:null!==o&&bd(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=ei(e,t,ni,null,null,r),cu._currentValue=s),zo(e,t),Lo(e,t,n,r),t.child;case 6:return null===e&&ds&&((e=r=cs)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=Qd(e.nextSibling)))return null}return e}(r,t.pendingProps,hs))?(t.stateNode=r,As=t,cs=null,e=!0):e=!1),e||ms(t)),null;case 13:return Xo(e,t,r);case 4:return W(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ha(t,null,n,r):Lo(e,t,n,r),t.child;case 11:return Io(e,t,t.type,t.pendingProps,r);case 7:return Lo(e,t,t.pendingProps,r),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,js(0,t.type,n.value),Lo(e,t,n.children,r),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,_s(t),n=n(s=Us(s)),t.flags|=1,Lo(e,t,n,r),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,r);case 15:return Do(e,t,t.type,t.pendingProps,r);case 19:return nl(e,t,r);case 31:return function(e,t,r){var n=t.pendingProps,s=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ds){if("hidden"===n.mode)return e=Ro(t,n),t.lanes=536870912,To(null,e);if(Ia(t),(e=cs)?null!==(e=null!==(e=Ed(e,hs))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ts?{id:rs,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},(r=Vn(e)).return=t,t.child=r,As=t,cs=null):e=null,null===e)throw ms(t);return t.lanes=536870912,null}return Ro(t,n)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(Ia(t),s)if(256&t.flags)t.flags&=-257,t=Ho(e,t,r);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Qo||Fs(e,t,r,!1),s=0!==(r&e.childLanes),Qo||s){if(null!==(n=fA)&&0!==(o=Ie(n,r))&&o!==a.retryLane)throw a.retryLane=o,Qn(e,o),WA(n,e,o),Uo;ic(),t=Ho(e,t,r)}else e=a.treeContext,cs=Qd(o.nextSibling),As=t,ds=!0,us=null,hs=!1,null!==e&&ls(t,e),(t=Ro(t,n)).flags|=4096;return t}return(e=On(e.child,{mode:n.mode,children:n.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return Po(e,t,r,t.pendingProps);case 24:return _s(t),n=Us(Ps),null===e?(null===(s=Ws())&&(s=fA,a=Ts(),s.pooledCache=a,a.refCount++,null!==a&&(s.pooledCacheLanes|=r),s=a),t.memoizedState={parent:n,cache:s},pa(t),js(0,Ps,s)):(0!==(e.lanes&r)&&(ga(e,t),Na(t,null,null,r),Ba()),s=e.memoizedState,a=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),js(0,Ps,n)):(n=a.cache,js(0,Ps,n),n!==s.cache&&Ss(t,[Ps],r,!0))),Lo(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ol(e){e.flags|=4}function ll(e,t,r,n,s){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&s)===s)if(e.stateNode.complete)e.flags|=8192;else{if(!nc())throw sa=ea,Zs;e.flags|=8192}}else e.flags&=-16777217}function Al(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!su(t)){if(!nc())throw sa=ea,Zs;e.flags|=8192}}function cl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ee():536870912,e.lanes|=t,SA|=t)}function dl(e,t){if(!ds)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ul(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=65011712&s.subtreeFlags,n|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function hl(e,t,r){var n=t.pendingProps;switch(os(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ul(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cs(Ps),J(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(xs(t)?ol(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,vs())),ul(t),null;case 26:var s=t.type,a=t.memoizedState;return null===e?(ol(t),null!==a?(ul(t),Al(t,a)):(ul(t),ll(t,s,0,0,r))):a?a!==e.memoizedState?(ol(t),ul(t),Al(t,a)):(ul(t),t.flags&=-16777217):((e=e.memoizedProps)!==n&&ol(t),ul(t),ll(t,s,0,0,r)),null;case 27:if(X(t),r=q.current,s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&ol(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return ul(t),null}e=K.current,xs(t)?ps(t):(e=Dd(s,n,r),t.stateNode=e,ol(t))}return ul(t),null;case 5:if(X(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&ol(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return ul(t),null}if(a=K.current,xs(t))ps(t);else{var o=pd(q.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof n.is?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?a.multiple=!0:n.size&&(a.size=n.size);break;default:a="string"===typeof n.is?o.createElement(s,{is:n.is}):o.createElement(s)}}a[Re]=t,a[He]=n;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(ud(a,s,n),s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ol(t)}}return ul(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&ol(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(e=q.current,xs(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(s=As))switch(s.tag){case 27:case 5:n=s.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||Ad(e.nodeValue,r)))||ms(t,!0)}else(e=pd(e).createTextNode(n))[Re]=t,t.stateNode=e}return ul(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(n=xs(t),null!==r){if(null===e){if(!n)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Re]=t}else bs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ul(t),e=!1}else r=vs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(Pa(t),t):(Pa(t),null);if(0!==(128&t.flags))throw Error(i(558))}return ul(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=xs(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[Re]=t}else bs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ul(t),s=!1}else s=vs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(Pa(t),t):(Pa(t),null)}return Pa(t),0!==(128&t.flags)?(t.lanes=r,t):(r=null!==n,e=null!==e&&null!==e.memoizedState,r&&(s=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(s=n.alternate.memoizedState.cachePool.pool),a=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(a=n.memoizedState.cachePool.pool),a!==s&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),cl(t,t.updateQueue),ul(t),null);case 4:return J(),null===e&&$c(t.stateNode.containerInfo),ul(t),null;case 10:return Cs(t.type),ul(t),null;case 19:if(O(Ta),null===(n=t.memoizedState))return ul(t),null;if(s=0!==(128&t.flags),null===(a=n.rendering))if(s)dl(n,!1);else{if(0!==BA||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Oa(e))){for(t.flags|=128,dl(n,!1),e=a.updateQueue,t.updateQueue=e,cl(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Rn(r,e),r=r.sibling;return R(Ta,1&Ta.current|2),ds&&ss(t,n.treeForkCount),t.child}e=e.sibling}null!==n.tail&&le()>LA&&(t.flags|=128,s=!0,dl(n,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=Oa(a))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,cl(t,e),dl(n,!0),null===n.tail&&"hidden"===n.tailMode&&!a.alternate&&!ds)return ul(t),null}else 2*le()-n.renderingStartTime>LA&&536870912!==r&&(t.flags|=128,s=!0,dl(n,!1),t.lanes=4194304);n.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=n.last)?e.sibling=a:t.child=a,n.last=a)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=le(),e.sibling=null,r=Ta.current,R(Ta,s?1&r|2:1&r),ds&&ss(t,n.treeForkCount),e):(ul(t),null);case 22:case 23:return Pa(t),_a(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(ul(t),6&t.subtreeFlags&&(t.flags|=8192)):ul(t),null!==(r=t.updateQueue)&&cl(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&O(Gs),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Cs(Ps),ul(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function fl(e,t){switch(os(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cs(Ps),J(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Pa(t),null===t.alternate)throw Error(i(340));bs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Pa(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));bs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return O(Ta),null;case 4:return J(),null;case 10:return Cs(t.type),null;case 22:case 23:return Pa(t),_a(),null!==e&&O(Gs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cs(Ps),null;default:return null}}function ml(e,t){switch(os(t),t.tag){case 3:Cs(Ps),J();break;case 26:case 27:case 5:X(t);break;case 4:J();break;case 31:null!==t.memoizedState&&Pa(t);break;case 13:Pa(t);break;case 19:O(Ta);break;case 10:Cs(t.type);break;case 22:case 23:Pa(t),_a(),null!==e&&O(Gs);break;case 24:Cs(Ps)}}function pl(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var s=n.next;r=s;do{if((r.tag&e)===e){n=void 0;var a=r.create,i=r.inst;n=a(),i.destroy=n}r=r.next}while(r!==s)}}catch(o){Bc(t,t.return,o)}}function gl(e,t,r){try{var n=t.updateQueue,s=null!==n?n.lastEffect:null;if(null!==s){var a=s.next;n=a;do{if((n.tag&e)===e){var i=n.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,s=t;var l=r,A=o;try{A()}catch(c){Bc(s,l,c)}}}n=n.next}while(n!==a)}}catch(c){Bc(t,t.return,c)}}function xl(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{Ca(t,r)}catch(n){Bc(e,e.return,n)}}}function bl(e,t,r){r.props=Bo(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){Bc(e,t,n)}}function vl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(s){Bc(e,t,s)}}function yl(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(s){Bc(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(a){Bc(e,t,a)}else r.current=null}function wl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(s){Bc(e,e.return,s)}}function Bl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,o=null,l=null,A=null,c=null,d=null;for(f in r){var u=r[f];if(r.hasOwnProperty(f)&&null!=u)switch(f){case"checked":case"value":break;case"defaultValue":A=u;default:n.hasOwnProperty(f)||cd(e,t,f,null,n,u)}}for(var h in n){var f=n[h];if(u=r[h],n.hasOwnProperty(h)&&(null!=f||null!=u))switch(h){case"type":a=f;break;case"name":s=f;break;case"checked":c=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==u&&cd(e,t,h,f,n,u)}}return void xt(e,o,l,A,c,d,a,s);case"select":for(a in f=o=l=h=null,r)if(A=r[a],r.hasOwnProperty(a)&&null!=A)switch(a){case"value":break;case"multiple":f=A;default:n.hasOwnProperty(a)||cd(e,t,a,null,n,A)}for(s in n)if(a=n[s],A=r[s],n.hasOwnProperty(s)&&(null!=a||null!=A))switch(s){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==A&&cd(e,t,s,a,n,A)}return t=l,r=o,n=f,void(null!=h?yt(e,!!r,h,!1):!!n!==!!r&&(null!=t?yt(e,!!r,t,!0):yt(e,!!r,r?[]:"",!1)));case"textarea":for(l in f=h=null,r)if(s=r[l],r.hasOwnProperty(l)&&null!=s&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:cd(e,t,l,null,n,s)}for(o in n)if(s=n[o],a=r[o],n.hasOwnProperty(o)&&(null!=s||null!=a))switch(o){case"value":h=s;break;case"defaultValue":f=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==a&&cd(e,t,o,s,n,a)}return void wt(e,h,f);case"option":for(var m in r)if(h=r[m],r.hasOwnProperty(m)&&null!=h&&!n.hasOwnProperty(m))if("selected"===m)e.selected=!1;else cd(e,t,m,null,n,h);for(A in n)if(h=n[A],f=r[A],n.hasOwnProperty(A)&&h!==f&&(null!=h||null!=f))if("selected"===A)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else cd(e,t,A,h,n,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in r)h=r[p],r.hasOwnProperty(p)&&null!=h&&!n.hasOwnProperty(p)&&cd(e,t,p,null,n,h);for(c in n)if(h=n[c],f=r[c],n.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:cd(e,t,c,h,n,f)}return;default:if(St(t)){for(var g in r)h=r[g],r.hasOwnProperty(g)&&void 0!==h&&!n.hasOwnProperty(g)&&dd(e,t,g,void 0,n,h);for(d in n)h=n[d],f=r[d],!n.hasOwnProperty(d)||h===f||void 0===h&&void 0===f||dd(e,t,d,h,n,f);return}}for(var x in r)h=r[x],r.hasOwnProperty(x)&&null!=h&&!n.hasOwnProperty(x)&&cd(e,t,x,null,n,h);for(u in n)h=n[u],f=r[u],!n.hasOwnProperty(u)||h===f||null==h&&null==f||cd(e,t,u,h,n,f)}(n,e.type,r,t),n[He]=t}catch(s){Bc(e,e.return,s)}}function Nl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function jl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Ut));else if(4!==n&&(27===n&&Cd(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,r),e=e.sibling;null!==e;)Cl(e,t,r),e=e.sibling}function kl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&Cd(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(kl(e,t,r),e=e.sibling;null!==e;)kl(e,t,r),e=e.sibling}function Sl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ud(t,n,r),t[Re]=e,t[He]=r}catch(a){Bc(e,e.return,a)}}var Fl=!1,El=!1,_l=!1,Ul="function"===typeof WeakSet?WeakSet:Set,Ql=null;function Ll(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Wl(e,r),4&n&&pl(5,r);break;case 1:if(Wl(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(i){Bc(r,r.return,i)}else{var s=Bo(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Bc(r,r.return,o)}}64&n&&xl(r),512&n&&vl(r,r.return);break;case 3:if(Wl(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{Ca(e,t)}catch(i){Bc(r,r.return,i)}}break;case 27:null===t&&4&n&&Sl(r);case 26:case 5:Wl(e,r),null===t&&4&n&&wl(r),512&n&&vl(r,r.return);break;case 12:Wl(e,r);break;case 31:Wl(e,r),4&n&&Ol(e,r);break;case 13:Wl(e,r),4&n&&Rl(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=kc.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||Fl)){t=null!==t&&null!==t.memoizedState||El,s=Fl;var a=El;Fl=n,(El=t)&&!a?Yl(e,r,0!==(8772&r.subtreeFlags)):Wl(e,r),Fl=s,El=a}break;case 30:break;default:Wl(e,r)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Dl=!1;function Pl(e,t,r){for(r=r.child;null!==r;)Tl(e,t,r),r=r.sibling}function Tl(e,t,r){if(xe&&"function"===typeof xe.onCommitFiberUnmount)try{xe.onCommitFiberUnmount(ge,r)}catch(a){}switch(r.tag){case 26:El||yl(r,t),Pl(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:El||yl(r,t);var n=Ml,s=Dl;Cd(r.type)&&(Ml=r.stateNode,Dl=!1),Pl(e,t,r),Pd(r.stateNode),Ml=n,Dl=s;break;case 5:El||yl(r,t);case 6:if(n=Ml,s=Dl,Ml=null,Pl(e,t,r),Dl=s,null!==(Ml=n))if(Dl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(r.stateNode)}catch(i){Bc(r,t,i)}else try{Ml.removeChild(r.stateNode)}catch(i){Bc(r,t,i)}break;case 18:null!==Ml&&(Dl?(kd(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Ku(e)):kd(Ml,r.stateNode));break;case 4:n=Ml,s=Dl,Ml=r.stateNode.containerInfo,Dl=!0,Pl(e,t,r),Ml=n,Dl=s;break;case 0:case 11:case 14:case 15:gl(2,r,t),El||gl(4,r,t),Pl(e,t,r);break;case 1:El||(yl(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&bl(r,t,n)),Pl(e,t,r);break;case 21:Pl(e,t,r);break;case 22:El=(n=El)||null!==r.memoizedState,Pl(e,t,r),El=n;break;default:Pl(e,t,r)}}function Ol(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Ku(e)}catch(r){Bc(t,t.return,r)}}}function Rl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ku(e)}catch(r){Bc(t,t.return,r)}}function Hl(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ul),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ul),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var n=Sc.bind(null,e,t);t.then(n,n)}})}function zl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var s=r[n],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Ml=l.stateNode,Dl=!1;break e}break;case 5:Ml=l.stateNode,Dl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Dl=!0;break e}l=l.return}if(null===Ml)throw Error(i(160));Tl(a,o,s),Ml=null,Dl=!1,null!==(a=s.alternate)&&(a.return=null),s.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vl(t,e),t=t.sibling}var Kl=null;function Vl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zl(t,e),ql(e),4&n&&(gl(3,e,e.return),pl(3,e),gl(5,e,e.return));break;case 1:zl(t,e),ql(e),512&n&&(El||null===r||yl(r,r.return)),64&n&&Fl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var s=Kl;if(zl(t,e),ql(e),512&n&&(El||null===r||yl(r,r.return)),4&n){var a=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":(!(a=s.getElementsByTagName("title")[0])||a[We]||a[Re]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=s.createElement(n),s.head.insertBefore(a,s.querySelector("head > title"))),ud(a,n,r),a[Re]=e,et(a),n=a;break e;case"link":var o=ru("link","href",s).get(n+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&a.getAttribute("rel")===(null==r.rel?null:r.rel)&&a.getAttribute("title")===(null==r.title?null:r.title)&&a.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}ud(a=s.createElement(n),n,r),s.head.appendChild(a);break;case"meta":if(o=ru("meta","content",s).get(n+(r.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&a.getAttribute("name")===(null==r.name?null:r.name)&&a.getAttribute("property")===(null==r.property?null:r.property)&&a.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&a.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}ud(a=s.createElement(n),n,r),s.head.appendChild(a);break;default:throw Error(i(468,n))}a[Re]=e,et(a),n=a}e.stateNode=n}else nu(s,e.type,e.stateNode);else e.stateNode=Xd(s,n,e.memoizedProps);else a!==n?(null===a?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):a.count--,null===n?nu(s,e.type,e.stateNode):Xd(s,n,e.memoizedProps)):null===n&&null!==e.stateNode&&Bl(e,e.memoizedProps,r.memoizedProps)}break;case 27:zl(t,e),ql(e),512&n&&(El||null===r||yl(r,r.return)),null!==r&&4&n&&Bl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(zl(t,e),ql(e),512&n&&(El||null===r||yl(r,r.return)),32&e.flags){s=e.stateNode;try{Nt(s,"")}catch(m){Bc(e,e.return,m)}}4&n&&null!=e.stateNode&&Bl(e,s=e.memoizedProps,null!==r?r.memoizedProps:s),1024&n&&(_l=!0);break;case 6:if(zl(t,e),ql(e),4&n){if(null===e.stateNode)throw Error(i(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(m){Bc(e,e.return,m)}}break;case 3:if(tu=null,s=Kl,Kl=Rd(t.containerInfo),zl(t,e),Kl=s,ql(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ku(t.containerInfo)}catch(m){Bc(e,e.return,m)}_l&&(_l=!1,Gl(e));break;case 4:n=Kl,Kl=Rd(e.stateNode.containerInfo),zl(t,e),ql(e),Kl=n;break;case 12:default:zl(t,e),ql(e);break;case 31:case 19:zl(t,e),ql(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Hl(e,n)));break;case 13:zl(t,e),ql(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(UA=le()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Hl(e,n)));break;case 22:s=null!==e.memoizedState;var A=null!==r&&null!==r.memoizedState,c=Fl,d=El;if(Fl=c||s,El=d||A,zl(t,e),El=d,Fl=c,ql(e),8192&n)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===r||A||Fl||El||Jl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){A=r=t;try{if(a=A.stateNode,s)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=A.stateNode;var u=A.memoizedProps.style,h=void 0!==u&&null!==u&&u.hasOwnProperty("display")?u.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(m){Bc(A,A.return,m)}}}else if(6===t.tag){if(null===r){A=t;try{A.stateNode.nodeValue=s?"":A.memoizedProps}catch(m){Bc(A,A.return,m)}}}else if(18===t.tag){if(null===r){A=t;try{var f=A.stateNode;s?Sd(f,!0):Sd(A.stateNode,!1)}catch(m){Bc(A,A.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Hl(e,r))));case 30:case 21:}}function ql(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(Nl(n)){r=n;break}n=n.return}if(null==r)throw Error(i(160));switch(r.tag){case 27:var s=r.stateNode;kl(e,jl(e),s);break;case 5:var a=r.stateNode;32&r.flags&&(Nt(a,""),r.flags&=-33),kl(e,jl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;Cl(e,jl(e),o);break;default:throw Error(i(161))}}catch(l){Bc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Wl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gl(4,t,t.return),Jl(t);break;case 1:yl(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&bl(t,t.return,r),Jl(t);break;case 27:Pd(t.stateNode);case 26:case 5:yl(t,t.return),Jl(t);break;case 22:null===t.memoizedState&&Jl(t);break;default:Jl(t)}e=e.sibling}}function Yl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,s=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Yl(s,a,r),pl(4,a);break;case 1:if(Yl(s,a,r),"function"===typeof(s=(n=a).stateNode).componentDidMount)try{s.componentDidMount()}catch(A){Bc(n,n.return,A)}if(null!==(s=(n=a).updateQueue)){var o=n.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)ja(l[s],o)}catch(A){Bc(n,n.return,A)}}r&&64&i&&xl(a),vl(a,a.return);break;case 27:Sl(a);case 26:case 5:Yl(s,a,r),r&&null===n&&4&i&&wl(a),vl(a,a.return);break;case 12:Yl(s,a,r);break;case 31:Yl(s,a,r),r&&4&i&&Ol(s,a);break;case 13:Yl(s,a,r),r&&4&i&&Rl(s,a);break;case 22:null===a.memoizedState&&Yl(s,a,r),vl(a,a.return);break;case 30:break;default:Yl(s,a,r)}t=t.sibling}}function Xl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Os(r))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e))}function $l(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)eA(e,t,r,n),t=t.sibling}function eA(e,t,r,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,r,n),2048&s&&pl(9,t);break;case 1:case 31:case 13:default:$l(e,t,r,n);break;case 3:$l(e,t,r,n),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e)));break;case 12:if(2048&s){$l(e,t,r,n),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,o=a.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Bc(t,t.return,l)}}else $l(e,t,r,n);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?$l(e,t,r,n):rA(e,t):2&a._visibility?$l(e,t,r,n):(a._visibility|=2,tA(e,t,r,n,0!==(10256&t.subtreeFlags)||!1)),2048&s&&Xl(i,t);break;case 24:$l(e,t,r,n),2048&s&&Zl(t.alternate,t)}}function tA(e,t,r,n,s){for(s=s&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,i=t,o=r,l=n,A=i.flags;switch(i.tag){case 0:case 11:case 15:tA(a,i,o,l,s),pl(8,i);break;case 23:break;case 22:var c=i.stateNode;null!==i.memoizedState?2&c._visibility?tA(a,i,o,l,s):rA(a,i):(c._visibility|=2,tA(a,i,o,l,s)),s&&2048&A&&Xl(i.alternate,i);break;case 24:tA(a,i,o,l,s),s&&2048&A&&Zl(i.alternate,i);break;default:tA(a,i,o,l,s)}t=t.sibling}}function rA(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,s=n.flags;switch(n.tag){case 22:rA(r,n),2048&s&&Xl(n.alternate,n);break;case 24:rA(r,n),2048&s&&Zl(n.alternate,n);break;default:rA(r,n)}t=t.sibling}}var nA=8192;function sA(e,t,r){if(e.subtreeFlags&nA)for(e=e.child;null!==e;)aA(e,t,r),e=e.sibling}function aA(e,t,r){switch(e.tag){case 26:sA(e,t,r),e.flags&nA&&null!==e.memoizedState&&function(e,t,r,n){if("stylesheet"===r.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&r.state.loading)){if(null===r.instance){var s=qd(n.href),a=t.querySelector(Gd(s));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=iu.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=a,void et(a);a=t.ownerDocument||t,n=Wd(n),(s=Td.get(s))&&$d(n,s),et(a=a.createElement("link"));var i=a;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),ud(a,"link",n),r.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&0===(3&r.state.loading)&&(e.count++,r=iu.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,Kl,e.memoizedState,e.memoizedProps);break;case 5:default:sA(e,t,r);break;case 3:case 4:var n=Kl;Kl=Rd(e.stateNode.containerInfo),sA(e,t,r),Kl=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=nA,nA=16777216,sA(e,t,r),nA=n):sA(e,t,r))}}function iA(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oA(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Ql=n,cA(n,e)}iA(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lA(e),e=e.sibling}function lA(e){switch(e.tag){case 0:case 11:case 15:oA(e),2048&e.flags&&gl(9,e,e.return);break;case 3:case 12:default:oA(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,AA(e)):oA(e)}}function AA(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Ql=n,cA(n,e)}iA(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:gl(8,t,t.return),AA(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,AA(t));break;default:AA(t)}e=e.sibling}}function cA(e,t){for(;null!==Ql;){var r=Ql;switch(r.tag){case 0:case 11:case 15:gl(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Os(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Ql=n;else e:for(r=e;null!==Ql;){var s=(n=Ql).sibling,a=n.return;if(Il(n),n===r){Ql=null;break e}if(null!==s){s.return=a,Ql=s;break e}Ql=a}}}var dA={getCacheForType:function(e){var t=Us(Ps),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Us(Ps).controller.signal}},uA="function"===typeof WeakMap?WeakMap:Map,hA=0,fA=null,mA=null,pA=0,gA=0,xA=null,bA=!1,vA=!1,yA=!1,wA=0,BA=0,NA=0,jA=0,CA=0,kA=0,SA=0,FA=null,EA=null,_A=!1,UA=0,QA=0,LA=1/0,IA=null,MA=null,DA=0,PA=null,TA=null,OA=0,RA=0,HA=null,zA=null,KA=0,VA=null;function qA(){return 0!==(2&hA)&&0!==pA?pA&-pA:null!==L.T?Hc():Pe()}function GA(){if(0===kA)if(0===(536870912&pA)||ds){var e=Ne;0===(3932160&(Ne<<=1))&&(Ne=262144),kA=e}else kA=536870912;return null!==(e=Ua.current)&&(e.flags|=32),kA}function WA(e,t,r){(e!==fA||2!==gA&&9!==gA)&&null===e.cancelPendingCommit||(tc(e,0),ZA(e,pA,kA,!1)),Ue(e,r),0!==(2&hA)&&e===fA||(e===fA&&(0===(2&hA)&&(jA|=r),4===BA&&ZA(e,pA,kA,!1)),Ic(e))}function JA(e,t,r){if(0!==(6&hA))throw Error(i(327));for(var n=!r&&0===(127&t)&&0===(t&e.expiredLanes)||Se(e,t),s=n?function(e,t){var r=hA;hA|=2;var n=sc(),s=ac();fA!==e||pA!==t?(IA=null,LA=le()+500,tc(e,t)):vA=Se(e,t);e:for(;;)try{if(0!==gA&&null!==mA){t=mA;var a=xA;t:switch(gA){case 1:gA=0,xA=null,uc(e,t,a,1);break;case 2:case 9:if(ta(a)){gA=0,xA=null,dc(t);break}t=function(){2!==gA&&9!==gA||fA!==e||(gA=7),Ic(e)},a.then(t,t);break e;case 3:gA=7;break e;case 4:gA=5;break e;case 7:ta(a)?(gA=0,xA=null,dc(t)):(gA=0,xA=null,uc(e,t,a,7));break;case 5:var o=null;switch(mA.tag){case 26:o=mA.memoizedState;case 5:case 27:var l=mA;if(o?su(o):l.stateNode.complete){gA=0,xA=null;var A=l.sibling;if(null!==A)mA=A;else{var c=l.return;null!==c?(mA=c,hc(c)):mA=null}break t}}gA=0,xA=null,uc(e,t,a,5);break;case 6:gA=0,xA=null,uc(e,t,a,6);break;case 8:ec(),BA=6;break e;default:throw Error(i(462))}}Ac();break}catch(d){rc(e,d)}return Ns=Bs=null,L.H=n,L.A=s,hA=r,null!==mA?0:(fA=null,pA=0,En(),BA)}(e,t):oc(e,t,!0),a=n;;){if(0===s){vA&&!n&&ZA(e,t,0,!1);break}if(r=e.current.alternate,!a||XA(r)){if(2===s){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=FA;var A=l.current.memoizedState.isDehydrated;if(A&&(tc(l,o).flags|=256),2!==(o=oc(l,o,!1))){if(yA&&!A){l.errorRecoveryDisabledLanes|=a,jA|=a,s=4;break e}a=EA,EA=s,null!==a&&(null===EA?EA=a:EA.push.apply(EA,a))}s=o}if(a=!1,2!==s)continue}}if(1===s){tc(e,0),ZA(e,t,0,!0);break}e:{switch(n=e,a=s){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:ZA(n,t,kA,!bA);break e;case 2:EA=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(s=UA+300-le())){if(ZA(n,t,kA,!bA),0!==ke(n,0,!0))break e;OA=t,n.timeoutHandle=yd(YA.bind(null,n,r,EA,IA,_A,t,kA,jA,SA,bA,a,"Throttled",-0,0),s)}else YA(n,r,EA,IA,_A,t,kA,jA,SA,bA,a,null,-0,0)}break}s=oc(e,t,!1),a=!1}Ic(e)}function YA(e,t,r,n,s,a,i,o,l,A,c,d,u,h){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){aA(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ut});var f=(62914560&a)===a?UA-le():(4194048&a)===a?QA-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&lu(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&lu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===au&&(au=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var s=r[n],a=s.transferSize,i=s.initiatorType,o=s.duration;if(a&&o&&hd(i)){for(i=0,o=s.responseEnd,n+=1;n<r.length;n++){var l=r[n],A=l.startTime;if(A>o)break;var c=l.transferSize,d=l.initiatorType;c&&hd(d)&&(i+=c*((l=l.responseEnd)<o?1:(o-A)/(l-A)))}if(--n,t+=8*(a+i)/(s.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var s=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lu(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>au?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}(d,f)))return OA=a,e.cancelPendingCommit=f(mc.bind(null,e,t,a,r,n,s,i,o,l,c,d,null,u,h)),void ZA(e,a,i,!A)}mc(e,t,a,r,n,s,i,o,l)}function XA(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Xr(a(),s))return!1}catch(i){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ZA(e,t,r,n){t&=~CA,t&=~jA,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var a=31-ve(s),i=1<<a;n[a]=-1,s&=~i}0!==r&&Qe(e,r,t)}function $A(){return 0!==(6&hA)||(Mc(0,!1),!1)}function ec(){if(null!==mA){if(0===gA)var e=mA.return;else Ns=Bs=null,ii(e=mA),oa=null,la=0,e=mA;for(;null!==e;)ml(e.alternate,e),e=e.return;mA=null}}function tc(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,wd(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),OA=0,ec(),fA=e,mA=r=On(e.current,null),pA=t,gA=0,xA=null,bA=!1,vA=Se(e,t),yA=!1,SA=kA=CA=jA=NA=BA=0,EA=FA=null,_A=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var s=31-ve(n),a=1<<s;t|=e[s],n&=~a}return wA=t,En(),r}function rc(e,t){Ha=null,L.H=mo,t===Xs||t===$s?(t=aa(),gA=3):t===Zs?(t=aa(),gA=4):gA=t===Uo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,xA=t,null===mA&&(BA=1,ko(e,Wn(t,e.current)))}function nc(){var e=Ua.current;return null===e||((4194048&pA)===pA?null===Qa:((62914560&pA)===pA||0!==(536870912&pA))&&e===Qa)}function sc(){var e=L.H;return L.H=mo,null===e?mo:e}function ac(){var e=L.A;return L.A=dA,e}function ic(){BA=4,bA||(4194048&pA)!==pA&&null!==Ua.current||(vA=!0),0===(134217727&NA)&&0===(134217727&jA)||null===fA||ZA(fA,pA,kA,!1)}function oc(e,t,r){var n=hA;hA|=2;var s=sc(),a=ac();fA===e&&pA===t||(IA=null,tc(e,t)),t=!1;var i=BA;e:for(;;)try{if(0!==gA&&null!==mA){var o=mA,l=xA;switch(gA){case 8:ec(),i=6;break e;case 3:case 2:case 9:case 6:null===Ua.current&&(t=!0);var A=gA;if(gA=0,xA=null,uc(e,o,l,A),r&&vA){i=0;break e}break;default:A=gA,gA=0,xA=null,uc(e,o,l,A)}}lc(),i=BA;break}catch(c){rc(e,c)}return t&&e.shellSuspendCounter++,Ns=Bs=null,hA=n,L.H=s,L.A=a,null===mA&&(fA=null,pA=0,En()),i}function lc(){for(;null!==mA;)cc(mA)}function Ac(){for(;null!==mA&&!ie();)cc(mA)}function cc(e){var t=il(e.alternate,e,wA);e.memoizedProps=e.pendingProps,null===t?hc(e):mA=t}function dc(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Vo(r,t,t.pendingProps,t.type,void 0,pA);break;case 11:t=Vo(r,t,t.pendingProps,t.type.render,t.ref,pA);break;case 5:ii(t);default:ml(r,t),t=il(r,t=mA=Rn(t,wA),wA)}e.memoizedProps=e.pendingProps,null===t?hc(e):mA=t}function uc(e,t,r,n){Ns=Bs=null,ii(t),oa=null,la=0;var s=t.return;try{if(function(e,t,r,n,s){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Fs(t,r,s,!0),null!==(r=Ua.current)){switch(r.tag){case 31:case 13:return null===Qa?ic():null===r.alternate&&0===BA&&(BA=3),r.flags&=-257,r.flags|=65536,r.lanes=s,n===ea?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),Nc(e,n,s)),!1;case 22:return r.flags|=65536,n===ea?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),Nc(e,n,s)),!1}throw Error(i(435,r.tag))}return Nc(e,n,s),ic(),!1}if(ds)return null!==(t=Ua.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==fs&&ys(Wn(e=Error(i(422),{cause:n}),r))):(n!==fs&&ys(Wn(t=Error(i(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,n=Wn(n,r),ya(e,s=Fo(e.stateNode,n,s)),4!==BA&&(BA=2)),!1;var a=Error(i(520),{cause:n});if(a=Wn(a,r),null===FA?FA=[a]:FA.push(a),4!==BA&&(BA=2),null===t)return!0;n=Wn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=s&-s,r.lanes|=e,ya(r,e=Fo(r.stateNode,n,e)),!1;case 1:if(t=r.type,a=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===MA||!MA.has(a))))return r.flags|=65536,s&=-s,r.lanes|=s,_o(s=Eo(s),e,r,n),ya(r,s),!1}r=r.return}while(null!==r);return!1}(e,s,t,r,pA))return BA=1,ko(e,Wn(r,e.current)),void(mA=null)}catch(a){if(null!==s)throw mA=s,a;return BA=1,ko(e,Wn(r,e.current)),void(mA=null)}32768&t.flags?(ds||1===n?e=!0:vA||0!==(536870912&pA)?e=!1:(bA=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=Ua.current)&&13===n.tag&&(n.flags|=16384))),fc(t,e)):hc(t)}function hc(e){var t=e;do{if(0!==(32768&t.flags))return void fc(t,bA);e=t.return;var r=hl(t.alternate,t,wA);if(null!==r)return void(mA=r);if(null!==(t=t.sibling))return void(mA=t);mA=t=e}while(null!==t);0===BA&&(BA=5)}function fc(e,t){do{var r=fl(e.alternate,e);if(null!==r)return r.flags&=32767,void(mA=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(mA=e);mA=e=r}while(null!==e);BA=6,mA=null}function mc(e,t,r,n,s,a,o,l,A){e.cancelPendingCommit=null;do{vc()}while(0!==DA);if(0!==(6&hA))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,r,n,s,a){var i=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,A=e.hiddenUpdates;for(r=i&~r;0<r;){var c=31-ve(r),d=1<<c;o[c]=0,l[c]=-1;var u=A[c];if(null!==u)for(A[c]=null,c=0;c<u.length;c++){var h=u[c];null!==h&&(h.lane&=-536870913)}r&=~d}0!==n&&Qe(e,n,0),0!==a&&0===s&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,r,a|=Fn,o,l,A),e===fA&&(mA=fA=null,pA=0),TA=t,PA=e,OA=r,RA=a,HA=s,zA=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,se(ue,function(){return yc(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null,s=I.p,I.p=2,o=hA,hA|=4;try{!function(e,t){if(e=e.containerInfo,fd=bu,nn(e=rn(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(p){r=null;break e}var o=0,l=-1,A=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var f;u!==r||0!==s&&3!==u.nodeType||(l=o+s),u!==a||0!==n&&3!==u.nodeType||(A=o+n),3===u.nodeType&&(o+=u.nodeValue.length),null!==(f=u.firstChild);)h=u,u=f;for(;;){if(u===e)break t;if(h===r&&++c===s&&(l=o),h===a&&++d===n&&(A=o),null!==(f=u.nextSibling))break;h=(u=h).parentNode}u=f}r=-1===l||-1===A?null:{start:l,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:e,selectionRange:r},bu=!1,Ql=t;null!==Ql;)if(e=(t=Ql).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ql=e;else for(;null!==Ql;){switch(a=(t=Ql).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(s=e[r]).ref.impl=s.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,r=t,s=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var m=Bo(r.type,s);e=n.getSnapshotBeforeUpdate(m,a),n.__reactInternalSnapshotBeforeUpdate=e}catch(g){Bc(r,r.return,g)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))Fd(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Ql=e;break}Ql=t.return}}(e,t)}finally{hA=o,I.p=s,L.T=n}}DA=1,pc(),gc(),xc()}}function pc(){if(1===DA){DA=0;var e=PA,t=TA,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=L.T,L.T=null;var n=I.p;I.p=2;var s=hA;hA|=4;try{Vl(t,e);var a=md,i=rn(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(i!==o&&o&&o.ownerDocument&&tn(o.ownerDocument.documentElement,o)){if(null!==l&&nn(o)){var A=l.start,c=l.end;if(void 0===c&&(c=A),"selectionStart"in o)o.selectionStart=A,o.selectionEnd=Math.min(c,o.value.length);else{var d=o.ownerDocument||document,u=d&&d.defaultView||window;if(u.getSelection){var h=u.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),p=void 0===l.end?m:Math.min(l.end,f);!h.extend&&m>p&&(i=p,p=m,m=i);var g=en(o,m),x=en(o,p);if(g&&x&&(1!==h.rangeCount||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==x.node||h.focusOffset!==x.offset)){var b=d.createRange();b.setStart(g.node,g.offset),h.removeAllRanges(),m>p?(h.addRange(b),h.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),h.addRange(b))}}}}for(d=[],h=o;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var v=d[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}bu=!!fd,md=fd=null}finally{hA=s,I.p=n,L.T=r}}e.current=t,DA=2}}function gc(){if(2===DA){DA=0;var e=PA,t=TA,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=L.T,L.T=null;var n=I.p;I.p=2;var s=hA;hA|=4;try{Ll(e,t.alternate,t)}finally{hA=s,I.p=n,L.T=r}}DA=3}}function xc(){if(4===DA||3===DA){DA=0,oe();var e=PA,t=TA,r=OA,n=zA;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?DA=5:(DA=0,TA=PA=null,bc(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(MA=null),De(r),t=t.stateNode,xe&&"function"===typeof xe.onCommitFiberRoot)try{xe.onCommitFiberRoot(ge,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=L.T,s=I.p,I.p=2,L.T=null;try{for(var a=e.onRecoverableError,i=0;i<n.length;i++){var o=n[i];a(o.value,{componentStack:o.stack})}}finally{L.T=t,I.p=s}}0!==(3&OA)&&vc(),Ic(e),s=e.pendingLanes,0!==(261930&r)&&0!==(42&s)?e===VA?KA++:(KA=0,VA=e):KA=0,Mc(0,!1)}}function bc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Os(t)))}function vc(){return pc(),gc(),xc(),yc()}function yc(){if(5!==DA)return!1;var e=PA,t=RA;RA=0;var r=De(OA),n=L.T,s=I.p;try{I.p=32>r?32:r,L.T=null,r=HA,HA=null;var a=PA,o=OA;if(DA=0,TA=PA=null,OA=0,0!==(6&hA))throw Error(i(331));var l=hA;if(hA|=4,lA(a.current),eA(a,a.current,o,r),hA=l,Mc(0,!1),xe&&"function"===typeof xe.onPostCommitFiberRoot)try{xe.onPostCommitFiberRoot(ge,a)}catch(A){}return!0}finally{I.p=s,L.T=n,bc(e,t)}}function wc(e,t,r){t=Wn(r,t),null!==(e=ba(e,t=Fo(e.stateNode,t,2),2))&&(Ue(e,2),Ic(e))}function Bc(e,t,r){if(3===e.tag)wc(e,e,r);else for(;null!==t;){if(3===t.tag){wc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===MA||!MA.has(n))){e=Wn(r,e),null!==(n=ba(t,r=Eo(2),2))&&(_o(r,n,t,e),Ue(n,2),Ic(n));break}}t=t.return}}function Nc(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new uA;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(r)||(yA=!0,s.add(r),e=jc.bind(null,e,t,r),t.then(e,e))}function jc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,fA===e&&(pA&r)===r&&(4===BA||3===BA&&(62914560&pA)===pA&&300>le()-UA?0===(2&hA)&&tc(e,0):CA|=r,SA===pA&&(SA=0)),Ic(e)}function Cc(e,t){0===t&&(t=Ee()),null!==(e=Qn(e,t))&&(Ue(e,t),Ic(e))}function kc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cc(e,r)}function Sc(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(r=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==n&&n.delete(t),Cc(e,r)}var Fc=null,Ec=null,_c=!1,Uc=!1,Qc=!1,Lc=0;function Ic(e){e!==Ec&&null===e.next&&(null===Ec?Fc=Ec=e:Ec=Ec.next=e),Uc=!0,_c||(_c=!0,Nd(function(){0!==(6&hA)?se(ce,Dc):Pc()}))}function Mc(e,t){if(!Qc&&Uc){Qc=!0;do{for(var r=!1,n=Fc;null!==n;){if(!t)if(0!==e){var s=n.pendingLanes;if(0===s)var a=0;else{var i=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-ve(42|e)+1)-1,a=201326741&(a&=s&~(i&~o))?201326741&a|1:a?2|a:0}0!==a&&(r=!0,Rc(n,a))}else a=pA,0===(3&(a=ke(n,n===fA?a:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||Se(n,a)||(r=!0,Rc(n,a));n=n.next}}while(r);Qc=!1}}function Dc(){Pc()}function Pc(){Uc=_c=!1;var e=0;0!==Lc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==vd&&(vd=e,!0);return vd=null,!1}()&&(e=Lc);for(var t=le(),r=null,n=Fc;null!==n;){var s=n.next,a=Tc(n,t);0===a?(n.next=null,null===r?Fc=s:r.next=s,null===s&&(Ec=r)):(r=n,(0!==e||0!==(3&a))&&(Uc=!0)),n=s}0!==DA&&5!==DA||Mc(e,!1),0!==Lc&&(Lc=0)}function Tc(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-ve(a),o=1<<i,l=s[i];-1===l?0!==(o&r)&&0===(o&n)||(s[i]=Fe(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(r=pA,r=ke(e,e===(t=fA)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===gA||9===gA)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&ae(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||Se(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&ae(n),De(r)){case 2:case 8:r=de;break;case 32:default:r=ue;break;case 268435456:r=fe}return n=Oc.bind(null,e),r=se(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&ae(n),e.callbackPriority=2,e.callbackNode=null,2}function Oc(e,t){if(0!==DA&&5!==DA)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(vc()&&e.callbackNode!==r)return null;var n=pA;return 0===(n=ke(e,e===fA?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(JA(e,n,t),Tc(e,le()),null!=e.callbackNode&&e.callbackNode===r?Oc.bind(null,e):null)}function Rc(e,t){if(vc())return null;JA(e,t,!0)}function Hc(){if(0===Lc){var e=zs;0===e&&(e=Be,0===(261888&(Be<<=1))&&(Be=256)),Lc=e}return Lc}function zc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:_t(""+e)}function Kc(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Vc=0;Vc<Nn.length;Vc++){var qc=Nn[Vc];jn(qc.toLowerCase(),"on"+(qc[0].toUpperCase()+qc.slice(1)))}jn(pn,"onAnimationEnd"),jn(gn,"onAnimationIteration"),jn(xn,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(bn,"onTransitionRun"),jn(vn,"onTransitionStart"),jn(yn,"onTransitionCancel"),jn(wn,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gc));function Jc(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,A=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=A;try{a(s)}catch(c){Cn(c)}s.currentTarget=null,a=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,A=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=A;try{a(s)}catch(c){Cn(c)}s.currentTarget=null,a=l}}}}function Yc(e,t){var r=t[Ke];void 0===r&&(r=t[Ke]=new Set);var n=e+"__bubble";r.has(n)||(ed(t,e,2,!1),r.add(n))}function Xc(e,t,r){var n=0;t&&(n|=4),ed(r,e,n,t)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function $c(e){if(!e[Zc]){e[Zc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Wc.has(t)||Xc(t,!1,e),Xc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zc]||(t[Zc]=!0,Xc("selectionchange",!1,t))}}function ed(e,t,r,n){switch(Cu(t)){case 2:var s=vu;break;case 8:s=yu;break;default:s=wu}r=s.bind(null,t,r,e),s=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):void 0!==s?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function td(e,t,r,n,s){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===s)break;if(4===i)for(i=n.return;null!==i;){var A=i.tag;if((3===A||4===A)&&i.stateNode.containerInfo===s)return;i=i.return}for(;null!==o;){if(null===(i=Ye(o)))return;if(5===(A=i.tag)||6===A||26===A||27===A){n=a=i;continue e}o=o.parentNode}}n=n.return}Tt(function(){var n=a,s=Lt(r),i=[];e:{var o=Bn.get(e);if(void 0!==o){var A=rr,c=e;switch(e){case"keypress":if(0===Wt(r))break e;case"keydown":case"keyup":A=gr;break;case"focusin":c="focus",A=lr;break;case"focusout":c="blur",A=lr;break;case"beforeblur":case"afterblur":A=lr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=br;break;case pn:case gn:case xn:A=Ar;break;case wn:A=vr;break;case"scroll":case"scrollend":A=sr;break;case"wheel":A=yr;break;case"copy":case"cut":case"paste":A=cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=xr;break;case"toggle":case"beforetoggle":A=wr}var d=0!==(4&t),u=!d&&("scroll"===e||"scrollend"===e),h=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=n;null!==m;){var p=m;if(f=p.stateNode,5!==(p=p.tag)&&26!==p&&27!==p||null===f||null===h||null!=(p=Ot(m,h))&&d.push(rd(m,p,f)),u)break;m=m.return}0<d.length&&(o=new A(o,c,null,r,s),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(A="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Qt||!(c=r.relatedTarget||r.fromElement)||!Ye(c)&&!c[ze])&&(A||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,A?(A=n,null!==(c=(c=r.relatedTarget||r.toElement)?Ye(c):null)&&(u=l(c),d=c.tag,c!==u||5!==d&&27!==d&&6!==d)&&(c=null)):(A=null,c=n),A!==c)){if(d=ir,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=xr,p="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==A?o:Ze(A),f=null==c?o:Ze(c),(o=new d(p,m+"leave",A,r,s)).target=u,o.relatedTarget=f,p=null,Ye(s)===n&&((d=new d(h,m+"enter",c,r,s)).target=f,d.relatedTarget=u,p=d),u=p,A&&c)e:{for(d=sd,m=c,f=0,p=h=A;p;p=d(p))f++;p=0;for(var g=m;g;g=d(g))p++;for(;0<f-p;)h=d(h),f--;for(;0<p-f;)m=d(m),p--;for(;f--;){if(h===m||null!==m&&h===m.alternate){d=h;break e}h=d(h),m=d(m)}d=null}else d=null;null!==A&&ad(i,o,A,d,!1),null!==c&&null!==u&&ad(i,u,c,d,!0)}if("select"===(A=(o=n?Ze(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===A&&"file"===o.type)var x=Or;else if(Lr(o))if(Rr)x=Yr;else{x=Wr;var b=Gr}else!(A=o.nodeName)||"input"!==A.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&St(n.elementType)&&(x=Or):x=Jr;switch(x&&(x=x(e,n))?Ir(i,x,r,s):(b&&b(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&vt(o,"number",o.value)),b=n?Ze(n):window,e){case"focusin":(Lr(b)||"true"===b.contentEditable)&&(an=b,on=n,ln=null);break;case"focusout":ln=on=an=null;break;case"mousedown":An=!0;break;case"contextmenu":case"mouseup":case"dragend":An=!1,cn(i,r,s);break;case"selectionchange":if(sn)break;case"keydown":case"keyup":cn(i,r,s)}var v;if(Nr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ur?Er(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(kr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==y?"onCompositionEnd"===y&&Ur&&(v=Gt()):(Vt="value"in(Kt=s)?Kt.value:Kt.textContent,Ur=!0)),0<(b=nd(n,y)).length&&(y=new dr(y,e,null,r,s),i.push({event:y,listeners:b}),v?y.data=v:null!==(v=_r(r))&&(y.data=v))),(v=Cr?function(e,t){switch(e){case"compositionend":return _r(t);case"keypress":return 32!==t.which?null:(Fr=!0,Sr);case"textInput":return(e=t.data)===Sr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Nr&&Er(e,t)?(e=Gt(),qt=Vt=Kt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(y=nd(n,"onBeforeInput")).length&&(b=new dr("onBeforeInput","beforeinput",null,r,s),i.push({event:b,listeners:y}),b.data=v)),function(e,t,r,n,s){if("submit"===t&&r&&r.stateNode===s){var a=zc((s[He]||null).action),i=n.submitter;i&&null!==(t=(t=i[He]||null)?zc(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var o=new rr("action","action",null,n,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Lc){var e=i?Kc(s,i):new FormData(s);eo(r,{pending:!0,data:e,method:s.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=i?Kc(s,i):new FormData(s),eo(r,{pending:!0,data:e,method:s.method,action:a},a,e))},currentTarget:s}]})}}(i,e,n,r,s)}Jc(i,t)})}function rd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nd(e,t){for(var r=t+"Capture",n=[];null!==e;){var s=e,a=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===a||(null!=(s=Ot(e,r))&&n.unshift(rd(e,s,a)),null!=(s=Ot(e,t))&&n.push(rd(e,s,a))),3===e.tag)return n;e=e.return}return[]}function sd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,r,n,s){for(var a=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,A=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===A||(l=A,s?null!=(A=Ot(r,a))&&i.unshift(rd(r,A,l)):s||null!=(A=Ot(r,a))&&i.push(rd(r,A,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var id=/\r\n?/g,od=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(id,"\n").replace(od,"")}function Ad(e,t){return t=ld(t),ld(e)===t}function cd(e,t,r,n,s,a){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||Nt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&Nt(e,""+n);break;case"className":At(e,"class",n);break;case"tabIndex":At(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":At(e,r,n);break;case"style":kt(e,n,a);break;case"data":if("object"!==t){At(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=_t(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===r?("input"!==t&&cd(e,t,"name",s.name,s,null),cd(e,t,"formEncType",s.formEncType,s,null),cd(e,t,"formMethod",s.formMethod,s,null),cd(e,t,"formTarget",s.formTarget,s,null)):(cd(e,t,"encType",s.encType,s,null),cd(e,t,"method",s.method,s,null),cd(e,t,"target",s.target,s,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=_t(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Ut);break;case"onScroll":null!=n&&Yc("scroll",e);break;case"onScrollEnd":null!=n&&Yc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(r=n.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=_t(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":Yc("beforetoggle",e),Yc("toggle",e),lt(e,"popover",n);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":lt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&lt(e,r=Ft.get(r)||r,n)}}function dd(e,t,r,n,s,a){switch(r){case"style":kt(e,n,a);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(r=n.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=r}}break;case"children":"string"===typeof n?Nt(e,n):("number"===typeof n||"bigint"===typeof n)&&Nt(e,""+n);break;case"onScroll":null!=n&&Yc("scroll",e);break;case"onScrollEnd":null!=n&&Yc("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Ut);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:rt.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(s=r.endsWith("Capture"),t=r.slice(2,s?r.length-7:void 0),"function"===typeof(a=null!=(a=e[He]||null)?a[r]:null)&&e.removeEventListener(t,a,s),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):lt(e,r,n):("function"!==typeof a&&null!==a&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,s)))}}function ud(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yc("error",e),Yc("load",e);var n,s=!1,a=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:cd(e,t,n,o,r,null)}}return a&&cd(e,t,"srcSet",r.srcSet,r,null),void(s&&cd(e,t,"src",r.src,r,null));case"input":Yc("invalid",e);var l=n=o=a=null,A=null,c=null;for(s in r)if(r.hasOwnProperty(s)){var d=r[s];if(null!=d)switch(s){case"name":a=d;break;case"type":o=d;break;case"checked":A=d;break;case"defaultChecked":c=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:cd(e,t,s,d,r,null)}}return void bt(e,n,l,A,c,o,a,!1);case"select":for(a in Yc("invalid",e),s=o=n=null,r)if(r.hasOwnProperty(a)&&null!=(l=r[a]))switch(a){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:cd(e,t,a,l,r,null)}return t=n,r=o,e.multiple=!!s,void(null!=t?yt(e,!!s,t,!1):null!=r&&yt(e,!!s,r,!0));case"textarea":for(o in Yc("invalid",e),n=a=s=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":s=l;break;case"defaultValue":a=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:cd(e,t,o,l,r,null)}return void Bt(e,s,a,n);case"option":for(A in r)if(r.hasOwnProperty(A)&&null!=(s=r[A]))if("selected"===A)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else cd(e,t,A,s,r,null);return;case"dialog":Yc("beforetoggle",e),Yc("toggle",e),Yc("cancel",e),Yc("close",e);break;case"iframe":case"object":Yc("load",e);break;case"video":case"audio":for(s=0;s<Gc.length;s++)Yc(Gc[s],e);break;case"image":Yc("error",e),Yc("load",e);break;case"details":Yc("toggle",e);break;case"embed":case"source":case"link":Yc("error",e),Yc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in r)if(r.hasOwnProperty(c)&&null!=(s=r[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:cd(e,t,c,s,r,null)}return;default:if(St(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(s=r[d])&&dd(e,t,d,s,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(s=r[l])&&cd(e,t,l,s,r,null))}function hd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fd=null,md=null;function pd(e){return 9===e.nodeType?e:e.ownerDocument}function gd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vd=null;var yd="function"===typeof setTimeout?setTimeout:void 0,wd="function"===typeof clearTimeout?clearTimeout:void 0,Bd="function"===typeof Promise?Promise:void 0,Nd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Bd?function(e){return Bd.resolve(null).then(e).catch(jd)}:yd;function jd(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function kd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)||"/&"===r){if(0===n)return e.removeChild(s),void Ku(t);n--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)n++;else if("html"===r)Pd(e.ownerDocument.documentElement);else if("head"===r){Pd(r=e.ownerDocument.head);for(var a=r.firstChild;a;){var i=a.nextSibling,o=a.nodeName;a[We]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===a.rel.toLowerCase()||r.removeChild(a),a=i}}else"body"===r&&Pd(e.ownerDocument.body);r=s}while(r);Ku(t)}function Sd(e,t){var r=e;e=0;do{var n=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=n}while(r)}function Fd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Fd(r),Je(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function Ed(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Qd(e.nextSibling)))return null}return e}function _d(e){return"$?"===e.data||"$~"===e.data}function Ud(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Qd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ld=null;function Id(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return Qd(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function Dd(e,t,r){switch(t=pd(r),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Pd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Je(e)}var Td=new Map,Od=new Set;function Rd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=I.d;I.d={f:function(){var e=Hd.f(),t=$A();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):Hd.r(e)},D:function(e){Hd.D(e),Kd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),Kd("preconnect",e,t)},L:function(e,t,r){Hd.L(e,t,r);var n=zd;if(n&&e&&t){var s='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(s+='[imagesrcset="'+gt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(s+='[imagesizes="'+gt(r.imageSizes)+'"]')):s+='[href="'+gt(e)+'"]';var a=s;switch(t){case"style":a=qd(e);break;case"script":a=Jd(e)}Td.has(a)||(e=h({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),Td.set(a,e),null!==n.querySelector(s)||"style"===t&&n.querySelector(Gd(a))||"script"===t&&n.querySelector(Yd(a))||(ud(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var r=zd;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+gt(n)+'"][href="'+gt(e)+'"]',a=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Jd(e)}if(!Td.has(a)&&(e=h({rel:"modulepreload",href:e},t),Td.set(a,e),null===r.querySelector(s))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yd(a)))return}ud(n=r.createElement("link"),"link",e),et(n),r.head.appendChild(n)}}},X:function(e,t){Hd.X(e,t);var r=zd;if(r&&e){var n=$e(r).hoistableScripts,s=Jd(e),a=n.get(s);a||((a=r.querySelector(Yd(s)))||(e=h({src:e,async:!0},t),(t=Td.get(s))&&eu(e,t),et(a=r.createElement("script")),ud(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(s,a))}},S:function(e,t,r){Hd.S(e,t,r);var n=zd;if(n&&e){var s=$e(n).hoistableStyles,a=qd(e);t=t||"default";var i=s.get(a);if(!i){var o={loading:0,preload:null};if(i=n.querySelector(Gd(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Td.get(a))&&$d(e,r);var l=i=n.createElement("link");et(l),ud(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zd(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:o},s.set(a,i)}}},M:function(e,t){Hd.M(e,t);var r=zd;if(r&&e){var n=$e(r).hoistableScripts,s=Jd(e),a=n.get(s);a||((a=r.querySelector(Yd(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=Td.get(s))&&eu(e,t),et(a=r.createElement("script")),ud(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(s,a))}}};var zd="undefined"===typeof document?null:document;function Kd(e,t,r){var n=zd;if(n&&"string"===typeof t&&t){var s=gt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof r&&(s+='[crossorigin="'+r+'"]'),Od.has(s)||(Od.add(s),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(s)&&(ud(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}}function Vd(e,t,r,n){var s,a,o,l,A=(A=q.current)?Rd(A):null;if(!A)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=qd(r.href),(n=(r=$e(A).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=qd(r.href);var c=$e(A).hoistableStyles,d=c.get(e);if(d||(A=A.ownerDocument||A,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=A.querySelector(Gd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Td.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Td.set(e,r),c||(s=A,a=e,o=r,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=s.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ud(a,"link",o),et(a),s.head.appendChild(a))))),t&&null===n)throw Error(i(528,""));return d}if(t&&null!==n)throw Error(i(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Jd(r),(n=(r=$e(A).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function qd(e){return'href="'+gt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function Wd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Jd(e){return'[src="'+gt(e)+'"]'}function Yd(e){return"script[async]"+e}function Xd(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+gt(r.href)+'"]');if(n)return t.instance=n,et(n),n;var s=h({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return et(n=(e.ownerDocument||e).createElement("style")),ud(n,"style",s),Zd(n,r.precedence,e),t.instance=n;case"stylesheet":s=qd(r.href);var a=e.querySelector(Gd(s));if(a)return t.state.loading|=4,t.instance=a,et(a),a;n=Wd(r),(s=Td.get(s))&&$d(n,s),et(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ud(a,"link",n),t.state.loading|=4,Zd(a,r.precedence,e),t.instance=a;case"script":return a=Jd(r.src),(s=e.querySelector(Yd(a)))?(t.instance=s,et(s),s):(n=r,(s=Td.get(a))&&eu(n=h({},r),s),et(s=(e=e.ownerDocument||e).createElement("script")),ud(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Zd(n,r.precedence,e));return t.instance}function Zd(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,a=s,i=0;i<n.length;i++){var o=n[i];if(o.dataset.precedence===t)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function $d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var tu=null;function ru(e,t,r){if(null===tu){var n=new Map,s=tu=new Map;s.set(r,n)}else(n=(s=tu).get(r))||(n=new Map,s.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),s=0;s<r.length;s++){var a=r[s];if(!(a[We]||a[Re]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var o=n.get(i);o?o.push(a):n.set(i,[a])}}return n}function nu(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function su(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var au=0;function iu(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ou=null;function lu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ou=new Map,t.forEach(Au,e),ou=null,iu.call(e))}function Au(e,t){if(!(4&t.state.loading)){var r=ou.get(e);if(r)var n=r.get(null);else{r=new Map,ou.set(e,r);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var i=s[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(r.set(i.dataset.precedence,i),n=i)}n&&r.set(null,n)}i=(s=t.instance).getAttribute("data-precedence"),(a=r.get(i)||n)===n&&r.set(null,s),r.set(i,s),this.count++,n=iu.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),a?a.parentNode.insertBefore(s,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var cu={$$typeof:y,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function du(e,t,r,n,s,a,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function uu(e,t,r,n,s,a,i,o,l,A,c,d){return e=new du(e,t,r,i,l,A,c,d,o),t=1,!0===a&&(t|=24),a=Pn(3,null,null,t),e.current=a,a.stateNode=e,(t=Ts()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:t},pa(a),e}function hu(e){return e?e=Mn:Mn}function fu(e,t,r,n,s,a){s=hu(s),null===n.context?n.context=s:n.pendingContext=s,(n=xa(t)).payload={element:r},null!==(a=void 0===a?null:a)&&(n.callback=a),null!==(r=ba(e,n,t))&&(WA(r,0,t),va(r,e,t))}function mu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function pu(e,t){mu(e,t),(e=e.alternate)&&mu(e,t)}function gu(e){if(13===e.tag||31===e.tag){var t=Qn(e,67108864);null!==t&&WA(t,0,67108864),pu(e,67108864)}}function xu(e){if(13===e.tag||31===e.tag){var t=qA(),r=Qn(e,t=Me(t));null!==r&&WA(r,0,t),pu(e,t)}}var bu=!0;function vu(e,t,r,n){var s=L.T;L.T=null;var a=I.p;try{I.p=2,wu(e,t,r,n)}finally{I.p=a,L.T=s}}function yu(e,t,r,n){var s=L.T;L.T=null;var a=I.p;try{I.p=8,wu(e,t,r,n)}finally{I.p=a,L.T=s}}function wu(e,t,r,n){if(bu){var s=Bu(n);if(null===s)td(e,t,n,Nu,r),Iu(e,n);else if(function(e,t,r,n,s){switch(t){case"focusin":return Su=Mu(Su,e,t,r,n,s),!0;case"dragenter":return Fu=Mu(Fu,e,t,r,n,s),!0;case"mouseover":return Eu=Mu(Eu,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return _u.set(a,Mu(_u.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Uu.set(a,Mu(Uu.get(a)||null,e,t,r,n,s)),!0}return!1}(s,e,t,r,n))n.stopPropagation();else if(Iu(e,n),4&t&&-1<Lu.indexOf(e)){for(;null!==s;){var a=Xe(s);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=Ce(a.pendingLanes);if(0!==i){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-ve(i);o.entanglements[1]|=l,i&=~l}Ic(a),0===(6&hA)&&(LA=le()+500,Mc(0,!1))}}break;case 31:case 13:null!==(o=Qn(a,2))&&WA(o,0,2),$A(),pu(a,2)}if(null===(a=Bu(n))&&td(e,t,n,Nu,r),a===s)break;s=a}null!==s&&n.stopPropagation()}else td(e,t,n,null,r)}}function Bu(e){return ju(e=Lt(e))}var Nu=null;function ju(e){if(Nu=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=A(t)))return e;e=null}else if(31===r){if(null!==(e=c(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nu=e,null}function Cu(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case ce:return 2;case de:return 8;case ue:case he:return 32;case fe:return 268435456;default:return 32}default:return 32}}var ku=!1,Su=null,Fu=null,Eu=null,_u=new Map,Uu=new Map,Qu=[],Lu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iu(e,t){switch(e){case"focusin":case"focusout":Su=null;break;case"dragenter":case"dragleave":Fu=null;break;case"mouseover":case"mouseout":Eu=null;break;case"pointerover":case"pointerout":_u.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(t.pointerId)}}function Mu(e,t,r,n,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=Xe(t))&&gu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Du(e){var t=Ye(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=A(r)))return e.blockedOn=t,void Te(e.priority,function(){xu(r)})}else if(31===t){if(null!==(t=c(r)))return e.blockedOn=t,void Te(e.priority,function(){xu(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Pu(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bu(e.nativeEvent);if(null!==r)return null!==(t=Xe(r))&&gu(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Qt=n,r.target.dispatchEvent(n),Qt=null,t.shift()}return!0}function Tu(e,t,r){Pu(e)&&r.delete(t)}function Ou(){ku=!1,null!==Su&&Pu(Su)&&(Su=null),null!==Fu&&Pu(Fu)&&(Fu=null),null!==Eu&&Pu(Eu)&&(Eu=null),_u.forEach(Tu),Uu.forEach(Tu)}function Ru(e,t){e.blockedOn===t&&(e.blockedOn=null,ku||(ku=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ou)))}var Hu=null;function zu(e){Hu!==e&&(Hu=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hu===e&&(Hu=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],s=e[t+2];if("function"!==typeof n){if(null===ju(n||r))continue;break}var a=Xe(r);null!==a&&(e.splice(t,3),t-=3,eo(a,{pending:!0,data:s,method:r.method,action:n},n,s))}}))}function Ku(e){function t(t){return Ru(t,e)}null!==Su&&Ru(Su,e),null!==Fu&&Ru(Fu,e),null!==Eu&&Ru(Eu,e),_u.forEach(t),Uu.forEach(t);for(var r=0;r<Qu.length;r++){var n=Qu[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Qu.length&&null===(r=Qu[0]).blockedOn;)Du(r),null===r.blockedOn&&Qu.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var s=r[n],a=r[n+1],i=s[He]||null;if("function"===typeof a)i||zu(r);else if(i){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,i=a[He]||null)o=i.formAction;else if(null!==ju(s))continue}else o=i.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),zu(r)}}}function Vu(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return s=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==s&&(s(),s=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==s&&(s(),s=null)}}}function qu(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}Gu.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));fu(t.current,qA(),e,t,null,null)},Gu.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fu(e.current,2,null,e,null,null),$A(),t[ze]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qu.length&&0!==t&&t<Qu[r].priority;r++);Qu.splice(r,0,e),0===r&&Du(e)}};var Wu=s.version;if("19.2.0"!==Wu)throw Error(i(527,Wu,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(n=s.return)){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return d(s),e;if(a===n)return d(s),t;a=a.sibling}throw Error(i(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,A=s.child;A;){if(A===r){o=!0,r=s,n=a;break}if(A===n){o=!0,n=s,r=a;break}A=A.sibling}if(!o){for(A=a.child;A;){if(A===r){o=!0,r=a,n=s;break}if(A===n){o=!0,n=a,r=s;break}A=A.sibling}if(!o)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Ju={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{ge=Yu.inject(Ju),xe=Yu}catch(Zu){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var r=!1,n="",s=No,a=jo,l=Co;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=uu(e,1,!1,null,0,r,n,null,s,a,l,Vu),e[ze]=t.current,$c(e),new qu(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(i(299));var n=!1,s="",a=No,l=jo,A=Co,c=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onUncaughtError&&(a=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(A=r.onRecoverableError),void 0!==r.formState&&(c=r.formState)),(t=uu(e,1,!0,t,0,n,s,c,a,l,A,Vu)).context=hu(null),r=t.current,(s=xa(n=Me(n=qA()))).callback=null,ba(r,s,n),r=n,t.current.lanes=r,Ue(t,r),Ic(t),e[ze]=t.current,$c(e),new Gu(t)},t.version="19.2.0"},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},8853:(e,t,r)=>{"use strict";e.exports=r(5896)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"===typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,r.d(a,i),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+"."+{453:"abb2a8e2",455:"dfbc8513",977:"45a5b88f"}[e]+".chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="fosikafront:";r.l=(n,s,a,i)=>{if(e[n])e[n].push(s);else{var o,l;if(void 0!==a)for(var A=document.getElementsByTagName("script"),c=0;c<A.length;c++){var d=A[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+a),o.src=n),e[n]=[s];var u=(t,r)=>{o.onerror=o.onload=null,clearTimeout(h);var s=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(r)),t)return t(r)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{r.b="undefined"!==typeof document&&document.baseURI||self.location.href;var e={792:0};r.f.j=(t,n)=>{var s=r.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var a=new Promise((r,n)=>s=e[t]=[r,n]);n.push(s[2]=a);var i=r.p+r.u(t),o=new Error;r.l(i,n=>{if(r.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,s[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var s,a,[i,o,l]=n,A=0;if(i.some(t=>0!==e[t])){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(l)l(r)}for(t&&t(n);A<i.length;A++)a=i[A],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkfosikafront=self.webpackChunkfosikafront||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Or,hasStandardBrowserEnv:()=>Hr,hasStandardBrowserWebWorkerEnv:()=>zr,navigator:()=>Rr,origin:()=>Kr});var t=r(5043),n=r(4391);function s(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var a=r(4980);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const l=["sri"],A=["page"],c=["page","matches"],d=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var f="popstate";function m(){return w(function(e,t){let{pathname:r,search:n,hash:s}=e.location;return b("",{pathname:r,search:n,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:v(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return o(o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t),{},{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function v(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function y(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function w(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:a=!1}=n,i=s.history,l="POP",A=null,c=d();function d(){return(i.state||{idx:null}).idx}function u(){l="POP";let e=d(),t=null==e?null:e-c;c=e,A&&A({action:l,location:m.location,delta:t})}function h(e){return B(e)}null==c&&(c=0,i.replaceState(o(o({},i.state),{},{idx:c}),""));let m={get action(){return l},get location(){return e(s,i)},listen(e){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(f,u),A=e,()=>{s.removeEventListener(f,u),A=null}},createHref:e=>t(s,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let n=b(m.location,e,t);r&&r(n,e),c=d()+1;let o=x(n,c),u=m.createHref(n);try{i.pushState(o,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(u)}a&&A&&A({action:l,location:m.location,delta:1})},replace:function(e,t){l="REPLACE";let n=b(m.location,e,t);r&&r(n,e),c=d();let s=x(n,c),o=m.createHref(n);i.replaceState(s,"",o),a&&A&&A({action:l,location:m.location,delta:0})},go:e=>i.go(e)};return m}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),p(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:v(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function N(e,t){return j(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function j(e,t,r,n){let s=O(("string"===typeof t?y(t):t).pathname||"/",r);if(null==s)return null;let a=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=T(s);i=M(a[o],e,n)}return i}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(n)&&i)return;p(l.relativePath.startsWith(n),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(n.length)}let A=V([n,l.relativePath]),c=r.concat(l);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(A,'".')),C(e.children,t,c,A,i)),(null!=e.path||e.index)&&t.push({path:A,score:I(A,e.index),routesMeta:c})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let n of k(e.path))a(e,t,!0,n);else a(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return s?[a,""]:[a];let i=k(n.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var S=/^:[\w-]+$/,F=3,E=2,_=1,U=10,Q=-2,L=e=>"*"===e;function I(e,t){let r=e.split("/"),n=r.length;return r.some(L)&&(n+=Q),t&&(n+=E),r.filter(e=>!L(e)).reduce((e,t)=>e+(S.test(t)?F:""===t?_:U),n)}function M(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,s={},a="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,A="/"===a?t:t.slice(a.length)||"/",c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},A),d=e.route;if(!c&&l&&r&&!n[n.length-1].route.index&&(c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},A)),!c)return null;Object.assign(s,c.params),i.push({params:s,pathname:V([a,c.pathname]),pathnameBase:q(V([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=V([a,c.pathnameBase]))}return i}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=P(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:s}=t;if("*"===n){let e=o[r]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function P(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return g(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function R(e,t,r,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function H(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function z(e){let t=H(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,r){let n,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=y(e):(n=o({},e),p(!n.pathname||!n.pathname.includes("?"),R("?","pathname","search",n)),p(!n.pathname||!n.pathname.includes("#"),R("#","pathname","hash",n)),p(!n.search||!n.search.includes("#"),R("#","search","hash",n)));let a,i=""===e||""===n.pathname,l=i?"/":n.pathname;if(null==l)a=r;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}a=e>=0?t[e]:"/"}let A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:s=""}="string"===typeof e?y(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:G(n),hash:W(s)}}(n,a),c=l&&"/"!==l&&l.endsWith("/"),d=(i||"."===l)&&r.endsWith("/");return A.pathname.endsWith("/")||!c&&!d||(A.pathname+="/"),A}var V=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function J(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Y=["POST","PUT","PATCH","DELETE"],X=(new Set(Y),["GET",...Y]);new Set(X),Symbol("ResetLoaderData");var Z=t.createContext(null);Z.displayName="DataRouter";var $=t.createContext(null);$.displayName="DataRouterState";var ee=t.createContext(!1);var te=t.createContext({isTransitioning:!1});te.displayName="ViewTransition";var re=t.createContext(new Map);re.displayName="Fetchers";var ne=t.createContext(null);ne.displayName="Await";var se=t.createContext(null);se.displayName="Navigation";var ae=t.createContext(null);ae.displayName="Location";var ie=t.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var oe=t.createContext(null);oe.displayName="RouteError";function le(){return null!=t.useContext(ae)}function Ae(){return p(le(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(ae).location}var ce="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function de(e){t.useContext(se).static||t.useLayoutEffect(e)}function ue(){let{isDataRoute:e}=t.useContext(ie);return e?function(){let{router:e}=ye("useNavigate"),r=Be("useNavigate"),n=t.useRef(!1);de(()=>{n.current=!0});let s=t.useCallback(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(n.current,ce),n.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,o({fromRouteId:r},s)))},[e,r]);return s}():function(){p(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Z),{basename:r,navigator:n}=t.useContext(se),{matches:s}=t.useContext(ie),{pathname:a}=Ae(),i=JSON.stringify(z(s)),o=t.useRef(!1);de(()=>{o.current=!0});let l=t.useCallback(function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(o.current,ce),!o.current)return;if("number"===typeof t)return void n.go(t);let l=K(t,JSON.parse(i),a,"path"===s.relative);null==e&&"/"!==r&&(l.pathname="/"===l.pathname?r:V([r,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)},[r,n,i,a,e]);return l}()}t.createContext(null);function he(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=t.useContext(ie),{pathname:s}=Ae(),a=JSON.stringify(z(n));return t.useMemo(()=>K(e,JSON.parse(a),s,"path"===r),[e,a,s,r])}function fe(e,r,n,s,a){p(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(se),{matches:l}=t.useContext(ie),A=l[l.length-1],c=A?A.params:{},d=A?A.pathname:"/",u=A?A.pathnameBase:"/",h=A&&A.route;{let e=h&&h.path||"";Ce(d,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=Ae();if(r){var x;let e="string"===typeof r?y(r):r;p("/"===u||(null===(x=e.pathname)||void 0===x?void 0:x.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let b=f.pathname||"/",v=b;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=N(e,{pathname:v});g(h||null!=w,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),g(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let B=be(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:V([u,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:V([u,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,n,s,a);return r&&B?t.createElement(ae.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},B):B}function me(){let e=Ne(),r=J(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:i},"ErrorBoundary")," or"," ",t.createElement("code",{style:i},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:a},n):null,o)}var pe=t.createElement(me,null),ge=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(ie.Provider,{value:this.props.routeContext},t.createElement(oe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:r,match:n,children:s}=e,a=t.useContext(Z);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(ie.Provider,{value:r},s)}function be(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));p(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(n)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,A,c)=>{let d,u=!1,h=null,f=null;n&&(d=i&&A.route.id?i[A.route.id]:void 0,h=A.route.errorElement||pe,o&&(l<0&&0===c?(Ce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,f=null):l===c&&(u=!0,f=A.route.hydrateFallbackElement||null)));let m=r.concat(a.slice(0,c+1)),p=()=>{let r;return r=d?h:u?f:A.route.Component?t.createElement(A.route.Component,null):A.route.element?A.route.element:e,t.createElement(xe,{match:A,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:r})};return n&&(A.route.ErrorBoundary||A.route.errorElement||0===c)?t.createElement(ge,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:s}):p()},null)}function ve(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ye(e){let r=t.useContext(Z);return p(r,ve(e)),r}function we(e){let r=t.useContext($);return p(r,ve(e)),r}function Be(e){let r=function(e){let r=t.useContext(ie);return p(r,ve(e)),r}(e),n=r.matches[r.matches.length-1];return p(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ne(){var e;let r=t.useContext(oe),n=we("useRouteError"),s=Be("useRouteError");return void 0!==r?r:null===(e=n.errors)||void 0===e?void 0:e[s]}var je={};function Ce(e,t,r){t||je[e]||(je[e]=!0,g(!1,r))}var ke={};function Se(e,t){e||ke[t]||(ke[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:r,state:n,unstable_onError:s}=e;return fe(t,void 0,n,s,r)});function Fe(e){let{to:r,replace:n,state:s,relative:a}=e;p(le(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=t.useContext(se);g(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=t.useContext(ie),{pathname:l}=Ae(),A=ue(),c=K(r,z(o),l,"path"===a),d=JSON.stringify(c);return t.useEffect(()=>{A(JSON.parse(d),{replace:n,state:s,relative:a})},[A,d,a,n,s]),null}function Ee(e){p(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _e(e){let{basename:r="/",children:n=null,location:s,navigationType:a="POP",navigator:i,static:o=!1}=e;p(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),A=t.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof s&&(s=y(s));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:f="default"}=s,m=t.useMemo(()=>{let e=O(c,l);return null==e?null:{location:{pathname:e,search:d,hash:u,state:h,key:f},navigationType:a}},[l,c,d,u,h,f,a]);return g(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(c).concat(d).concat(u,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(se.Provider,{value:A},t.createElement(ae.Provider,{children:n,value:m}))}function Ue(e){let{children:t,location:r}=e;return fe(Qe(t),r)}t.Component;function Qe(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let a=[...r,s];if(e.type===t.Fragment)return void n.push.apply(n,Qe(e.props.children,a));p(e.type===Ee,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),p(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Qe(e.props.children,a)),n.push(i)}),n}var Le="get",Ie="application/x-www-form-urlencoded";function Me(e){return null!=e&&"string"===typeof e.tagName}var De=null;var Pe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Te(e){return null==e||Pe.has(e)?e:(g(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ie,'"')),null)}function Oe(e,t){let r,n,s,a,i;if(Me(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");n=i?O(i,t):null,r=e.getAttribute("method")||Le,s=Te(e.getAttribute("enctype"))||Ie,a=new FormData(e)}else if(function(e){return Me(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Me(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(n=o?O(o,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||Le,s=Te(e.getAttribute("formenctype"))||Te(i.getAttribute("enctype"))||Ie,a=new FormData(i,e),!function(){if(null===De)try{new FormData(document.createElement("form"),0),De=!1}catch(e){De=!0}return De}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,n)}}else{if(Me(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Le,n=null,s=Ie,i=e}var o;return a&&"text/plain"===s&&(i=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Re(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function He(e,t,r){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.".concat(r):t&&"/"===O(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):n.pathname="".concat(n.pathname.replace(/\/$/,""),".").concat(r),n}async function ze(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ke(e){return null!=e&&"string"===typeof e.page}function Ve(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,r,n,s,a){let i=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null===(n=r[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var A;let n=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(A=r[0])||void 0===A?void 0:A.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Ge(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let s=[n.module];return n.clientActionModule&&(s=s.concat(n.clientActionModule)),n.clientLoaderModule&&(s=s.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(s=s.concat(n.hydrateFallbackModule)),n.imports&&(s=s.concat(n.imports)),s}).flat(1),[...new Set(n)];var n}function We(e,t){let r=new Set,n=new Set(t);return e.reduce((e,s)=>{if(t&&!Ke(s)&&"script"===s.as&&s.href&&n.has(s.href))return e;let a=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(s));return r.has(a)||(r.add(a),e.push({key:a,link:s})),e},[])}function Je(e,t){return"lazy"===e.mode&&!0===t}function Ye(){let e=t.useContext(Z);return Re(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xe(){let e=t.useContext($);return Re(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=t.createContext(void 0);function $e(){let e=t.useContext(Ze);return Re(e,"You must render this element inside a <HydratedRouter> element"),e}function et(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function tt(e,t,r){if(r&&!at)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}Ze.displayName="FrameworkContext";function rt(e){let{page:r}=e,n=s(e,A),{router:a}=Ye(),i=t.useMemo(()=>N(a.routes,r,a.basename),[a.routes,r,a.basename]);return i?t.createElement(st,o({page:r,matches:i},n)):null}function nt(e){let{manifest:r,routeModules:n}=$e(),[s,a]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,r){let n=await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await ze(n,r);return e.links?e.links():[]}return[]}));return We(n.flat(1).filter(Ve).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?o(o({},e),{},{rel:"prefetch",as:"style"}):o(o({},e),{},{rel:"prefetch"})))}(e,r,n).then(e=>{t||a(e)}),()=>{t=!0}},[e,r,n]),s}function st(e){let{page:r,matches:n}=e,a=s(e,c),i=Ae(),{manifest:l,routeModules:A}=$e(),{basename:d}=Ye(),{loaderData:u,matches:h}=Xe(),f=t.useMemo(()=>qe(r,n,h,l,i,"data"),[r,n,h,l,i]),m=t.useMemo(()=>qe(r,n,h,l,i,"assets"),[r,n,h,l,i]),p=t.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(n.forEach(r=>{var n;let s=l.routes[r.route.id];s&&s.hasLoader&&(!f.some(e=>e.route.id===r.route.id)&&r.route.id in u&&null!==(n=A[r.route.id])&&void 0!==n&&n.shouldRevalidate||s.hasClientLoader?t=!0:e.add(r.route.id))}),0===e.size)return[];let s=He(r,d,"data");return t&&e.size>0&&s.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[d,u,i,l,f,n,r,A]),g=t.useMemo(()=>Ge(m,l),[m,l]),x=nt(m);return t.createElement(t.Fragment,null,p.map(e=>t.createElement("link",o({key:e,rel:"prefetch",as:"fetch",href:e},a))),g.map(e=>t.createElement("link",o({key:e,rel:"modulepreload",href:e},a))),x.map(e=>{let{key:r,link:n}=e;return t.createElement("link",o({key:r,nonce:a.nonce},n))}))}var at=!1;function it(e){let{manifest:r,serverHandoffString:n,isSpaMode:a,renderMeta:i,routeDiscovery:A,ssr:c}=$e(),{router:d,static:u,staticContext:h}=Ye(),{matches:f}=Xe(),m=t.useContext(ee),p=Je(A,c);i&&(i.didRenderScripts=!0);let g=tt(f,null,a);t.useEffect(()=>{0},[]);let x=t.useMemo(()=>{var a;if(m)return null;let i=h?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",A=u?"".concat(null!==r.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(r.hmr.runtime),";"):"").concat(p?"":"import ".concat(JSON.stringify(r.url)),";\n").concat(g.map((e,t)=>{let n="route".concat(t),s=r.routes[e.route.id];Re(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:A}=s,c=[...a?[{module:a,varName:"".concat(n,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(n,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(n,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(n,"_HydrateFallback")}]:[],{module:A,varName:"".concat(n,"_main")}];return 1===c.length?"import * as ".concat(n," from ").concat(JSON.stringify(A),";"):[c.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(n," = {").concat(c.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(p?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:r}=e,n=s(e,l),a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),A=["/"];for(i.pop();i.length>0;)A.push("/".concat(i.join("/"))),i.pop();A.forEach(e=>{let r=N(t.routes,e,t.basename);r&&r.forEach(e=>a.add(e.route.id))});let c=[...a].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return o(o({},n),{},{routes:c,sri:!!r||void 0})}(r,d),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(r.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",o(o({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:void 0})),t.createElement("script",o(o({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:A},type:"module",async:!0})))},[]),b=at||m?[]:(r.entry.imports.concat(Ge(g,r,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let y="object"===typeof r.sri?r.sri:{};return Se(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),at||m?null:t.createElement(t.Fragment,null,"object"===typeof r.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,p?null:t.createElement("link",{rel:"modulepreload",href:r.url,crossOrigin:e.crossOrigin,integrity:y[r.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:r.entry.module,crossOrigin:e.crossOrigin,integrity:y[r.entry.module],suppressHydrationWarning:!0}),b.map(r=>t.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:e.crossOrigin,integrity:y[r],suppressHydrationWarning:!0})),x)}function ot(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function lt(e){let{error:r,isOutsideRemixApp:n}=e;console.error(r);let s,a=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(J(r))return t.createElement(At,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),a);if(r instanceof Error)0;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);new Error(e)}return t.createElement(At,{title:"Application Error!",isOutsideRemixApp:n},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),a)}function At(e){var r;let{title:n,renderScripts:s,isOutsideRemixApp:a,children:i}=e,{routeModules:o}=$e();return null!==o.root&&void 0!==r&&r.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,s?t.createElement(it,null):null)))}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.9.5")}catch(QN){}function dt(e){let{basename:r,children:n,window:s}=e,a=t.useRef();null==a.current&&(a.current=m({window:s,v5Compat:!0}));let i=a.current,[o,l]=t.useState({action:i.action,location:i.location}),A=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>i.listen(A),[i,A]),t.createElement(_e,{basename:r,children:n,location:o.location,navigationType:o.action,navigator:i})}var ut=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=t.forwardRef(function(e,r){let n,{onClick:a,discover:i="render",prefetch:l="none",relative:A,reloadDocument:c,replace:u,state:h,target:f,to:m,preventScrollReset:x,viewTransition:b}=e,y=s(e,d),{basename:w}=t.useContext(se),B="string"===typeof m&&ut.test(m),N=!1;if("string"===typeof m&&B&&(n=m,ct))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),r=O(t.pathname,w);t.origin===e.origin&&null!=r?m=r+t.search+t.hash:N=!0}catch(QN){g(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let j=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=t.useContext(se),{hash:a,pathname:i,search:o}=he(e,{relative:r}),l=i;return"/"!==n&&(l="/"===i?n:V([n,i])),s.createHref({pathname:l,search:o,hash:a})}(m,{relative:A}),[C,k,S]=function(e,r){let n=t.useContext(Ze),[s,a]=t.useState(!1),[i,o]=t.useState(!1),{onFocus:l,onBlur:A,onMouseEnter:c,onMouseLeave:d,onTouchStart:u}=r,h=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(s){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[s]);let f=()=>{a(!0)},m=()=>{a(!1),o(!1)};return n?"intent"!==e?[i,h,{}]:[i,h,{onFocus:et(l,f),onBlur:et(A,m),onMouseEnter:et(c,f),onMouseLeave:et(d,m),onTouchStart:et(u,f)}]:[!1,h,{}]}(l,y),F=function(e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ue(),A=Ae(),c=he(e,{relative:i});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:v(A)===v(c);l(e,{replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[A,l,c,n,s,r,e,a,i,o])}(m,{replace:u,state:h,target:f,preventScrollReset:x,relative:A,viewTransition:b});let E=t.createElement("a",o(o(o({},y),S),{},{href:n||j,onClick:N||c?a:function(e){a&&a(e),e.defaultPrevented||F(e)},ref:ot(r,k),target:f,"data-discover":B||"render"!==i?void 0:"true"}));return C&&!B?t.createElement(t.Fragment,null,E,t.createElement(rt,{page:j})):E});ht.displayName="Link";var ft=t.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:l=!1,style:A,to:c,viewTransition:d,children:h}=e,f=s(e,u),m=he(c,{relative:f.relative}),g=Ae(),x=t.useContext($),{navigator:b,basename:v}=t.useContext(se),y=null!=x&&function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useContext(te);p(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gt("useViewTransitionState"),a=he(e,{relative:r});if(!n.isTransitioning)return!1;let i=O(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=O(n.nextLocation.pathname,s)||n.nextLocation.pathname;return null!=D(a.pathname,o)||null!=D(a.pathname,i)}(m)&&!0===d,w=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,B=g.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(B=B.toLowerCase(),N=N?N.toLowerCase():null,w=w.toLowerCase()),N&&v&&(N=O(N,v)||N);const j="/"!==w&&w.endsWith("/")?w.length-1:w.length;let C,k=B===w||!l&&B.startsWith(w)&&"/"===B.charAt(j),S=null!=N&&(N===w||!l&&N.startsWith(w)&&"/"===N.charAt(w.length)),F={isActive:k,isPending:S,isTransitioning:y},E=k?n:void 0;C="function"===typeof i?i(F):[i,k?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _="function"===typeof A?A(F):A;return t.createElement(ht,o(o({},f),{},{"aria-current":E,className:C,ref:r,style:_,to:c,viewTransition:d}),"function"===typeof h?h(F):h)});ft.displayName="NavLink";var mt=t.forwardRef((e,r)=>{let{discover:n="render",fetcherKey:a,navigate:i,reloadDocument:l,replace:A,state:c,method:d=Le,action:u,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:x}=e,b=s(e,h),y=vt(),w=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=t.useContext(se),s=t.useContext(ie);p(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i=o({},he(e||".",{relative:r})),l=Ae();if(null==e){i.search=l.search;let e=new URLSearchParams(i.search),t=e.getAll("index"),r=t.some(e=>""===e);if(r){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();i.search=r?"?".concat(r):""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:V([n,i.pathname]));return v(i)}(u,{relative:m}),B="get"===d.toLowerCase()?"get":"post",N="string"===typeof u&&ut.test(u);return t.createElement("form",o(o({ref:r,method:B,action:w,onSubmit:l?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;y(t||e.currentTarget,{fetcherKey:a,method:r,navigate:i,replace:A,state:c,relative:m,preventScrollReset:g,viewTransition:x})}},b),{},{"data-discover":N||"render"!==n?void 0:"true"}))});function pt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let r=t.useContext(Z);return p(r,pt(e)),r}mt.displayName="Form";var xt=0,bt=()=>"__".concat(String(++xt),"__");function vt(){let{router:e}=gt("useSubmit"),{basename:r}=t.useContext(se),n=Be("useRouteId");return t.useCallback(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:i,encType:o,formData:l,body:A}=Oe(t,r);if(!1===s.navigate){let t=s.fetcherKey||bt();await e.fetch(t,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:A,formMethod:s.method||i,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:A,formMethod:s.method||i,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,r,n])}const yt=r.p+"static/media/Asset 10.08d5c67998f7ebd7e92f.png";var wt=r(579);const Bt=()=>{const[e,r]=(0,t.useState)(0),n=ue();return(0,t.useEffect)(()=>{let e=0;const t=()=>{e+=1,r(e),e>=100?n("/signalement"):setTimeout(t,30)};t()},[n]),(0,wt.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,wt.jsx)("img",{src:yt,alt:"Background",className:"fixed inset-0 w-full h-full object-contain object-center pointer-events-none",style:{width:"60vw",margin:"0 auto"}}),(0,wt.jsxs)("div",{className:"absolute left-1/2 bottom-16 transform -translate-x-1/2 flex flex-col items-center z-10",children:[(0,wt.jsx)("div",{className:"text-[#0e224f] font-bold text-2xl mb-2",children:"FOSIKA"}),(0,wt.jsx)("div",{className:"w-56 h-3 bg-[#c5cad5] rounded-lg overflow-hidden mb-2 shadow-lg",children:(0,wt.jsx)("div",{className:"h-full bg-[#203355] rounded-l-lg transition-all duration-300 ease-in-out",style:{width:"".concat(e,"%")}})}),(0,wt.jsxs)("div",{className:"text-[#d32c2c] font-bold text-xl",children:[e,"%"]})]})]})},Nt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},jt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var Ct={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kt=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],St=(0,t.forwardRef)((e,r)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:A="",children:c,iconNode:d}=e,u=s(e,kt);return(0,t.createElement)("svg",o(o(o({ref:r},Ct),{},{width:a,height:a,stroke:n,strokeWidth:l?24*Number(i)/Number(a):i,className:jt("lucide",A)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"}),u),[...d.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...Array.isArray(c)?c:[c]])}),Ft=["className"],Et=(e,r)=>{const n=(0,t.forwardRef)((n,a)=>{let{className:i}=n,l=s(n,Ft);return(0,t.createElement)(St,o({ref:a,iconNode:r,className:jt("lucide-".concat((A=Nt(e),A.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},l));var A});return n.displayName=Nt(e),n},_t=Et("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ut=Et("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Qt=Et("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Lt=Et("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function It(e,t){return function(){return e.apply(t,arguments)}}const{toString:Mt}=Object.prototype,{getPrototypeOf:Dt}=Object,{iterator:Pt,toStringTag:Tt}=Symbol,Ot=(Rt=Object.create(null),e=>{const t=Mt.call(e);return Rt[t]||(Rt[t]=t.slice(8,-1).toLowerCase())});var Rt;const Ht=e=>(e=e.toLowerCase(),t=>Ot(t)===e),zt=e=>t=>typeof t===e,{isArray:Kt}=Array,Vt=zt("undefined");function qt(e){return null!==e&&!Vt(e)&&null!==e.constructor&&!Vt(e.constructor)&&Jt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gt=Ht("ArrayBuffer");const Wt=zt("string"),Jt=zt("function"),Yt=zt("number"),Xt=e=>null!==e&&"object"===typeof e,Zt=e=>{if("object"!==Ot(e))return!1;const t=Dt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Tt in e)&&!(Pt in e)},$t=Ht("Date"),er=Ht("File"),tr=Ht("Blob"),rr=Ht("FileList"),nr=Ht("URLSearchParams"),[sr,ar,ir,or]=["ReadableStream","Request","Response","Headers"].map(Ht);function lr(e,t){let r,n,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Kt(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(qt(e))return;const n=s?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let i;for(r=0;r<a;r++)i=n[r],t.call(null,e[i],i,e)}}function Ar(e,t){if(qt(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n,s=r.length;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const cr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,dr=e=>!Vt(e)&&e!==cr;const ur=(hr="undefined"!==typeof Uint8Array&&Dt(Uint8Array),e=>hr&&e instanceof hr);var hr;const fr=Ht("HTMLFormElement"),mr=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),pr=Ht("RegExp"),gr=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};lr(r,(r,s)=>{let a;!1!==(a=t(r,s,e))&&(n[s]=a||r)}),Object.defineProperties(e,n)};const xr=Ht("AsyncFunction"),br=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],cr.addEventListener("message",e=>{let{source:t,data:s}=e;t===cr&&s===r&&n.length&&n.shift()()},!1),e=>{n.push(e),cr.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Jt(cr.postMessage)),vr="undefined"!==typeof queueMicrotask?queueMicrotask.bind(cr):"undefined"!==typeof process&&process.nextTick||br,yr={isArray:Kt,isArrayBuffer:Gt,isBuffer:qt,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Jt(e.append)&&("formdata"===(t=Ot(e))||"object"===t&&Jt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Gt(e.buffer),t},isString:Wt,isNumber:Yt,isBoolean:e=>!0===e||!1===e,isObject:Xt,isPlainObject:Zt,isEmptyObject:e=>{if(!Xt(e)||qt(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(QN){return!1}},isReadableStream:sr,isRequest:ar,isResponse:ir,isHeaders:or,isUndefined:Vt,isDate:$t,isFile:er,isBlob:tr,isRegExp:pr,isFunction:Jt,isStream:e=>Xt(e)&&Jt(e.pipe),isURLSearchParams:nr,isTypedArray:ur,isFileList:rr,forEach:lr,merge:function e(){const{caseless:t,skipUndefined:r}=dr(this)&&this||{},n={},s=(s,a)=>{const i=t&&Ar(n,a)||a;Zt(n[i])&&Zt(s)?n[i]=e(n[i],s):Zt(s)?n[i]=e({},s):Kt(s)?n[i]=s.slice():r&&Vt(s)||(n[i]=s)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&lr(arguments[a],s);return n},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return lr(t,(t,n)=>{r&&Jt(t)?e[n]=It(t,r):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let s,a,i;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],n&&!n(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==r&&Dt(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Ot,kindOfTest:Ht,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Kt(e))return e;let t=e.length;if(!Yt(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Pt]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:fr,hasOwnProperty:mr,hasOwnProp:mr,reduceDescriptors:gr,freezeMethods:e=>{gr(e,(t,r)=>{if(Jt(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Jt(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return Kt(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ar,global:cr,isContextDefined:dr,isSpecCompliantForm:function(e){return!!(e&&Jt(e.append)&&"FormData"===e[Tt]&&e[Pt])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Xt(e)){if(t.indexOf(e)>=0)return;if(qt(e))return e;if(!("toJSON"in e)){t[n]=e;const s=Kt(e)?[]:{};return lr(e,(e,t)=>{const a=r(e,n+1);!Vt(a)&&(s[t]=a)}),t[n]=void 0,s}}return e};return r(e,0)},isAsyncFn:xr,isThenable:e=>e&&(Xt(e)||Jt(e))&&Jt(e.then)&&Jt(e.catch),setImmediate:br,asap:vr,isIterable:e=>null!=e&&Jt(e[Pt])};function wr(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}yr.inherits(wr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:yr.toJSONObject(this.config),code:this.code,status:this.status}}});const Br=wr.prototype,Nr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Nr[e]={value:e}}),Object.defineProperties(wr,Nr),Object.defineProperty(Br,"isAxiosError",{value:!0}),wr.from=(e,t,r,n,s,a)=>{const i=Object.create(Br);yr.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return wr.call(i,o,l,r,n,s),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const jr=wr;function Cr(e){return yr.isPlainObject(e)||yr.isArray(e)}function kr(e){return yr.endsWith(e,"[]")?e.slice(0,-2):e}function Sr(e,t,r){return e?e.concat(t).map(function(e,t){return e=kr(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const Fr=yr.toFlatObject(yr,{},null,function(e){return/^is[A-Z]/.test(e)});const Er=function(e,t,r){if(!yr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=yr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!yr.isUndefined(t[e])})).metaTokens,s=r.visitor||A,a=r.dots,i=r.indexes,o=(r.Blob||"undefined"!==typeof Blob&&Blob)&&yr.isSpecCompliantForm(t);if(!yr.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(yr.isDate(e))return e.toISOString();if(yr.isBoolean(e))return e.toString();if(!o&&yr.isBlob(e))throw new jr("Blob is not supported. Use a Buffer instead.");return yr.isArrayBuffer(e)||yr.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function A(e,r,s){let o=e;if(e&&!s&&"object"===typeof e)if(yr.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(yr.isArray(e)&&function(e){return yr.isArray(e)&&!e.some(Cr)}(e)||(yr.isFileList(e)||yr.endsWith(r,"[]"))&&(o=yr.toArray(e)))return r=kr(r),o.forEach(function(e,n){!yr.isUndefined(e)&&null!==e&&t.append(!0===i?Sr([r],n,a):null===i?r:r+"[]",l(e))}),!1;return!!Cr(e)||(t.append(Sr(s,r,a),l(e)),!1)}const c=[],d=Object.assign(Fr,{defaultVisitor:A,convertValue:l,isVisitable:Cr});if(!yr.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!yr.isUndefined(r)){if(-1!==c.indexOf(r))throw Error("Circular reference detected in "+n.join("."));c.push(r),yr.forEach(r,function(r,a){!0===(!(yr.isUndefined(r)||null===r)&&s.call(t,r,yr.isString(a)?a.trim():a,n,d))&&e(r,n?n.concat(a):[a])}),c.pop()}}(e),t};function _r(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ur(e,t){this._pairs=[],e&&Er(e,this,t)}const Qr=Ur.prototype;Qr.append=function(e,t){this._pairs.push([e,t])},Qr.toString=function(e){const t=e?function(t){return e.call(this,t,_r)}:_r;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Lr=Ur;function Ir(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Mr(e,t,r){if(!t)return e;const n=r&&r.encode||Ir;yr.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(a=s?s(t,r):yr.isURLSearchParams(t)?t.toString():new Lr(t,r).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Dr=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){yr.forEach(this.handlers,function(t){null!==t&&e(t)})}},Pr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Lr,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Or="undefined"!==typeof window&&"undefined"!==typeof document,Rr="object"===typeof navigator&&navigator||void 0,Hr=Or&&(!Rr||["ReactNative","NativeScript","NS"].indexOf(Rr.product)<0),zr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Kr=Or&&window.location.href||"http://localhost",Vr=o(o({},e),Tr);const qr=function(e){function t(e,r,n,s){let a=e[s++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=s>=e.length;if(a=!a&&yr.isArray(n)?n.length:a,o)return yr.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r,!i;n[a]&&yr.isObject(n[a])||(n[a]=[]);return t(e,r,n[a],s)&&yr.isArray(n[a])&&(n[a]=function(e){const t={},r=Object.keys(e);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],t[a]=e[a];return t}(n[a])),!i}if(yr.isFormData(e)&&yr.isFunction(e.entries)){const r={};return yr.forEachEntry(e,(e,n)=>{t(function(e){return yr.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null};const Gr={transitional:Pr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,s=yr.isObject(e);s&&yr.isHTMLForm(e)&&(e=new FormData(e));if(yr.isFormData(e))return n?JSON.stringify(qr(e)):e;if(yr.isArrayBuffer(e)||yr.isBuffer(e)||yr.isStream(e)||yr.isFile(e)||yr.isBlob(e)||yr.isReadableStream(e))return e;if(yr.isArrayBufferView(e))return e.buffer;if(yr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Er(e,new Vr.classes.URLSearchParams,o({visitor:function(e,t,r,n){return Vr.isNode&&yr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=yr.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Er(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),function(e,t,r){if(yr.isString(e))try{return(t||JSON.parse)(e),yr.trim(e)}catch(QN){if("SyntaxError"!==QN.name)throw QN}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Gr.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(yr.isResponse(e)||yr.isReadableStream(e))return e;if(e&&yr.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(QN){if(r){if("SyntaxError"===QN.name)throw jr.from(QN,jr.ERR_BAD_RESPONSE,this,null,this.response);throw QN}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vr.classes.FormData,Blob:Vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};yr.forEach(["delete","get","head","post","put","patch"],e=>{Gr.headers[e]={}});const Wr=Gr,Jr=yr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yr=Symbol("internals");function Xr(e){return e&&String(e).trim().toLowerCase()}function Zr(e){return!1===e||null==e?e:yr.isArray(e)?e.map(Zr):String(e)}function $r(e,t,r,n,s){return yr.isFunction(n)?n.call(this,t,r):(s&&(t=r),yr.isString(t)?yr.isString(n)?-1!==t.indexOf(n):yr.isRegExp(n)?n.test(t):void 0:void 0)}class en{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function s(e,t,r){const s=Xr(t);if(!s)throw new Error("header name must be a non-empty string");const a=yr.findKey(n,s);(!a||void 0===n[a]||!0===r||void 0===r&&!1!==n[a])&&(n[a||t]=Zr(e))}const a=(e,t)=>yr.forEach(e,(e,r)=>s(e,r,t));if(yr.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(yr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let r,n,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),r=e.substring(0,s).trim().toLowerCase(),n=e.substring(s+1).trim(),!r||t[r]&&Jr[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(yr.isObject(e)&&yr.isIterable(e)){let r,n,s={};for(const t of e){if(!yr.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[n=t[0]]=(r=s[n])?yr.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,r);return this}get(e,t){if(e=Xr(e)){const r=yr.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(yr.isFunction(t))return t.call(this,e,r);if(yr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Xr(e)){const r=yr.findKey(this,e);return!(!r||void 0===this[r]||t&&!$r(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function s(e){if(e=Xr(e)){const s=yr.findKey(r,e);!s||t&&!$r(0,r[s],s,t)||(delete r[s],n=!0)}}return yr.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const s=t[r];e&&!$r(0,this[s],s,e,!0)||(delete this[s],n=!0)}return n}normalize(e){const t=this,r={};return yr.forEach(this,(n,s)=>{const a=yr.findKey(r,s);if(a)return t[a]=Zr(n),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(s):String(s).trim();i!==s&&delete t[s],t[i]=Zr(n),r[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return yr.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&yr.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Yr]=this[Yr]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=Xr(e);t[n]||(!function(e,t){const r=yr.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,s){return this[n].call(this,t,e,r,s)},configurable:!0})})}(r,e),t[n]=!0)}return yr.isArray(e)?e.forEach(n):n(e),this}}en.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),yr.reduceDescriptors(en.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),yr.freezeMethods(en);const tn=en;function rn(e,t){const r=this||Wr,n=t||r,s=tn.from(n.headers);let a=n.data;return yr.forEach(e,function(e){a=e.call(r,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function nn(e){return!(!e||!e.__CANCEL__)}function sn(e,t,r){jr.call(this,null==e?"canceled":e,jr.ERR_CANCELED,t,r),this.name="CanceledError"}yr.inherits(sn,jr,{__CANCEL__:!0});const an=sn;function on(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new jr("Request failed with status code "+r.status,[jr.ERR_BAD_REQUEST,jr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const ln=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),A=n[i];s||(s=l),r[a]=o,n[a]=l;let c=i,d=0;for(;c!==a;)d+=r[c++],c%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-s<t)return;const u=A&&l-A;return u?Math.round(1e3*d/u):void 0}};const An=function(e,t){let r,n,s=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),A=0;A<o;A++)l[A]=arguments[A];t>=a?i(l,e):(r=l,n||(n=setTimeout(()=>{n=null,i(r)},a-t)))},()=>r&&i(r)]},cn=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const s=ln(50,250);return An(r=>{const a=r.loaded,i=r.lengthComputable?r.total:void 0,o=a-n,l=s(o);n=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})},r)},dn=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},un=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return yr.asap(()=>e(...r))},hn=Vr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Vr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Vr.origin),Vr.navigator&&/(msie|trident)/i.test(Vr.navigator.userAgent)):()=>!0,fn=Vr.hasStandardBrowserEnv?{write(e,t,r,n,s,a,i){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];yr.isNumber(r)&&o.push("expires=".concat(new Date(r).toUTCString())),yr.isString(n)&&o.push("path=".concat(n)),yr.isString(s)&&o.push("domain=".concat(s)),!0===a&&o.push("secure"),yr.isString(i)&&o.push("SameSite=".concat(i)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function mn(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const pn=e=>e instanceof tn?o({},e):e;function gn(e,t){t=t||{};const r={};function n(e,t,r,n){return yr.isPlainObject(e)&&yr.isPlainObject(t)?yr.merge.call({caseless:n},e,t):yr.isPlainObject(t)?yr.merge({},t):yr.isArray(t)?t.slice():t}function s(e,t,r,s){return yr.isUndefined(t)?yr.isUndefined(e)?void 0:n(void 0,e,0,s):n(e,t,0,s)}function a(e,t){if(!yr.isUndefined(t))return n(void 0,t)}function i(e,t){return yr.isUndefined(t)?yr.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function l(r,s,a){return a in t?n(r,s):a in e?n(void 0,r):void 0}const A={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,r)=>s(pn(e),pn(t),0,!0)};return yr.forEach(Object.keys(o(o({},e),t)),function(n){const a=A[n]||s,i=a(e[n],t[n],n);yr.isUndefined(i)&&a!==l||(r[n]=i)}),r}const xn=e=>{const t=gn({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:o}=t;if(t.headers=i=tn.from(i),t.url=Mr(mn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),yr.isFormData(r))if(Vr.hasStandardBrowserEnv||Vr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(yr.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,n]=e;t.includes(r.toLowerCase())&&i.set(r,n)})}if(Vr.hasStandardBrowserEnv&&(n&&yr.isFunction(n)&&(n=n(t)),n||!1!==n&&hn(t.url))){const e=s&&a&&fn.read(a);e&&i.set(s,e)}return t},bn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=xn(e);let s=n.data;const a=tn.from(n.headers).normalize();let i,o,l,A,c,{responseType:d,onUploadProgress:u,onDownloadProgress:h}=n;function f(){A&&A(),c&&c(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function p(){if(!m)return;const n=tn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());on(function(e){t(e),f()},function(e){r(e),f()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=p:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(p)},m.onabort=function(){m&&(r(new jr("Request aborted",jr.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const n=t&&t.message?t.message:"Network Error",s=new jr(n,jr.ERR_NETWORK,e,m);s.event=t||null,r(s),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const s=n.transitional||Pr;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new jr(t,s.clarifyTimeoutError?jr.ETIMEDOUT:jr.ECONNABORTED,e,m)),m=null},void 0===s&&a.setContentType(null),"setRequestHeader"in m&&yr.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),yr.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),d&&"json"!==d&&(m.responseType=n.responseType),h&&([l,c]=cn(h,!0),m.addEventListener("progress",l)),u&&m.upload&&([o,A]=cn(u),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",A)),(n.cancelToken||n.signal)&&(i=t=>{m&&(r(!t||t.type?new an(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===Vr.protocols.indexOf(g)?r(new jr("Unsupported protocol "+g+":",jr.ERR_BAD_REQUEST,e)):m.send(s||null)})},vn=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const s=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof jr?t:new an(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,s(new jr("timeout ".concat(t," of ms exceeded"),jr.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=n;return o.unsubscribe=()=>yr.asap(i),o}};function yn(e,t){this.v=e,this.k=t}function wn(e){return function(){return new Bn(e.apply(this,arguments))}}function Bn(e){var t,r;function n(t,r){try{var a=e[t](r),i=a.value,o=i instanceof yn;Promise.resolve(o?i.v:i).then(function(r){if(o){var l="return"===t?"return":"next";if(!i.k||r.done)return n(l,r);r=e[l](r).value}s(a.done?"return":"normal",r)},function(e){n("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,s){return new Promise(function(a,i){var o={key:e,arg:s,resolve:a,reject:i,next:null};r?r=r.next=o:(t=r=o,n(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function Nn(e){return new yn(e,0)}function jn(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:new yn(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function Cn(e){var t,r,n,s=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);s--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new kn(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function kn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return kn=function(e){this.s=e,this.n=e.next},kn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new kn(e)}Bn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Bn.prototype.next=function(e){return this._invoke("next",e)},Bn.prototype.throw=function(e){return this._invoke("throw",e)},Bn.prototype.return=function(e){return this._invoke("return",e)};const Sn=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,s=0;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},Fn=function(){var e=wn(function*(e,t){var r,n=!1,s=!1;try{for(var a,i=Cn(En(e));n=!(a=yield Nn(i.next())).done;n=!1){const e=a.value;yield*jn(Cn(Sn(e,t)))}}catch(o){s=!0,r=o}finally{try{n&&null!=i.return&&(yield Nn(i.return()))}finally{if(s)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),En=function(){var e=wn(function*(e){if(e[Symbol.asyncIterator])return void(yield*jn(Cn(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Nn(t.read());if(e)break;yield r}}finally{yield Nn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),_n=(e,t,r,n)=>{const s=Fn(e,t);let a,i=0,o=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await s.next();if(t)return o(),void e.close();let a=n.byteLength;if(r){let e=i+=a;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},{isFunction:Un}=yr,Qn=(e=>{let{Request:t,Response:r}=e;return{Request:t,Response:r}})(yr.global),{ReadableStream:Ln,TextEncoder:In}=yr.global,Mn=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(QN){return!1}},Dn=e=>{e=yr.merge.call({skipUndefined:!0},Qn,e);const{fetch:t,Request:r,Response:n}=e,s=t?Un(t):"function"===typeof fetch,a=Un(r),i=Un(n);if(!s)return!1;const l=s&&Un(Ln),A=s&&("function"===typeof In?(e=>t=>e.encode(t))(new In):async e=>new Uint8Array(await new r(e).arrayBuffer())),c=a&&l&&Mn(()=>{let e=!1;const t=new r(Vr.origin,{body:new Ln,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=i&&l&&Mn(()=>yr.isReadableStream(new n("").body)),u={stream:d&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!u[e]&&(u[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new jr("Response type '".concat(e,"' is not supported"),jr.ERR_NOT_SUPPORT,r)})});const h=async(e,t)=>{const n=yr.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(yr.isBlob(e))return e.size;if(yr.isSpecCompliantForm(e)){const t=new r(Vr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return yr.isArrayBufferView(e)||yr.isArrayBuffer(e)?e.byteLength:(yr.isURLSearchParams(e)&&(e+=""),yr.isString(e)?(await A(e)).byteLength:void 0)})(t):n};return async e=>{let{url:s,method:i,data:l,signal:A,cancelToken:f,timeout:m,onDownloadProgress:p,onUploadProgress:g,responseType:x,headers:b,withCredentials:v="same-origin",fetchOptions:y}=xn(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let B=vn([A,f&&f.toAbortSignal()],m),N=null;const j=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let C;try{if(g&&c&&"get"!==i&&"head"!==i&&0!==(C=await h(b,l))){let e,t=new r(s,{method:"POST",body:l,duplex:"half"});if(yr.isFormData(l)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,r]=dn(C,cn(un(g)));l=_n(t.body,65536,e,r)}}yr.isString(v)||(v=v?"include":"omit");const t=a&&"credentials"in r.prototype,A=o(o({},y),{},{signal:B,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:l,duplex:"half",credentials:t?v:void 0});N=a&&new r(s,A);let f=await(a?w(N,y):w(s,A));const m=d&&("stream"===x||"response"===x);if(d&&(p||m&&j)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=f[t]});const t=yr.toFiniteNumber(f.headers.get("content-length")),[r,s]=p&&dn(t,cn(un(p),!0))||[];f=new n(_n(f.body,65536,r,()=>{s&&s(),j&&j()}),e)}x=x||"text";let k=await u[yr.findKey(u,x)||"text"](f,e);return!m&&j&&j(),await new Promise((t,r)=>{on(t,r,{data:k,headers:tn.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:N})})}catch(k){if(j&&j(),k&&"TypeError"===k.name&&/Load failed|fetch/i.test(k.message))throw Object.assign(new jr("Network Error",jr.ERR_NETWORK,e,N),{cause:k.cause||k});throw jr.from(k,k&&k.code,e,N)}}},Pn=new Map,Tn=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,a=[n,s,r];let i,o,l=a.length,A=Pn;for(;l--;)i=a[l],o=A.get(i),void 0===o&&A.set(i,o=l?new Map:Dn(t)),A=o;return o},On=(Tn(),{http:null,xhr:bn,fetch:{get:Tn}});yr.forEach(On,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(QN){}Object.defineProperty(e,"adapterName",{value:t})}});const Rn=e=>"- ".concat(e),Hn=e=>yr.isFunction(e)||null===e||!1===e;const zn={getAdapter:function(e,t){e=yr.isArray(e)?e:[e];const{length:r}=e;let n,s;const a={};for(let i=0;i<r;i++){let r;if(n=e[i],s=n,!Hn(n)&&(s=On[(r=String(n)).toLowerCase()],void 0===s))throw new jr("Unknown adapter '".concat(r,"'"));if(s&&(yr.isFunction(s)||(s=s.get(t))))break;a[r||"#"+i]=s}if(!s){const e=Object.entries(a).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(Rn).join("\n"):" "+Rn(e[0]):"as no adapter specified";throw new jr("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return s},adapters:On};function Kn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new an(null,e)}function Vn(e){Kn(e),e.headers=tn.from(e.headers),e.data=rn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return zn.getAdapter(e.adapter||Wr.adapter,e)(e).then(function(t){return Kn(e),t.data=rn.call(e,e.transformResponse,t),t.headers=tn.from(t.headers),t},function(t){return nn(t)||(Kn(e),t&&t.response&&(t.response.data=rn.call(e,e.transformResponse,t.response),t.response.headers=tn.from(t.response.headers))),Promise.reject(t)})}const qn="1.13.2",Gn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gn[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Wn={};Gn.transitional=function(e,t,r){function n(e,t){return"[Axios v"+qn+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,s,a)=>{if(!1===e)throw new jr(n(s," has been removed"+(t?" in "+t:"")),jr.ERR_DEPRECATED);return t&&!Wn[s]&&(Wn[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,s,a)}},Gn.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const Jn={assertOptions:function(e,t,r){if("object"!==typeof e)throw new jr("options must be an object",jr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const a=n[s],i=t[a];if(i){const t=e[a],r=void 0===t||i(t,a,e);if(!0!==r)throw new jr("option "+a+" must be "+r,jr.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new jr("Unknown option "+a,jr.ERR_BAD_OPTION)}},validators:Gn},Yn=Jn.validators;class Xn{constructor(e){this.defaults=e||{},this.interceptors={request:new Dr,response:new Dr}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(QN){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=gn(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:s}=t;void 0!==r&&Jn.assertOptions(r,{silentJSONParsing:Yn.transitional(Yn.boolean),forcedJSONParsing:Yn.transitional(Yn.boolean),clarifyTimeoutError:Yn.transitional(Yn.boolean)},!1),null!=n&&(yr.isFunction(n)?t.paramsSerializer={serialize:n}:Jn.assertOptions(n,{encode:Yn.function,serialize:Yn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Jn.assertOptions(t,{baseUrl:Yn.spelling("baseURL"),withXsrfToken:Yn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&yr.merge(s.common,s[t.method]);s&&yr.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=tn.concat(a,s);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let A;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,d=0;if(!o){const e=[Vn.bind(this),void 0];for(e.unshift(...i),e.push(...l),c=e.length,A=Promise.resolve(t);d<c;)A=A.then(e[d++],e[d++]);return A}c=i.length;let u=t;for(;d<c;){const e=i[d++],t=i[d++];try{u=e(u)}catch(h){t.call(this,h);break}}try{A=Vn.call(this,u)}catch(h){return Promise.reject(h)}for(d=0,c=l.length;d<c;)A=A.then(l[d++],l[d++]);return A}getUri(e){return Mr(mn((e=gn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}yr.forEach(["delete","get","head","options"],function(e){Xn.prototype[e]=function(t,r){return this.request(gn(r||{},{method:e,url:t,data:(r||{}).data}))}}),yr.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,s){return this.request(gn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Xn.prototype[e]=t(),Xn.prototype[e+"Form"]=t(!0)});const Zn=Xn;class $n{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,s){r.reason||(r.reason=new an(e,n,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new $n(function(t){e=t});return{token:t,cancel:e}}}const es=$n;const ts={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ts).forEach(e=>{let[t,r]=e;ts[r]=t});const rs=ts;const ns=function e(t){const r=new Zn(t),n=It(Zn.prototype.request,r);return yr.extend(n,Zn.prototype,r,{allOwnKeys:!0}),yr.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(gn(t,r))},n}(Wr);ns.Axios=Zn,ns.CanceledError=an,ns.CancelToken=es,ns.isCancel=nn,ns.VERSION=qn,ns.toFormData=Er,ns.AxiosError=jr,ns.Cancel=ns.CanceledError,ns.all=function(e){return Promise.all(e)},ns.spread=function(e){return function(t){return e.apply(null,t)}},ns.isAxiosError=function(e){return yr.isObject(e)&&!0===e.isAxiosError},ns.mergeConfig=gn,ns.AxiosHeaders=tn,ns.formToJSON=e=>qr(yr.isHTMLForm(e)?new FormData(e):e),ns.getAdapter=zn.getAdapter,ns.HttpStatusCode=rs,ns.default=ns;const ss=ns.create({baseURL:"https://fosika.mesupres.edu.mg/api",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});ss.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),ss.interceptors.response.use(e=>e,e=>{var t,r,n;if(403===(null===(t=e.response)||void 0===t?void 0:t.status)&&null!==(r=e.response.data)&&void 0!==r&&r.requires_2fa){console.log("\ud83d\udd10 [Axios] 2FA Requise -> Redirection");const t=window.location.pathname;return"/two-factor-verify"!==t&&"/login"!==t&&sessionStorage.setItem("redirect_after_2fa",t),window.location.href="/two-factor-verify",Promise.reject(o(o({},e),{},{handled:!0}))}return 401===(null===(n=e.response)||void 0===n?void 0:n.status)?(console.warn("\u26a0\ufe0f [Axios] Token invalide (401) -> Logout"),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("user_data"),"/login"!==window.location.pathname&&(window.location.href="/login"),Promise.reject(e)):Promise.reject(e)});const as=ss,is=r.p+"static/media/logo rep.01c5e0826e38a3144f38.png",os=r.p+"static/media/logo mesupres.a40be1ba808f67aa528a.png",ls=r.p+"static/media/logo fosika.ce51ba6ae78da54e97f1.png",As="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAACXBIWXMAAAsSAAALEgHS3X78AAABlUlEQVQ4jWP8//8/AzbQqp6g5xxhlaproWLLyMrCySgkKPb/3ftX/3//+f7/3fsz38tba0SfnHuBTS+GoW3qCfI3WIT2nmKTUN421ZNBxkQdq6UflSxA1EYGBoYC0SfnHiDLMSFz6jWSw9dyqt4HGYjVJEzgz8DAcOG1jFEAVkNBBm7hUFr+lZGVkUgDYYCfgYFh/WsZIwcUQ0Fe3scut4QMA5HBhtcyRgJwQx8z8y58zcTJQoGBDFAXT4AbeoVVxJpCA2Eg4LWMEQ+LhmEXDwPlroQBkGtVQC7loJKBMGAAMpSHyoaCw/THUDD0DtON82UfuP//xl4AkGsoiNT+/fYelQzcCCpkwIaq/nmfQCXXNjDAEn/tzflHHH4+nkehgYWiT85dYEAuUHqvz0jx/nFvLpkGThR9cm4CjINS9IEMDv5+q1D03/c/RBr2kYGBIVD0ybkCFFFQIY0NF2mkzzk/f8uznz9//kfH385eev9K2jDhlbShADa9OKsTZPC5e5oAAwsLP8OfPx95S7M+4FXMwMAAAMHUunTFOiXrAAAAAElFTkSuQmCC",cs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABYUlEQVQ4jWP8//8/Ax7gAMUC790iohkYGN4yyUg+YOTimsQ3pXUbNm24DExgYGBoYGBgkIcJvJYxQlHAoqvxgUVVqZR3UsscfAYKMDAwbGBgYLBHtwHdQBjgCPLawDupJRDGZ0Iz7AA2w/CBH+u2BXxMKjyPzcAFDAwM+qQYBgO/dh00+FLZ1o5sICjg/ckxDAZ+7j5UwoAUhgS9iisMkQFHhP9ckAsVSA03XODv/UfeMAOpAv5cuyXOBA0/qoD/n78yshBrUNksd6LUgVz4gFoupLqBEtyi35mgSeYjNQyU5BG5CUvYE6hjoFgusoEUudJEQud6qLrHEZiBH6BFFlkAFHaSPKKeIL3IyQZUbCUyMDDMJ8VQKR6xX9Hafu5awsoP0Q0EAVCJA4p1EA0vXHEBcyn9e2JcQk4ww7AZCAKgWAdlR1AQBKCXQoIcfH+UBeRuG4prNVlJG65A0cnAwAAAIHdbTEHyUXkAAAAASUVORK5CYII=";var ds=r(3531);const us={fr:{welcome:{title:'Bienvenue sur la plateforme de signalement des fraudes acad\xe9miques, faux dipl\xf4mes et harc\xe8lement - "FOSIKA""',subtitle:"Sous l'\xe9gide du MINISTERE DE L'ENSEIGNEMENT SUPERIER ET DE LA RECHERCHE SCIENTIFIQUE (MESUPRES), en partenariat avec le BIANCO, la plateforme FOSIKA s'inscrit dans la volont\xe9 nationale d'assainir le syst\xe8me d'enseignement sup\xe9rieur et de restaurer la confiance du public.",initiative:"Cette initiative permet de signaler en toute confidentialit\xe9 tout cas de :",cases:["Faux dipl\xf4mes utilis\xe9s lors des recrutements,","Faux dipl\xf4mes dans le but d'obtenir la validation d'une candidature ou une \xe9volution dans une carri\xe8re professionnelle,","Dipl\xf4mes et attestations falsifi\xe9s,","Violence sexuelle constat\xe9e."],contribute:"Par vos signalements, vous contribuez \xe0 :",benefits:["Renforcer l'int\xe9grit\xe9 acad\xe9mique,","Promouvoir la transparence institutionnelle,","D\xe9fendre la valeur du m\xe9rite et du savoir."],vigilance:"Votre vigilance est un acte citoyen. Ensemble, prot\xe9geons la cr\xe9dibilit\xe9 de nos universit\xe9s et la dignit\xe9 de notre syst\xe8me \xe9ducatif.",slogan:"Op\xe9ration FOSIKA : assainir, prot\xe9ger, refonder.",submitBtn:"SOUMETTRE UN SIGNALEMENT"},choice:{title:"CHOISISSEZ",anonymous:"Anonyme",identified:"Je m'identifie",back:"RETOUR"},proof:{title:"PREUVES DISPONIBLES",question:"Avez-vous des preuves \xe0 joindre \xe0 votre signalement ?",description:"Les preuves peuvent inclure : photos, vid\xe9os, documents, captures d'\xe9cran, etc.",yes:"Oui, j'ai des preuves",no:"Non, je n'ai pas de preuves",continueWithoutProof:"SOUMETTRE SANS PREUVES",back:"RETOUR"},personal:{title:"MES INFORMATIONS",subtitle:"FAIRE LA D\xc9CLARATION",name:"Nom complet",email:"Email",phone:"T\xe9l\xe9phone",address:"Adresse",accept:"Je certifie que ces informations sont exactes",continue:"CONTINUER",back:"RETOUR"},category:{title:"SIGNALEMENT",selectLabel:"Cat\xe9gorie de signalement :",selectPlaceholder:"S\xe9lectionnez une cat\xe9gorie...",detailsLabel:"Description d\xe9taill\xe9e de la situation :",detailsPlaceholder:"D\xe9crivez en d\xe9tail la situation que vous souhaitez signaler...",back:"RETOUR",continue:"CONTINUER"},upload:{title:"PI\xc8CES JUSTIFICATIVES",attachments:"Pi\xe8ces jointes (photos, vid\xe9os, documents) - Obligatoire",attachmentsInfo:"Formats accept\xe9s: JPG, JPEG, PNG, MP4, PDF \u2022 Taille max: 8 Mo \u2022 Au moins 1 fichier requis",uploadLabel:"Cliquez pour ajouter des fichiers",uploadSubtext:"ou glissez-d\xe9posez vos fichiers ici",filesAdded:"Fichiers ajout\xe9s",acceptTruth:"Je certifie que les informations fournies sont v\xe9ridiques et exemptes de tout mensonge",submit:"SOUMETTRE LE SIGNALEMENT",submitting:"Envoi en cours...",back:"RETOUR"},success:{title:"Signalement re\xe7u avec succ\xe8s",thanks:"Nous vous remercions pour votre contribution",reference:"R\xe9f\xe9rence de votre dossier",tracking:"Vous pouvez suivre l'\xe9tat de votre dossier via cette r\xe9f\xe9rence.",trackButton:"Suivre mon dossier",home:"Retour \xe0 l'accueil"},categories:{"faux-diplomes":"Faux dipl\xf4mes","Offre de formation irr\xe9guli\xe8re ( non habilit\xe9)":"Offre de formation irr\xe9guli\xe8re ( non habilit\xe9)","recrutements-irreguliers":"Recrutements irr\xe9guliers",harcelement:"Harc\xe8lement",corruption:"Corruption",divers:"Divers"},errors:{required:"Ce champ est obligatoire",emailInvalid:"Email invalide",phoneInvalid:"Num\xe9ro de t\xe9l\xe9phone invalide",categoryRequired:"Veuillez s\xe9lectionner une cat\xe9gorie",descriptionRequired:"Veuillez d\xe9crire la situation",termsRequired:"Veuillez accepter les conditions",truthRequired:"Veuillez certifier la v\xe9racit\xe9 des informations",filesRequired:"Au moins une pi\xe8ce jointe est obligatoire",submission:"Erreur lors de la soumission du signalement",network:"Erreur de connexion au serveur. Veuillez r\xe9essayer.",fillRequired:"Veuillez remplir tous les champs obligatoires"},required:"*"},mg:{welcome:{title:"Tongasoa eto amin'ny tambajotra miady amin'ny trangana HOSOKA sy DIPLAOMA sandoka ary HERISETRA ara-pananahana - \"FOSIKA\"",subtitle:"Eo ambany fiahian'ny MINISTERAN'NY FAMPIANARANA AMBONY SY FIKAROHANA ARA-TSIANSA (MESUPRES), sy ny fiaraha-miasa amin'ny Birao Mahaleo-tena Miady amin'ny Kolikoly \"BIANCO\", dia tafiditra ao anatin'ny ezaka nasionaly hanadiovana ny rafi-pampianarana ambony sy hamerenana ny fitokisan'ny vahoaka ny Tambanjotra \"FOSIKA\".",initiative:"Ity sehatra ity dia natao ahafahana manangom-baovao am-pitokisana momba ireto tranga manaraka ireto :",cases:["Diplaoma sandoka ampiasaina amin'ny fandraisana mpiasa,","Diplaoma sandoka ampiasaina mba hahazoana fanamarinana ny fangatahana na fankatoavana ho amin'ny fisondrotana ara-kasa,","Taratasy fanamarinana sandoka,","Herisetra ara-nofo na ara-pananahana."],contribute:"Amin'ny fanamarihana sy fanairana ataonao, dia mandray anjara amin'ireto manaraka ireto ianao :",benefits:["Fanamafisana ny fahamarinana sy fangaraharana akademika,","Fampiroboroboana ny fahadiovana ara-pitantanana,","Fiarovana ny hasin'ny fahaiza-manao sy ny fahalalana."],vigilance:"Ny fahamalinanao dia adidy amin'ny maha olom-pirenena. Isika miaraka no hiaro ny hasin'ny anjerimanontolo sy ny rafi-pampianarana.",slogan:"HETSIKA FOSIKA : manadio, miaro, manavao.",submitBtn:"HANDEFA FITARAINANA"},choice:{title:"SAFIDIO",anonymous:"Tsy mitonona anarana",identified:"Hilaza ny momba ahy",back:"HIVERINA"},proof:{title:"POROFO MISY",question:"Manana porofo ampiana amin'ny fitarainana ve ianao ?",description:"Afaka misy porofo toy ny : sary, horonantsary, taratasy, capture \xe9cran, sns.",yes:"Eny, manana porofo aho",no:"Tsia, tsy manana porofo aho",continueWithoutProof:"Hanalefa tsy misy porofo",back:"HIVERINA"},personal:{title:"MOMBA AHY",subtitle:"MANAO NY FANAMBARANA",name:"Anarana feno",email:"Mailaka",phone:"Finday",address:"Adiresy",accept:"Ekeko fa marina ireo momba ahy ireo",continue:"TOHINY",back:"HIVERINA"},category:{title:"FITARAINANA",selectLabel:"Karazana fitarainana :",selectPlaceholder:"Safidio ny karazana...",detailsLabel:"Fanazavana ilay tranga :",detailsPlaceholder:"Ampidiro eto ny fanazavana manodidina ilay tranga...",back:"HIVERINA",continue:"TOHINY"},upload:{title:"POROFO",attachments:"Pi\xe8ces jointes (Sary, Horonantsary, Taratasy) - TSY MAINTSY",attachmentsInfo:"Karazana ekena: JPG, JPEG, PNG, MP4, PDF \u2022 Habe fara-tampony: 25 Mo \u2022 Tsy maintsy misy rakitra iray farafahakeliny",uploadLabel:"Tsindrio eto mba hampiditra rakitra",uploadSubtext:"na asio eto ny rakitrao",filesAdded:"Rakitra nampidirina",acceptTruth:"Izaho dia minia marina fa tsy misy fitaka na lainga izay voalaza",submit:"HALEFA NY FITARAINANA",submitting:"Mandefa...",back:"HIVERINA"},success:{title:"Voaray ny Fitarainanao",thanks:"Ankasitrahanay feno ianao",reference:"R\xe9f\xe9rence an'ilay antontataratasy",tracking:"Afaka manaraka ny fivoaran'ny dosierao amin'ity r\xe9f\xe9rence ity.",trackButton:"Hanaraka ny antontataratasy",home:"Hiverina any am-piandohana"},categories:{"faux-diplomes":"Diplaoma sandoka","Offre de formation irr\xe9guli\xe8re ( non habilit\xe9e)":"Tolotra fiofanana tsy ara-dal\xe0na (tsy nahazoana alalana)","recrutements-irreguliers":"Fampidirana mpiasa tsy ara-dal\xe0na",harcelement:"Fanararaotana",corruption:"Kolikoly",divers:"Hafa"},errors:{required:"Tsy maintsy fenoina ity",emailInvalid:"Email tsy mety",phoneInvalid:"Laharana tsy mety",categoryRequired:"Safidio ny karazana",descriptionRequired:"Lazao ny momba ny tranga",termsRequired:"Ekeo ny fepetra",truthRequired:"Marina ve ny voalaza?",filesRequired:"Tsy maintsy misy rakitra iray farafahakeliny",submission:"Nisy olana tamin'ny fandefasana",network:"Tsy afaka mifandray. Andramo indray.",fillRequired:"Fenoy daholo ny saha ilaina"},required:"*"}},hs=e=>{let{language:r,setLanguage:n,setStep:s,navigate:a}=e;const i=us[r],[o,l]=(0,t.useState)(!1);return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill overflow-x-hidden",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-3",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:is,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,wt.jsx)("img",{src:os,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"REPOBLIKAN'I MADAGASIKARA"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["MINISITERAN'NY FAMPIANARANA AMBONY",(0,wt.jsx)("br",{}),"SY FIKAROHANA ARA-TSIANSA"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-7xl flex-1 min-h-[70vh] md:min-h-0",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"absolute top-4 md:top-8 lg:top-12 right-4 z-50",children:[(0,wt.jsxs)("div",{className:"hidden md:block",children:[(0,wt.jsx)("div",{className:"text-center font-semibold text-gray-800 mb-2 text-xs",children:"fr"===r?"Choisir la langue":"Safidio ny fiteny"}),(0,wt.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,wt.jsxs)("button",{onClick:()=>n("mg"),className:"flex flex-col items-center gap-1 p-1.5 rounded transition-colors ".concat("mg"===r?"bg-gray-100":"hover:bg-gray-50"),children:[(0,wt.jsx)("img",{src:cs,alt:"Malagasy",className:"w-7 h-7 rounded-full border border-gray-300"}),(0,wt.jsx)("span",{className:"text-xs text-gray-700",children:"Malagasy"})]}),(0,wt.jsxs)("button",{onClick:()=>n("fr"),className:"flex flex-col items-center gap-1 p-1.5 rounded transition-colors ".concat("fr"===r?"bg-gray-100":"hover:bg-gray-50"),children:[(0,wt.jsx)("img",{src:As,alt:"Fran\xe7ais",className:"w-7 h-7 rounded-full border border-gray-300"}),(0,wt.jsx)("span",{className:"text-xs text-gray-700",children:"Fran\xe7ais"})]})]})]}),(0,wt.jsxs)("div",{className:"md:hidden relative",children:[(0,wt.jsx)("button",{onClick:()=>l(!o),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:(0,wt.jsxs)("svg",{className:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,wt.jsx)("circle",{cx:"12",cy:"6",r:"1.5"}),(0,wt.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,wt.jsx)("circle",{cx:"12",cy:"18",r:"1.5"})]})}),o&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),(0,wt.jsxs)("div",{className:"absolute right-0 top-10 z-50 bg-white rounded-lg shadow-lg border border-gray-200 p-3 min-w-[140px]",children:[(0,wt.jsx)("div",{className:"text-xs font-semibold text-gray-800 mb-2 text-center",children:"fr"===r?"Langue":"Fiteny"}),(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("button",{onClick:()=>{n("mg"),l(!1)},className:"flex items-center gap-2 w-full p-2 rounded transition-colors ".concat("mg"===r?"bg-green-50 text-green-700":"hover:bg-gray-50"),children:[(0,wt.jsx)("img",{src:cs,alt:"Malagasy",className:"w-5 h-5 rounded-full border border-gray-300"}),(0,wt.jsx)("span",{className:"text-xs font-medium",children:"Malagasy"})]}),(0,wt.jsxs)("button",{onClick:()=>{n("fr"),l(!1)},className:"flex items-center gap-2 w-full p-2 rounded transition-colors ".concat("fr"===r?"bg-blue-50 text-blue-700":"hover:bg-gray-50"),children:[(0,wt.jsx)("img",{src:As,alt:"Fran\xe7ais",className:"w-5 h-5 rounded-full border border-gray-300"}),(0,wt.jsx)("span",{className:"text-xs font-medium",children:"Fran\xe7ais"})]})]})]})]})]})]}),(0,wt.jsxs)("div",{className:"relative z-10 p-4 md:p-8 lg:p-12 pt-8 md:pt-12 lg:pt-16 h-full flex flex-col justify-center md:justify-start",children:[(0,wt.jsx)("div",{className:"absolute left-1/2 top-4 transform -translate-x-1/2 z-20 pointer-events-none md:hidden",children:(0,wt.jsx)("img",{src:ls,alt:"Logo Fosika",className:"h-20 w-auto object-contain"})}),(0,wt.jsxs)("div",{className:"relative mb-4 md:mb-6 mt-20 md:mt-0 md:-mt-2 lg:-mt-4",children:[(0,wt.jsxs)("div",{className:"pl-2 md:pl-2 text-left",children:[(0,wt.jsx)("span",{className:"text-base sm:text-lg md:text-3xl lg:text-5xl font-bold text-[#5e8f3e] block",children:"fr"===r?"Bonjour":"Miarahaba"}),(0,wt.jsx)("span",{className:"text-base sm:text-lg md:text-3xl lg:text-5xl font-bold text-[#b3d088] inline",children:"fr"===r?"cher visiteur":"tompoko"}),(0,wt.jsx)("span",{className:"text-base sm:text-lg md:text-3xl lg:text-5xl font-bold text-[#223250] inline",children:","})]}),(0,wt.jsx)("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 pointer-events-none hidden md:block",children:(0,wt.jsx)("img",{src:ls,alt:"Logo Fosika",className:"h-24 sm:h-28 md:h-32 lg:h-32 xl:h-48 w-auto object-contain md:translate-y-0 translate-y-2"})})]}),(0,wt.jsx)("div",{className:"mb-6 bg-[#223250] rounded-[15px] md:rounded-[20px] px-3 md:px-4 py-1.5 md:py-2 w-24 inline-block mr-auto hidden md:block",children:(0,wt.jsxs)("svg",{width:"60",height:"20",className:"md:w-80 md:h-26",children:[(0,wt.jsx)("ellipse",{cx:"12",cy:"10",rx:"6",ry:"6",fill:"#ffffff"}),(0,wt.jsx)("ellipse",{cx:"30",cy:"10",rx:"6",ry:"6",fill:"#ffffff"}),(0,wt.jsx)("ellipse",{cx:"48",cy:"10",rx:"6",ry:"6",fill:"#ffffff"})]})}),(0,wt.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-8 lg:gap-16 items-center flex-1",children:[(0,wt.jsxs)("div",{className:"flex-1 pl-2 md:pl-4 pr-1 md:pr-2",children:[(0,wt.jsx)("div",{className:"clear-both"}),(0,wt.jsxs)("div",{className:"text-gray-700 text-xs md:text-sm lg:text-base leading-relaxed mb-4 md:mb-6 max-h-[300px] md:max-h-[250px] lg:max-h-none overflow-y-auto pr-2 md:pr-3 pl-1 md:pl-2 scrollable-text",children:[(0,wt.jsx)("p",{className:"mb-2 md:mb-3 text-justify text-xs md:text-sm",children:i.welcome.title}),(0,wt.jsx)("p",{className:"mb-2 md:mb-3 text-justify text-xs md:text-sm",children:i.welcome.subtitle}),(0,wt.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,wt.jsx)("p",{className:"font-semibold text-gray-800 mb-1 md:mb-2 text-left text-xs md:text-sm",children:i.welcome.initiative}),(0,wt.jsx)("ul",{className:"space-y-0.5 md:space-y-1 text-gray-700 text-xs md:text-sm",children:i.welcome.cases.map((e,t)=>(0,wt.jsxs)("li",{className:"flex items-start",children:[(0,wt.jsx)("span",{className:"text-[#b3d088] mr-1 md:mr-2",children:"\u2713"}),(0,wt.jsx)("span",{className:"text-justify",children:e})]},t))})]}),(0,wt.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,wt.jsx)("p",{className:"font-semibold text-gray-800 mb-1 md:mb-2 text-left text-xs md:text-sm",children:i.welcome.contribute}),(0,wt.jsx)("ul",{className:"space-y-0.5 md:space-y-1 text-gray-700 text-xs md:text-sm",children:i.welcome.benefits.map((e,t)=>(0,wt.jsxs)("li",{className:"flex items-start",children:[(0,wt.jsx)("span",{className:"text-[#b3d088] mr-1 md:mr-2",children:"\u2713"}),(0,wt.jsx)("span",{className:"text-justify",children:e})]},t))})]}),(0,wt.jsx)("p",{className:"mb-2 md:mb-3 text-justify text-xs md:text-sm",children:i.welcome.vigilance}),(0,wt.jsx)("p",{className:"text-center font-bold text-[#5e8f3e] text-xs md:text-base lg:text-lg",children:i.welcome.slogan})]})]}),(0,wt.jsxs)("div",{className:"flex flex-col gap-4 md:gap-6 w-full lg:w-auto items-center",children:[(0,wt.jsx)("button",{onClick:()=>s(1),className:"px-8 py-2 md:px-8 md:py-2 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-sm md:text-lg transition-all shadow-md rounded-none flex items-center justify-center flex-col min-w-[180px] md:min-w-[220px]",children:i.welcome.submitBtn}),(0,wt.jsx)("button",{onClick:()=>a("/suivi"),className:"px-8 py-2 md:px-8 md:py-2 border-2 border-[#b3d088] text-[#277335] hover:text-[#4a7b32] font-bold text-sm md:text-lg transition-all hover:bg-gray-50 shadow-md rounded-none min-w-[180px] md:min-w-[220px]",children:"fr"===r?"SUIVRE UN DOSSIER":"HANARAKA FITARAINANA"}),(0,wt.jsx)("button",{onClick:()=>a("/enseignants"),className:"mt-3 text-[#4c7026] hover:text-[#2d4a12] text-xs md:text-sm font-bold underline underline-offset-4 transition-colors text-center leading-tight",children:"fr"===r?(0,wt.jsxs)(wt.Fragment,{children:["Consulter la liste des ",(0,wt.jsx)("br",{})," enseignants chercheurs permanents"]}):(0,wt.jsxs)(wt.Fragment,{children:["Hijery ny lisitry ny ",(0,wt.jsx)("br",{})," mpampianatra mpikaroka maharitra"]})})]})]})]}),(0,wt.jsx)("div",{className:"absolute bottom-0 right-0 z-10",children:(0,wt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAYAAACJm/9dAAAACXBIWXMAAAsSAAALEgHS3X78AAAgAElEQVR4nO2dCZwU1b3vzzlVvfesioggEBFmBucmiHrBoAnMiAkxJkYwbteFqNct0bjwXnIVN6IxQWMwvlyNC1efXqMRs11fVGDGaHjINRoSiTAoBhVCEGGW3qurzrmfX9ul7TDd00tVd3X3+X4++eTj0NNdM1O/Ov/9T4UQpN5p6JjfHNq8eqDefw+Sj1Hr+XcBQUzlxgMHU9pJCGl3wCVJHAKr1z/EjLaueydz472LtNhCjxBeB1ySxEHU3YlxVFvXtRFCv7tI11oXazEyRCm5n/hCDrg0iYOoG2HMaOv6sk7IPTMMfdw1WtQ9gfPU199gKvEI8WrFL1DiKGpeGA0d8yd3cP3RJkGOuiUe8U7nugOuSuJ0alYYcKw7Df3HYxk7c2k86p5tJB1wVZJqoSaFcURb1y1jKF1yip7wfkOLO+CKJNVGTQkDfsQ+yv7zXF1rgGPdmEeOZoPqIv2UrS7LBUqqhpoQRkPH/BmTuPGr4Y51vuxkbGclr1/iPGrlxGg+2tAnLY+HHXApklqgJhJ8oc2rX3hVUaUqJJZRM5lvQcheJOsKZTtlGiFE1klJPkHNCKNBiBdeVlwFf982pkRDm1dvtOWiJFVLzQhjk6L+x4YihCGRjETNCAN+Rq/qkn6GxBJqqrq2GD8jTGldl95LRqamhFGMnwEx2XZBkqqlpoQh/QyJVdSUMKSfIbGKmuvgKzafIZFkUnPCKMTPQJOSn4gdtl+UpOoomzDQH3FYe/dldn9OIX4GThZFkLfsviZJ9VE2YRwo+F9VQm62+3OknyGxgrII45/b5v3hEi12yDTD8KPV1O7Pg5+xg9XtABSJBdh+92BMzTTDOAaddCfpCX+noV9u92fm62dIJ12SDVuFAZ9CJeTCu+JhN/4bfdchSk+z+6+Rr5+xWVFTr7X7eiTVh23COG7avOMP4fwHT0QHFfNr6KxTCDkIjridvyn4GS+orqidnyGpbWwRBvyIHYw9e2s8Ehzed31WMu6bxo0L7f6t+gTZJf0MSbFYfufgNBgn+Cs/iYX9I81wmq3rcI7Ps/sv5iFiTTH9GRIJsaPn+2DBX74qET0w2xwniGUfpYdZ/bnD2caUe9cprsWLkgl3tte8pLgwW2d7rvdJR9FSkbTxnI9vEXy++W8hSue6Cfnja309i+z7SSSVwFJhTG/rfnaBrrUtSiZyvu4rSc3f3tZ99pa+tY/Z9TOjK++Itq4YISSrMAxC9E5Dv+nYafNIgtKjNEIa8HWd0IYWwVOn6eeFcM/gut/8nln6x4KHyL/qb7LrR5BUEMuE0TVt7g0zOZ+3NBEZ9bULkwnysqpeSgixTRgkZU6R93Yw1pRtnA58oCFKU2bdBGGQQsfu2E1Dx/y5nYZ+Pk4mfFSU0rF+IXa7cVgR8vCrfT13OOqCawhLhIGnv5+y6+5PhLI+nTPBk/YfVPmM3b9GjxDPvqy4OhfxkU+wUufY2lFrBdNtCjceShIyc7GebJplJFNh7owgxiQEFVa5vMsPb+++djdl7XLpjfWU7Hxj2JlOyUO/iA6685n8Z/I5XXPje+384TYp6mPrFJdm1/tbWWuFKYodbd1vzTT0zUsS0XkvRAaacPqeqGv7TVTEyXZlIkruioXHjhP8TbvD3/VISScG/iDjOV97XyxUkCjAAl1zb2PKMkLIyXb93vPxMyoNToiDBX92ghBTrk5E1EKGT+O1X08mDlyruH5MCDnfqT9jNVLSidFp6NedqGutxZgkeBLuZMpcu39naT/D7o8pGDxUZrZ1PTWVG30/ioXbnowOFiQKE5wc/ZTZ9nCpV0q6YzYp6q2/cnlCsLWL4dOGzuwuKkz7Gba8d7G1VjCbxnO+7fRkfOFzkYGSVxQcbSSDdpul9UZJwoDTN5EbJ13lCxZlx5ejqNBOP6PQWiucEsdOm/fbFiF++XhssNWqFQWTBXeP5/wIS95MkqLkqNQftva+NKOta+UKj/9iHOuFAHPqLo8ftvESu/4c2fwMmFc76IdlXHjy4yY3eUFxhZHjwH/2U8ZVIkIIlW4I9xe9xBK1Y+MYe/oUPXGg1Ts7kFtZq7jm2x3+ricsCddu7Ou55PD27lPmJ7WxhfgbcNh9QgRgToU2r86ZgS4FRsjbX/E3fWoXY+6gEHvIhyoJZe7eG/bk3zg8BDqzrev1HYx1FpPrOHbavOVRSi+/PxryyVVn1YFlCb7dlH3xAn/DBtjMhUSoUFT4pMuLkgrbklWv9/XMLPU9IKI3mNo5gedvlcF0msyNns9w44ibE5GCI3eSymFZuAYmyxjO717h9ufx6o+BOVWOosJSwYmSaW6RtMmF02Wkt4YzjBzDZVrsSPSj2CmKdNRtj20fUIdYGsdcv7V3yWrVva2QKBBMkyQhk6sgSbU9LYSPgB8yUtYZUacxgq+/Pxo6cLS6MSvYyRQI9xnbP6iOsDzAv4OxE670BeOFhDLn6cngeM5PKvWz7QxZwgfqp9QY7XVYsC8IeXJVdLBsq5M3MjU6WpWwpDAsFwZuoBYhll7lDeYdnEdRYSPhlxb7mbgZ29u69/qF+KOdJw8lZCCX4NHf3ijE95+ODvrKWZD4DmPczuBFPWJLShhVn39jyqbn1fwqMfBkjRDaWchnpHMC/zGx/YTQAl1b/kx0oPVqLarY2R2IIQuZycwh+rFKZrR19XQa+mJksMvpZEOocjC19dhWK7GdKV3XeQPRfE2qYwy9CWXWo70OoV2UUkzmxnun6InzeiP9QeRPcDPa3R2ItcdYf2xC0yvKMB5ohqHPM4c+lBP4cxBsuT+31rFNGHBKvYL864W+xrwM7fm6htqra7L9OwSBG3Cs4H0XabGFPZGBIBJlmU9nu7sDdzL217Q9b8Imtp/w7mItPqdSG2MxDUVOOrEeW6vr0KEXJ+TZh9yjJ4wRtu2n7LPDv44Izz+1db2Gcuyl8eic9eF+d65Ij9kdWPrV7w9C0rDnzX8QhBzy3UTk0HJEnrLxG5cbOwTliWExtpedblLUc1a6fPvyqXCdxvUGM7KEm7uzrWv7RG48fVs8cuRT0UFvPsV2pTryo5FpzzcKoVRSFPidtgrxdsUuoIaxXRgpk4qI8y7wNY6aMl6ga64xgj86sf2EoaON5EP/NzY06cFYyFVI9and3YEBIrbArsf/jjEqW96B4AZaXCt6ETVKWRoVNvb1/Bch5LcrPLmz4jCnzkomjvh1dKABjmyxIU+7ugMRCRskbNYbyofFh42ksiUe97t92lamPFDRi6hRytbBgxEzT7o8H+Tq3YAjjQhTqTkAdAd2Gvqykt5kGBBFixB/OU2PN28usv/ESvB7bBX8FdnvbQ9lbW3bRdn8K3zBmNXvOzwkbEd3IOZlwdG+IhEjTugIXOn2kiih8SPaum6p+MXUIGX9CyOqQwl5ZJknUPJ7QQyIds0KtsRv9AT281+s7A5EmPhCLfbRvCx8Nsyp8XzUChFbwOdvUFwDlJBZjJCryrFaod4o+6MPvRs9quudYttNcVPAV5kXaAk/7vLet4eycRsVddfw97OqOxAZ7emGMSezuWi6YaTyB5WaQwWnu5Hw+GVaLHhbPBKcxA0ZrrWYitgE7zBl7vXeQKyQQkOYL0u8wZQgfqe6l7y7ZU0DRAYb23y/zNfDnNrLWEmTM1D71Gno+yXvOrhOiu1zt4I7Pf6kS5AWnGCI2HXpyUm41opdUA1SEWGg4E0n5I6RTKDh4Aa8yhvUzvE1vvOi6rocghg+gQ/v5xfiycxEYkZ3YFFFhZis2CLEBSOVeeDE2FkhPwMnY5MQxv9ORD3m167UooiPnSsHIlhHxbzIv/b13PCq4novW6EhboBF/qb4Jb6GbZsUdeGmvp7Jb29Z+9Ns77dJUb89PJFY7MoBJBf3UvadB2JDIx4LpU71KIU7PP5kk+CfGLWDh8DdsbBvnOCr5fA1a6hoeGUHY0cv9QY+0bvxlMtDvhBo1pZ5/eteU9SOzX1rD0/nQXKSDltecaMn8NEdU0x3IIYWeIi4H6Xjuapkx3NedoHgYfE+ZezOeHg/wSKxieFrU7kh8xoWUFFh4GZ2C3IhejcgiK5Ac/gnbv9zbzKl7b/7eo8rtMcAtVlvMvVd0xEvtDsQr3uXKf8PT9/RSscrMdTgAbeXH8WTSjanHzmgBiFOQn1Z2S+uxqh4QB438w6m/OYRl/fh7Uw59I2+tV8spekGHYSZc67y7Q6EKMYKvuX78XAwn5t+eplDtTAR32IqvTmee5r8j+Mhb5KQR6VJVRqOmF2JrPj6rb3nW5HFhajGcP64WX6Sb1FhB9f/6yItNhbmVz4s1izPU+bkGm+D+CxP0tFOMpwm39RiWH3wXFkvsMaoySV1cMSfUj0pRzyf7kDMfTJXLudLObv0YBruoZTcFsuv5wNh3KlcP/L4afP+1faLq1FqUhhmRa/piB9p6L5s3YGwxxOUXlGJ7rt8We7x89OSiYIG5d4VD7t2MrZCZsWLo2bXmiKSZfadp4sK9+sOxE0zROkvsNujMlc5OjgtELW7tEDTDSfailjYO4HzNZW58uqmpvf9bmfKqbd7/GGEVYd3B6ad7Zdx8zh5QuA1viD5t3i0qL8Tfu75ujZFZsULp6aFAUdcIeSxlW7fJ7oDwRRuPA1nu5LJutFACHsc53yeUfywdpkVL46a3xCPeqpHXN7Qp7nh6jT0VC845lBN5MZxVk8dtxKYT8s9frIiHirpbySz4sVR88IArYKf9azqNlBUmNoZSMgtcE4dcGlZwQzgIw09lWEvFZkVLxwq6mQCNyaN7KHsMwEiBh+KhlqcPI4fhZMX+BvE+nB/cSubsvB1f5O+i7Lz7dyvXivUxYlB0gPgBCH0n42ko0UBlnoD4lwtbqkowI/iITVOyc+kSTU6dSMMlIVM5YZIEMvvN0uBwx0tIjybD8iK3xqP+Cdw/kcn/w6cQF0IA09IPCkfjg0xZMOLXSppN7iuH3j84q54yLYLRMnLUUbyUGT7HfODO5C6EMZUbryEJyUiNEvjUZLvsOlyc7U3yOfoOm037C1QxHanPYxdIUO42al5YWCKxnRDn2YWByJvkW+hYDlBhrtPUektCftn4OIB8WA05JYh3OykhJHPlPFqBCUfmKKBJ2Tm5Tst0w0T6jpvwIDDXa5rkyHc3JgnRi+mYVTq6QFhfqq9eye656x8X9QJYYqG05dC3un2Jz2EiIvKXMqOxqYmIb5q1xDsaiYljE5DH7hYi80bI/iuSgzw6uD69y7RYocohDyPBfFWCBQ/xzxDm+Dkkg+SHoXTq7rZHbH921XLAfraZQh3fz7yMVDDvzoy4O3Wk0sPb+/+R7naI2Hu6ISmeiEw0fzcZByLHXehbKOE92yOUbrkmoxJGk4EJtRSb0A/1kgqlcqt4DSVIdz9+YTznYraJCJwzMY2CfGLcphXnYZ+00Va7CMfwBToHD25HGsAiomcYLf2snjE0VWz5MMolB4QQlyXyN2uajcIRsgq3E8yYlQKTy88vcthXu1i7LThOyZMgf6fWHjSTENfj9Vi+QoU9vKnuNHpxMhTJkjkbWVq4juJqMsJAsbvG1W4Vvt51UrOcK3d5hXMpX9JJrLuBjAFitViBwi+czTzKi2eu29ORBxdIIhaqLvd/vAYwT1OEjCqcD+g7FfS30gLI3P76HDsNK/2UHbDwuTopd8Q6NrIgH+WkfxeLvOq09B/vEhPtFZqpmy+XOULJhkhxop4qPL7BDLAg+hKLdoKU9QxF1UhUsIwt4/mwmrzCqfP53TNk+9NDIHeHI94vh+PTJrKjQ3DzSs48XsYOxMhSCeDSe+UkL99TU80OVHAeAh9xtCPqPeSkYIz31aZVwYht5yeTBRcm4Hw63ORAffpyfgnzCvkLO6KOXegAUmHZteorp2CkMlOFjASolFKL69nfyPVjwHzpDcyMKnQb4atfIM3EB+kdP02ppya71yo1K5uQ9+MEyjXe69yeVJzobKFMhHuxGDoPyvqwBjBW5+Ijjxr1gng5znP3xBVCYk9GA0d4PTSd1zvxb6GfTsZm1KPW5tKqpUabl7lm3uYyo07zkjGc+44vt/t1daqrmVLfIF1xwRboph4Prz4D+YVxt7cFo8cFKJUhZnixMpZXBM2SR3C+YtnJBOOFwWR/kZpJ0YmqYUubj/BUphmIc75w9bel0Z6HfyCidzY/kJkoCnXe2EPBkb+Z3zfDOzV28mUz3/a0BUshkFEJzPUiTUAK12+1ACASq4ZHg5EvY0pTycoPRVmoGMuLA/S1373+q29Sxx/sRZiWXVtZu4hV2kHxvJ/TdeyioKk9sv5yBjBb878GtaUrd/ae/K7W9Y0/l51HfGIy3vHiYHm908INAsIAkc/sufPRAdS247O9DdWdLmLCa7tdUXd0E/ZiU73gUaiXv0Ny8vOTfMKpR0j5R72UHbjaHNff6m6B3Ot6cVYHDzBGoT45Yn6h/NcV3h85KRAU+rUgl9yZSJGlvgCpJLmFUrJH3T7PkgS0gSzpBpMqOGYU0bqLb9h2yMVpsyJuua/0+NH7uGb7zDllCncmPA5Q3fnyvQiI+whZM1oDh/+SGMoPe8SLZr645mmE/wQOO1YHonNR/j/4wMtqdOsnOYVOgW/5QtGVUHWzTT0BU4y7QoFgl6aiLR+zxNAPdXh1XX1xWFro5KZezBLO/ZR9vhFWjynOfFzlzf+JlNGdeKRzDsrmdivHgp+B3bmPRMZJIu1eEocE4RB/pc3WDbzCifU+b7G2GRu/Hy2kVzg5Lm4+WLWUyF/VB1XXBop53tmW9frD8aGOu1OOOFpnqsEAqbHv3kDf3q9r2dmrvdJnRaC70I+Jd86IzzB8fmrVXdKLFemTxo7uMDXkHybKW/OMPTDa0EUmWAEzxCl3x2+B7HWSJ0YHiFehW1e7IrhfBmtLugJl0dTCLlhtLebwo3bRzotcgHRwzl/PDqUEoVdfgc2y25jyr5aFAVJ929gYF2tO+OpEwMJtzGCf2ks5wv2Mjb7IM69c41kcJaeLNueOTzRv+pvDiHqNNprJ7afEOqN9DuuMw/+0f1uX+w4PelbWuFScjuBObrY3xDfQ9mxiBbW4s844iRCmCqYw9Qi+BmmUGYaenCW8aFQ7LghsQEJ+7tHO6IR5Vqga8udVlIBUfzQ4+ff0mLsHAfPxLUKiOMcf2O4n9Lja1EceY3oTIfp5nYa+ikhSudSQg7AbjsrhYLs9vYtawOjvW5i+wlDvZH+BiedFrhJvu0Liu8korTL4X0gVmKKYyI3vpQtoVutFD27FgMMOg39fFMoR2WcKIU68XjaYjkl9vDleh0KFjsNfZWTbPd0DRT5YSxCShnXX62k5+xqqiDfqKWZuJYNdYZQpnDjDEbInAQhh2K91xwj6c5HKNjrjRXGo21rxWDme2LhI52SKEvfFOQnsRA52qi+5J1VIJBxmr9Jaxb81p6tL5R9mIYd2DbtPF3bdHaC0i9CKFO44Z9jJF2zdf0T1bKIhGHZPfZ6j/J+kw/jxhtrIgM+238reYCbYbGvkSyLRyqy89tpmJXOrymuXqykrvafp2xrACCUidw4NUBE1xBhHYdzw3u8ofnXKa7ku0w5FTvzcn0/GmfOTcavdUIGGTfB1/1N5KZ4pGxRu2oBQZRVqmfbDsaOruZy9Yrtx8AJMI0bi9xCjM2nctMpTjdEcbq/iVygxRxVwesk4DOucPvRy9FdrRGrqlgcg9Pm83py3crYUNbBCeUAojjD35hKFEpR5Ab+F3pQQpRe+/aWtT918rWORFUMdZ7KjevRf1HJa4AozpSiyBv4XU9HB32TOF/R0dZdddGqqhBGmNLPV3LMjCmKxVIUBQGz98nooDpf186a2t69pZrK1h0vjJQvYhj+SvkWUhSlg/KYqxPRtvGcb6uWGivHCwMOOqJXlfhs2Mkn+ZvJ8lh5ezlqEfz+7ouFWkOUPlfKXOJy4XhhKEScgtxHuUlPycAfU+YpLML0O8Zz4zan93U4XhgDlLWV+8ZE3wbaYqUorCe1zSkWch1nJBce0dalNXTM/7QTr9PxwjiA87JONEjF4D2+VN+GFIV9DBFKuvWka4zgf57e1uW4pidHCwP1V8cYetkiGWgyQocfROH0FQLVDHpv8D845asjA2SsENcc1dbV56SoleNPjEZi/w1qRp4gBphPUhT2ggcQpriQj0O6ZIGuTTuE8/cbOuY7ImrlaGF0GvpJ47m9q33hZEMUGLlTy113TsFsnx5eY4bGs5/FQq7DuPH7zrauH1X6cp1+Yoyxc0ADhqHByZbh2PIB/w271kciHbWiU7hxVXtb91uVNK3qYgH+cGA6IRS7manSyS4jOC3woMv1+4Zp9UAshIEVUyZwvrtSCUFHC6OfstUbVGsnl+CPg6Td/PT8KelPlI+Ub6Hl16uPE/zeWMgdovT3x7R13V3ua3W0MHYythNhPSvAKYE/TCoUGxuUplOZQRi80LZn07Q62kh+a3pb145ymlaOLzuf3N4deSXcX1JJSLo/wHFT0OsJzBVGxK9YnxFJ1+u9Ab1JiK+N1tRmBY73MQ4S/E/FDoLD930h0JzyJTAFXYqiMuDBdKJe+JCMTFBd/XR0UGWE/Gb2tHn/afcP4vgTw+z1Ro1Nvv4ABHGHxx8PUzo0QKlrHOeuk/VEcHi/uaQ84LSwMmmK9tnHXZ6979NU+2zOARrFUhUdfKjGFITc+mBsyJ3tqWPOpn3U5Q37iPjzZqb+i/lLg22KvRwoSIwQ2okJJgt0ze30XeC1AE6LnUwhVg/Iw8PvSl8w6RZksR1je6pCGCQ9U0on5J5mIQ7A+FDz69sp0/6kqDEPIe9RQh7GXo08VghgJtY1mduZipmHJRkdq0+LTBBQudDXKOKEPLNJUc+xcvhC1QjDBKYVfPKMLw2U0nCP9+s09Mv3MHZOQIjGs5JxH04SKZLSwWkB/87uigIkah90+/buouwEq4YvVJ0w7MQ0uQQh5xmETJEiKY1SI1GFkB6+kNAJ+eFf+3pGnZg/GlIYWTBFMkjpteM5b8KW2eHLMCXZgQ+AzVZIopYLmFZXe4P8bab8eTtTukoxraQw8iBtbt3UT9nJRxvJILZCyehWblCYiZqoSvyeYMLd7fYPHCD4V4odNi2FUSDtbd1nU0JuPkjw8dcmol45iXB/ECFElQGc7koB0+pKXxBhx5Ub+3ouKfQypDCKBKdIB9cf9QlyFMwsmTz8GIgCZfxOeGhga+/zqvtvOxmbWYhpJYVRIqZA9lF2zDWJqLveBYLT4kxfE3kp0u+Aq/mQdDlJokmIRfmWk0hhWAQEcijn9ypEzLlMiwXrVSB4Qndw3XHlNxDsld4GMUDps3/p6/nSaK+XwrAYRLOwajlM6UIIpJ4iWcgnIBKFVdJOBeUkT7g8sX9QNju0efVfsl2mFIZNmALZzdjp2DC7WIvVrEAQJsVJAcoZni2WdDkJaRZi5Wt9Pd8Y6W2kMGwGAjlY8JsShF5wbjIerDWBIPqD9mA429+ooqWc13qDxKCEvKi4w2MEv3n4UlQpjDJhJgwjhH53kZ5orQWBmKYTeuarKa8DfwOtzTD5kPP4qdv3p9f7emZmvkYKowKgWhgCOVHXWhcnY1VXcoJTYpnXT6YbRqr5q9oEnhkguMob1DYp6sLh0SopjAoCgeyh7MYuXQviBnO6QOBLrHT7yPOqK5XVrsbkpjlDDKcFTo5zfI3vbOrrmTz8dXU5JcQpwK59d8uahhdV1+Un+5sH8fTCH8uJIBeAGwrgpqrWjD+EvTAdSr7T7deilP5wpNfJE8NBoNxEJeLWGYY+7hotmrUpq5yYZhOupRpOtdE4PtCSanMG8wItYTyYRvoWKQwHYjZlQSCVKljEyYUBEqnEWCJWE9tpM7sJkc/4nepeMjwaZSKF4WBMgYwRYvzViahajpsz04+otS1S+Z4WRAqjOoBAIpTecQjnk+yq6DUF8ZTqIYiUVVNOIh/gI2GSPRKQOAW/7m/SWwTfkDkbIBMpjCoCa507uH4PKnqtFIg5d2uRniC1mqFH4ACiyPSRIJafuX3xfZRuVgi5ITNkK4VRhWSWvJciEAhipdubmvlUyyUrKAHBz4k222z//oTLo21U1F2IUmEvuRRGFWMKpJ+yWfBB8vUH6kUQJvn2h8DEQvLvbab0yjxGFQPb+L/7eo/7B2VTV7q962YFW+K46UcCPgT+DQMKEJlBdx2iM7UuCnN7Uz6nKswsvxBanNAH5YlRQ4zUE5LpVNeyD5ENnBazjGRe0TX8rsxolTwxagicIG/0rf3idqYc+ojL+3BXoDn872lRIBeyMBmvK1HgRof/kK+JiQcIKm2JdL5rm8ymqXmGFtzE1FQNUK0k7EYDSTysqiv0tCCyVqq2QfP/+q295+MEeYW5Ht7OlPgUzskT7g99jWz+SC2Q8qlgPuZ5WiB0O54bq8z/lidGHZHZNHWKngjizHhVUVMRG9xAtWRmFTpMGmYnHiDmJBEpjDoEApnIjasNQi8/WddaKRHkNzXmnBcyTBoius/t693Y19Nlfk0Ko84xm6bQVXig4ORely/lf1RzJS1u9A2KK+/+80X+pvhritqRWRoihSFJYQpktpFsPdpIkl+5PKmnLQoJq81RH6n8IxuIWi3z+tchH5T5EikMyScwuwo/p2vuLkNzv6i4Uwky0w9xOoUOk06fFgtCm1e/kPl1KQzJiBzW3n2ZRuhtc3XNd3Yy7n7C5SVvKErqBHHyrCwMOcj3lJOtrZKCQSHdji1rmjeorkuXeIPv6IRod8bDqUgP9qQjR4CQqJPAjY5rytf0Q2urSsg3R/o3eWJIRsQsUNQJPSZKaNhFxPMGIXNmGvrYi5MxN5KFKEQ0J4U4wVFH+cd8XSP57FaEiL7qbw69u2VN40j/rtpxgZLqxRTEVEKPWRqPuvH0HaK0daXbd8avVXf4Laa+dJG3oX2cEGOXxqOqOShAQSgAAAUXSURBVPIfwqjkhHNcx8sFRKJWubwo/7gl27/LE0OSwixA1CiZl2tqO0Khd3r8WosQbw0QGjhE8LHoCSGpWiNvypQx/ZByUmj5x0n+5n1b+tYekO01Uhh1zvAh1IWUUKD77QPK3lOIUFqEOAQCmSCMVDdgaj6sFi1LJCtzVlQ+YILi4y7vfbkWykhh1CnFCmI4Gd1vewghiQMyBAJzBUMV7G6Iwo0eoqzo8o+RkMKoM6wSxHDMcTsvK67BIBH9XiHGXarFPPA5YH4htzBb14kdI0kLLf+43+1b9Vpfz6Jcr5PCqBPMAkKDkIvtXEtgNkY95vLExwo+tIey1mvTbbdmSy0iWfBDrJiXVegu8c8GW3R0PI40GSQTKYw6ILMeqpxFgrhpl3v8WPGFSRze7ySiHggE5tcKjy/1mlJ7QwrZJZ6t/GMkpDBqmEoJYjgQyM9d3kSE0liIUPe3tagfAskwv4py1Iss/+gY7bQgMvNdm0AQ7W3dexfo2vJnogOtlR56gKf53xlTOCFr/87YdLPt1sw7PB4bTJlDePo/lA755gNOncV5DobDDN73KduZjyiIPDFqC9Q36YTe3qVrDU7IRuNmvMkb0D+g9PXtTDk186YcaVchSfddm5Es9Khn+xnMYdP57hLPtgcjG1IYNQBGeIYpfWC2nmxxwpR0mEioQ8IAM9Qi5boZs+0qNKcjZusNKWSXOK7nNH/T7re2rD04359BCqOKyZyK7gRBZIzq2Rcg4vvZJomPBAQyhRu376Ps7MxdhSM56pmrwvIBQ9TWqa6sk81HQgqjCnGaIMjHEah4oxAP58ooj4YZVlYEOSczaGA62uZinXz6QyBUZOhXuP05yz9GQgqjimjomD93AucPHCz4pHKtBRgN3LBX+4J6gxC/fpMpF+bKJhfKSFE1CAMZ9VxZbjMb/0fFFfYS8YttTLk9X6fbRAqjCkCB32RuPN0qRIddawAKJZdjbTWZAsnlkEMQN3oDmkrEK5uZev3wrrxCkMJwMFZNNbeSQhxrq8m1zDNd9bt7N2WzrRCpFIYDcaIgSnGsrQYC2U3Z9Wi7hY+FkwK7urczpcsqU04Kw0GYPRFJSroLGetvN+kl8WGFkMdKcaytBnkbRsgNeNvdlLVb6d9IYTiAzFj+kkTU6xRBmDY7IeS3VjvWVoLfn9XXJoVRQewqAS8V+BFXexvK4lg7FdnzXSGwT2+M4OvPTcYdc0LAj7jRE/jIsX69jI6105AnRgVBod9Lkf7WSl+HkxxrpyBPjArSIvj/f8rl+XIlT4xMx3pL31rHONaVRpadV5BNivqtZ1RPfo3KFgPH+guBZg1tnuh/dlK0yQlIU6rCTGvv3vNEdPDActU7Scc6P+SJUWEahPgBCt3sBn4EehIwq7Wf0q+93tczU4oiO/LEqDAI2Y4VfPf6cL8t6pCOdXFIYTiAf2rreu2eWPhIK6ZmZOLUjHU1IE0pB5Ak9M5VFi6KlI516cgTwyFMbD8h9Gp4X7CUq5GOtXXIPIZDGM+NF55X3V8uZhiyzFhbjxSGQ9ikqEsfd3m7TtQ1f75XNNyx3iQda8uQppSDQE7jd5GBA/OdwSoda/uQzreDcAnx70+N4oRLx7o8yBPDQSCncRg3/r4mMuAbflXSsS4v8sRwEGi2UQjZhkEDJjJjXRmk8+0wooTevsrleXSCZkjHuoJIU8qBTG7vjjQIwaVjXTnkieFA9lJ20l5KNjq1x7rmIYT8D1wX9utClIARAAAAAElFTkSuQmCC",alt:"Megaphone",className:"w-16 h-16 md:w-20 md:h-20 lg:w-28 lg:h-28"})})]}),(0,wt.jsx)("div",{className:"w-full max-w-7xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2025"})}),(0,wt.jsx)("style",{jsx:!0,children:"\n        .scrollable-text::-webkit-scrollbar {\n          width: 4px;\n        }\n        .scrollable-text::-webkit-scrollbar-track {\n          background: #f1f1f1;\n          border-radius: 8px;\n        }\n        .scrollable-text::-webkit-scrollbar-thumb {\n          background: #b3d088;\n          border-radius: 8px;\n        }\n        .scrollable-text::-webkit-scrollbar-thumb:hover {\n          background: #5e8f3e;\n        }\n      "})]})},fs=e=>{let{language:t,setStep:r,setIsAnonymous:n}=e;const s=us[t];return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:is,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,wt.jsx)("img",{src:os,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight  p-2",children:"Repoblikan'i Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,wt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"relative z-10 p-8 md:p-12 pt-16 md:pt-20 h-full flex flex-col items-center justify-center",children:[(0,wt.jsxs)("div",{className:"relative bg-transparent rounded-[80px] px-12 py-16 max-w-xl w-full",children:[(0,wt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-0",children:(0,wt.jsx)("img",{src:ds,alt:"Fond",className:"max-w-none w-[140%] h-[140%] object-contain scale-130 select-none opacity-100"})}),(0,wt.jsxs)("div",{className:"relative z-20 flex flex-col items-center justify-center w-full text-center",children:[(0,wt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-[#5e8f3e] mb-12",children:s.choice.title}),(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-8 w-full",children:[(0,wt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,wt.jsxs)("label",{className:"flex items-center justify-center space-x-4 cursor-pointer text-gray-700 text-lg w-full max-w-[200px]",children:[(0,wt.jsx)("input",{type:"radio",name:"choix-anonymat",value:"anonyme",className:"w-6 h-6 border-2 border-gray-400 accent-blue-600",onChange:()=>{n(!0),r(2)}}),(0,wt.jsx)("span",{className:"flex-1 text-center",children:s.choice.anonymous})]})}),(0,wt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,wt.jsxs)("label",{className:"flex items-center justify-center space-x-4 cursor-pointer text-gray-700 text-lg w-full max-w-[200px]",children:[(0,wt.jsx)("input",{type:"radio",name:"choix-anonymat",value:"non-anonyme",className:"w-6 h-6 border-2 border-red-500 accent-red-600",onChange:()=>{n(!1),r(2)}}),(0,wt.jsx)("span",{className:"flex-1 text-center",children:s.choice.identified})]})})]})]})]}),(0,wt.jsx)("div",{className:"mt-8 flex justify-center w-full",children:(0,wt.jsxs)("button",{onClick:()=>r(0),className:"px-8 py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-[#4a7b32] flex items-center gap-2 font-semibold text-lg transition-colors hover:bg-gray-50",children:[(0,wt.jsx)(_t,{size:24}),s.choice.back]})})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2025"})})]})},ms=e=>{let{language:t,setStep:r,setHasProof:n,isAnonymous:s}=e;const a=us[t];return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:is,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,wt.jsx)("img",{src:os,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikan'i Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,wt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"relative z-10 p-8 md:p-12 pt-16 md:pt-20 h-full flex flex-col items-center justify-center",children:[(0,wt.jsxs)("div",{className:"relative bg-transparent rounded-[80px] px-8 py-12 max-w-xl w-full",children:[(0,wt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-0",children:(0,wt.jsx)("img",{src:ds,alt:"Fond",className:"max-w-none w-[120%] h-[120%] object-contain scale-110 select-none opacity-100"})}),(0,wt.jsxs)("div",{className:"relative z-20 flex flex-col items-center justify-center w-full text-center",children:[(0,wt.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-[#5e8f3e] mb-6",children:a.proof.title}),(0,wt.jsx)("p",{className:"text-base md:text-lg font-semibold text-gray-800 mb-3 max-w-md",children:a.proof.question}),(0,wt.jsx)("p",{className:"text-xs text-gray-600 mb-8 max-w-md leading-relaxed",children:a.proof.description}),(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 w-full",children:[(0,wt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,wt.jsxs)("label",{className:"flex items-center justify-center space-x-3 cursor-pointer text-gray-700 text-base w-full max-w-[220px]",children:[(0,wt.jsx)("input",{type:"radio",name:"choix-preuve",value:"oui",className:"w-5 h-5 border-2 border-green-500 accent-green-600",onChange:()=>{n(!0),r(s?4:3)}}),(0,wt.jsx)("span",{className:"flex-1 text-center font-medium",children:a.proof.yes})]})}),(0,wt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,wt.jsxs)("label",{className:"flex items-center justify-center space-x-3 cursor-pointer text-gray-700 text-base w-full max-w-[220px]",children:[(0,wt.jsx)("input",{type:"radio",name:"choix-preuve",value:"non",className:"w-5 h-5 border-2 border-red-500 accent-red-600",onChange:()=>{n(!1),r(s?4:3)}}),(0,wt.jsx)("span",{className:"flex-1 text-center font-medium",children:a.proof.no})]})})]})]})]}),(0,wt.jsx)("div",{className:"mt-6 flex justify-center w-full",children:(0,wt.jsxs)("button",{onClick:()=>r(1),className:"px-8 py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-[#4a7b32] flex items-center gap-2 font-semibold text-base transition-colors hover:bg-gray-50",children:[(0,wt.jsx)(_t,{size:20}),a.proof.back]})})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2025"})})]})},ps=e=>{let{language:t,formData:r,setFormData:n,errors:s,setErrors:a,setStep:i,hasProof:l}=e;const A=us[t];return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-4",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:is,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,wt.jsx)("img",{src:os,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight  p-2",children:"Repoblikan'i Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,wt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"relative z-10 p-4 md:p-6 pt-8 md:pt-12 h-full flex flex-col items-center justify-center",children:[(0,wt.jsx)("h1",{className:"text-center text-2xl md:text-3xl font-bold text-[#5e8f3e] mb-2",children:A.personal.title}),(0,wt.jsx)("p",{className:"text-center text-xs font-semibold text-gray-700 mb-6",children:A.personal.subtitle}),(0,wt.jsx)("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-md mx-auto",children:(0,wt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{var e,t,n,s;const o={};null!==(e=r.name)&&void 0!==e&&e.trim()||(o.name=A.errors.required),null!==(t=r.email)&&void 0!==t&&t.trim()||(o.email=A.errors.required),null!==(n=r.phone)&&void 0!==n&&n.trim()||(o.phone=A.errors.required),null!==(s=r.address)&&void 0!==s&&s.trim()||(o.address=A.errors.required),r.acceptTerms||(o.acceptTerms=A.errors.termsRequired),a(o),0===Object.keys(o).length&&i(4)})()},className:"w-full",children:[(0,wt.jsxs)("div",{className:"mb-3",children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-800 mb-1",children:[A.personal.name," ",(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("input",{type:"text",value:r.name||"",onChange:e=>n(o(o({},r),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs transition-all bg-white",required:!0}),s.name&&(0,wt.jsx)("p",{className:"mt-1 text-rose-600 text-xs",children:s.name})]}),(0,wt.jsxs)("div",{className:"mb-3",children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-800 mb-1",children:[A.personal.email," ",(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("input",{type:"email",value:r.email||"",onChange:e=>n(o(o({},r),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs transition-all bg-white",required:!0}),s.email&&(0,wt.jsx)("p",{className:"mt-1 text-rose-600 text-xs",children:s.email})]}),(0,wt.jsxs)("div",{className:"mb-3",children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-800 mb-1",children:[A.personal.phone," ",(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("input",{type:"tel",value:r.phone||"",onChange:e=>n(o(o({},r),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs transition-all bg-white",required:!0}),s.phone&&(0,wt.jsx)("p",{className:"mt-1 text-rose-600 text-xs",children:s.phone})]}),(0,wt.jsxs)("div",{className:"mb-4",children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-800 mb-1",children:[A.personal.address," ",(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("input",{type:"text",value:r.address||"",onChange:e=>n(o(o({},r),{},{address:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs transition-all bg-white",required:!0}),s.address&&(0,wt.jsx)("p",{className:"mt-1 text-rose-600 text-xs",children:s.address})]}),(0,wt.jsxs)("div",{className:"mb-4 flex items-start gap-2",children:[(0,wt.jsx)("input",{type:"checkbox",id:"acceptTerms",checked:r.acceptTerms||!1,onChange:e=>n(o(o({},r),{},{acceptTerms:e.target.checked})),className:"mt-0.5 h-3 w-3 text-[#b3d088] rounded focus:ring-[#b3d088]"}),(0,wt.jsx)("label",{htmlFor:"acceptTerms",className:"text-xs text-gray-700 leading-relaxed",children:A.personal.accept})]}),s.acceptTerms&&(0,wt.jsxs)("p",{className:"mb-3 text-rose-600 text-xs flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:10})," ",s.acceptTerms]}),(0,wt.jsxs)("div",{className:"flex justify-center gap-12 pt-6",children:[(0,wt.jsxs)("button",{type:"button",onClick:()=>i(2),className:"px-8 py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-[#4a7b32] flex items-center gap-2 font-semibold text-lg transition-colors hover:bg-gray-50",children:[(0,wt.jsx)(_t,{size:24}),A.personal.back]}),(0,wt.jsx)("button",{type:"submit",className:"px-8 py-2 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-lg transition-all shadow-md",children:A.personal.continue})]})]})})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2025"})})]})},gs=e=>{var r;let{language:n,selectedCategory:s,setSelectedCategory:a,formData:i,setFormData:l,errors:A,setErrors:c,setStep:d,isAnonymous:u,hasProof:h,setReferenceCode:f}=e;const m=us[n],p=Object.entries(m.categories).map(e=>{let[t,r]=e;return{value:t,label:r}}),[g,x]=(0,t.useState)(!1),[b,v]=(0,t.useState)((null===(r=i.categoryDetails)||void 0===r?void 0:r.length)||0),y=50,w=async()=>{const e={type:u?"anonyme":"identifie",name:u?"Anonyme":i.name,email:u?"":i.email,phone:u?"":i.phone,address:u?"":i.address,category:s,description:i.categoryDetails,accept_terms:!0,accept_truth:!0,has_proof:!1};try{const t=await as.post("/reports",e,{headers:{"Content-Type":"application/json"}});if(!t.data.success)throw new Error(t.data.message||m.errors.submission);f(t.data.reference),d(6)}catch(o){var t,r,n,a;console.error("Erreur soumission sans preuves:",o);let e=m.errors.submission;if(null!==(t=o.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.errors){const t=o.response.data.errors;e=Object.entries(t).map(e=>{let[t,r]=e;return"".concat(t,": ").concat(r.join(", "))}).join("\n")}else null!==(n=o.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.message&&(e=o.response.data.message);alert("".concat(m.errors.submission,"\n\n").concat(e))}};return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:is,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,wt.jsx)("img",{src:os,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,wt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"relative z-10 p-6 md:p-8 pt-12 md:pt-16 h-full flex flex-col items-center justify-center",children:[(0,wt.jsx)("h1",{className:"text-center text-3xl md:text-4xl font-bold text-[#5e8f3e] mb-6",children:m.category.title}),(0,wt.jsx)("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-xl mx-auto",children:(0,wt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{var e;const t={};s||(t.category=m.errors.categoryRequired),null!==(e=i.categoryDetails)&&void 0!==e&&e.trim()?i.categoryDetails.trim().length<y&&(t.categoryDetails="fr"===n?"Description trop courte. Minimum ".concat(y," caract\xe8res requis."):"Fanazavana fohy loatra. ".concat(y," caract\xe8res farafahakeliny.")):t.categoryDetails=m.errors.descriptionRequired,h||g||(t.acceptTruth=m.errors.truthRequired),c(t),0===Object.keys(t).length&&(h?d(5):w())})()},className:"w-full",children:[(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:[m.category.selectLabel,(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsxs)("select",{value:s,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-sm transition-all bg-white",required:!0,children:[(0,wt.jsx)("option",{value:"",disabled:!0,children:m.category.selectPlaceholder}),p.map(e=>(0,wt.jsx)("option",{value:e.value,children:e.label},e.value))]}),A.category&&(0,wt.jsxs)("p",{className:"mt-1 text-rose-600 text-xs flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:12}),A.category]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:[m.category.detailsLabel,(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("textarea",{rows:4,value:i.categoryDetails,onChange:e=>{l(o(o({},i),{},{categoryDetails:e.target.value})),v(e.target.value.length)},placeholder:m.category.detailsPlaceholder,minLength:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] resize-y text-sm transition-all bg-white min-h-[100px] max-h-[400px]",required:!0}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,wt.jsxs)("p",{className:"text-xs ".concat(b<y?"text-rose-600":"text-gray-500"),children:[b," / ",y," caract\xe8res minimum"]}),b<y&&(0,wt.jsxs)("p",{className:"text-xs text-rose-600 flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:12}),"Encore ",y-b," caract\xe8res requis"]})]}),A.categoryDetails&&(0,wt.jsxs)("p",{className:"mt-1 text-rose-600 text-xs flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:12}),A.categoryDetails]})]}),!h&&(0,wt.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("input",{type:"checkbox",id:"acceptTruthNoProof",checked:g,onChange:e=>x(e.target.checked),className:"mt-0.5 h-4 w-4 text-[#b3d088] rounded focus:ring-[#b3d088]"}),(0,wt.jsxs)("label",{htmlFor:"acceptTruthNoProof",className:"text-sm text-gray-700 leading-relaxed",children:[(0,wt.jsx)("span",{className:"font-semibold text-rose-600",children:"*"})," ",m.upload.acceptTruth]})]}),A.acceptTruth&&(0,wt.jsxs)("p",{className:"mt-2 text-rose-600 text-xs flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:12}),A.acceptTruth]})]}),(0,wt.jsxs)("div",{className:"flex justify-center gap-12 pt-6",children:[(0,wt.jsxs)("button",{type:"button",onClick:()=>d(u?2:3),className:"px-8 py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-[#4a7b32] flex items-center gap-2 font-semibold text-lg transition-colors hover:bg-gray-50",children:[(0,wt.jsx)(_t,{size:24}),m.category.back]}),(0,wt.jsx)("button",{type:"submit",className:"px-8 py-2 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-lg transition-all shadow-md",children:h?m.category.continue:m.proof.continueWithoutProof})]})]})})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2025"})})]})},xs=e=>{let{language:t,formData:r,setFormData:n,errors:s,setErrors:a,fileErrors:i,setFileErrors:l,isSubmitting:A,setStep:c,handleSubmit:d,hasProof:u}=e;const h=us[t],f=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB"][t]};return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-3",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-2 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-1",children:[(0,wt.jsx)("img",{src:is,alt:"Logo R\xe9publique",className:"h-14 w-14 object-contain"}),(0,wt.jsx)("img",{src:os,alt:"Logo MESUPRES",className:"h-14 w-14 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1 text-left",children:[(0,wt.jsx)("span",{className:"font-semibold text-xs uppercase leading-tight",children:"REPUBLIQUE DE MADAGASCAR"}),(0,wt.jsxs)("span",{className:"font-semibold text-xs uppercase leading-tight",children:["MINISTERE DE L'ENSEGNEMENT SUPERIEURE",(0,wt.jsx)("br",{}),"ET DE LA RECHERCHE SCIENTIFIQUE"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1 mb-4",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"relative z-10 px-6 pt-8 pb-6 md:px-8 md:pt-12 md:pb-8 h-full flex flex-col",children:[(0,wt.jsx)("h1",{className:"text-center text-3xl md:text-4xl font-bold text-[#5e8f3e] mb-6",children:h.upload.title}),(0,wt.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-xl mx-auto",children:[(0,wt.jsxs)("p",{className:"text-center text-sm font-semibold text-gray-800 mb-4",children:[h.upload.attachments," ",(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("p",{className:"text-center text-xs text-gray-600 mb-6 leading-relaxed",children:h.upload.attachmentsInfo}),(0,wt.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-[#b3d088] transition-all bg-white mb-6 w-full",children:[(0,wt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.mp4,.pdf",onChange:e=>{const t=Array.from(e.target.files),r=[],s=[],i=["image/jpeg","image/jpg","image/png","video/mp4","application/pdf"];t.forEach(e=>{i.includes(e.type)?e.size>26214400?r.push("".concat(e.name,": Taille trop grande (").concat((e.size/1048576).toFixed(2)," Mo > 25 Mo)")):s.push(e):r.push("".concat(e.name,": Type de fichier non support\xe9 (").concat(e.type||"inconnu",")"))}),l(r),s.length>0&&(n(e=>o(o({},e),{},{files:[...e.files,...s]})),a(e=>o(o({},e),{},{files:""}))),e.target.value=""},className:"hidden",id:"file-upload"}),(0,wt.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,wt.jsx)(Qt,{className:"mx-auto mb-3 text-gray-400",size:40}),(0,wt.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:h.upload.uploadLabel}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:h.upload.uploadSubtext})]})]}),s.files&&(0,wt.jsxs)("p",{className:"text-rose-600 text-xs text-center mb-4 flex items-center justify-center gap-1",children:[(0,wt.jsx)(Ut,{size:12})," ",s.files]}),i.length>0&&(0,wt.jsx)("div",{className:"mb-4 space-y-1",children:i.map((e,t)=>(0,wt.jsxs)("p",{className:"text-rose-600 text-xs text-center flex items-center justify-center gap-1",children:[(0,wt.jsx)(Lt,{size:12})," ",e]},t))}),r.files.length>0&&(0,wt.jsxs)("div",{className:"mb-6 w-full",children:[(0,wt.jsxs)("p",{className:"text-center font-semibold text-gray-700 mb-3 text-sm",children:[h.upload.filesAdded," (",r.files.length,")"]}),(0,wt.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.files.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-xs font-medium text-gray-800 truncate",children:e.name}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:f(e.size)})]}),(0,wt.jsx)("button",{onClick:()=>(e=>{n(t=>o(o({},t),{},{files:t.files.filter((t,r)=>r!==e)}))})(t),className:"ml-3 text-rose-600 hover:text-rose-800",children:(0,wt.jsx)(Lt,{size:16})})]},t))})]}),(0,wt.jsxs)("div",{className:"mb-6 flex items-start gap-2 w-full",children:[(0,wt.jsx)("input",{type:"checkbox",id:"acceptTruth",checked:r.acceptTruth||!1,onChange:e=>n(o(o({},r),{},{acceptTruth:e.target.checked})),className:"mt-0.5 h-4 w-4 text-[#b3d088] rounded focus:ring-[#b3d088]"}),(0,wt.jsxs)("label",{htmlFor:"acceptTruth",className:"text-xs text-gray-700 leading-relaxed",children:[(0,wt.jsx)("span",{className:"font-semibold text-rose-600",children:"*"})," ",h.upload.acceptTruth]})]}),s.acceptTruth&&(0,wt.jsxs)("p",{className:"mb-4 text-rose-600 text-xs flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:12})," ",s.acceptTruth]}),(0,wt.jsxs)("div",{className:"flex justify-center gap-12 pt-6 w-full",children:[(0,wt.jsxs)("button",{type:"button",onClick:()=>c(4),disabled:A,className:"px-8 py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-[#4a7b32] flex items-center gap-2 font-semibold text-lg transition-colors hover:bg-gray-50 disabled:opacity-50",children:[(0,wt.jsx)(_t,{size:24}),h.upload.back]}),(0,wt.jsx)("button",{onClick:()=>{const e={};!0===u&&0===r.files.length&&(e.files=h.errors.filesRequired),r.files.length,r.acceptTruth||(e.acceptTruth=h.errors.truthRequired),a(e),0===Object.keys(e).length&&d()},disabled:A||u&&0===r.files.length||!r.acceptTruth,className:"px-8 py-2 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-lg transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:A?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,wt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,wt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.upload.submitting]}):h.upload.submit})]})]})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2025"})})]})},bs=e=>{let{language:t,referenceCode:n,resetForm:s,navigate:a}=e;const i=us[t],o=new URL(r(3531),r.b).href,l=new URL(r(3026),r.b).href,A=n||(()=>{const e=(new Date).toISOString().slice(0,10).replace(/-/g,""),t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let r="";for(let n=0;n<6;n++)r+=t.charAt(Math.floor(36*Math.random()));return"REF-".concat(e,"-").concat(r)})();return(0,wt.jsxs)("div",{className:"bg-[#f9faf7] min-h-screen flex flex-col items-center justify-center p-3 overflow-hidden relative font-bill",children:[(0,wt.jsxs)("div",{className:"relative flex flex-col items-center justify-center w-full max-w-2xl",children:[(0,wt.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-0",children:[(0,wt.jsx)("img",{src:o,alt:"Fond d\xe9coratif",className:"w-full max-w-2xl h-auto object-contain opacity-40"}),(0,wt.jsx)("button",{onClick:s,className:"absolute -top-10 -right-1 z-50 bg-white text-red-500\r border-2 border-red-500 rounded-full w-6 h-6\r flex items-center justify-center hover:bg-red-50\r transition-all shadow-md text-lg font-thin pointer-events-auto",children:"\xd7"})]}),(0,wt.jsxs)("div",{className:"relative z-10 text-center space-y-3 px-2 md:px-6",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:(0,wt.jsx)("img",{src:l,alt:"Validation",className:"w-14 h-14 md:w-20 md:h-20 lg:w-24 lg:h-24 object-contain"})}),(0,wt.jsxs)("div",{className:"text-left space-y-1",children:[(0,wt.jsx)("h1",{className:"text-base md:text-xl lg:text-2xl font-bold text-[#5e8f3e] leading-tight",children:i.success.title}),(0,wt.jsx)("p",{className:"text-gray-700 text-xs md:text-sm lg:text-base",children:i.success.thanks})]})]}),(0,wt.jsxs)("div",{className:"mt-2 md:mt-4 space-y-1 md:space-y-2",children:[(0,wt.jsx)("p",{className:"text-gray-600 text-xs md:text-sm font-medium",children:i.success.reference}),(0,wt.jsxs)("div",{onClick:async()=>{try{await navigator.clipboard.writeText(A),alert("fr"===t?"R\xe9f\xe9rence copi\xe9e !":"Naoty ny r\xe9f\xe9rence !")}catch(e){console.error("Erreur lors de la copie: ",e)}},className:"bg-white border border-[#b3d088] rounded-md p-1 md:p-2 max-w-[240px] md:max-w-sm mx-auto cursor-pointer hover:bg-green-50 transition-colors group",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between gap-0.5 md:gap-2",children:[(0,wt.jsx)("span",{className:"font-mono font-bold text-[10px] md:text-base text-gray-900 tracking-tight flex-1 text-center break-all",children:A}),(0,wt.jsx)("svg",{className:"w-2.5 h-2.5 md:w-4 md:h-4 text-gray-400 group-hover:text-[#5e8f3e] transition-colors flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]}),(0,wt.jsx)("p",{className:"text-[9px] md:text-xs text-gray-500 mt-0.5 text-center",children:"fr"===t?"Cliquez pour copier":"Tsindrio hanonta"})]})]}),(0,wt.jsx)("div",{className:"mt-2 md:mt-4",children:(0,wt.jsxs)("button",{onClick:()=>a("/suivi"),className:"bg-[#5e8f3e] hover:bg-[#4a7b32] text-white font-bold py-1 md:py-2 px-3 md:px-6 rounded md:rounded-lg transition-all duration-300 shadow hover:shadow-lg transform hover:scale-105 flex items-center gap-1 md:gap-2 mx-auto text-[11px] md:text-sm",children:[(0,wt.jsxs)("svg",{className:"w-2.5 h-2.5 md:w-4 md:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),i.success.trackButton]})})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-2 md:mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-[9px] md:text-xs",children:"copyright @ daaq-Mesupres 2025"})})]})},vs=()=>{const e=ue(),[r,n]=(0,t.useState)(0),[s,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(null),[l,A]=(0,t.useState)(""),[c,d]=(0,t.useState)("fr"),[u,h]=(0,t.useState)({name:"",email:"",phone:"",address:"",categoryDetails:"",acceptTerms:!1,acceptTruth:!1,files:[]}),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(""),[x,b]=(0,t.useState)([]),[v,y]=(0,t.useState)(!1),[w,B]=(0,t.useState)({}),N=async()=>{const e=us[c];y(!0);try{console.log("\ud83d\udd04 Pr\xe9paration du formulaire...");const t=new FormData;if(t.append("type",s?"anonyme":"identifie"),t.append("name",s?"Anonyme":u.name),t.append("email",s?"":u.email),t.append("phone",s?"":u.phone),t.append("address",s?"":u.address),t.append("category",l),t.append("description",u.categoryDetails),t.append("accept_terms",u.acceptTerms?1:0),t.append("accept_truth",u.acceptTruth?1:0),t.append("has_proof",i?1:0),u.files&&u.files.length>0)for(const e of u.files)t.append("files[]",e),console.log("\ud83d\udcc1 Fichier ajout\xe9: ".concat(e.name," (").concat(e.type,", ").concat(e.size," bytes)"));console.log("\ud83d\udce8 Envoi FormData au serveur...");const r=await as.post("/reports",t,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("\u2705 R\xe9ponse du serveur:",r.data),!r.data.success)throw new Error(r.data.message||e.errors.submission);g(r.data.reference),n(6)}catch(A){var t,r,a,o;console.error("\ud83d\udca5 Erreur lors de l'envoi:",A);let n=e.errors.submission;null!==(t=A.response)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.errors?n=Object.entries(A.response.data.errors).map(e=>{let[t,r]=e;return"".concat(t,": ").concat(r.join(", "))}).join("\n"):null!==(a=A.response)&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.message&&(n=A.response.data.message),alert("\u274c ".concat(n))}finally{y(!1)}},j=()=>{m(!1),n(0),h({name:"",email:"",phone:"",address:"",categoryDetails:"",acceptTerms:!1,acceptTruth:!1,files:[]}),A(""),a(null),o(null),B({})};return f?(0,wt.jsx)(bs,{language:c,referenceCode:p,navigate:e,resetForm:j}):0===r?(0,wt.jsx)(hs,{language:c,setLanguage:d,setStep:n,navigate:e}):1===r?(0,wt.jsx)(fs,{language:c,setStep:n,setIsAnonymous:a}):2===r?(0,wt.jsx)(ms,{language:c,setStep:n,setHasProof:o,isAnonymous:s}):3===r?(0,wt.jsx)(ps,{language:c,formData:u,setFormData:h,errors:w,setErrors:B,setStep:n,hasProof:i}):4===r?(0,wt.jsx)(gs,{language:c,isAnonymous:s,selectedCategory:l,setSelectedCategory:A,formData:u,setFormData:h,errors:w,setErrors:B,setStep:n,hasProof:i,setReferenceCode:g}):5===r?(0,wt.jsx)(xs,{language:c,formData:u,setFormData:h,errors:w,setErrors:B,fileErrors:x,setFileErrors:b,isSubmitting:v,setStep:n,handleSubmit:N,hasProof:i}):6===r?(0,wt.jsx)(bs,{language:c,referenceCode:p,navigate:e,resetForm:j}):null},ys=Et("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ws=Et("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Bs=Et("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ns=Et("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),js=Et("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Cs=Et("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ks=Et("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Ss=Et("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Fs=Et("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Es=Et("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),_s=Et("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Us=Et("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Qs=Et("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ls=Et("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Is=Et("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ms=Et("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),Ds=Et("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),Ps=Et("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Ts=Et("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Os=Et("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Rs=Et("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Hs=Et("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),zs=Et("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),Ks=Et("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),Vs=Et("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),qs=Et("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Gs=new class{_normalizeError(e){var t;return null!==e&&void 0!==e&&e.response?{status:e.response.status,data:e.response.data,message:(null===(t=e.response.data)||void 0===t?void 0:t.message)||e.response.statusText||"Erreur API"}:{status:null,data:null,message:(null===e||void 0===e?void 0:e.message)||"Network Error",code:null===e||void 0===e?void 0:e.code}}async getUserChats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";try{return(await as.get("/chat",{params:{filter:e}})).data}catch(t){throw this._normalizeError(t)}}async getDossierInfo(e){try{return(await as.post("/chats/check-reference",{reference:e})).data}catch(t){throw this._normalizeError(t)}}async checkChatByReference(e){try{return(await as.get("/chats/check-by-reference/".concat(e),{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async createSupportChat(e){try{return(await as.post("/chats/support",e,{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async sendMessageToPublicChat(e,t){try{return(await as.post("/chats/".concat(e,"/messages/public"),t,{headers:{Accept:"application/json"}})).data}catch(r){throw this._normalizeError(r)}}async getPublicConversation(e){try{return(await as.get("/chats/".concat(e,"/public"),{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async markPublicAsRead(e){try{return(await as.post("/chats/public/".concat(e,"/mark-read"),{},{headers:{Accept:"application/json"}})).data}catch(t){throw console.error("Erreur markPublicAsRead:",t),this._normalizeError(t)}}async getRecentPublicChats(){try{return(await as.get("/chats/recent/public",{headers:{Accept:"application/json"}})).data}catch(e){throw this._normalizeError(e)}}async getChatDetails(e){try{return(await as.get("/chat/".concat(e))).data}catch(t){throw this._normalizeError(t)}}async sendMessage(e,t){try{return(await as.post("/chat/".concat(e,"/message"),t,{headers:{Accept:"application/json"}})).data}catch(r){throw this._normalizeError(r)}}async uploadFile(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{const s=new FormData;s.append("file",t),s.append("type",r);return(await as.post("/chat/".concat(e,"/upload"),s,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},onUploadProgress:e=>{if(n&&e.total){const t=Math.round(100*e.loaded/e.total);n(t)}}})).data}catch(s){throw this._normalizeError(s)}}async sendPublicMessageWithFile(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const n=new FormData;t.file&&n.append("file",t.file),n.append("type",t.type||"file"),t.content&&n.append("content",t.content),t.sendername&&n.append("sendername",t.sendername),t.senderemail&&n.append("senderemail",t.senderemail);return(await as.post("/chats/".concat(e,"/messages/public"),n,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},onUploadProgress:e=>{if(r&&e.total){const t=Math.round(100*e.loaded/e.total);r(t)}}})).data}catch(n){throw this._normalizeError(n)}}getChatFileUrl(e){if(!e)return null;const t=e.split("/").pop(),r=as.defaults.baseURL||"http://127.0.0.1:8000/api";return"".concat(r,"/chat-files/public/").concat(t)}async downloadChatFile(e){try{const t=this.getChatFileUrl(e),r=await fetch(t,{method:"GET",headers:{Accept:"*/*"}});if(!r.ok)throw new Error("Erreur t\xe9l\xe9chargement: ".concat(r.status));const n=await r.blob(),s=window.URL.createObjectURL(n),a=document.createElement("a");return a.href=s,a.download=e.split("/").pop(),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s),{success:!0}}catch(t){throw console.error("Erreur downloadChatFile:",t),this._normalizeError(t)}}async toggleImportant(e){try{return(await as.put("/chat/".concat(e,"/toggle-important"),{},{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async markAsRead(e){try{return(await as.put("/chat/".concat(e,"/mark-read"),{},{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async updateVisitorOnlineStatus(e,t,r){try{return(await as.post("/chats/".concat(e,"/visitor/online-status"),{is_online:t,reference:r},{headers:{Accept:"application/json"}})).data}catch(n){throw console.error("Erreur updateVisitorOnlineStatus:",n),this._normalizeError(n)}}async getVisitorOnlineStatus(e){try{return(await as.get("/chats/".concat(e,"/visitor/online-status"),{headers:{Accept:"application/json"}})).data}catch(t){throw console.error("Erreur getVisitorOnlineStatus:",t),this._normalizeError(t)}}async searchChats(e){try{return(await as.get("/chat/search",{params:{q:e}})).data}catch(t){throw this._normalizeError(t)}}async filterChatsByStatus(e){try{return(await as.get("/chat/filter",{params:{status:e}})).data}catch(t){throw this._normalizeError(t)}}async createAdminChat(e){try{return(await as.post("/chats/admin/create",e)).data}catch(r){var t;throw console.error("Erreur cr\xe9ation chat admin:",r),(null===(t=r.response)||void 0===t?void 0:t.data)||r}}},Ws=(Math.pow(10,8),6048e5),Js=43200,Ys=Symbol.for("constructDateFrom");function Xs(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Ys in e?e[Ys](t):e instanceof Date?new e.constructor(t):new Date(t)}function Zs(e){return Xs(e,Date.now())}const $s={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ea(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ta={date:ea({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ea({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ea({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ra={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function na(e){return(t,r)=>{let n;if("formatting"===(null!==r&&void 0!==r&&r.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,s=null!==r&&void 0!==r&&r.width?String(r.width):t;n=e.formattingValues[s]||e.formattingValues[t]}else{const t=e.defaultWidth,s=null!==r&&void 0!==r&&r.width?String(r.width):e.defaultWidth;n=e.values[s]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const sa={ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:na({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:na({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:na({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:na({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:na({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function aa(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(o,e=>e.test(i)):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(o,e=>e.test(i));let A;A=e.valueCallback?e.valueCallback(l):l,A=r.valueCallback?r.valueCallback(A):A;return{value:A,rest:t.slice(i.length)}}}function ia(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;return{value:i,rest:t.slice(s.length)}}}const oa={ordinalNumber:ia({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:aa({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:aa({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:aa({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:aa({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:aa({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},la={code:"en-US",formatDistance:(e,t,r)=>{let n;const s=$s[e];return n="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:ta,formatRelative:(e,t,r,n)=>ra[e],localize:sa,match:oa,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Aa={};function ca(){return Aa}function da(e,t){return Xs(t||e,e)}function ua(e){const t=da(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ha(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const s=Xs.bind(null,e||r.find(e=>"object"===typeof e));return r.map(s)}function fa(e,t){const r=+da(e)-+da(t);return r<0?-1:r>0?1:r}function ma(e,t,r){const[n,s]=ha(null===r||void 0===r?void 0:r.in,e,t);return 12*(n.getFullYear()-s.getFullYear())+(n.getMonth()-s.getMonth())}function pa(e,t){const r=da(e,null===t||void 0===t?void 0:t.in);return r.setHours(23,59,59,999),r}function ga(e,t){const r=da(e,null===t||void 0===t?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function xa(e,t){const r=da(e,null===t||void 0===t?void 0:t.in);return+pa(r,t)===+ga(r,t)}function ba(e,t,r){const[n,s,a]=ha(null===r||void 0===r?void 0:r.in,e,e,t),i=fa(s,a),o=Math.abs(ma(s,a));if(o<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*o);let l=fa(s,a)===-i;xa(n)&&1===o&&1===fa(n,a)&&(l=!1);const A=i*(o-+l);return 0===A?0:A}function va(e,t){return+da(e)-+da(t)}function ya(e,t,r){const n=va(e,t)/1e3;return(s=null===r||void 0===r?void 0:r.roundingMethod,e=>{const t=(s?Math[s]:Math.trunc)(e);return 0===t?0:t})(n);var s}function wa(e,t,r){var n,s;const a=ca(),i=null!==(n=null!==(s=null===r||void 0===r?void 0:r.locale)&&void 0!==s?s:a.locale)&&void 0!==n?n:la,o=fa(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:null===r||void 0===r?void 0:r.addSuffix,comparison:o}),[A,c]=ha(null===r||void 0===r?void 0:r.in,...o>0?[t,e]:[e,t]),d=ya(c,A),u=(ua(c)-ua(A))/1e3,h=Math.round((d-u)/60);let f;if(h<2)return null!==r&&void 0!==r&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):0===h?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<1440){const e=Math.round(h/60);return i.formatDistance("aboutXHours",e,l)}if(h<2520)return i.formatDistance("xDays",1,l);if(h<Js){const e=Math.round(h/1440);return i.formatDistance("xDays",e,l)}if(h<86400)return f=Math.round(h/Js),i.formatDistance("aboutXMonths",f,l);if(f=ba(c,A),f<12){const e=Math.round(h/Js);return i.formatDistance("xMonths",e,l)}{const e=f%12,t=Math.trunc(f/12);return e<3?i.formatDistance("aboutXYears",t,l):e<9?i.formatDistance("overXYears",t,l):i.formatDistance("almostXYears",t+1,l)}}function Ba(e,t){return wa(e,Zs(e),t)}function Na(e,t){const r=da(e,null===t||void 0===t?void 0:t.in);return r.setHours(0,0,0,0),r}function ja(e,t,r){const[n,s]=ha(null===r||void 0===r?void 0:r.in,e,t),a=Na(n),i=Na(s),o=+a-ua(a),l=+i-ua(i);return Math.round((o-l)/864e5)}function Ca(e,t){const r=da(e,null===t||void 0===t?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ka(e,t){const r=da(e,null===t||void 0===t?void 0:t.in);return ja(r,Ca(r))+1}function Sa(e,t){var r,n,s,a,i,o;const l=ca(),A=null!==(r=null!==(n=null!==(s=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==s?s:l.weekStartsOn)&&void 0!==n?n:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==r?r:0,c=da(e,null===t||void 0===t?void 0:t.in),d=c.getDay(),u=(d<A?7:0)+d-A;return c.setDate(c.getDate()-u),c.setHours(0,0,0,0),c}function Fa(e,t){return Sa(e,o(o({},t),{},{weekStartsOn:1}))}function Ea(e,t){const r=da(e,null===t||void 0===t?void 0:t.in),n=r.getFullYear(),s=Xs(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=Fa(s),i=Xs(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Fa(i);return r.getTime()>=a.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function _a(e,t){const r=Ea(e,t),n=Xs((null===t||void 0===t?void 0:t.in)||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Fa(n)}function Ua(e,t){const r=da(e,null===t||void 0===t?void 0:t.in),n=+Fa(r)-+_a(r);return Math.round(n/Ws)+1}function Qa(e,t){var r,n,s,a,i,o;const l=da(e,null===t||void 0===t?void 0:t.in),A=l.getFullYear(),c=ca(),d=null!==(r=null!==(n=null!==(s=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==s?s:c.firstWeekContainsDate)&&void 0!==n?n:null===(o=c.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:1,u=Xs((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(A+1,0,d),u.setHours(0,0,0,0);const h=Sa(u,t),f=Xs((null===t||void 0===t?void 0:t.in)||e,0);f.setFullYear(A,0,d),f.setHours(0,0,0,0);const m=Sa(f,t);return+l>=+h?A+1:+l>=+m?A:A-1}function La(e,t){var r,n,s,a,i,o;const l=ca(),A=null!==(r=null!==(n=null!==(s=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==s?s:l.firstWeekContainsDate)&&void 0!==n?n:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:1,c=Qa(e,t),d=Xs((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(c,0,A),d.setHours(0,0,0,0);return Sa(d,t)}function Ia(e,t){const r=da(e,null===t||void 0===t?void 0:t.in),n=+Sa(r,t)-+La(r,t);return Math.round(n/Ws)+1}function Ma(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Da={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ma("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):Ma(r+1,2)},d:(e,t)=>Ma(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>Ma(e.getHours()%12||12,t.length),H:(e,t)=>Ma(e.getHours(),t.length),m:(e,t)=>Ma(e.getMinutes(),t.length),s:(e,t)=>Ma(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return Ma(Math.trunc(n*Math.pow(10,r-3)),t.length)}},Pa="midnight",Ta="noon",Oa="morning",Ra="afternoon",Ha="evening",za="night",Ka={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return Da.y(e,t)},Y:function(e,t,r,n){const s=Qa(e,n),a=s>0?s:1-s;if("YY"===t){return Ma(a%100,2)}return"Yo"===t?r.ordinalNumber(a,{unit:"year"}):Ma(a,t.length)},R:function(e,t){return Ma(Ea(e),t.length)},u:function(e,t){return Ma(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ma(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ma(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Da.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ma(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Ia(e,n);return"wo"===t?r.ordinalNumber(s,{unit:"week"}):Ma(s,t.length)},I:function(e,t,r){const n=Ua(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):Ma(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):Da.d(e,t)},D:function(e,t,r){const n=ka(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):Ma(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ma(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ma(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=0===n?7:n;switch(t){case"i":return String(s);case"ii":return Ma(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(s=12===n?Ta:0===n?Pa:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(s=n>=17?Ha:n>=12?Ra:n>=4?Oa:za,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return Da.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):Da.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):Ma(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):Ma(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Da.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Da.s(e,t)},S:function(e,t){return Da.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return qa(n);case"XXXX":case"XX":return Ga(n);default:return Ga(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return qa(n);case"xxxx":case"xx":return Ga(n);default:return Ga(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Va(n,":");default:return"GMT"+Ga(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Va(n,":");default:return"GMT"+Ga(n,":")}},t:function(e,t,r){return Ma(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return Ma(+e,t.length)}};function Va(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return 0===a?r+String(s):r+String(s)+t+Ma(a,2)}function qa(e,t){if(e%60===0){return(e>0?"-":"+")+Ma(Math.abs(e)/60,2)}return Ga(e,t)}function Ga(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e);return r+Ma(Math.trunc(n/60),2)+t+Ma(n%60,2)}const Wa=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Ja=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Ya={p:Ja,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Wa(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",Wa(n,t)).replace("{{time}}",Ja(s,t))}},Xa=/^D+$/,Za=/^Y+$/,$a=["D","DD","YY","YYYY"];function ei(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function ti(e){return!(!ei(e)&&"number"!==typeof e||isNaN(+da(e)))}const ri=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ni=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,si=/^'([^]*?)'?$/,ai=/''/g,ii=/[a-zA-Z]/;function oi(e,t,r){var n,s,a,i,o,l,A,c,d,u,h,f,m,p;const g=ca(),x=null!==(n=null!==(s=null===r||void 0===r?void 0:r.locale)&&void 0!==s?s:g.locale)&&void 0!==n?n:la,b=null!==(a=null!==(i=null!==(o=null!==(l=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==l?l:null===r||void 0===r||null===(A=r.locale)||void 0===A||null===(A=A.options)||void 0===A?void 0:A.firstWeekContainsDate)&&void 0!==o?o:g.firstWeekContainsDate)&&void 0!==i?i:null===(c=g.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:1,v=null!==(d=null!==(u=null!==(h=null!==(f=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==f?f:null===r||void 0===r||null===(m=r.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==h?h:g.weekStartsOn)&&void 0!==u?u:null===(p=g.locale)||void 0===p||null===(p=p.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==d?d:0,y=da(e,null===r||void 0===r?void 0:r.in);if(!ti(y))throw new RangeError("Invalid time value");let w=t.match(ni).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,Ya[t])(e,x.formatLong)}return e}).join("").match(ri).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:li(e)};if(Ka[t])return{isToken:!0,value:e};if(t.match(ii))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});x.localize.preprocessor&&(w=x.localize.preprocessor(y,w));const B={firstWeekContainsDate:b,weekStartsOn:v,locale:x};return w.map(n=>{if(!n.isToken)return n.value;const s=n.value;(null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!function(e){return Za.test(e)}(s))&&(null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!function(e){return Xa.test(e)}(s))||function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(n," to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,r);if(console.warn(n),$a.includes(e))throw new RangeError(n)}(s,t,String(e));return(0,Ka[s[0]])(y,s,x.localize,B)}).join("")}function li(e){const t=e.match(si);return t?t[1].replace(ai,"'"):e}const Ai={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}},ci={date:ea({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:ea({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:ea({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},di={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"},ui=["MMM","MMMM"],hi={preprocessor:(e,t)=>{if(1===e.getDate())return t;return t.some(e=>e.isToken&&ui.includes(e.value))?t.map(e=>e.isToken&&"do"===e.value?{isToken:!0,value:"d"}:e):t},ordinalNumber:(e,t)=>{const r=Number(e),n=null===t||void 0===t?void 0:t.unit;if(0===r)return"0";let s;return s=1===r?n&&["year","week","hour","minute","second"].includes(n)?"\xe8re":"er":"\xe8me",r+s},era:na({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:na({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:na({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:na({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:na({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},fi={ordinalNumber:ia({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e)}),era:aa({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:aa({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:aa({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:aa({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:aa({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},mi={code:"fr",formatDistance:(e,t,r)=>{let n;const s=Ai[e];return n="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",String(t)),null!==r&&void 0!==r&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},formatLong:ci,formatRelative:(e,t,r,n)=>di[e],localize:hi,match:fi,options:{weekStartsOn:1,firstWeekContainsDate:4}},pi=e=>{var r;let{reference:n,dossierInfo:s,onOpenFullChat:a}=e;const[i,l]=(0,t.useState)(!1),[A,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(""),[h,f]=(0,t.useState)([]),[m,p]=(0,t.useState)(null),[g,x]=(0,t.useState)(!1),[b,v]=(0,t.useState)(null),[y,w]=(0,t.useState)(!1),[B,N]=(0,t.useState)(!1),[j,C]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[F,E]=(0,t.useState)(0),[_,U]=(0,t.useState)(null),[Q,L]=(0,t.useState)(null),[I,M]=(0,t.useState)(0),[D,P]=(0,t.useState)({isOpen:!1,currentImage:null,currentIndex:0,images:[]}),[T,O]=(0,t.useState)({isOnline:!1,lastSeen:null}),R=(0,t.useRef)(null),H=(0,t.useRef)(null),z=(0,t.useRef)(null),K=(0,t.useRef)(null),V=(0,t.useRef)(null),q=(0,t.useRef)(null),G=(0,t.useRef)(0),W=(0,t.useRef)(0),J=(0,t.useRef)(null),Y=e=>{if(!e)return null;const t=e.url||e.name||e.filename;return t?Gs.getChatFileUrl(t):null};(0,t.useEffect)(()=>{J.current=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEAwQqOLty")},[]);const X=()=>{try{J.current&&(J.current.volume=.5,J.current.play().catch(e=>{console.log("Impossible de jouer le son:",e)}))}catch(b){console.log("Erreur son notification:",b)}};(0,t.useEffect)(()=>{const e=()=>S(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{n&&i&&!m&&!g&&ee()},[n,i,m]),(0,t.useEffect)(()=>{if(m&&i&&!A){re(m);const e=setInterval(()=>re(m),5e3);return()=>clearInterval(e)}},[m,i,A]),(0,t.useEffect)(()=>{const e=setInterval(()=>te(!0),1e4);return te(!0),()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{if(m&&i&&!A)return $(),q.current=setInterval(()=>$(),3e4),()=>{q.current&&clearInterval(q.current)}},[m,i,A]),(0,t.useEffect)(()=>{R.current&&(R.current.style.height="auto",R.current.style.height="".concat(Math.min(R.current.scrollHeight,120),"px"))},[d]),(0,t.useEffect)(()=>{if(m&&n&&i&&!A)return Gs.updateVisitorOnlineStatus(m,!0,n).catch(e=>console.error("Erreur statut online",e)),V.current=setInterval(()=>{Gs.updateVisitorOnlineStatus(m,!0,n).catch(e=>console.error("Erreur statut online",e))},3e4),()=>{V.current&&clearInterval(V.current),Gs.updateVisitorOnlineStatus(m,!1,n).catch(e=>console.error("Erreur statut offline",e))}},[m,n,i,A]),(0,t.useEffect)(()=>{Z()},[h]);const Z=()=>{var e;null===(e=K.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},$=async()=>{if(m)try{const e=await Gs.getVisitorOnlineStatus(m);e.success&&O({isOnline:e.isonline,lastSeen:e.lastseen})}catch(e){console.error("Erreur v\xe9rification statut support",e)}},ee=async()=>{if(n)try{x(!0),v(null);const e=await Gs.checkChatByReference(n);e.success&&e.exists&&e.chatid&&(p(e.chatid),C(!0),await re(e.chatid),await $())}catch(e){console.error("Erreur v\xe9rification chat existant",e)}finally{x(!1)}},te=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(m)try{const t=await Gs.getPublicConversation(m);if(t.success&&t.chat){const r=t.chat.messages||[],n=r.filter(e=>"support"===e.sender&&!e.readat).length;if(e&&n>0&&n>W.current&&X(),W.current=n,i&&!A||E(n>0?1:0),!i){const e=r.map(e=>({id:e.id,text:e.text||e.content,sender:e.sender,time:e.time||e.createdat,sendername:e.sendername,senderreference:e.senderreference,isanonymous:e.isanonymous,status:e.status,readat:e.readat,deliveredat:e.deliveredat,type:e.type,fileinfo:e.fileinfo,avatar:"support"===e.sender?"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff":ne(e.isanonymous,e.sendername)}));f(e),G.current=e.length}}}catch(t){console.error("Erreur chargement messages arri\xe8re-plan",t)}},re=async e=>{try{const r=await Gs.getPublicConversation(e);if(r.success&&r.chat){var t;const n=(null===(t=r.chat.messages)||void 0===t?void 0:t.map(e=>({id:e.id,text:e.text||e.content,sender:e.sender,time:e.time||e.createdat,sendername:e.sendername,senderreference:e.senderreference,isanonymous:e.isanonymous,status:e.status,readat:e.readat,deliveredat:e.deliveredat,type:e.type,fileinfo:e.fileinfo,avatar:"support"===e.sender?"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff":ne(e.isanonymous,e.sendername)})))||[],s=h.length,a=n.length;if(a>s&&s>0){const e=n[n.length-1];e&&"support"===e.sender&&X()}f(n),G.current=a,await Gs.markPublicAsRead(e),E(0),W.current=0}}catch(r){console.error("Erreur chargement messages",r)}},ne=(e,t)=>{if(e)return"https://ui-avatars.com/api?name=Anonyme&background=94a3b8&color=fff";return"https://ui-avatars.com/api?name=".concat(encodeURIComponent(t||"Visiteur"),"&background=3b82f6&color=fff")},se=e=>{let{status:t}=e;return t&&"sent"!==t?"delivered"===t?(0,wt.jsx)(Ls,{className:"w-3.5 h-3.5 text-gray-400"}):"read"===t?(0,wt.jsx)(Ls,{className:"w-3.5 h-3.5 text-blue-500"}):null:(0,wt.jsx)(Qs,{className:"w-3.5 h-3.5 text-gray-400"})},ae=e=>{const t=h.filter(e=>"image"===e.type&&Y(e.fileinfo)).map(e=>{var t;return{url:Y(e.fileinfo),name:null===(t=e.fileinfo)||void 0===t?void 0:t.name,originalIndex:h.indexOf(e)}}),r=t.findIndex(t=>t.url===e);P({isOpen:!0,currentImage:e,currentIndex:r>=0?r:0,images:t})},ie=e=>{const t="next"===e?(D.currentIndex+1)%D.images.length:(D.currentIndex-1+D.images.length)%D.images.length;P(e=>o(o({},e),{},{currentIndex:t,currentImage:e.images[t].url}))},oe=async()=>{if(!d.trim())return;const e=d.trim();u("");try{w(!0),v(null);const t=await Gs.createSupportChat({reference:n,message:e,name:(null===s||void 0===s?void 0:s.name)||"Visiteur"});!m&&t.chatid&&(p(t.chatid),C(!0)),t.success&&await re(m||t.chatid)}catch(t){console.error("Erreur envoi message",t),v(t.message||"Erreur lors de l'envoi du message"),u(e)}finally{w(!1)}},le=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},Ae=()=>{l(!1),c(!1)},ce=e=>{if(!e)return"";try{if("string"===typeof e&&e.includes(":"))return e;return oi(new Date(e),"HH:mm",{locale:mi})}catch(QN){return e}};return n?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("input",{ref:H,type:"file",className:"hidden",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;if(!m)return void v("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation");if(r.size>26214400)return void v("Le fichier ne doit pas d\xe9passer 25 MB");if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","video/mp4","video/quicktime","video/x-msvideo","video/x-ms-wmv"].includes(r.type))return void v("Format non support\xe9. Utilisez JPG, JPEG, PNG, MP4 ou PDF");if(r.type.startsWith("video/")){const e=new FileReader;e.onloadend=()=>{L(e.result),U(r),v(null)},e.readAsDataURL(r)}else U(r),L(null),v(null)},accept:".pdf,.doc,.docx,.txt,.xlsx,.xls,.mp4,.mov,.avi,.wmv,video/*"}),(0,wt.jsx)("input",{ref:z,type:"file",className:"hidden",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;if(!m)return void v("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation");if(r.size>26214400)return void v("L'image ne doit pas d\xe9passer 25 MB");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type))return void v("Format d'image non support\xe9. Utilisez JPG, JPEG, PNG, GIF ou WEBP");const n=new FileReader;n.onloadend=()=>{L(n.result),U(r),v(null)},n.readAsDataURL(r)},accept:".jpg,.jpeg,.png,.gif,.webp,image/*"}),D.isOpen&&(0,wt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-[9999] flex items-center justify-center",children:[(0,wt.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent z-10",children:[(0,wt.jsxs)("div",{className:"text-white",children:[(0,wt.jsx)("p",{className:"text-sm font-medium",children:(null===(r=D.images[D.currentIndex])||void 0===r?void 0:r.name)||"Image"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-300",children:[D.currentIndex+1," / ",D.images.length]})]}),(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),P({isOpen:!1,currentImage:null,currentIndex:0,images:[]})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",title:"Fermer",type:"button",children:(0,wt.jsx)(Lt,{className:"w-6 h-6 text-white"})})]}),(0,wt.jsx)("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:(0,wt.jsx)("img",{src:D.currentImage,alt:"Aper\xe7u",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.src="https://via.placeholder.com/400x300?text=Image+non+disponible"}})}),D.images.length>1&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),ie("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image pr\xe9c\xe9dente",type:"button",children:(0,wt.jsx)(_t,{className:"w-6 h-6 text-white"})}),(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),ie("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image suivante",type:"button",children:(0,wt.jsx)(Is,{className:"w-6 h-6 text-white"})})]}),(0,wt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 flex items-center justify-center gap-4 bg-gradient-to-t from-black/50 to-transparent z-10",children:(0,wt.jsx)("button",{onClick:async e=>{var t;e.preventDefault(),e.stopPropagation();const r=D.currentImage,n=(null===(t=D.images[D.currentIndex])||void 0===t?void 0:t.name)||"image.jpg";try{const e=await fetch(r),t=await e.blob(),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)}catch(b){console.error("Erreur t\xe9l\xe9chargement:",b),window.open(r,"_blank")}},className:"p-3 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors",title:"T\xe9l\xe9charger l'image",type:"button",children:(0,wt.jsx)(Us,{className:"w-5 h-5"})})})]}),!i&&(0,wt.jsxs)("button",{onClick:()=>{l(!0),c(!1),v(null),E(0),W.current=0},className:"fixed bottom-6 right-6 bg-green-600 hover:bg-green-700 text-white rounded-full p-4 shadow-2xl transition-all duration-300 hover:scale-110 z-50 group",title:"Ouvrir le support",children:[(0,wt.jsx)(Ms,{className:"w-7 h-7"}),F>0&&(0,wt.jsxs)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:[F,"  "]}),(0,wt.jsxs)("div",{className:"absolute -top-2 -left-2 opacity-0 group-hover:opacity-100 transition-opacity bg-white text-gray-800 text-xs rounded-lg px-3 py-2 shadow-lg whitespace-nowrap",children:[(0,wt.jsx)("p",{className:"font-semibold",children:"Support dossier"}),(0,wt.jsx)("p",{className:"text-[10px] text-gray-600",children:n})]})]}),i&&!A&&(0,wt.jsxs)("div",{className:"".concat(k?"fixed inset-0 w-full h-full rounded-none":"fixed bottom-6 right-6 w-96 h-[32rem] rounded-xl"," bg-white shadow-2xl flex flex-col overflow-hidden z-50 border border-gray-200"),children:[(0,wt.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-4 flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,wt.jsx)("img",{src:"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff",alt:"Support",className:"w-10 h-10 rounded-full border-2 border-white"}),T.isOnline&&(0,wt.jsx)("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 border-2 border-white rounded-full"})]}),(0,wt.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,wt.jsx)("h3",{className:"font-bold text-sm truncate",children:"Support FOSIKA"}),T.isOnline?(0,wt.jsxs)("p",{className:"text-xs opacity-90 flex items-center gap-1",children:[(0,wt.jsx)("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"En ligne"]}):(0,wt.jsx)("p",{className:"text-xs opacity-90",children:T.lastSeen?"Vu ".concat((e=>{if(!e)return"";try{return Ba(new Date(e),{addSuffix:!0,locale:mi})}catch(QN){return e}})(T.lastSeen)):"Hors ligne"})]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!k&&m&&a&&(0,wt.jsx)("button",{onClick:()=>{a&&m&&(a(m),Ae())},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Agrandir",children:(0,wt.jsx)(Ds,{className:"w-5 h-5"})}),!k&&(0,wt.jsx)("button",{onClick:()=>{c(!0)},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"R\xe9duire",children:(0,wt.jsx)(Ps,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:Ae,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Fermer",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]})]}),(0,wt.jsxs)("div",{className:"bg-green-50 border-b border-green-100 px-4 py-2.5",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Ts,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-700 truncate",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Dossier:"})," ",(null===s||void 0===s?void 0:s.titre)||"Signalement"]})]}),(0,wt.jsxs)("p",{className:"text-[10px] text-gray-600 mt-0.5 font-mono",children:["R\xe9f: ",n]})]}),(0,wt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-3",children:[g?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,wt.jsx)(Os,{className:"w-8 h-8 text-green-600 animate-spin mb-3"}),(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:"Chargement de l'historique..."})]}):b&&!_?(0,wt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm flex items-start gap-2",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,wt.jsx)("p",{children:b})]}):0===h.length?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,wt.jsx)(Ms,{className:"w-16 h-16 mb-3"}),(0,wt.jsx)("p",{className:"text-sm font-medium",children:"Bienvenue sur le support FOSIKA"}),(0,wt.jsx)("p",{className:"text-xs mt-1 text-center px-4",children:"Envoyez votre premier message pour commencer la conversation avec notre \xe9quipe"})]}):h.map((e,t)=>{var r,n,s,a;const i="visitor"===e.sender,o=((e,t,r)=>e?{mainName:"Anonyme",subName:r||"Visiteur anonyme"}:{mainName:t||"Visiteur",subName:r||null})(e.isanonymous,e.sendername,e.senderreference),l=Y(e.fileinfo);return(0,wt.jsx)("div",{className:"flex ".concat(i?"justify-end":"justify-start"),children:(0,wt.jsxs)("div",{className:"max-w-[80%] ".concat(i?"":"flex gap-2"),children:[!i&&(0,wt.jsx)("div",{className:"flex flex-col items-center flex-shrink-0",children:(0,wt.jsx)("img",{src:e.avatar,alt:"Avatar",className:"w-8 h-8 rounded-full"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[!i&&(0,wt.jsxs)("div",{className:"mb-1 px-2",children:[(0,wt.jsx)("p",{className:"text-[10px] font-semibold text-gray-700",children:e.sendername||"Support FOSIKA"}),(0,wt.jsx)("p",{className:"text-[9px] text-gray-500",children:"\xc9quipe d'assistance"})]}),i&&(0,wt.jsxs)("div",{className:"mb-1 px-2 text-right",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[e.isanonymous?(0,wt.jsx)(Rs,{className:"w-3 h-3 text-gray-400"}):(0,wt.jsx)(Cs,{className:"w-3 h-3 text-blue-500"}),(0,wt.jsx)("p",{className:"text-[10px] font-semibold text-gray-700",children:o.mainName})]}),o.subName&&(0,wt.jsx)("p",{className:"text-[9px] text-gray-500",children:o.subName})]}),(0,wt.jsxs)("div",{className:"rounded-2xl shadow-sm overflow-hidden ".concat(i?"bg-green-600 text-white rounded-br-sm":"bg-white text-gray-800 border border-gray-200 rounded-bl-sm"),children:["image"===e.type&&l?(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("img",{src:l,alt:(null===(r=e.fileinfo)||void 0===r?void 0:r.name)||"Image",className:"w-full max-w-xs cursor-pointer rounded-lg",style:{maxHeight:"300px",objectFit:"cover"},onClick:()=>ae(l),onError:e=>{console.error("Erreur chargement image:",l),e.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"}}),(0,wt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all flex items-center justify-center rounded-lg",children:(0,wt.jsx)("button",{onClick:()=>ae(l),className:"opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all bg-white/90 hover:bg-white p-2 rounded-full shadow-lg",children:(0,wt.jsx)(Hs,{className:"w-5 h-5 text-gray-800"})})})]}):"video"===e.type&&l?(0,wt.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden max-w-xs",children:[(0,wt.jsxs)("video",{controls:!0,className:"w-full",style:{maxHeight:"250px"},preload:"metadata",onError:()=>console.error("Erreur chargement vid\xe9o:",l),children:[(0,wt.jsx)("source",{src:l,type:(null===(n=e.fileinfo)||void 0===n?void 0:n.type)||"video/mp4"}),"Votre navigateur ne supporte pas la lecture vid\xe9o."]}),(0,wt.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,wt.jsx)(zs,{className:"w-3 h-3"}),"Vid\xe9o"]})]}):"file"===e.type&&l?(0,wt.jsxs)("div",{className:"p-3 ".concat(i?"bg-green-700":"bg-gray-50"),children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)("div",{className:"p-2 rounded-lg ".concat(i?"bg-green-800":"bg-white border border-gray-200"),children:(0,wt.jsx)(Ks,{className:"w-5 h-5 ".concat(i?"text-white":"text-gray-600")})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium truncate ".concat(i?"text-white":"text-gray-800"),children:(null===(s=e.fileinfo)||void 0===s?void 0:s.name)||"Fichier"}),(null===(a=e.fileinfo)||void 0===a?void 0:a.filesize)&&(0,wt.jsx)("p",{className:"text-xs ".concat(i?"text-green-100":"text-gray-500"),children:le(e.fileinfo.filesize)})]})]}),(0,wt.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,wt.jsxs)("a",{href:l,target:"_blank",rel:"noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(i?"bg-green-800 hover:bg-green-900 text-white":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"),children:[(0,wt.jsx)(_s,{className:"w-3.5 h-3.5"}),"Voir"]}),(0,wt.jsxs)("a",{href:l,download:!0,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(i?"bg-white/20 hover:bg-white/30 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:[(0,wt.jsx)(Us,{className:"w-3.5 h-3.5"}),"T\xe9l\xe9charger"]})]})]}):(0,wt.jsx)("div",{className:"px-4 py-3",children:(0,wt.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.text})}),(0,wt.jsxs)("div",{className:"px-4 pb-2 flex items-center justify-end gap-1 text-[10px] ".concat(i?"text-green-100":"text-gray-400"),children:[(0,wt.jsx)("span",{children:ce(e.time)}),i&&(0,wt.jsx)(se,{status:e.status})]})]})]})]})},e.id||t)}),(0,wt.jsx)("div",{ref:K})]}),_&&(0,wt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:Q&&_.type.startsWith("image/")?(0,wt.jsx)("img",{src:Q,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):Q&&_.type.startsWith("video/")?(0,wt.jsx)("video",{src:Q,className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):(0,wt.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center border border-gray-200",children:(0,wt.jsx)(Ts,{className:"w-8 h-8 text-gray-400"})})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:_.name}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:le(_.size)}),B&&(0,wt.jsxs)("div",{className:"mt-2",children:[(0,wt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,wt.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-200",style:{width:"".concat(I,"%")}})}),(0,wt.jsxs)("p",{className:"text-[10px] text-gray-500 mt-1",children:[I,"%"]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("button",{onClick:()=>{U(null),L(null),M(0),v(null)},disabled:B,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",title:"Annuler",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:async()=>{if(_&&m)try{N(!0),v(null);let e="file";_.type.startsWith("image/")?e="image":_.type.startsWith("video/")&&(e="video");(await Gs.sendPublicMessageWithFile(m,{file:_,type:e,sendername:(null===s||void 0===s?void 0:s.name)||"Visiteur",senderemail:(null===s||void 0===s?void 0:s.email)||null,content:null},e=>M(e))).success&&(U(null),L(null),M(0),await re(m))}catch(e){console.error("Erreur envoi fichier:",e),v(e.message||"Erreur lors de l'envoi du fichier")}finally{N(!1)}},disabled:B,className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50",title:"Envoyer",children:B?(0,wt.jsx)(Os,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(Vs,{className:"w-5 h-5"})})]})]})}),(0,wt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-end gap-2",children:[(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>{var e;m?null===(e=H.current)||void 0===e||e.click():v("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre un fichier",children:(0,wt.jsx)(Ks,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:()=>{var e;m?null===(e=z.current)||void 0===e||e.click():v("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre une image",children:(0,wt.jsx)(qs,{className:"w-5 h-5"})})]}),(0,wt.jsx)("div",{className:"flex-1",children:(0,wt.jsx)("textarea",{ref:R,rows:1,value:d,onChange:e=>u(e.target.value),placeholder:"\xc9crivez un message...",className:"w-full resize-none border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent max-h-[120px]",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),oe())},disabled:y||B})}),(0,wt.jsx)("button",{onClick:oe,disabled:y||B||!d.trim(),className:"p-3 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Envoyer",children:y?(0,wt.jsx)(Os,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(Vs,{className:"w-5 h-5"})})]})})]}),i&&A&&(0,wt.jsxs)("button",{onClick:()=>c(!1),className:"fixed bottom-6 right-6 bg-green-600 hover:bg-green-700 text-white rounded-full p-4 shadow-2xl transition-all duration-300 hover:scale-110 z-50",title:"Ouvrir le support",children:[(0,wt.jsx)(Ms,{className:"w-7 h-7"}),F>0&&(0,wt.jsxs)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:[F,"  "]})]})]}):null},gi={"faux-diplomes":"\ud83d\udcdc","offre-formation-irreguliere":"\ud83c\udf93","recrutements-irreguliers":"\ud83d\udcbc",harcelement:"\u26a0\ufe0f",corruption:"\ud83d\udd34",divers:"\ud83d\udccb"},xi={"faux-diplomes":"Faux Dipl\xf4mes","offre-formation-irreguliere":"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)","recrutements-irreguliers":"Recrutements Irr\xe9guliers",harcelement:"Harc\xe8lement",corruption:"Corruption",divers:"Divers"},bi={"faux-diplomes":"Signalement de faux dipl\xf4me","offre-formation-irreguliere":"Signalement d'offre de formation irr\xe9guli\xe8re (non habilit\xe9)","recrutements-irreguliers":"Signalement de recrutement irr\xe9gulier",harcelement:"Signalement de harc\xe8lement",corruption:"Signalement de corruption",divers:"Signalement divers"},vi={en_cours:"En cours",finalise:"Finalis\xe9",doublon:"Doublon",refuse:"Refus\xe9",traitement_classification:"Traitement et classification",investigation:"Investigation",transmis_autorite:"Transmis aux autorit\xe9s",classifier:"Classifi\xe9"},yi={completed:"Compl\xe9t\xe9",in_progress:"En cours",pending:"En attente",rejected:"Rejet\xe9",duplicate:"Doublon",not_required:"Non requis"};function wi(){var e,r,n,s,a,i,o,l,A,c,d,u,h,f,m,p,g,x,b,v,y,w,B,N,j,C,k,S,F,E,_,U;const Q=ue(),[L,I]=(0,t.useState)("recherche"),[M,D]=(0,t.useState)(""),[P,T]=(0,t.useState)(null),[O,R]=(0,t.useState)(""),[H,z]=(0,t.useState)(!1),[K,V]=(0,t.useState)(null),[q,G]=(0,t.useState)(null),W=e=>e.replace(/\s+/g,""),J=async()=>{const e=W(M);if(e.trim())try{z(!0),R(""),V(null);const t=(await as.get("/reports/tracking/".concat(e))).data;if(!t.success||!t.data)return void R("Aucun dossier trouv\xe9 avec cette r\xe9f\xe9rence");const r=t.data;let n=[];if(r.files&&Array.isArray(r.files))n=r.files;else if(r.files&&"string"===typeof r.files)try{const e=JSON.parse(r.files);Array.isArray(e)&&(n=e)}catch(QN){console.error("Erreur parsing JSON files:",QN)}const s="anonyme"===r.type||r.name&&"anonyme"===r.name.toLowerCase(),a=((e,t)=>{var r,n,s,a,i,o,l,A,c,d,u,h;if(!e)return{drse:{date:null===t||void 0===t?void 0:t.created_at,status:"in_progress",progress:33,agent:"DAAQ / DRSE"},cac:{date:null,status:"pending",progress:0,agent:"DAAQ / CAC / DAJ"},bianco:{date:null,status:"pending",progress:0,agent:"DAAQ / BIANCO"}};if("string"===typeof e)try{e=JSON.parse(e)}catch(QN){console.error("Erreur parsing workflow:",QN)}return{drse:{date:(null===(r=e.drse)||void 0===r?void 0:r.date)||(null===t||void 0===t?void 0:t.created_at),status:(null===(n=e.drse)||void 0===n?void 0:n.status)||"in_progress",progress:(null===(s=e.drse)||void 0===s?void 0:s.progress)||33,agent:(null===(a=e.drse)||void 0===a?void 0:a.agent)||"DAAQ / DRSE"},cac:{date:(null===(i=e.cac)||void 0===i?void 0:i.date)||null,status:(null===(o=e.cac)||void 0===o?void 0:o.status)||"pending",progress:(null===(l=e.cac)||void 0===l?void 0:l.progress)||0,agent:(null===(A=e.cac)||void 0===A?void 0:A.agent)||"DAAQ / CAC / DAJ"},bianco:{date:(null===(c=e.bianco)||void 0===c?void 0:c.date)||null,status:(null===(d=e.bianco)||void 0===d?void 0:d.status)||"pending",progress:(null===(u=e.bianco)||void 0===u?void 0:u.progress)||0,agent:(null===(h=e.bianco)||void 0===h?void 0:h.agent)||"DAAQ / BIANCO"}}})(r.workflow,r),i={reference:r.reference,statut:r.status||"en_cours",titre:bi[r.category]||"Signalement",dateCreation:r.created_at,dateMiseAJour:r.updated_at,category:r.category,hasProof:r.has_proof||n.length>0,workflow:a,isAnonymous:s,name:s?"Anonyme":r.name||"Non renseign\xe9",email:s?"":r.email||"",phone:s?"":r.phone||"",description:r.description||"Aucune description disponible pour ce signalement.",region:r.region||"",city:r.city||"",province:r.province||"",address:r.address||"",files:n,type:r.type||(s?"anonyme":"identifie"),accept_terms:r.accept_terms||!0,accept_truth:r.accept_truth||!0};console.log("Dossier construit:",i),T(i),I("details")}catch(QN){var t;console.error("Erreur lors de la recherche:",QN),404===(null===(t=QN.response)||void 0===t?void 0:t.status)?R("Aucun dossier trouv\xe9 avec cette r\xe9f\xe9rence"):R("Erreur lors de la consultation du dossier"),V(QN.message)}finally{z(!1)}else R("Veuillez saisir une r\xe9f\xe9rence")},Y=e=>{const t=e.target.value,r=W(t);D(r),O&&R("")},X=()=>{I("recherche"),D(""),T(null),R("")},Z=()=>{Q("/")},$=e=>"string"===typeof e?e.includes("http://")||e.includes("https://")||e.includes("/")?e.split("/").pop():e:"object"===typeof e&&null!==e?e.file_name||e.filename||$(e.path||e.url||""):e,ee=e=>{switch(e){case"completed":return(0,wt.jsx)(ys,{className:"text-green-600",size:20});case"in_progress":return(0,wt.jsx)(ws,{className:"text-blue-600",size:20});case"rejected":return(0,wt.jsx)(Bs,{className:"text-red-600",size:20});case"duplicate":return(0,wt.jsx)(ws,{className:"text-yellow-600",size:20});default:return(0,wt.jsx)(ws,{className:"text-gray-400",size:20})}},te=e=>{switch(e){case"completed":return"bg-green-50 border-green-200";case"in_progress":return"bg-blue-50 border-blue-200";case"rejected":return"bg-red-50 border-red-200";case"duplicate":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}},re=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(QN){return e}};return K&&"recherche"===L?(0,wt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex flex-col font-bill",children:[(0,wt.jsx)("div",{className:"w-full bg-white border-b-2 border-gray-200 py-4 shadow-sm",children:(0,wt.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:is,alt:"Logo R\xe9publique",className:"h-12 w-12 object-contain"}),(0,wt.jsx)("img",{src:os,alt:"Logo MESUPRES",className:"h-12 w-12 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministre de l'Enseignement Sup\xe9rieur",(0,wt.jsx)("br",{}),"et de la Recherche Scientifique"]})]})]})})}),(0,wt.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,wt.jsx)("div",{className:"w-full max-w-lg",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-8 border border-gray-200 text-center",children:[(0,wt.jsx)("div",{className:"w-16 h-16 bg-red-100 flex items-center justify-center mx-auto mb-4",children:(0,wt.jsx)(Ut,{className:"text-red-600",size:32})}),(0,wt.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erreur de chargement"}),(0,wt.jsx)("p",{className:"text-gray-600 mb-4",children:K}),(0,wt.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded transition-colors",children:"R\xe9essayer"})]})})}),(0,wt.jsx)("div",{className:"w-full text-center py-4 mt-auto",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2025"})})]}):"recherche"===L?(0,wt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex flex-col font-bill",children:[(0,wt.jsx)("div",{className:"w-full bg-white border-b-2 border-gray-200 py-4 shadow-sm",children:(0,wt.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:is,alt:"Logo R\xe9publique",className:"h-12 w-12 object-contain"}),(0,wt.jsx)("img",{src:os,alt:"Logo MESUPRES",className:"h-12 w-12 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministre de l'Enseignement Sup\xe9rieur",(0,wt.jsx)("br",{}),"et de la Recherche Scientifique"]})]})]})})}),(0,wt.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,wt.jsx)("div",{className:"w-full max-w-lg",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-8 border border-gray-200",children:[(0,wt.jsxs)("div",{className:"text-center mb-8",children:[(0,wt.jsx)("div",{className:"flex justify-center mb-3",children:(0,wt.jsx)("img",{src:ls,alt:"FOSIKA",className:"h-16 object-contain"})}),(0,wt.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Suivi de Dossier"}),(0,wt.jsx)("p",{className:"text-gray-600",children:"Consultez l'\xe9tat d'avancement de votre signalement"})]}),(0,wt.jsxs)("div",{className:"space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"R\xe9f\xe9rence du dossier"}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("input",{type:"text",value:M,onChange:Y,placeholder:"Ex: REF-20251119-6AB2BF",className:"w-full px-4 py-3.5 pl-12 text-lg border-2 border-gray-300 rounded focus:ring-2 focus:ring-[#5e8f3e] focus:border-[#5e8f3e] transition-all outline-none font-bill",onKeyPress:e=>{"Enter"===e.key&&J()}}),(0,wt.jsx)(Ns,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),O&&(0,wt.jsx)("p",{className:"text-red-500 text-sm mt-2",children:O})]}),(0,wt.jsx)("button",{onClick:J,disabled:H,className:"w-full bg-[#5e8f3e] text-white py-4 rounded font-semibold text-lg hover:bg-[#4a7b32] transition-all transform hover:scale-[1.02] shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:H?"Recherche en cours...":"Rechercher le dossier"})]}),(0,wt.jsx)("div",{className:"mt-6 text-center",children:(0,wt.jsxs)("button",{onClick:Z,className:"inline-flex items-center gap-2 px-6 py-3 bg-white hover:bg-gray-50 text-gray-700 font-medium rounded transition-all shadow-md border-2 border-gray-200 hover:border-[#b3d088]",children:[(0,wt.jsx)(js,{size:20}),"Retour \xe0 l'accueil"]})})]})})}),(0,wt.jsx)("div",{className:"w-full text-center py-4 mt-auto",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2025"})})]}):P?(0,wt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 font-bill",children:[(0,wt.jsx)("div",{className:"w-full bg-white border-b-2 border-gray-200 py-4 shadow-sm",children:(0,wt.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:is,alt:"Logo R\xe9publique",className:"h-12 w-12 object-contain"}),(0,wt.jsx)("img",{src:os,alt:"Logo MESUPRES",className:"h-12 w-12 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministre de l'Enseignement Sup\xe9rieur",(0,wt.jsx)("br",{}),"et de la Recherche Scientifique"]})]})]})})}),(0,wt.jsx)("div",{className:"max-w-4xl mx-auto p-4 md:p-6",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl overflow-hidden border border-gray-200",children:[(0,wt.jsx)("div",{className:"bg-gradient-to-r from-[#0c2844] to-[#09407e] p-6",children:(0,wt.jsxs)("div",{className:"flex items-start justify-between flex-wrap gap-3",children:[(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,wt.jsx)("span",{className:"text-2xl",children:gi[P.category]||"\ud83d\udccb"}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-xl font-bold text-white",children:P.titre}),(0,wt.jsx)("p",{className:"text-white/90 text-sm mt-1",children:xi[P.category]||"Signalement"})]})]}),(0,wt.jsx)("div",{className:"inline-block bg-white/20 backdrop-blur-sm px-3 py-1.5 rounded",children:(0,wt.jsxs)("p",{className:"text-white font-mono font-semibold text-sm",children:["R\xe9f\xe9rence : ",P.reference]})}),(0,wt.jsx)("div",{className:"mt-2",children:(0,wt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium "+(P.hasProof?"bg-green-100 text-green-800 border border-green-200":"bg-gray-100 text-gray-600 border border-gray-200"),children:P.hasProof?"Avec preuves":"Sans preuves"})})]}),(0,wt.jsx)("div",{children:(0,wt.jsx)("span",{className:"px-4 py-2 rounded text-sm font-bold border-2 shadow-lg "+(e=>{switch(e){case"en_cours":case"traitement_classification":return"bg-blue-100 text-blue-800 border-blue-200";case"finalise":case"classifier":return"bg-green-100 text-green-800 border-green-200";case"doublon":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"refuse":case"rejected":return"bg-red-100 text-red-800 border-red-200";case"investigation":return"bg-purple-100 text-purple-800 border-purple-200";case"transmis_autorite":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(P.statut),children:vi[P.statut]||P.statut||"En cours"})})]})}),(0,wt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,wt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),P.isAnonymous?"Signalement anonyme":"Informations de l'\xe9metteur"]}),P.isAnonymous?(0,wt.jsxs)("div",{className:"bg-gray-50 border-2 border-gray-200 rounded p-5 text-center",children:[(0,wt.jsx)(Cs,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),(0,wt.jsx)("p",{className:"text-gray-600 font-semibold text-sm",children:"Ce signalement a \xe9t\xe9 effectu\xe9 de mani\xe8re anonyme."}),(0,wt.jsx)("div",{className:"mt-3 bg-white rounded p-3 border border-gray-200 inline-block",children:(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)(ks,{className:"w-4 h-4 text-[#4c7026]"}),(0,wt.jsxs)("div",{className:"text-left",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Date de cr\xe9ation"}),(0,wt.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:re(P.dateCreation)})]})]})})]}):(0,wt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,wt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(Cs,{className:"w-4 h-4 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Nom complet"}),(0,wt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:P.name})]})]})}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(Ss,{className:"w-4 h-4 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"T\xe9l\xe9phone"}),(0,wt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:P.phone||"Non renseign\xe9"})]})]})}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(Fs,{className:"w-4 h-4 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Email"}),(0,wt.jsx)("p",{className:"font-semibold text-gray-800 text-sm break-all",children:P.email||"Non renseign\xe9"})]})]})}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(Es,{className:"w-4 h-4 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Localisation"}),(0,wt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:P.address||(P.city||P.province||P.region?"".concat(P.city||"").concat(P.city&&P.province?", ":"").concat(P.province||"").concat((P.city||P.province)&&P.region?" - ":"").concat(P.region||""):"Non renseign\xe9")})]})]})}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200 md:col-span-2",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(ks,{className:"w-4 h-4 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Date de cr\xe9ation"}),(0,wt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:re(P.dateCreation)})]})]})})]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,wt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),"Description du signalement"]}),(0,wt.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded p-4",children:(0,wt.jsx)("p",{className:"text-gray-700 leading-relaxed text-sm whitespace-pre-wrap",children:P.description})})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,wt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,wt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),"Pi\xe8ces jointes",(0,wt.jsxs)("span",{className:"ml-3 text-sm font-normal text-gray-500",children:[(null===(e=P.files)||void 0===e?void 0:e.length)||0," fichier",1!==(null===(r=P.files)||void 0===r?void 0:r.length)?"s":""]})]})}),P.files&&P.files.length>0?(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:P.files.map((e,t)=>{var r;const n=$(e),s=(null===(r=n.split(".").pop())||void 0===r?void 0:r.toUpperCase())||"FILE";return(0,wt.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded p-3 hover:bg-gray-100 transition-colors",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-[#4c7026] to-[#b4cd7b] flex items-center justify-center flex-shrink-0 shadow-sm rounded",children:(0,wt.jsx)("span",{className:"text-white text-xs font-bold",children:s})}),(0,wt.jsx)("div",{className:"truncate",children:(0,wt.jsxs)("span",{className:"text-gray-800 font-medium text-sm block",children:["Preuve ",t+1]})})]}),(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(async e=>{try{const t=$(e),r="".concat(as.defaults.baseURL,"/files/public/").concat(t);window.open(r,"_blank")||alert("Veuillez autoriser les pop-ups pour visualiser les fichiers")}catch(K){alert("Erreur lors de l'ouverture du fichier: "+K.message)}})(e),className:"p-1.5 text-blue-600 hover:text-blue-800",title:"Voir",children:(0,wt.jsx)(_s,{size:14})}),(0,wt.jsx)("button",{onClick:()=>(async e=>{try{const t=$(e),r="".concat(as.defaults.baseURL,"/files/public/").concat(t,"/download"),n=document.createElement("a");n.href=r,n.setAttribute("download",t),n.setAttribute("target","_blank"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(K){alert("Erreur lors du t\xe9l\xe9chargement: "+K.message)}})(e),className:"p-1.5 text-green-600 hover:text-green-800",title:"T\xe9l\xe9charger",children:(0,wt.jsx)(Us,{size:14})})]})]}),(0,wt.jsx)("div",{className:"text-xs text-gray-500 truncate",title:n,children:n})]},t)})}):(0,wt.jsx)("div",{className:"text-center py-5 bg-gray-50 border border-gray-200 rounded",children:(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:P.hasProof?"Aucun fichier joint \xe0 ce dossier":"Signalement soumis sans pi\xe8ces jointes"})})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,wt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),"Suivi du traitement"]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-px bg-gray-300"}),(0,wt.jsxs)("div",{className:"space-y-5 pl-10",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute -left-4 top-2 w-3 h-3 bg-[#4c7026] border-2 border-white shadow"}),(0,wt.jsx)("div",{className:"border rounded px-4 py-3 bg-white shadow-sm hover:shadow-md transition-all "+te((null===(n=P.workflow)||void 0===n||null===(s=n.drse)||void 0===s?void 0:s.status)||"pending"),children:(0,wt.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"mt-0.5",children:ee((null===(a=P.workflow)||void 0===a||null===(i=a.drse)||void 0===i?void 0:i.status)||"pending")}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"\xc9tape 1"}),(0,wt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Traitement et classification"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:(null===(o=P.workflow)||void 0===o||null===(l=o.drse)||void 0===l?void 0:l.agent)||"DAAQ / DRSE"})]})]}),(0,wt.jsxs)("div",{className:"text-right",children:[(0,wt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 text-[11px] font-semibold bg-white border border-gray-200 text-gray-800",children:yi[(null===(A=P.workflow)||void 0===A||null===(c=A.drse)||void 0===c?void 0:c.status)||"pending"]||"En attente"}),(null===(d=P.workflow)||void 0===d||null===(u=d.drse)||void 0===u?void 0:u.date)&&(0,wt.jsxs)("p",{className:"text-[11px] text-gray-500 mt-1 flex items-center justify-end gap-1.5",children:[(0,wt.jsx)(ks,{size:12}),re(P.workflow.drse.date)]})]})]})})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute -left-4 top-2 w-3 h-3 bg-gray-300 border-2 border-white shadow"}),(0,wt.jsx)("div",{className:"border rounded px-4 py-3 bg-white shadow-sm hover:shadow-md transition-all "+te((null===(h=P.workflow)||void 0===h||null===(f=h.cac)||void 0===f?void 0:f.status)||"pending"),children:(0,wt.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"mt-0.5",children:ee((null===(m=P.workflow)||void 0===m||null===(p=m.cac)||void 0===p?void 0:p.status)||"pending")}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"\xc9tape 2"}),(0,wt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Ouverture d'enqu\xeates"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:(null===(g=P.workflow)||void 0===g||null===(x=g.cac)||void 0===x?void 0:x.agent)||"DAAQ / CAC / DAJ"})]})]}),(0,wt.jsxs)("div",{className:"text-right",children:[(0,wt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 text-[11px] font-semibold bg-white border border-gray-200 text-gray-800",children:yi[(null===(b=P.workflow)||void 0===b||null===(v=b.cac)||void 0===v?void 0:v.status)||"pending"]||"En attente"}),(null===(y=P.workflow)||void 0===y||null===(w=y.cac)||void 0===w?void 0:w.date)&&(0,wt.jsxs)("p",{className:"text-[11px] text-gray-500 mt-1 flex items-center justify-end gap-1.5",children:[(0,wt.jsx)(ks,{size:12}),re(P.workflow.cac.date)]})]})]})})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute -left-4 top-2 w-3 h-3 bg-gray-300 border-2 border-white shadow"}),(0,wt.jsx)("div",{className:"border rounded px-4 py-3 bg-white shadow-sm hover:shadow-md transition-all "+te((null===(B=P.workflow)||void 0===B||null===(N=B.bianco)||void 0===N?void 0:N.status)||"pending"),children:(0,wt.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"mt-0.5",children:ee((null===(j=P.workflow)||void 0===j||null===(C=j.bianco)||void 0===C?void 0:C.status)||"pending")}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"\xc9tape 3"}),(0,wt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:(null===(k=P.workflow)||void 0===k||null===(S=k.bianco)||void 0===S?void 0:S.agent)||"DAAQ / BIANCO"})]})]}),(0,wt.jsxs)("div",{className:"text-right",children:[(0,wt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 text-[11px] font-semibold bg-white border border-gray-200 text-gray-800",children:yi[(null===(F=P.workflow)||void 0===F||null===(E=F.bianco)||void 0===E?void 0:E.status)||"pending"]||"En attente"}),(null===(_=P.workflow)||void 0===_||null===(U=_.bianco)||void 0===U?void 0:U.date)&&(0,wt.jsxs)("p",{className:"text-[11px] text-gray-500 mt-1 flex items-center justify-end gap-1.5",children:[(0,wt.jsx)(ks,{size:12}),re(P.workflow.bianco.date)]})]})]})})]})]})]})]}),(0,wt.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3 justify-center",children:[(0,wt.jsxs)("button",{onClick:X,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-white hover:bg-gray-50 text-gray-700 font-semibold transition-all shadow-md border-2 border-[#b4cd7b] hover:border-[#4c7026]",children:[(0,wt.jsx)(Ns,{size:18}),"Nouvelle recherche"]}),(0,wt.jsxs)("button",{onClick:Z,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-[#4c7026] hover:bg-[#3a5a1d] text-white font-semibold transition-all shadow-md",children:[(0,wt.jsx)(js,{size:18}),"Retour \xe0 l'accueil"]})]})]})]})}),(0,wt.jsx)("div",{className:"w-full text-center py-4 mt-6",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-mesupres 2025"})}),P&&(0,wt.jsx)(pi,{reference:P.reference,dossierInfo:P})]}):(0,wt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center font-bill",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("p",{className:"text-gray-600 mb-4",children:"Aucun dossier s\xe9lectionn\xe9"}),(0,wt.jsx)("button",{onClick:X,className:"bg-[#5e8f3e] text-white px-6 py-3 rounded hover:bg-[#4a7b32] transition-colors",children:"Retour \xe0 la recherche"})]})})}const Bi={async login(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var n;console.log("[AuthService] Tentative de connexion...",{login:e});const s=await as.post("/auth/login",{login:e,password:t,remember:r});console.log("[AuthService] Connexion r\xe9ussie:",s.data);const a=s.data.user||(null===(n=s.data.data)||void 0===n?void 0:n.user)||s.data,i=s.data.token;if(!a)throw new Error("Donn\xe9es utilisateur introuvables");if(!i)throw new Error("Token manquant");return a.role=(a.role||"agent").toString().toLowerCase().trim(),this.setUser(a,r),this.setUserToken(i,r),{success:!0,user:a,token:i,requires_2fa:!0===s.data.requires_2fa,two_factor_enabled:!0===s.data.two_factor_enabled,message:s.data.message||"Connexion r\xe9ussie"}}catch(i){var s,a;return console.error("[AuthService] \xc9chec login:",i),this.clearAuthData(),{success:!1,message:(null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Erreur de connexion",error:i.message}}},async logout(){try{await as.post("/auth/logout")}catch(QN){}finally{this.clearAuthData(),window.location.href="/login"}},clientExpireSession(){this.clearAuthData()},async checkAuth(){const e=this.getUser(),t=this.getUserToken();if(!e||!t)return{success:!1,authenticated:!1,message:"Aucune session locale"};try{var r;const e=await as.get("/check-auth");return null!==(r=e.data)&&void 0!==r&&r.authenticated?(e.data.user&&this.setUser(e.data.user,this.isRemembered()),{success:!0,authenticated:!0,user:e.data.user,requires_2fa:e.data.requires_2fa||!1,two_factor_verified:e.data.two_factor_verified||!1,message:"Session valide"}):(this.clearAuthData(),{success:!1,authenticated:!1,message:"Session expir\xe9e"})}catch(s){var n;return 401===(null===(n=s.response)||void 0===n?void 0:n.status)?(this.clearAuthData(),{success:!1,authenticated:!1,message:"Token invalide"}):{success:!0,authenticated:!0,user:e,offline:!0}}},setUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=t?localStorage:sessionStorage;localStorage.removeItem("user_data"),sessionStorage.removeItem("user_data"),localStorage.removeItem("remember_me"),r.setItem("user_data",JSON.stringify(e)),t&&localStorage.setItem("remember_me","true")},getUser(){try{const e=localStorage.getItem("user_data")||sessionStorage.getItem("user_data");return e?JSON.parse(e):null}catch(e){return null}},setUserToken(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?localStorage:sessionStorage;localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),t.setItem("auth_token",e)},getUserToken:()=>localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),getRole(){var e,t;return(null===(e=this.getUser())||void 0===e||null===(t=e.role)||void 0===t?void 0:t.toLowerCase())||null},isAuthenticated(){return!(!this.getUser()||!this.getUserToken())},isRemembered:()=>"true"===localStorage.getItem("remember_me"),clearAuthData(){localStorage.clear(),sessionStorage.clear()}},Ni=Bi,ji=()=>{const[e,r]=(0,t.useState)(""),[n,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[A,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),g=ue();return(0,t.useEffect)(()=>{(async()=>{const e=localStorage.getItem("user_data")||sessionStorage.getItem("user_data"),t=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(e&&t)try{const t=JSON.parse(e);if(!t||!t.id)return localStorage.removeItem("user_data"),localStorage.removeItem("auth_token"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("auth_token"),void f(!0);try{var r;const e=await as.get("/check-auth");if(200!==e.status||null===(r=e.data)||void 0===r||!r.authenticated)throw new Error("Session invalid");if(!0===e.data.requires_2fa)return console.log("[Login] \ud83d\udd10 Session valide mais 2FA requise"),void g("/two-factor-verify",{replace:!0});console.log("[Login] \u2705 Session valide - redirection dashboard"),(e=>{const t=null===e||void 0===e?void 0:e.toLowerCase();g({admin:"/admin",agent:"/agent",investigateur:"/investigateur",investigator:"/investigateur"}[t]||"/admin",{replace:!0})})(t.role)}catch(A){var n;401===(null===(n=A.response)||void 0===n?void 0:n.status)||console.log("[Login] Session expired or invalid:",A.message),localStorage.removeItem("user_data"),localStorage.removeItem("auth_token"),localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("just_logged_in"),f(!0)}}catch(s){console.error("[Login] Error parsing user data:",s),localStorage.removeItem("user_data"),localStorage.removeItem("auth_token"),localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("just_logged_in"),f(!0)}else f(!0)})();const e=setTimeout(()=>{localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("just_logged_in")},5e3);return()=>clearTimeout(e)},[g]),h?(0,wt.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4 overflow-hidden relative",children:[(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-50 transition-all duration-500 transform ".concat(m?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,wt.jsxs)("div",{className:"bg-white border-l-4 border-[#b4cd7b] rounded shadow-2xl p-4 w-80 flex items-start",children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:(0,wt.jsx)("svg",{className:"h-6 w-6 text-[#b4cd7b]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,wt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,wt.jsx)("p",{className:"text-sm font-bold text-gray-900 leading-5",children:"Mot de passe oubli\xe9 ?"}),(0,wt.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-600",children:"Contactez l'administrateur pour r\xe9initialiser votre mot de passe."})]}),(0,wt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,wt.jsx)("button",{onClick:()=>p(!1),className:"inline-flex text-gray-400 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",children:(0,wt.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,wt.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L10 10 5.707 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),(0,wt.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-sm border border-gray-200",children:[(0,wt.jsxs)("div",{className:"text-center mb-8",children:[(0,wt.jsx)("div",{className:"mx-auto w-40 h-40 rounded-full flex items-center justify-center overflow-hidden mb-4",children:(0,wt.jsx)("img",{src:ls,alt:"Fosika Logo",className:"w-full h-full object-contain"})}),(0,wt.jsx)("h2",{className:"text-2xl font-extrabold text-gray-900 tracking-tight",children:"Connexion"}),(0,wt.jsxs)("p",{className:"mt-2 text-sm font-medium text-gray-500",children:["Portail ",(0,wt.jsx)("span",{className:"text-[#b4cd7b] font-bold",children:"Admin"})," ou ",(0,wt.jsx)("span",{className:"text-[#b4cd7b] font-bold",children:"Agent"})]})]}),(0,wt.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),u(!0),c("");try{const t=await Ni.login(e,n,o);if(t.success){const e=o?localStorage:sessionStorage;if(e.setItem("user_data",JSON.stringify(t.user)),e.setItem("auth_token",t.token),e.setItem("just_logged_in","true"),window.__userData=t.user,window.dispatchEvent(new CustomEvent("userLoggedIn",{detail:t.user})),!0===t.requires_2fa){console.log("[Login] \ud83d\udd10 2FA requise - redirection vers v\xe9rification");const e=t.user.role.toLowerCase(),r={admin:"/admin",agent:"/agent",investigateur:"/investigateur",investigator:"/investigateur"}[e]||"/admin";return sessionStorage.setItem("redirect_after_2fa",r),void g("/two-factor-verify",{replace:!0})}console.log("[Login] \u2705 Pas de 2FA requise - redirection directe");const r=t.user.role.toLowerCase();g({admin:"/admin",agent:"/agent",investigateur:"/investigateur",investigator:"/investigateur"}[r]||"/admin",{replace:!0}),setTimeout(()=>{"/login"===window.location.pathname&&window.location.reload()},500)}else c(t.message||"Identifiant ou mot de passe incorrect")}catch(A){console.error("[Login] Erreur:",A),c(A.message||"Erreur de connexion")}finally{u(!1)}},className:"space-y-6",children:[A&&(0,wt.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg flex items-center text-xs",children:[(0,wt.jsx)("svg",{className:"w-4 h-4 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,wt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,wt.jsx)("span",{children:A})]}),(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("input",{type:"text",id:"login_field",value:e,onChange:e=>r(e.target.value),className:"block px-3 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-[#b4cd7b] peer",placeholder:" ",required:!0,disabled:d}),(0,wt.jsx)("label",{htmlFor:"login_field",className:"absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-[#b4cd7b] peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1",children:"Email ou Nom d'utilisateur"}),(0,wt.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,wt.jsx)("svg",{className:"w-4 h-4 text-gray-400 group-focus-within:text-[#b4cd7b] transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})]}),(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("input",{type:a?"text":"password",id:"password_field",value:n,onChange:e=>s(e.target.value),className:"block px-3 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-[#b4cd7b] peer",placeholder:" ",required:!0,disabled:d}),(0,wt.jsx)("label",{htmlFor:"password_field",className:"absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-[#b4cd7b] peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1",children:"Mot de passe"}),(0,wt.jsx)("button",{type:"button",onClick:()=>i(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",disabled:d,children:a?(0,wt.jsxs)("svg",{className:"w-4 h-4 group-focus-within:text-[#b4cd7b] transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):(0,wt.jsx)("svg",{className:"w-4 h-4 group-focus-within:text-[#b4cd7b] transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]}),(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("input",{type:"checkbox",checked:o,onChange:e=>l(e.target.checked),className:"sr-only",disabled:d}),(0,wt.jsx)("div",{className:"w-4 h-4 border-2 rounded transition duration-200 ".concat(o?"bg-[#b4cd7b] border-[#b4cd7b]":"bg-white border-gray-300"),children:o&&(0,wt.jsx)("svg",{className:"w-2.5 h-2.5 text-white mx-auto mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),(0,wt.jsx)("span",{className:"text-xs text-gray-700 font-medium",children:"Rester connect\xe9"})]}),(0,wt.jsx)("button",{type:"button",className:"text-xs text-[#b4cd7b] hover:text-[#9ab567] font-medium focus:outline-none",disabled:d,onClick:()=>{p(!0),setTimeout(()=>p(!1),5e3)},children:"Mot de passe oubli\xe9 ?"})]}),(0,wt.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-[#b4cd7b] to-[#9ab567] text-white p-3 rounded-lg hover:from-[#a0bd6d] hover:to-[#8aa35c] transition duration-200 font-semibold shadow disabled:opacity-50 transform hover:scale-[1.02] active:scale-[0.98] text-sm",children:d?(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,wt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,wt.jsx)("span",{children:"Connexion..."})]}):(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,wt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),(0,wt.jsx)("span",{children:"Se connecter"})]})})]}),(0,wt.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,wt.jsxs)("div",{className:"text-center text-xs text-gray-500 space-y-1",children:[(0,wt.jsxs)("p",{children:["Mode : ",o?"Session persistante":"Session temporaire"]}),(0,wt.jsx)("p",{children:"\xa9 daaq-mesupres 2025"})]})})]})]}):(0,wt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-[#b4cd7b] border-t-transparent rounded-full animate-spin"}),(0,wt.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"V\xe9rification de la session..."})]})})},Ci=Et("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),ki=Et("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Si=Et("school",[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),Fi=Et("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),Ei=Et("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),_i=Et("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),Ui={getAllPublic:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await as.get("/enseignants",{params:e})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des enseignants:",t),t}},getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await as.get("/enseignants",{params:e})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des enseignants:",t),t}},getByIdPublic:async e=>{try{return(await as.get("/enseignants/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'enseignant:",t),t}},getById:async e=>{try{return(await as.get("/enseignants/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'enseignant:",t),t}},getStatistiquesGlobal:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await as.get("/enseignants/statistiques/global",{params:e})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques:",t),t}},getStats:async e=>{try{const t=e?{universite_id:e}:{};return(await as.get("/enseignants/statistiques/global",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques:",t),t}},getStatistiquesParEtablissement:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?{universite_id:e}:{};return(await as.get("/enseignants/statistiques/par-etablissement",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques par \xe9tablissement:",t),t}},search:async e=>{try{return(await as.get("/enseignants",{params:{search:e}})).data}catch(t){throw console.error("Erreur lors de la recherche d'enseignants:",t),t}},create:async e=>{try{return(await as.post("/admin/enseignants",e)).data}catch(r){if(console.error("Erreur lors de la cr\xe9ation de l'enseignant:",r),r.response){var t;const e=(null===(t=r.response.data)||void 0===t?void 0:t.message)||"Erreur lors de la cr\xe9ation";throw new Error(e)}throw r.request?new Error("Aucune r\xe9ponse du serveur"):r}},update:async(e,t)=>{try{return(await as.put("/admin/enseignants/".concat(e),t)).data}catch(n){if(console.error("Erreur lors de la modification de l'enseignant:",n),n.response){var r;const e=(null===(r=n.response.data)||void 0===r?void 0:r.message)||"Erreur lors de la modification";throw new Error(e)}throw n.request?new Error("Aucune r\xe9ponse du serveur"):n}},delete:async e=>{try{return(await as.delete("/admin/enseignants/".concat(e))).data}catch(r){if(console.error("Erreur lors de la suppression de l'enseignant:",r),r.response){var t;const e=(null===(t=r.response.data)||void 0===t?void 0:t.message)||"Erreur lors de la suppression";throw new Error(e)}throw r.request?new Error("Aucune r\xe9ponse du serveur"):r}},import:async e=>{try{const t=new FormData;t.append("file",e);return(await as.post("/admin/enseignants/import",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){if(console.error("Erreur lors de l'import:",r),r.response){var t;const e=(null===(t=r.response.data)||void 0===t?void 0:t.message)||"Erreur lors de l'import";throw new Error(e)}throw r.request?new Error("Aucune r\xe9ponse du serveur"):r}},export:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await as.get("/admin/enseignants/export",{params:e,responseType:"blob"})).data}catch(t){throw console.error("Erreur lors de l'export:",t),t}},getByUniversite:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await as.get("/enseignants",{params:o(o({},t),{},{universite_id:e})})).data}catch(r){throw console.error("Erreur lors de la r\xe9cup\xe9ration par universit\xe9:",r),r}},getByEtablissement:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await as.get("/enseignants",{params:o(o({},t),{},{etablissement_id:e})})).data}catch(r){throw console.error("Erreur lors de la r\xe9cup\xe9ration par \xe9tablissement:",r),r}},getByCategorie:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await as.get("/enseignants",{params:o(o({},t),{},{categorie:e})})).data}catch(r){throw console.error("Erreur lors de la r\xe9cup\xe9ration par cat\xe9gorie:",r),r}},getByCorps:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await as.get("/enseignants",{params:o(o({},t),{},{corps:e})})).data}catch(r){throw console.error("Erreur lors de la r\xe9cup\xe9ration par corps:",r),r}},validateImport:async e=>{try{const t=new FormData;t.append("file",e);return(await as.post("/admin/enseignants/validate-import",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Erreur lors de la validation de l'import:",t),t}},downloadTemplate:async()=>{try{const e=await as.get("/admin/enseignants/template",{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");return r.href=t,r.setAttribute("download","template_enseignants.xlsx"),document.body.appendChild(r),r.click(),r.remove(),e.data}catch(e){throw console.error("Erreur lors du t\xe9l\xe9chargement du template:",e),e}}},Qi=Ui,Li={getAll:async()=>{try{return(await as.get("/universites")).data}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration des universit\xe9s:",e),e}},getById:async e=>{try{return(await as.get("/universites/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'universit\xe9:",t),t}},create:async e=>{try{return(await as.post("/admin/universites",e)).data}catch(t){throw console.error("Erreur lors de la cr\xe9ation de l'universit\xe9:",t),t}},update:async(e,t)=>{try{return(await as.put("/admin/universites/".concat(e),t)).data}catch(r){throw console.error("Erreur lors de la modification de l'universit\xe9:",r),r}},delete:async e=>{try{return(await as.delete("/admin/universites/".concat(e))).data}catch(t){throw console.error("Erreur lors de la suppression de l'universit\xe9:",t),t}}},Ii=Li,Mi={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?{universite_id:e}:{};return(await as.get("/etablissements",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des \xe9tablissements:",t),t}},getById:async e=>{try{return(await as.get("/etablissements/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'\xe9tablissement:",t),t}},create:async e=>{try{return(await as.post("/admin/etablissements",e)).data}catch(t){throw console.error("Erreur lors de la cr\xe9ation de l'\xe9tablissement:",t),t}},update:async(e,t)=>{try{return(await as.put("/admin/etablissements/".concat(e),t)).data}catch(r){throw console.error("Erreur lors de la modification de l'\xe9tablissement:",r),r}},delete:async e=>{try{return(await as.delete("/admin/etablissements/".concat(e))).data}catch(t){throw console.error("Erreur lors de la suppression de l'\xe9tablissement:",t),t}}},Di=Mi,Pi=["PROFESSEUR TITULAIRE","PROFESSEUR D'ENSEIGNEMENT SUPERIEUR","MAITRE DE CONFERENCE D'ENSEIGNEMENT SUPERIEUR","ASSITANT D'ENSEIGNEMENT SUPERIEUR"],Ti=["Docteur d'\xc9tat","HDR","Doctorat","Agr\xe9gation","Master","DEA","Ing\xe9niorat","DOCTEUR D'ETAT"],Oi=()=>{const e=ue(),[r,n]=(0,t.useState)(!1),[s,a]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,A]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),[f,m]=(0,t.useState)("Tous"),[p,g]=(0,t.useState)("Tous"),[x,b]=(0,t.useState)("Tous"),[v,y]=(0,t.useState)("Tous"),[w,B]=(0,t.useState)(""),[N,j]=(0,t.useState)(1),[C,k]=(0,t.useState)(10),[S,F]=(0,t.useState)(0);(0,t.useEffect)(()=>{(async()=>{try{d(!0);const e=await Ii.getAll();a(e),h(null)}catch(e){console.error("Erreur lors du chargement des universit\xe9s:",e),h("Impossible de charger les universit\xe9s")}finally{d(!1)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(0!==s.length)try{let e;if("Tous"===f)e=await Di.getAll();else{const t=s.find(e=>e.nom===f);e=t?await Di.getAll(t.id):[]}o(e)}catch(e){console.error("Erreur lors du chargement des \xe9tablissements:",e),o([])}})()},[f,s]);const E=(0,t.useMemo)(()=>Array.from(new Set(i.map(e=>e.nom))).sort(),[i]);(0,t.useEffect)(()=>{"Tous"===p||E.includes(p)||g("Tous")},[E,p]),(0,t.useEffect)(()=>{if(0===s.length)return;const e=setTimeout(()=>{(async()=>{d(!0),h(null);try{const e={page:N,per_page:C};if(w&&""!==w.trim()&&(e.search=w.trim()),"Tous"!==f){const t=s.find(e=>e.nom===f);t&&(e.universite_id=t.id)}if("Tous"!==p){const t=i.find(e=>e.nom===p);t&&(e.etablissement_id=t.id)}"Tous"!==x&&(e.categorie=x),"Tous"!==v&&(e.diplome=v);const t=await Qi.getAllPublic(e),r=(t.data||[]).map(e=>{var t,r;return{id:e.id,nom:e.nom,grade:e.categorie||e.corps,etablissement:(null===(t=e.etablissement)||void 0===t?void 0:t.nom)||"N/A",univ:(null===(r=e.universite)||void 0===r?void 0:r.nom)||"N/A",specialite:e.specialite||"N/A",diplome:e.diplome||"N/A"}}).sort((e,t)=>{const r=(e.nom||"").toLowerCase(),n=(t.nom||"").toLowerCase();return r.localeCompare(n,"fr",{sensitivity:"base"})});A(r),F(t.total||0)}catch(e){console.error("Erreur lors du chargement des enseignants:",e),h("Impossible de charger les enseignants"),A([]),F(0)}finally{d(!1)}})()},300);return()=>clearTimeout(e)},[N,C,f,p,x,v,w,s,i]);const _=(0,t.useMemo)(()=>s.map(e=>e.nom),[s]),U=Math.ceil(S/C)||1;(0,t.useEffect)(()=>{U>0&&N>U&&j(U)},[U]);const Q="Tous"!==f?f.toUpperCase():"TOUTES LES UNIVERSIT\xc9S",L="Tous"!==p?p.toUpperCase():"TOUS LES \xc9TABLISSEMENTS";return c&&0===s.length?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)(Os,{className:"w-16 h-16 text-[#4c7026] animate-spin mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-xl text-gray-700",children:"Chargement des donn\xe9es..."})]})}):u&&0===s.length?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)(Ut,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-xl text-gray-700 mb-4",children:u}),(0,wt.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-[#4c7026] text-white rounded-lg hover:bg-[#3a5a1d]",children:"R\xe9essayer"})]})}):(0,wt.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col font-bill text-gray-800 overflow-x-hidden",children:[(0,wt.jsx)("div",{className:"w-full bg-white border-b border-gray-200 py-4 shadow-sm relative z-20",children:(0,wt.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 md:gap-0",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-4 md:gap-6",children:[(0,wt.jsx)("img",{src:is,alt:"Logo R\xe9publique",className:"h-12 w-auto object-contain md:h-16"}),(0,wt.jsx)("img",{src:os,alt:"Logo MESUPRES",className:"h-12 w-auto object-contain md:h-16"})]}),(0,wt.jsx)("div",{className:"flex-1 text-center px-2 hidden md:block",children:(0,wt.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-1",children:[(0,wt.jsxs)("span",{className:"font-bold text-sm lg:text-base uppercase text-[#4c7026] leading-tight",children:["MINISTERE DE L'ENSEIGNEMENT SUPERIEUR ",(0,wt.jsx)("br",{})," ET DE LA RECHERCHE SCIENTIFIQUE"]}),(0,wt.jsx)("span",{className:"font-bold text-xs lg:text-sm uppercase text-gray-700",children:"SECRETARIAT GENERAL"}),(0,wt.jsx)("span",{className:"font-bold text-xs lg:text-sm uppercase text-gray-600",children:"DIRECTION DES RESSOURCES HUMAINES"})]})}),(0,wt.jsx)("div",{children:(0,wt.jsx)("img",{src:ls,alt:"FOSIKA",className:"h-20 w-auto object-contain md:h-28"})})]}),(0,wt.jsxs)("div",{className:"md:hidden text-center mt-4 border-t border-gray-100 pt-3",children:[(0,wt.jsxs)("p",{className:"font-bold text-xs uppercase text-[#4c7026] leading-tight mb-1",children:["MINISTERE DE L'ENSEIGNEMENT SUPERIEUR ",(0,wt.jsx)("br",{})," ET DE LA RECHERCHE SCIENTIFIQUE"]}),(0,wt.jsx)("p",{className:"font-bold text-[10px] uppercase text-gray-600",children:"DIRECTION DES RESSOURCES HUMAINES"})]})]})}),(0,wt.jsx)("div",{className:"bg-white border-b border-gray-200 pt-6 pb-6",children:(0,wt.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,wt.jsxs)("div",{className:"border-l-4 border-[#4c7026] pl-4 md:pl-6 py-1",children:[(0,wt.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-[#4c7026] uppercase mb-3 leading-snug",children:"LISTE DES ENSEIGNANTS CHERCHEURS PERMANENTS"}),(0,wt.jsxs)("div",{className:"grid gap-1 text-xs md:text-sm font-bold text-gray-500 uppercase",children:[(0,wt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-2",children:[(0,wt.jsx)("span",{className:"w-32 shrink-0",children:"UNIVERSITE:"}),(0,wt.jsx)("span",{className:"text-gray-900 break-words",children:Q})]}),(0,wt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-2",children:[(0,wt.jsx)("span",{className:"w-32 shrink-0",children:"ETABLISSEMENT:"}),(0,wt.jsx)("span",{className:"text-gray-900 break-words",children:L})]}),(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("span",{className:"w-32 shrink-0",children:"ANNEE:"}),(0,wt.jsx)("span",{className:"text-gray-900",children:"2025"})]})]})]})})}),(0,wt.jsxs)("main",{className:"flex-1 max-w-7xl mx-auto px-4 py-6 md:py-8 w-full",children:[(0,wt.jsx)("div",{className:"lg:hidden mb-4",children:(0,wt.jsxs)("button",{onClick:()=>n(!r),className:"w-full flex items-center justify-between px-4 py-3 bg-white border border-gray-300 rounded shadow-sm text-[#4c7026] font-bold uppercase text-xs",children:[(0,wt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Ci,{size:16})," Afficher les filtres"]}),r?(0,wt.jsx)(Lt,{size:16}):(0,wt.jsx)(ki,{size:16})]})}),(0,wt.jsxs)("div",{className:"".concat(r?"block":"hidden"," lg:block bg-white p-4 md:p-5 rounded-lg shadow-sm border border-gray-200 mb-6 transition-all"),children:[(0,wt.jsxs)("div",{className:"hidden lg:flex items-center gap-2 mb-4 text-[#4c7026] font-bold uppercase text-sm border-b border-gray-100 pb-2",children:[(0,wt.jsx)(Ci,{size:16})," Filtres de recherche"]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[(0,wt.jsxs)("div",{className:"lg:col-span-1",children:[(0,wt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Recherche Rapide"}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("input",{type:"text",placeholder:"Nom, dipl\xf4me...",className:"w-full pl-9 pr-3 py-2.5 bg-gray-50 border border-gray-300 rounded text-sm focus:border-[#4c7026] focus:ring-1 focus:ring-[#4c7026] outline-none transition-all placeholder:text-gray-400",value:w,onChange:e=>{B(e.target.value),j(1)}}),(0,wt.jsx)(Ns,{className:"absolute left-3 top-3 text-gray-400",size:16})]})]}),(0,wt.jsxs)("div",{className:"lg:col-span-1",children:[(0,wt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Universit\xe9"}),(0,wt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer truncate",value:f,onChange:e=>{m(e.target.value),j(1)},children:[(0,wt.jsx)("option",{value:"Tous",children:"Toutes les Universit\xe9s"}),_.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]})]}),(0,wt.jsxs)("div",{className:"lg:col-span-1",children:[(0,wt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"\xc9tablissement"}),(0,wt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer disabled:bg-gray-100 disabled:text-gray-400 truncate",value:p,onChange:e=>{g(e.target.value),j(1)},disabled:0===E.length,children:[(0,wt.jsx)("option",{value:"Tous",children:"Tous les \xc9tablissements"}),E.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]})]}),(0,wt.jsxs)("div",{className:"lg:col-span-1",children:[(0,wt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Grade"}),(0,wt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer truncate",value:x,onChange:e=>{b(e.target.value),j(1)},children:[(0,wt.jsx)("option",{value:"Tous",children:"Tous les Grades"}),Pi.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]})]}),(0,wt.jsxs)("div",{className:"lg:col-span-1",children:[(0,wt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Dipl\xf4me"}),(0,wt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer truncate",value:v,onChange:e=>{y(e.target.value),j(1)},children:[(0,wt.jsx)("option",{value:"Tous",children:"Tous les Dipl\xf4mes"}),Ti.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]})]})]}),(0,wt.jsx)("div",{className:"flex justify-center md:justify-end mt-4 pt-4 border-t border-gray-100",children:(0,wt.jsx)("button",{onClick:()=>{m("Tous"),g("Tous"),b("Tous"),y("Tous"),B(""),n(!1),j(1)},className:"w-full md:w-auto px-4 py-2 text-xs font-bold uppercase bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-[#ea1b31] rounded transition-colors",children:"Effacer les filtres"})})]}),(0,wt.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 px-1",children:[(0,wt.jsx)("div",{className:"text-sm font-bold text-gray-700 bg-white px-3 py-1.5 rounded shadow-sm border border-gray-200",children:c?(0,wt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Os,{className:"animate-spin",size:16}),"Chargement..."]}):(0,wt.jsxs)(wt.Fragment,{children:["Affichage de"," ",(0,wt.jsx)("span",{className:"text-[#4c7026]",children:l.length>0?(N-1)*C+1:0})," ","\xe0"," ",(0,wt.jsx)("span",{className:"text-[#4c7026]",children:Math.min(N*C,S)})," ","sur ",(0,wt.jsx)("span",{className:"text-[#4c7026]",children:S})," enseignants"]})}),(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Afficher par :"}),(0,wt.jsxs)("select",{className:"px-2 py-1.5 bg-white border border-gray-300 rounded text-sm font-semibold focus:border-[#4c7026] outline-none cursor-pointer",value:C,onChange:e=>{k(Number(e.target.value)),j(1)},children:[(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:20,children:"20"}),(0,wt.jsx)("option",{value:30,children:"30"}),(0,wt.jsx)("option",{value:50,children:"50"}),(0,wt.jsx)("option",{value:100,children:"100"})]})]})]}),(0,wt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden border border-gray-200",children:[(0,wt.jsxs)("div",{className:"hidden md:grid grid-cols-12 gap-4 p-4 bg-[#f4f7f0] border-b border-gray-200",children:[(0,wt.jsx)("div",{className:"col-span-4 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"Nom et Pr\xe9noms"}),(0,wt.jsx)("div",{className:"col-span-3 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"\xc9tablissement d'Origine"}),(0,wt.jsx)("div",{className:"col-span-2 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"Grade"}),(0,wt.jsx)("div",{className:"col-span-3 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"Dipl\xf4me & Sp\xe9cialit\xe9"})]}),(0,wt.jsx)("div",{className:"divide-y divide-gray-100",children:c?(0,wt.jsx)("div",{className:"py-20 flex justify-center",children:(0,wt.jsx)(Os,{className:"animate-spin text-[#4c7026]",size:48})}):l.length>0?l.map(e=>(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 md:gap-4 p-4 hover:bg-gray-50 transition-all duration-200 group",children:[(0,wt.jsxs)("div",{className:"col-span-12 md:col-span-4 flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-10 h-10 md:w-9 md:h-9 rounded bg-[#b4cd7b]/20 text-[#4c7026] flex items-center justify-center shrink-0 border border-[#b4cd7b]/30",children:(0,wt.jsx)(Cs,{size:18})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Identit\xe9"}),(0,wt.jsx)("h3",{className:"font-bold text-gray-800 text-sm group-hover:text-[#4c7026] transition-colors uppercase leading-tight",children:e.nom}),(0,wt.jsx)("p",{className:"md:hidden text-xs text-gray-500 mt-1",children:e.univ})]})]}),(0,wt.jsxs)("div",{className:"col-span-12 md:col-span-3 pl-14 md:pl-0",children:[(0,wt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"\xc9tablissement"}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-800 font-medium",children:[(0,wt.jsx)(Si,{size:15,className:"text-[#b4cd7b]"}),e.etablissement]}),(0,wt.jsx)("div",{className:"hidden md:block text-[11px] text-gray-500 ml-6 mt-0.5 truncate",children:e.univ})]}),(0,wt.jsxs)("div",{className:"col-span-6 md:col-span-2 pl-14 md:pl-0 mt-2 md:mt-0",children:[(0,wt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Grade"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded bg-gray-100 text-gray-700 text-xs font-medium border border-gray-200",children:e.grade})]}),(0,wt.jsxs)("div",{className:"col-span-6 md:col-span-3 pl-14 md:pl-0 mt-2 md:mt-0",children:[(0,wt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Qualification"}),(0,wt.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-[#4c7026]",children:[(0,wt.jsx)(Fi,{size:15}),e.diplome]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,wt.jsx)(Ei,{size:15,className:"text-gray-400"}),e.specialite]})]})]})]},e.id)):(0,wt.jsxs)("div",{className:"py-16 text-center text-gray-500 bg-white",children:[(0,wt.jsx)(_i,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,wt.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"Aucun r\xe9sultat trouv\xe9"}),(0,wt.jsx)("p",{className:"text-sm px-4",children:"Modifiez vos crit\xe8res de recherche pour voir plus de r\xe9sultats."})]})}),(0,wt.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex flex-col sm:flex-row justify-between items-center gap-4 text-xs text-gray-600",children:[(0,wt.jsxs)("span",{className:"font-medium",children:["Page ",N," sur ",U]}),(0,wt.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,wt.jsxs)("button",{onClick:()=>j(e=>Math.max(e-1,1)),disabled:1===N||c,className:"px-3 py-1.5 border rounded bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[(0,wt.jsx)(_t,{size:14})," Pr\xe9c\xe9dent"]}),(0,wt.jsx)("div",{className:"px-2 font-bold text-gray-800",children:N}),(0,wt.jsxs)("button",{onClick:()=>j(e=>Math.min(e+1,U)),disabled:N===U||c,className:"px-3 py-1.5 border rounded bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Suivant ",(0,wt.jsx)(Is,{size:14})]})]})]})]}),(0,wt.jsx)("div",{className:"mt-8 flex justify-center pb-8",children:(0,wt.jsxs)("button",{onClick:()=>e("/signalement"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#4c7026] hover:bg-[#3a5a1d] text-white font-bold uppercase rounded shadow-lg transition-all transform hover:-translate-y-0.5",children:[(0,wt.jsx)(js,{size:18})," Retour \xe0 l'accueil"]})})]}),(0,wt.jsx)("footer",{className:"w-full text-center py-6 mt-auto border-t border-gray-200 bg-white",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs font-medium",children:"\xa9 daaq-mesupres 2025"})})]})},Ri=()=>(0,wt.jsx)("section",{className:"page_404 min-h-screen flex items-center justify-center",children:(0,wt.jsx)("div",{className:"container mx-auto",children:(0,wt.jsx)("div",{className:"flex justify-center",children:(0,wt.jsxs)("div",{className:"w-full text-center",children:[(0,wt.jsx)("div",{className:"four_zero_four_bg",children:(0,wt.jsx)("h1",{className:"text-center text-gray-800",children:"404"})}),(0,wt.jsxs)("div",{className:"content_box_404",children:[(0,wt.jsx)("h3",{className:"h2 text-3xl font-bold mb-4",children:"On dirait que vous \xeates perdu"}),(0,wt.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"La page que vous recherchez n'est pas disponible !"}),(0,wt.jsx)(ht,{to:"/",className:"link_404",children:"Retour \xe0 l'accueil"})]})]})})})}),Hi=Et("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),zi=Et("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Ki=Et("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Vi=Et("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qi=Et("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Gi=e=>{let{onNavigateToNotifications:r,onDeconnexion:n,onNavigateToProfile:s,onNavigateToSettings:a,adminData:i,userRole:l="admin"}=e;const[A,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)(0),[b,v]=(0,t.useState)(!1),[y,w]=(0,t.useState)(0),[B,N]=(0,t.useState)(i||{}),j=(0,t.useCallback)(async()=>{try{const e=await as.get("/profile");e.data.success&&(N(e.data.data),w(e=>e+1))}catch(e){console.error("Erreur sync header:",e)}},[]);(0,t.useEffect)(()=>{j();const e=()=>{console.log("\ud83d\udd04 Header: Mise \xe0 jour du profil d\xe9tect\xe9e !"),j()};return window.addEventListener("profileUpdated",e),()=>{window.removeEventListener("profileUpdated",e)}},[j]);const C=(()=>{if(B.name&&""!==B.name.trim())return B.name.trim();const e=B.lastname||B.last_name||"",t=B.firstname||B.first_name||"";return e||t?"".concat(e," ").concat(t).trim():B.name||"Utilisateur"})(),k=(B.role||B.formattedrole||l||"admin").toLowerCase(),S={admin:{bg:"bg-blue-600",text:"text-blue-600",light:"bg-blue-50",border:"border-blue-200",badge:"bg-blue-100 text-blue-800",ring:"ring-blue-500"},agent:{bg:"bg-green-600",text:"text-green-600",light:"bg-green-50",border:"border-green-200",badge:"bg-green-100 text-green-800",ring:"ring-green-500"},investigateur:{bg:"bg-purple-600",text:"text-purple-600",light:"bg-purple-50",border:"border-purple-200",badge:"bg-purple-100 text-purple-800",ring:"ring-purple-500"}},F=S[k]||S.admin;(0,t.useEffect)(()=>{const e=async()=>{try{const e=await as.get("/notifications/recent");if(e.data.success){const t=e.data.data||[];p(t),x(t.filter(e=>"active"===e.status).length)}}catch(e){console.error("Erreur notifs:",e)}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[]);(0,t.useEffect)(()=>{const e=B.avatar_url||B.avatar;if(!e)return void v(!1);const t=E(e),r=new Image;r.onload=()=>v(!0),r.onerror=()=>v(!1),r.src=t},[B,y]);const E=e=>{if(!e)return null;let t=e;if(t.startsWith("http"))return"".concat(t,"?t=").concat(Date.now());const r={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000";return t.includes("storage/avatars/")?t.startsWith("/")?"".concat(r).concat(t):"".concat(r,"/").concat(t):(t.startsWith("/")||(t="/".concat(t)),t.startsWith("/storage")||(t="/storage".concat(t)),"".concat(r).concat(t,"?v=").concat(y,"&t=").concat(Date.now()))},_=E(B.avatar_url||B.avatar),U=()=>{const e=B.lastname||B.last_name,t=B.firstname||B.first_name,r=B.name;return e&&t?"".concat(e[0]).concat(t[0]).toUpperCase():r?r.substring(0,2).toUpperCase():"U"},Q=e=>{switch(e){case"nouveau_signalement":return(0,wt.jsx)(Ts,{className:"w-5 h-5 text-blue-500"});case"probleme_critique":return(0,wt.jsx)(Hi,{className:"w-5 h-5 text-red-500"});default:return(0,wt.jsx)(ys,{className:"w-5 h-5 text-green-500"})}},L=e=>{if(B.formattedrole)return B.formattedrole;const t=e||k;return t.charAt(0).toUpperCase()+t.slice(1)};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("header",{className:"fixed top-0 left-0 right-0 h-20 bg-white border-b border-gray-200 flex items-center justify-between px-8 z-50 shadow-sm",children:[(0,wt.jsx)("div",{className:"flex items-center ml-6",children:(0,wt.jsx)("img",{src:ls,alt:"FOSIKA",className:"h-28 object-contain"})}),(0,wt.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("button",{onClick:()=>c(!A),className:"relative p-2 rounded-full hover:bg-gray-100 transition-colors",children:[(0,wt.jsx)(zi,{className:"w-6 h-6 text-gray-600"}),g>0&&(0,wt.jsx)("span",{className:"absolute top-0 right-0 h-5 w-5 rounded-full text-xs font-bold flex items-center justify-center bg-red-600 text-white shadow-sm ring-2 ring-white",children:g})]}),A&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),(0,wt.jsxs)("div",{className:"absolute right-0 mt-3 w-80 bg-white rounded-xl shadow-2xl py-2 z-20 max-h-96 overflow-y-auto border border-gray-100 animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,wt.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[(0,wt.jsx)("h3",{className:"font-semibold text-gray-700",children:"Notifications"}),g>0&&(0,wt.jsxs)("span",{className:"text-xs ".concat(F.text," bg-white px-2 py-1 rounded-full border ").concat(F.border),children:[g," nouvelle(s)"]})]}),0===m.length?(0,wt.jsxs)("div",{className:"px-4 py-8 text-center text-gray-500 text-sm",children:[(0,wt.jsx)("div",{className:"inline-block p-3 bg-gray-50 rounded-full mb-2",children:(0,wt.jsx)(zi,{className:"w-6 h-6 text-gray-400"})}),(0,wt.jsx)("p",{children:"Aucune notification r\xe9cente"})]}):(0,wt.jsx)("ul",{children:m.map(e=>(0,wt.jsx)("li",{className:"border-b border-gray-50 hover:bg-gray-50 transition-colors ".concat("active"===e.status?"".concat(F.light," bg-opacity-30"):""),children:(0,wt.jsxs)("button",{className:"w-full text-left px-4 py-3 flex items-start space-x-3",onClick:()=>{(async e=>{try{await as.post("/notifications/".concat(e,"/read")),p(t=>t.map(t=>t.id===e?o(o({},t),{},{status:"read"}):t)),x(e=>Math.max(0,e-1))}catch(t){console.error("Erreur markAsRead:",t)}})(e.id),r&&(r(),c(!1))},children:[(0,wt.jsx)("div",{className:"mt-1",children:Q(e.type)}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-sm ".concat("active"===e.status?"font-semibold text-gray-800":"text-gray-600"),children:e.message}),(0,wt.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.created_at).toLocaleString()})]}),"active"===e.status&&(0,wt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(F.bg," mt-2 shadow-sm")})]})},e.id))})]})]})]}),(0,wt.jsxs)("div",{className:"relative pl-4 border-l border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>u(!d),className:"flex items-center space-x-3 hover:bg-gray-50 p-1.5 rounded-full transition-colors pr-3",children:[b?(0,wt.jsx)("img",{src:_,alt:"Profil",className:"w-10 h-10 rounded-full object-cover border-2 border-white shadow-sm ring-2 ring-opacity-50 ".concat(F.ring)}):(0,wt.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(F.bg," text-white font-bold text-sm shadow-sm ring-2 ring-offset-2 ring-white"),children:U()}),(0,wt.jsxs)("div",{className:"hidden md:block text-left",children:[(0,wt.jsx)("p",{className:"text-sm font-semibold text-gray-700 leading-none mb-1",children:C}),(0,wt.jsx)("p",{className:"text-xs ".concat(F.text," font-medium"),children:L(k)})]}),(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-400"})]}),d&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>u(!1)}),(0,wt.jsxs)("div",{className:"absolute right-0 mt-3 w-72 bg-white rounded-xl shadow-2xl py-2 z-20 border border-gray-100 animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,wt.jsx)("div",{className:"px-6 py-4 ".concat(F.light," border-b ").concat(F.border," mb-2"),children:(0,wt.jsxs)("div",{className:"flex items-center space-x-4",children:[b?(0,wt.jsx)("img",{src:_,alt:"Avatar",className:"w-14 h-14 rounded-full object-cover border-4 border-white shadow-md"}):(0,wt.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center ".concat(F.bg," text-white font-bold text-xl border-4 border-white shadow-md"),children:U()}),(0,wt.jsxs)("div",{className:"overflow-hidden",children:[(0,wt.jsx)("p",{className:"font-bold text-gray-800 truncate",title:C,children:C}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 truncate mb-1.5",title:B.email,children:B.email||"Email non disponible"}),(0,wt.jsx)("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider ".concat(F.badge),children:L(k)})]})]})}),(0,wt.jsxs)("div",{className:"px-2",children:[(0,wt.jsxs)("button",{onClick:()=>{s&&s(),u(!1)},className:"w-full flex items-center px-4 py-2.5 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors group",children:[(0,wt.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg mr-3 group-hover:bg-white group-hover:shadow-sm transition-all",children:(0,wt.jsx)(Cs,{className:"w-4 h-4 text-gray-500 group-hover:text-blue-600"})}),(0,wt.jsxs)("div",{className:"text-left",children:[(0,wt.jsx)("span",{className:"text-sm font-medium block",children:"Mon Profil"}),(0,wt.jsx)("span",{className:"text-xs text-gray-400",children:"G\xe9rer vos informations"})]})]}),(0,wt.jsxs)("button",{onClick:()=>{a&&a(),u(!1)},className:"w-full flex items-center px-4 py-2.5 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors group",children:[(0,wt.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg mr-3 group-hover:bg-white group-hover:shadow-sm transition-all",children:(0,wt.jsx)(Vi,{className:"w-4 h-4 text-gray-500 group-hover:text-blue-600"})}),(0,wt.jsxs)("div",{className:"text-left",children:[(0,wt.jsx)("span",{className:"text-sm font-medium block",children:"Param\xe8tres"}),(0,wt.jsx)("span",{className:"text-xs text-gray-400",children:"Pr\xe9f\xe9rences du compte"})]})]})]}),(0,wt.jsx)("div",{className:"border-t border-gray-100 my-2 mx-2"}),(0,wt.jsx)("div",{className:"px-2 pb-1",children:(0,wt.jsxs)("button",{onClick:()=>{f(!0),u(!1)},className:"w-full flex items-center px-4 py-2.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors group",children:[(0,wt.jsx)("div",{className:"p-2 bg-red-50 rounded-lg mr-3 group-hover:bg-white group-hover:shadow-sm transition-all",children:(0,wt.jsx)(qi,{className:"w-4 h-4 text-red-500"})}),(0,wt.jsx)("span",{className:"text-sm font-medium",children:"D\xe9connexion"})]})})]})]})]})]})]}),h&&(0,wt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-[100] animate-in fade-in duration-200",children:(0,wt.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-sm w-full mx-4 shadow-2xl transform transition-all scale-100 border border-gray-100",children:[(0,wt.jsxs)("div",{className:"text-center mb-6",children:[(0,wt.jsx)("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,wt.jsx)(qi,{className:"w-8 h-8 text-red-600 ml-1"})}),(0,wt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"D\xe9connexion"}),(0,wt.jsx)("p",{className:"text-gray-500",children:"\xcates-vous s\xfbr de vouloir quitter votre session actuelle ?"})]}),(0,wt.jsxs)("div",{className:"flex space-x-3",children:[(0,wt.jsx)("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-semibold",children:"Annuler"}),(0,wt.jsx)("button",{onClick:()=>{f(!1),(async()=>{try{await as.post("/auth/logout").catch(()=>{})}catch(e){}finally{localStorage.clear(),sessionStorage.clear(),"function"===typeof n?n():window.location.href="/login"}})()},className:"flex-1 px-4 py-2.5 text-white bg-red-600 rounded-xl hover:bg-red-700 transition-colors font-semibold shadow-lg shadow-red-200",children:"Confirmer"})]})]})})]})},Wi=Et("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Ji=Et("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),Yi=Et("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Xi=e=>{let{currentView:t,onViewChange:r,collapsed:n,onToggle:s}=e;const a=[{id:"dashboard",label:"Tableau de bord",icon:(0,wt.jsx)(Wi,{size:20})},{id:"reports",label:"Gestion des signalements",icon:(0,wt.jsx)(Ts,{size:20})},{id:"chat",label:"Messagerie",icon:(0,wt.jsx)(Ji,{size:20})},{id:"enseignants",label:"Enseignants",icon:(0,wt.jsx)(Fi,{size:20})},{id:"equipe",label:"Utilisateurs",icon:(0,wt.jsx)(Yi,{size:20})},{id:"audit",label:"Log / Audit",icon:(0,wt.jsx)(Ei,{size:20})}];return(0,wt.jsxs)("aside",{className:"\n        relative bg-white border-r border-gray-200 h-full flex flex-col transition-all duration-300 ease-in-out z-30\n        ".concat(n?"w-20":"w-64","\n      "),style:{paddingTop:"5rem"},children:[(0,wt.jsxs)("div",{className:"relative flex items-center justify-end px-4 pt-2 pb-4 h-12",children:[!n&&(0,wt.jsx)("h2",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Menu"}),(0,wt.jsx)("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors relative z-10","aria-label":n?"Agrandir le menu":"R\xe9duire le menu",children:n?(0,wt.jsx)(Is,{size:20}):(0,wt.jsx)(_t,{size:20})})]}),(0,wt.jsx)("nav",{className:"flex-1 overflow-y-auto px-3 space-y-1",children:a.map(e=>(0,wt.jsxs)("button",{onClick:()=>r(e.id),className:"\n              w-full flex items-center p-3 rounded-lg transition-colors duration-200 group relative\n              ".concat(t===e.id?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n            "),title:n?e.label:"",children:[(0,wt.jsx)("span",{className:"flex-shrink-0 ".concat(n?"mx-auto":""),children:e.icon}),!n&&(0,wt.jsx)("span",{className:"ml-3 truncate text-sm",children:e.label}),t===e.id&&!n&&(0,wt.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-600"}),n&&(0,wt.jsx)("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:e.label})]},e.id))}),!n&&(0,wt.jsx)("div",{className:"p-4 border-t border-gray-100 text-xs text-center text-gray-400",children:"\xa9 daaq-mesupres 2025"})]})};function Zi(e){return e+.5|0}const $i=(e,t,r)=>Math.max(Math.min(e,r),t);function eo(e){return $i(Zi(2.55*e),0,255)}function to(e){return $i(Zi(255*e),0,255)}function ro(e){return $i(Zi(e/2.55)/100,0,1)}function no(e){return $i(Zi(100*e),0,100)}const so={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ao=[..."0123456789ABCDEF"],io=e=>ao[15&e],oo=e=>ao[(240&e)>>4]+ao[15&e],lo=e=>(240&e)>>4===(15&e);function Ao(e){var t=(e=>lo(e.r)&&lo(e.g)&&lo(e.b)&&lo(e.a))(e)?io:oo;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const co=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function uo(e,t,r){const n=t*Math.min(r,1-r),s=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return r-n*Math.max(Math.min(s-3,9-s,1),-1)};return[s(0),s(8),s(4)]}function ho(e,t,r){const n=function(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return r-r*t*Math.max(Math.min(s,4-s,1),0)};return[n(5),n(3),n(1)]}function fo(e,t,r){const n=uo(e,1,.5);let s;for(t+r>1&&(s=1/(t+r),t*=s,r*=s),s=0;s<3;s++)n[s]*=1-t-r,n[s]+=t;return n}function mo(e){const t=e.r/255,r=e.g/255,n=e.b/255,s=Math.max(t,r,n),a=Math.min(t,r,n),i=(s+a)/2;let o,l,A;return s!==a&&(A=s-a,l=i>.5?A/(2-s-a):A/(s+a),o=function(e,t,r,n,s){return e===s?(t-r)/n+(t<r?6:0):t===s?(r-e)/n+2:(e-t)/n+4}(t,r,n,A,s),o=60*o+.5),[0|o,l||0,i]}function po(e,t,r,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,n)).map(to)}function go(e,t,r){return po(uo,e,t,r)}function xo(e){return(e%360+360)%360}function bo(e){const t=co.exec(e);let r,n=255;if(!t)return;t[5]!==r&&(n=t[6]?eo(+t[5]):to(+t[5]));const s=xo(+t[2]),a=+t[3]/100,i=+t[4]/100;return r="hwb"===t[1]?function(e,t,r){return po(fo,e,t,r)}(s,a,i):"hsv"===t[1]?function(e,t,r){return po(ho,e,t,r)}(s,a,i):go(s,a,i),{r:r[0],g:r[1],b:r[2],a:n}}const vo={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},yo={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let wo;function Bo(e){wo||(wo=function(){const e={},t=Object.keys(yo),r=Object.keys(vo);let n,s,a,i,o;for(n=0;n<t.length;n++){for(i=o=t[n],s=0;s<r.length;s++)a=r[s],o=o.replace(a,vo[a]);a=parseInt(yo[i],16),e[o]=[a>>16&255,a>>8&255,255&a]}return e}(),wo.transparent=[0,0,0,0]);const t=wo[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const No=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const jo=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Co=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ko(e,t,r){if(e){let n=mo(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*r,0===t?360:1)),n=go(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function So(e,t){return e?Object.assign(t||{},e):e}function Fo(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=to(e[3]))):(t=So(e,{r:0,g:0,b:0,a:1})).a=to(t.a),t}function Eo(e){return"r"===e.charAt(0)?function(e){const t=No.exec(e);let r,n,s,a=255;if(t){if(t[7]!==r){const e=+t[7];a=t[8]?eo(e):$i(255*e,0,255)}return r=+t[1],n=+t[3],s=+t[5],r=255&(t[2]?eo(r):$i(r,0,255)),n=255&(t[4]?eo(n):$i(n,0,255)),s=255&(t[6]?eo(s):$i(s,0,255)),{r:r,g:n,b:s,a:a}}}(e):bo(e)}class _o{constructor(e){if(e instanceof _o)return e;const t=typeof e;let r;"object"===t?r=Fo(e):"string"===t&&(r=function(e){var t,r=e.length;return"#"===e[0]&&(4===r||5===r?t={r:255&17*so[e[1]],g:255&17*so[e[2]],b:255&17*so[e[3]],a:5===r?17*so[e[4]]:255}:7!==r&&9!==r||(t={r:so[e[1]]<<4|so[e[2]],g:so[e[3]]<<4|so[e[4]],b:so[e[5]]<<4|so[e[6]],a:9===r?so[e[7]]<<4|so[e[8]]:255})),t}(e)||Bo(e)||Eo(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=So(this._rgb);return e&&(e.a=ro(e.a)),e}set rgb(e){this._rgb=Fo(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(ro(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?Ao(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=mo(e),r=t[0],n=no(t[1]),s=no(t[2]);return e.a<255?"hsla(".concat(r,", ").concat(n,"%, ").concat(s,"%, ").concat(ro(e.a),")"):"hsl(".concat(r,", ").concat(n,"%, ").concat(s,"%)")}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,n=e.rgb;let s;const a=t===s?.5:t,i=2*a-1,o=r.a-n.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;s=1-l,r.r=255&l*r.r+s*n.r+.5,r.g=255&l*r.g+s*n.g+.5,r.b=255&l*r.b+s*n.b+.5,r.a=a*r.a+(1-a)*n.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){const n=Co(ro(e.r)),s=Co(ro(e.g)),a=Co(ro(e.b));return{r:to(jo(n+r*(Co(ro(t.r))-n))),g:to(jo(s+r*(Co(ro(t.g))-s))),b:to(jo(a+r*(Co(ro(t.b))-a))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new _o(this.rgb)}alpha(e){return this._rgb.a=to(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Zi(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ko(this._rgb,2,e),this}darken(e){return ko(this._rgb,2,-e),this}saturate(e){return ko(this._rgb,1,e),this}desaturate(e){return ko(this._rgb,1,-e),this}rotate(e){return function(e,t){var r=mo(e);r[0]=xo(r[0]+t),r=go(r),e.r=r[0],e.g=r[1],e.b=r[2]}(this._rgb,e),this}}function Uo(){}const Qo=(()=>{let e=0;return()=>e++})();function Lo(e){return null===e||void 0===e}function Io(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Mo(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Do(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Po(e,t){return Do(e)?e:t}function To(e,t){return"undefined"===typeof e?t:e}const Oo=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ro(e,t,r){if(e&&"function"===typeof e.call)return e.apply(r,t)}function Ho(e,t,r,n){let s,a,i;if(Io(e))if(a=e.length,n)for(s=a-1;s>=0;s--)t.call(r,e[s],s);else for(s=0;s<a;s++)t.call(r,e[s],s);else if(Mo(e))for(i=Object.keys(e),a=i.length,s=0;s<a;s++)t.call(r,e[i[s]],i[s])}function zo(e,t){let r,n,s,a;if(!e||!t||e.length!==t.length)return!1;for(r=0,n=e.length;r<n;++r)if(s=e[r],a=t[r],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Ko(e){if(Io(e))return e.map(Ko);if(Mo(e)){const t=Object.create(null),r=Object.keys(e),n=r.length;let s=0;for(;s<n;++s)t[r[s]]=Ko(e[r[s]]);return t}return e}function Vo(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function qo(e,t,r,n){if(!Vo(e))return;const s=t[e],a=r[e];Mo(s)&&Mo(a)?Go(s,a,n):t[e]=Ko(a)}function Go(e,t,r){const n=Io(t)?t:[t],s=n.length;if(!Mo(e))return e;const a=(r=r||{}).merger||qo;let i;for(let o=0;o<s;++o){if(i=n[o],!Mo(i))continue;const t=Object.keys(i);for(let n=0,s=t.length;n<s;++n)a(t[n],e,i,r)}return e}function Wo(e,t){return Go(e,t,{merger:Jo})}function Jo(e,t,r){if(!Vo(e))return;const n=t[e],s=r[e];Mo(n)&&Mo(s)?Wo(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ko(s))}const Yo={"":e=>e,x:e=>e.x,y:e=>e.y};function Xo(e,t){const r=Yo[t]||(Yo[t]=function(e){const t=function(e){const t=e.split("."),r=[];let n="";for(const s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}(e);return e=>{for(const r of t){if(""===r)break;e=e&&e[r]}return e}}(t));return r(e)}function Zo(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $o=e=>"undefined"!==typeof e,el=e=>"function"===typeof e,tl=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};const rl=Math.PI,nl=2*rl,sl=nl+rl,al=Number.POSITIVE_INFINITY,il=rl/180,ol=rl/2,ll=rl/4,Al=2*rl/3,cl=Math.log10,dl=Math.sign;function ul(e,t,r){return Math.abs(e-t)<r}function hl(e){const t=Math.round(e);e=ul(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(cl(e))),n=e/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function fl(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function ml(e,t,r){let n,s,a;for(n=0,s=e.length;n<s;n++)a=e[n][r],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function pl(e){return e*(rl/180)}function gl(e){return e*(180/rl)}function xl(e){if(!Do(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function bl(e,t){const r=t.x-e.x,n=t.y-e.y,s=Math.sqrt(r*r+n*n);let a=Math.atan2(n,r);return a<-.5*rl&&(a+=nl),{angle:a,distance:s}}function vl(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function yl(e,t){return(e-t+sl)%nl-rl}function wl(e){return(e%nl+nl)%nl}function Bl(e,t,r,n){const s=wl(e),a=wl(t),i=wl(r),o=wl(a-s),l=wl(i-s),A=wl(s-a),c=wl(s-i);return s===a||s===i||n&&a===i||o>l&&A<c}function Nl(e,t,r){return Math.max(t,Math.min(r,e))}function jl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,r)-n&&e<=Math.max(t,r)+n}function Cl(e,t,r){r=r||(r=>e[r]<t);let n,s=e.length-1,a=0;for(;s-a>1;)n=a+s>>1,r(n)?a=n:s=n;return{lo:a,hi:s}}const kl=(e,t,r,n)=>Cl(e,r,n?n=>{const s=e[n][t];return s<r||s===r&&e[n+1][t]===r}:n=>e[n][t]<r),Sl=(e,t,r)=>Cl(e,r,n=>e[n][t]>=r);const Fl=["push","pop","shift","splice","unshift"];function El(e,t){const r=e._chartjs;if(!r)return;const n=r.listeners,s=n.indexOf(t);-1!==s&&n.splice(s,1),n.length>0||(Fl.forEach(t=>{delete e[t]}),delete e._chartjs)}function _l(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Ul="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Ql(e,t){let r=[],n=!1;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];r=a,n||(n=!0,Ul.call(window,()=>{n=!1,e.apply(t,r)}))}}const Ll=e=>"start"===e?"left":"end"===e?"right":"center",Il=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2;function Ml(e,t,r){const n=t.length;let s=0,a=n;if(e._sorted){const{iScale:i,vScale:o,_parsed:l}=e,A=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,c=i.axis,{min:d,max:u,minDefined:h,maxDefined:f}=i.getUserBounds();if(h){if(s=Math.min(kl(l,c,d).lo,r?n:kl(t,c,i.getPixelForValue(d)).lo),A){const e=l.slice(0,s+1).reverse().findIndex(e=>!Lo(e[o.axis]));s-=Math.max(0,e)}s=Nl(s,0,n-1)}if(f){let e=Math.max(kl(l,i.axis,u,!0).hi+1,r?0:kl(t,c,i.getPixelForValue(u),!0).hi+1);if(A){const t=l.slice(e-1).findIndex(e=>!Lo(e[o.axis]));e+=Math.max(0,t)}a=Nl(e,s,n)-s}else a=n-s}return{start:s,count:a}}function Dl(e){const{xScale:t,yScale:r,_scaleRanges:n}=e,s={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!n)return e._scaleRanges=s,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,s),a}const Pl=e=>0===e||1===e,Tl=(e,t,r)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*nl/r),Ol=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*nl/r)+1,Rl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*ol),easeOutSine:e=>Math.sin(e*ol),easeInOutSine:e=>-.5*(Math.cos(rl*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Pl(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Pl(e)?e:Tl(e,.075,.3),easeOutElastic:e=>Pl(e)?e:Ol(e,.075,.3),easeInOutElastic(e){const t=.1125;return Pl(e)?e:e<.5?.5*Tl(2*e,t,.45):.5+.5*Ol(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Rl.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},easeInOutBounce:e=>e<.5?.5*Rl.easeInBounce(2*e):.5*Rl.easeOutBounce(2*e-1)+.5};function Hl(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function zl(e){return Hl(e)?e:new _o(e)}function Kl(e){return Hl(e)?e:new _o(e).saturate(.5).darken(.1).hexString()}const Vl=["x","y","borderWidth","radius","tension"],ql=["color","borderColor","backgroundColor"];const Gl=new Map;function Wl(e,t,r){return function(e,t){t=t||{};const r=e+JSON.stringify(t);let n=Gl.get(r);return n||(n=new Intl.NumberFormat(e,t),Gl.set(r,n)),n}(t,r).format(e)}const Jl={values:e=>Io(e)?e:""+e,numeric(e,t,r){if(0===e)return"0";const n=this.chart.options.locale;let s,a=e;if(r.length>1){const t=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),a=function(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e));return r}(e,r)}const i=cl(Math.abs(a)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Wl(e,n,l)},logarithmic(e,t,r){if(0===e)return"0";const n=r[t].significand||e/Math.pow(10,Math.floor(cl(e)));return[1,2,3,5,10,15].includes(n)||t>.8*r.length?Jl.numeric.call(this,e,t,r):""}};var Yl={formatters:Jl};const Xl=Object.create(null),Zl=Object.create(null);function $l(e,t){if(!t)return e;const r=t.split(".");for(let n=0,s=r.length;n<s;++n){const t=r[n];e=e[t]||(e[t]=Object.create(null))}return e}function eA(e,t,r){return"string"===typeof t?Go($l(e,t),r):Go($l(e,""),t)}class tA{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Kl(t.backgroundColor),this.hoverBorderColor=(e,t)=>Kl(t.borderColor),this.hoverColor=(e,t)=>Kl(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return eA(this,e,t)}get(e){return $l(this,e)}describe(e,t){return eA(Zl,e,t)}override(e,t){return eA(Xl,e,t)}route(e,t,r,n){const s=$l(this,e),a=$l(this,r),i="_"+t;Object.defineProperties(s,{[i]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=a[n];return Mo(e)?Object.assign({},t,e):To(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach(e=>e(this))}}var rA=new tA({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:ql},numbers:{type:"number",properties:Vl}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Yl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function nA(e,t,r,n,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,r.push(s)),a>n&&(n=a),n}function sA(e,t,r,n){let s=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},a=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let i=0;const o=r.length;let l,A,c,d,u;for(l=0;l<o;l++)if(d=r[l],void 0===d||null===d||Io(d)){if(Io(d))for(A=0,c=d.length;A<c;A++)u=d[A],void 0===u||null===u||Io(u)||(i=nA(e,s,a,i,u))}else i=nA(e,s,a,i,d);e.restore();const h=a.length/2;if(h>r.length){for(l=0;l<h;l++)delete s[a[l]];a.splice(0,h)}return i}function aA(e,t,r){const n=e.currentDevicePixelRatio,s=0!==r?Math.max(r/2,.5):0;return Math.round((t-s)*n)/n+s}function iA(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function oA(e,t,r,n){lA(e,t,r,n,null)}function lA(e,t,r,n,s){let a,i,o,l,A,c,d,u;const h=t.pointStyle,f=t.rotation,m=t.radius;let p=(f||0)*il;if(h&&"object"===typeof h&&(a=h.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(r,n),e.rotate(p),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),h){default:s?e.ellipse(r,n,s/2,m,0,0,nl):e.arc(r,n,m,0,nl),e.closePath();break;case"triangle":c=s?s/2:m,e.moveTo(r+Math.sin(p)*c,n-Math.cos(p)*m),p+=Al,e.lineTo(r+Math.sin(p)*c,n-Math.cos(p)*m),p+=Al,e.lineTo(r+Math.sin(p)*c,n-Math.cos(p)*m),e.closePath();break;case"rectRounded":A=.516*m,l=m-A,i=Math.cos(p+ll)*l,d=Math.cos(p+ll)*(s?s/2-A:l),o=Math.sin(p+ll)*l,u=Math.sin(p+ll)*(s?s/2-A:l),e.arc(r-d,n-o,A,p-rl,p-ol),e.arc(r+u,n-i,A,p-ol,p),e.arc(r+d,n+o,A,p,p+ol),e.arc(r-u,n+i,A,p+ol,p+rl),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,c=s?s/2:l,e.rect(r-c,n-l,2*c,2*l);break}p+=ll;case"rectRot":d=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,u=Math.sin(p)*(s?s/2:m),e.moveTo(r-d,n-o),e.lineTo(r+u,n-i),e.lineTo(r+d,n+o),e.lineTo(r-u,n+i),e.closePath();break;case"crossRot":p+=ll;case"cross":d=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,u=Math.sin(p)*(s?s/2:m),e.moveTo(r-d,n-o),e.lineTo(r+d,n+o),e.moveTo(r+u,n-i),e.lineTo(r-u,n+i);break;case"star":d=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,u=Math.sin(p)*(s?s/2:m),e.moveTo(r-d,n-o),e.lineTo(r+d,n+o),e.moveTo(r+u,n-i),e.lineTo(r-u,n+i),p+=ll,d=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,u=Math.sin(p)*(s?s/2:m),e.moveTo(r-d,n-o),e.lineTo(r+d,n+o),e.moveTo(r+u,n-i),e.lineTo(r-u,n+i);break;case"line":i=s?s/2:Math.cos(p)*m,o=Math.sin(p)*m,e.moveTo(r-i,n-o),e.lineTo(r+i,n+o);break;case"dash":e.moveTo(r,n),e.lineTo(r+Math.cos(p)*(s?s/2:m),n+Math.sin(p)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function AA(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function cA(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function dA(e){e.restore()}function uA(e,t,r,n,s){if(!t)return e.lineTo(r.x,r.y);if("middle"===s){const n=(t.x+r.x)/2;e.lineTo(n,t.y),e.lineTo(n,r.y)}else"after"===s!==!!n?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function hA(e,t,r,n){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function fA(e,t,r,n,s){if(s.strikethrough||s.underline){const a=e.measureText(n),i=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=r-a.actualBoundingBoxAscent,A=r+a.actualBoundingBoxDescent,c=s.strikethrough?(l+A)/2:A;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(i,c),e.lineTo(o,c),e.stroke()}}function mA(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function pA(e,t,r,n,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=Io(t)?t:[t],o=a.strokeWidth>0&&""!==a.strokeColor;let l,A;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Lo(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<i.length;++l)A=i[l],a.backdrop&&mA(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Lo(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(A,r,n,a.maxWidth)),e.fillText(A,r,n,a.maxWidth),fA(e,r,n,A,a),n+=Number(s.lineHeight);e.restore()}function gA(e,t){const{x:r,y:n,w:s,h:a,radius:i}=t;e.arc(r+i.topLeft,n+i.topLeft,i.topLeft,1.5*rl,rl,!0),e.lineTo(r,n+a-i.bottomLeft),e.arc(r+i.bottomLeft,n+a-i.bottomLeft,i.bottomLeft,rl,ol,!0),e.lineTo(r+s-i.bottomRight,n+a),e.arc(r+s-i.bottomRight,n+a-i.bottomRight,i.bottomRight,ol,0,!0),e.lineTo(r+s,n+i.topRight),e.arc(r+s-i.topRight,n+i.topRight,i.topRight,0,-ol,!0),e.lineTo(r+i.topLeft,n)}const xA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function vA(e,t){const r=(""+e).match(xA);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}const yA=e=>+e||0;function wA(e,t){const r={},n=Mo(t),s=n?Object.keys(t):t,a=Mo(e)?n?r=>To(e[r],e[t[r]]):t=>e[t]:()=>e;for(const i of s)r[i]=yA(a(i));return r}function BA(e){return wA(e,{top:"y",right:"x",bottom:"y",left:"x"})}function NA(e){return wA(e,["topLeft","topRight","bottomLeft","bottomRight"])}function jA(e){const t=BA(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function CA(e,t){e=e||{},t=t||rA.font;let r=To(e.size,t.size);"string"===typeof r&&(r=parseInt(r,10));let n=To(e.style,t.style);n&&!(""+n).match(bA)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:To(e.family,t.family),lineHeight:vA(To(e.lineHeight,t.lineHeight),r),size:r,style:n,weight:To(e.weight,t.weight),string:""};return s.string=function(e){return!e||Lo(e.size)||Lo(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function kA(e,t,r,n){let s,a,i,o=!0;for(s=0,a=e.length;s<a;++s)if(i=e[s],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),o=!1),void 0!==r&&Io(i)&&(i=i[r%i.length],o=!1),void 0!==i))return n&&!o&&(n.cacheable=!1),i}function SA(e,t){return Object.assign(Object.create(e),t)}function FA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const s=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=OA("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:n,override:n=>FA([n,...e],t,s,r)};return new Proxy(a,{deleteProperty:(t,r)=>(delete t[r],delete t._keys,delete e[0][r],!0),get:(r,n)=>LA(r,n,()=>function(e,t,r,n){let s;for(const a of t)if(s=OA(UA(a,e),r),"undefined"!==typeof s)return QA(e,s)?PA(r,n,e,s):s}(n,t,e,r)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>RA(e).includes(t),ownKeys:e=>RA(e),set(e,t,r){const s=e._storage||(e._storage=n());return e[t]=s[t]=r,delete e._keys,!0}})}function EA(e,t,r,n){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:_A(e,n),setContext:t=>EA(e,t,r,n),override:s=>EA(e.override(s),t,r,n)};return new Proxy(s,{deleteProperty:(t,r)=>(delete t[r],delete e[r],!0),get:(e,t,r)=>LA(e,t,()=>function(e,t,r){const{_proxy:n,_context:s,_subProxy:a,_descriptors:i}=e;let o=n[t];el(o)&&i.isScriptable(t)&&(o=function(e,t,r,n){const{_proxy:s,_context:a,_subProxy:i,_stack:o}=r;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,i||n);o.delete(e),QA(e,l)&&(l=PA(s._scopes,s,e,l));return l}(t,o,e,r));Io(o)&&o.length&&(o=function(e,t,r,n){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=r;if("undefined"!==typeof a.index&&n(e))return t[a.index%t.length];if(Mo(t[0])){const r=t,n=s._scopes.filter(e=>e!==r);t=[];for(const l of r){const r=PA(n,s,e,l);t.push(EA(r,a,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));QA(t,o)&&(o=EA(o,s,a&&a[t],i));return o}(e,t,r)),getOwnPropertyDescriptor:(t,r)=>t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(t,r,n)=>(e[r]=n,delete t[r],!0)})}function _A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:r=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:r,indexable:n,isScriptable:el(r)?r:()=>r,isIndexable:el(n)?n:()=>n}}const UA=(e,t)=>e?e+Zo(t):t,QA=(e,t)=>Mo(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function LA(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=r();return e[t]=n,n}function IA(e,t,r){return el(e)?e(t,r):e}const MA=(e,t)=>!0===e?t:"string"===typeof e?Xo(t,e):void 0;function DA(e,t,r,n,s){for(const a of t){const t=MA(r,a);if(t){e.add(t);const a=IA(t._fallback,r,s);if("undefined"!==typeof a&&a!==r&&a!==n)return a}else if(!1===t&&"undefined"!==typeof n&&r!==n)return null}return!1}function PA(e,t,r,n){const s=t._rootScopes,a=IA(t._fallback,r,n),i=[...e,...s],o=new Set;o.add(n);let l=TA(o,i,r,a||r,n);return null!==l&&(("undefined"===typeof a||a===r||(l=TA(o,i,a,l,n),null!==l))&&FA(Array.from(o),[""],s,a,()=>function(e,t,r){const n=e._getTarget();t in n||(n[t]={});const s=n[t];if(Io(s)&&Mo(r))return r;return s||{}}(t,r,n)))}function TA(e,t,r,n,s){for(;r;)r=DA(e,t,r,n,s);return r}function OA(e,t){for(const r of t){if(!r)continue;const t=r[e];if("undefined"!==typeof t)return t}}function RA(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const r of e)for(const e of Object.keys(r).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function HA(e,t,r,n){const{iScale:s}=e,{key:a="r"}=this._parsing,i=new Array(n);let o,l,A,c;for(o=0,l=n;o<l;++o)A=o+r,c=t[A],i[o]={r:s.parse(Xo(c,a),A)};return i}const zA=Number.EPSILON||1e-14,KA=(e,t)=>t<e.length&&!e[t].skip&&e[t],VA=e=>"x"===e?"y":"x";function qA(e,t,r,n){const s=e.skip?t:e,a=t,i=r.skip?t:r,o=vl(a,s),l=vl(i,a);let A=o/(o+l),c=l/(o+l);A=isNaN(A)?0:A,c=isNaN(c)?0:c;const d=n*A,u=n*c;return{previous:{x:a.x-d*(i.x-s.x),y:a.y-d*(i.y-s.y)},next:{x:a.x+u*(i.x-s.x),y:a.y+u*(i.y-s.y)}}}function GA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const r=VA(t),n=e.length,s=Array(n).fill(0),a=Array(n);let i,o,l,A=KA(e,0);for(i=0;i<n;++i)if(o=l,l=A,A=KA(e,i+1),l){if(A){const e=A[t]-l[t];s[i]=0!==e?(A[r]-l[r])/e:0}a[i]=o?A?dl(s[i-1])!==dl(s[i])?0:(s[i-1]+s[i])/2:s[i-1]:s[i]}!function(e,t,r){const n=e.length;let s,a,i,o,l,A=KA(e,0);for(let c=0;c<n-1;++c)l=A,A=KA(e,c+1),l&&A&&(ul(t[c],0,zA)?r[c]=r[c+1]=0:(s=r[c]/t[c],a=r[c+1]/t[c],o=Math.pow(s,2)+Math.pow(a,2),o<=9||(i=3/Math.sqrt(o),r[c]=s*i*t[c],r[c+1]=a*i*t[c])))}(e,s,a),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=VA(r),s=e.length;let a,i,o,l=KA(e,0);for(let A=0;A<s;++A){if(i=o,o=l,l=KA(e,A+1),!o)continue;const s=o[r],c=o[n];i&&(a=(s-i[r])/3,o["cp1".concat(r)]=s-a,o["cp1".concat(n)]=c-a*t[A]),l&&(a=(l[r]-s)/3,o["cp2".concat(r)]=s+a,o["cp2".concat(n)]=c+a*t[A])}}(e,a,t)}function WA(e,t,r){return Math.max(Math.min(e,r),t)}function JA(e,t,r,n,s){let a,i,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)GA(e,s);else{let r=n?e[e.length-1]:e[0];for(a=0,i=e.length;a<i;++a)o=e[a],l=qA(r,o,e[Math.min(a+1,i-(n?0:1))%i],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,r=o}t.capBezierPoints&&function(e,t){let r,n,s,a,i,o=AA(e[0],t);for(r=0,n=e.length;r<n;++r)i=a,a=o,o=r<n-1&&AA(e[r+1],t),a&&(s=e[r],i&&(s.cp1x=WA(s.cp1x,t.left,t.right),s.cp1y=WA(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=WA(s.cp2x,t.left,t.right),s.cp2y=WA(s.cp2y,t.top,t.bottom)))}(e,r)}function YA(){return"undefined"!==typeof window&&"undefined"!==typeof document}function XA(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ZA(e,t,r){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[r])):n=e,n}const $A=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const ec=["top","right","bottom","left"];function tc(e,t,r){const n={};r=r?"-"+r:"";for(let s=0;s<4;s++){const a=ec[s];n[a]=parseFloat(e[t+"-"+a+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function rc(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:n}=t,s=$A(r),a="border-box"===s.boxSizing,i=tc(s,"padding"),o=tc(s,"border","width"),{x:l,y:A,box:c}=function(e,t){const r=e.touches,n=r&&r.length?r[0]:e,{offsetX:s,offsetY:a}=n;let i,o,l=!1;if(((e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot))(s,a,e.target))i=s,o=a;else{const e=t.getBoundingClientRect();i=n.clientX-e.left,o=n.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,r),d=i.left+(c&&o.left),u=i.top+(c&&o.top);let{width:h,height:f}=t;return a&&(h-=i.width+o.width,f-=i.height+o.height),{x:Math.round((l-d)/h*r.width/n),y:Math.round((A-u)/f*r.height/n)}}const nc=e=>Math.round(10*e)/10;function sc(e,t,r,n){const s=$A(e),a=tc(s,"margin"),i=ZA(s.maxWidth,e,"clientWidth")||al,o=ZA(s.maxHeight,e,"clientHeight")||al,l=function(e,t,r){let n,s;if(void 0===t||void 0===r){const a=e&&XA(e);if(a){const e=a.getBoundingClientRect(),i=$A(a),o=tc(i,"border","width"),l=tc(i,"padding");t=e.width-l.width-o.width,r=e.height-l.height-o.height,n=ZA(i.maxWidth,a,"clientWidth"),s=ZA(i.maxHeight,a,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:n||al,maxHeight:s||al}}(e,t,r);let{width:A,height:c}=l;if("content-box"===s.boxSizing){const e=tc(s,"border","width"),t=tc(s,"padding");A-=t.width+e.width,c-=t.height+e.height}A=Math.max(0,A-a.width),c=Math.max(0,n?A/n:c-a.height),A=nc(Math.min(A,i,l.maxWidth)),c=nc(Math.min(c,o,l.maxHeight)),A&&!c&&(c=nc(A/2));return(void 0!==t||void 0!==r)&&n&&l.height&&c>l.height&&(c=l.height,A=nc(Math.floor(c*n))),{width:A,height:c}}function ac(e,t,r){const n=t||1,s=nc(e.height*n),a=nc(e.width*n);e.height=nc(e.height),e.width=nc(e.width);const i=e.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==n||i.height!==s||i.width!==a)&&(e.currentDevicePixelRatio=n,i.height=s,i.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}const ic=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};YA()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(QN){}return e}();function oc(e,t){const r=function(e,t){return $A(e).getPropertyValue(t)}(e,t),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function lc(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function Ac(e,t,r,n){return{x:e.x+r*(t.x-e.x),y:"middle"===n?r<.5?e.y:t.y:"after"===n?r<1?e.y:t.y:r>0?t.y:e.y}}function cc(e,t,r,n){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},i=lc(e,s,r),o=lc(s,a,r),l=lc(a,t,r),A=lc(i,o,r),c=lc(o,l,r);return lc(A,c,r)}function dc(e,t,r){return e?function(e,t){return{x:r=>e+e+t-r,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,r):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function uc(e,t){let r,n;"ltr"!==t&&"rtl"!==t||(r=e.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=n)}function hc(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function fc(e){return"angle"===e?{between:Bl,compare:yl,normalize:wl}:{between:jl,compare:(e,t)=>e-t,normalize:e=>e}}function mc(e){let{start:t,end:r,count:n,loop:s,style:a}=e;return{start:t%n,end:r%n,loop:s&&(r-t+1)%n===0,style:a}}function pc(e,t,r){if(!r)return[e];const{property:n,start:s,end:a}=r,i=t.length,{compare:o,between:l,normalize:A}=fc(n),{start:c,end:d,loop:u,style:h}=function(e,t,r){const{property:n,start:s,end:a}=r,{between:i,normalize:o}=fc(n),l=t.length;let A,c,{start:d,end:u,loop:h}=e;if(h){for(d+=l,u+=l,A=0,c=l;A<c&&i(o(t[d%l][n]),s,a);++A)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:h,style:e.style}}(e,t,r),f=[];let m,p,g,x=!1,b=null;const v=()=>x||l(s,g,m)&&0!==o(s,g),y=()=>!x||0===o(a,m)||l(a,g,m);for(let w=c,B=c;w<=d;++w)p=t[w%i],p.skip||(m=A(p[n]),m!==g&&(x=l(m,s,a),null===b&&v()&&(b=0===o(m,s)?w:B),null!==b&&y()&&(f.push(mc({start:b,end:w,loop:u,count:i,style:h})),b=null),B=w,g=m));return null!==b&&f.push(mc({start:b,end:d,loop:u,count:i,style:h})),f}function gc(e,t){const r=[],n=e.segments;for(let s=0;s<n.length;s++){const a=pc(n[s],e.points,t);a.length&&r.push(...a)}return r}function xc(e,t,r,n){return n&&n.setContext&&r?function(e,t,r,n){const s=e._chart.getContext(),a=bc(e.options),{_datasetIndex:i,options:{spanGaps:o}}=e,l=r.length,A=[];let c=a,d=t[0].start,u=d;function h(e,t,n,s){const a=o?-1:1;if(e!==t){for(e+=l;r[e%l].skip;)e-=a;for(;r[t%l].skip;)t+=a;e%l!==t%l&&(A.push({start:e%l,end:t%l,loop:n,style:s}),c=s,d=t%l)}}for(const f of t){d=o?d:f.start;let e,t=r[d%l];for(u=d+1;u<=f.end;u++){const a=r[u%l];e=bc(n.setContext(SA(s,{type:"segment",p0:t,p1:a,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:i}))),vc(e,c)&&h(d,u-1,f.loop,c),t=a,c=e}d<u-1&&h(d,u-1,f.loop,c)}return A}(e,t,r,n):t}function bc(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function vc(e,t){if(!t)return!1;const r=[],n=function(e,t){return Hl(t)?(r.includes(t)||r.push(t),r.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function yc(e,t,r){return e.options.clip?e[r]:t[r]}function wc(e,t){const r=t._clip;if(r.disabled)return!1;const n=function(e,t){const{xScale:r,yScale:n}=e;return r&&n?{left:yc(r,t,"left"),right:yc(r,t,"right"),top:yc(n,t,"top"),bottom:yc(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===r.left?0:n.left-(!0===r.left?0:r.left),right:!1===r.right?e.width:n.right+(!0===r.right?0:r.right),top:!1===r.top?0:n.top-(!0===r.top?0:r.top),bottom:!1===r.bottom?e.height:n.bottom+(!0===r.bottom?0:r.bottom)}}class Bc{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,n){const s=t.listeners[n],a=t.duration;s.forEach(n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Ul.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((r,n)=>{if(!r.running||!r.items.length)return;const s=r.items;let a,i=s.length-1,o=!1;for(;i>=0;--i)a=s[i],a._active?(a._total>r.duration&&(r.duration=a._total),a.tick(e),o=!0):(s[i]=s[s.length-1],s.pop());o&&(n.draw(),this._notify(n,r,e,"progress")),s.length||(r.running=!1,this._notify(n,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let n=r.length-1;for(;n>=0;--n)r[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Nc=new Bc;const jc="transparent",Cc={boolean:(e,t,r)=>r>.5?t:e,color(e,t,r){const n=zl(e||jc),s=n.valid&&zl(t||jc);return s&&s.valid?s.mix(n,r).hexString():t},number:(e,t,r)=>e+(t-e)*r};class kc{constructor(e,t,r,n){const s=t[r];n=kA([e.to,n,s,e.from]);const a=kA([e.from,s,n]);this._active=!0,this._fn=e.fn||Cc[e.type||typeof a],this._easing=Rl[e.easing]||Rl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const n=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=kA([e.to,t,n,e.from]),this._from=kA([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,n=this._prop,s=this._from,a=this._loop,i=this._to;let o;if(this._active=s!==i&&(a||t<r),!this._active)return this._target[n]=i,void this._notify(!0);t<0?this._target[n]=s:(o=t/r%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[n]=this._fn(s,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let n=0;n<r.length;n++)r[n][t]()}}class Sc{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Mo(e))return;const t=Object.keys(rA.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const s=e[n];if(!Mo(s))return;const a={};for(const e of t)a[e]=s[e];(Io(s.properties)&&s.properties||[n]).forEach(e=>{e!==n&&r.has(e)||r.set(e,a)})})}_animateOptions(e,t){const r=t.options,n=function(e,t){if(!t)return;let r=e.options;if(!r)return void(e.options=t);r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}}));return r}(e,r);if(!n)return[];const s=this._createAnimations(n,r);return r.$shared&&function(e,t){const r=[],n=Object.keys(t);for(let s=0;s<n.length;s++){const t=e[n[s]];t&&t.active()&&r.push(t.wait())}return Promise.all(r)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,n=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),i=Date.now();let o;for(o=a.length-1;o>=0;--o){const l=a[o];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const A=t[l];let c=s[l];const d=r.get(l);if(c){if(d&&c.active()){c.update(d,A,i);continue}c.cancel()}d&&d.duration?(s[l]=c=new kc(d,e,l,A),n.push(c)):e[l]=A}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(Nc.add(this._chart,r),!0):void 0}}function Fc(e,t){const r=e&&e.options||{},n=r.reverse,s=void 0===r.min?t:0,a=void 0===r.max?t:0;return{start:n?a:s,end:n?s:a}}function Ec(e,t){const r=[],n=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=n.length;s<a;++s)r.push(n[s].index);return r}function _c(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=e.keys,a="single"===n.mode;let i,o,l,A;if(null===t)return;let c=!1;for(i=0,o=s.length;i<o;++i){if(l=+s[i],l===r){if(c=!0,n.all)continue;break}A=e.values[l],Do(A)&&(a||0===t||dl(t)===dl(A))&&(t+=A)}return c||n.all?t:0}function Uc(e,t){const r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function Qc(e,t,r){const n=e[t]||(e[t]={});return n[r]||(n[r]={})}function Lc(e,t,r,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const t=e[s.index];if(r&&t>0||!r&&t<0)return s.index}return null}function Ic(e,t){const{chart:r,_cachedMeta:n}=e,s=r._stacks||(r._stacks={}),{iScale:a,vScale:i,index:o}=n,l=a.axis,A=i.axis,c=function(e,t,r){return"".concat(e.id,".").concat(t.id,".").concat(r.stack||r.type)}(a,i,n),d=t.length;let u;for(let h=0;h<d;++h){const e=t[h],{[l]:r,[A]:a}=e;u=(e._stacks||(e._stacks={}))[A]=Qc(s,c,r),u[o]=a,u._top=Lc(u,i,!0,n.type),u._bottom=Lc(u,i,!1,n.type);(u._visualValues||(u._visualValues={}))[o]=a}}function Mc(e,t){const r=e.scales;return Object.keys(r).filter(e=>r[e].axis===t).shift()}function Dc(e,t){const r=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][r])return;delete t[n][r],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[r]&&delete t[n]._visualValues[r]}}}const Pc=e=>"reset"===e||"none"===e,Tc=(e,t)=>t?e:Object.assign({},e);class Oc{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Uc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Dc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),n=(e,t,r,n)=>"x"===e?t:"r"===e?n:r,s=t.xAxisID=To(r.xAxisID,Mc(e,"x")),a=t.yAxisID=To(r.yAxisID,Mc(e,"y")),i=t.rAxisID=To(r.rAxisID,Mc(e,"r")),o=t.indexAxis,l=t.iAxisID=n(o,s,a,i),A=t.vAxisID=n(o,a,s,i);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&El(this._data,this),e._stacked&&Dc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Mo(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:r,vScale:n}=t,s="x"===r.axis?"x":"y",a="x"===n.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,A,c;for(l=0,A=i.length;l<A;++l)c=i[l],o[l]={[s]:c,[a]:e[c]};return o}(t,e)}else if(r!==t){if(r){El(r,this);const e=this._cachedMeta;Dc(e),e._parsed=[]}t&&Object.isExtensible(t)&&(s=this,(n=t)._chartjs?n._chartjs.listeners.push(s):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),Fl.forEach(e=>{const t="_onData"+Zo(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];const i=r.apply(this,s);return n._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...s)}),i}})}))),this._syncList=[],this._data=t}var n,s}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let n=!1;this._dataCheck();const s=t._stacked;t._stacked=Uc(t.vScale,t),t.stack!==r.stack&&(n=!0,Dc(t),t.stack=r.stack),this._resyncElements(e),(n||s!==t._stacked)&&(Ic(this,t._parsed),t._stacked=Uc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:n}=this,{iScale:s,_stacked:a}=r,i=s.axis;let o,l,A,c=0===e&&t===n.length||r._sorted,d=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=n,r._sorted=!0,A=n;else{A=Io(n[e])?this.parseArrayData(r,n,e,t):Mo(n[e])?this.parseObjectData(r,n,e,t):this.parsePrimitiveData(r,n,e,t);const s=()=>null===l[i]||d&&l[i]<d[i];for(o=0;o<t;++o)r._parsed[o+e]=l=A[o],c&&(s()&&(c=!1),d=l);r._sorted=c}a&&Ic(this,A)}parsePrimitiveData(e,t,r,n){const{iScale:s,vScale:a}=e,i=s.axis,o=a.axis,l=s.getLabels(),A=s===a,c=new Array(n);let d,u,h;for(d=0,u=n;d<u;++d)h=d+r,c[d]={[i]:A||s.parse(l[h],h),[o]:a.parse(t[h],h)};return c}parseArrayData(e,t,r,n){const{xScale:s,yScale:a}=e,i=new Array(n);let o,l,A,c;for(o=0,l=n;o<l;++o)A=o+r,c=t[A],i[o]={x:s.parse(c[0],A),y:a.parse(c[1],A)};return i}parseObjectData(e,t,r,n){const{xScale:s,yScale:a}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(n);let A,c,d,u;for(A=0,c=n;A<c;++A)d=A+r,u=t[d],l[A]={x:s.parse(Xo(u,i),d),y:a.parse(Xo(u,o),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const n=this.chart,s=this._cachedMeta,a=t[e.axis];return _c({keys:Ec(n,!0),values:t._stacks[e.axis]._visualValues},a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,n){const s=r[t.axis];let a=null===s?NaN:s;const i=n&&r._stacks[t.axis];n&&i&&(n.values=i,a=_c(n,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,n=r._parsed,s=r._sorted&&e===r.iScale,a=n.length,i=this._getOtherScale(e),o=((e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:Ec(r,!0),values:null})(t,r,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:c}=function(e){const{min:t,max:r,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?r:Number.POSITIVE_INFINITY}}(i);let d,u;function h(){u=n[d];const t=u[i.axis];return!Do(u[e.axis])||A>t||c<t}for(d=0;d<a&&(h()||(this.updateRangeFromParsed(l,e,u,o),!s));++d);if(s)for(d=a-1;d>=0;--d)if(!h()){this.updateRangeFromParsed(l,e,u,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let n,s,a;for(n=0,s=t.length;n<s;++n)a=t[n][e.axis],Do(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,n=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,r,n,s;return Mo(e)?(t=e.top,r=e.right,n=e.bottom,s=e.left):t=r=n=s=e,{top:t,right:r,bottom:n,left:s,disabled:!1===e}}(To(this.options.clip,function(e,t,r){if(!1===r)return!1;const n=Fc(e,r),s=Fc(t,r);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,n=r.data||[],s=t.chartArea,a=[],i=this._drawStart||0,o=this._drawCount||n.length-i,l=this.options.drawActiveElementsOnTop;let A;for(r.dataset&&r.dataset.draw(e,s,i,o),A=i;A<i+o;++A){const t=n[A];t.hidden||(t.active&&l?a.push(t):t.draw(e,s))}for(A=0;A<a.length;++A)a[A].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const n=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,r){return SA(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=n.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return SA(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=n,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0;const n="active"===t,s=this._cachedDataOpts,a=e+"-"+t,i=s[a],o=this.enableOptionSharing&&$o(r);if(i)return Tc(i,o);const l=this.chart.config,A=l.datasetElementScopeKeys(this._type,e),c=n?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),A),u=Object.keys(rA.elements[e]),h=l.resolveNamedOptions(d,u,()=>this.getContext(r,n,t),c);return h.$shared&&(h.$shared=o,s[a]=Object.freeze(Tc(h,o))),h}_resolveAnimations(e,t,r){const n=this.chart,s=this._cachedDataOpts,a="animation-".concat(t),i=s[a];if(i)return i;let o;if(!1!==n.options.animation){const n=this.chart.config,s=n.datasetAnimationScopeKeys(this._type,t),a=n.getOptionScopes(this.getDataset(),s);o=n.createResolver(a,this.getContext(e,r,t))}const l=new Sc(n,o&&o.animations);return o&&o._cacheable&&(s[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Pc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),n=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==n;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,n){Pc(n)?Object.assign(e,r):this._resolveAnimations(t,n).update(e,r)}updateSharedOptions(e,t,r){e&&!Pc(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,n){e.active=n;const s=this.getStyle(t,n);this._resolveAnimations(t,r,n).update(e,{options:!n&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const n=r.length,s=t.length,a=Math.min(s,n);a&&this.parse(0,a),s>n?this._insertElements(n,s-n,e):s<n&&this._removeElements(s,n-s)}_insertElements(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,s=n.data,a=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=a;i--)e[i]=e[i-t]};for(o(s),i=e;i<a;++i)s[i]=new this.dataElementType;this._parsing&&o(n._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,n){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const n=r._parsed.splice(e,t);r._stacked&&Dc(r,n)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,n]=e;this[t](r,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Rc(e){const t=e.iScale,r=function(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,s=r.length;t<s;t++)n=n.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=_l(n.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let n,s,a,i,o=t._length;const l=()=>{32767!==a&&-32768!==a&&($o(i)&&(o=Math.min(o,Math.abs(a-i)||o)),i=a)};for(n=0,s=r.length;n<s;++n)a=t.getPixelForValue(r[n]),l();for(i=void 0,n=0,s=t.ticks.length;n<s;++n)a=t.getPixelForTick(n),l();return o}function Hc(e,t,r,n){return Io(e)?function(e,t,r,n){const s=r.parse(e[0],n),a=r.parse(e[1],n),i=Math.min(s,a),o=Math.max(s,a);let l=i,A=o;Math.abs(i)>Math.abs(o)&&(l=o,A=i),t[r.axis]=A,t._custom={barStart:l,barEnd:A,start:s,end:a,min:i,max:o}}(e,t,r,n):t[r.axis]=r.parse(e,n),t}function zc(e,t,r,n){const s=e.iScale,a=e.vScale,i=s.getLabels(),o=s===a,l=[];let A,c,d,u;for(A=r,c=r+n;A<c;++A)u=t[A],d={},d[s.axis]=o||s.parse(i[A],A),l.push(Hc(u,d,a,A));return l}function Kc(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Vc(e,t,r,n){let s=t.borderSkipped;const a={};if(!s)return void(e.borderSkipped=a);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:o,reverse:l,top:A,bottom:c}=function(e){let t,r,n,s,a;return e.horizontal?(t=e.base>e.x,r="left",n="right"):(t=e.base<e.y,r="bottom",n="top"),t?(s="end",a="start"):(s="start",a="end"),{start:r,end:n,reverse:t,top:s,bottom:a}}(e);"middle"===s&&r&&(e.enableBorderRadius=!0,(r._top||0)===n?s=A:(r._bottom||0)===n?s=c:(a[qc(c,i,o,l)]=!0,s=A)),a[qc(s,i,o,l)]=!0,e.borderSkipped=a}function qc(e,t,r,n){var s,a,i;return n?(i=r,e=Gc(e=(s=e)===(a=t)?i:s===i?a:s,r,t)):e=Gc(e,t,r),e}function Gc(e,t,r){return"start"===e?t:"end"===e?r:e}function Wc(e,t,r){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===r?.33:0:n}(0,a.A)(Oc,"defaults",{}),(0,a.A)(Oc,"datasetElementType",null),(0,a.A)(Oc,"dataElementType",null);class Jc extends Oc{parsePrimitiveData(e,t,r,n){return zc(e,t,r,n)}parseArrayData(e,t,r,n){return zc(e,t,r,n)}parseObjectData(e,t,r,n){const{iScale:s,vScale:a}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l="x"===s.axis?i:o,A="x"===a.axis?i:o,c=[];let d,u,h,f;for(d=r,u=r+n;d<u;++d)f=t[d],h={},h[s.axis]=s.parse(Xo(f,l),d),c.push(Hc(Xo(f,A),h,a,d));return c}updateRangeFromParsed(e,t,r,n){super.updateRangeFromParsed(e,t,r,n);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:n}=t,s=this.getParsed(e),a=s._custom,i=Kc(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(s[n.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,n){const s="reset"===n,{index:a,_cachedMeta:{vScale:i}}=this,o=i.getBasePixel(),l=i.isHorizontal(),A=this._getRuler(),{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n);for(let u=t;u<t+r;u++){const t=this.getParsed(u),r=s||Lo(t[i.axis])?{base:o,head:o}:this._calculateBarValuePixels(u),h=this._calculateBarIndexPixels(u,A),f=(t._stacks||{})[i.axis],m={horizontal:l,base:r.base,enableBorderRadius:!f||Kc(t._custom)||a===f._top||a===f._bottom,x:l?r.head:h.center,y:l?h.center:r.head,height:l?h.size:Math.abs(r.size),width:l?Math.abs(r.size):h.size};d&&(m.options=c||this.resolveDataElementOptions(u,e[u].active?"active":n));const p=m.options||e[u].options;Vc(m,p,f,a),Wc(m,p,A.ratio),this.updateElement(e[u],u,m,n)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,n=r.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),s=r.options.stacked,a=[],i=this._cachedMeta.controller.getParsed(t),o=i&&i[r.axis],l=e=>{const t=e._parsed.find(e=>e[r.axis]===o),n=t&&t[e.vScale.axis];if(Lo(n)||isNaN(n))return!0};for(const A of n)if((void 0===t||!l(A))&&((!1===s||-1===a.indexOf(A.stack)||void 0===s&&void 0===A.stack)&&a.push(A.stack),A.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[To("x"===this.chart.options.indexAxis?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const n=this._getStacks(e,r),s=void 0!==t?n.indexOf(t):-1;return-1===s?n.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,n=[];let s,a;for(s=0,a=t.data.length;s<a;++s)n.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const i=e.barThickness;return{min:i||Rc(t),pixels:n,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:n},options:{base:s,minBarLength:a}}=this,i=s||0,o=this.getParsed(e),l=o._custom,A=Kc(l);let c,d,u=o[t.axis],h=0,f=r?this.applyStack(t,o,r):u;f!==u&&(h=f-u,f=u),A&&(u=l.barStart,f=l.barEnd-l.barStart,0!==u&&dl(u)!==dl(l.barEnd)&&(h=0),h+=u);const m=Lo(s)||A?h:s;let p=t.getPixelForValue(m);if(c=this.chart.getDataVisibility(e)?t.getPixelForValue(h+f):p,d=c-p,Math.abs(d)<a){d=function(e,t,r){return 0!==e?dl(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}(d,t,i)*a,u===i&&(p-=d/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),h=Math.max(e,s);p=Math.max(Math.min(p,h),l),c=p+d,r&&!A&&(o._stacks[t.axis]._visualValues[n]=t.getValueForPixel(c)-t.getValueForPixel(p))}if(p===t.getPixelForValue(i)){const e=dl(d)*t.getLineWidthForValue(i)/2;p+=e,d-=e}return{size:d,base:p,head:c,center:c+d/2}}_calculateBarIndexPixels(e,t){const r=t.scale,n=this.options,s=n.skipNull,a=To(n.maxBarThickness,1/0);let i,o;const l=this._getAxisCount();if(t.grouped){const r=s?this._getStackCount(e):t.stackCount,A="flex"===n.barThickness?function(e,t,r,n){const s=t.pixels,a=s[e];let i=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=r.categoryPercentage;null===i&&(i=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-i);const A=a-(a-Math.min(i,o))/2*l;return{chunk:Math.abs(o-i)/2*l/n,ratio:r.barPercentage,start:A}}(e,t,n,r*l):function(e,t,r,n){const s=r.barThickness;let a,i;return Lo(s)?(a=t.min*r.categoryPercentage,i=r.barPercentage):(a=s*n,i=1),{chunk:a/n,ratio:i,start:t.pixels[e]-a/2}}(e,t,n,r*l),c="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(To(c,this.getFirstScaleIdForIndexAxis())),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+d;i=A.start+A.chunk*u+A.chunk/2,o=Math.min(a,A.chunk*A.ratio)}else i=r.getPixelForValue(this.getParsed(e)[r.axis],e),o=Math.min(a,t.min*t.ratio);return{base:i-o/2,head:i+o/2,center:i,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,n=r.length;let s=0;for(;s<n;++s)null===this.getParsed(s)[t.axis]||r[s].hidden||r[s].draw(this._ctx)}}(0,a.A)(Jc,"id","bar"),(0,a.A)(Jc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,a.A)(Jc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Yc extends Oc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,n){const s=super.parsePrimitiveData(e,t,r,n);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,t,r,n){const s=super.parseArrayData(e,t,r,n);for(let a=0;a<s.length;a++){const e=t[r+a];s[a]._custom=To(e[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(e,t,r,n){const s=super.parseObjectData(e,t,r,n);for(let a=0;a<s.length;a++){const e=t[r+a];s[a]._custom=To(e&&e.r&&+e.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:s}=t,a=this.getParsed(e),i=n.getLabelForValue(a.x),o=s.getLabelForValue(a.y),l=a._custom;return{label:r[e]||"",value:"("+i+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,n){const s="reset"===n,{iScale:a,vScale:i}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,n),A=a.axis,c=i.axis;for(let d=t;d<t+r;d++){const t=e[d],r=!s&&this.getParsed(d),u={},h=u[A]=s?a.getPixelForDecimal(.5):a.getPixelForValue(r[A]),f=u[c]=s?i.getBasePixel():i.getPixelForValue(r[c]);u.skip=isNaN(h)||isNaN(f),l&&(u.options=o||this.resolveDataElementOptions(d,t.active?"active":n),s&&(u.options.radius=0)),this.updateElement(t,d,u,n)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const s=n.radius;return"active"!==t&&(n.radius=0),n.radius+=To(r&&r._custom,s),n}}(0,a.A)(Yc,"id","bubble"),(0,a.A)(Yc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,a.A)(Yc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Xc extends Oc{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=r;else{let s,a,i=e=>+r[e];if(Mo(r[e])){const{key:e="value"}=this._parsing;i=t=>+Xo(r[t],e)}for(s=e,a=e+t;s<a;++s)n._parsed[s]=i(s)}}_getRotation(){return pl(this.options.rotation-90)}_getCircumference(){return pl(this.options.circumference)}_getRotationExtents(){let e=nl,t=-nl;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const n=this.chart.getDatasetMeta(r).controller,s=n._getRotation(),a=n._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,n=this._cachedMeta,s=n.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,i=Math.max((Math.min(r.width,r.height)-a)/2,0),o=Math.min((l=this.options.cutout,A=i,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/A),1);var l,A;const c=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:m,offsetY:p}=function(e,t,r){let n=1,s=1,a=0,i=0;if(t<nl){const o=e,l=o+t,A=Math.cos(o),c=Math.sin(o),d=Math.cos(l),u=Math.sin(l),h=(e,t,n)=>Bl(e,o,l,!0)?1:Math.max(t,t*r,n,n*r),f=(e,t,n)=>Bl(e,o,l,!0)?-1:Math.min(t,t*r,n,n*r),m=h(0,A,d),p=h(ol,c,u),g=f(rl,A,d),x=f(rl+ol,c,u);n=(m-g)/2,s=(p-x)/2,a=-(m+g)/2,i=-(p+x)/2}return{ratioX:n,ratioY:s,offsetX:a,offsetY:i}}(u,d,o),g=(r.width-a)/h,x=(r.height-a)/f,b=Math.max(Math.min(g,x)/2,0),v=Oo(this.options.radius,b),y=(v-Math.max(v*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*v,this.offsetY=p*v,n.total=this.calculateTotal(),this.outerRadius=v-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,n=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*s/nl)}updateElements(e,t,r,n){const s="reset"===n,a=this.chart,i=a.chartArea,o=a.options.animation,l=(i.left+i.right)/2,A=(i.top+i.bottom)/2,c=s&&o.animateScale,d=c?0:this.innerRadius,u=c?0:this.outerRadius,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(t,n);let m,p=this._getRotation();for(m=0;m<t;++m)p+=this._circumference(m,s);for(m=t;m<t+r;++m){const t=this._circumference(m,s),r=e[m],a={x:l+this.offsetX,y:A+this.offsetY,startAngle:p,endAngle:p+t,circumference:t,outerRadius:u,innerRadius:d};f&&(a.options=h||this.resolveDataElementOptions(m,r.active?"active":n)),p+=t,this.updateElement(r,m,a,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r,n=0;for(r=0;r<t.length;r++){const s=e._parsed[r];null===s||isNaN(s)||!this.chart.getDataVisibility(r)||t[r].hidden||(n+=Math.abs(s))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?nl*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],s=Wl(t._parsed[e],r.options.locale);return{label:n[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let n,s,a,i,o;if(!e)for(n=0,s=r.data.datasets.length;n<s;++n)if(r.isDatasetVisible(n)){a=r.getDatasetMeta(n),e=a.data,i=a.controller;break}if(!e)return 0;for(n=0,s=e.length;n<s;++n)o=i.resolveDataElementOptions(n),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,n=e.length;r<n;++r){const e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(To(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,a.A)(Xc,"id","doughnut"),(0,a.A)(Xc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,a.A)(Xc,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,a.A)(Xc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:n,color:s,useBorderRadius:a,borderRadius:i}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(o),lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:l.borderWidth,strokeStyle:l.borderColor,textAlign:n,pointStyle:r,borderRadius:a&&(i||l.borderRadius),index:o}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class Zc extends Oc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:n=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:i,count:o}=Ml(t,n,a);this._drawStart=i,this._drawCount=o,Dl(t)&&(i=0,o=n.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:l},e),this.updateElements(n,i,o,e)}updateElements(e,t,r,n){const s="reset"===n,{iScale:a,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:A,includeOptions:c}=this._getSharedOptions(t,n),d=a.axis,u=i.axis,{spanGaps:h,segment:f}=this.options,m=fl(h)?h:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||s||"none"===n,g=t+r,x=e.length;let b=t>0&&this.getParsed(t-1);for(let v=0;v<x;++v){const r=e[v],h=p?r:{};if(v<t||v>=g){h.skip=!0;continue}const x=this.getParsed(v),y=Lo(x[u]),w=h[d]=a.getPixelForValue(x[d],v),B=h[u]=s||y?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,x,o):x[u],v);h.skip=isNaN(w)||isNaN(B)||y,h.stop=v>0&&Math.abs(x[d]-b[d])>m,f&&(h.parsed=x,h.raw=l.data[v]),c&&(h.options=A||this.resolveDataElementOptions(v,r.active?"active":n)),p||this.updateElement(r,v,h,n),b=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,a.A)(Zc,"id","line"),(0,a.A)(Zc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,a.A)(Zc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class $c extends Oc{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,n=r.data.labels||[],s=Wl(t._parsed[e].r,r.options.locale);return{label:n[e]||"",value:s}}parseObjectData(e,t,r,n){return HA.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,r)=>{const n=this.getParsed(r).r;!isNaN(n)&&this.chart.getDataVisibility(r)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(n/2,0),a=(s-Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,r,n){const s="reset"===n,a=this.chart,i=a.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,A=o.yCenter,c=o.getIndexAngle(0)-.5*rl;let d,u=c;const h=360/this.countVisibleElements();for(d=0;d<t;++d)u+=this._computeAngle(d,n,h);for(d=t;d<t+r;d++){const t=e[d];let r=u,f=u+this._computeAngle(d,n,h),m=a.getDataVisibility(d)?o.getDistanceFromCenterForValue(this.getParsed(d).r):0;u=f,s&&(i.animateScale&&(m=0),i.animateRotate&&(r=f=c));const p={x:l,y:A,innerRadius:0,outerRadius:m,startAngle:r,endAngle:f,options:this.resolveDataElementOptions(d,t.active?"active":n)};this.updateElement(t,d,p,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?pl(this.resolveDataElementOptions(e,t).angle||r):0}}(0,a.A)($c,"id","polarArea"),(0,a.A)($c,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,a.A)($c,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:n}}=e.legend.options;return t.labels.map((t,s)=>{const a=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ed extends Xc{}(0,a.A)(ed,"id","pie"),(0,a.A)(ed,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class td extends Oc{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,n){return HA.bind(this)(e,t,r,n)}update(e){const t=this._cachedMeta,r=t.dataset,n=t.data||[],s=t.iScale.getLabels();if(r.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===n.length,options:t};this.updateElement(r,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,r,n){const s=this._cachedMeta.rScale,a="reset"===n;for(let i=t;i<t+r;i++){const t=e[i],r=this.resolveDataElementOptions(i,t.active?"active":n),o=s.getPointPositionForValue(i,this.getParsed(i).r),l=a?s.xCenter:o.x,A=a?s.yCenter:o.y,c={x:l,y:A,angle:o.angle,skip:isNaN(l)||isNaN(A),options:r};this.updateElement(t,i,c,n)}}}(0,a.A)(td,"id","radar"),(0,a.A)(td,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,a.A)(td,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class rd extends Oc{getLabelAndValue(e){const t=this._cachedMeta,r=this.chart.data.labels||[],{xScale:n,yScale:s}=t,a=this.getParsed(e),i=n.getLabelForValue(a.x),o=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+i+", "+o+")"}}update(e){const t=this._cachedMeta,{data:r=[]}=t,n=this.chart._animationsDisabled;let{start:s,count:a}=Ml(t,r,n);if(this._drawStart=s,this._drawCount=a,Dl(t)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:a}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=r;const i=this.resolveDatasetElementOptions(e);i.segment=this.options.segment,this.updateElement(s,void 0,{animated:!n,options:i},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,r,n){const s="reset"===n,{iScale:a,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,A=this.resolveDataElementOptions(t,n),c=this.getSharedOptions(A),d=this.includeOptions(n,c),u=a.axis,h=i.axis,{spanGaps:f,segment:m}=this.options,p=fl(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||"none"===n;let x=t>0&&this.getParsed(t-1);for(let b=t;b<t+r;++b){const t=e[b],r=this.getParsed(b),A=g?t:{},f=Lo(r[h]),v=A[u]=a.getPixelForValue(r[u],b),y=A[h]=s||f?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,r,o):r[h],b);A.skip=isNaN(v)||isNaN(y)||f,A.stop=b>0&&Math.abs(r[u]-x[u])>p,m&&(A.parsed=r,A.raw=l.data[b]),d&&(A.options=c||this.resolveDataElementOptions(b,t.active?"active":n)),g||this.updateElement(t,b,A,n),x=r}this.updateSharedOptions(c,n,A)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let r=t.length-1;r>=0;--r)e=Math.max(e,t[r].size(this.resolveDataElementOptions(r))/2);return e>0&&e}const r=e.dataset,n=r.options&&r.options.borderWidth||0;if(!t.length)return n;const s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,s,a)/2}}(0,a.A)(rd,"id","scatter"),(0,a.A)(rd,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,a.A)(rd,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var nd=Object.freeze({__proto__:null,BarController:Jc,BubbleController:Yc,DoughnutController:Xc,LineController:Zc,PieController:ed,PolarAreaController:$c,RadarController:td,ScatterController:rd});function sd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ad{static override(e){Object.assign(ad.prototype,e)}constructor(e){(0,a.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return sd()}parse(){return sd()}format(){return sd()}add(){return sd()}diff(){return sd()}startOf(){return sd()}endOf(){return sd()}}var id=ad;function od(e,t,r,n){const{controller:s,data:a,_sorted:i}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&a.length){const i=o._reversePixels?Sl:kl;if(!n){const n=i(a,t,r);if(l){const{vScale:t}=s._cachedMeta,{_parsed:r}=e,a=r.slice(0,n.lo+1).reverse().findIndex(e=>!Lo(e[t.axis]));n.lo-=Math.max(0,a);const i=r.slice(n.hi).findIndex(e=>!Lo(e[t.axis]));n.hi+=Math.max(0,i)}return n}if(s._sharedOptions){const e=a[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=i(a,t,r-n),s=i(a,t,r+n);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}function ld(e,t,r,n,s){const a=e.getSortedVisibleDatasetMetas(),i=r[t];for(let o=0,l=a.length;o<l;++o){const{index:e,data:r}=a[o],{lo:l,hi:A}=od(a[o],t,i,s);for(let t=l;t<=A;++t){const s=r[t];s.skip||n(s,e,t)}}}function Ad(e,t,r,n,s){const a=[];if(!s&&!e.isPointInArea(t))return a;return ld(e,r,t,function(r,i,o){(s||AA(r,e.chartArea,0))&&r.inRange(t.x,t.y,n)&&a.push({element:r,datasetIndex:i,index:o})},!0),a}function cd(e,t,r,n,s,a){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,n){const s=t?Math.abs(e.x-n.x):0,a=r?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(r);let l=Number.POSITIVE_INFINITY;return ld(e,r,t,function(r,A,c){const d=r.inRange(t.x,t.y,s);if(n&&!d)return;const u=r.getCenterPoint(s);if(!(!!a||e.isPointInArea(u))&&!d)return;const h=o(t,u);h<l?(i=[{element:r,datasetIndex:A,index:c}],l=h):h===l&&i.push({element:r,datasetIndex:A,index:c})}),i}function dd(e,t,r,n,s,a){return a||e.isPointInArea(t)?"r"!==r||n?cd(e,t,r,n,s,a):function(e,t,r,n){let s=[];return ld(e,r,t,function(e,r,a){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],n),{angle:l}=bl(e,{x:t.x,y:t.y});Bl(l,i,o)&&s.push({element:e,datasetIndex:r,index:a})}),s}(e,t,r,s):[]}function ud(e,t,r,n,s){const a=[],i="x"===r?"inXRange":"inYRange";let o=!1;return ld(e,r,t,(e,n,l)=>{e[i]&&e[i](t[r],s)&&(a.push({element:e,datasetIndex:n,index:l}),o=o||e.inRange(t.x,t.y,s))}),n&&!o?[]:a}var hd={evaluateInteractionItems:ld,modes:{index(e,t,r,n){const s=rc(t,e),a=r.axis||"x",i=r.includeInvisible||!1,o=r.intersect?Ad(e,s,a,n,i):dd(e,s,a,!1,n,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,r=e.data[t];r&&!r.skip&&l.push({element:r,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,r,n){const s=rc(t,e),a=r.axis||"xy",i=r.includeInvisible||!1;let o=r.intersect?Ad(e,s,a,n,i):dd(e,s,a,!1,n,i);if(o.length>0){const t=o[0].datasetIndex,r=e.getDatasetMeta(t).data;o=[];for(let e=0;e<r.length;++e)o.push({element:r[e],datasetIndex:t,index:e})}return o},point:(e,t,r,n)=>Ad(e,rc(t,e),r.axis||"xy",n,r.includeInvisible||!1),nearest(e,t,r,n){const s=rc(t,e),a=r.axis||"xy",i=r.includeInvisible||!1;return dd(e,s,a,r.intersect,n,i)},x:(e,t,r,n)=>ud(e,rc(t,e),"x",r.intersect,n),y:(e,t,r,n)=>ud(e,rc(t,e),"y",r.intersect,n)}};const fd=["left","top","right","bottom"];function md(e,t){return e.filter(e=>e.pos===t)}function pd(e,t){return e.filter(e=>-1===fd.indexOf(e.pos)&&e.box.axis===t)}function gd(e,t){return e.sort((e,r)=>{const n=t?r:e,s=t?e:r;return n.weight===s.weight?n.index-s.index:n.weight-s.weight})}function xd(e,t){const r=function(e){const t={};for(const r of e){const{stack:e,pos:n,stackWeight:s}=r;if(!e||!fd.includes(n))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let a,i,o;for(a=0,i=e.length;a<i;++a){o=e[a];const{fullSize:i}=o.box,l=r[o.stack],A=l&&o.stackWeight/l.weight;o.horizontal?(o.width=A?A*n:i&&t.availableWidth,o.height=s):(o.width=n,o.height=A?A*s:i&&t.availableHeight)}return r}function bd(e,t,r,n){return Math.max(e[r],t[r])+Math.max(e[n],t[n])}function vd(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function yd(e,t,r,n){const{pos:s,box:a}=r,i=e.maxPadding;if(!Mo(s)){r.size&&(e[s]-=r.size);const t=n[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?a.height:a.width),r.size=t.size/t.count,e[s]+=r.size}a.getPadding&&vd(i,a.getPadding());const o=Math.max(0,t.outerWidth-bd(i,e,"left","right")),l=Math.max(0,t.outerHeight-bd(i,e,"top","bottom")),A=o!==e.w,c=l!==e.h;return e.w=o,e.h=l,r.horizontal?{same:A,other:c}:{same:c,other:A}}function wd(e,t){const r=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{n[e]=Math.max(t[e],r[e])}),n}return n(e?["left","right"]:["top","bottom"])}function Bd(e,t,r,n){const s=[];let a,i,o,l,A,c;for(a=0,i=e.length,A=0;a<i;++a){o=e[a],l=o.box,l.update(o.width||t.w,o.height||t.h,wd(o.horizontal,t));const{same:i,other:d}=yd(t,r,o,n);A|=i&&s.length,c=c||d,l.fullSize||s.push(o)}return A&&Bd(s,t,r,n)||c}function Nd(e,t,r,n,s){e.top=r,e.left=t,e.right=t+n,e.bottom=r+s,e.width=n,e.height=s}function jd(e,t,r,n){const s=r.padding;let{x:a,y:i}=t;for(const o of e){const e=o.box,l=n[o.stack]||{count:1,placed:0,weight:1},A=o.stackWeight/l.weight||1;if(o.horizontal){const n=t.w*A,a=l.size||e.height;$o(l.start)&&(i=l.start),e.fullSize?Nd(e,s.left,i,r.outerWidth-s.right-s.left,a):Nd(e,t.left+l.placed,i,n,a),l.start=i,l.placed+=n,i=e.bottom}else{const n=t.h*A,i=l.size||e.width;$o(l.start)&&(a=l.start),e.fullSize?Nd(e,a,s.top,i,r.outerHeight-s.bottom-s.top):Nd(e,a,t.top+l.placed,i,n),l.start=a,l.placed+=n,a=e.right}}t.x=a,t.y=i}var Cd={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,n){if(!e)return;const s=jA(e.options.layout.padding),a=Math.max(t-s.width,0),i=Math.max(r-s.height,0),o=function(e){const t=function(e){const t=[];let r,n,s,a,i,o;for(r=0,n=(e||[]).length;r<n;++r)s=e[r],({position:a,options:{stack:i,stackWeight:o=1}}=s),t.push({index:r,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:i&&a+i,stackWeight:o});return t}(e),r=gd(t.filter(e=>e.box.fullSize),!0),n=gd(md(t,"left"),!0),s=gd(md(t,"right")),a=gd(md(t,"top"),!0),i=gd(md(t,"bottom")),o=pd(t,"x"),l=pd(t,"y");return{fullSize:r,leftAndTop:n.concat(a),rightAndBottom:s.concat(l).concat(i).concat(o),chartArea:md(t,"chartArea"),vertical:n.concat(s).concat(l),horizontal:a.concat(i).concat(o)}}(e.boxes),l=o.vertical,A=o.horizontal;Ho(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const c=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:r,padding:s,availableWidth:a,availableHeight:i,vBoxMaxWidth:a/2/c,hBoxMaxHeight:i/2}),u=Object.assign({},s);vd(u,jA(n));const h=Object.assign({maxPadding:u,w:a,h:i,x:s.left,y:s.top},s),f=xd(l.concat(A),d);Bd(o.fullSize,h,d,f),Bd(l,h,d,f),Bd(A,h,d,f)&&Bd(l,h,d,f),function(e){const t=e.maxPadding;function r(r){const n=Math.max(t[r]-e[r],0);return e[r]+=n,n}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}(h),jd(o.leftAndTop,h,d,f),h.x+=h.w,h.y+=h.h,jd(o.rightAndBottom,h,d,f),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Ho(o.chartArea,t=>{const r=t.box;Object.assign(r,e.chartArea),r.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class kd{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,n){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):r)}}isAttached(e){return!0}updateConfig(e){}}class Sd extends kd{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fd="$chartjs",Ed={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_d=e=>null===e||""===e;const Ud=!!ic&&{passive:!0};function Qd(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,Ud)}function Ld(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function Id(e,t,r){const n=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const r of e)t=t||Ld(r.addedNodes,n),t=t&&!Ld(r.removedNodes,n);t&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}function Md(e,t,r){const n=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const r of e)t=t||Ld(r.removedNodes,n),t=t&&!Ld(r.addedNodes,n);t&&r()});return s.observe(document,{childList:!0,subtree:!0}),s}const Dd=new Map;let Pd=0;function Td(){const e=window.devicePixelRatio;e!==Pd&&(Pd=e,Dd.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function Od(e,t,r){const n=e.canvas,s=n&&XA(n);if(!s)return;const a=Ql((e,t)=>{const n=s.clientWidth;r(e,t),n<s.clientWidth&&r()},window),i=new ResizeObserver(e=>{const t=e[0],r=t.contentRect.width,n=t.contentRect.height;0===r&&0===n||a(r,n)});return i.observe(s),function(e,t){Dd.size||window.addEventListener("resize",Td),Dd.set(e,t)}(e,a),i}function Rd(e,t,r){r&&r.disconnect(),"resize"===t&&function(e){Dd.delete(e),Dd.size||window.removeEventListener("resize",Td)}(e)}function Hd(e,t,r){const n=e.canvas,s=Ql(t=>{null!==e.ctx&&r(function(e,t){const r=Ed[e.type]||e.type,{x:n,y:s}=rc(e,t);return{type:r,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==s?s:null}}(t,e))},e);return function(e,t,r){e&&e.addEventListener(t,r,Ud)}(n,t,s),s}class zd extends kd{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(e,t){const r=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[Fd]={initial:{height:n,width:s,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",_d(s)){const t=oc(e,"width");void 0!==t&&(e.width=t)}if(_d(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=oc(e,"height");void 0!==t&&(e.height=t)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Fd])return!1;const r=t[Fd].initial;["height","width"].forEach(e=>{const n=r[e];Lo(n)?t.removeAttribute(e):t.setAttribute(e,n)});const n=r.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[Fd],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),s={attach:Id,detach:Md,resize:Od}[t]||Hd;n[t]=s(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),n=r[t];if(!n)return;({attach:Rd,detach:Rd,resize:Rd}[t]||Qd)(e,t,n),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,n){return sc(e,t,r,n)}isAttached(e){const t=e&&XA(e);return!(!t||!t.isConnected)}}class Kd{constructor(){(0,a.A)(this,"x",void 0),(0,a.A)(this,"y",void 0),(0,a.A)(this,"active",!1),(0,a.A)(this,"options",void 0),(0,a.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return fl(this.x)&&fl(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const n={};return e.forEach(e=>{n[e]=r[e]&&r[e].active()?r[e]._to:this[e]}),n}}function Vd(e,t){const r=e.options.ticks,n=function(e){const t=e.options.offset,r=e._tickSize(),n=e._length/r+(t?0:1),s=e._maxLength/r;return Math.floor(Math.min(n,s))}(e),s=Math.min(r.maxTicksLimit||n,n),a=r.major.enabled?function(e){const t=[];let r,n;for(r=0,n=e.length;r<n;r++)e[r].major&&t.push(r);return t}(t):[],i=a.length,o=a[0],l=a[i-1],A=[];if(i>s)return function(e,t,r,n){let s,a=0,i=r[0];for(n=Math.ceil(n),s=0;s<e.length;s++)s===i&&(t.push(e[s]),a++,i=r[a*n])}(t,A,a,i/s),A;const c=function(e,t,r){const n=function(e){const t=e.length;let r,n;if(t<2)return!1;for(n=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==n)return!1;return n}(e),s=t.length/r;if(!n)return Math.max(s,1);const a=function(e){const t=[],r=Math.sqrt(e);let n;for(n=1;n<r;n++)e%n===0&&(t.push(n),t.push(e/n));return r===(0|r)&&t.push(r),t.sort((e,t)=>e-t).pop(),t}(n);for(let i=0,o=a.length-1;i<o;i++){const e=a[i];if(e>s)return e}return Math.max(s,1)}(a,t,s);if(i>0){let e,r;const n=i>1?Math.round((l-o)/(i-1)):null;for(qd(t,A,c,Lo(n)?0:o-n,o),e=0,r=i-1;e<r;e++)qd(t,A,c,a[e],a[e+1]);return qd(t,A,c,l,Lo(n)?t.length:l+n),A}return qd(t,A,c),A}function qd(e,t,r,n,s){const a=To(n,0),i=Math.min(To(s,e.length),e.length);let o,l,A,c=0;for(r=Math.ceil(r),s&&(o=s-n,r=o/Math.floor(o/r)),A=a;A<0;)c++,A=Math.round(a+c*r);for(l=Math.max(a,0);l<i;l++)l===A&&(t.push(e[l]),c++,A=Math.round(a+c*r))}(0,a.A)(Kd,"defaults",{}),(0,a.A)(Kd,"defaultRoutes",void 0);const Gd=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r,Wd=(e,t)=>Math.min(t||e,e);function Jd(e,t){const r=[],n=e.length/t,s=e.length;let a=0;for(;a<s;a+=n)r.push(e[Math.floor(a)]);return r}function Yd(e,t,r){const n=e.ticks.length,s=Math.min(t,n-1),a=e._startPixel,i=e._endPixel,o=1e-6;let l,A=e.getPixelForTick(s);if(!(r&&(l=1===n?Math.max(A-a,i-A):0===t?(e.getPixelForTick(1)-A)/2:(A-e.getPixelForTick(s-1))/2,A+=s<t?l:-l,A<a-o||A>i+o)))return A}function Xd(e){return e.drawTicks?e.tickLength:0}function Zd(e,t){if(!e.display)return 0;const r=CA(e.font,t),n=jA(e.padding);return(Io(e.text)?e.text.length:1)*r.lineHeight+n.height}function $d(e,t,r){let n=Ll(e);return(r&&"right"!==t||!r&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class eu extends Kd{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:n}=this;return e=Po(e,Number.POSITIVE_INFINITY),t=Po(t,Number.NEGATIVE_INFINITY),r=Po(r,Number.POSITIVE_INFINITY),n=Po(n,Number.NEGATIVE_INFINITY),{min:Po(e,r),max:Po(t,n),minDefined:Do(e),maxDefined:Do(t)}}getMinMax(e){let t,{min:r,max:n,minDefined:s,maxDefined:a}=this.getUserBounds();if(s&&a)return{min:r,max:n};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),s||(r=Math.min(r,t.min)),a||(n=Math.max(n,t.max));return r=a&&r>n?n:r,n=s&&r>n?r:n,{min:Po(r,Po(n,r)),max:Po(n,Po(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ro(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:n,grace:s,ticks:a}=this.options,i=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,r){const{min:n,max:s}=e,a=Oo(t,(s-n)/2),i=(e,t)=>r&&0===e?0:e+t;return{min:i(n,-Math.abs(a)),max:i(s,a)}}(this,s,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?Jd(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Vd(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ro(this.options.afterUpdate,[this])}beforeSetDimensions(){Ro(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ro(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ro(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ro(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,n,s;for(r=0,n=e.length;r<n;r++)s=e[r],s.label=Ro(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ro(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ro(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Wd(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,s=t.maxRotation;let a,i,o,l=n;if(!this._isVisible()||!t.display||n>=s||r<=1||!this.isHorizontal())return void(this.labelRotation=n);const A=this._getLabelSizes(),c=A.widest.width,d=A.highest.height,u=Nl(this.chart.width-c,0,this.maxWidth);a=e.offset?this.maxWidth/r:u/(r-1),c+6>a&&(a=u/(r-(e.offset?.5:1)),i=this.maxHeight-Xd(e.grid)-t.padding-Zd(e.title,this.chart.options.font),o=Math.sqrt(c*c+d*d),l=gl(Math.min(Math.asin(Nl((A.highest.height+6)/a,-1,1)),Math.asin(Nl(i/o,-1,1))-Math.asin(Nl(d/o,-1,1)))),l=Math.max(n,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ro(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ro(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:n,grid:s}}=this,a=this._isVisible(),i=this.isHorizontal();if(a){const a=Zd(n,t.options.font);if(i?(e.width=this.maxWidth,e.height=Xd(s)+a):(e.height=this.maxHeight,e.width=Xd(s)+a),r.display&&this.ticks.length){const{first:t,last:n,widest:s,highest:a}=this._getLabelSizes(),o=2*r.padding,l=pl(this.labelRotation),A=Math.cos(l),c=Math.sin(l);if(i){const t=r.mirror?0:c*s.width+A*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=r.mirror?0:A*s.width+c*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,n,c,A)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,n){const{ticks:{align:s,padding:a},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,A=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;o?l?(c=n*e.width,d=r*t.height):(c=r*e.height,d=n*t.width):"start"===s?d=t.width:"end"===s?c=e.width:"inner"!==s&&(c=e.width/2,d=t.width/2),this.paddingLeft=Math.max((c-i+a)*this.width/(this.width-i),0),this.paddingRight=Math.max((d-A+a)*this.width/(this.width-A),0)}else{let r=t.height/2,n=e.height/2;"start"===s?(r=0,n=e.height):"end"===s&&(r=t.height,n=0),this.paddingTop=r+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ro(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)Lo(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Jd(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:n,_longestTextCache:s}=this,a=[],i=[],o=Math.floor(t/Wd(t,r));let l,A,c,d,u,h,f,m,p,g,x,b=0,v=0;for(l=0;l<t;l+=o){if(d=e[l].label,u=this._resolveTickFontOptions(l),n.font=h=u.string,f=s[h]=s[h]||{data:{},gc:[]},m=u.lineHeight,p=g=0,Lo(d)||Io(d)){if(Io(d))for(A=0,c=d.length;A<c;++A)x=d[A],Lo(x)||Io(x)||(p=nA(n,f.data,f.gc,p,x),g+=m)}else p=nA(n,f.data,f.gc,p,d),g=m;a.push(p),i.push(g),b=Math.max(p,b),v=Math.max(g,v)}!function(e,t){Ho(e,e=>{const r=e.gc,n=r.length/2;let s;if(n>t){for(s=0;s<n;++s)delete e.data[r[s]];r.splice(0,n)}})}(s,t);const y=a.indexOf(b),w=i.indexOf(v),B=e=>({width:a[e]||0,height:i[e]||0});return{first:B(0),last:B(t-1),widest:B(y),highest:B(w),widths:a,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Nl(this._alignToPixels?aA(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function(e,t,r){return SA(e,{tick:r,index:t,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=SA(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=pl(this.labelRotation),r=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,i=s?s.widest.width+a:0,o=s?s.highest.height+a:0;return this.isHorizontal()?o*r>i*n?i/r:o/n:o*n<i*r?o/r:i/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,n=this.options,{grid:s,position:a,border:i}=n,o=s.offset,l=this.isHorizontal(),A=this.ticks.length+(o?1:0),c=Xd(s),d=[],u=i.setContext(this.getContext()),h=u.display?u.width:0,f=h/2,m=function(e){return aA(r,e,h)};let p,g,x,b,v,y,w,B,N,j,C,k;if("top"===a)p=m(this.bottom),y=this.bottom-c,B=p-f,j=m(e.top)+f,k=e.bottom;else if("bottom"===a)p=m(this.top),j=e.top,k=m(e.bottom)-f,y=p+f,B=this.top+c;else if("left"===a)p=m(this.right),v=this.right-c,w=p-f,N=m(e.left)+f,C=e.right;else if("right"===a)p=m(this.left),N=e.left,C=m(e.right)-f,v=p+f,w=this.left+c;else if("x"===t){if("center"===a)p=m((e.top+e.bottom)/2+.5);else if(Mo(a)){const e=Object.keys(a)[0],t=a[e];p=m(this.chart.scales[e].getPixelForValue(t))}j=e.top,k=e.bottom,y=p+f,B=y+c}else if("y"===t){if("center"===a)p=m((e.left+e.right)/2);else if(Mo(a)){const e=Object.keys(a)[0],t=a[e];p=m(this.chart.scales[e].getPixelForValue(t))}v=p-f,w=v-c,N=e.left,C=e.right}const S=To(n.ticks.maxTicksLimit,A),F=Math.max(1,Math.ceil(A/S));for(g=0;g<A;g+=F){const e=this.getContext(g),t=s.setContext(e),n=i.setContext(e),a=t.lineWidth,A=t.color,c=n.dash||[],u=n.dashOffset,h=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],p=t.tickBorderDashOffset;x=Yd(this,g,o),void 0!==x&&(b=aA(r,x,a),l?v=w=N=C=b:y=B=j=k=b,d.push({tx1:v,ty1:y,tx2:w,ty2:B,x1:N,y1:j,x2:C,y2:k,width:a,color:A,borderDash:c,borderDashOffset:u,tickWidth:h,tickColor:f,tickBorderDash:m,tickBorderDashOffset:p}))}return this._ticksLength=A,this._borderValue=p,d}_computeLabelItems(e){const t=this.axis,r=this.options,{position:n,ticks:s}=r,a=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:A,mirror:c}=s,d=Xd(r.grid),u=d+A,h=c?-A:u,f=-pl(this.labelRotation),m=[];let p,g,x,b,v,y,w,B,N,j,C,k,S="middle";if("top"===n)y=this.bottom-h,w=this._getXAxisLabelAlignment();else if("bottom"===n)y=this.top+h,w=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,v=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(d);w=e.textAlign,v=e.x}else if("x"===t){if("center"===n)y=(e.top+e.bottom)/2+u;else if(Mo(n)){const e=Object.keys(n)[0],t=n[e];y=this.chart.scales[e].getPixelForValue(t)+u}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)v=(e.left+e.right)/2-u;else if(Mo(n)){const e=Object.keys(n)[0],t=n[e];v=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===o?S="top":"end"===o&&(S="bottom"));const F=this._getLabelSizes();for(p=0,g=i.length;p<g;++p){x=i[p],b=x.label;const e=s.setContext(this.getContext(p));B=this.getPixelForTick(p)+s.labelOffset,N=this._resolveTickFontOptions(p),j=N.lineHeight,C=Io(b)?b.length:1;const t=C/2,r=e.color,o=e.textStrokeColor,A=e.textStrokeWidth;let d,u=w;if(a?(v=B,"inner"===w&&(u=p===g-1?this.options.reverse?"left":"right":0===p?this.options.reverse?"right":"left":"center"),k="top"===n?"near"===l||0!==f?-C*j+j/2:"center"===l?-F.highest.height/2-t*j+j:-F.highest.height+j/2:"near"===l||0!==f?j/2:"center"===l?F.highest.height/2-t*j:F.highest.height-C*j,c&&(k*=-1),0===f||e.showLabelBackdrop||(v+=j/2*Math.sin(f))):(y=B,k=(1-C)*j/2),e.showLabelBackdrop){const t=jA(e.backdropPadding),r=F.heights[p],n=F.widths[p];let s=k-t.top,a=0-t.left;switch(S){case"middle":s-=r/2;break;case"bottom":s-=r}switch(w){case"center":a-=n/2;break;case"right":a-=n;break;case"inner":p===g-1?a-=n:p>0&&(a-=n/2)}d={left:a,top:s,width:n+t.width,height:r+t.height,color:e.backdropColor}}m.push({label:b,font:N,textOffset:k,options:{rotation:f,color:r,strokeColor:o,strokeWidth:A,textAlign:u,textBaseline:S,translation:[v,y],backdrop:d}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-pl(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:n,padding:s}}=this.options,a=e+s,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?n?(l=this.right+s,"near"===r?o="left":"center"===r?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-a,"near"===r?o="right":"center"===r?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?n?(l=this.left+s,"near"===r?o="right":"center"===r?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+a,"near"===r?o="left":"center"===r?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:n,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,n,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(t=>t.value===e);if(r>=0){return t.setContext(this.getContext(r)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,r=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const i=(e,t,n)=>{n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(t.display)for(s=0,a=n.length;s<a;++s){const e=n[s];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:n}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const i=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,A,c,d;this.isHorizontal()?(l=aA(e,this.left,a)-a/2,A=aA(e,this.right,i)+i/2,c=d=o):(c=aA(e,this.top,a)-a/2,d=aA(e,this.bottom,i)+i/2,l=A=o),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,c),t.lineTo(A,d),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,r=this._computeLabelArea();r&&cA(t,r);const n=this.getLabelItems(e);for(const s of n){const e=s.options,r=s.font;pA(t,s.label,0,s.textOffset,r,e)}r&&dA(t)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:n}}=this;if(!r.display)return;const s=CA(r.font),a=jA(r.padding),i=r.align;let o=s.lineHeight/2;"bottom"===t||"center"===t||Mo(t)?(o+=a.bottom,Io(r.text)&&(o+=s.lineHeight*(r.text.length-1))):o+=a.top;const{titleX:l,titleY:A,maxWidth:c,rotation:d}=function(e,t,r,n){const{top:s,left:a,bottom:i,right:o,chart:l}=e,{chartArea:A,scales:c}=l;let d,u,h,f=0;const m=i-s,p=o-a;if(e.isHorizontal()){if(u=Il(n,a,o),Mo(r)){const e=Object.keys(r)[0],n=r[e];h=c[e].getPixelForValue(n)+m-t}else h="center"===r?(A.bottom+A.top)/2+m-t:Gd(e,r,t);d=o-a}else{if(Mo(r)){const e=Object.keys(r)[0],n=r[e];u=c[e].getPixelForValue(n)-p+t}else u="center"===r?(A.left+A.right)/2-p+t:Gd(e,r,t);h=Il(n,i,s),f="left"===r?-ol:ol}return{titleX:u,titleY:h,maxWidth:d,rotation:f}}(this,o,t,i);pA(e,r.text,0,0,s,{color:r.color,maxWidth:c,rotation:d,textAlign:$d(i,t,n),textBaseline:"middle",translation:[l,A]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=To(e.grid&&e.grid.z,-1),n=To(e.border&&e.border.z,0);return this._isVisible()&&this.draw===eu.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",n=[];let s,a;for(s=0,a=t.length;s<a;++s){const a=t[s];a[r]!==this.id||e&&a.type!==e||n.push(a)}return n}_resolveTickFontOptions(e){return CA(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class tu{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function(e){return"id"in e&&"defaults"in e})(t)&&(r=this.register(t));const n=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in n||(n[s]=e,function(e,t,r){const n=Go(Object.create(null),[r?rA.get(r):{},rA.get(t),e.defaults]);rA.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(r=>{const n=r.split("."),s=n.pop(),a=[e].concat(n).join("."),i=t[r].split("."),o=i.pop(),l=i.join(".");rA.route(a,s,l,o)})}(t,e.defaultRoutes);e.descriptors&&rA.describe(t,e.descriptors)}(e,a,r),this.override&&rA.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,n=this.scope;r in t&&delete t[r],n&&r in rA[n]&&(delete rA[n][r],this.override&&delete Xl[r])}}class ru{constructor(){this.controllers=new tu(Oc,"datasets",!0),this.elements=new tu(Kd,"elements"),this.plugins=new tu(Object,"plugins"),this.scales=new tu(eu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.scales)}_each(e,t,r){[...t].forEach(t=>{const n=r||this._getRegistryForType(t);r||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):Ho(t,t=>{const n=r||this._getRegistryForType(t);this._exec(e,n,t)})})}_exec(e,t,r){const n=Zo(e);Ro(r["before"+n],[],r),t[e](r),Ro(r["after"+n],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+r+".");return n}}var nu=new ru;class su{constructor(){this._init=void 0}notify(e,t,r,n){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const s=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(s,e,t,r);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,r,n){n=n||{};for(const s of e){const e=s.plugin;if(!1===Ro(e[r],[t,n,s.options],e)&&n.cancelable)return!1}return!0}invalidate(){Lo(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,n=To(r.options&&r.options.plugins,{}),s=function(e){const t={},r=[],n=Object.keys(nu.plugins.items);for(let a=0;a<n.length;a++)r.push(nu.getPlugin(n[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const e=s[a];-1===r.indexOf(e)&&(r.push(e),t[e.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==n||t?function(e,t,r,n){let{plugins:s,localIds:a}=t;const i=[],o=e.getContext();for(const l of s){const t=l.id,s=au(r[t],n);null!==s&&i.push({plugin:l,options:iu(e.config,{plugin:l,local:a[t]},s,o)})}return i}(e,s,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,n=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(n(t,r),e,"stop"),this._notify(n(r,t),e,"start")}}function au(e,t){return t||!1!==e?!0===e?{}:e:null}function iu(e,t,r,n){let{plugin:s,local:a}=t;const i=e.pluginScopeKeys(s),o=e.getOptionScopes(r,i);return a&&s.defaults&&o.push(s.defaults),e.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ou(e,t){const r=rA.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function lu(e){if("x"===e||"y"===e||"r"===e)return e}function Au(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function cu(e){if(lu(e))return e;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(const s of r){const t=s.axis||Au(s.position)||e.length>1&&lu(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function du(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function uu(e,t){const r=Xl[e.type]||{scales:{}},n=t.scales||{},s=ou(e.type,t),a=Object.create(null);return Object.keys(n).forEach(t=>{const i=n[t];if(!Mo(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=cu(t,i,function(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(r.length)return du(e,"x",r[0])||du(e,"y",r[0])}return{}}(t,e),rA.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,s),A=r.scales||{};a[t]=Wo(Object.create(null),[{axis:o},i,A[o],A[l]])}),e.data.datasets.forEach(r=>{const s=r.type||e.type,i=r.indexAxis||ou(s,t),o=(Xl[s]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let r=e;return"_index_"===e?r=t:"_value_"===e&&(r="x"===t?"y":"x"),r}(e,i),s=r[t+"AxisID"]||t;a[s]=a[s]||Object.create(null),Wo(a[s],[{axis:t},n[s],o[e]])})}),Object.keys(a).forEach(e=>{const t=a[e];Wo(t,[rA.scales[t.type],rA.scale])}),a}function hu(e){const t=e.options||(e.options={});t.plugins=To(t.plugins,{}),t.scales=uu(e,t)}function fu(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const mu=new Map,pu=new Set;function gu(e,t){let r=mu.get(e);return r||(r=t(),mu.set(e,r),pu.add(r)),r}const xu=(e,t,r)=>{const n=Xo(t,r);void 0!==n&&e.add(n)};class bu{constructor(e){this._config=function(e){return(e=e||{}).data=fu(e.data),hu(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fu(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hu(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gu(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return gu("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return gu("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return gu("".concat(r,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let n=r.get(e);return n&&!t||(n=new Map,r.set(e,n)),n}getOptionScopes(e,t,r){const{options:n,type:s}=this,a=this._cachedScopes(e,r),i=a.get(t);if(i)return i;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>xu(o,e,t))),t.forEach(e=>xu(o,n,e)),t.forEach(e=>xu(o,Xl[s]||{},e)),t.forEach(e=>xu(o,rA,e)),t.forEach(e=>xu(o,Zl,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),pu.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Xl[t]||{},rA.datasets[t]||{},{type:t},rA,Zl]}resolveNamedOptions(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const s={$shared:!0},{resolver:a,subPrefixes:i}=vu(this._resolverCache,e,n);let o=a;if(function(e,t){const{isScriptable:r,isIndexable:n}=_A(e);for(const s of t){const t=r(s),a=n(s),i=(a||t)&&e[s];if(t&&(el(i)||yu(i))||a&&Io(i))return!0}return!1}(a,t)){s.$shared=!1;o=EA(a,r=el(r)?r():r,this.createResolver(e,r,i))}for(const l of t)s[l]=o[l];return s}createResolver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:s}=vu(this._resolverCache,e,r);return Mo(t)?EA(s,t,void 0,n):s}}function vu(e,t,r){let n=e.get(t);n||(n=new Map,e.set(t,n));const s=r.join();let a=n.get(s);if(!a){a={resolver:FA(t,r),subPrefixes:r.filter(e=>!e.toLowerCase().includes("hover"))},n.set(s,a)}return a}const yu=e=>Mo(e)&&Object.getOwnPropertyNames(e).some(t=>el(e[t]));const wu=["top","bottom","left","right","chartArea"];function Bu(e,t){return"top"===e||"bottom"===e||-1===wu.indexOf(e)&&"x"===t}function Nu(e,t){return function(r,n){return r[e]===n[e]?r[t]-n[t]:r[e]-n[e]}}function ju(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Ro(r&&r.onComplete,[e],t)}function Cu(e){const t=e.chart,r=t.options.animation;Ro(r&&r.onProgress,[e],t)}function ku(e){return YA()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Su={},Fu=e=>{const t=ku(e);return Object.values(Su).filter(e=>e.canvas===t).pop()};function Eu(e,t,r){const n=Object.keys(e);for(const s of n){const n=+s;if(n>=t){const a=e[s];delete e[s],(r>0||n>t)&&(e[n+r]=a)}}}class _u{static register(){nu.add(...arguments),Uu()}static unregister(){nu.remove(...arguments),Uu()}constructor(e,t){const r=this.config=new bu(t),n=ku(e),s=Fu(n);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(e){return!YA()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Sd:zd}(n)),this.platform.updateConfig(r);const i=this.platform.acquireContext(n,a.aspectRatio),o=i&&i.canvas,l=o&&o.height,A=o&&o.width;this.id=Qo(),this.ctx=i,this.canvas=o,this.width=A,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new su,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let r;return function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t?(clearTimeout(r),r=setTimeout(e,t,s)):e.apply(this,s),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],Su[this.id]=this,i&&o?(Nc.listen(this,"complete",ju),Nc.listen(this,"progress",Cu),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:n,_aspectRatio:s}=this;return Lo(e)?t&&s?s:n?r/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return nu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ac(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iA(this.canvas,this.ctx),this}stop(){return Nc.stop(this),this}resize(e,t){Nc.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,n=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,s),i=r.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ac(this,i,!0)&&(this.notifyPlugins("resize",{size:a}),Ro(r.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){Ho(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,n=Object.keys(r).reduce((e,t)=>(e[t]=!1,e),{});let s=[];t&&(s=s.concat(Object.keys(t).map(e=>{const r=t[e],n=cu(e,r),s="r"===n,a="x"===n;return{options:r,dposition:s?"chartArea":a?"bottom":"left",dtype:s?"radialLinear":a?"category":"linear"}}))),Ho(s,t=>{const s=t.options,a=s.id,i=cu(a,s),o=To(s.type,t.dtype);void 0!==s.position&&Bu(s.position,i)===Bu(t.dposition)||(s.position=t.dposition),n[a]=!0;let l=null;if(a in r&&r[a].type===o)l=r[a];else{l=new(nu.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),r[l.id]=l}l.init(s,e)}),Ho(n,(e,t)=>{e||delete r[t]}),Ho(r,e=>{Cd.configure(this,e,e.options),Cd.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((e,t)=>e.index-t.index),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Nu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,r)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,n;for(this._removeUnreferencedMetasets(),r=0,n=t.length;r<n;r++){const n=t[r];let s=this.getDatasetMeta(r);const a=n.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(r),s=this.getDatasetMeta(r)),s.type=a,s.indexAxis=n.indexAxis||ou(a,this.options),s.order=n.order||0,s.index=r,s.label=""+n.label,s.visible=this.isDatasetVisible(r),s.controller)s.controller.updateIndex(r),s.controller.linkScales();else{const t=nu.getController(a),{datasetElementType:n,dataElementType:i}=rA.datasets[a];Object.assign(t,{dataElementType:nu.getElement(i),datasetElementType:n&&nu.getElement(n)}),s.controller=new t(this,r),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){Ho(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,A=this.data.datasets.length;l<A;l++){const{controller:e}=this.getDatasetMeta(l),t=!n&&-1===s.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),n||Ho(s,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Nu("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){Ho(this.scales,e=>{Cd.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);tl(t,r)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:n,count:s}of t){Eu(e,n,"_removeElements"===r?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),n=r(0);for(let s=1;s<t;s++)if(!tl(n,r(s)))return;return Array.from(n).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Cd.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Ho(this.boxes,e=>{r&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,el(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),n={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(r.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Nc.has(this)?this.attached&&!Nc.running(this)&&Nc.start(this):(this.draw(),ju({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let n,s;for(n=0,s=t.length;n<s;++n){const s=t[n];e&&!s.visible||r.push(s)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},n=wc(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(n&&cA(t,n),e.controller.draw(),n&&dA(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return AA(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,n){const s=hd.modes[t];return"function"===typeof s?s(this,e,r,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let n=r.filter(e=>e&&e._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(n)),n}getContext(){return this.$context||(this.$context=SA(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"===typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const n=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,n);$o(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Nc.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),iA(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Su[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};Ho(this.options.events,e=>r(e,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(r,n)=>{t.addEventListener(this,r,n),e[r]=n},n=(r,n)=>{e[r]&&(t.removeEventListener(this,r,n),delete e[r])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const i=()=>{n("attach",i),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,n("resize",s),this._stop(),this._resize(0,0),r("attach",i)},t.isAttached(this.canvas)?i():a()}unbindEvents(){Ho(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ho(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const n=r?"set":"remove";let s,a,i,o;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+n+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){a=e[i];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(e=>{let{datasetIndex:t,index:r}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[r],index:r}});!zo(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,r){const n=this.options.hover,s=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=s(t,e),i=r?e:s(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),i.length&&n.mode&&this.updateHoverStyle(i,n.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,n))return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,n),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:n=[],options:s}=this,a=t,i=this._getActiveElements(e,n,r,a),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,r,n){return r&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,r,o);r&&(this._lastEvent=null,Ro(s.onHover,[e,i,this],this),o&&Ro(s.onClick,[e,i,this],this));const A=!zo(i,n);return(A||t)&&(this._active=i,this._updateHoverStyles(i,n,t)),this._lastEvent=l,A}_getActiveElements(e,t,r,n){if("mouseout"===e.type)return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,n)}}function Uu(){return Ho(_u.instances,e=>e._plugins.invalidate())}function Qu(e,t,r,n){const s=wA(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(r-t)/2,i=Math.min(a,n*t/2),o=e=>{const t=(r-Math.min(a,e))*n/2;return Nl(e,0,Math.min(a,t))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:Nl(s.innerStart,0,i),innerEnd:Nl(s.innerEnd,0,i)}}function Lu(e,t,r,n){return{x:r+e*Math.cos(t),y:n+e*Math.sin(t)}}function Iu(e,t,r,n,s,a){const{x:i,y:o,startAngle:l,pixelMargin:A,innerRadius:c}=t,d=Math.max(t.outerRadius+n+r-A,0),u=c>0?c+n+r+A:0;let h=0;const f=s-l;if(n){const e=((c>0?c-n:0)+(d>0?d-n:0))/2;h=(f-(0!==e?f*e/(e+n):f))/2}const m=(f-Math.max(.001,f*d-r/rl)/d)/2,p=l+m+h,g=s-m-h,{outerStart:x,outerEnd:b,innerStart:v,innerEnd:y}=Qu(t,u,d,g-p),w=d-x,B=d-b,N=p+x/w,j=g-b/B,C=u+v,k=u+y,S=p+v/C,F=g-y/k;if(e.beginPath(),a){const t=(N+j)/2;if(e.arc(i,o,d,N,t),e.arc(i,o,d,t,j),b>0){const t=Lu(B,j,i,o);e.arc(t.x,t.y,b,j,g+ol)}const r=Lu(k,g,i,o);if(e.lineTo(r.x,r.y),y>0){const t=Lu(k,F,i,o);e.arc(t.x,t.y,y,g+ol,F+Math.PI)}const n=(g-y/u+(p+v/u))/2;if(e.arc(i,o,u,g-y/u,n,!0),e.arc(i,o,u,n,p+v/u,!0),v>0){const t=Lu(C,S,i,o);e.arc(t.x,t.y,v,S+Math.PI,p-ol)}const s=Lu(w,p,i,o);if(e.lineTo(s.x,s.y),x>0){const t=Lu(w,N,i,o);e.arc(t.x,t.y,x,p-ol,N)}}else{e.moveTo(i,o);const t=Math.cos(N)*d+i,r=Math.sin(N)*d+o;e.lineTo(t,r);const n=Math.cos(j)*d+i,s=Math.sin(j)*d+o;e.lineTo(n,s)}e.closePath()}function Mu(e,t,r,n,s){const{fullCircles:a,startAngle:i,circumference:o,options:l}=t,{borderWidth:A,borderJoinStyle:c,borderDash:d,borderDashOffset:u,borderRadius:h}=l,f="inner"===l.borderAlign;if(!A)return;e.setLineDash(d||[]),e.lineDashOffset=u,f?(e.lineWidth=2*A,e.lineJoin=c||"round"):(e.lineWidth=A,e.lineJoin=c||"bevel");let m=t.endAngle;if(a){Iu(e,t,r,n,m,s);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(m=i+(o%nl||nl))}f&&function(e,t,r){const{startAngle:n,pixelMargin:s,x:a,y:i,outerRadius:o,innerRadius:l}=t;let A=s/o;e.beginPath(),e.arc(a,i,o,n-A,r+A),l>s?(A=s/l,e.arc(a,i,l,r+A,n-A,!0)):e.arc(a,i,s,r+ol,n-ol),e.closePath(),e.clip()}(e,t,m),l.selfJoin&&m-i>=rl&&0===h&&"miter"!==c&&function(e,t,r){const{startAngle:n,x:s,y:a,outerRadius:i,innerRadius:o,options:l}=t,{borderWidth:A,borderJoinStyle:c}=l,d=Math.min(A/i,wl(n-r));if(e.beginPath(),e.arc(s,a,i-A/2,n+d/2,r-d/2),o>0){const t=Math.min(A/o,wl(n-r));e.arc(s,a,o+A/2,r-t/2,n+t/2,!0)}else{const t=Math.min(A/2,i*wl(n-r));if("round"===c)e.arc(s,a,t,r-rl/2,n+rl/2,!0);else if("bevel"===c){const i=2*t*t,o=-i*Math.cos(r+rl/2)+s,l=-i*Math.sin(r+rl/2)+a,A=i*Math.cos(n+rl/2)+s,c=i*Math.sin(n+rl/2)+a;e.lineTo(o,l),e.lineTo(A,c)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,m),a||(Iu(e,t,r,n,m,s),e.stroke())}(0,a.A)(_u,"defaults",rA),(0,a.A)(_u,"instances",Su),(0,a.A)(_u,"overrides",Xl),(0,a.A)(_u,"registry",nu),(0,a.A)(_u,"version","4.5.1"),(0,a.A)(_u,"getChart",Fu);class Du extends Kd{constructor(e){super(),(0,a.A)(this,"circumference",void 0),(0,a.A)(this,"endAngle",void 0),(0,a.A)(this,"fullCircles",void 0),(0,a.A)(this,"innerRadius",void 0),(0,a.A)(this,"outerRadius",void 0),(0,a.A)(this,"pixelMargin",void 0),(0,a.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.getProps(["x","y"],r),{angle:s,distance:a}=bl(n,{x:e,y:t}),{startAngle:i,endAngle:o,innerRadius:l,outerRadius:A,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),d=(this.options.spacing+this.options.borderWidth)/2,u=To(c,o-i),h=Bl(s,i,o)&&i!==o,f=u>=nl||h,m=jl(a,l+d,A+d);return f&&m}getCenterPoint(e){const{x:t,y:r,startAngle:n,endAngle:s,innerRadius:a,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,A=(n+s)/2,c=(a+i+l+o)/2;return{x:t+Math.cos(A)*c,y:r+Math.sin(A)*c}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,n=(t.offset||0)/4,s=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>nl?Math.floor(r/nl):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*n,Math.sin(i)*n);const o=n*(1-Math.sin(Math.min(rl,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,r,n,s){const{fullCircles:a,startAngle:i,circumference:o}=t;let l=t.endAngle;if(a){Iu(e,t,r,n,l,s);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=i+(o%nl||nl))}Iu(e,t,r,n,l,s),e.fill()}(e,this,o,s,a),Mu(e,this,o,s,a),e.restore()}}function Pu(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=To(r.borderCapStyle,t.borderCapStyle),e.setLineDash(To(r.borderDash,t.borderDash)),e.lineDashOffset=To(r.borderDashOffset,t.borderDashOffset),e.lineJoin=To(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=To(r.borderWidth,t.borderWidth),e.strokeStyle=To(r.borderColor,t.borderColor)}function Tu(e,t,r){e.lineTo(r.x,r.y)}function Ou(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:s=0,end:a=n-1}=r,{start:i,end:o}=t,l=Math.max(s,i),A=Math.min(a,o),c=s<i&&a<i||s>o&&a>o;return{count:n,start:l,loop:t.loop,ilen:A<l&&!c?n+A-l:A-l}}function Ru(e,t,r,n){const{points:s,options:a}=t,{count:i,start:o,loop:l,ilen:A}=Ou(s,r,n),c=function(e){return e.stepped?uA:e.tension||"monotone"===e.cubicInterpolationMode?hA:Tu}(a);let d,u,h,{move:f=!0,reverse:m}=n||{};for(d=0;d<=A;++d)u=s[(o+(m?A-d:d))%i],u.skip||(f?(e.moveTo(u.x,u.y),f=!1):c(e,h,u,m,a.stepped),h=u);return l&&(u=s[(o+(m?A:0))%i],c(e,h,u,m,a.stepped)),!!l}function Hu(e,t,r,n){const s=t.points,{count:a,start:i,ilen:o}=Ou(s,r,n),{move:l=!0,reverse:A}=n||{};let c,d,u,h,f,m,p=0,g=0;const x=e=>(i+(A?o-e:e))%a,b=()=>{h!==f&&(e.lineTo(p,f),e.lineTo(p,h),e.lineTo(p,m))};for(l&&(d=s[x(0)],e.moveTo(d.x,d.y)),c=0;c<=o;++c){if(d=s[x(c)],d.skip)continue;const t=d.x,r=d.y,n=0|t;n===u?(r<h?h=r:r>f&&(f=r),p=(g*p+t)/++g):(b(),e.lineTo(t,r),u=n,g=0,h=f=r),m=r}b()}function zu(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!r?Hu:Ru}(0,a.A)(Du,"id","arc"),(0,a.A)(Du,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),(0,a.A)(Du,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,a.A)(Du,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Ku="function"===typeof Path2D;function Vu(e,t,r,n){Ku&&!t.options.segment?function(e,t,r,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,r,n)&&s.closePath()),Pu(e,t.options),e.stroke(s)}(e,t,r,n):function(e,t,r,n){const{segments:s,options:a}=t,i=zu(t);for(const o of s)Pu(e,a,o.style),e.beginPath(),i(e,t,o,{start:r,end:r+n-1})&&e.closePath(),e.stroke()}(e,t,r,n)}class qu extends Kd{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){const n=r.spanGaps?this._loop:this._fullLoop;JA(this._points,r,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const r=e.points,n=e.options.spanGaps,s=r.length;if(!s)return[];const a=!!e._loop,{start:i,end:o}=function(e,t,r,n){let s=0,a=t-1;if(r&&!n)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,r&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}(r,s,a,n);return xc(e,!0===n?[{start:i,end:o,loop:a}]:function(e,t,r,n){const s=e.length,a=[];let i,o=t,l=e[t];for(i=t+1;i<=r;++i){const r=e[i%s];r.skip||r.stop?l.skip||(n=!1,a.push({start:t%s,end:(i-1)%s,loop:n}),t=o=r.stop?i:null):(o=i,l.skip&&(t=i)),l=r}return null!==o&&a.push({start:t%s,end:o%s,loop:n}),a}(r,i,o<i?o+s:o,!!e._fullLoop&&0===i&&o===s-1),r,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,n=e[t],s=this.points,a=gc(this,{property:t,start:n,end:n});if(!a.length)return;const i=[],o=function(e){return e.stepped?Ac:e.tension||"monotone"===e.cubicInterpolationMode?cc:lc}(r);let l,A;for(l=0,A=a.length;l<A;++l){const{start:A,end:c}=a[l],d=s[A],u=s[c];if(d===u){i.push(d);continue}const h=o(d,u,Math.abs((n-d[t])/(u[t]-d[t])),r.stepped);h[t]=e[t],i.push(h)}return 1===i.length?i[0]:i}pathSegment(e,t,r){return zu(this)(e,this,t,r)}path(e,t,r){const n=this.segments,s=zu(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const i of n)a&=s(e,this,i,{start:t,end:t+r-1});return!!a}draw(e,t,r,n){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Vu(e,this,r,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Gu(e,t,r,n){const s=e.options,{[r]:a}=e.getProps([r],n);return Math.abs(t-a)<s.radius+s.hitRadius}(0,a.A)(qu,"id","line"),(0,a.A)(qu,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,a.A)(qu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,a.A)(qu,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Wu extends Kd{constructor(e){super(),(0,a.A)(this,"parsed",void 0),(0,a.A)(this,"skip",void 0),(0,a.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const n=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return Gu(this,e,"x",t)}inYRange(e,t){return Gu(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const r=this.options;this.skip||r.radius<.1||!AA(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,oA(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Ju(e,t){const{x:r,y:n,base:s,width:a,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,A,c,d;return e.horizontal?(d=i/2,o=Math.min(r,s),l=Math.max(r,s),A=n-d,c=n+d):(d=a/2,o=r-d,l=r+d,A=Math.min(n,s),c=Math.max(n,s)),{left:o,top:A,right:l,bottom:c}}function Yu(e,t,r,n){return e?0:Nl(t,r,n)}function Xu(e){const t=Ju(e),r=t.right-t.left,n=t.bottom-t.top,s=function(e,t,r){const n=e.options.borderWidth,s=e.borderSkipped,a=BA(n);return{t:Yu(s.top,a.top,0,r),r:Yu(s.right,a.right,0,t),b:Yu(s.bottom,a.bottom,0,r),l:Yu(s.left,a.left,0,t)}}(e,r/2,n/2),a=function(e,t,r){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=NA(s),i=Math.min(t,r),o=e.borderSkipped,l=n||Mo(s);return{topLeft:Yu(!l||o.top||o.left,a.topLeft,0,i),topRight:Yu(!l||o.top||o.right,a.topRight,0,i),bottomLeft:Yu(!l||o.bottom||o.left,a.bottomLeft,0,i),bottomRight:Yu(!l||o.bottom||o.right,a.bottomRight,0,i)}}(e,r/2,n/2);return{outer:{x:t.left,y:t.top,w:r,h:n,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:r-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function Zu(e,t,r,n){const s=null===t,a=null===r,i=e&&!(s&&a)&&Ju(e,n);return i&&(s||jl(t,i.left,i.right))&&(a||jl(r,i.top,i.bottom))}function $u(e,t){e.rect(t.x,t.y,t.w,t.h)}function eh(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==r.x?-t:0,s=e.y!==r.y?-t:0,a=(e.x+e.w!==r.x+r.w?t:0)-n,i=(e.y+e.h!==r.y+r.h?t:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+a,h:e.h+i,radius:e.radius}}(0,a.A)(Wu,"id","point"),(0,a.A)(Wu,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,a.A)(Wu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class th extends Kd{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:n}}=this,{inner:s,outer:a}=Xu(this),i=(o=a.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?gA:$u;var o;e.save(),a.w===s.w&&a.h===s.h||(e.beginPath(),i(e,eh(a,t,s)),e.clip(),i(e,eh(s,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),i(e,eh(s,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,r){return Zu(this,e,t,r)}inXRange(e,t){return Zu(this,e,null,t)}inYRange(e,t){return Zu(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:n,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+n)/2:t,y:s?r:(r+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,a.A)(th,"id","bar"),(0,a.A)(th,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,a.A)(th,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var rh=Object.freeze({__proto__:null,ArcElement:Du,BarElement:th,LineElement:qu,PointElement:Wu});const nh=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],sh=nh.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function ah(e){return nh[e%nh.length]}function ih(e){return sh[e%sh.length]}function oh(e){let t=0;return(r,n)=>{const s=e.getDatasetMeta(n).controller;s instanceof Xc?t=function(e,t){return e.backgroundColor=e.data.map(()=>ah(t++)),t}(r,t):s instanceof $c?t=function(e,t){return e.backgroundColor=e.data.map(()=>ih(t++)),t}(r,t):s&&(t=function(e,t){return e.borderColor=ah(t),e.backgroundColor=ih(t),++t}(r,t))}}function lh(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var Ah={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,r){if(!r.enabled)return;const{data:{datasets:n},options:s}=e.config,{elements:a}=s,i=lh(n)||(o=s)&&(o.borderColor||o.backgroundColor)||a&&lh(a)||"rgba(0,0,0,0.1)"!==rA.borderColor||"rgba(0,0,0,0.1)"!==rA.backgroundColor;var o;if(!r.forceOverride&&i)return;const l=oh(e);n.forEach(l)}};function ch(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function dh(e){e.data.datasets.forEach(e=>{ch(e)})}var uh={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,r)=>{if(!r.enabled)return void dh(e);const n=e.width;e.data.datasets.forEach((t,s)=>{const{_data:a,indexAxis:i}=t,l=e.getDatasetMeta(s),A=a||t.data;if("y"===kA([i,e.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const c=e.scales[l.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:d,count:u}=function(e,t){const r=t.length;let n,s=0;const{iScale:a}=e,{min:i,max:o,minDefined:l,maxDefined:A}=a.getUserBounds();return l&&(s=Nl(kl(t,a.axis,i).lo,0,r-1)),n=A?Nl(kl(t,a.axis,o).hi+1,s,r)-s:r-s,{start:s,count:n}}(l,A);if(u<=(r.threshold||4*n))return void ch(t);let h;switch(Lo(a)&&(t._data=A,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),r.algorithm){case"lttb":h=function(e,t,r,n,s){const a=s.samples||n;if(a>=r)return e.slice(t,t+r);const i=[],o=(r-2)/(a-2);let l=0;const A=t+r-1;let c,d,u,h,f,m=t;for(i[l++]=e[m],c=0;c<a-2;c++){let n,s=0,a=0;const A=Math.floor((c+1)*o)+1+t,p=Math.min(Math.floor((c+2)*o)+1,r)+t,g=p-A;for(n=A;n<p;n++)s+=e[n].x,a+=e[n].y;s/=g,a/=g;const x=Math.floor(c*o)+1+t,b=Math.min(Math.floor((c+1)*o)+1,r)+t,{x:v,y:y}=e[m];for(u=h=-1,n=x;n<b;n++)h=.5*Math.abs((v-s)*(e[n].y-y)-(v-e[n].x)*(a-y)),h>u&&(u=h,d=e[n],f=n);i[l++]=d,m=f}return i[l++]=e[A],i}(A,d,u,n,r);break;case"min-max":h=function(e,t,r,n){let s,a,i,l,A,c,d,u,h,f,m=0,p=0;const g=[],x=t+r-1,b=e[t].x,v=e[x].x-b;for(s=t;s<t+r;++s){a=e[s],i=(a.x-b)/v*n,l=a.y;const t=0|i;if(t===A)l<h?(h=l,c=s):l>f&&(f=l,d=s),m=(p*m+a.x)/++p;else{const r=s-1;if(!Lo(c)&&!Lo(d)){const t=Math.min(c,d),n=Math.max(c,d);t!==u&&t!==r&&g.push(o(o({},e[t]),{},{x:m})),n!==u&&n!==r&&g.push(o(o({},e[n]),{},{x:m}))}s>0&&r!==u&&g.push(e[r]),g.push(a),A=t,p=0,h=f=l,c=d=u=s}}return g}(A,d,u,n);break;default:throw new Error("Unsupported decimation algorithm '".concat(r.algorithm,"'"))}t._decimated=h})},destroy(e){dh(e)}};function hh(e,t,r,n){if(n)return;let s=t[e],a=r[e];return"angle"===e&&(s=wl(s),a=wl(a)),{property:e,start:s,end:a}}function fh(e,t,r){for(;t>e;t--){const e=r[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function mh(e,t,r,n){return e&&t?n(e[r],t[r]):e?e[r]:t?t[r]:0}function ph(e,t){let r=[],n=!1;return Io(e)?(n=!0,r=e):r=function(e,t){const{x:r=null,y:n=null}=e||{},s=t.points,a=[];return t.segments.forEach(e=>{let{start:t,end:i}=e;i=fh(t,i,s);const o=s[t],l=s[i];null!==n?(a.push({x:o.x,y:n}),a.push({x:l.x,y:n})):null!==r&&(a.push({x:r,y:o.y}),a.push({x:r,y:l.y}))}),a}(e,t),r.length?new qu({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function gh(e){return e&&!1!==e.fill}function xh(e,t,r){let n=e[t].fill;const s=[t];let a;if(!r)return n;for(;!1!==n&&-1===s.indexOf(n);){if(!Do(n))return n;if(a=e[n],!a)return!1;if(a.visible)return n;s.push(n),n=a.fill}return!1}function bh(e,t,r){const n=function(e){const t=e.options,r=t.fill;let n=To(r&&r.target,r);void 0===n&&(n=!!t.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(e);if(Mo(n))return!isNaN(n.value)&&n;let s=parseFloat(n);return Do(s)&&Math.floor(s)===s?function(e,t,r,n){"-"!==e&&"+"!==e||(r=t+r);if(r===t||r<0||r>=n)return!1;return r}(n[0],t,s,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function vh(e,t,r){const n=[];for(let s=0;s<r.length;s++){const a=r[s],{first:i,last:o,point:l}=yh(a,t,"x");if(!(!l||i&&o))if(i)n.unshift(l);else if(e.push(l),!o)break}e.push(...n)}function yh(e,t,r){const n=e.interpolate(t,r);if(!n)return{};const s=n[r],a=e.segments,i=e.points;let o=!1,l=!1;for(let A=0;A<a.length;A++){const e=a[A],t=i[e.start][r],n=i[e.end][r];if(jl(s,t,n)){o=s===t,l=s===n;break}}return{first:o,last:l,point:n}}class wh{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:n,y:s,radius:a}=this;return t=t||{start:0,end:nl},e.arc(n,s,a,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:n}=this,s=e.angle;return{x:t+Math.cos(s)*n,y:r+Math.sin(s)*n,angle:s}}}function Bh(e){const{chart:t,fill:r,line:n}=e;if(Do(r))return function(e,t){const r=e.getDatasetMeta(t),n=r&&e.isDatasetVisible(t);return n?r.dataset:null}(t,r);if("stack"===r)return function(e){const{scale:t,index:r,line:n}=e,s=[],a=n.segments,i=n.points,o=function(e,t){const r=[],n=e.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const e=n[s];if(e.index===t)break;e.hidden||r.unshift(e.dataset)}return r}(t,r);o.push(ph({x:null,y:t.bottom},n));for(let l=0;l<a.length;l++){const e=a[l];for(let t=e.start;t<=e.end;t++)vh(s,i[t],o)}return new qu({points:s,options:{}})}(e);if("shape"===r)return!0;const s=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:r}=e,n=t.options,s=t.getLabels().length,a=n.reverse?t.max:t.min,i=function(e,t,r){let n;return n="start"===e?r:"end"===e?t.options.reverse?t.min:t.max:Mo(e)?e.value:t.getBaseValue(),n}(r,t,a),o=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,a);return new wh({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let l=0;l<s;++l)o.push(t.getPointPositionForValue(l,i));return o}(e);return function(e){const{scale:t={},fill:r}=e,n=function(e,t){let r=null;return"start"===e?r=t.bottom:"end"===e?r=t.top:Mo(e)?r=t.getPixelForValue(e.value):t.getBasePixel&&(r=t.getBasePixel()),r}(r,t);if(Do(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return s instanceof wh?s:ph(s,n)}function Nh(e,t,r){const n=Bh(t),{chart:s,index:a,line:i,scale:o,axis:l}=t,A=i.options,c=A.fill,d=A.backgroundColor,{above:u=d,below:h=d}=c||{},f=s.getDatasetMeta(a),m=wc(s,f);n&&i.points.length&&(cA(e,r),function(e,t){const{line:r,target:n,above:s,below:a,area:i,scale:o,clip:l}=t,A=r._loop?"angle":t.axis;e.save();let c=a;a!==s&&("x"===A?(jh(e,n,i.top),kh(e,{line:r,target:n,color:s,scale:o,property:A,clip:l}),e.restore(),e.save(),jh(e,n,i.bottom)):"y"===A&&(Ch(e,n,i.left),kh(e,{line:r,target:n,color:a,scale:o,property:A,clip:l}),e.restore(),e.save(),Ch(e,n,i.right),c=s));kh(e,{line:r,target:n,color:c,scale:o,property:A,clip:l}),e.restore()}(e,{line:i,target:n,above:u,below:h,area:r,scale:o,axis:l,clip:m}),dA(e))}function jh(e,t,r){const{segments:n,points:s}=t;let a=!0,i=!1;e.beginPath();for(const o of n){const{start:n,end:l}=o,A=s[n],c=s[fh(n,l,s)];a?(e.moveTo(A.x,A.y),a=!1):(e.lineTo(A.x,r),e.lineTo(A.x,A.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(c.x,r)}e.lineTo(t.first().x,r),e.closePath(),e.clip()}function Ch(e,t,r){const{segments:n,points:s}=t;let a=!0,i=!1;e.beginPath();for(const o of n){const{start:n,end:l}=o,A=s[n],c=s[fh(n,l,s)];a?(e.moveTo(A.x,A.y),a=!1):(e.lineTo(r,A.y),e.lineTo(A.x,A.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(r,c.y)}e.lineTo(r,t.first().y),e.closePath(),e.clip()}function kh(e,t){const{line:r,target:n,property:s,color:a,scale:i,clip:o}=t,l=function(e,t,r){const n=e.segments,s=e.points,a=t.points,i=[];for(const o of n){let{start:e,end:n}=o;n=fh(e,n,s);const l=hh(r,s[e],s[n],o.loop);if(!t.segments){i.push({source:o,target:l,start:s[e],end:s[n]});continue}const A=gc(t,l);for(const t of A){const e=hh(r,a[t.start],a[t.end],t.loop),n=pc(o,s,e);for(const s of n)i.push({source:s,target:t,start:{[r]:mh(l,e,"start",Math.max)},end:{[r]:mh(l,e,"end",Math.min)}})}}return i}(r,n,s);for(const{source:A,target:c,start:d,end:u}of l){const{style:{backgroundColor:t=a}={}}=A,l=!0!==n;e.save(),e.fillStyle=t,Sh(e,i,o,l&&hh(s,d,u)),e.beginPath();const h=!!r.pathSegment(e,A);let f;if(l){h?e.closePath():Fh(e,n,u,s);const t=!!n.pathSegment(e,c,{move:h,reverse:!0});f=h&&t,f||Fh(e,n,d,s)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function Sh(e,t,r,n){const s=t.chart.chartArea,{property:a,start:i,end:o}=n||{};if("x"===a||"y"===a){let t,n,l,A;"x"===a?(t=i,n=s.top,l=o,A=s.bottom):(t=s.left,n=i,l=s.right,A=o),e.beginPath(),r&&(t=Math.max(t,r.left),l=Math.min(l,r.right),n=Math.max(n,r.top),A=Math.min(A,r.bottom)),e.rect(t,n,l-t,A-n),e.clip()}}function Fh(e,t,r,n){const s=t.interpolate(r,n);s&&e.lineTo(s.x,s.y)}var Eh={id:"filler",afterDatasetsUpdate(e,t,r){const n=(e.data.datasets||[]).length,s=[];let a,i,o,l;for(i=0;i<n;++i)a=e.getDatasetMeta(i),o=a.dataset,l=null,o&&o.options&&o instanceof qu&&(l={visible:e.isDatasetVisible(i),index:i,fill:bh(o,i,n),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,s.push(l);for(i=0;i<n;++i)l=s[i],l&&!1!==l.fill&&(l.fill=xh(s,i,r.propagate))},beforeDraw(e,t,r){const n="beforeDraw"===r.drawTime,s=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let i=s.length-1;i>=0;--i){const t=s[i].$filler;t&&(t.line.updateControlPoints(a,t.axis),n&&t.fill&&Nh(e.ctx,t,a))}},beforeDatasetsDraw(e,t,r){if("beforeDatasetsDraw"!==r.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const t=n[s].$filler;gh(t)&&Nh(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,r){const n=t.meta.$filler;gh(n)&&"beforeDatasetDraw"===r.drawTime&&Nh(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const _h=(e,t)=>{let{boxHeight:r=t,boxWidth:n=t}=e;return e.usePointStyle&&(r=Math.min(r,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(t,r)}};class Uh extends Kd{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ro(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,r)=>e.sort(t,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,n=CA(r.font),s=n.size,a=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=_h(r,s);let l,A;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,A=this._fitRows(a,s,i,o)+10):(A=this.maxHeight,l=this._fitCols(a,n,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(A,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,n){const{ctx:s,maxWidth:a,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],A=n+i;let c=e;s.textAlign="left",s.textBaseline="middle";let d=-1,u=-A;return this.legendItems.forEach((e,h)=>{const f=r+t/2+s.measureText(e.text).width;(0===h||l[l.length-1]+f+2*i>a)&&(c+=A,l[l.length-(h>0?0:1)]=0,u+=A,d++),o[h]={left:0,top:u,row:d,width:f,height:n},l[l.length-1]+=f+i}),c}_fitCols(e,t,r,n){const{ctx:s,maxHeight:a,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],A=a-e;let c=i,d=0,u=0,h=0,f=0;return this.legendItems.forEach((e,a)=>{const{itemWidth:m,itemHeight:p}=function(e,t,r,n,s){const a=function(e,t,r,n){let s=e.text;s&&"string"!==typeof s&&(s=s.reduce((e,t)=>e.length>t.length?e:t));return t+r.size/2+n.measureText(s).width}(n,e,t,r),i=function(e,t,r){let n=e;"string"!==typeof t.text&&(n=Qh(t,r));return n}(s,n,t.lineHeight);return{itemWidth:a,itemHeight:i}}(r,t,s,e,n);a>0&&u+p+2*i>A&&(c+=d+i,l.push({width:d,height:u}),h+=d+i,f++,d=u=0),o[a]={left:h,top:u,col:f,width:m,height:p},d=Math.max(d,m),u+=p+i}),c+=d,l.push({width:d,height:u}),c}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:n},rtl:s}}=this,a=dc(s,this.left,this.width);if(this.isHorizontal()){let s=0,i=Il(r,this.left+n,this.right-this.lineWidths[s]);for(const o of t)s!==o.row&&(s=o.row,i=Il(r,this.left+n,this.right-this.lineWidths[s])),o.top+=this.top+e+n,o.left=a.leftForLtr(a.x(i),o.width),i+=o.width+n}else{let s=0,i=Il(r,this.top+e+n,this.bottom-this.columnSizes[s].height);for(const o of t)o.col!==s&&(s=o.col,i=Il(r,this.top+e+n,this.bottom-this.columnSizes[s].height)),o.top=i,o.left+=this.left+n,o.left=a.leftForLtr(a.x(o.left),o.width),i+=o.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;cA(e,this),this._draw(),dA(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:n}=this,{align:s,labels:a}=e,i=rA.color,o=dc(e.rtl,this.left,this.width),l=CA(a.font),{padding:A}=a,c=l.size,d=c/2;let u;this.drawTitle(),n.textAlign=o.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:h,boxHeight:f,itemHeight:m}=_h(a,c),p=this.isHorizontal(),g=this._computeTitleHeight();u=p?{x:Il(s,this.left+A,this.right-r[0]),y:this.top+A+g,line:0}:{x:this.left+A,y:Il(s,this.top+g+A,this.bottom-t[0].height),line:0},uc(this.ctx,e.textDirection);const x=m+A;this.legendItems.forEach((b,v)=>{n.strokeStyle=b.fontColor,n.fillStyle=b.fontColor;const y=n.measureText(b.text).width,w=o.textAlign(b.textAlign||(b.textAlign=a.textAlign)),B=h+d+y;let N=u.x,j=u.y;o.setWidth(this.width),p?v>0&&N+B+A>this.right&&(j=u.y+=x,u.line++,N=u.x=Il(s,this.left+A,this.right-r[u.line])):v>0&&j+x>this.bottom&&(N=u.x=N+t[u.line].width+A,u.line++,j=u.y=Il(s,this.top+g+A,this.bottom-t[u.line].height));if(function(e,t,r){if(isNaN(h)||h<=0||isNaN(f)||f<0)return;n.save();const s=To(r.lineWidth,1);if(n.fillStyle=To(r.fillStyle,i),n.lineCap=To(r.lineCap,"butt"),n.lineDashOffset=To(r.lineDashOffset,0),n.lineJoin=To(r.lineJoin,"miter"),n.lineWidth=s,n.strokeStyle=To(r.strokeStyle,i),n.setLineDash(To(r.lineDash,[])),a.usePointStyle){const i={radius:f*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:s},l=o.xPlus(e,h/2);lA(n,i,l,t+d,a.pointStyleWidth&&h)}else{const a=t+Math.max((c-f)/2,0),i=o.leftForLtr(e,h),l=NA(r.borderRadius);n.beginPath(),Object.values(l).some(e=>0!==e)?gA(n,{x:i,y:a,w:h,h:f,radius:l}):n.rect(i,a,h,f),n.fill(),0!==s&&n.stroke()}n.restore()}(o.x(N),j,b),N=((e,t,r,n)=>e===(n?"left":"right")?r:"center"===e?(t+r)/2:t)(w,N+h+d,p?N+B:this.right,e.rtl),function(e,t,r){pA(n,r.text,e,t+m/2,l,{strikethrough:r.hidden,textAlign:o.textAlign(r.textAlign)})}(o.x(N),j,b),p)u.x+=B+A;else if("string"!==typeof b.text){const e=l.lineHeight;u.y+=Qh(b,e)+A}else u.y+=x}),hc(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=CA(t.font),n=jA(t.padding);if(!t.display)return;const s=dc(e.rtl,this.left,this.width),a=this.ctx,i=t.position,o=r.size/2,l=n.top+o;let A,c=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),A=this.top+l,c=Il(e.align,c,this.right-d);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);A=l+Il(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const u=Il(i,c,c+d);a.textAlign=s.textAlign(Ll(i)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=r.string,pA(a,t.text,u,A,r)}_computeTitleHeight(){const e=this.options.title,t=CA(e.font),r=jA(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,n,s;if(jl(e,this.left,this.right)&&jl(t,this.top,this.bottom))for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(n=s[r],jl(e,n.left,n.left+n.width)&&jl(t,n.top,n.top+n.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,s=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(n,r);n&&!s&&Ro(t.onLeave,[e,n,this],this),this._hoveredItem=r,r&&!s&&Ro(t.onHover,[e,r,this],this)}else r&&Ro(t.onClick,[e,r,this],this)}}function Qh(e,t){return t*(e.text?e.text.length:0)}var Lh={id:"legend",_element:Uh,start(e,t,r){const n=e.legend=new Uh({ctx:e.ctx,options:r,chart:e});Cd.configure(e,n,r),Cd.addBox(e,n)},stop(e){Cd.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const n=e.legend;Cd.configure(e,n,r),n.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const n=t.datasetIndex,s=r.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:s,color:a,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(r?0:void 0),A=jA(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ih extends Kd{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=Io(r.text)?r.text.length:1;this._padding=jA(r.padding);const s=n*CA(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:n,right:s,options:a}=this,i=a.align;let o,l,A,c=0;return this.isHorizontal()?(l=Il(i,r,s),A=t+e,o=s-r):("left"===a.position?(l=r+e,A=Il(i,n,t),c=-.5*rl):(l=s-e,A=Il(i,t,n),c=.5*rl),o=n-t),{titleX:l,titleY:A,maxWidth:o,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=CA(t.font),n=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:i,rotation:o}=this._drawArgs(n);pA(e,t.text,0,0,r,{color:t.color,maxWidth:i,rotation:o,textAlign:Ll(t.align),textBaseline:"middle",translation:[s,a]})}}var Mh={id:"title",_element:Ih,start(e,t,r){!function(e,t){const r=new Ih({ctx:e.ctx,options:t,chart:e});Cd.configure(e,r,t),Cd.addBox(e,r),e.titleBlock=r}(e,r)},stop(e){const t=e.titleBlock;Cd.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const n=e.titleBlock;Cd.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dh=new WeakMap;var Ph={id:"subtitle",start(e,t,r){const n=new Ih({ctx:e.ctx,options:r,chart:e});Cd.configure(e,n,r),Cd.addBox(e,n),Dh.set(e,n)},stop(e){Cd.removeBox(e,Dh.get(e)),Dh.delete(e)},beforeUpdate(e,t,r){const n=Dh.get(e);Cd.configure(e,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Th={average(e){if(!e.length)return!1;let t,r,n=new Set,s=0,a=0;for(t=0,r=e.length;t<r;++t){const r=e[t].element;if(r&&r.hasValue()){const e=r.tooltipPosition();n.add(e.x),s+=e.y,++a}}if(0===a||0===n.size)return!1;const i=[...n].reduce((e,t)=>e+t)/n.size;return{x:i,y:s/a}},nearest(e,t){if(!e.length)return!1;let r,n,s,a=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(r=0,n=e.length;r<n;++r){const n=e[r].element;if(n&&n.hasValue()){const e=vl(t,n.getCenterPoint());e<o&&(o=e,s=n)}}if(s){const e=s.tooltipPosition();a=e.x,i=e.y}return{x:a,y:i}}};function Oh(e,t){return t&&(Io(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Rh(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Hh(e,t){const{element:r,datasetIndex:n,index:s}=t,a=e.getDatasetMeta(n).controller,{label:i,value:o}=a.getLabelAndValue(s);return{chart:e,label:i,parsed:a.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:o,dataset:a.getDataset(),dataIndex:s,datasetIndex:n,element:r}}function zh(e,t){const r=e.chart.ctx,{body:n,footer:s,title:a}=e,{boxWidth:i,boxHeight:o}=t,l=CA(t.bodyFont),A=CA(t.titleFont),c=CA(t.footerFont),d=a.length,u=s.length,h=n.length,f=jA(t.padding);let m=f.height,p=0,g=n.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(g+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*A.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),g){m+=h*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(g-h)*l.lineHeight+(g-1)*t.bodySpacing}u&&(m+=t.footerMarginTop+u*c.lineHeight+(u-1)*t.footerSpacing);let x=0;const b=function(e){p=Math.max(p,r.measureText(e).width+x)};return r.save(),r.font=A.string,Ho(e.title,b),r.font=l.string,Ho(e.beforeBody.concat(e.afterBody),b),x=t.displayColors?i+2+t.boxPadding:0,Ho(n,e=>{Ho(e.before,b),Ho(e.lines,b),Ho(e.after,b)}),x=0,r.font=c.string,Ho(e.footer,b),r.restore(),p+=f.width,{width:p,height:m}}function Kh(e,t,r,n){const{x:s,width:a}=r,{width:i,chartArea:{left:o,right:l}}=e;let A="center";return"center"===n?A=s<=(o+l)/2?"left":"right":s<=a/2?A="left":s>=i-a/2&&(A="right"),function(e,t,r,n){const{x:s,width:a}=n,i=r.caretSize+r.caretPadding;return"left"===e&&s+a+i>t.width||"right"===e&&s-a-i<0||void 0}(A,e,t,r)&&(A="center"),A}function Vh(e,t,r){const n=r.yAlign||t.yAlign||function(e,t){const{y:r,height:n}=t;return r<n/2?"top":r>e.height-n/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||Kh(e,t,r,n),yAlign:n}}function qh(e,t,r,n){const{caretSize:s,caretPadding:a,cornerRadius:i}=e,{xAlign:o,yAlign:l}=r,A=s+a,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=NA(i);let f=function(e,t){let{x:r,width:n}=e;return"right"===t?r-=n:"center"===t&&(r-=n/2),r}(t,o);const m=function(e,t,r){let{y:n,height:s}=e;return"top"===t?n+=r:n-="bottom"===t?s+r:s/2,n}(t,l,A);return"center"===l?"left"===o?f+=A:"right"===o&&(f-=A):"left"===o?f-=Math.max(c,u)+s:"right"===o&&(f+=Math.max(d,h)+s),{x:Nl(f,0,n.width-t.width),y:Nl(m,0,n.height-t.height)}}function Gh(e,t,r){const n=jA(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function Wh(e){return Oh([],Rh(e))}function Jh(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const Yh={beforeTitle:Uo,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,n=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return r[t.dataIndex]}return""},afterTitle:Uo,beforeBody:Uo,beforeLabel:Uo,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return Lo(r)||(t+=r),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Uo,afterBody:Uo,beforeFooter:Uo,footer:Uo,afterFooter:Uo};function Xh(e,t,r,n){const s=e[t].call(r,n);return"undefined"===typeof s?Yh[t].call(r,n):s}class Zh extends Kd{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),n=r.enabled&&t.options.animation&&r.animations,s=new Sc(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,r=this._tooltipItems,SA(e,{tooltip:t,tooltipItems:r,type:"tooltip"})));var e,t,r}getTitle(e,t){const{callbacks:r}=t,n=Xh(r,"beforeTitle",this,e),s=Xh(r,"title",this,e),a=Xh(r,"afterTitle",this,e);let i=[];return i=Oh(i,Rh(n)),i=Oh(i,Rh(s)),i=Oh(i,Rh(a)),i}getBeforeBody(e,t){return Wh(Xh(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,n=[];return Ho(e,e=>{const t={before:[],lines:[],after:[]},s=Jh(r,e);Oh(t.before,Rh(Xh(s,"beforeLabel",this,e))),Oh(t.lines,Xh(s,"label",this,e)),Oh(t.after,Rh(Xh(s,"afterLabel",this,e))),n.push(t)}),n}getAfterBody(e,t){return Wh(Xh(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,n=Xh(r,"beforeFooter",this,e),s=Xh(r,"footer",this,e),a=Xh(r,"afterFooter",this,e);let i=[];return i=Oh(i,Rh(n)),i=Oh(i,Rh(s)),i=Oh(i,Rh(a)),i}_createItems(e){const t=this._active,r=this.chart.data,n=[],s=[],a=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(Hh(this.chart,t[i]));return e.filter&&(l=l.filter((t,n,s)=>e.filter(t,n,s,r))),e.itemSort&&(l=l.sort((t,n)=>e.itemSort(t,n,r))),Ho(l,t=>{const r=Jh(e.callbacks,t);n.push(Xh(r,"labelColor",this,t)),s.push(Xh(r,"labelPointStyle",this,t)),a.push(Xh(r,"labelTextColor",this,t))}),this.labelColors=n,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),n=this._active;let s,a=[];if(n.length){const e=Th[r.position].call(this,n,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const t=this._size=zh(this,r),i=Object.assign({},e,t),o=Vh(this.chart,r,i),l=qh(r,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,n){const s=this.getCaretPosition(e,r,n);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:n,yAlign:s}=this,{caretSize:a,cornerRadius:i}=r,{topLeft:o,topRight:l,bottomLeft:A,bottomRight:c}=NA(i),{x:d,y:u}=e,{width:h,height:f}=t;let m,p,g,x,b,v;return"center"===s?(b=u+f/2,"left"===n?(m=d,p=m-a,x=b+a,v=b-a):(m=d+h,p=m+a,x=b-a,v=b+a),g=m):(p="left"===n?d+Math.max(o,A)+a:"right"===n?d+h-Math.max(l,c)-a:this.caretX,"top"===s?(x=u,b=x-a,m=p-a,g=p+a):(x=u+f,b=x+a,m=p+a,g=p-a),v=x),{x1:m,x2:p,x3:g,y1:x,y2:b,y3:v}}drawTitle(e,t,r){const n=this.title,s=n.length;let a,i,o;if(s){const l=dc(r.rtl,this.x,this.width);for(e.x=Gh(this,r.titleAlign,r),t.textAlign=l.textAlign(r.titleAlign),t.textBaseline="middle",a=CA(r.titleFont),i=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,o=0;o<s;++o)t.fillText(n[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i,o+1===s&&(e.y+=r.titleMarginBottom-i)}}_drawColorBox(e,t,r,n,s){const a=this.labelColors[r],i=this.labelPointStyles[r],{boxHeight:o,boxWidth:l}=s,A=CA(s.bodyFont),c=Gh(this,"left",s),d=n.x(c),u=o<A.lineHeight?(A.lineHeight-o)/2:0,h=t.y+u;if(s.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},r=n.leftForLtr(d,l)+l/2,A=h+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,oA(e,t,r,A),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,oA(e,t,r,A)}else{e.lineWidth=Mo(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=n.leftForLtr(d,l),r=n.leftForLtr(n.xPlus(d,1),l-2),i=NA(a.borderRadius);Object.values(i).some(e=>0!==e)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,gA(e,{x:t,y:h,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),gA(e,{x:r,y:h+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,h,l,o),e.strokeRect(t,h,l,o),e.fillStyle=a.backgroundColor,e.fillRect(r,h+1,l-2,o-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:n}=this,{bodySpacing:s,bodyAlign:a,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:A}=r,c=CA(r.bodyFont);let d=c.lineHeight,u=0;const h=dc(r.rtl,this.x,this.width),f=function(r){t.fillText(r,h.x(e.x+u),e.y+d/2),e.y+=d+s},m=h.textAlign(a);let p,g,x,b,v,y,w;for(t.textAlign=a,t.textBaseline="middle",t.font=c.string,e.x=Gh(this,m,r),t.fillStyle=r.bodyColor,Ho(this.beforeBody,f),u=i&&"right"!==m?"center"===a?l/2+A:l+2+A:0,b=0,y=n.length;b<y;++b){for(p=n[b],g=this.labelTextColors[b],t.fillStyle=g,Ho(p.before,f),x=p.lines,i&&x.length&&(this._drawColorBox(t,e,b,h,r),d=Math.max(c.lineHeight,o)),v=0,w=x.length;v<w;++v)f(x[v]),d=c.lineHeight;Ho(p.after,f)}u=0,d=c.lineHeight,Ho(this.afterBody,f),e.y-=s}drawFooter(e,t,r){const n=this.footer,s=n.length;let a,i;if(s){const o=dc(r.rtl,this.x,this.width);for(e.x=Gh(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=o.textAlign(r.footerAlign),t.textBaseline="middle",a=CA(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,i=0;i<s;++i)t.fillText(n[i],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,n){const{xAlign:s,yAlign:a}=this,{x:i,y:o}=e,{width:l,height:A}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=NA(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(i+c,o),"top"===a&&this.drawCaret(e,t,r,n),t.lineTo(i+l-d,o),t.quadraticCurveTo(i+l,o,i+l,o+d),"center"===a&&"right"===s&&this.drawCaret(e,t,r,n),t.lineTo(i+l,o+A-h),t.quadraticCurveTo(i+l,o+A,i+l-h,o+A),"bottom"===a&&this.drawCaret(e,t,r,n),t.lineTo(i+u,o+A),t.quadraticCurveTo(i,o+A,i,o+A-u),"center"===a&&"left"===s&&this.drawCaret(e,t,r,n),t.lineTo(i,o+c),t.quadraticCurveTo(i,o,i+c,o),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,n=r&&r.x,s=r&&r.y;if(n||s){const r=Th[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=zh(this,e),i=Object.assign({},r,this._size),o=Vh(t,e,i),l=qh(e,i,o,t);n._to===l.x&&s._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=jA(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,n,t),uc(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),hc(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,n=e.map(e=>{let{datasetIndex:t,index:r}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[r],index:r}}),s=!zo(r,n),a=this._positionChanged(n,t);(s||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),i=this._positionChanged(a,e),o=t||!zo(a,s)||i;return o&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,r,n){const s=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:n,options:s}=this,a=Th[s.position].call(this,e,t);return!1!==a&&(r!==a.x||n!==a.y)}}(0,a.A)(Zh,"positioners",Th);var $h={id:"tooltip",_element:Zh,positioners:Th,afterInit(e,t,r){r&&(e.tooltip=new Zh({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",o(o({},r),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yh},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ef=Object.freeze({__proto__:null,Colors:Ah,Decimation:uh,Filler:Eh,Legend:Lh,SubTitle:Ph,Title:Mh,Tooltip:$h});function tf(e,t,r,n){const s=e.indexOf(t);if(-1===s)return((e,t,r,n)=>("string"===typeof t?(r=e.push(t)-1,n.unshift({index:r,label:t})):isNaN(t)&&(r=null),r))(e,t,r,n);return s!==e.lastIndexOf(t)?r:s}function rf(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class nf extends eu{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:r,label:n}of t)e[r]===n&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Lo(e))return null;const r=this.getLabels();return((e,t)=>null===e?null:Nl(Math.round(e),0,t))(t=isFinite(t)&&r[t]===e?t:tf(r,e,To(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(n=this.getLabels().length-1)),this.min=r,this.max=n}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,n=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)n.push({value:a});return n}getLabelForValue(e){return rf.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function sf(e,t){const r=[],{bounds:n,step:s,min:a,max:i,precision:o,count:l,maxTicks:A,maxDigits:c,includeBounds:d}=e,u=s||1,h=A-1,{min:f,max:m}=t,p=!Lo(a),g=!Lo(i),x=!Lo(l),b=(m-f)/(c+1);let v,y,w,B,N=hl((m-f)/h/u)*u;if(N<1e-14&&!p&&!g)return[{value:f},{value:m}];B=Math.ceil(m/N)-Math.floor(f/N),B>h&&(N=hl(B*N/h/u)*u),Lo(o)||(v=Math.pow(10,o),N=Math.ceil(N*v)/v),"ticks"===n?(y=Math.floor(f/N)*N,w=Math.ceil(m/N)*N):(y=f,w=m),p&&g&&s&&function(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}((i-a)/s,N/1e3)?(B=Math.round(Math.min((i-a)/N,A)),N=(i-a)/B,y=a,w=i):x?(y=p?a:y,w=g?i:w,B=l-1,N=(w-y)/B):(B=(w-y)/N,B=ul(B,Math.round(B),N/1e3)?Math.round(B):Math.ceil(B));const j=Math.max(xl(N),xl(y));v=Math.pow(10,Lo(o)?j:o),y=Math.round(y*v)/v,w=Math.round(w*v)/v;let C=0;for(p&&(d&&y!==a?(r.push({value:a}),y<a&&C++,ul(Math.round((y+C*N)*v)/v,a,af(a,b,e))&&C++):y<a&&C++);C<B;++C){const e=Math.round((y+C*N)*v)/v;if(g&&e>i)break;r.push({value:e})}return g&&d&&w!==i?r.length&&ul(r[r.length-1].value,i,af(i,b,e))?r[r.length-1].value=i:r.push({value:i}):g&&w!==i||r.push({value:w}),r}function af(e,t,r){let{horizontal:n,minRotation:s}=r;const a=pl(s),i=(n?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}(0,a.A)(nf,"id","category"),(0,a.A)(nf,"defaults",{ticks:{callback:rf}});class of extends eu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Lo(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:n,max:s}=this;const a=e=>n=t?n:e,i=e=>s=r?s:e;if(e){const e=dl(n),t=dl(s);e<0&&t<0?i(0):e>0&&t>0&&a(0)}if(n===s){let t=0===s?1:Math.abs(.05*s);i(s+t),e||a(n-t)}this.min=n,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:r,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(n," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const n=sf({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&ml(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const n=(r-t)/Math.max(e.length-1,1)/2;t-=n,r+=n}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Wl(e,this.chart.options.locale,this.options.ticks.format)}}class lf extends of{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Do(e)?e:0,this.max=Do(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=pl(this.options.ticks.minRotation),n=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,a.A)(lf,"id","linear"),(0,a.A)(lf,"defaults",{ticks:{callback:Yl.formatters.numeric}});const Af=e=>Math.floor(cl(e)),cf=(e,t)=>Math.pow(10,Af(e)+t);function df(e){return 1===e/Math.pow(10,Af(e))}function uf(e,t,r){const n=Math.pow(10,r),s=Math.floor(e/n);return Math.ceil(t/n)-s}function hf(e,t){let{min:r,max:n}=t;r=Po(e.min,r);const s=[],a=Af(r);let i=function(e,t){let r=Af(t-e);for(;uf(e,t,r)>10;)r++;for(;uf(e,t,r)<10;)r--;return Math.min(r,Af(e))}(r,n),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),A=a>i?Math.pow(10,a):0,c=Math.round((r-A)*o)/o,d=Math.floor((r-A)/l/10)*l*10;let u=Math.floor((c-d)/Math.pow(10,i)),h=Po(e.min,Math.round((A+d+u*Math.pow(10,i))*o)/o);for(;h<n;)s.push({value:h,major:df(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(i++,u=2,o=i>=0?1:o),h=Math.round((A+d+u*Math.pow(10,i))*o)/o;const f=Po(e.max,h);return s.push({value:f,major:df(f),significand:u}),s}class ff extends eu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=of.prototype.parse.apply(this,[e,t]);if(0!==r)return Do(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Do(e)?Math.max(0,e):null,this.max=Do(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Do(this._userMin)&&(this.min=e===cf(this.min,0)?cf(this.min,-1):cf(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,n=this.max;const s=t=>r=e?r:t,a=e=>n=t?n:e;r===n&&(r<=0?(s(1),a(10)):(s(cf(r,-1)),a(cf(n,1)))),r<=0&&s(cf(n,-1)),n<=0&&a(cf(r,1)),this.min=r,this.max=n}buildTicks(){const e=this.options,t=hf({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&ml(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Wl(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=cl(e),this._valueRange=cl(this.max)-cl(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(cl(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function mf(e){const t=e.ticks;if(t.display&&e.display){const e=jA(t.backdropPadding);return To(t.font&&t.font.size,rA.font.size)+e.height}return 0}function pf(e,t,r){return r=Io(r)?r:[r],{w:sA(e,t.string,r),h:r.length*t.lineHeight}}function gf(e,t,r,n,s){return e===n||e===s?{start:t-r/2,end:t+r/2}:e<n||e>s?{start:t-r,end:t}:{start:t,end:t+r}}function xf(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},r=Object.assign({},t),n=[],s=[],a=e._pointLabels.length,i=e.options.pointLabels,o=i.centerPointLabels?rl/a:0;for(let l=0;l<a;l++){const a=i.setContext(e.getPointLabelContext(l));s[l]=a.padding;const A=e.getPointPosition(l,e.drawingArea+s[l],o),c=CA(a.font),d=pf(e.ctx,c,e._pointLabels[l]);n[l]=d;const u=wl(e.getIndexAngle(l)+o),h=Math.round(gl(u));bf(r,t,u,gf(h,A.x,d.w,0,180),gf(h,A.y,d.h,90,270))}e.setCenterPoint(t.l-r.l,r.r-t.r,t.t-r.t,r.b-t.b),e._pointLabelItems=function(e,t,r){const n=[],s=e._pointLabels.length,a=e.options,{centerPointLabels:i,display:o}=a.pointLabels,l={extra:mf(a)/2,additionalAngle:i?rl/s:0};let A;for(let c=0;c<s;c++){l.padding=r[c],l.size=t[c];const s=vf(e,c,l);n.push(s),"auto"===o&&(s.visible=yf(s,A),s.visible&&(A=s))}return n}(e,n,s)}function bf(e,t,r,n,s){const a=Math.abs(Math.sin(r)),i=Math.abs(Math.cos(r));let o=0,l=0;n.start<t.l?(o=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),s.start<t.t?(l=(t.t-s.start)/i,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/i,e.b=Math.max(e.b,t.b+l))}function vf(e,t,r){const n=e.drawingArea,{extra:s,additionalAngle:a,padding:i,size:o}=r,l=e.getPointPosition(t,n+s+i,a),A=Math.round(gl(wl(l.angle+ol))),c=function(e,t,r){90===r||270===r?e-=t/2:(r>270||r<90)&&(e-=t);return e}(l.y,o.h,A),d=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(A),u=function(e,t,r){"right"===r?e-=t:"center"===r&&(e-=t/2);return e}(l.x,o.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:u,top:c,right:u+o.w,bottom:c+o.h}}function yf(e,t){if(!t)return!0;const{left:r,top:n,right:s,bottom:a}=e;return!(AA({x:r,y:n},t)||AA({x:r,y:a},t)||AA({x:s,y:n},t)||AA({x:s,y:a},t))}function wf(e,t,r){const{left:n,top:s,right:a,bottom:i}=r,{backdropColor:o}=t;if(!Lo(o)){const r=NA(t.borderRadius),l=jA(t.backdropPadding);e.fillStyle=o;const A=n-l.left,c=s-l.top,d=a-n+l.width,u=i-s+l.height;Object.values(r).some(e=>0!==e)?(e.beginPath(),gA(e,{x:A,y:c,w:d,h:u,radius:r}),e.fill()):e.fillRect(A,c,d,u)}}function Bf(e,t,r,n){const{ctx:s}=e;if(r)s.arc(e.xCenter,e.yCenter,t,0,nl);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let a=1;a<n;a++)r=e.getPointPosition(a,t),s.lineTo(r.x,r.y)}}(0,a.A)(ff,"id","logarithmic"),(0,a.A)(ff,"defaults",{ticks:{callback:Yl.formatters.logarithmic,major:{enabled:!0}}});class Nf extends of{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=jA(mf(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Do(e)&&!isNaN(e)?e:0,this.max=Do(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/mf(this.options))}generateTickLabels(e){of.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const r=Ro(this.options.pointLabels.callback,[e,t],this);return r||0===r?r:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?xf(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,n))}getIndexAngle(e){return wl(e*(nl/(this._pointLabels.length||1))+pl(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Lo(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Lo(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return function(e,t,r){return SA(e,{label:r,index:t,type:"pointLabel"})}(this.getContext(),e,r)}}getPointPosition(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getIndexAngle(e)-ol+r;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:n,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:n,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),Bf(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:n,border:s}=t,a=this._pointLabels.length;let i,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:r,options:{pointLabels:n}}=e;for(let s=t-1;s>=0;s--){const t=e._pointLabelItems[s];if(!t.visible)continue;const a=n.setContext(e.getPointLabelContext(s));wf(r,a,t);const i=CA(a.font),{x:o,y:l,textAlign:A}=t;pA(r,e._pointLabels[s],o,l+i.lineHeight/2,i,{color:a.color,textAlign:A,textBaseline:"middle"})}}(this,a),n.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const r=this.getContext(t),i=n.setContext(r),l=s.setContext(r);!function(e,t,r,n,s){const a=e.ctx,i=t.circular,{color:o,lineWidth:l}=t;!i&&!n||!o||!l||r<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(s.dash||[]),a.lineDashOffset=s.dashOffset,a.beginPath(),Bf(e,r,i,n),a.closePath(),a.stroke(),a.restore())}(this,i,o,a,l)}}),r.display){for(e.save(),i=a-1;i>=0;i--){const n=r.setContext(this.getPointLabelContext(i)),{color:s,lineWidth:a}=n;a&&s&&(e.lineWidth=a,e.strokeStyle=s,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(i,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const n=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((n,i)=>{if(0===i&&this.min>=0&&!t.reverse)return;const o=r.setContext(this.getContext(i)),l=CA(o.font);if(s=this.getDistanceFromCenterForValue(this.ticks[i].value),o.showLabelBackdrop){e.font=l.string,a=e.measureText(n.label).width,e.fillStyle=o.backdropColor;const t=jA(o.backdropPadding);e.fillRect(-a/2-t.left,-s-l.size/2-t.top,a+t.width,l.size+t.height)}pA(e,n.label,0,-s,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),e.restore()}drawTitle(){}}(0,a.A)(Nf,"id","radialLinear"),(0,a.A)(Nf,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Yl.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,a.A)(Nf,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,a.A)(Nf,"descriptors",{angleLines:{_fallback:"grid"}});const jf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cf=Object.keys(jf);function kf(e,t){return e-t}function Sf(e,t){if(Lo(t))return null;const r=e._adapter,{parser:n,round:s,isoWeekday:a}=e._parseOpts;let i=t;return"function"===typeof n&&(i=n(i)),Do(i)||(i="string"===typeof n?r.parse(i,n):r.parse(i)),null===i?null:(s&&(i="week"!==s||!fl(a)&&!0!==a?r.startOf(i,s):r.startOf(i,"isoWeek",a)),+i)}function Ff(e,t,r,n){const s=Cf.length;for(let a=Cf.indexOf(e);a<s-1;++a){const e=jf[Cf[a]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(s*e.size))<=n)return Cf[a]}return Cf[s-1]}function Ef(e,t,r){if(r){if(r.length){const{lo:n,hi:s}=Cl(r,t);e[r[n]>=t?r[n]:r[s]]=!0}}else e[t]=!0}function _f(e,t,r){const n=[],s={},a=t.length;let i,o;for(i=0;i<a;++i)o=t[i],s[o]=i,n.push({value:o,major:!1});return 0!==a&&r?function(e,t,r,n){const s=e._adapter,a=+s.startOf(t[0].value,n),i=t[t.length-1].value;let o,l;for(o=a;o<=i;o=+s.add(o,1,n))l=r[o],l>=0&&(t[l].major=!0);return t}(e,n,s,r):n}class Uf extends eu{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.time||(e.time={}),n=this._adapter=new id(e.adapters.date);n.init(t),Wo(r.displayFormats,n.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Sf(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:n,max:s,minDefined:a,maxDefined:i}=this.getUserBounds();function o(e){a||isNaN(e.min)||(n=Math.min(n,e.min)),i||isNaN(e.max)||(s=Math.max(s,e.max))}a&&i||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),n=Do(n)&&!isNaN(n)?n:+t.startOf(Date.now(),r),s=Do(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(n,s-1),this.max=Math.max(n+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,n="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const s=this.min,a=function(e,t,r){let n=0,s=e.length;for(;n<s&&e[n]<t;)n++;for(;s>n&&e[s-1]>r;)s--;return n>0||s<e.length?e.slice(n,s):e}(n,s,this.max);return this._unit=t.unit||(r.autoSkip?Ff(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,r,n,s){for(let a=Cf.length-1;a>=Cf.indexOf(r);a--){const r=Cf[a];if(jf[r].common&&e._adapter.diff(s,n,r)>=t-1)return r}return Cf[r?Cf.indexOf(r):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=Cf.indexOf(e)+1,r=Cf.length;t<r;++t)if(jf[Cf[t]].common)return Cf[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&a.reverse(),_f(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,s=0;this.options.offset&&r.length&&(e=this.getDecimalForValue(r[0]),n=1===r.length?1-e:(this.getDecimalForValue(r[1])-e)/2,t=this.getDecimalForValue(r[r.length-1]),s=1===r.length?t:(t-this.getDecimalForValue(r[r.length-2]))/2);const a=r.length<3?.5:.25;n=Nl(n,0,a),s=Nl(s,0,a),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,t=this.min,r=this.max,n=this.options,s=n.time,a=s.unit||Ff(s.minUnit,t,r,this._getLabelCapacity(t)),i=To(n.ticks.stepSize,1),o="week"===a&&s.isoWeekday,l=fl(o)||!0===o,A={};let c,d,u=t;if(l&&(u=+e.startOf(u,"isoWeek",o)),u=+e.startOf(u,l?"day":a),e.diff(r,t,a)>1e5*i)throw new Error(t+" and "+r+" are too far apart with stepSize of "+i+" "+a);const h="data"===n.ticks.source&&this.getDataTimestamps();for(c=u,d=0;c<r;c=+e.add(c,i,a),d++)Ef(A,c,h);return c!==r&&"ticks"!==n.bounds&&1!==d||Ef(A,c,h),Object.keys(A).sort(kf).map(e=>+e)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,n=this._unit,s=t||r[n];return this._adapter.format(e,s)}_tickFormatFunction(e,t,r,n){const s=this.options,a=s.ticks.callback;if(a)return Ro(a,[e,t,r],this);const i=s.time.displayFormats,o=this._unit,l=this._majorUnit,A=o&&i[o],c=l&&i[l],d=r[t],u=l&&c&&d&&d.major;return this._adapter.format(e,n||(u?c:A))}generateTickLabels(e){let t,r,n;for(t=0,r=e.length;t<r;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,n=pl(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(n),a=Math.sin(n),i=this._resolveTickFontOptions(0).size;return{w:r*s+i*a,h:r*a+i*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,n=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,_f(this,[e],this._majorUnit),n),a=this._getLabelSize(s),i=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)r=r.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const n=this.getLabels();for(t=0,r=n.length;t<r;++t)e.push(Sf(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _l(e.sort(kf))}}function Qf(e,t,r){let n,s,a,i,o=0,l=e.length-1;r?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=kl(e,"pos",t)),({pos:n,time:a}=e[o]),({pos:s,time:i}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=kl(e,"time",t)),({time:n,pos:a}=e[o]),({time:s,pos:i}=e[l]));const A=s-n;return A?a+(i-a)*(t-n)/A:a}(0,a.A)(Uf,"id","time"),(0,a.A)(Uf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Lf extends Uf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Qf(t,this.min),this._tableRange=Qf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,n=[],s=[];let a,i,o,l,A;for(a=0,i=e.length;a<i;++a)l=e[a],l>=t&&l<=r&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,i=n.length;a<i;++a)A=n[a+1],o=n[a-1],l=n[a],Math.round((A+o)/2)!==l&&s.push({time:l,pos:a/(i-1)});return s}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return e=t.length&&r.length?this.normalize(t.concat(r)):t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Qf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Qf(this._table,r*this._tableRange+this._minPos,!0)}}(0,a.A)(Lf,"id","timeseries"),(0,a.A)(Lf,"defaults",Uf.defaults);const If=[nd,rh,ef,Object.freeze({__proto__:null,CategoryScale:nf,LinearScale:lf,LogarithmicScale:ff,RadialLinearScale:Nf,TimeScale:Uf,TimeSeriesScale:Lf})];_u.register(...If);const Mf=_u,Df=Et("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Pf=Et("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Tf=Et("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Of=[{border:"#2B6CB0",background:"rgba(43,108,176,0.08)"},{border:"#6B7280",background:"rgba(107,114,128,0.08)"},{border:"#16A34A",background:"rgba(22,163,74,0.08)"},{border:"#D97706",background:"rgba(217,119,6,0.06)"},{border:"#44403C",background:"rgba(68,64,60,0.06)"},{border:"#475569",background:"rgba(71,85,105,0.06)"}],Rf=["#2B6CB0","#6B7280","#16A34A","#D97706","#475569","#94A3B8","#CBD5E1","#9CA3AF"],Hf=[{id:"faux-diplomes",name:"Faux dipl\xf4mes",subtitle:"D\xe9livrance ill\xe9gale",icon:"\ud83d\udcdc"},{id:"offre-formation-irreguliere",name:"Offre de formation\nirr\xe9guli\xe8re (non habilit\xe9)",subtitle:"Offre irr\xe9guli\xe8re",icon:"\ud83c\udf93"},{id:"recrutements-irreguliers",name:"Recrutements",subtitle:"Irr\xe9gularit\xe9s RH",icon:"\ud83d\udc65"},{id:"harcelement",name:"Harc\xe8lement",subtitle:"Signalements",icon:"\u26a0\ufe0f"},{id:"corruption",name:"Corruption",subtitle:"Malversations",icon:"\ud83d\udd34"},{id:"divers",name:"Divers",subtitle:"Autres",icon:"\ud83c\udff7\ufe0f"}],zf=e=>{let{title:t,value:r,subtitle:n,icon:s,color:a,onClick:i,isActive:o}=e;return(0,wt.jsx)("div",{onClick:i,className:"bg-white rounded-xl p-4 shadow-sm border cursor-pointer transition-all duration-200 \n      ".concat(o?"ring-2 ring-blue-500 border-blue-500 bg-blue-50/30":"border-slate-100 hover:shadow-md hover:border-slate-200"),children:(0,wt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide ".concat(o?"text-blue-700":"text-slate-500"),children:t}),(0,wt.jsx)("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:r}),n&&(0,wt.jsx)("p",{className:"text-xs text-slate-400 mt-0.5",children:n})]}),(0,wt.jsx)("div",{className:"p-2 rounded-lg ".concat(a," bg-opacity-10"),children:(0,wt.jsx)("span",{className:"text-xl",children:s})})]})})},Kf=e=>({en_cours:"En cours",investigation:"Ouverture d'enqu\xeates",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes",classifier:"Dossier class\xe9 sans suite"}[e]||e||"Statut inconnu"),Vf=e=>{let{isSorted:t,isAsc:r}=e;return t?r?(0,wt.jsx)(Pf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(Tf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(Df,{className:"w-3 h-3 text-gray-400"})};function qf(){const e=(0,t.useRef)(null),r=(0,t.useRef)(null),n=(0,t.useRef)(null),s=(0,t.useRef)(null),a=(0,t.useRef)(null),i=(0,t.useRef)(null),[l,A]=(ue(),(0,t.useState)([])),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)({total:0,en_cours:0,investigation:0,transmis_autorite:0,classifier:0}),[f,m]=(0,t.useState)(0),[p,g]=(0,t.useState)(!0),[x,b]=(0,t.useState)(""),[v,y]=(0,t.useState)("year"),[w,B]=(0,t.useState)("all"),[N,j]=(0,t.useState)(1),[C,k]=(0,t.useState)(10),[S,F]=(0,t.useState)([]),[E,_]=(0,t.useState)(0),[U,Q]=(0,t.useState)(!1),[L,I]=(0,t.useState)({key:"date",direction:"desc"});(0,t.useEffect)(()=>(M(),D(),()=>{s.current&&s.current.destroy(),a.current&&a.current.destroy(),i.current&&i.current.destroy()}),[]),(0,t.useEffect)(()=>{c.length>0&&l.length>0&&(z(),K(),V())},[v,c,l]),(0,t.useEffect)(()=>{O()},[l,N,C,w,L]);const M=()=>{const e=Hf.map((e,t)=>o(o({},e),{},{total:0,encours:0,investigation:0,transmis_autorite:0,classifier:0,color:Of[t]}));d(e)},D=async()=>{try{var e;g(!0),b("");const t=await as.get("/reports?per_page=5000"),r=Array.isArray(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)?t.data.data:[];A(r),r.length>0&&(T(r),P(r))}catch(t){console.error("Erreur dashboard:",t),b("Erreur lors du chargement des donn\xe9es")}finally{g(!1)}},P=e=>{const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),1),n=e.filter(e=>e.created_at&&new Date(e.created_at)>=r).length;m(n)},T=e=>{const t=e.length,r=e.filter(e=>"en_cours"===e.status).length,n=e.filter(e=>"investigation"===e.status).length,s=e.filter(e=>"transmis_autorite"===e.status).length,a=e.filter(e=>"classifier"===e.status).length;h({total:t,en_cours:r,investigation:n,transmis_autorite:s,classifier:a});const i=Hf.map((t,r)=>{const n=e.filter(e=>e.category===t.id),s=n.filter(e=>"en_cours"===e.status).length,a=n.filter(e=>"investigation"===e.status).length,i=n.filter(e=>"transmis_autorite"===e.status).length,l=n.filter(e=>"classifier"===e.status).length;return o(o({},t),{},{total:n.length,encours:s,investigation:a,transmis_autorite:i,classifier:l,color:Of[r]})});d(i)},O=()=>{let e=[...l];"all"!==w&&(e="en_cours"===w?e.filter(e=>"en_cours"===e.status||"investigation"===e.status):e.filter(e=>e.status===w)),e.sort((e,t)=>{if(!L.key)return 0;let r=e[L.key],n=t[L.key];return"date"===L.key&&(r=new Date(e.created_at||0),n=new Date(t.created_at||0)),"reference"===L.key&&(r=(e.reference||"REF-".concat(e.id)).toLowerCase(),n=(t.reference||"REF-".concat(t.id)).toLowerCase()),"description"===L.key&&(r=(e.description||"").toLowerCase(),n=(t.description||"").toLowerCase()),r<n?"asc"===L.direction?-1:1:r>n?"asc"===L.direction?1:-1:0}),_(e.length);const t=(N-1)*C,r=t+C,n=e.slice(t,r).map(e=>{const t=e.description||"Aucune description",r=t.length>80?t.substring(0,80)+"...":t,n=c.find(t=>t.id===e.category),s=n?n.name:e.category;return{id:e.id,reference:e.reference||"REF-".concat(e.id),date:e.created_at?new Date(e.created_at).toLocaleDateString("fr-FR"):"-",name:e.is_anonymous?"Anonyme":e.name||"Non sp\xe9cifi\xe9",category:s,regionprovince:e.region||"-",status:e.status,displayStatus:Kf(e.status),description:e.description||"Aucune description",shortDescription:r,rawStatus:e.status}});F(n)},R=e=>{I(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})),j(1)},H=e=>{let t;t="en_cours"===e?"en_cours"===w?"all":"en_cours":w===e?"all":e,B(t),j(1)},z=()=>{if(!e.current)return;const{labels:t,datasets:r}=(()=>{let e=[],t=[];const r=new Date,n=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"],s=(e,t)=>c.map(r=>{const n=e.map((e,n)=>{const s=t[n];return l.filter(e=>{if(!e.created_at)return!1;const t=new Date(e.created_at);return s(t)&&e.category===r.id}).length});return{label:r.name.replace(/\n/g," "),data:n,borderColor:r.color.border,backgroundColor:r.color.background,tension:.4,fill:!1,pointRadius:3,borderWidth:2}});if("day"===v){const n=new Date(r);n.setHours(n.getHours()-23);const a=Array.from({length:24},(e,t)=>new Date(n.getTime()+36e5*t));e=a.map(e=>"".concat(e.getHours(),"h"));const i=a.map(e=>t=>t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getHours()===e.getHours());t=s(e,i)}else if("week"===v){const n=new Date(r);n.setDate(n.getDate()-6);const a=Array.from({length:7},(e,t)=>new Date(n.getTime()+864e5*t));e=a.map(e=>"".concat(e.getDate(),"/").concat(e.getMonth()+1));const i=a.map(e=>t=>t.getDate()===e.getDate()&&t.getMonth()===e.getMonth());t=s(e,i)}else if("month"===v){e=["Sem 1","Sem 2","Sem 3","Sem 4"];const r=[0,1,2,3].map(e=>t=>Math.ceil(t.getDate()/7)===e+1);t=s(e,r)}else{const a=new Date(r.getFullYear(),r.getMonth()-11,1),i=Array.from({length:12},(e,t)=>new Date(a.getFullYear(),a.getMonth()+t,1));e=i.map(e=>n[e.getMonth()]);const o=i.map(e=>t=>t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear());t=s(e,o)}return{labels:e,datasets:t}})();s.current&&s.current.destroy();const n=e.current.getContext("2d");s.current=new Mf(n,{type:"line",data:{labels:t,datasets:r},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,boxWidth:8,font:{size:9},padding:15}}},scales:{x:{grid:{display:!1},ticks:{font:{size:10}}},y:{beginAtZero:!0,grid:{borderDash:[2,4]},ticks:{font:{size:10}}}}}})},K=()=>{if(!r.current)return;a.current&&a.current.destroy();const{labels:e,datasets:t}=(()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth()-11,1),r=Array.from({length:12},(e,r)=>new Date(t.getFullYear(),t.getMonth()+r,1)),n=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"],s=r.map(e=>n[e.getMonth()]),a=c.map(e=>({label:e.name.replace(/\n/g," "),data:r.map(t=>l.filter(r=>{const n=new Date(r.created_at);return n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()&&r.category===e.id}).length),backgroundColor:e.color.border,borderColor:e.color.border,borderWidth:1}));return{labels:s,datasets:a}})(),n=r.current.getContext("2d");a.current=new Mf(n,{type:"bar",data:{labels:e,datasets:t},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,boxWidth:8,padding:10,font:{size:9}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:10}}},y:{beginAtZero:!0,ticks:{callback:function(e){if(Number.isInteger(e))return e},font:{size:10}},title:{display:!0,text:"Nombre de signalements",font:{size:11}}}},datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}}})},V=()=>{if(!n.current)return;i.current&&i.current.destroy();const e=c.filter(e=>e.total>0),t=e.reduce((e,t)=>e+t.total,0),r=e.map(e=>t>0?(e.total/t*100).toFixed(1):0),s=e.map((e,t)=>"".concat(e.name.replace(/\n/g," ")," (").concat(r[t],"%)")),a=n.current.getContext("2d");i.current=new Mf(a,{type:"doughnut",data:{labels:s,datasets:[{data:e.map(e=>e.total),backgroundColor:Rf,borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:10,font:{size:9},padding:12}},tooltip:{callbacks:{label:function(e){const t=e.label||"",r=e.raw||0,n=e.dataset.data.reduce((e,t)=>e+t,0),s=n>0?Math.round(r/n*100):0;return"".concat(t.split(" (")[0],": ").concat(r," (").concat(s,"%)")}}}}}})},q=()=>(0,wt.jsx)("div",{className:"absolute top-10 right-0 bg-white rounded-lg shadow-xl border border-gray-200 p-3 z-50 min-w-60",children:(0,wt.jsxs)("div",{className:"space-y-1",children:[(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>{y("day"),Q(!1)},children:"Jour"}),(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>{y("week"),Q(!1)},children:"Semaine"}),(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>{y("month"),Q(!1)},children:"Mois"}),(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>{y("year"),Q(!1)},children:"Ann\xe9e"})]})}),G=0===E?1:Math.ceil(E/C);return p?(0,wt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,wt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"})}):x?(0,wt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,wt.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-red-500",children:[(0,wt.jsx)("h3",{className:"text-red-600 font-bold text-sm",children:"Erreur"}),(0,wt.jsx)("p",{className:"text-slate-600 mt-1 text-sm",children:x}),(0,wt.jsx)("button",{type:"button",onClick:D,className:"mt-3 px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded text-xs",children:"R\xe9essayer"})]})}):(0,wt.jsx)("div",{className:"min-h-screen bg-slate-50 pb-8 font-sans text-slate-900",children:(0,wt.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 py-5 space-y-5",children:[(0,wt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"Tableau de bord"}),(0,wt.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:"Vue d'ensemble synchronis\xe9e en temps r\xe9el"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("button",{className:"flex items-center space-x-1.5 px-3 py-1.5 border border-gray-300 rounded text-sm hover:bg-gray-50 bg-white",onClick:()=>Q(!U),children:[(0,wt.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,wt.jsx)("span",{className:"text-sm",children:"day"===v?"Jour":"week"===v?"Semaine":"month"===v?"Mois":"Ann\xe9e"})]}),U&&(0,wt.jsx)(q,{})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:[(0,wt.jsx)(zf,{title:"Total",value:u.total,subtitle:"Tous les signalements",icon:"\ud83d\udcca",color:"bg-blue-500",isActive:"all"===w,onClick:()=>H("all")}),(0,wt.jsx)(zf,{title:"En cours",value:u.en_cours,subtitle:"Signalements en cours",icon:"\u23f3",color:"bg-yellow-500",isActive:"en_cours"===w,onClick:()=>H("en_cours")}),(0,wt.jsx)(zf,{title:"Enqu\xeates",value:u.investigation,subtitle:"Investigation en cours",icon:"\ud83d\udd0d",color:"bg-purple-500",isActive:"investigation"===w,onClick:()=>H("investigation")}),(0,wt.jsx)(zf,{title:"Transmis",value:u.transmis_autorite,subtitle:"Transmis pour action",icon:"\u2696\ufe0f",color:"bg-indigo-500",isActive:"transmis_autorite"===w,onClick:()=>H("transmis_autorite")}),(0,wt.jsx)(zf,{title:"Class\xe9s",value:u.classifier,subtitle:"Class\xe9s sans suite",icon:"\ud83d\udccb",color:"bg-emerald-500",isActive:"classifier"===w,onClick:()=>H("classifier")})]}),(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:c.map(e=>(0,wt.jsxs)("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-slate-100 hover:shadow-md transition",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("span",{className:"text-lg",children:e.icon}),(0,wt.jsxs)("div",{className:"min-w-0",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-slate-800 whitespace-pre-line leading-tight",children:e.name}),(0,wt.jsx)("p",{className:"text-xs text-slate-400",children:e.subtitle})]})]}),(0,wt.jsx)("p",{className:"text-xl font-bold text-slate-900",children:e.total})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-4 gap-1.5 text-xs text-slate-500 border-t border-slate-100 pt-2",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"En cours"}),(0,wt.jsx)("p",{className:"font-semibold text-amber-600",children:e.encours})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"Enqu\xeates"}),(0,wt.jsx)("p",{className:"font-semibold text-purple-600",children:e.investigation})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"Transmis"}),(0,wt.jsx)("p",{className:"font-semibold text-indigo-600",children:e.transmis_autorite})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"Class\xe9s"}),(0,wt.jsx)("p",{className:"font-semibold text-emerald-600",children:e.classifier})]})]})]},e.id))}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,wt.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-slate-100 p-4",children:[(0,wt.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,wt.jsx)("h3",{className:"font-bold text-slate-800 text-sm",children:"\xc9volution temporelle"})}),(0,wt.jsx)("div",{className:"h-64 w-full",children:(0,wt.jsx)("canvas",{ref:e})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-4",children:[(0,wt.jsx)("h3",{className:"font-bold text-slate-800 mb-3 text-sm",children:"R\xe9partition par type"}),(0,wt.jsx)("div",{className:"h-64 w-full flex items-center justify-center",children:(0,wt.jsx)("canvas",{ref:n})})]})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-4",children:[(0,wt.jsx)("h3",{className:"font-bold text-slate-800 mb-3 text-sm",children:"D\xe9tails mensuels par cat\xe9gorie"}),(0,wt.jsx)("div",{className:"h-64 w-full",children:(0,wt.jsx)("canvas",{ref:r})}),(0,wt.jsx)("p",{className:"text-xs text-slate-500 mt-3 text-center",children:"Chaque cat\xe9gorie est repr\xe9sent\xe9e par des barres individuelles c\xf4te \xe0 c\xf4te pour chaque mois"})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col",children:[(0,wt.jsxs)("div",{className:"px-4 py-3 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-3 bg-white",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("h3",{className:"font-bold text-slate-800 text-base",children:"Liste des dossiers r\xe9cents"}),"all"!==w&&(0,wt.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-semibold border border-blue-100",children:["Filtre : ",Kf(w),(0,wt.jsx)("button",{type:"button",onClick:()=>H("all"),className:"ml-0.5 p-0.5 hover:bg-blue-100 rounded-full",children:(0,wt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:(0,wt.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,wt.jsx)("span",{className:"text-slate-500 text-xs",children:"Lignes :"}),(0,wt.jsxs)("select",{value:C,onChange:e=>{k(Number(e.target.value)),j(1)},className:"form-select text-xs border-slate-300 rounded focus:ring-blue-500 focus:border-blue-500 py-1 px-2 bg-slate-50",children:[(0,wt.jsx)("option",{value:5,children:"5"}),(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:20,children:"20"}),(0,wt.jsx)("option",{value:50,children:"50"})]})]})]}),(0,wt.jsx)("div",{className:"overflow-x-auto",children:(0,wt.jsxs)("table",{className:"min-w-full divide-y divide-slate-100 text-xs",children:[(0,wt.jsx)("thead",{className:"bg-slate-50/50",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:(0,wt.jsxs)("button",{onClick:()=>R("id"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,wt.jsx)("span",{children:"ID"}),(0,wt.jsx)(Vf,{isSorted:"id"===L.key,isAsc:"asc"===L.direction})]})}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:(0,wt.jsxs)("button",{onClick:()=>R("reference"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,wt.jsx)("span",{children:"R\xc9F\xc9RENCE"}),(0,wt.jsx)(Vf,{isSorted:"reference"===L.key,isAsc:"asc"===L.direction})]})}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:(0,wt.jsxs)("button",{onClick:()=>R("date"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,wt.jsx)("span",{children:"DATE"}),(0,wt.jsx)(Vf,{isSorted:"date"===L.key,isAsc:"asc"===L.direction})]})}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"NOM / PR\xc9NOM"}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider min-w-[120px]",children:"CAT\xc9GORIE"}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:(0,wt.jsxs)("button",{onClick:()=>R("description"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,wt.jsx)("span",{children:"DESCRIPTION"}),(0,wt.jsx)(Vf,{isSorted:"description"===L.key,isAsc:"asc"===L.direction})]})}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"STATUT"})]})}),(0,wt.jsx)("tbody",{className:"bg-white divide-y divide-slate-100",children:0===S.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:"7",className:"px-4 py-8 text-center",children:(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[(0,wt.jsx)("span",{className:"text-3xl mb-1",children:"\ud83d\udd0d"}),(0,wt.jsx)("p",{className:"text-xs",children:"Aucun dossier trouv\xe9 pour ce filtre."})]})})}):S.map(e=>(0,wt.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group cursor-default",children:[(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs font-mono font-medium text-slate-700",children:e.id}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs font-mono font-medium text-blue-600 group-hover:text-blue-700",children:e.reference}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-slate-500",children:e.date}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs font-medium text-slate-900",children:e.name}),(0,wt.jsx)("td",{className:"px-4 py-3 text-xs text-slate-600 whitespace-pre-line leading-tight",children:e.category}),(0,wt.jsx)("td",{className:"px-4 py-3 max-w-[180px]",children:(0,wt.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2",children:e.shortDescription})}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-yellow-100 text-yellow-800":"transmis_autorite"===e.status?"bg-indigo-100 text-indigo-800":"classifier"===e.status?"bg-blue-100 text-blue-800":"investigation"===e.status?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:e.displayStatus})})]},e.id))})]})}),(0,wt.jsxs)("div",{className:"bg-white px-4 py-3 border-t border-slate-100 flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,wt.jsx)("span",{className:"text-slate-500",children:"\xc9l\xe9ments par page :"}),(0,wt.jsxs)("select",{value:C,onChange:e=>{k(Number(e.target.value)),j(1)},className:"px-2 py-1 border rounded text-xs",children:[(0,wt.jsx)("option",{value:5,children:"5"}),(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:20,children:"20"}),(0,wt.jsx)("option",{value:50,children:"50"})]}),(0,wt.jsxs)("span",{className:"text-gray-500",children:[0===E?0:(N-1)*C+1,"-",Math.min(N*C,E)," sur"," ",E]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>j(e=>Math.max(1,e-1)),disabled:1===N,className:"p-1 border rounded disabled:opacity-50 hover:bg-gray-50",children:(0,wt.jsx)(_t,{className:"w-3 h-3"})}),(()=>{const e=[];if(G<=7)for(let t=1;t<=G;t++)e.push(t);else{e.push(1);let t=Math.max(2,N-2),r=Math.min(G-1,N+2);N<=3&&(r=5),N>=G-2&&(t=G-5+1),t>2&&e.push("...");for(let n=t;n<=r;n++)e.push(n);r<G-1&&e.push("..."),e.push(G)}return e})().map((e,t)=>"..."===e?(0,wt.jsx)("span",{className:"px-1.5 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,wt.jsx)("button",{onClick:()=>j(e),className:"px-2 py-0.5 text-xs border rounded ".concat(N===e?"bg-blue-600 text-white":"bg-white hover:bg-gray-50"),children:e},e)),(0,wt.jsx)("button",{onClick:()=>j(e=>Math.min(G,e+1)),disabled:N===G||0===G,className:"p-1 border rounded disabled:opacity-50 hover:bg-gray-50",children:(0,wt.jsx)(Is,{className:"w-3 h-3"})})]})]})]})]})})}const Gf=Et("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),Wf=Et("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),Jf=Et("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Yf=Et("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Xf=Et("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Zf=Et("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),$f=Et("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),em=Et("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),tm=Et("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]]);var rm=r(2284),nm=Uint8Array,sm=Uint16Array,am=Int32Array,im=new nm([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),om=new nm([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lm=new nm([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Am=function(e,t){for(var r=new sm(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var s=new am(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return{b:r,r:s}},cm=Am(im,2),dm=cm.b,um=cm.r;dm[28]=258,um[258]=28;for(var hm=Am(om,0),fm=(hm.b,hm.r),mm=new sm(32768),pm=0;pm<32768;++pm){var gm=(43690&pm)>>1|(21845&pm)<<1;gm=(61680&(gm=(52428&gm)>>2|(13107&gm)<<2))>>4|(3855&gm)<<4,mm[pm]=((65280&gm)>>8|(255&gm)<<8)>>1}var xm=function(e,t,r){for(var n=e.length,s=0,a=new sm(t);s<n;++s)e[s]&&++a[e[s]-1];var i,o=new sm(t);for(s=1;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;if(r){i=new sm(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var A=s<<4|e[s],c=t-e[s],d=o[e[s]-1]++<<c,u=d|(1<<c)-1;d<=u;++d)i[mm[d]>>l]=A}else for(i=new sm(n),s=0;s<n;++s)e[s]&&(i[s]=mm[o[e[s]-1]++]>>15-e[s]);return i},bm=new nm(288);for(pm=0;pm<144;++pm)bm[pm]=8;for(pm=144;pm<256;++pm)bm[pm]=9;for(pm=256;pm<280;++pm)bm[pm]=7;for(pm=280;pm<288;++pm)bm[pm]=8;var vm=new nm(32);for(pm=0;pm<32;++pm)vm[pm]=5;var ym=xm(bm,9,0),wm=xm(vm,5,0),Bm=function(e){return(e+7)/8|0},Nm=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new nm(e.subarray(t,r))},jm=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Cm=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},km=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return{t:Lm,l:0};if(1==s){var i=new nm(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],A=0,c=1,d=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=s-1;)o=r[r[A].f<r[d].f?A++:d++],l=r[A!=c&&r[A].f<r[d].f?A++:d++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};var u=a[0].s;for(n=1;n<s;++n)a[n].s>u&&(u=a[n].s);var h=new sm(u+1),f=Sm(r[c-1],h,0);if(f>t){n=0;var m=0,p=f-t,g=1<<p;for(a.sort(function(e,t){return h[t.s]-h[e.s]||e.f-t.f});n<s;++n){var x=a[n].s;if(!(h[x]>t))break;m+=g-(1<<f-h[x]),h[x]=t}for(m>>=p;m>0;){var b=a[n].s;h[b]<t?m-=1<<t-h[b]++-1:++n}for(;n>=0&&m;--n){var v=a[n].s;h[v]==t&&(--h[v],++m)}f=t}return{t:new nm(h),l:f}},Sm=function(e,t,r){return-1==e.s?Math.max(Sm(e.l,t,r+1),Sm(e.r,t,r+1)):t[e.s]=r},Fm=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new sm(++t),n=0,s=e[0],a=1,i=function(e){r[n++]=e},o=1;o<=t;++o)if(e[o]==s&&o!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[o]}return{c:r.subarray(0,n),n:t}},Em=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},_m=function(e,t,r){var n=r.length,s=Bm(t+2);e[s]=255&n,e[s+1]=n>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var a=0;a<n;++a)e[s+a+4]=r[a];return 8*(s+4+n)},Um=function(e,t,r,n,s,a,i,o,l,A,c){jm(t,c++,r),++s[256];for(var d=km(s,15),u=d.t,h=d.l,f=km(a,15),m=f.t,p=f.l,g=Fm(u),x=g.c,b=g.n,v=Fm(m),y=v.c,w=v.n,B=new sm(19),N=0;N<x.length;++N)++B[31&x[N]];for(N=0;N<y.length;++N)++B[31&y[N]];for(var j=km(B,7),C=j.t,k=j.l,S=19;S>4&&!C[lm[S-1]];--S);var F,E,_,U,Q=A+5<<3,L=Em(s,bm)+Em(a,vm)+i,I=Em(s,u)+Em(a,m)+i+14+3*S+Em(B,C)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&Q<=L&&Q<=I)return _m(t,c,e.subarray(l,l+A));if(jm(t,c,1+(I<L)),c+=2,I<L){F=xm(u,h,0),E=u,_=xm(m,p,0),U=m;var M=xm(C,k,0);jm(t,c,b-257),jm(t,c+5,w-1),jm(t,c+10,S-4),c+=14;for(N=0;N<S;++N)jm(t,c+3*N,C[lm[N]]);c+=3*S;for(var D=[x,y],P=0;P<2;++P){var T=D[P];for(N=0;N<T.length;++N){var O=31&T[N];jm(t,c,M[O]),c+=C[O],O>15&&(jm(t,c,T[N]>>5&127),c+=T[N]>>12)}}}else F=ym,E=bm,_=wm,U=vm;for(N=0;N<o;++N){var R=n[N];if(R>255){Cm(t,c,F[(O=R>>18&31)+257]),c+=E[O+257],O>7&&(jm(t,c,R>>23&31),c+=im[O]);var H=31&R;Cm(t,c,_[H]),c+=U[H],H>3&&(Cm(t,c,R>>5&8191),c+=om[H])}else Cm(t,c,F[R]),c+=E[R]}return Cm(t,c,F[256]),c+E[256]},Qm=new am([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Lm=new nm(0),Im=function(e,t,r,n,s,a){var i=a.z||e.length,o=new nm(n+i+5*(1+Math.ceil(i/7e3))+s),l=o.subarray(n,o.length-s),A=a.l,c=7&(a.r||0);if(t){c&&(l[0]=a.r>>3);for(var d=Qm[t-1],u=d>>13,h=8191&d,f=(1<<r)-1,m=a.p||new sm(32768),p=a.h||new sm(f+1),g=Math.ceil(r/3),x=2*g,b=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<x)&f},v=new am(25e3),y=new sm(288),w=new sm(32),B=0,N=0,j=a.i||0,C=0,k=a.w||0,S=0;j+2<i;++j){var F=b(j),E=32767&j,_=p[F];if(m[E]=_,p[F]=E,k<=j){var U=i-j;if((B>7e3||C>24576)&&(U>423||!A)){c=Um(e,l,0,v,y,w,N,C,S,j-S,c),C=B=N=0,S=j;for(var Q=0;Q<286;++Q)y[Q]=0;for(Q=0;Q<30;++Q)w[Q]=0}var L=2,I=0,M=h,D=E-_&32767;if(U>2&&F==b(j-D))for(var P=Math.min(u,U)-1,T=Math.min(32767,j),O=Math.min(258,U);D<=T&&--M&&E!=_;){if(e[j+L]==e[j+L-D]){for(var R=0;R<O&&e[j+R]==e[j+R-D];++R);if(R>L){if(L=R,I=D,R>P)break;var H=Math.min(D,R-2),z=0;for(Q=0;Q<H;++Q){var K=j-D+Q&32767,V=K-m[K]&32767;V>z&&(z=V,_=K)}}}D+=(E=_)-(_=m[E])&32767}if(I){v[C++]=268435456|um[L]<<18|fm[I];var q=31&um[L],G=31&fm[I];N+=im[q]+om[G],++y[257+q],++w[G],k=j+L,++B}else v[C++]=e[j],++y[e[j]]}}for(j=Math.max(j,k);j<i;++j)v[C++]=e[j],++y[e[j]];c=Um(e,l,A,v,y,w,N,C,S,j-S,c),A||(a.r=7&c|l[c/8|0]<<3,c-=7,a.h=p,a.p=m,a.i=j,a.w=k)}else{for(j=a.w||0;j<i+A;j+=65535){var W=j+65535;W>=i&&(l[c/8|0]=A,W=i),c=_m(l,c+1,e.subarray(j,W))}a.i=i}return Nm(o,0,n+Bm(c)+s)},Mm=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,a=0|r.length,i=0;i!=a;){for(var o=Math.min(i+2655,a);i<o;++i)s+=n+=r[i];n=(65535&n)+15*(n>>16),s=(65535&s)+15*(s>>16)}e=n,t=s},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Dm=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),i=new nm(a.length+e.length);i.set(a),i.set(e,a.length),e=i,s.w=a.length}return Im(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,n,s)},Pm=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Tm=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=Mm();s.p(t.dictionary),Pm(e,2,s.d())}};function Om(e,t){t||(t={});var r=Mm();r.p(e);var n=Dm(e,t,t.dictionary?6:2,4);return Tm(n,t),Pm(n,n.length-4,r.d()),n}var Rm="undefined"!=typeof TextDecoder&&new TextDecoder;try{Rm.decode(Lm,{stream:!0})}catch(QN){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function Hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function zm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,A=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){A=!0,s=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(A)throw s}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hm(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Km(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const Vm=new TextEncoder;const qm=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),Gm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Wm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.A)(this,"buffer",void 0),(0,a.A)(this,"byteLength",void 0),(0,a.A)(this,"byteOffset",void 0),(0,a.A)(this,"length",void 0),(0,a.A)(this,"offset",void 0),(0,a.A)(this,"lastWrittenByte",void 0),(0,a.A)(this,"littleEndian",void 0),(0,a.A)(this,"_data",void 0),(0,a.A)(this,"_mark",void 0),(0,a.A)(this,"_marks",void 0);let r=!1;"number"===typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const n=t.offset?t.offset>>>0:0,s=e.byteLength-n;let i=n;(ArrayBuffer.isView(e)||e instanceof Wm)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+n),e=e.buffer),this.lastWrittenByte=r?s:0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,s),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),r=new Uint8Array(t);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const r=Gm[t].BYTES_PER_ELEMENT*e,n=this.byteOffset+this.offset,s=this.buffer.slice(n,n+r);if(this.littleEndian===qm&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(n,n+r));e.reverse();const s=new Gm[t](e.buffer);return this.offset+=r,s.reverse(),s}const a=new Gm[t](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Km(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return Km(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return Vm.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Jm(e){let t=e.length;for(;--t>=0;)e[t]=0}const Ym=256,Xm=286,Zm=30,$m=15,ep=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),tp=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),rp=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),np=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sp=new Array(576);Jm(sp);const ap=new Array(60);Jm(ap);const ip=new Array(512);Jm(ip);const op=new Array(256);Jm(op);const lp=new Array(29);Jm(lp);const Ap=new Array(Zm);function cp(e,t,r,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}let dp,up,hp;function fp(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Jm(Ap);const mp=e=>e<256?ip[e]:ip[256+(e>>>7)],pp=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},gp=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,pp(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},xp=(e,t,r)=>{gp(e,r[2*t],r[2*t+1])},bp=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},vp=(e,t,r)=>{const n=new Array(16);let s,a,i=0;for(s=1;s<=$m;s++)i=i+r[s-1]<<1,n[s]=i;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=bp(n[t]++,t))}},yp=e=>{let t;for(t=0;t<Xm;t++)e.dyn_ltree[2*t]=0;for(t=0;t<Zm;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},wp=e=>{e.bi_valid>8?pp(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Bp=(e,t,r,n)=>{const s=2*t,a=2*r;return e[s]<e[a]||e[s]===e[a]&&n[t]<=n[r]},Np=(e,t,r)=>{const n=e.heap[r];let s=r<<1;for(;s<=e.heap_len&&(s<e.heap_len&&Bp(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!Bp(t,n,e.heap[s],e.depth));)e.heap[r]=e.heap[s],r=s,s<<=1;e.heap[r]=n},jp=(e,t,r)=>{let n,s,a,i,o=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+o++],n+=(255&e.pending_buf[e.sym_buf+o++])<<8,s=e.pending_buf[e.sym_buf+o++],0===n?xp(e,s,t):(a=op[s],xp(e,a+Ym+1,t),i=ep[a],0!==i&&(s-=lp[a],gp(e,s,i)),n--,a=mp(n),xp(e,a,r),i=tp[a],0!==i&&(n-=Ap[a],gp(e,n,i)))}while(o<e.sym_next);xp(e,256,t)},Cp=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.elems;let i,o,l,A=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<a;i++)0!==r[2*i]?(e.heap[++e.heap_len]=A=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=A<2?++A:0,r[2*l]=1,e.depth[l]=0,e.opt_len--,s&&(e.static_len-=n[2*l+1]);for(t.max_code=A,i=e.heap_len>>1;i>=1;i--)Np(e,r,i);l=a;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Np(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=o,r[2*l]=r[2*i]+r[2*o],e.depth[l]=(e.depth[i]>=e.depth[o]?e.depth[i]:e.depth[o])+1,r[2*i+1]=r[2*o+1]=l,e.heap[1]=l++,Np(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const r=t.dyn_tree,n=t.max_code,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let A,c,d,u,h,f,m=0;for(u=0;u<=$m;u++)e.bl_count[u]=0;for(r[2*e.heap[e.heap_max]+1]=0,A=e.heap_max+1;A<573;A++)c=e.heap[A],u=r[2*r[2*c+1]+1]+1,u>l&&(u=l,m++),r[2*c+1]=u,c>n||(e.bl_count[u]++,h=0,c>=o&&(h=i[c-o]),f=r[2*c],e.opt_len+=f*(u+h),a&&(e.static_len+=f*(s[2*c+1]+h)));if(0!==m){do{for(u=l-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(u=l;0!==u;u--)for(c=e.bl_count[u];0!==c;)d=e.heap[--A],d>n||(r[2*d+1]!==u&&(e.opt_len+=(u-r[2*d+1])*r[2*d],r[2*d+1]=u),c--)}})(e,t),vp(r,A,e.bl_count)},kp=(e,t,r)=>{let n,s,a=-1,i=t[1],o=0,l=7,A=4;for(0===i&&(l=138,A=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)s=i,i=t[2*(n+1)+1],++o<l&&s===i||(o<A?e.bl_tree[2*s]+=o:0!==s?(s!==a&&e.bl_tree[2*s]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=s,0===i?(l=138,A=3):s===i?(l=6,A=3):(l=7,A=4))},Sp=(e,t,r)=>{let n,s,a=-1,i=t[1],o=0,l=7,A=4;for(0===i&&(l=138,A=3),n=0;n<=r;n++)if(s=i,i=t[2*(n+1)+1],!(++o<l&&s===i)){if(o<A)do{xp(e,s,e.bl_tree)}while(0!==--o);else 0!==s?(s!==a&&(xp(e,s,e.bl_tree),o--),xp(e,16,e.bl_tree),gp(e,o-3,2)):o<=10?(xp(e,17,e.bl_tree),gp(e,o-3,3)):(xp(e,18,e.bl_tree),gp(e,o-11,7));o=0,a=s,0===i?(l=138,A=3):s===i?(l=6,A=3):(l=7,A=4)}};let Fp=!1;const Ep=(e,t,r,n)=>{gp(e,0+(n?1:0),3),wp(e),pp(e,r),pp(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r};var _p=e=>{Fp||((()=>{let e,t,r,n,s;const a=new Array(16);for(r=0,n=0;n<28;n++)for(lp[n]=r,e=0;e<1<<ep[n];e++)op[r++]=n;for(op[r-1]=n,s=0,n=0;n<16;n++)for(Ap[n]=s,e=0;e<1<<tp[n];e++)ip[s++]=n;for(s>>=7;n<Zm;n++)for(Ap[n]=s<<7,e=0;e<1<<tp[n]-7;e++)ip[256+s++]=n;for(t=0;t<=$m;t++)a[t]=0;for(e=0;e<=143;)sp[2*e+1]=8,e++,a[8]++;for(;e<=255;)sp[2*e+1]=9,e++,a[9]++;for(;e<=279;)sp[2*e+1]=7,e++,a[7]++;for(;e<=287;)sp[2*e+1]=8,e++,a[8]++;for(vp(sp,287,a),e=0;e<Zm;e++)ap[2*e+1]=5,ap[2*e]=bp(e,5);dp=new cp(sp,ep,257,Xm,$m),up=new cp(ap,tp,0,Zm,$m),hp=new cp(new Array(0),rp,0,19,7)})(),Fp=!0),e.l_desc=new fp(e.dyn_ltree,dp),e.d_desc=new fp(e.dyn_dtree,up),e.bl_desc=new fp(e.bl_tree,hp),e.bi_buf=0,e.bi_valid=0,yp(e)},Up=(e,t,r,n)=>{let s,a,i=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<Ym;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Cp(e,e.l_desc),Cp(e,e.d_desc),i=(e=>{let t;for(kp(e,e.dyn_ltree,e.l_desc.max_code),kp(e,e.dyn_dtree,e.d_desc.max_code),Cp(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*np[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),s=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=s&&(s=a)):s=a=r+5,r+4<=s&&-1!==t?Ep(e,t,r,n):4===e.strategy||a===s?(gp(e,2+(n?1:0),3),jp(e,sp,ap)):(gp(e,4+(n?1:0),3),((e,t,r,n)=>{let s;for(gp(e,t-257,5),gp(e,r-1,5),gp(e,n-4,4),s=0;s<n;s++)gp(e,e.bl_tree[2*np[s]+1],3);Sp(e,e.dyn_ltree,t-1),Sp(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,i+1),jp(e,e.dyn_ltree,e.dyn_dtree)),yp(e),n&&wp(e)},Qp=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(op[r]+Ym+1)]++,e.dyn_dtree[2*mp(t)]++),e.sym_next===e.sym_end),Lp=e=>{gp(e,2,3),xp(e,256,sp),(e=>{16===e.bi_valid?(pp(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},Ip={_tr_init:_p,_tr_stored_block:Ep,_tr_flush_block:Up,_tr_tally:Qp,_tr_align:Lp};var Mp=(e,t,r,n)=>{let s=65535&e,a=e>>>16&65535,i=0;for(;0!==r;){i=r>2e3?2e3:r,r-=i;do{s=s+t[n++]|0,a=a+s|0}while(--i);s%=65521,a%=65521}return s|a<<16};const Dp=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var Pp=(e,t,r,n)=>{const s=Dp,a=n+r;e^=-1;for(let i=n;i<a;i++)e=e>>>8^s[255&(e^t[i])];return-1^e},Tp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Op={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Rp,_tr_stored_block:Hp,_tr_flush_block:zp,_tr_tally:Kp,_tr_align:Vp}=Ip,{Z_NO_FLUSH:qp,Z_PARTIAL_FLUSH:Gp,Z_FULL_FLUSH:Wp,Z_FINISH:Jp,Z_BLOCK:Yp,Z_OK:Xp,Z_STREAM_END:Zp,Z_STREAM_ERROR:$p,Z_DATA_ERROR:eg,Z_BUF_ERROR:tg,Z_DEFAULT_COMPRESSION:rg,Z_FILTERED:ng,Z_HUFFMAN_ONLY:sg,Z_RLE:ag,Z_FIXED:ig,Z_DEFAULT_STRATEGY:og,Z_UNKNOWN:lg,Z_DEFLATED:Ag}=Op,cg=258,dg=262,ug=42,hg=113,fg=666,mg=(e,t)=>(e.msg=Tp[t],t),pg=e=>2*e-(e>4?9:0),gg=e=>{let t=e.length;for(;--t>=0;)e[t]=0},xg=e=>{let t,r,n,s=e.w_size;t=e.hash_size,n=t;do{r=e.head[--n],e.head[n]=r>=s?r-s:0}while(--t);t=s,n=t;do{r=e.prev[--n],e.prev[n]=r>=s?r-s:0}while(--t)};let bg=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;const vg=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},yg=(e,t)=>{zp(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,vg(e.strm)},wg=(e,t)=>{e.pending_buf[e.pending++]=t},Bg=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ng=(e,t,r,n)=>{let s=e.avail_in;return s>n&&(s=n),0===s?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),r),1===e.state.wrap?e.adler=Mp(e.adler,t,s,r):2===e.state.wrap&&(e.adler=Pp(e.adler,t,s,r)),e.next_in+=s,e.total_in+=s,s)},jg=(e,t)=>{let r,n,s=e.max_chain_length,a=e.strstart,i=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-dg?e.strstart-(e.w_size-dg):0,A=e.window,c=e.w_mask,d=e.prev,u=e.strstart+cg;let h=A[a+i-1],f=A[a+i];e.prev_length>=e.good_match&&(s>>=2),o>e.lookahead&&(o=e.lookahead);do{if(r=t,A[r+i]===f&&A[r+i-1]===h&&A[r]===A[a]&&A[++r]===A[a+1]){a+=2,r++;do{}while(A[++a]===A[++r]&&A[++a]===A[++r]&&A[++a]===A[++r]&&A[++a]===A[++r]&&A[++a]===A[++r]&&A[++a]===A[++r]&&A[++a]===A[++r]&&A[++a]===A[++r]&&a<u);if(n=cg-(u-a),a=u-cg,n>i){if(e.match_start=t,i=n,n>=o)break;h=A[a+i-1],f=A[a+i]}}}while((t=d[t&c])>l&&0!==--s);return i<=e.lookahead?i:e.lookahead},Cg=e=>{const t=e.w_size;let r,n,s;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-dg)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),xg(e),n+=t),0===e.strm.avail_in)break;if(r=Ng(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=bg(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=bg(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<dg&&0!==e.strm.avail_in)},kg=(e,t)=>{let r,n,s,a=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i=0,o=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s)break;if(s=e.strm.avail_out-s,n=e.strstart-e.block_start,r>n+e.strm.avail_in&&(r=n+e.strm.avail_in),r>s&&(r=s),r<a&&(0===r&&t!==Jp||t===qp||r!==n+e.strm.avail_in))break;i=t===Jp&&r===n+e.strm.avail_in?1:0,Hp(e,0,0,i),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,vg(e.strm),n&&(n>r&&(n=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,r-=n),r&&(Ng(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(0===i);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),i?4:t!==qp&&t!==Jp&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(Ng(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,a=s>e.w_size?e.w_size:s,n=e.strstart-e.block_start,(n>=a||(n||t===Jp)&&t!==qp&&0===e.strm.avail_in&&n<=s)&&(r=n>s?s:n,i=t===Jp&&0===e.strm.avail_in&&r===n?1:0,Hp(e,e.block_start,r,i),e.block_start+=r,vg(e.strm)),i?3:1)},Sg=(e,t)=>{let r,n;for(;;){if(e.lookahead<dg){if(Cg(e),e.lookahead<dg&&t===qp)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=bg(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-dg&&(e.match_length=jg(e,r)),e.match_length>=3)if(n=Kp(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=bg(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=bg(e,e.ins_h,e.window[e.strstart+1]);else n=Kp(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(yg(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Jp?(yg(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(yg(e,!1),0===e.strm.avail_out)?1:2},Fg=(e,t)=>{let r,n,s;for(;;){if(e.lookahead<dg){if(Cg(e),e.lookahead<dg&&t===qp)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=bg(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-dg&&(e.match_length=jg(e,r),e.match_length<=5&&(e.strategy===ng||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-3,n=Kp(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=bg(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(yg(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Kp(e,0,e.window[e.strstart-1]),n&&yg(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Kp(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Jp?(yg(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(yg(e,!1),0===e.strm.avail_out)?1:2};function Eg(e,t,r,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=s}const _g=[new Eg(0,0,0,0,kg),new Eg(4,4,8,4,Sg),new Eg(4,5,16,8,Sg),new Eg(4,6,32,32,Sg),new Eg(4,4,16,16,Fg),new Eg(8,16,32,32,Fg),new Eg(8,16,128,128,Fg),new Eg(8,32,128,256,Fg),new Eg(32,128,258,1024,Fg),new Eg(32,258,258,4096,Fg)];function Ug(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ag,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),gg(this.dyn_ltree),gg(this.dyn_dtree),gg(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),gg(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),gg(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Qg=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==ug&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==hg&&t.status!==fg?1:0},Lg=e=>{if(Qg(e))return mg(e,$p);e.total_in=e.total_out=0,e.data_type=lg;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?ug:hg,e.adler=2===t.wrap?0:1,t.last_flush=-2,Rp(t),Xp},Ig=e=>{const t=Lg(e);return t===Xp&&(e=>{e.window_size=2*e.w_size,gg(e.head),e.max_lazy_match=_g[e.level].max_lazy,e.good_match=_g[e.level].good_length,e.nice_match=_g[e.level].nice_length,e.max_chain_length=_g[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},Mg=(e,t,r,n,s,a)=>{if(!e)return $p;let i=1;if(t===rg&&(t=6),n<0?(i=0,n=-n):n>15&&(i=2,n-=16),s<1||s>9||r!==Ag||n<8||n>15||t<0||t>9||a<0||a>ig||8===n&&1!==i)return mg(e,$p);8===n&&(n=9);const o=new Ug;return e.state=o,o.strm=e,o.status=ug,o.wrap=i,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=s+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<s+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=a,o.method=r,Ig(e)};var Dg=(e,t)=>{if(Qg(e)||t>Yp||t<0)return e?mg(e,$p):$p;const r=e.state;if(!e.output||0!==e.avail_in&&!e.input||r.status===fg&&t!==Jp)return mg(e,0===e.avail_out?tg:$p);const n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(vg(e),0===e.avail_out)return r.last_flush=-1,Xp}else if(0===e.avail_in&&pg(t)<=pg(n)&&t!==Jp)return mg(e,tg);if(r.status===fg&&0!==e.avail_in)return mg(e,tg);if(r.status===ug&&0===r.wrap&&(r.status=hg),r.status===ug){let t=Ag+(r.w_bits-8<<4)<<8,n=-1;if(n=r.strategy>=sg||r.level<2?0:r.level<6?1:6===r.level?2:3,t|=n<<6,0!==r.strstart&&(t|=32),t+=31-t%31,Bg(r,t),0!==r.strstart&&(Bg(r,e.adler>>>16),Bg(r,65535&e.adler)),e.adler=1,r.status=hg,vg(e),0!==r.pending)return r.last_flush=-1,Xp}if(57===r.status)if(e.adler=0,wg(r,31),wg(r,139),wg(r,8),r.gzhead)wg(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),wg(r,255&r.gzhead.time),wg(r,r.gzhead.time>>8&255),wg(r,r.gzhead.time>>16&255),wg(r,r.gzhead.time>>24&255),wg(r,9===r.level?2:r.strategy>=sg||r.level<2?4:0),wg(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(wg(r,255&r.gzhead.extra.length),wg(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Pp(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(wg(r,0),wg(r,0),wg(r,0),wg(r,0),wg(r,0),wg(r,9===r.level?2:r.strategy>=sg||r.level<2?4:0),wg(r,3),r.status=hg,vg(e),0!==r.pending)return r.last_flush=-1,Xp;if(69===r.status){if(r.gzhead.extra){let t=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let s=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>t&&(e.adler=Pp(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex+=s,vg(e),0!==r.pending)return r.last_flush=-1,Xp;t=0,n-=s}let s=new Uint8Array(r.gzhead.extra);r.pending_buf.set(s.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>t&&(e.adler=Pp(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=Pp(e.adler,r.pending_buf,r.pending-n,n)),vg(e),0!==r.pending)return r.last_flush=-1,Xp;n=0}t=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,wg(r,t)}while(0!==t);r.gzhead.hcrc&&r.pending>n&&(e.adler=Pp(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=Pp(e.adler,r.pending_buf,r.pending-n,n)),vg(e),0!==r.pending)return r.last_flush=-1,Xp;n=0}t=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,wg(r,t)}while(0!==t);r.gzhead.hcrc&&r.pending>n&&(e.adler=Pp(e.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(vg(e),0!==r.pending))return r.last_flush=-1,Xp;wg(r,255&e.adler),wg(r,e.adler>>8&255),e.adler=0}if(r.status=hg,vg(e),0!==r.pending)return r.last_flush=-1,Xp}if(0!==e.avail_in||0!==r.lookahead||t!==qp&&r.status!==fg){let n=0===r.level?kg(r,t):r.strategy===sg?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(Cg(e),0===e.lookahead)){if(t===qp)return 1;break}if(e.match_length=0,r=Kp(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(yg(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Jp?(yg(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(yg(e,!1),0===e.strm.avail_out)?1:2})(r,t):r.strategy===ag?((e,t)=>{let r,n,s,a;const i=e.window;for(;;){if(e.lookahead<=cg){if(Cg(e),e.lookahead<=cg&&t===qp)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(s=e.strstart-1,n=i[s],n===i[++s]&&n===i[++s]&&n===i[++s])){a=e.strstart+cg;do{}while(n===i[++s]&&n===i[++s]&&n===i[++s]&&n===i[++s]&&n===i[++s]&&n===i[++s]&&n===i[++s]&&n===i[++s]&&s<a);e.match_length=cg-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=Kp(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Kp(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(yg(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Jp?(yg(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(yg(e,!1),0===e.strm.avail_out)?1:2})(r,t):_g[r.level].func(r,t);if(3!==n&&4!==n||(r.status=fg),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),Xp;if(2===n&&(t===Gp?Vp(r):t!==Yp&&(Hp(r,0,0,!1),t===Wp&&(gg(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),vg(e),0===e.avail_out))return r.last_flush=-1,Xp}return t!==Jp?Xp:r.wrap<=0?Zp:(2===r.wrap?(wg(r,255&e.adler),wg(r,e.adler>>8&255),wg(r,e.adler>>16&255),wg(r,e.adler>>24&255),wg(r,255&e.total_in),wg(r,e.total_in>>8&255),wg(r,e.total_in>>16&255),wg(r,e.total_in>>24&255)):(Bg(r,e.adler>>>16),Bg(r,65535&e.adler)),vg(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Xp:Zp)},Pg=(e,t)=>{let r=t.length;if(Qg(e))return $p;const n=e.state,s=n.wrap;if(2===s||1===s&&n.status!==ug||n.lookahead)return $p;if(1===s&&(e.adler=Mp(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===s&&(gg(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}const a=e.avail_in,i=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Cg(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=bg(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,Cg(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=i,e.input=o,e.avail_in=a,n.wrap=s,Xp},Tg={deflateInit:(e,t)=>Mg(e,t,Ag,15,8,og),deflateInit2:Mg,deflateReset:Ig,deflateResetKeep:Lg,deflateSetHeader:(e,t)=>Qg(e)||2!==e.state.wrap?$p:(e.state.gzhead=t,Xp),deflate:Dg,deflateEnd:e=>{if(Qg(e))return $p;const t=e.state.status;return e.state=null,t===hg?mg(e,eg):Xp},deflateSetDictionary:Pg,deflateInfo:"pako deflate (from Nodeca project)"};const Og=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Rg=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(const t in r)Og(r,t)&&(e[t]=r[t])}}return e},Hg=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,a=e.length;n<a;n++){let t=e[n];r.set(t,s),s+=t.length}return r};let zg=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(LN){zg=!1}const Kg=new Uint8Array(256);for(let r=0;r<256;r++)Kg[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Kg[254]=Kg[254]=1;var Vg=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,s,a,i=e.length,o=0;for(s=0;s<i;s++)r=e.charCodeAt(s),55296===(64512&r)&&s+1<i&&(n=e.charCodeAt(s+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),s++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,s=0;a<o;s++)r=e.charCodeAt(s),55296===(64512&r)&&s+1<i&&(n=e.charCodeAt(s+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t},qg=(e,t)=>{const r=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,s;const a=new Array(2*r);for(s=0,n=0;n<r;){let t=e[n++];if(t<128){a[s++]=t;continue}let i=Kg[t];if(i>4)a[s++]=65533,n+=i-1;else{for(t&=2===i?31:3===i?15:7;i>1&&n<r;)t=t<<6|63&e[n++],i--;i>1?a[s++]=65533:t<65536?a[s++]=t:(t-=65536,a[s++]=55296|t>>10&1023,a[s++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&zg)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r})(a,s)},Gg=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&128===(192&e[r]);)r--;return r<0||0===r?t:r+Kg[e[r]]>t?r:t};var Wg=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Jg=Object.prototype.toString,{Z_NO_FLUSH:Yg,Z_SYNC_FLUSH:Xg,Z_FULL_FLUSH:Zg,Z_FINISH:$g,Z_OK:ex,Z_STREAM_END:tx,Z_DEFAULT_COMPRESSION:rx,Z_DEFAULT_STRATEGY:nx,Z_DEFLATED:sx}=Op;function ax(e){this.options=Rg({level:rx,method:sx,chunkSize:16384,windowBits:15,memLevel:8,strategy:nx},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Wg,this.strm.avail_out=0;let r=Tg.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==ex)throw new Error(Tp[r]);if(t.header&&Tg.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?Vg(t.dictionary):"[object ArrayBuffer]"===Jg.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=Tg.deflateSetDictionary(this.strm,e),r!==ex)throw new Error(Tp[r]);this._dict_set=!0}}function ix(e,t){const r=new ax(t);if(r.push(e,!0),r.err)throw r.msg||Tp[r.err];return r.result}ax.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let s,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?$g:Yg,"string"===typeof e?r.input=Vg(e):"[object ArrayBuffer]"===Jg.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===Xg||a===Zg)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(s=Tg.deflate(r,a),s===tx)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),s=Tg.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===ex;if(0!==r.avail_out){if(a>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ax.prototype.onData=function(e){this.chunks.push(e)},ax.prototype.onEnd=function(e){e===ex&&(this.result=Hg(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ox={Deflate:ax,deflate:ix,deflateRaw:function(e,t){return(t=t||{}).raw=!0,ix(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,ix(e,t)},constants:Op};const lx=16209;var Ax=function(e,t){let r,n,s,a,i,o,l,A,c,d,u,h,f,m,p,g,x,b,v,y,w,B,N,j;const C=e.state;r=e.next_in,N=e.input,n=r+(e.avail_in-5),s=e.next_out,j=e.output,a=s-(t-e.avail_out),i=s+(e.avail_out-257),o=C.dmax,l=C.wsize,A=C.whave,c=C.wnext,d=C.window,u=C.hold,h=C.bits,f=C.lencode,m=C.distcode,p=(1<<C.lenbits)-1,g=(1<<C.distbits)-1;e:do{h<15&&(u+=N[r++]<<h,h+=8,u+=N[r++]<<h,h+=8),x=f[u&p];t:for(;;){if(b=x>>>24,u>>>=b,h-=b,b=x>>>16&255,0===b)j[s++]=65535&x;else{if(!(16&b)){if(0===(64&b)){x=f[(65535&x)+(u&(1<<b)-1)];continue t}if(32&b){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=lx;break e}v=65535&x,b&=15,b&&(h<b&&(u+=N[r++]<<h,h+=8),v+=u&(1<<b)-1,u>>>=b,h-=b),h<15&&(u+=N[r++]<<h,h+=8,u+=N[r++]<<h,h+=8),x=m[u&g];r:for(;;){if(b=x>>>24,u>>>=b,h-=b,b=x>>>16&255,!(16&b)){if(0===(64&b)){x=m[(65535&x)+(u&(1<<b)-1)];continue r}e.msg="invalid distance code",C.mode=lx;break e}if(y=65535&x,b&=15,h<b&&(u+=N[r++]<<h,h+=8,h<b&&(u+=N[r++]<<h,h+=8)),y+=u&(1<<b)-1,y>o){e.msg="invalid distance too far back",C.mode=lx;break e}if(u>>>=b,h-=b,b=s-a,y>b){if(b=y-b,b>A&&C.sane){e.msg="invalid distance too far back",C.mode=lx;break e}if(w=0,B=d,0===c){if(w+=l-b,b<v){v-=b;do{j[s++]=d[w++]}while(--b);w=s-y,B=j}}else if(c<b){if(w+=l+c-b,b-=c,b<v){v-=b;do{j[s++]=d[w++]}while(--b);if(w=0,c<v){b=c,v-=b;do{j[s++]=d[w++]}while(--b);w=s-y,B=j}}}else if(w+=c-b,b<v){v-=b;do{j[s++]=d[w++]}while(--b);w=s-y,B=j}for(;v>2;)j[s++]=B[w++],j[s++]=B[w++],j[s++]=B[w++],v-=3;v&&(j[s++]=B[w++],v>1&&(j[s++]=B[w++]))}else{w=s-y;do{j[s++]=j[w++],j[s++]=j[w++],j[s++]=j[w++],v-=3}while(v>2);v&&(j[s++]=j[w++],v>1&&(j[s++]=j[w++]))}break}}break}}while(r<n&&s<i);v=h>>3,r-=v,h-=v<<3,u&=(1<<h)-1,e.next_in=r,e.next_out=s,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=s<i?i-s+257:257-(s-i),C.hold=u,C.bits=h};const cx=15,dx=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ux=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),hx=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),fx=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var mx=(e,t,r,n,s,a,i,o)=>{const l=o.bits;let A,c,d,u,h,f,m=0,p=0,g=0,x=0,b=0,v=0,y=0,w=0,B=0,N=0,j=null;const C=new Uint16Array(16),k=new Uint16Array(16);let S,F,E,_=null;for(m=0;m<=cx;m++)C[m]=0;for(p=0;p<n;p++)C[t[r+p]]++;for(b=l,x=cx;x>=1&&0===C[x];x--);if(b>x&&(b=x),0===x)return s[a++]=20971520,s[a++]=20971520,o.bits=1,0;for(g=1;g<x&&0===C[g];g++);for(b<g&&(b=g),w=1,m=1;m<=cx;m++)if(w<<=1,w-=C[m],w<0)return-1;if(w>0&&(0===e||1!==x))return-1;for(k[1]=0,m=1;m<cx;m++)k[m+1]=k[m]+C[m];for(p=0;p<n;p++)0!==t[r+p]&&(i[k[t[r+p]]++]=p);if(0===e?(j=_=i,f=20):1===e?(j=dx,_=ux,f=257):(j=hx,_=fx,f=0),N=0,p=0,m=g,h=a,v=b,y=0,d=-1,B=1<<b,u=B-1,1===e&&B>852||2===e&&B>592)return 1;for(;;){S=m-y,i[p]+1<f?(F=0,E=i[p]):i[p]>=f?(F=_[i[p]-f],E=j[i[p]-f]):(F=96,E=0),A=1<<m-y,c=1<<v,g=c;do{c-=A,s[h+(N>>y)+c]=S<<24|F<<16|E}while(0!==c);for(A=1<<m-1;N&A;)A>>=1;if(0!==A?(N&=A-1,N+=A):N=0,p++,0===--C[m]){if(m===x)break;m=t[r+i[p]]}if(m>b&&(N&u)!==d){for(0===y&&(y=b),h+=g,v=m-y,w=1<<v;v+y<x&&(w-=C[v+y],!(w<=0));)v++,w<<=1;if(B+=1<<v,1===e&&B>852||2===e&&B>592)return 1;d=N&u,s[d]=b<<24|v<<16|h-a}}return 0!==N&&(s[h+N]=m-y<<24|64<<16),o.bits=b,0};const{Z_FINISH:px,Z_BLOCK:gx,Z_TREES:xx,Z_OK:bx,Z_STREAM_END:vx,Z_NEED_DICT:yx,Z_STREAM_ERROR:wx,Z_DATA_ERROR:Bx,Z_MEM_ERROR:Nx,Z_BUF_ERROR:jx,Z_DEFLATED:Cx}=Op,kx=16180,Sx=16190,Fx=16191,Ex=16192,_x=16194,Ux=16199,Qx=16200,Lx=16206,Ix=16209,Mx=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Dx(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Px=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<kx||t.mode>16211?1:0},Tx=e=>{if(Px(e))return wx;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=kx,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,bx},Ox=e=>{if(Px(e))return wx;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Tx(e)},Rx=(e,t)=>{let r;if(Px(e))return wx;const n=e.state;return t<0?(r=0,t=-t):(r=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?wx:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Ox(e))},Hx=(e,t)=>{if(!e)return wx;const r=new Dx;e.state=r,r.strm=e,r.window=null,r.mode=kx;const n=Rx(e,t);return n!==bx&&(e.state=null),n};let zx,Kx,Vx=!0;const qx=e=>{if(Vx){zx=new Int32Array(512),Kx=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(mx(1,e.lens,0,288,zx,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;mx(2,e.lens,0,32,Kx,0,e.work,{bits:5}),Vx=!1}e.lencode=zx,e.lenbits=9,e.distcode=Kx,e.distbits=5},Gx=(e,t,r,n)=>{let s;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>n&&(s=n),a.window.set(t.subarray(r-n,r-n+s),a.wnext),(n-=s)?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0};var Wx=(e,t)=>{let r,n,s,a,i,o,l,A,c,d,u,h,f,m,p,g,x,b,v,y,w,B,N=0;const j=new Uint8Array(4);let C,k;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Px(e)||!e.output||!e.input&&0!==e.avail_in)return wx;r=e.state,r.mode===Fx&&(r.mode=Ex),i=e.next_out,s=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,A=r.hold,c=r.bits,d=o,u=l,B=bx;e:for(;;)switch(r.mode){case kx:if(0===r.wrap){r.mode=Ex;break}for(;c<16;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}if(2&r.wrap&&35615===A){0===r.wbits&&(r.wbits=15),r.check=0,j[0]=255&A,j[1]=A>>>8&255,r.check=Pp(r.check,j,2,0),A=0,c=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&A)<<8)+(A>>8))%31){e.msg="incorrect header check",r.mode=Ix;break}if((15&A)!==Cx){e.msg="unknown compression method",r.mode=Ix;break}if(A>>>=4,c-=4,w=8+(15&A),0===r.wbits&&(r.wbits=w),w>15||w>r.wbits){e.msg="invalid window size",r.mode=Ix;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&A?16189:Fx,A=0,c=0;break;case 16181:for(;c<16;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}if(r.flags=A,(255&r.flags)!==Cx){e.msg="unknown compression method",r.mode=Ix;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Ix;break}r.head&&(r.head.text=A>>8&1),512&r.flags&&4&r.wrap&&(j[0]=255&A,j[1]=A>>>8&255,r.check=Pp(r.check,j,2,0)),A=0,c=0,r.mode=16182;case 16182:for(;c<32;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}r.head&&(r.head.time=A),512&r.flags&&4&r.wrap&&(j[0]=255&A,j[1]=A>>>8&255,j[2]=A>>>16&255,j[3]=A>>>24&255,r.check=Pp(r.check,j,4,0)),A=0,c=0,r.mode=16183;case 16183:for(;c<16;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}r.head&&(r.head.xflags=255&A,r.head.os=A>>8),512&r.flags&&4&r.wrap&&(j[0]=255&A,j[1]=A>>>8&255,r.check=Pp(r.check,j,2,0)),A=0,c=0,r.mode=16184;case 16184:if(1024&r.flags){for(;c<16;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}r.length=A,r.head&&(r.head.extra_len=A),512&r.flags&&4&r.wrap&&(j[0]=255&A,j[1]=A>>>8&255,r.check=Pp(r.check,j,2,0)),A=0,c=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(h=r.length,h>o&&(h=o),h&&(r.head&&(w=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),w)),512&r.flags&&4&r.wrap&&(r.check=Pp(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===o)break e;h=0;do{w=n[a+h++],r.head&&w&&r.length<65536&&(r.head.name+=String.fromCharCode(w))}while(w&&h<o);if(512&r.flags&&4&r.wrap&&(r.check=Pp(r.check,n,h,a)),o-=h,a+=h,w)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===o)break e;h=0;do{w=n[a+h++],r.head&&w&&r.length<65536&&(r.head.comment+=String.fromCharCode(w))}while(w&&h<o);if(512&r.flags&&4&r.wrap&&(r.check=Pp(r.check,n,h,a)),o-=h,a+=h,w)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;c<16;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}if(4&r.wrap&&A!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Ix;break}A=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Fx;break;case 16189:for(;c<32;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}e.adler=r.check=Mx(A),A=0,c=0,r.mode=Sx;case Sx:if(0===r.havedict)return e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=A,r.bits=c,yx;e.adler=r.check=1,r.mode=Fx;case Fx:if(t===gx||t===xx)break e;case Ex:if(r.last){A>>>=7&c,c-=7&c,r.mode=Lx;break}for(;c<3;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}switch(r.last=1&A,A>>>=1,c-=1,3&A){case 0:r.mode=16193;break;case 1:if(qx(r),r.mode=Ux,t===xx){A>>>=2,c-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=Ix}A>>>=2,c-=2;break;case 16193:for(A>>>=7&c,c-=7&c;c<32;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}if((65535&A)!==(A>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ix;break}if(r.length=65535&A,A=0,c=0,r.mode=_x,t===xx)break e;case _x:r.mode=16195;case 16195:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),0===h)break e;s.set(n.subarray(a,a+h),i),o-=h,a+=h,l-=h,i+=h,r.length-=h;break}r.mode=Fx;break;case 16196:for(;c<14;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}if(r.nlen=257+(31&A),A>>>=5,c-=5,r.ndist=1+(31&A),A>>>=5,c-=5,r.ncode=4+(15&A),A>>>=4,c-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ix;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;c<3;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}r.lens[S[r.have++]]=7&A,A>>>=3,c-=3}for(;r.have<19;)r.lens[S[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},B=mx(0,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,B){e.msg="invalid code lengths set",r.mode=Ix;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[A&(1<<r.lenbits)-1],p=N>>>24,g=N>>>16&255,x=65535&N,!(p<=c);){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}if(x<16)A>>>=p,c-=p,r.lens[r.have++]=x;else{if(16===x){for(k=p+2;c<k;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}if(A>>>=p,c-=p,0===r.have){e.msg="invalid bit length repeat",r.mode=Ix;break}w=r.lens[r.have-1],h=3+(3&A),A>>>=2,c-=2}else if(17===x){for(k=p+3;c<k;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}A>>>=p,c-=p,w=0,h=3+(7&A),A>>>=3,c-=3}else{for(k=p+7;c<k;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}A>>>=p,c-=p,w=0,h=11+(127&A),A>>>=7,c-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ix;break}for(;h--;)r.lens[r.have++]=w}}if(r.mode===Ix)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Ix;break}if(r.lenbits=9,C={bits:r.lenbits},B=mx(1,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,B){e.msg="invalid literal/lengths set",r.mode=Ix;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},B=mx(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,B){e.msg="invalid distances set",r.mode=Ix;break}if(r.mode=Ux,t===xx)break e;case Ux:r.mode=Qx;case Qx:if(o>=6&&l>=258){e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=A,r.bits=c,Ax(e,u),i=e.next_out,s=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,A=r.hold,c=r.bits,r.mode===Fx&&(r.back=-1);break}for(r.back=0;N=r.lencode[A&(1<<r.lenbits)-1],p=N>>>24,g=N>>>16&255,x=65535&N,!(p<=c);){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}if(g&&0===(240&g)){for(b=p,v=g,y=x;N=r.lencode[y+((A&(1<<b+v)-1)>>b)],p=N>>>24,g=N>>>16&255,x=65535&N,!(b+p<=c);){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}A>>>=b,c-=b,r.back+=b}if(A>>>=p,c-=p,r.back+=p,r.length=x,0===g){r.mode=16205;break}if(32&g){r.back=-1,r.mode=Fx;break}if(64&g){e.msg="invalid literal/length code",r.mode=Ix;break}r.extra=15&g,r.mode=16201;case 16201:if(r.extra){for(k=r.extra;c<k;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}r.length+=A&(1<<r.extra)-1,A>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;N=r.distcode[A&(1<<r.distbits)-1],p=N>>>24,g=N>>>16&255,x=65535&N,!(p<=c);){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}if(0===(240&g)){for(b=p,v=g,y=x;N=r.distcode[y+((A&(1<<b+v)-1)>>b)],p=N>>>24,g=N>>>16&255,x=65535&N,!(b+p<=c);){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}A>>>=b,c-=b,r.back+=b}if(A>>>=p,c-=p,r.back+=p,64&g){e.msg="invalid distance code",r.mode=Ix;break}r.offset=x,r.extra=15&g,r.mode=16203;case 16203:if(r.extra){for(k=r.extra;c<k;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}r.offset+=A&(1<<r.extra)-1,A>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ix;break}r.mode=16204;case 16204:if(0===l)break e;if(h=u-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ix;break}h>r.wnext?(h-=r.wnext,f=r.wsize-h):f=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=s,f=i-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do{s[i++]=m[f++]}while(--h);0===r.length&&(r.mode=Qx);break;case 16205:if(0===l)break e;s[i++]=r.length,l--,r.mode=Qx;break;case Lx:if(r.wrap){for(;c<32;){if(0===o)break e;o--,A|=n[a++]<<c,c+=8}if(u-=l,e.total_out+=u,r.total+=u,4&r.wrap&&u&&(e.adler=r.check=r.flags?Pp(r.check,s,u,i-u):Mp(r.check,s,u,i-u)),u=l,4&r.wrap&&(r.flags?A:Mx(A))!==r.check){e.msg="incorrect data check",r.mode=Ix;break}A=0,c=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;c<32;){if(0===o)break e;o--,A+=n[a++]<<c,c+=8}if(4&r.wrap&&A!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Ix;break}A=0,c=0}r.mode=16208;case 16208:B=vx;break e;case Ix:B=Bx;break e;case 16210:return Nx;default:return wx}return e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=A,r.bits=c,(r.wsize||u!==e.avail_out&&r.mode<Ix&&(r.mode<Lx||t!==px))&&Gx(e,e.output,e.next_out,u-e.avail_out),d-=e.avail_in,u-=e.avail_out,e.total_in+=d,e.total_out+=u,r.total+=u,4&r.wrap&&u&&(e.adler=r.check=r.flags?Pp(r.check,s,u,e.next_out-u):Mp(r.check,s,u,e.next_out-u)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Fx?128:0)+(r.mode===Ux||r.mode===_x?256:0),(0===d&&0===u||t===px)&&B===bx&&(B=jx),B},Jx={inflateReset:Ox,inflateReset2:Rx,inflateResetKeep:Tx,inflateInit:e=>Hx(e,15),inflateInit2:Hx,inflate:Wx,inflateEnd:e=>{if(Px(e))return wx;let t=e.state;return t.window&&(t.window=null),e.state=null,bx},inflateGetHeader:(e,t)=>{if(Px(e))return wx;const r=e.state;return 0===(2&r.wrap)?wx:(r.head=t,t.done=!1,bx)},inflateSetDictionary:(e,t)=>{const r=t.length;let n,s,a;return Px(e)?wx:(n=e.state,0!==n.wrap&&n.mode!==Sx?wx:n.mode===Sx&&(s=1,s=Mp(s,t,r,0),s!==n.check)?Bx:(a=Gx(e,t,r,r),a?(n.mode=16210,Nx):(n.havedict=1,bx)))},inflateInfo:"pako inflate (from Nodeca project)"};var Yx=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Xx=Object.prototype.toString,{Z_NO_FLUSH:Zx,Z_FINISH:$x,Z_OK:eb,Z_STREAM_END:tb,Z_NEED_DICT:rb,Z_STREAM_ERROR:nb,Z_DATA_ERROR:sb,Z_MEM_ERROR:ab}=Op;function ib(e){this.options=Rg({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Wg,this.strm.avail_out=0;let r=Jx.inflateInit2(this.strm,t.windowBits);if(r!==eb)throw new Error(Tp[r]);if(this.header=new Yx,Jx.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Vg(t.dictionary):"[object ArrayBuffer]"===Xx.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Jx.inflateSetDictionary(this.strm,t.dictionary),r!==eb)))throw new Error(Tp[r])}function ob(e,t){const r=new ib(t);if(r.push(e),r.err)throw r.msg||Tp[r.err];return r.result}ib.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let a,i,o;if(this.ended)return!1;for(i=t===~~t?t:!0===t?$x:Zx,"[object ArrayBuffer]"===Xx.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Jx.inflate(r,i),a===rb&&s&&(a=Jx.inflateSetDictionary(r,s),a===eb?a=Jx.inflate(r,i):a===sb&&(a=rb));r.avail_in>0&&a===tb&&r.state.wrap>0&&0!==e[r.next_in];)Jx.inflateReset(r),a=Jx.inflate(r,i);switch(a){case nb:case sb:case rb:case ab:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(0===r.avail_out||a===tb))if("string"===this.options.to){let e=Gg(r.output,r.next_out),t=r.next_out-e,s=qg(r.output,e);r.next_out=t,r.avail_out=n-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(s)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==eb||0!==o){if(a===tb)return a=Jx.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},ib.prototype.onData=function(e){this.chunks.push(e)},ib.prototype.onEnd=function(e){e===eb&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Hg(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var lb={Inflate:ib,inflate:ob,inflateRaw:function(e,t){return(t=t||{}).raw=!0,ob(e,t)},ungzip:ob,constants:Op};const{Deflate:Ab,deflate:cb,deflateRaw:db,gzip:ub}=ox,{Inflate:hb,inflate:fb,inflateRaw:mb,ungzip:pb}=lb;var gb=hb,xb=fb;const bb=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;bb[r]=e}const vb=4294967295;function yb(e,t){return(function(e,t,r){let n=e;for(let s=0;s<r;s++)n=bb[255&(n^t[s])]^n>>>8;return n}(vb,e,t)^vb)>>>0}function wb(e,t,r){const n=e.readUint32(),s=yb(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error("CRC mismatch for chunk ".concat(r,". Expected ").concat(n,", found ").concat(s))}function Bb(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Nb(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function jb(e,t,r,n){let s=0;if(0===r.length)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function Cb(e,t,r,n,s){let a=0;if(0===r.length){for(;a<s;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-s]>>1)&255}else{for(;a<s;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-s]+r[a]>>1)&255}}function kb(e,t,r,n,s){let a=0;if(0===r.length){for(;a<s;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-s]&255}else{for(;a<s;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+Sb(t[a-s],r[a],r[a-s])&255}}function Sb(e,t,r){const n=e+t-r,s=Math.abs(n-e),a=Math.abs(n-t),i=Math.abs(n-r);return s<=a&&s<=i?e:a<=i?t:r}function Fb(e,t,r,n,s,a){switch(e){case 0:Bb(t,r,s);break;case 1:Nb(t,r,s,a);break;case 2:jb(t,r,n,s);break;case 3:Cb(t,r,n,s,a);break;case 4:kb(t,r,n,s,a);break;default:throw new Error("Unsupported filter: ".concat(e))}}const Eb=new Uint16Array([255]),_b=255===new Uint8Array(Eb.buffer)[0];function Ub(e){return(255&e)<<8|e>>8&255}const Qb=new Uint16Array([255]),Lb=255===new Uint8Array(Qb.buffer)[0],Ib=new Uint8Array(0);function Mb(e){const{data:t,width:r,height:n,channels:s,depth:a}=e,i=Math.ceil(a/8)*s,o=Math.ceil(a/8*s*r),l=new Uint8Array(n*o);let A,c,d=Ib,u=0;for(let h=0;h<n;h++){switch(A=t.subarray(u+1,u+1+o),c=l.subarray(h*o,(h+1)*o),t[u]){case 0:Bb(A,c,o);break;case 1:Nb(A,c,o,i);break;case 2:jb(A,c,d,o);break;case 3:Cb(A,c,d,o,i);break;case 4:kb(A,c,d,o,i);break;default:throw new Error("Unsupported filter: ".concat(t[u]))}d=c,u+=o+1}if(16===a){const e=new Uint16Array(l.buffer);if(Lb)for(let t=0;t<e.length;t++)e[t]=Db(e[t]);return e}return l}function Db(e){return(255&e)<<8|e>>8&255}const Pb=Uint8Array.of(137,80,78,71,13,10,26,10);function Tb(e){if(!function(e){if(e.length<Pb.length)return!1;for(let t=0;t<Pb.length;t++)if(e[t]!==Pb[t])return!1;return!0}(e.readBytes(Pb.length)))throw new Error("wrong PNG signature")}const Ob="tEXt",Rb=new TextDecoder("latin1");function Hb(e){if(Kb(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const zb=/^[\u0000-\u00FF]*$/;function Kb(e){if(!zb.test(e))throw new Error("invalid latin1 text")}function Vb(e,t,r){const n=qb(t);e[n]=function(e,t){return Rb.decode(e.readBytes(t))}(t,r-n.length-1)}function qb(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const r=Rb.decode(e.readBytes(t-e.offset-1));return e.skip(1),Hb(r),r}const Gb=-1,Wb=0,Jb=2,Yb=3,Xb=4,Zb=6,$b=-1,ev=0,tv=-1,rv=0,nv=-1,sv=0,av=1,iv=0,ov=1,lv=2,Av=0,cv=1;class dv extends Wm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,a.A)(this,"_checkCrc",void 0),(0,a.A)(this,"_inflator",void 0),(0,a.A)(this,"_png",void 0),(0,a.A)(this,"_apng",void 0),(0,a.A)(this,"_end",void 0),(0,a.A)(this,"_hasPalette",void 0),(0,a.A)(this,"_palette",void 0),(0,a.A)(this,"_hasTransparency",void 0),(0,a.A)(this,"_transparency",void 0),(0,a.A)(this,"_compressionMethod",void 0),(0,a.A)(this,"_filterMethod",void 0),(0,a.A)(this,"_interlaceMethod",void 0),(0,a.A)(this,"_colorType",void 0),(0,a.A)(this,"_isAnimated",void 0),(0,a.A)(this,"_numberOfFrames",void 0),(0,a.A)(this,"_numberOfPlays",void 0),(0,a.A)(this,"_frames",void 0),(0,a.A)(this,"_writingDataChunks",void 0);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new gb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$b,this._filterMethod=tv,this._interlaceMethod=nv,this._colorType=Gb,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Tb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Tb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Ob:Vb(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-r!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?wb(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e}if(this.offset-r!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?wb(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let r;switch(this._colorType=t,t){case Wb:r=1;break;case Jb:r=3;break;case Yb:r=1;break;case Xb:r=2;break;case Zb:r=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==ev)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<t;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case Wb:case Jb:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case Yb:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=qb(this),r=this.readUint8();if(r!==ev)throw new Error("Unsupported iCCP compression method: ".concat(r));const n=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:xb(n)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=Mb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===r.xOffset&&0===r.yOffset&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const n=this._apng.frames.at(e-1);this.disposeFrame(r,n,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case iv:break;case ov:for(let t=0;t<this._png.height;t++)for(let n=0;n<this._png.width;n++){const s=(t*e.width+n)*this._png.channels;for(let e=0;e<this._png.channels;e++)r.data[s+e]=0}break;case lv:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,n=(e,r)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+r)*this._png.channels,frameIndex:(e*t.width+r)*this._png.channels});switch(t.blendOp){case Av:for(let r=0;r<t.height;r++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:i}=n(r,s);for(let r=0;r<this._png.channels;r++)e.data[a+r]=t.data[i+r]}break;case cv:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:i,frameIndex:o}=n(s,a);for(let n=0;n<this._png.channels;n++){const s=t.data[o+this._png.channels-1]/r,a=n%(this._png.channels-1)===0?1:t.data[o+n],l=Math.floor(s*a+(1-s)*e.data[i+n]);e.data[i+n]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==rv)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===sv)this._png.data=Mb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==av)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:r,height:n,channels:s,depth:a}=e,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*s,l=new Uint8Array(n*r*o);let A=0;for(let c=0;c<7;c++){const e=i[c],s=Math.ceil((r-e.x)/e.xStep),a=Math.ceil((n-e.y)/e.yStep);if(s<=0||a<=0)continue;const d=s*o,u=new Uint8Array(d);for(let i=0;i<a;i++){const a=t[A++],c=t.subarray(A,A+d);A+=d;const h=new Uint8Array(d);Fb(a,c,h,u,d,o),u.set(h);for(let t=0;t<s;t++){const s=e.x+t*e.xStep,a=e.y+i*e.yStep;if(!(s>=r||a>=n))for(let e=0;e<o;e++)l[(a*r+s)*o+e]=h[t*o+e]}}}if(16===a){const e=new Uint16Array(l.buffer);if(_b)for(let t=0;t<e.length;t++)e[t]=Ub(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:iv,blendOp:Av,data:e}),this._inflator=new gb,this._writingDataChunks=!1}}var uv;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(uv||(uv={}));var hv=function(){return"undefined"!=typeof window?window:"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:this}();function fv(){hv.console&&"function"==typeof hv.console.log&&hv.console.log.apply(hv.console,arguments)}var mv={log:fv,warn:function(e){hv.console&&("function"==typeof hv.console.warn?hv.console.warn.apply(hv.console,arguments):fv.call(null,arguments))},error:function(e){hv.console&&("function"==typeof hv.console.error?hv.console.error.apply(hv.console,arguments):fv(e))}};function pv(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){bv(n.response,t,r)},n.onerror=function(){mv.error("could not download file")},n.send()}function gv(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(r){}return t.status>=200&&t.status<=299}function xv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var bv=hv.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,rm.A)(window))||window!==hv?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=hv.URL||hv.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin!==location.origin?gv(s.href)?pv(e,t,r):xv(s,s.target="_blank"):xv(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){xv(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download","string"==typeof e)if(gv(e))pv(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){xv(n)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,rm.A)(t)&&(mv.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return pv(e,t,r);var s="application/octet-stream"===e.type,a=/constructor/i.test(hv.HTMLElement)||hv.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&a)&&"object"===("undefined"==typeof FileReader?"undefined":(0,rm.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},o.readAsDataURL(e)}else{var l=hv.URL||hv.webkitURL,A=l.createObjectURL(e);n?n.location=A:location.href=A,n=null,setTimeout(function(){l.revokeObjectURL(A)},4e4)}});function vv(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,a=r[n].process,i=s.exec(e);i&&(t=a(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}}var yv=hv.atob.bind(hv),wv=hv.btoa.bind(hv);function Bv(e,t){var r=e[0],n=e[1],s=e[2],a=e[3];r=jv(r,n,s,a,t[0],7,-680876936),a=jv(a,r,n,s,t[1],12,-389564586),s=jv(s,a,r,n,t[2],17,606105819),n=jv(n,s,a,r,t[3],22,-1044525330),r=jv(r,n,s,a,t[4],7,-176418897),a=jv(a,r,n,s,t[5],12,1200080426),s=jv(s,a,r,n,t[6],17,-1473231341),n=jv(n,s,a,r,t[7],22,-45705983),r=jv(r,n,s,a,t[8],7,1770035416),a=jv(a,r,n,s,t[9],12,-1958414417),s=jv(s,a,r,n,t[10],17,-42063),n=jv(n,s,a,r,t[11],22,-1990404162),r=jv(r,n,s,a,t[12],7,1804603682),a=jv(a,r,n,s,t[13],12,-40341101),s=jv(s,a,r,n,t[14],17,-1502002290),r=Cv(r,n=jv(n,s,a,r,t[15],22,1236535329),s,a,t[1],5,-165796510),a=Cv(a,r,n,s,t[6],9,-1069501632),s=Cv(s,a,r,n,t[11],14,643717713),n=Cv(n,s,a,r,t[0],20,-373897302),r=Cv(r,n,s,a,t[5],5,-701558691),a=Cv(a,r,n,s,t[10],9,38016083),s=Cv(s,a,r,n,t[15],14,-660478335),n=Cv(n,s,a,r,t[4],20,-405537848),r=Cv(r,n,s,a,t[9],5,568446438),a=Cv(a,r,n,s,t[14],9,-1019803690),s=Cv(s,a,r,n,t[3],14,-187363961),n=Cv(n,s,a,r,t[8],20,1163531501),r=Cv(r,n,s,a,t[13],5,-1444681467),a=Cv(a,r,n,s,t[2],9,-51403784),s=Cv(s,a,r,n,t[7],14,1735328473),r=kv(r,n=Cv(n,s,a,r,t[12],20,-1926607734),s,a,t[5],4,-378558),a=kv(a,r,n,s,t[8],11,-2022574463),s=kv(s,a,r,n,t[11],16,1839030562),n=kv(n,s,a,r,t[14],23,-35309556),r=kv(r,n,s,a,t[1],4,-1530992060),a=kv(a,r,n,s,t[4],11,1272893353),s=kv(s,a,r,n,t[7],16,-155497632),n=kv(n,s,a,r,t[10],23,-1094730640),r=kv(r,n,s,a,t[13],4,681279174),a=kv(a,r,n,s,t[0],11,-358537222),s=kv(s,a,r,n,t[3],16,-722521979),n=kv(n,s,a,r,t[6],23,76029189),r=kv(r,n,s,a,t[9],4,-640364487),a=kv(a,r,n,s,t[12],11,-421815835),s=kv(s,a,r,n,t[15],16,530742520),r=Sv(r,n=kv(n,s,a,r,t[2],23,-995338651),s,a,t[0],6,-198630844),a=Sv(a,r,n,s,t[7],10,1126891415),s=Sv(s,a,r,n,t[14],15,-1416354905),n=Sv(n,s,a,r,t[5],21,-57434055),r=Sv(r,n,s,a,t[12],6,1700485571),a=Sv(a,r,n,s,t[3],10,-1894986606),s=Sv(s,a,r,n,t[10],15,-1051523),n=Sv(n,s,a,r,t[1],21,-2054922799),r=Sv(r,n,s,a,t[8],6,1873313359),a=Sv(a,r,n,s,t[15],10,-30611744),s=Sv(s,a,r,n,t[6],15,-1560198380),n=Sv(n,s,a,r,t[13],21,1309151649),r=Sv(r,n,s,a,t[4],6,-145523070),a=Sv(a,r,n,s,t[11],10,-1120210379),s=Sv(s,a,r,n,t[2],15,718787259),n=Sv(n,s,a,r,t[9],21,-343485551),e[0]=Mv(r,e[0]),e[1]=Mv(n,e[1]),e[2]=Mv(s,e[2]),e[3]=Mv(a,e[3])}function Nv(e,t,r,n,s,a){return t=Mv(Mv(t,e),Mv(n,a)),Mv(t<<s|t>>>32-s,r)}function jv(e,t,r,n,s,a,i){return Nv(t&r|~t&n,e,t,s,a,i)}function Cv(e,t,r,n,s,a,i){return Nv(t&n|r&~n,e,t,s,a,i)}function kv(e,t,r,n,s,a,i){return Nv(t^r^n,e,t,s,a,i)}function Sv(e,t,r,n,s,a,i){return Nv(r^(t|~n),e,t,s,a,i)}function Fv(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Bv(n,Ev(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Bv(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,Bv(n,s),n}function Ev(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var _v="0123456789abcdef".split("");function Uv(e){for(var t="",r=0;r<4;r++)t+=_v[e>>8*r+4&15]+_v[e>>8*r&15];return t}function Qv(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Lv(e){return Fv(e).map(Qv).join("")}var Iv="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Uv(e[t]);return e.join("")}(Fv("hello"));function Mv(e,t){if(Iv){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function Dv(e,t){var r,n,s,a;if(e!==r){for(var i=(s=e,a=1+(256/e.length|0),new Array(a+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var A=0;for(l=0;l<256;l++){var c=o[l];A=(A+c+i.charCodeAt(l))%256,o[l]=o[A],o[A]=c}r=e,n=o}else o=n;var d=t.length,u=0,h=0,f="";for(l=0;l<d;l++)h=(h+(c=o[u=(u+1)%256]))%256,o[u]=o[h],o[h]=c,i=o[(o[u]+o[h])%256],f+=String.fromCharCode(t.charCodeAt(l)^i);return f}var Pv={print:4,modify:8,copy:16,"annot-forms":32};function Tv(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(e){if(void 0!==Pv.perm)throw new Error("Invalid permission: "+e);s+=Pv[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var a=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,i),this.P=-(1+(255^s)),this.encryptionKey=Lv(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Dv(this.encryptionKey,this.padding)}function Ov(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||35===s||37===s||40===s||41===s||47===s||60===s||62===s||91===s||93===s||123===s||125===s||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function Rv(e){if("object"!==(0,rm.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,n){if(n=n||!1,"string"!=typeof e||"function"!=typeof r||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[r,!!n],s},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],0===Object.keys(t[r]).length&&delete t[r],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[r]){var i=t[r][a];try{i[0].apply(e,n)}catch(xv){hv.console&&mv.error("jsPDF PubSub Error",xv.message,xv)}i[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Hv(e){if(!(this instanceof Hv))return new Hv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function zv(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Kv(e,t,r,n,s){if(!(this instanceof Kv))return new Kv(e,t,r,n,s);this.type="axial"===e?2:3,this.coords=t,this.colors=r,zv.call(this,n,s)}function Vv(e,t,r,n,s){if(!(this instanceof Vv))return new Vv(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,zv.call(this,n,s)}function qv(e){var t,r="string"==typeof arguments[0]?arguments[0]:"p",n=arguments[1],s=arguments[2],a=arguments[3],i=[],o=1,l=16,A="S",c=null;"object"===(0,rm.A)(e=e||{})&&(r=e.orientation,n=e.unit||n,s=e.format||s,a=e.compress||e.compressPdf||a,null!==(c=e.encryption||null)&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),A=e.defaultPathOperation||"S"),i=e.filters||(!0===a?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,u={},h={internal:{},__private__:{}};h.__private__.PubSub=Rv;var f="1.3",m=h.__private__.getPdfVersion=function(){return f};h.__private__.setPdfVersion=function(e){f=e};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return p};var g=h.__private__.getPageFormat=function(e){return p[e]};s=s||"a4";var x="compat",b="advanced",v=x;function y(){this.saveGraphicsState(),X(new _e(ue,0,0,-ue,0,ur()*ue).toString()+" cm"),this.setFontSize(this.getFontSize()/ue),A="n",v=b}function w(){this.restoreGraphicsState(),A="S",v=x}var B=h.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};h.advancedAPI=function(e){var t=v===x;return t&&y.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},h.compatAPI=function(e){var t=v===b;return t&&w.call(this),"function"!=typeof e||(e(this),t&&y.call(this)),this},h.isAdvancedAPI=function(){return v===b};var N,j=function(e){if(v!==b)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(e,r){var n=t||r;if(isNaN(e)||isNaN(n))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(n).replace(/0+$/,"")};N=h.hpf=h.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var k=h.f2=h.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},S=h.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},F=h.scale=h.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===x?e*ue:v===b?e:void 0},E=function(e){return F(function(e){return v===x?ur()-e:v===b?e:void 0}(e))};h.__private__.setPrecision=h.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var _,U="00000000000000000000000000000000",Q=h.__private__.getFileId=function(){return U},L=h.__private__.setFileId=function(e){return U=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==c&&(xt=new Tv(c.userPermissions,c.userPassword,c.ownerPassword,U)),U};h.setFileId=function(e){return L(e),this},h.getFileId=function(){return Q()};var I=h.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),r=t<0?"+":"-",n=Math.floor(Math.abs(t/60)),s=Math.abs(t%60),a=[r,O(n),"'",O(s),"'"].join("");return["D:",e.getFullYear(),O(e.getMonth()+1),O(e.getDate()),O(e.getHours()),O(e.getMinutes()),O(e.getSeconds()),a].join("")},M=h.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),r=parseInt(e.substr(6,2),10)-1,n=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),i=parseInt(e.substr(14,2),10);return new Date(t,r,n,s,a,i,0)},D=h.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=I(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return _=t},P=h.__private__.getCreationDate=function(e){var t=_;return"jsDate"===e&&(t=M(_)),t};h.setCreationDate=function(e){return D(e),this},h.getCreationDate=function(e){return P(e)};var T,O=h.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},R=h.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,z=[],K=[],V=0,q=[],G=[],W=!1,J=K;h.__private__.setCustomOutputDestination=function(e){W=!0,J=e};var Y=function(e){W||(J=e)};h.__private__.resetCustomOutputDestination=function(){W=!1,J=K};var X=h.__private__.out=function(e){return e=e.toString(),V+=e.length+1,J.push(e),J},Z=h.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},$=h.__private__.getArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r);t--;)n[t]=e.charCodeAt(t);return r},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(e){return te=v===b?e/ue:e,this};var re,ne=h.__private__.getFontSize=h.getFontSize=function(){return v===x?te:te*ue},se=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(e){return se=e,this},h.__private__.getR2L=h.getR2L=function(){return se};var ae,ie=h.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))re=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');re=e}else re=parseInt(e,10)};h.__private__.getZoomMode=function(){return re};var oe,le=h.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ae=e};h.__private__.getPageMode=function(){return ae};var Ae=h.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};h.__private__.getLayoutMode=function(){return oe},h.__private__.setDisplayMode=h.setDisplayMode=function(e,t,r){return ie(e),Ae(t),le(r),this};var ce={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ce).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ce[e]},h.__private__.getDocumentProperties=function(){return ce},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(e){for(var t in ce)ce.hasOwnProperty(t)&&e[t]&&(ce[t]=e[t]);return this},h.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ce).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ce[e]=t};var de,ue,he,fe,me,pe={},ge={},xe=[],be={},ve={},ye={},we={},Be=null,Ne=0,je=[],Ce=new Rv(h),ke=e.hotfixes||[],Se={},Fe={},Ee=[],_e=function e(t,r,n,s,a,i){if(!(this instanceof e))return new e(t,r,n,s,a,i);isNaN(t)&&(t=1),isNaN(r)&&(r=0),isNaN(n)&&(n=0),isNaN(s)&&(s=1),isNaN(a)&&(a=0),isNaN(i)&&(i=0),this._matrix=[t,r,n,s,a,i]};Object.defineProperty(_e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(_e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(_e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(_e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(_e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(_e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(_e.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(_e.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(_e.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(_e.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(_e.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(_e.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(_e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(_e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(_e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(_e.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),_e.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(e)},_e.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,r=e.sx*this.shy+e.shy*this.sy,n=e.shx*this.sx+e.sy*this.shx,s=e.shx*this.shy+e.sy*this.sy,a=e.tx*this.sx+e.ty*this.shx+this.tx,i=e.tx*this.shy+e.ty*this.sy+this.ty;return new _e(t,r,n,s,a,i)},_e.prototype.decompose=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,s=this.tx,a=this.ty,i=Math.sqrt(e*e+t*t),o=(e/=i)*r+(t/=i)*n;r-=e*o,n-=t*o;var l=Math.sqrt(r*r+n*n);return o/=l,e*(n/=l)<t*(r/=l)&&(e=-e,t=-t,o=-o,i=-i),{scale:new _e(i,0,0,l,0,0),translate:new _e(1,0,0,1,s,a),rotate:new _e(e,t,-t,e,0,0),skew:new _e(1,0,o,1,0,0)}},_e.prototype.toString=function(e){return this.join(" ")},_e.prototype.inversed=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,s=this.tx,a=this.ty,i=1/(e*n-t*r),o=n*i,l=-t*i,A=-r*i,c=e*i;return new _e(o,l,A,c,-o*s-A*a,-l*s-c*a)},_e.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,r=e.x*this.shy+e.y*this.sy+this.ty;return new tr(t,r)},_e.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),r=this.applyToPoint(new tr(e.x+e.w,e.y+e.h));return new rr(t.x,t.y,r.x-t.x,r.y-t.y)},_e.prototype.clone=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,s=this.tx,a=this.ty;return new _e(e,t,r,n,s,a)},h.Matrix=_e;var Ue=h.matrixMult=function(e,t){return t.multiply(e)},Qe=new _e(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Qe;var Le=function(e,t){if(!ve[e]){var r=(t instanceof Kv?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=r,ve[e]=r,be[r]=t,Ce.publish("addPattern",t)}};h.ShadingPattern=Kv,h.TilingPattern=Vv,h.addShadingPattern=function(e,t){return j("addShadingPattern()"),Le(e,t),this},h.beginTilingPattern=function(e){j("beginTilingPattern()"),sr(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},h.endTilingPattern=function(e,t){j("endTilingPattern()"),t.stream=G[T].join("\n"),Le(e,t),Ce.publish("endTilingPattern",t),Ee.pop().restore()};var Ie,Me=h.__private__.newObject=function(){var e=De();return Pe(e,!0),e},De=h.__private__.newObjectDeferred=function(){return H++,z[H]=function(){return V},H},Pe=function(e,t){return t="boolean"==typeof t&&t,z[e]=V,t&&X(e+" 0 obj"),e},Te=h.__private__.newAdditionalObject=function(){var e={objId:De(),content:""};return q.push(e),e},Oe=De(),Re=De(),He=h.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var r=parseFloat(t[0]);t=[r,r,r,"r"]}for(var n="#",s=0;s<3;s++)n+=("0"+Math.floor(255*parseFloat(t[s])).toString(16)).slice(-2);return n},ze=h.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var r=e.ch1,n=e.ch2,s=e.ch3,a=e.ch4,i="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof r&&"#"!==r.charAt(0)){var o=new vv(r);if(o.ok)r=o.toHex();else if(!/^\d*\.?\d*$/.test(r))throw new Error('Invalid color "'+r+'" passed to jsPDF.encodeColorString.')}if("string"==typeof r&&/^#[0-9A-Fa-f]{3}$/.test(r)&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),"string"==typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r)){var l=parseInt(r.substr(1),16);r=l>>16&255,n=l>>8&255,s=255&l}if(void 0===n||void 0===a&&r===n&&n===s)t="string"==typeof r?r+" "+i[0]:2===e.precision?k(r/255)+" "+i[0]:S(r/255)+" "+i[0];else if(void 0===a||"object"===(0,rm.A)(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.","1.","1.",i[1]].join(" ");t="string"==typeof r?[r,n,s,i[1]].join(" "):2===e.precision?[k(r/255),k(n/255),k(s/255),i[1]].join(" "):[S(r/255),S(n/255),S(s/255),i[1]].join(" ")}else t="string"==typeof r?[r,n,s,a,i[2]].join(" "):2===e.precision?[k(r),k(n),k(s),k(a),i[2]].join(" "):[S(r),S(n),S(s),S(a),i[2]].join(" ");return t},Ke=h.__private__.getFilters=function(){return i},Ve=h.__private__.putStream=function(e){var t=(e=e||{}).data||"",r=e.filters||Ke(),n=e.alreadyAppliedFilters||[],s=e.addLength1||!1,a=t.length,i=e.objectId,o=function(e){return e};if(null!==c&&void 0===i)throw new Error("ObjectId must be passed to putStream for file encryption");null!==c&&(o=xt.encryptor(i,0));var l={};!0===r&&(r=["FlateEncode"]);var A=e.additionalKeyValues||[],d=(l=void 0!==qv.API.processDataByFilters?qv.API.processDataByFilters(t,r):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(n)?n.join(" "):n.toString());if(0!==l.data.length&&(A.push({key:"Length",value:l.data.length}),!0===s&&A.push({key:"Length1",value:a})),0!=d.length)if(d.split("/").length-1==1)A.push({key:"Filter",value:d});else{A.push({key:"Filter",value:"["+d+"]"});for(var u=0;u<A.length;u+=1)if("DecodeParms"===A[u].key){for(var h=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)h.push("null");h.push(A[u].value),A[u].value="["+h.join(" ")+"]"}}X("<<");for(var m=0;m<A.length;m++)X("/"+A[m].key+" "+A[m].value);X(">>"),0!==l.data.length&&(X("stream"),X(o(l.data)),X("endstream"))},qe=h.__private__.putPage=function(e){var t=e.number,r=e.data,n=e.objId,s=e.contentsObjId;Pe(n,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(N(e.mediaBox.bottomLeftX))+" "+parseFloat(N(e.mediaBox.bottomLeftY))+" "+N(e.mediaBox.topRightX)+" "+N(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+N(e.cropBox.bottomLeftX)+" "+N(e.cropBox.bottomLeftY)+" "+N(e.cropBox.topRightX)+" "+N(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+N(e.bleedBox.bottomLeftX)+" "+N(e.bleedBox.bottomLeftY)+" "+N(e.bleedBox.topRightX)+" "+N(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+N(e.trimBox.bottomLeftX)+" "+N(e.trimBox.bottomLeftY)+" "+N(e.trimBox.topRightX)+" "+N(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+N(e.artBox.bottomLeftX)+" "+N(e.artBox.bottomLeftY)+" "+N(e.artBox.topRightX)+" "+N(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),Ce.publish("putPage",{objId:n,pageContext:je[t],pageNumber:t,page:r}),X("/Contents "+s+" 0 R"),X(">>"),X("endobj");var a=r.join("\n");return v===b&&(a+="\nQ"),Pe(s,!0),Ve({data:a,filters:Ke(),objectId:s}),X("endobj"),n},Ge=h.__private__.putPages=function(){var e,t,r=[];for(e=1;e<=Ne;e++)je[e].objId=De(),je[e].contentsObjId=De();for(e=1;e<=Ne;e++)r.push(qe({number:e,data:G[e],objId:je[e].objId,contentsObjId:je[e].contentsObjId,mediaBox:je[e].mediaBox,cropBox:je[e].cropBox,bleedBox:je[e].bleedBox,trimBox:je[e].trimBox,artBox:je[e].artBox,userUnit:je[e].userUnit,rootDictionaryObjId:Oe,resourceDictionaryObjId:Re}));Pe(Oe,!0),X("<</Type /Pages");var n="/Kids [";for(t=0;t<Ne;t++)n+=r[t]+" 0 R ";X(n+"]"),X("/Count "+Ne),X(">>"),X("endobj"),Ce.publish("postPutPages")},We=function(e){Ce.publish("putFont",{font:e,out:X,newObject:Me,putStream:Ve}),!0!==e.isAlreadyPutted&&(e.objectNumber=Me(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Ov(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Je=function(e){e.objectNumber=Me();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[N(e.x),N(e.y),N(e.x+e.width),N(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var r=e.pages[1].join("\n");Ve({data:r,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Ye=function(e,t){t||(t=21);var r=Me(),n=function(e,t){var r,n=[],s=1/(t-1);for(r=0;r<1;r+=s)n.push(r);if(n.push(1),0!=e[0].offset){var a={offset:0,color:e[0].color};e.unshift(a)}if(1!=e[e.length-1].offset){var i={offset:1,color:e[e.length-1].color};e.push(i)}for(var o="",l=0,A=0;A<n.length;A++){for(r=n[A];r>e[l+1].offset;)l++;var c=e[l].offset,d=(r-c)/(e[l+1].offset-c),u=e[l].color,h=e[l+1].color;o+=R(Math.round((1-d)*u[0]+d*h[0]).toString(16))+R(Math.round((1-d)*u[1]+d*h[1]).toString(16))+R(Math.round((1-d)*u[2]+d*h[2]).toString(16))}return o.trim()}(e.colors,t),s=[];s.push({key:"FunctionType",value:"0"}),s.push({key:"Domain",value:"[0.0 1.0]"}),s.push({key:"Size",value:"["+t+"]"}),s.push({key:"BitsPerSample",value:"8"}),s.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),s.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:n,additionalKeyValues:s,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:r}),X("endobj"),e.objectNumber=Me(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var a="/Coords ["+N(parseFloat(e.coords[0]))+" "+N(parseFloat(e.coords[1]))+" ";2===e.type?a+=N(parseFloat(e.coords[2]))+" "+N(parseFloat(e.coords[3])):a+=N(parseFloat(e.coords[2]))+" "+N(parseFloat(e.coords[3]))+" "+N(parseFloat(e.coords[4]))+" "+N(parseFloat(e.coords[5])),X(a+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+r+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var r=De(),n=Me();t.push({resourcesOid:r,objectOid:n}),e.objectNumber=n;var s=[];s.push({key:"Type",value:"/Pattern"}),s.push({key:"PatternType",value:"1"}),s.push({key:"PaintType",value:"1"}),s.push({key:"TilingType",value:"1"}),s.push({key:"BBox",value:"["+e.boundingBox.map(N).join(" ")+"]"}),s.push({key:"XStep",value:N(e.xStep)}),s.push({key:"YStep",value:N(e.yStep)}),s.push({key:"Resources",value:r+" 0 R"}),e.matrix&&s.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ve({data:e.stream,additionalKeyValues:s,objectId:e.objectNumber}),X("endobj")},Ze=function(e){for(var t in e.objectNumber=Me(),X("<<"),e)switch(t){case"opacity":X("/ca "+k(e[t]));break;case"stroke-opacity":X("/CA "+k(e[t]))}X(">>"),X("endobj")},$e=function(e){Pe(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),pe)pe.hasOwnProperty(e)&&(!1===d||!0===d&&u.hasOwnProperty(e))&&X("/"+e+" "+pe[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(be).length>0){for(var e in X("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof Kv&&be[e].objectNumber>=0&&X("/"+e+" "+be[e].objectNumber+" 0 R");Ce.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(be).length>0){for(var t in X("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof h.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&X("/"+t+" "+be[t].objectNumber+" 0 R");Ce.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(ye).length>0){var e;for(e in X("/ExtGState <<"),ye)ye.hasOwnProperty(e)&&ye[e].objectNumber>=0&&X("/"+e+" "+ye[e].objectNumber+" 0 R");Ce.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Se)Se.hasOwnProperty(e)&&Se[e].objectNumber>=0&&X("/"+e+" "+Se[e].objectNumber+" 0 R");Ce.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(e){ge[e.fontName]=ge[e.fontName]||{},ge[e.fontName][e.fontStyle]=e.id},tt=function(e,t,r,n,s){var a={id:"F"+(Object.keys(pe).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:r,encoding:n,isStandardFont:s||!1,metadata:{}};return Ce.publish("addFont",{font:a,instance:this}),pe[a.id]=a,et(a),a.id},rt=h.__private__.pdfEscape=h.pdfEscape=function(e,t){return function(e,t){var r,n,s,a,i,o,l,A,c;if(s=(t=t||{}).sourceEncoding||"Unicode",i=t.outputEncoding,(t.autoencode||i)&&pe[de].metadata&&pe[de].metadata[s]&&pe[de].metadata[s].encoding&&(a=pe[de].metadata[s].encoding,!i&&pe[de].encoding&&(i=pe[de].encoding),!i&&a.codePages&&(i=a.codePages[0]),"string"==typeof i&&(i=a[i]),i)){for(l=!1,o=[],r=0,n=e.length;r<n;r++)(A=i[e.charCodeAt(r)])?o.push(String.fromCharCode(A)):o.push(e[r]),o[r].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(r=e.length;void 0===l&&0!==r;)e.charCodeAt(r-1)>>8&&(l=!0),r--;if(!l)return e;for(o=t.noBOM?[]:[254,255],r=0,n=e.length;r<n;r++){if((c=(A=e.charCodeAt(r))>>8)>>8)throw new Error("Character at position "+r+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(c),o.push(A-(c<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nt=h.__private__.beginPage=function(e){G[++Ne]=[],je[Ne]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},it(Ne),Y(G[T])},st=function(e,t){var n,a,i;switch(r=t||r,"string"==typeof e&&(n=g(e.toLowerCase()),Array.isArray(n)&&(a=n[0],i=n[1])),Array.isArray(e)&&(a=e[0]*ue,i=e[1]*ue),isNaN(a)&&(a=s[0],i=s[1]),(a>14400||i>14400)&&(mv.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),i=Math.min(14400,i)),s=[a,i],r.substr(0,1)){case"l":i>a&&(s=[i,a]);break;case"p":a>i&&(s=[i,a])}nt(s),Pt(Mt),X(qt),0!==Zt&&X(Zt+" J"),0!==$t&&X($t+" j"),Ce.publish("addPage",{pageNumber:Ne})},at=function(e){e>0&&e<=Ne&&(G.splice(e,1),je.splice(e,1),Ne--,T>Ne&&(T=Ne),this.setPage(T))},it=function(e){e>0&&e<=Ne&&(T=e)},ot=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return G.length-1},lt=function(e,t,r){var n,s=void 0;return r=r||{},e=void 0!==e?e:pe[de].fontName,t=void 0!==t?t:pe[de].fontStyle,n=e.toLowerCase(),void 0!==ge[n]&&void 0!==ge[n][t]?s=ge[n][t]:void 0!==ge[e]&&void 0!==ge[e][t]?s=ge[e][t]:!1===r.disableWarning&&mv.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),s||r.noFallback||null==(s=ge.times[t])&&(s=ge.times.normal),s},At=h.__private__.putInfo=function(){var e=Me(),t=function(e){return e};for(var r in null!==c&&(t=xt.encryptor(e,0)),X("<<"),X("/Producer ("+rt(t("jsPDF "+qv.version))+")"),ce)ce.hasOwnProperty(r)&&ce[r]&&X("/"+r.substr(0,1).toUpperCase()+r.substr(1)+" ("+rt(t(ce[r]))+")");X("/CreationDate ("+rt(t(_))+")"),X(">>"),X("endobj")},ct=h.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Oe;switch(Me(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var r=""+re;"%"===r.substr(r.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&X("/OpenAction [3 0 R /XYZ null null "+k(re)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}ae&&X("/PageMode /"+ae),Ce.publish("putCatalog"),X(">>"),X("endobj")},dt=h.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(H+1)),X("/Root "+H+" 0 R"),X("/Info "+(H-1)+" 0 R"),null!==c&&X("/Encrypt "+xt.oid+" 0 R"),X("/ID [ <"+U+"> <"+U+"> ]"),X(">>")},ut=h.__private__.putHeader=function(){X("%PDF-"+f),X("%\xba\xdf\xac\xe0")},ht=h.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(H+1)),X("0000000000 65535 f ");for(var t=1;t<=H;t++)"function"==typeof z[t]?X((e+z[t]()).slice(-10)+" 00000 n "):void 0!==z[t]?X((e+z[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},ft=h.__private__.buildDocument=function(){var e;H=0,V=0,K=[],z=[],q=[],Oe=De(),Re=De(),Y(K),Ce.publish("buildDocument"),ut(),Ge(),function(){Ce.publish("putAdditionalObjects");for(var e=0;e<q.length;e++){var t=q[e];Pe(t.objId,!0),X(t.content),X("endobj")}Ce.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in pe)pe.hasOwnProperty(e)&&(!1===d||!0===d&&u.hasOwnProperty(e))&&We(pe[e])}(),function(){var e;for(e in ye)ye.hasOwnProperty(e)&&Ze(ye[e])}(),function(){for(var e in Se)Se.hasOwnProperty(e)&&Je(Se[e])}(),function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof Kv?Ye(be[t]):be[t]instanceof Vv&&Xe(be[t],e))}(e),Ce.publish("putResources"),e.forEach($e),$e({resourcesOid:Re,objectOid:Number.MAX_SAFE_INTEGER}),Ce.publish("postPutResources"),null!==c&&(xt.oid=Me(),X("<<"),X("/Filter /Standard"),X("/V "+xt.v),X("/R "+xt.r),X("/U <"+xt.toHexString(xt.U)+">"),X("/O <"+xt.toHexString(xt.O)+">"),X("/P "+xt.P),X(">>"),X("endobj")),At(),ct();var t=V;return ht(),dt(),X("startxref"),X(""+t),X("%%EOF"),Y(G[T]),K.join("\n")},mt=h.__private__.getBlob=function(e){return new Blob([$(e)],{type:"application/pdf"})},pt=h.output=h.__private__.output=(Ie=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return ft();case"save":h.save(t.filename);break;case"arraybuffer":return $(ft());case"blob":return mt(ft());case"bloburi":case"bloburl":if(void 0!==hv.URL&&"function"==typeof hv.URL.createObjectURL)return hv.URL&&hv.URL.createObjectURL(mt(ft()))||void 0;mv.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var r="",n=ft();try{r=wv(n)}catch(c){r=wv(unescape(encodeURIComponent(n)))}return"data:application/pdf;filename="+t.filename+";base64,"+r;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(hv)){var s="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(s=t.pdfObjectUrl,a="");var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+s+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=hv.open();return null!==o&&o.document.write(i),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(hv)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',A=hv.open();if(null!==A){A.document.write(l);var d=this;A.document.documentElement.querySelector("#pdfViewer").onload=function(){A.document.title=t.filename,A.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return A}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(hv))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',f=hv.open();if(null!==f&&(f.document.write(u),f.document.title=t.filename),f||"undefined"==typeof safari)return f;break;case"datauri":case"dataurl":return hv.document.location.href=this.output("datauristring",t);default:return null}},Ie.foo=function(){try{return Ie.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var r="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!hv.console)throw new Error(r);hv.console.error(r,t),hv.alert&&alert(r)}},Ie.foo.bar=Ie,Ie.foo),gt=function(e){return!0===Array.isArray(ke)&&ke.indexOf(e)>-1};switch(n){case"pt":ue=1;break;case"mm":ue=72/25.4;break;case"cm":ue=72/2.54;break;case"in":ue=72;break;case"px":ue=1==gt("px_scaling")?.75:96/72;break;case"pc":case"em":ue=12;break;case"ex":ue=6;break;default:if("number"!=typeof n)throw new Error("Invalid unit: "+n);ue=n}var xt=null;D(),L();var bt=h.__private__.getPageInfo=h.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:je[e].objId,pageNumber:e,pageContext:je[e]}},vt=h.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in je)if(je[t].objId===e)break;return bt(t)},yt=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:je[T].objId,pageNumber:T,pageContext:je[T]}};h.addPage=function(){return st.apply(this,arguments),this},h.setPage=function(){return it.apply(this,arguments),Y.call(this,G[T]),this},h.insertPage=function(e){return this.addPage(),this.movePage(T,e),this},h.movePage=function(e,t){var r,n;if(e>t){r=G[e],n=je[e];for(var s=e;s>t;s--)G[s]=G[s-1],je[s]=je[s-1];G[t]=r,je[t]=n,this.setPage(t)}else if(e<t){r=G[e],n=je[e];for(var a=e;a<t;a++)G[a]=G[a+1],je[a]=je[a+1];G[t]=r,je[t]=n,this.setPage(t)}return this},h.deletePage=function(){return at.apply(this,arguments),this},h.__private__.text=h.text=function(e,t,r,n,s){var a,i,o,l,A,c,d,h,f,m=(n=n||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof r||Array.isArray(r))){var p=r;r=t,t=e,e=p}if(arguments[3]instanceof _e==0?(o=arguments[4],l=arguments[5],"object"===(0,rm.A)(d=arguments[3])&&null!==d||("string"==typeof o&&(l=o,o=null),"string"==typeof d&&(l=d,d=null),"number"==typeof d&&(o=d,d=null),n={flags:d,angle:o,align:l})):(j("The transform parameter of text() with a Matrix value"),f=s),isNaN(t)||isNaN(r)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return m;var g,x="",y="number"==typeof n.lineHeightFactor?n.lineHeightFactor:It,w=m.internal.scaleFactor;function B(e){return e=e.split("\t").join(Array(n.TabLen||9).join(" ")),rt(e,d)}function C(e){for(var t,r=e.concat(),n=[],s=r.length;s--;)"string"==typeof(t=r.shift())?n.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?n.push(t[0]):n.push([t[0],t[1],t[2]]);return n}function k(e,t){var r;if("string"==typeof e)r=t(e)[0];else if(Array.isArray(e)){for(var n,s,a=e.concat(),i=[],o=a.length;o--;)"string"==typeof(n=a.shift())?i.push(t(n)[0]):Array.isArray(n)&&"string"==typeof n[0]&&(s=t(n[0],n[1],n[2]),i.push([s[0],s[1],s[2]]));r=i}return r}var S=!1,E=!0;if("string"==typeof e)S=!0;else if(Array.isArray(e)){var _=e.concat();i=[];for(var U,Q=_.length;Q--;)("string"!=typeof(U=_.shift())||Array.isArray(U)&&"string"!=typeof U[0])&&(E=!1);S=E}if(!1===S)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=te/m.internal.scaleFactor,I=L*(y-1);switch(n.baseline){case"bottom":r-=I;break;case"top":r+=L-I;break;case"hanging":r+=L-2*I;break;case"middle":r+=L/2-I}if((c=n.maxWidth||0)>0&&("string"==typeof e?e=m.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(m.splitTextToSize(t,c))},[]))),a={text:e,x:t,y:r,options:n,mutex:{pdfEscape:rt,activeFontKey:de,fonts:pe,activeFontSize:te}},Ce.publish("preProcessText",a),e=a.text,o=(n=a.options).angle,f instanceof _e==0&&o&&"number"==typeof o){o*=Math.PI/180,0===n.rotationDirection&&(o=-o),v===b&&(o=-o);var M=Math.cos(o),D=Math.sin(o);f=new _e(M,D,-D,M,0,0)}else o&&o instanceof _e&&(f=o);v!==b||f||(f=Qe),void 0!==(A=n.charSpace||Yt)&&(x+=N(F(A))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(h=n.horizontalScale)&&(x+=N(100*h)+" Tz\n"),n.lang;var P=-1,T=void 0!==n.renderingMode?n.renderingMode:n.stroke,O=m.internal.getCurrentPageInfo().pageContext;switch(T){case 0:case!1:case"fill":P=0;break;case 1:case!0:case"stroke":P=1;break;case 2:case"fillThenStroke":P=2;break;case 3:case"invisible":P=3;break;case 4:case"fillAndAddForClipping":P=4;break;case 5:case"strokeAndAddPathForClipping":P=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":P=6;break;case 7:case"addToPathForClipping":P=7}var R=void 0!==O.usedRenderingMode?O.usedRenderingMode:-1;-1!==P?x+=P+" Tr\n":-1!==R&&(x+="0 Tr\n"),-1!==P&&(O.usedRenderingMode=P),l=n.align||"left";var H,z=te*y,K=m.internal.pageSize.getWidth(),V=pe[de];A=n.charSpace||Yt,c=n.maxWidth||0,d=Object.assign({autoencode:!0,noBOM:!0},n.flags);var q=[],G=function(e){return m.getStringUnitWidth(e,{font:V,charSpace:A,fontSize:te,doKerning:!1})*te/w};if("[object Array]"===Object.prototype.toString.call(e)){var W;i=C(e),"left"!==l&&(H=i.map(G));var J,Y=0;if("right"===l){t-=H[0],e=[],Q=i.length;for(var Z=0;Z<Q;Z++)0===Z?(J=Ht(t),W=zt(r)):(J=F(Y-H[Z]),W=-z),e.push([i[Z],J,W]),Y=H[Z]}else if("center"===l){t-=H[0]/2,e=[],Q=i.length;for(var $=0;$<Q;$++)0===$?(J=Ht(t),W=zt(r)):(J=F((Y-H[$])/2),W=-z),e.push([i[$],J,W]),Y=H[$]}else if("left"===l){e=[],Q=i.length;for(var ee=0;ee<Q;ee++)e.push(i[ee])}else if("justify"===l&&"Identity-H"===V.encoding){e=[],Q=i.length,c=0!==c?c:K;for(var re=0,ne=0;ne<Q;ne++)if(W=0===ne?zt(r):-z,J=0===ne?Ht(t):re,ne<Q-1){var ae=F((c-H[ne])/(i[ne].split(" ").length-1)),ie=i[ne].split(" ");e.push([ie[0]+" ",J,W]),re=0;for(var oe=1;oe<ie.length;oe++){var le=(G(ie[oe-1]+" "+ie[oe])-G(ie[oe]))*w+ae;oe==ie.length-1?e.push([ie[oe],le,0]):e.push([ie[oe]+" ",le,0]),re-=le}}else e.push([i[ne],J,W]);e.push(["",re,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],Q=i.length,c=0!==c?c:K,ne=0;ne<Q;ne++){W=0===ne?zt(r):-z,J=0===ne?Ht(t):0;var Ae=i[ne].split(" ").length-1,ce=Ae>0?(c-H[ne])/Ae:0;ne<Q-1?q.push(N(F(ce))):q.push(0),e.push([i[ne],J,W])}}}!0===("boolean"==typeof n.R2L?n.R2L:se)&&(e=k(e,function(e,t,r){return[e.split("").reverse().join(""),t,r]})),a={text:e,x:t,y:r,options:n,mutex:{pdfEscape:rt,activeFontKey:de,fonts:pe,activeFontSize:te}},Ce.publish("postProcessText",a),e=a.text,g=a.mutex.isHex||!1;var ue=pe[de].encoding;"WinAnsiEncoding"!==ue&&"StandardEncoding"!==ue||(e=k(e,function(e,t,r){return[B(e),t,r]})),i=C(e),e=[];for(var he,fe,me,ge=Array.isArray(i[0])?1:0,xe="",be=function(e,t,r){var s="";return r instanceof _e?(r="number"==typeof n.angle?Ue(r,new _e(1,0,0,1,e,t)):Ue(new _e(1,0,0,1,e,t),r),v===b&&(r=Ue(new _e(1,0,0,-1,0,0),r)),s=r.join(" ")+" Tm\n"):s=N(e)+" "+N(t)+" Td\n",s},ve=0;ve<i.length;ve++){switch(xe="",ge){case 1:me=(g?"<":"(")+i[ve][0]+(g?">":")"),he=parseFloat(i[ve][1]),fe=parseFloat(i[ve][2]);break;case 0:me=(g?"<":"(")+i[ve]+(g?">":")"),he=Ht(t),fe=zt(r)}void 0!==q&&void 0!==q[ve]&&(xe=q[ve]+" Tw\n"),0===ve?e.push(xe+be(he,fe,f)+me):0===ge?e.push(xe+me):1===ge&&e.push(xe+be(he,fe,f)+me)}e=0===ge?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ye="BT\n/";return ye+=de+" "+te+" Tf\n",ye+=N(te*y)+" TL\n",ye+=Wt+"\n",ye+=x,ye+=e,X(ye+="ET"),u[de]=!0,m};var wt=h.__private__.clip=h.clip=function(e){return X("evenodd"===e?"W*":"W"),this};h.clipEvenOdd=function(){return wt("evenodd")},h.__private__.discardPath=h.discardPath=function(){return X("n"),this};var Bt=h.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(e){return Bt(e)&&(A=e),this};var Nt=h.__private__.getStyle=h.getStyle=function(e){var t=A;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},jt=h.close=function(){return X("h"),this};h.stroke=function(){return X("S"),this},h.fill=function(e){return Ct("f",e),this},h.fillEvenOdd=function(e){return Ct("f*",e),this},h.fillStroke=function(e){return Ct("B",e),this},h.fillStrokeEvenOdd=function(e){return Ct("B*",e),this};var Ct=function(e,t){"object"===(0,rm.A)(t)?Ft(t,e):X(e)},kt=function(e){null===e||v===b&&void 0===e||(e=Nt(e),X(e))};function St(e,t,r,n,s){var a=new Vv(t||this.boundingBox,r||this.xStep,n||this.yStep,this.gState,s||this.matrix);a.stream=this.stream;var i=e+"$$"+this.cloneIndex+++"$$";return Le(i,a),a}var Ft=function(e,t){var r=ve[e.key],n=be[r];if(n instanceof Kv)X("q"),X(Et(t)),n.gState&&h.setGState(n.gState),X(e.matrix.toString()+" cm"),X("/"+r+" sh"),X("Q");else if(n instanceof Vv){var s=new _e(1,0,0,-1,0,ur());e.matrix&&(s=s.multiply(e.matrix||Qe),r=St.call(n,e.key,e.boundingBox,e.xStep,e.yStep,s).id),X("q"),X("/Pattern cs"),X("/"+r+" scn"),n.gState&&h.setGState(n.gState),X(t),X("Q")}},Et=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_t=h.moveTo=function(e,t){return X(N(F(e))+" "+N(E(t))+" m"),this},Ut=h.lineTo=function(e,t){return X(N(F(e))+" "+N(E(t))+" l"),this},Qt=h.curveTo=function(e,t,r,n,s,a){return X([N(F(e)),N(E(t)),N(F(r)),N(E(n)),N(F(s)),N(E(a)),"c"].join(" ")),this};h.__private__.line=h.line=function(e,t,r,n,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.line");return v===x?this.lines([[r-e,n-t]],e,t,[1,1],s||"S"):this.lines([[r-e,n-t]],e,t,[1,1]).stroke()},h.__private__.lines=h.lines=function(e,t,r,n,s,a){var i,o,l,A,c,d,u,h,f,m,p,g;if("number"==typeof e&&(g=r,r=t,t=e,e=g),n=n||[1,1],a=a||!1,isNaN(t)||isNaN(r)||!Array.isArray(e)||!Array.isArray(n)||!Bt(s)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(_t(t,r),i=n[0],o=n[1],A=e.length,m=t,p=r,l=0;l<A;l++)2===(c=e[l]).length?(m=c[0]*i+m,p=c[1]*o+p,Ut(m,p)):(d=c[0]*i+m,u=c[1]*o+p,h=c[2]*i+m,f=c[3]*o+p,m=c[4]*i+m,p=c[5]*o+p,Qt(d,u,h,f,m,p));return a&&jt(),kt(s),this},h.path=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r.c;switch(r.op){case"m":_t(n[0],n[1]);break;case"l":Ut(n[0],n[1]);break;case"c":Qt.apply(this,n);break;case"h":jt()}}return this},h.__private__.rect=h.rect=function(e,t,r,n,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.rect");return v===x&&(n=-n),X([N(F(e)),N(E(t)),N(F(r)),N(F(n)),"re"].join(" ")),kt(s),this},h.__private__.triangle=h.triangle=function(e,t,r,n,s,a,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(s)||isNaN(a)||!Bt(i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[r-e,n-t],[s-r,a-n],[e-s,t-a]],e,t,[1,1],i,!0),this},h.__private__.roundedRect=h.roundedRect=function(e,t,r,n,s,a,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(s)||isNaN(a)||!Bt(i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return s=Math.min(s,.5*r),a=Math.min(a,.5*n),this.lines([[r-2*s,0],[s*o,0,s,a-a*o,s,a],[0,n-2*a],[0,a*o,-s*o,a,-s,a],[2*s-r,0],[-s*o,0,-s,-a*o,-s,-a],[0,2*a-n],[0,-a*o,s*o,-a,s,-a]],e+s,t,[1,1],i,!0),this},h.__private__.ellipse=h.ellipse=function(e,t,r,n,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*r,i=4/3*(Math.SQRT2-1)*n;return _t(e+r,t),Qt(e+r,t-i,e+a,t-n,e,t-n),Qt(e-a,t-n,e-r,t-i,e-r,t),Qt(e-r,t+i,e-a,t+n,e,t+n),Qt(e+a,t+n,e+r,t+i,e+r,t),kt(s),this},h.__private__.circle=h.circle=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||!Bt(n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,r,r,n)},h.setFont=function(e,t,r){return r&&(t=B(t,r)),de=lt(e,t,{disableWarning:!1}),this};var Lt=h.__private__.getFont=h.getFont=function(){return pe[lt.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var e,t,r={};for(e in ge)if(ge.hasOwnProperty(e))for(t in r[e]=[],ge[e])ge[e].hasOwnProperty(t)&&r[e].push(t);return r},h.addFont=function(e,t,r,n,s){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?s=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(r=B(r,n)),tt.call(this,e,t,r,s=s||"Identity-H")};var It,Mt=e.lineWidth||.200025,Dt=h.__private__.getLineWidth=h.getLineWidth=function(){return Mt},Pt=h.__private__.setLineWidth=h.setLineWidth=function(e){return Mt=e,X(N(F(e))+" w"),this};h.__private__.setLineDash=qv.API.setLineDash=qv.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return N(F(e))}).join(" "),t=N(F(t)),X("["+e+"] "+t+" d"),this};var Tt=h.__private__.getLineHeight=h.getLineHeight=function(){return te*It};h.__private__.getLineHeight=h.getLineHeight=function(){return te*It};var Ot=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(It=e),this},Rt=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return It};Ot(e.lineHeight);var Ht=h.__private__.getHorizontalCoordinate=function(e){return F(e)},zt=h.__private__.getVerticalCoordinate=function(e){return v===b?e:je[T].mediaBox.topRightY-je[T].mediaBox.bottomLeftY-F(e)},Kt=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(e){return N(Ht(e))},Vt=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(e){return N(zt(e))},qt=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return He(qt)},h.__private__.setStrokeColor=h.setDrawColor=function(e,t,r,n){return qt=ze({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"draw",precision:2}),X(qt),this};var Gt=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return He(Gt)},h.__private__.setFillColor=h.setFillColor=function(e,t,r,n){return Gt=ze({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"fill",precision:2}),X(Gt),this};var Wt=e.textColor||"0 g",Jt=h.__private__.getTextColor=h.getTextColor=function(){return He(Wt)};h.__private__.setTextColor=h.setTextColor=function(e,t,r,n){return Wt=ze({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"text",precision:3}),this};var Yt=e.charSpace,Xt=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Yt||0)};h.__private__.setCharSpace=h.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yt=e,this};var Zt=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" J"),this};var $t=0;h.__private__.setLineJoin=h.setLineJoin=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $t=t,X(t+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(N(F(e))+" M"),this},h.GState=Hv,h.setGState=function(e){(e="string"==typeof e?ye[we[e]]:er(null,e)).equals(Be)||(X("/"+e.id+" gs"),Be=e)};var er=function(e,t){if(!e||!we[e]){var r=!1;for(var n in ye)if(ye.hasOwnProperty(n)&&ye[n].equals(t)){r=!0;break}if(r)t=ye[n];else{var s="GS"+(Object.keys(ye).length+1).toString(10);ye[s]=t,t.id=s}return e&&(we[e]=t.id),Ce.publish("addGState",t),t}};h.addGState=function(e,t){return er(e,t),this},h.saveGraphicsState=function(){return X("q"),xe.push({key:de,size:te,color:Wt}),this},h.restoreGraphicsState=function(){X("Q");var e=xe.pop();return de=e.key,te=e.size,Wt=e.color,Be=null,this},h.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},h.comment=function(e){return X("#"+e),this};var tr=function(e,t){var r=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var n=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var s="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return s},set:function(e){s=e.toString()}}),this},rr=function(e,t,r,n){tr.call(this,e,t),this.type="rect";var s=r||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}});var a=n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},nr=function(){this.page=Ne,this.currentPage=T,this.pages=G.slice(0),this.pagesContext=je.slice(0),this.x=he,this.y=fe,this.matrix=me,this.width=ir(T),this.height=lr(T),this.outputDestination=J,this.id="",this.objectNumber=-1};nr.prototype.restore=function(){Ne=this.page,T=this.currentPage,je=this.pagesContext,G=this.pages,he=this.x,fe=this.y,me=this.matrix,or(T,this.width),Ar(T,this.height),J=this.outputDestination};var sr=function(e,t,r,n,s){Ee.push(new nr),Ne=T=0,G=[],he=e,fe=t,me=s,nt([r,n])};for(var ar in h.beginFormObject=function(e,t,r,n,s){return sr(e,t,r,n,s),this},h.endFormObject=function(e){return function(e){if(Fe[e])Ee.pop().restore();else{var t=new nr,r="Xo"+(Object.keys(Se).length+1).toString(10);t.id=r,Fe[e]=r,Se[r]=t,Ce.publish("addFormObject",t),Ee.pop().restore()}}(e),this},h.doFormObject=function(e,t){var r=Se[Fe[e]];return X("q"),X(t.toString()+" cm"),X("/"+r.id+" Do"),X("Q"),this},h.getFormObject=function(e){var t=Se[Fe[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},h.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(bv(mt(ft()),e),"function"==typeof bv.unload&&hv.setTimeout&&setTimeout(bv.unload,911),this):new Promise(function(t,r){try{var s=bv(mt(ft()),e);"function"==typeof bv.unload&&hv.setTimeout&&setTimeout(bv.unload,911),t(s)}catch(n){r(n.message)}})},qv.API)qv.API.hasOwnProperty(ar)&&("events"===ar&&qv.API.events.length?function(e,t){var r,n,s;for(s=t.length-1;-1!==s;s--)r=t[s][0],n=t[s][1],e.subscribe.apply(e,[r].concat("function"==typeof n?[n]:n))}(Ce,qv.API.events):h[ar]=qv.API[ar]);function ir(e){return je[e].mediaBox.topRightX-je[e].mediaBox.bottomLeftX}function or(e,t){je[e].mediaBox.topRightX=t+je[e].mediaBox.bottomLeftX}function lr(e){return je[e].mediaBox.topRightY-je[e].mediaBox.bottomLeftY}function Ar(e,t){je[e].mediaBox.topRightY=t+je[e].mediaBox.bottomLeftY}var cr=h.getPageWidth=function(e){return ir(e=e||T)/ue},dr=h.setPageWidth=function(e,t){or(e,t*ue)},ur=h.getPageHeight=function(e){return lr(e=e||T)/ue},hr=h.setPageHeight=function(e,t){Ar(e,t*ue)};return h.internal={pdfEscape:rt,getStyle:Nt,getFont:Lt,getFontSize:ne,getCharSpace:Xt,getTextColor:Jt,getLineHeight:Tt,getLineHeightFactor:Rt,getLineWidth:Dt,write:Z,getHorizontalCoordinate:Ht,getVerticalCoordinate:zt,getCoordinateString:Kt,getVerticalCoordinateString:Vt,collections:{},newObject:Me,newAdditionalObject:Te,newObjectDeferred:De,newObjectDeferredBegin:Pe,getFilters:Ke,putStream:Ve,events:Ce,scaleFactor:ue,pageSize:{getWidth:function(){return cr(T)},setWidth:function(e){dr(T,e)},getHeight:function(){return ur(T)},setHeight:function(e){hr(T,e)}},encryptionOptions:c,encryption:xt,getEncryptor:function(e){return null!==c?xt.encryptor(e,0):function(e){return e}},output:pt,getNumberOfPages:ot,get pages(){return G},out:X,f2:k,f3:S,getPageInfo:bt,getPageInfoByObjId:vt,getCurrentPageInfo:yt,getPDFVersion:m,Point:tr,Rectangle:rr,Matrix:_e,hasHotfix:gt},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return cr(T)},set:function(e){dr(T,e)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return ur(T)},set:function(e){hr(T,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,r=ee.length;t<r;t++){var n=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===d&&(u[n]=!0);var s=e[t][0].split("-");et({id:n,fontName:s[0],fontStyle:s[1]||""})}Ce.publish("addFonts",{fonts:pe,dictionary:ge})}.call(h,ee),de="F1",st(s,r),Ce.publish("initialized"),h}Tv.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Tv.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Tv.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Tv.prototype.processOwnerPassword=function(e,t){return Dv(Lv(t).substr(0,5),e)},Tv.prototype.encryptor=function(e,t){var r=Lv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Dv(r,e)}},Hv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||(0,rm.A)(e)!==(0,rm.A)(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return 0===n},qv.API={events:[]},qv.version="3.0.4";var Gv=qv.API,Wv=1,Jv=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yv=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Xv=function(e){return e.toFixed(2)},Zv=function(e){return e.toFixed(5)};Gv.__acroform__={};var $v=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},ey=function(e){return e*Wv},ty=function(e){var t=new gy,r=_y.internal.getHeight(e)||0,n=_y.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Xv(n)),Number(Xv(r))],t},ry=Gv.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ny=Gv.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},sy=Gv.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ay=Gv.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sy(e,t-1)},iy=Gv.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ry(e,t-1)},oy=Gv.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ny(e,t-1)},ly=Gv.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],a=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(s+i)||0,l.upperRight_Y=n(a)||0,[Number(Xv(l.lowerLeft_X)),Number(Xv(l.lowerLeft_Y)),Number(Xv(l.upperRight_X)),Number(Xv(l.upperRight_Y))]},Ay=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=cy(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Xv(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=ty(e);return a.scope=e.scope,a.stream=t.join("\n"),a}},cy=function(e,t){var r=0===e.fontSize?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(e){return e.split("\n")}):s.map(function(e){return[e]});var a=r,i=_y.internal.getHeight(e)||0;i=i<0?-i:i;var o=_y.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,r,n){if(t+1<s.length){var a=r+" "+s[t+1][0];return dy(a,e,n).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var A,c,d=dy("3",e,a).height,u=e.multiline?i-a:(i-d)/2,h=u+=2,f=0,m=0,p=0;if(a<=0){t="(...) Tj\n",t+="% Width of Text: "+dy(t,e,a=12).width+", FieldWidth:"+o+"\n";break}for(var g="",x=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var v=!1;if(1!==s[b].length&&p!==s[b].length-1){if((d+2)*(x+2)+2>i)continue e;g+=s[b][p],v=!0,m=b,b--}else{g=" "==(g+=s[b][p]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var y=parseInt(b),w=l(y,g,a),B=b>=s.length-1;if(w&&!B){g+=" ",p=0;continue}if(w||B){if(B)m=y;else if(e.multiline&&(d+2)*(x+2)+2>i)continue e}else{if(!e.multiline)continue e;if((d+2)*(x+2)+2>i)continue e;m=y}}for(var N="",j=f;j<=m;j++){var C=s[j];if(e.multiline){if(j===m){N+=C[p]+" ",p=(p+1)%C.length;continue}if(j===f){N+=C[C.length-1]+" ";continue}}N+=C[0]+" "}switch(N=" "==N.substr(N.length-1)?N.substr(0,N.length-1):N,c=dy(N,e,a).width,e.textAlign){case"right":A=o-c-2;break;case"center":A=(o-c)/2;break;default:A=2}t+=Xv(A)+" "+Xv(h)+" Td\n",t+="("+Jv(N)+") Tj\n",t+=-Xv(A)+" 0 Td\n",h=-(a+2),c=0,f=v?m:m+1,x++,g=""}break}return n.text=t,n.fontSize=a,n},dy=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},uy={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},hy=function(e,t){var r={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===r.type&&e.object===r.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},fy=Gv.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(e){return e};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(0!==a&&(s+=" "),(0,rm.A)(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":"/"!==e[a].substr(0,1)?(void 0!==t&&r&&(n=r.internal.getEncryptor(t)),s+="("+Jv(n(e[a].toString()))+")"):s+=e[a].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},my=function(e,t,r){var n=function(e){return e};return void 0!==t&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Jv(n(e))+")"},py=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};py.prototype.toString=function(){return this.objId+" 0 R"},py.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},py.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var r in t)if(!1===Object.getOwnPropertyDescriptor(this,t[r]).configurable){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:fy(s,this.objId,this.scope)}):s instanceof py?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):"function"!=typeof s&&e.push({key:n,value:s}))}return e};var gy=function(){py.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};$v(gy,py);var xy=function(){py.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Jv(t(e))+")"}},set:function(t){e=t}})};$v(xy,py);var by=function e(){py.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(t,3))},set:function(e){!0===Boolean(e)?this.F=iy(t,3):this.F=oy(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');r=e}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(e){n=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(e){n[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(e){n[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(e){n[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(e){n[3]=e}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof ky)return;a="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Jv(t(a))+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===A?50/Wv:A},set:function(e){A=e}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof ky||this instanceof Fy))return my(d,this.objId,this.scope)},set:function(e){e=e.toString(),d=e}});var u=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof Ny==0?my(u,this.objId,this.scope):u},set:function(e){e=e.toString(),u=this instanceof Ny==0?"("===e.substr(0,1)?Yv(e.substr(1,e.length-2)):Yv(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ny==1?Yv(u.substr(1,u.length-1)):u},set:function(e){e=e.toString(),u=this instanceof Ny==1?"/"+e:e}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ny==0?my(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Ny==0?"("===e.substr(0,1)?Yv(e.substr(1,e.length-2)):Yv(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ny==1?Yv(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Ny==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,1):this.Ff=oy(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,2):this.Ff=oy(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,3):this.Ff=oy(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==p)return p},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');p=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(p){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:p=2;break;case"center":case 1:p=1;break;default:p=0}}})};$v(by,py);var vy=function(){by.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fy(t,this.objId,this.scope)},set:function(e){var r,n;n=[],"string"==typeof(r=e)&&(n=function(e,t,r){r||(r=1);for(var n,s=[];n=t.exec(e);)s.push(n[r]);return s}(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,18):this.Ff=oy(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=iy(this.Ff,19):this.Ff=oy(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=iy(this.Ff,20),t.sort()):this.Ff=oy(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,22):this.Ff=oy(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,23):this.Ff=oy(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,27):this.Ff=oy(this.Ff,27)}}),this.hasAppearanceStream=!1};$v(vy,by);var yy=function(){vy.call(this),this.fontName="helvetica",this.combo=!1};$v(yy,vy);var wy=function(){yy.call(this),this.combo=!0};$v(wy,yy);var By=function(){wy.call(this),this.edit=!0};$v(By,wy);var Ny=function(){by.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,15):this.Ff=oy(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,16):this.Ff=oy(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,17):this.Ff=oy(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,26):this.Ff=oy(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+Jv(e(t[r]))+")");return n.push(">>"),n.join("\n")}},set:function(e){"object"===(0,rm.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};$v(Ny,by);var jy=function(){Ny.call(this),this.pushButton=!0};$v(jy,Ny);var Cy=function(){Ny.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};$v(Cy,Ny);var ky=function(){var e,t;by.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,r=[];for(t in r.push("<<"),n)r.push("/"+t+" ("+Jv(e(n[t]))+")");return r.push(">>"),r.join("\n")},set:function(e){"object"===(0,rm.A)(e)&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){"string"==typeof e&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_y.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};$v(ky,by),Cy.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Cy.prototype.createOption=function(e){var t=new ky;return t.Parent=this,t.optionName=e,this.Kids.push(t),Uy.call(this.scope,t),t};var Sy=function(){Ny.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_y.CheckBox.createAppearanceStream()};$v(Sy,Ny);var Fy=function(){by.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,13):this.Ff=oy(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,21):this.Ff=oy(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,23):this.Ff=oy(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,24):this.Ff=oy(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,25):this.Ff=oy(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,26):this.Ff=oy(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};$v(Fy,by);var Ey=function(){Fy.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(ay(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=iy(this.Ff,14):this.Ff=oy(this.Ff,14)}}),this.password=!0};$v(Ey,Fy);var _y={CheckBox:{createAppearanceStream:function(){return{N:{On:_y.CheckBox.YesNormal},D:{On:_y.CheckBox.YesPushDown,Off:_y.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ty(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=cy(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Xv(_y.internal.getWidth(e))+" "+Xv(_y.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Xv(a.fontSize)+" Tf "+s),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join("\n"),t},YesNormal:function(e){var t=ty(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],a=_y.internal.getHeight(e),i=_y.internal.getWidth(e),o=cy(e,e.caption);return s.push("1 g"),s.push("0 0 "+Xv(i)+" "+Xv(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Xv(i-1)+" "+Xv(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+Xv(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join("\n"),t},OffPushDown:function(e){var t=ty(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Xv(_y.internal.getWidth(e))+" "+Xv(_y.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:_y.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=_y.RadioButton.Circle.YesNormal,t.D[e]=_y.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ty(e);t.scope=e.scope;var r=[],n=_y.internal.getWidth(e)<=_y.internal.getHeight(e)?_y.internal.getWidth(e)/4:_y.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=_y.internal.Bezier_C,a=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Zv(_y.internal.getWidth(e)/2)+" "+Zv(_y.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=ty(e);t.scope=e.scope;var r=[],n=_y.internal.getWidth(e)<=_y.internal.getHeight(e)?_y.internal.getWidth(e)/4:_y.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*_y.internal.Bezier_C).toFixed(5)),i=Number((n*_y.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zv(_y.internal.getWidth(e)/2)+" "+Zv(_y.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Zv(_y.internal.getWidth(e)/2)+" "+Zv(_y.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=ty(e);t.scope=e.scope;var r=[],n=_y.internal.getWidth(e)<=_y.internal.getHeight(e)?_y.internal.getWidth(e)/4:_y.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*_y.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zv(_y.internal.getWidth(e)/2)+" "+Zv(_y.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:_y.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=_y.RadioButton.Cross.YesNormal,t.D[e]=_y.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ty(e);t.scope=e.scope;var r=[],n=_y.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Xv(_y.internal.getWidth(e)-2)+" "+Xv(_y.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Xv(n.x1.x)+" "+Xv(n.x1.y)+" m"),r.push(Xv(n.x2.x)+" "+Xv(n.x2.y)+" l"),r.push(Xv(n.x4.x)+" "+Xv(n.x4.y)+" m"),r.push(Xv(n.x3.x)+" "+Xv(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=ty(e);t.scope=e.scope;var r=_y.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Xv(_y.internal.getWidth(e))+" "+Xv(_y.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Xv(_y.internal.getWidth(e)-2)+" "+Xv(_y.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Xv(r.x1.x)+" "+Xv(r.x1.y)+" m"),n.push(Xv(r.x2.x)+" "+Xv(r.x2.y)+" l"),n.push(Xv(r.x4.x)+" "+Xv(r.x4.y)+" m"),n.push(Xv(r.x3.x)+" "+Xv(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=ty(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Xv(_y.internal.getWidth(e))+" "+Xv(_y.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};_y.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=_y.internal.getWidth(e),r=_y.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},_y.internal.getWidth=function(e){var t=0;return"object"===(0,rm.A)(e)&&(t=ey(e.Rect[2])),t},_y.internal.getHeight=function(e){var t=0;return"object"===(0,rm.A)(e)&&(t=ey(e.Rect[3])),t};var Uy=Gv.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(by.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(uy)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Wv=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new xy,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n.objId=void 0,n.hasAnnotation&&hy(n,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var r=!e;for(var n in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(n)){var s=e[n],a=[],i=s.Rect;if(s.Rect&&(s.Rect=ly(s.Rect,t)),t.internal.newObjectDeferredBegin(s.objId,!0),s.DA=_y.createDefaultAppearanceStream(s),"object"===(0,rm.A)(s)&&"function"==typeof s.getKeyValueListForStream&&(a=s.getKeyValueListForStream()),s.Rect=i,s.hasAppearanceStream&&!s.appearanceStreamContent){var o=Ay(s);a.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(s.appearanceStreamContent){var l="";for(var A in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(A)){var c=s.appearanceStreamContent[A];if(l+="/"+A+" ",l+="<<",Object.keys(c).length>=1||Array.isArray(c)){for(var n in c)if(c.hasOwnProperty(n)){var d=c[n];"function"==typeof d&&(d=d.call(t,s)),l+="/"+n+" "+d+" ",t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d)}}else"function"==typeof(d=c)&&(d=d.call(t,s)),l+="/"+n+" "+d,t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d);l+=">>"}a.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:a,objectId:s.objId}),t.internal.out("endobj")}r&&function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),"object"===(0,rm.A)(s)&&"function"==typeof s.putStream&&s.putStream(),delete e[n]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof by))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Gv.AcroFormChoiceField=vy,Gv.AcroFormListBox=yy,Gv.AcroFormComboBox=wy,Gv.AcroFormEditBox=By,Gv.AcroFormButton=Ny,Gv.AcroFormPushButton=jy,Gv.AcroFormRadioButton=Cy,Gv.AcroFormCheckBox=Sy,Gv.AcroFormTextField=Fy,Gv.AcroFormPasswordField=Ey,Gv.AcroFormAppearance=_y,Gv.AcroForm={ChoiceField:vy,ListBox:yy,ComboBox:wy,EditBox:By,Button:Ny,PushButton:jy,RadioButton:Cy,CheckBox:Sy,TextField:Fy,PasswordField:Ey,Appearance:_y},qv.AcroForm={ChoiceField:vy,ListBox:yy,ComboBox:wy,EditBox:By,Button:Ny,PushButton:jy,RadioButton:Cy,CheckBox:Sy,TextField:Fy,PasswordField:Ey,Appearance:_y};qv.AcroForm;function Qy(e){return e.reduce(function(e,t,r){return e[t]=r,e},{})}!function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(e,t){var s,a,i,o,l,A=r;if("RGBA"===(t=t||r)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(w(e))for(l in n)for(i=n[l],s=0;s<i.length;s+=1){for(o=!0,a=0;a<i[s].length;a+=1)if(void 0!==i[s][a]&&i[s][a]!==e[a]){o=!1;break}if(!0===o){A=l;break}}else for(l in n)for(i=n[l],s=0;s<i.length;s+=1){for(o=!0,a=0;a<i[s].length;a+=1)if(void 0!==i[s][a]&&i[s][a]!==e.charCodeAt(a)){o=!1;break}if(!0===o){A=l;break}}return A===r&&t!==r&&(A=t),A},a=function e(t){for(var r=this.internal.write,n=this.internal.putStream,s=(0,this.internal.getFilters)();-1!==s.indexOf("FlateEncode");)s.splice(s.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:t.width}),a.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var i="",o=0,l=t.transparency.length;o<l;o++)i+=t.transparency[o]+" "+t.transparency[o]+" ";a.push({key:"Mask",value:"["+i+"]"})}void 0!==t.sMask&&a.push({key:"SMask",value:t.objectId+1+" 0 R"});var A=void 0!==t.filter?["/"+t.filter]:void 0;if(n({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:A,objectId:t.objectId}),r("endobj"),"sMask"in t&&void 0!==t.sMask){var c,d=null!==(c=t.sMaskBitsPerComponent)&&void 0!==c?c:t.bitsPerComponent,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:d,data:t.sMask};"filter"in t&&(u.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(d," /Columns ").concat(t.width),u.filter=t.filter),e.call(this,u)}if(t.colorSpace===g.INDEXED){var h=this.internal.newObject();n({data:N(new Uint8Array(t.palette)),objectId:h}),r("endobj")}},i=function(){var e=this.internal.collections[t+"images"];for(var r in e)a.call(this,e[r])},o=function(){var e,r=this.internal.collections[t+"images"],n=this.internal.write;for(var s in r)n("/I"+(e=r[s]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},c=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(t){return"function"==typeof e["process"+t.toUpperCase()]},u=function(e){return"object"===(0,rm.A)(e)&&1===e.nodeType},h=function(t,r){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return yv(unescape(n).split("base64,").pop());var s=e.loadFile(n,!0);if(void 0!==s)return s}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var a;switch(r){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return yv(t.toDataURL(a,1).split("base64,").pop())}},f=function(e){var r=this.internal.collections[t+"images"];if(r)for(var n in r)if(e===r[n].alias)return r[n]},m=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.height*72/t/this.internal.scaleFactor),0===e&&(e=t*r.width/r.height),0===t&&(t=e*r.height/r.width),[e,t]},p=function(e,t,r,n,s,a){var i=m.call(this,r,n,s),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=A.call(this);if(r=i[0],n=i[1],c[s.index]=s,a){a*=Math.PI/180;var d=Math.cos(a),u=Math.sin(a),h=function(e){return e.toFixed(4)},f=[h(d),h(u),h(-1*u),h(d),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,o(e),l(t+n),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([o(r),"0","0",o(n),"0","0","cm"].join(" "))):this.internal.write([o(r),"0","0",o(n),o(e),l(t+n),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+s.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,r,n=0;if("string"==typeof e)for(r=e.length,t=0;t<r;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;else if(w(e))for(r=e.byteLength/2,t=0;t<r;t++)n=(n<<5)-n+e[t],n|=0;return n},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},y=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var w=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},B=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},N=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",r=w(e)?e:new Uint8Array(e),n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,r.subarray(n,n+8192));return t};e.addImage=function(){var e,t,n,s,a,i,o,A,c;if("number"==typeof arguments[1]?(t=r,n=arguments[1],s=arguments[2],a=arguments[3],i=arguments[4],o=arguments[5],A=arguments[6],c=arguments[7]):(t=arguments[1],n=arguments[2],s=arguments[3],a=arguments[4],i=arguments[5],o=arguments[6],A=arguments[7],c=arguments[8]),"object"===(0,rm.A)(e=arguments[0])&&!u(e)&&"imageData"in e){var d=e;e=d.imageData,t=d.format||t||r,n=d.x||n||0,s=d.y||s||0,a=d.w||d.width||a,i=d.h||d.height||i,o=d.alias||o,A=d.compression||A,c=d.rotation||d.angle||c}var h=this.internal.getFilters();if(void 0===A&&-1!==h.indexOf("FlateEncode")&&(A="SLOW"),isNaN(n)||isNaN(s))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var f=j.call(this,e,t,o,A);return p.call(this,n,s,a,i,f,c),this};var j=function(t,n,a,i){var o,l,A;if("string"==typeof t&&s(t)===r){t=unescape(t);var m=C(t,!1);(""!==m||void 0!==(m=e.loadFile(t,!0)))&&(t=m)}if(u(t)&&(t=h(t,n)),n=s(t,n),!d(n))throw new Error("addImage does not support files of type '"+n+"', please ensure that a plugin for '"+n+"' support is added.");if((null==(A=a)||0===A.length)&&(a=function(e){return"string"==typeof e||w(e)?b(e):w(e.data)?b(e.data):null}(t)),(o=f.call(this,a))||(t instanceof Uint8Array||"RGBA"===n||(l=t,t=B(t)),o=this["process"+n.toUpperCase()](t,c.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:x.NONE}(i),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var r,n="";if("string"==typeof e){var a;r=null!==(a=y(e))&&void 0!==a?a:e;try{n=yv(r)}catch(s){if(t)throw v(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+s.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return n};e.getImageProperties=function(t){var n,a,i="";if(u(t)&&(t=h(t)),"string"==typeof t&&s(t)===r&&(""===(i=C(t,!1))&&(i=e.loadFile(t)||""),t=i),a=s(t),!d(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(t instanceof Uint8Array||(t=B(t)),!(n=this["process"+a.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return n.fileType=a,n}}(qv.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};qv.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var r,n,s,a=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,A=!1,c=0;c<l.length&&!A;c++)switch((r=l[c]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(0!=A){this.internal.write("/Annots [");for(var d=0;d<l.length;d++){r=l[d];var u=this.internal.pdfEscape,h=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(f.objId),g=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(n="/Rect ["+a(r.bounds.x)+" "+i(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+i(r.bounds.y)+"] ")+"/Contents ("+u(p(r.contents))+")",s+=" /Popup "+m.objId+" 0 R",s+=" /P "+o.objId+" 0 R",s+=" /T ("+u(p(g))+") >>",f.content=s;var x=f.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+a(r.bounds.x+30)+" "+i(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+i(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(s+=" /Open true"),s+=" >>",m.content=s,this.internal.write(f.objId,"0 R",m.objId,"0 R");break;case"freetext":n="/Rect ["+a(r.bounds.x)+" "+i(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+i(r.bounds.y+r.bounds.h)+"] ";var b=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+u(h(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var v=this.annotations._nameMap[r.options.name];r.options.pageNumber=v.page,r.options.top=v.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+u(h(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var y=i(r.options.top);r.options.left=r.options.left||0,void 0===r.options.zoom&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+y+" "+r.options.zoom+"]"}""!=s&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,r,n,s){var a=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:i(e),y:o(t),w:i(e+r),h:o(t+n)},options:s,type:"link"})},e.textWithLink=function(e,t,r,n){var s,a,i=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==n.maxWidth){a=n.maxWidth;var l=this.splitTextToSize(e,a).length;s=Math.ceil(o*l)}else a=i,s=o;return this.text(e,t,r,n),r+=.2*o,"center"===n.align&&(t-=i/2),"right"===n.align&&(t-=i),this.link(t,r-o,a,s,n),i},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(qv.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},i=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return i(e)&&s.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return i(e)&&a(e)&&4==t[e.charCodeAt(0)].length},d=e.__arabicParser__.resolveLigatures=function(e){var t=0,n=r,s="",a=0;for(t=0;t<e.length;t+=1)void 0!==n[e.charCodeAt(t)]?(a++,"number"==typeof(n=n[e.charCodeAt(t)])&&(s+=String.fromCharCode(n),n=r,a=0),t===e.length-1&&(n=r,s+=e.charAt(t-(a-1)),t-=a-1,a=0)):(n=r,s+=e.charAt(t-a),t-=a,a=0);return s};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==n[e.charCodeAt(0)]};var u=e.__arabicParser__.getCorrectForm=function(e,t,r){return i(e)?!1===a(e)?-1:!A(e)||!i(t)&&!i(r)||!i(r)&&o(t)||o(e)&&!i(t)||o(e)&&l(t)||o(e)&&o(t)?0:c(e)&&i(t)&&!o(t)&&i(r)&&A(r)?3:o(e)||!i(r)?1:2:-1},h=function(e){var r=0,n=0,s=0,a="",o="",l="",A=(e=e||"").split("\\s+"),c=[];for(r=0;r<A.length;r+=1){for(c.push(""),n=0;n<A[r].length;n+=1)a=A[r][n],o=A[r][n-1],l=A[r][n+1],i(a)?(s=u(a,o,l),c[r]+=-1!==s?String.fromCharCode(t[a.charCodeAt(0)][s]):a):c[r]+=a;c[r]=d(c[r])}return c.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,r=[];if(Array.isArray(t)){var n=0;for(r=[],n=0;n<t.length;n+=1)Array.isArray(t[n])?r.push([h(t[n][0]),t[n][1],t[n][2]]):r.push([h(t[n])]);e=r}else e=h(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(qv.API),qv.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(e){n=e}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var r;if("2d"!==(e=e||"2d"))return null;for(r in t)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=t[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(qv.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var r=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var n=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var s=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var i=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return i},set:function(e){i=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return n.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){n.call(this);var r=(t=t||{}).fontSize||this.getFontSize(),s=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,i=0,o=0,l=0,A=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var c=t.maxWidth;c>0?"string"==typeof e?e=this.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(A.splitTextToSize(t,c))},[])):e=Array.isArray(e)?e:[e];for(var d=0;d<e.length;d++)i<(l=this.getStringUnitWidth(e[d],{font:s})*r)&&(i=l);return 0!==i&&(o=e.length),{w:i/=a,h:Math.max((o*r*this.getLineHeightFactor()-r*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var e;e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var s=this.internal.__cell__.lastCell,i=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return void 0!==s.lineNumber&&(s.lineNumber===e.lineNumber?(e.x=(s.x||0)+(s.width||0),e.y=s.y||0):s.y+s.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,A&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=s.y+s.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===r?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-i,e.y+i,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+i,{align:"center",baseline:"top",maxWidth:e.width-i-i}):this.text(e.text,e.x+i,e.y+i,{align:"left",baseline:"top",maxWidth:e.width-i-i})),this.internal.__cell__.lastCell=e,this};e.table=function(e,r,l,A,c){if(n.call(this),!l)throw new Error("No data for PDF table.");var d,u,h,f,m=[],p=[],g=[],x={},b={},v=[],y=[],w=(c=c||{}).autoSize||!1,B=!1!==c.printHeaders,N=c.css&&void 0!==c.css["font-size"]?16*c.css["font-size"]:c.fontSize||12,j=c.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof c.padding?c.padding:3,k=c.headerBackgroundColor||"#c8c8c8",S=c.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=N,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=S,this.setFontSize(N),null==A)p=m=Object.keys(l[0]),g=m.map(function(){return"left"});else if(Array.isArray(A)&&"object"===(0,rm.A)(A[0]))for(m=A.map(function(e){return e.name}),p=A.map(function(e){return e.prompt||e.name||""}),g=A.map(function(e){return e.align||"left"}),d=0;d<A.length;d+=1)b[A[d].name]=.7499990551181103*A[d].width;else Array.isArray(A)&&"string"==typeof A[0]&&(p=m=A,g=m.map(function(){return"left"}));if(w||Array.isArray(A)&&"string"==typeof A[0])for(d=0;d<m.length;d+=1){for(x[f=m[d]]=l.map(function(e){return e[f]}),this.setFont(void 0,"bold"),v.push(this.getTextDimensions(p[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),u=x[f],this.setFont(void 0,"normal"),h=0;h<u.length;h+=1)v.push(this.getTextDimensions(u[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[f]=Math.max.apply(null,v)+C+C,v=[]}if(B){var F={};for(d=0;d<m.length;d+=1)F[m[d]]={},F[m[d]].text=p[d],F[m[d]].align=g[d];var E=o.call(this,F,b);y=m.map(function(t){return new a(e,r,b[t],E,F[t].text,void 0,F[t].align)}),this.setTableHeaderRow(y),this.printHeaderRow(1,!1)}var _=A.reduce(function(e,t){return e[t.name]=t.align,e},{});for(d=0;d<l.length;d+=1){"rowStart"in c&&c.rowStart instanceof Function&&c.rowStart({row:d,data:l[d]},this);var U=o.call(this,l[d],b);for(h=0;h<m.length;h+=1){var Q=l[d][m[h]];"cellStart"in c&&c.cellStart instanceof Function&&c.cellStart({row:d,col:h,data:Q},this),i.call(this,new a(e,r,b[m[h]],U,Q,d+2,_[m[h]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=r,this};var o=function(e,t){var r=this.internal.__cell__.padding,n=this.internal.__cell__.table_font_size,s=this.internal.scaleFactor;return Object.keys(e).map(function(n){var s=e[n];return this.splitTextToSize(s.hasOwnProperty("text")?s.text:s,t[n]-r-r)},this).map(function(e){return this.getLineHeightFactor()*e.length*n/s+r+r},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){n.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var s;if(r=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){s=this.internal.__cell__.tableHeaderRow[A].clone(),t&&(s.y=this.internal.__cell__.margins.top||0,l.push(s)),s.lineNumber=e;var c=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,s),this.setTextColor(c)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),r=!1}}(qv.API);var Ly={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Iy=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],My=Qy(Iy),Dy=[100,200,300,400,500,600,700,800,900],Py=Qy(Dy);function Ty(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(e){return Ly[e=e||"normal"]?e:"normal"}(e.style),n=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),s=function(e){return"number"==typeof My[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function Oy(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var Ry={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Hy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function zy(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Ky(e){return e.trimLeft()}function Vy(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function qy(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Gy,Wy,Jy,Yy,Xy,Zy,$y,ew,tw,rw=["times"];function nw(e,t,r,n,s){var a=4,i=iw;switch(s){case qv.API.image_compression.FAST:a=1,i=aw;break;case qv.API.image_compression.MEDIUM:a=6,i=ow;break;case qv.API.image_compression.SLOW:a=9,i=lw}e=function(e,t,r,n){for(var s,a=e.length/t,i=new Uint8Array(e.length+a),o=[sw,aw,iw,ow,lw],l=0;l<a;l+=1){var A=l*t,c=e.subarray(A,A+t);if(n)i.set(n(c,r,s),A+l);else{for(var d=o.length,u=[],h=0;h<d;h+=1)u[h]=o[h](c,r,s);var f=cw(u.concat());i.set(u[f],A+l)}s=c}return i}(e,t,Math.ceil(r*n/8),i);var o=Om(e,{level:a});return qv.API.__addimage__.arrayBufferToBinaryString(o)}function sw(e){var t=Array.apply([],e);return t.unshift(0),t}function aw(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var a=e[s-t]||0;n[s+1]=e[s]-a+256&255}return n}function iw(e,t,r){var n=e.length,s=[];s[0]=2;for(var a=0;a<n;a+=1){var i=r&&r[a]||0;s[a+1]=e[a]-i+256&255}return s}function ow(e,t,r){var n=e.length,s=[];s[0]=3;for(var a=0;a<n;a+=1){var i=e[a-t]||0,o=r&&r[a]||0;s[a+1]=e[a]+256-(i+o>>>1)&255}return s}function lw(e,t,r){var n=e.length,s=[];s[0]=4;for(var a=0;a<n;a+=1){var i=Aw(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);s[a+1]=e[a]-i+256&255}return s}function Aw(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=s&&n<=a?e:s<=a?t:r}function cw(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function dw(e,t,r){var n=t*r,s=Math.floor(n/8),a=16-(n-8*s+r),i=(1<<r)-1;return hw(e,s)>>a&i}function uw(e,t,r,n){var s=r*n,a=Math.floor(s/8),i=16-(s-8*a+n),o=(1<<n)-1,l=(t&o)<<i;!function(e,t,r){if(t+1<e.byteLength)e.setUint16(t,r,!1);else{var n=r>>8&255;e.setUint8(t,n)}}(e,a,hw(e,a)&~(o<<i)&65535|l)}function hw(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function fw(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,i=1<<1+(7&s);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=i,t+=3*i);var A=!0,c=[],d=0,u=null,h=0,f=null;for(this.width=r,this.height=n;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,u=e[t++],1&m||(u=null),h=m>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var p=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,v=e[t++],y=v>>6&1,w=1<<1+(7&v),B=o,N=l,j=!1;v>>7&&(j=!0,B=t,N=w,t+=3*w);var C=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}c.push({x:p,y:g,width:x,height:b,has_local_palette:j,palette_offset:B,palette_size:N,data_offset:C,data_length:t-C,transparent_index:u,interlaced:!!y,delay:d,disposal:h});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,n){var s=this.frameInfo(t),a=s.width*s.height,i=new Uint8Array(a);mw(e,s.data_offset,i,a);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var A=s.width,c=r-A,d=A,u=4*(s.y*r+s.x),h=4*((s.y+s.height)*r+s.x),f=u,m=4*c;!0===s.interlaced&&(m+=4*r*7);for(var p=8,g=0,x=i.length;g<x;++g){var b=i[g];if(0===d&&(d=A,(f+=m)>=h&&(m=4*c+4*r*(p-1),f=u+(A+c)*(p<<1),p>>=1)),b===l)f+=4;else{var v=e[o+3*b],y=e[o+3*b+1],w=e[o+3*b+2];n[f++]=w,n[f++]=y,n[f++]=v,n[f++]=255}--d}},this.decodeAndBlitFrameRGBA=function(t,n){var s=this.frameInfo(t),a=s.width*s.height,i=new Uint8Array(a);mw(e,s.data_offset,i,a);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var A=s.width,c=r-A,d=A,u=4*(s.y*r+s.x),h=4*((s.y+s.height)*r+s.x),f=u,m=4*c;!0===s.interlaced&&(m+=4*r*7);for(var p=8,g=0,x=i.length;g<x;++g){var b=i[g];if(0===d&&(d=A,(f+=m)>=h&&(m=4*c+4*r*(p-1),f=u+(A+c)*(p<<1),p>>=1)),b===l)f+=4;else{var v=e[o+3*b],y=e[o+3*b+1],w=e[o+3*b+2];n[f++]=v,n[f++]=y,n[f++]=w,n[f++]=255}--d}}}function mw(e,t,r,n){for(var s=e[t++],a=1<<s,i=a+1,o=i+1,l=s+1,A=(1<<l)-1,c=0,d=0,u=0,h=e[t++],f=new Int32Array(4096),m=null;;){for(;c<16&&0!==h;)d|=e[t++]<<c,c+=8,1===h?h=e[t++]:--h;if(c<l)break;var p=d&A;if(d>>=l,c-=l,p!==a){if(p===i)break;for(var g=p<o?p:m,x=0,b=g;b>a;)b=f[b]>>8,++x;var v=b;if(u+x+(g!==p?1:0)>n)return void mv.log("Warning, gif stream longer than expected.");r[u++]=v;var y=u+=x;for(g!==p&&(r[u++]=v),b=g;x--;)b=f[b],r[--y]=255&b,b>>=8;null!==m&&o<4096&&(f[o++]=m<<8|v,o>=A+1&&l<12&&(++l,A=A<<1|1)),m=p}else o=i+1,A=(1<<(l=s+1))-1,m=null}return u!==n&&mv.log("Warning, gif stream shorter than expected."),r}function pw(e){var t,r,n,s,a,i=Math.floor,o=new Array(64),l=new Array(64),A=new Array(64),c=new Array(64),d=new Array(65535),u=new Array(65535),h=new Array(64),f=new Array(64),m=[],p=0,g=7,x=new Array(64),b=new Array(64),v=new Array(64),y=new Array(256),w=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(e,t){for(var r=0,n=0,s=new Array,a=1;a<=16;a++){for(var i=1;i<=e[a];i++)s[t[n]]=[],s[t[n]][0]=r,s[t[n]][1]=a,n++,r++;r*=2}return s}function Q(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(p|=1<<g),r--,--g<0&&(255==p?(L(255),L(0)):L(p),g=7,p=0)}function L(e){m.push(e)}function I(e){L(e>>8&255),L(255&e)}function M(e,t,r,n,s){for(var a,i=s[0],o=s[240],l=function(e,t){var r,n,s,a,i,o,l,A,c,d,u=0;for(c=0;c<8;++c){r=e[u],n=e[u+1],s=e[u+2],a=e[u+3],i=e[u+4],o=e[u+5],l=e[u+6];var f=r+(A=e[u+7]),m=r-A,p=n+l,g=n-l,x=s+o,b=s-o,v=a+i,y=a-i,w=f+v,B=f-v,N=p+x,j=p-x;e[u]=w+N,e[u+4]=w-N;var C=.707106781*(j+B);e[u+2]=B+C,e[u+6]=B-C;var k=.382683433*((w=y+b)-(j=g+m)),S=.5411961*w+k,F=1.306562965*j+k,E=.707106781*(N=b+g),_=m+E,U=m-E;e[u+5]=U+S,e[u+3]=U-S,e[u+1]=_+F,e[u+7]=_-F,u+=8}for(u=0,c=0;c<8;++c){r=e[u],n=e[u+8],s=e[u+16],a=e[u+24],i=e[u+32],o=e[u+40],l=e[u+48];var Q=r+(A=e[u+56]),L=r-A,I=n+l,M=n-l,D=s+o,P=s-o,T=a+i,O=a-i,R=Q+T,H=Q-T,z=I+D,K=I-D;e[u]=R+z,e[u+32]=R-z;var V=.707106781*(K+H);e[u+16]=H+V,e[u+48]=H-V;var q=.382683433*((R=O+P)-(K=M+L)),G=.5411961*R+q,W=1.306562965*K+q,J=.707106781*(z=P+M),Y=L+J,X=L-J;e[u+40]=X+G,e[u+24]=X-G,e[u+8]=Y+W,e[u+56]=Y-W,u++}for(c=0;c<64;++c)d=e[c]*t[c],h[c]=d>0?d+.5|0:d-.5|0;return h}(e,t),A=0;A<64;++A)f[B[A]]=l[A];var c=f[0]-r;r=f[0],0==c?Q(n[0]):(Q(n[u[a=32767+c]]),Q(d[a]));for(var m=63;m>0&&0==f[m];)m--;if(0==m)return Q(i),r;for(var p,g=1;g<=m;){for(var x=g;0==f[g]&&g<=m;)++g;var b=g-x;if(b>=16){p=b>>4;for(var v=1;v<=p;++v)Q(o);b&=15}a=32767+f[g],Q(s[(b<<4)+u[a]]),Q(d[a]),g++}return 63!=m&&Q(i),r}function D(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=i((t[r]*e+50)/100);n=Math.min(Math.max(n,1),255),o[B[r]]=n}for(var s=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var d=i((s[a]*e+50)/100);d=Math.min(Math.max(d,1),255),l[B[a]]=d}for(var u=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,f=0;f<8;f++)for(var m=0;m<8;m++)A[h]=1/(o[B[h]]*u[f]*u[m]*8),c[h]=1/(l[B[h]]*u[f]*u[m]*8),h++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){a&&D(a),m=new Array,p=0,g=7,I(65496),I(65504),I(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),I(1),I(1),L(0),L(0),function(){I(65499),I(132),L(0);for(var e=0;e<64;e++)L(o[e]);L(1);for(var t=0;t<64;t++)L(l[t])}(),function(e,t){I(65472),I(17),L(8),I(t),I(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){I(65476),I(418),L(0);for(var e=0;e<16;e++)L(N[e+1]);for(var t=0;t<=11;t++)L(j[t]);L(16);for(var r=0;r<16;r++)L(C[r+1]);for(var n=0;n<=161;n++)L(k[n]);L(1);for(var s=0;s<16;s++)L(S[s+1]);for(var a=0;a<=11;a++)L(F[a]);L(17);for(var i=0;i<16;i++)L(E[i+1]);for(var o=0;o<=161;o++)L(_[o])}(),I(65498),I(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var i=0,d=0,u=0;p=0,g=7,this.encode.displayName="_encode_";for(var h,f,y,B,U,P,T,O,R,H=e.data,z=e.width,K=e.height,V=4*z,q=0;q<K;){for(h=0;h<V;){for(U=V*q+h,T=-1,O=0,R=0;R<64;R++)P=U+(O=R>>3)*V+(T=4*(7&R)),q+O>=K&&(P-=V*(q+1+O-K)),h+T>=V&&(P-=h+T-V+4),f=H[P++],y=H[P++],B=H[P++],x[R]=(w[f]+w[y+256|0]+w[B+512|0]>>16)-128,b[R]=(w[f+768|0]+w[y+1024|0]+w[B+1280|0]>>16)-128,v[R]=(w[f+1280|0]+w[y+1536|0]+w[B+1792|0]>>16)-128;i=M(x,A,i,t,n),d=M(b,c,d,r,s),u=M(v,c,u,r,s),h+=32}q+=8}if(g>=0){var G=[];G[1]=g+1,G[0]=(1<<g+1)-1,Q(G)}return I(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)y[t]=e(t)}(),t=U(N,j),r=U(S,F),n=U(C,k),s=U(E,_),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var n=e;n<t;n++)u[32767+n]=r,d[32767+n]=[],d[32767+n][1]=r,d[32767+n][0]=n;for(var s=-(t-1);s<=-e;s++)u[32767+s]=r,d[32767+s]=[],d[32767+s][1]=r,d[32767+s][0]=t-1+s;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)w[e]=19595*e,w[e+256|0]=38470*e,w[e+512|0]=7471*e+32768,w[e+768|0]=-11059*e,w[e+1024|0]=-21709*e,w[e+1280|0]=32768*e+8421375,w[e+1536|0]=-27439*e,w[e+1792|0]=-5329*e}(),D(e)}function gw(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function xw(e){function t(e){if(!e)throw Error("assert :P")}function r(e,t,r){for(var n=0;4>n;n++)if(e[t+n]!=r.charCodeAt(n))return!0;return!1}function n(e,t,r,n,s){for(var a=0;a<s;a++)e[t+a]=r[n+a]}function s(e,t,r,n){for(var s=0;s<n;s++)e[t+s]=r}function a(e){return new Int32Array(e)}function i(e,t){for(var r=[],n=0;n<e;n++)r.push(new t);return r}function o(e,t){var r=[];return function e(r,n,s){for(var a=s[n],i=0;i<a&&(r.push(s.length>n+1?[]:new t),!(s.length<n+1));i++)e(r[i],n+1,s)}(r,0,e),r}var l=function(){var e=this;function l(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function A(e,r,n,s,a){t(!(s%n));do{e[r+(s-=n)]=a}while(0<s)}function c(e,r,n,s,i){if(t(2328>=i),512>=i)var o=a(512);else if(null==(o=a(i)))return 0;return function(e,r,n,s,i,o){var c,u,h=r,f=1<<n,m=a(16),p=a(16);for(t(0!=i),t(null!=s),t(null!=e),t(0<n),u=0;u<i;++u){if(15<s[u])return 0;++m[s[u]]}if(m[0]==i)return 0;for(p[1]=0,c=1;15>c;++c){if(m[c]>1<<c)return 0;p[c+1]=p[c]+m[c]}for(u=0;u<i;++u)c=s[u],0<s[u]&&(o[p[c]++]=u);if(1==p[15])return(s=new d).g=0,s.value=o[0],A(e,h,1,f,s),f;var g,x=-1,b=f-1,v=0,y=1,w=1,B=1<<n;for(u=0,c=1,i=2;c<=n;++c,i<<=1){if(y+=w<<=1,0>(w-=m[c]))return 0;for(;0<m[c];--m[c])(s=new d).g=c,s.value=o[u++],A(e,h+v,i,B,s),v=l(v,c)}for(c=n+1,i=2;15>=c;++c,i<<=1){if(y+=w<<=1,0>(w-=m[c]))return 0;for(;0<m[c];--m[c]){if(s=new d,(v&b)!=x){for(h+=B,g=1<<(x=c)-n;15>x&&!(0>=(g-=m[x]));)++x,g<<=1;f+=B=1<<(g=x-n),e[r+(x=v&b)].g=g+n,e[r+x].value=h-r-x}s.g=c-n,s.value=o[u++],A(e,h+(v>>n),i,B,s),v=l(v,c)}}return y!=2*p[15]-1?0:f}(e,r,n,s,i,o)}function d(){this.value=this.g=0}function u(){this.value=this.g=0}function h(){this.G=i(5,d),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Dr,u)}function f(e,r,n,s){t(null!=e),t(null!=r),t(2147483648>s),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=r,e.pa=n,e.Jd=r,e.Yc=n+s,e.Zc=4<=s?n+s-4+1:n,C(e)}function m(e,t){for(var r=0;0<t--;)r|=S(e,128)<<t;return r}function p(e,t){var r=m(e,t);return k(e)?-r:r}function g(e,r,n,s){var a,i=0;for(t(null!=e),t(null!=r),t(4294967288>s),e.Sb=s,e.Ra=0,e.u=0,e.h=0,4<s&&(s=4),a=0;a<s;++a)i+=r[n+a]<<8*a;e.Ra=i,e.bb=s,e.oa=r,e.pa=n}function x(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Or-8>>>0,++e.bb,e.u-=8;B(e)&&(e.h=1,e.u=0)}function b(e,r){if(t(0<=r),!e.h&&r<=Tr){var n=w(e)&Pr[r];return e.u+=r,x(e),n}return e.h=1,e.u=0}function v(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function w(e){return e.Ra>>>(e.u&Or-1)>>>0}function B(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Or}function N(e,t){e.u=t,e.h=B(e)}function j(e){e.u>=Rr&&(t(e.u>=Rr),x(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function k(e){return m(e,1)}function S(e,t){var r=e.Ca;0>e.b&&C(e);var n=e.b,s=r*t>>>8,a=(e.I>>>n>s)+0;for(a?(r-=s,e.I-=s+1<<n>>>0):r=s+1,n=r,s=0;256<=n;)s+=8,n>>=8;return n=7^s+Hr[n],e.b-=n,e.Ca=(r<<n)-1,a}function F(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function E(e,t){return e[t+0]|e[t+1]<<8}function _(e,t){return E(e,t)|e[t+2]<<16}function U(e,t){return E(e,t)|E(e,t+2)<<16}function Q(e,r){var n=1<<r;return t(null!=e),t(0<r),e.X=a(n),null==e.X?0:(e.Mb=32-r,e.Xa=r,1)}function L(e,r){t(null!=e),t(null!=r),t(e.Xa==r.Xa),n(r.X,0,e.X,0,1<<r.Xa)}function I(){this.X=[],this.Xa=this.Mb=0}function M(e,r,n,s){t(null!=n),t(null!=s);var a=n[0],i=s[0];return 0==a&&(a=(e*i+r/2)/r),0==i&&(i=(r*a+e/2)/e),0>=a||0>=i?0:(n[0]=a,s[0]=i,1)}function D(e,t){return e+(1<<t)-1>>>t}function P(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function T(t,r){e[r]=function(r,n,s,a,i,o,l){var A;for(A=0;A<i;++A){var c=e[t](o[l+A-1],s,a+A);o[l+A]=P(r[n+A],c)}}}function O(){this.ud=this.hd=this.jd=0}function R(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function z(e,t){return H(e+(e-t+.5>>1))}function K(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function V(e,t,r,n,s,a,i){for(n=a[i-1],r=0;r<s;++r)a[i+r]=n=P(e[t+r],n)}function q(e,t,r,n,s){var a;for(a=0;a<r;++a){var i=e[t+a],o=i>>8&255,l=16711935&(l=(l=16711935&i)+((o<<16)+o));n[s+a]=(4278255360&i)+l>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function W(e,t,r,n,s,a){var i;for(i=0;i<n;++i){var o=t[r+i],l=o>>>8,A=o,c=255&(c=(c=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));A=255&(A=(A+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(c<<24>>24)>>>5)),s[a+i]=(4278255360&o)+(c<<16)+A}}function J(t,r,n,s,a){e[r]=function(e,t,r,n,i,o,l,A,c){for(n=l;n<A;++n)for(l=0;l<c;++l)i[o++]=a(r[s(e[t++])])},e[t]=function(t,r,i,o,l,A,c){var d=8>>t.b,u=t.Ea,h=t.K[0],f=t.w;if(8>d)for(t=(1<<t.b)-1,f=(1<<d)-1;r<i;++r){var m,p=0;for(m=0;m<u;++m)m&t||(p=s(o[l++])),A[c++]=a(h[p&f]),p>>=d}else e["VP8LMapColor"+n](o,l,h,f,A,c,r,i,u)}}function Y(e,t,r,n,s){for(r=t+r;t<r;){var a=e[t++];n[s++]=a>>16&255,n[s++]=a>>8&255,n[s++]=255&a}}function X(e,t,r,n,s){for(r=t+r;t<r;){var a=e[t++];n[s++]=a>>16&255,n[s++]=a>>8&255,n[s++]=255&a,n[s++]=a>>24&255}}function Z(e,t,r,n,s){for(r=t+r;t<r;){var a=(i=e[t++])>>16&240|i>>12&15,i=240&i|i>>28&15;n[s++]=a,n[s++]=i}}function $(e,t,r,n,s){for(r=t+r;t<r;){var a=(i=e[t++])>>16&248|i>>13&7,i=i>>5&224|i>>3&31;n[s++]=a,n[s++]=i}}function ee(e,t,r,n,s){for(r=t+r;t<r;){var a=e[t++];n[s++]=255&a,n[s++]=a>>8&255,n[s++]=a>>16&255}}function te(e,t,r,s,a,i){if(0==i)for(r=t+r;t<r;)F(s,((i=e[t++])[0]>>24|i[1]>>8&65280|i[2]<<8&16711680|i[3]<<24)>>>0),a+=32;else n(s,a,e,t,r)}function re(t,r){e[r][0]=e[t+"0"],e[r][1]=e[t+"1"],e[r][2]=e[t+"2"],e[r][3]=e[t+"3"],e[r][4]=e[t+"4"],e[r][5]=e[t+"5"],e[r][6]=e[t+"6"],e[r][7]=e[t+"7"],e[r][8]=e[t+"8"],e[r][9]=e[t+"9"],e[r][10]=e[t+"10"],e[r][11]=e[t+"11"],e[r][12]=e[t+"12"],e[r][13]=e[t+"13"],e[r][14]=e[t+"0"],e[r][15]=e[t+"0"]}function ne(e){return e==Hn||e==zn||e==Kn||e==Vn}function se(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new se,this.f.kb=new ae,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ae(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ce(e,t){var r=e.T,s=t.ba.f.RGBA,a=s.eb,i=s.fb+e.ka*s.A,o=ps[t.ba.S],l=e.y,A=e.O,c=e.f,d=e.N,u=e.ea,h=e.W,f=t.cc,m=t.dc,p=t.Mc,g=t.Nc,x=e.ka,b=e.ka+e.T,v=e.U,y=v+1>>1;for(0==x?o(l,A,null,null,c,d,u,h,c,d,u,h,a,i,null,null,v):(o(t.ec,t.fc,l,A,f,m,p,g,c,d,u,h,a,i-s.A,a,i,v),++r);x+2<b;x+=2)f=c,m=d,p=u,g=h,d+=e.Rc,h+=e.Rc,i+=2*s.A,o(l,(A+=2*e.fa)-e.fa,l,A,f,m,p,g,c,d,u,h,a,i-s.A,a,i,v);return A+=e.fa,e.j+b<e.o?(n(t.ec,t.fc,l,A,v),n(t.cc,t.dc,c,d,y),n(t.Mc,t.Nc,u,h,y),r--):1&b||o(l,A,null,null,c,d,u,h,c,d,u,h,a,i+s.A,null,null,v),r}function de(e,r,n){var s=e.F,a=[e.J];if(null!=s){var i=e.U,o=r.ba.S,l=o==Tn||o==Kn;r=r.ba.f.RGBA;var A=[0],c=e.ka;A[0]=e.T,e.Kb&&(0==c?--A[0]:(--c,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(A[0]=e.o-e.j-c));var d=r.eb;c=r.fb+c*r.A,e=Nn(s,a[0],e.width,i,A,d,c+(l?0:3),r.A),t(n==A),e&&ne(o)&&wn(d,c,l,i,A,r.A)}return 0}function ue(e){var t=e.ma,r=t.ba.S,n=11>r,s=r==Mn||r==Pn||r==Tn||r==On||12==r||ne(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Lr(t.Oa,e,s?11:12))return 0;if(s&&ne(r)&&gr(),e.da)alert("todo:use_scaling");else{if(n){if(t.Ib=Ae,e.Kb){if(r=e.U+1>>1,t.memory=a(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=ce,gr()}}else alert("todo:EmitYUV");s&&(t.Jb=de,n&&mr())}if(n&&!Es){for(e=0;256>e;++e)_s[e]=89858*(e-128)+js>>Ns,Ls[e]=-22014*(e-128)+js,Qs[e]=-45773*(e-128),Us[e]=113618*(e-128)+js>>Ns;for(e=Cs;e<ks;++e)t=76283*(e-16)+js>>Ns,Is[e-Cs]=Ve(t,255),Ms[e-Cs]=Ve(t+8>>4,15);Es=1}return 1}function he(e){var r=e.ma,n=e.U,s=e.T;return t(!(1&e.ka)),0>=n||0>=s?0:(n=r.Ib(e,r),null!=r.Jb&&r.Jb(e,r,n),r.Dc+=n,1)}function fe(e){e.ma.memory=null}function me(e,t,r,n){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,r[0]=b(e,14)+1,n[0]=b(e,1),0!=b(e,3)?0:!e.h)}function pe(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+b(t,r)+1}function ge(e,t){return 120<t?t-120:1<=(r=((r=Xn[t-1])>>4)*e+(8-(15&r)))?r:1;var r}function xe(e,t,r){var n=w(r),s=e[t+=255&n].g-8;return 0<s&&(N(r,r.u+8),n=w(r),t+=e[t].value,t+=n&(1<<s)-1),N(r,r.u+e[t].g),e[t].value}function be(e,r,n){return n.g+=e.g,n.value+=e.value<<r>>>0,t(8>=n.g),e.g}function ve(e,r,n){var s=e.xc;return t((r=0==s?0:e.vc[e.md*(n>>s)+(r>>s)])<e.Wb),e.Ya[r]}function ye(e,r,s,a){var i=e.ab,o=e.c*r,l=e.C;r=l+r;var A=s,c=a;for(a=e.Ta,s=e.Ua;0<i--;){var d=e.gc[i],u=l,h=r,f=A,m=c,p=(c=a,A=s,d.Ea);switch(t(u<h),t(h<=d.nc),d.hc){case 2:Vr(f,m,(h-u)*p,c,A);break;case 0:var g=u,x=h,b=c,v=A,y=(C=d).Ea;0==g&&(zr(f,m,null,null,1,b,v),V(f,m+1,0,0,y-1,b,v+1),m+=y,v+=y,++g);for(var w=1<<C.b,B=w-1,N=D(y,C.b),j=C.K,C=C.w+(g>>C.b)*N;g<x;){var k=j,S=C,F=1;for(Kr(f,m,b,v-y,1,b,v);F<y;){var E=(F&~B)+w;E>y&&(E=y),(0,Yr[k[S++]>>8&15])(f,m+ +F,b,v+F-y,E-F,b,v+F),F=E}m+=y,v+=y,++g&B||(C+=N)}h!=d.nc&&n(c,A-p,c,A+(h-u-1)*p,p);break;case 1:for(p=f,x=m,y=(f=d.Ea)-(v=f&~(b=(m=1<<d.b)-1)),g=D(f,d.b),w=d.K,d=d.w+(u>>d.b)*g;u<h;){for(B=w,N=d,j=new O,C=x+v,k=x+f;x<C;)G(B[N++],j),Xr(j,p,x,m,c,A),x+=m,A+=m;x<k&&(G(B[N++],j),Xr(j,p,x,y,c,A),x+=y,A+=y),++u&b||(d+=g)}break;case 3:if(f==c&&m==A&&0<d.b){for(x=c,f=p=A+(h-u)*p-(v=(h-u)*D(d.Ea,d.b)),m=c,b=A,g=[],v=(y=v)-1;0<=v;--v)g[v]=m[b+v];for(v=y-1;0<=v;--v)x[f+v]=g[v];qr(d,u,h,c,p,c,A)}else qr(d,u,h,f,m,c,A)}A=a,c=s}c!=s&&n(a,s,A,c,o)}function we(e,r){var n=e.V,s=e.Ba+e.c*e.C,a=r-e.C;if(t(r<=e.l.o),t(16>=a),0<a){var i=e.l,o=e.Ta,l=e.Ua,A=i.width;if(ye(e,a,n,s),a=l=[l],t((n=e.C)<(s=r)),t(i.v<i.va),s>i.o&&(s=i.o),n<i.j){var c=i.j-n;n=i.j,a[0]+=c*A}if(n>=s?n=0:(a[0]+=4*i.v,i.ka=n-i.j,i.U=i.va-i.v,i.T=s-n,n=1),n){if(l=l[0],11>(n=e.ca).S){var d=n.f.RGBA,u=(s=n.S,a=i.U,i=i.T,c=d.eb,d.A),h=i;for(d=d.fb+e.Ma*d.A;0<h--;){var f=o,m=l,p=a,g=c,x=d;switch(s){case In:Zr(f,m,p,g,x);break;case Mn:$r(f,m,p,g,x);break;case Hn:$r(f,m,p,g,x),wn(g,x,0,p,1,0);break;case Dn:rn(f,m,p,g,x);break;case Pn:te(f,m,p,g,x,1);break;case zn:te(f,m,p,g,x,1),wn(g,x,0,p,1,0);break;case Tn:te(f,m,p,g,x,0);break;case Kn:te(f,m,p,g,x,0),wn(g,x,1,p,1,0);break;case On:en(f,m,p,g,x);break;case Vn:en(f,m,p,g,x),Bn(g,x,p,1,0);break;case Rn:tn(f,m,p,g,x);break;default:t(0)}l+=A,d+=u}e.Ma+=i}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=n.height)}}e.C=r,t(e.C<=e.i)}function Be(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,n=e.Ya[t].H;if(0<r[1][n[1]+0].g||0<r[2][n[2]+0].g||0<r[3][n[3]+0].g)return 0}return 1}function Ne(e,r,n,s,a,i){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=ms[e.Z]);r<n;++r)ms[e.Z](o,l,s,a,s,a,i),o=s,l=a,a+=i;e.qd=o,e.rd=l}}function je(e,r){var n=e.l.ma,s=0==n.Z||1==n.Z?e.l.j:e.C;if(s=e.C<s?s:e.C,t(r<=e.l.o),r>s){var a=e.l.width,i=n.ca,o=n.tb+a*s,l=e.V,A=e.Ba+e.c*s,c=e.gc;t(1==e.ab),t(3==c[0].hc),Wr(c[0],s,r,l,A,i,o),Ne(n,s,r,i,o,a)}e.C=e.Ma=r}function Ce(e,r,n,s,a,i,o){var l=e.$/s,A=e.$%s,c=e.m,d=e.s,u=n+e.$,h=u;a=n+s*a;var f=n+s*i,m=280+d.ua,p=e.Pb?l:16777216,g=0<d.ua?d.Wa:null,x=d.wc,b=u<f?ve(d,A,l):null;t(e.C<i),t(f<=a);var v=!1;e:for(;;){for(;v||u<f;){var y=0;if(l>=p){var C=u-n;t((p=e).Pb),p.wd=p.m,p.xd=C,0<p.s.ua&&L(p.s.Wa,p.s.vb),p=l+$n}if(A&x||(b=ve(d,A,l)),t(null!=b),b.Qb&&(r[u]=b.qb,v=!0),!v)if(j(c),b.jc){y=c,C=r;var k=u,S=b.pd[w(y)&Dr-1];t(b.jc),256>S.g?(N(y,y.u+S.g),C[k]=S.value,y=0):(N(y,y.u+S.g-256),t(256<=S.value),y=S.value),0==y&&(v=!0)}else y=xe(b.G[0],b.H[0],c);if(c.h)break;if(v||256>y){if(!v)if(b.nd)r[u]=(b.qb|y<<8)>>>0;else{if(j(c),v=xe(b.G[1],b.H[1],c),j(c),C=xe(b.G[2],b.H[2],c),k=xe(b.G[3],b.H[3],c),c.h)break;r[u]=(k<<24|v<<16|y<<8|C)>>>0}if(v=!1,++u,++A>=s&&(A=0,++l,null!=o&&l<=i&&!(l%16)&&o(e,l),null!=g))for(;h<u;)y=r[h++],g.X[(506832829*y&4294967295)>>>g.Mb]=y}else if(280>y){if(y=pe(y-256,c),C=xe(b.G[4],b.H[4],c),j(c),C=ge(s,C=pe(C,c)),c.h)break;if(u-n<C||a-u<y)break e;for(k=0;k<y;++k)r[u+k]=r[u+k-C];for(u+=y,A+=y;A>=s;)A-=s,++l,null!=o&&l<=i&&!(l%16)&&o(e,l);if(t(u<=a),A&x&&(b=ve(d,A,l)),null!=g)for(;h<u;)y=r[h++],g.X[(506832829*y&4294967295)>>>g.Mb]=y}else{if(!(y<m))break e;for(v=y-280,t(null!=g);h<u;)y=r[h++],g.X[(506832829*y&4294967295)>>>g.Mb]=y;y=u,t(!(v>>>(C=g).Xa)),r[y]=C.X[v],v=!0}v||t(c.h==B(c))}if(e.Pb&&c.h&&u<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(c.h)break e;null!=o&&o(e,l>i?i:l),e.a=0,e.$=u-n}return 1}return e.a=3,0}function ke(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var r=e.Wa;null!=r&&(r.X=null),e.vb=null,t(null!=e)}function Se(){var t=new ar;return null==t?null:(t.a=0,t.xb=fs,re("Predictor","VP8LPredictors"),re("Predictor","VP8LPredictors_C"),re("PredictorAdd","VP8LPredictorsAdd"),re("PredictorAdd","VP8LPredictorsAdd_C"),Vr=q,Xr=W,Zr=Y,$r=X,en=Z,tn=$,rn=ee,e.VP8LMapColor32b=Gr,e.VP8LMapColor8b=Jr,t)}function Fe(e,r,n,o,l){var A=1,u=[e],f=[r],m=o.m,p=o.s,g=null,x=0;e:for(;;){if(n)for(;A&&b(m,1);){var v=u,y=f,B=o,C=1,k=B.m,S=B.gc[B.ab],F=b(k,2);if(B.Oc&1<<F)A=0;else{switch(B.Oc|=1<<F,S.hc=F,S.Ea=v[0],S.nc=y[0],S.K=[null],++B.ab,t(4>=B.ab),F){case 0:case 1:S.b=b(k,3)+2,C=Fe(D(S.Ea,S.b),D(S.nc,S.b),0,B,S.K),S.K=S.K[0];break;case 3:var E,_=b(k,8)+1,U=16<_?0:4<_?1:2<_?2:3;if(v[0]=D(S.Ea,U),S.b=U,E=C=Fe(_,1,0,B,S.K)){var L,I=_,M=S,T=1<<(8>>M.b),O=a(T);if(null==O)E=0;else{var R=M.K[0],H=M.w;for(O[0]=M.K[0][0],L=1;L<1*I;++L)O[L]=P(R[H+L],O[L-1]);for(;L<4*T;++L)O[L]=0;M.K[0]=null,M.K[0]=O,E=1}}C=E;break;case 2:break;default:t(0)}A=C}}if(u=u[0],f=f[0],A&&b(m,1)&&!(A=1<=(x=b(m,4))&&11>=x)){o.a=3;break e}var z;if(z=A)t:{var K,V,q,G=o,W=u,J=f,Y=x,X=n,Z=G.m,$=G.s,ee=[null],te=1,re=0,ne=Zn[Y];r:for(;;){if(X&&b(Z,1)){var se=b(Z,3)+2,ae=D(W,se),ie=D(J,se),oe=ae*ie;if(!Fe(ae,ie,0,G,ee))break r;for(ee=ee[0],$.xc=se,K=0;K<oe;++K){var le=ee[K]>>8&65535;ee[K]=le,le>=te&&(te=le+1)}}if(Z.h)break r;for(V=0;5>V;++V){var Ae=Wn[V];!V&&0<Y&&(Ae+=1<<Y),re<Ae&&(re=Ae)}var ce=i(te*ne,d),de=te,ue=i(de,h);if(null==ue)var he=null;else t(65536>=de),he=ue;var fe=a(re);if(null==he||null==fe||null==ce){G.a=1;break r}var me=ce;for(K=q=0;K<te;++K){var pe=he[K],ge=pe.G,xe=pe.H,ve=0,ye=1,we=0;for(V=0;5>V;++V){Ae=Wn[V],ge[V]=me,xe[V]=q,!V&&0<Y&&(Ae+=1<<Y);n:{var Be,Ne=Ae,je=G,Se=fe,Ee=me,_e=q,Ue=0,Qe=je.m,Le=b(Qe,1);if(s(Se,0,0,Ne),Le){var Ie=b(Qe,1)+1,Me=b(Qe,1),De=b(Qe,0==Me?1:8);Se[De]=1,2==Ie&&(Se[De=b(Qe,8)]=1);var Pe=1}else{var Te=a(19),Oe=b(Qe,4)+4;if(19<Oe){je.a=3;var Re=0;break n}for(Be=0;Be<Oe;++Be)Te[Yn[Be]]=b(Qe,3);var He=void 0,ze=void 0,Ke=je,Ve=Te,qe=Ne,Ge=Se,We=0,Je=Ke.m,Ye=8,Xe=i(128,d);s:for(;c(Xe,0,7,Ve,19);){if(b(Je,1)){var Ze=2+2*b(Je,3);if((He=2+b(Je,Ze))>qe)break s}else He=qe;for(ze=0;ze<qe&&He--;){j(Je);var $e=Xe[0+(127&w(Je))];N(Je,Je.u+$e.g);var et=$e.value;if(16>et)Ge[ze++]=et,0!=et&&(Ye=et);else{var tt=16==et,rt=et-16,nt=Gn[rt],st=b(Je,qn[rt])+nt;if(ze+st>qe)break s;for(var at=tt?Ye:0;0<st--;)Ge[ze++]=at}}We=1;break s}We||(Ke.a=3),Pe=We}(Pe=Pe&&!Qe.h)&&(Ue=c(Ee,_e,8,Se,Ne)),Pe&&0!=Ue?Re=Ue:(je.a=3,Re=0)}if(0==Re)break r;if(ye&&1==Jn[V]&&(ye=0==me[q].g),ve+=me[q].g,q+=Re,3>=V){var it,ot=fe[0];for(it=1;it<Ae;++it)fe[it]>ot&&(ot=fe[it]);we+=ot}}if(pe.nd=ye,pe.Qb=0,ye&&(pe.qb=(ge[3][xe[3]+0].value<<24|ge[1][xe[1]+0].value<<16|ge[2][xe[2]+0].value)>>>0,0==ve&&256>ge[0][xe[0]+0].value&&(pe.Qb=1,pe.qb+=ge[0][xe[0]+0].value<<8)),pe.jc=!pe.Qb&&6>we,pe.jc){var lt,At=pe;for(lt=0;lt<Dr;++lt){var ct=lt,dt=At.pd[ct],ut=At.G[0][At.H[0]+ct];256<=ut.value?(dt.g=ut.g+256,dt.value=ut.value):(dt.g=0,dt.value=0,ct>>=be(ut,8,dt),ct>>=be(At.G[1][At.H[1]+ct],16,dt),ct>>=be(At.G[2][At.H[2]+ct],0,dt),be(At.G[3][At.H[3]+ct],24,dt))}}}$.vc=ee,$.Wb=te,$.Ya=he,$.yc=ce,z=1;break t}z=0}if(!(A=z)){o.a=3;break e}if(0<x){if(p.ua=1<<x,!Q(p.Wa,x)){o.a=1,A=0;break e}}else p.ua=0;var ht=o,ft=u,mt=f,pt=ht.s,gt=pt.xc;if(ht.c=ft,ht.i=mt,pt.md=D(ft,gt),pt.wc=0==gt?-1:(1<<gt)-1,n){o.xb=hs;break e}if(null==(g=a(u*f))){o.a=1,A=0;break e}A=(A=Ce(o,g,0,u,f,f,null))&&!m.h;break e}return A?(null!=l?l[0]=g:(t(null==g),t(n)),o.$=0,n||ke(p)):ke(p),A}function Ee(e,r){var n=e.c*e.i,s=n+r+16*r;return t(e.c<=r),e.V=a(s),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+n+r,1)}function _e(e,r){var n=e.C,s=r-n,a=e.V,i=e.Ba+e.c*n;for(t(r<=e.l.o);0<s;){var o=16<s?16:s,l=e.l.ma,A=e.l.width,c=A*o,d=l.ca,u=l.tb+A*n,h=e.Ta,f=e.Ua;ye(e,o,a,i),jn(h,f,d,u,c),Ne(l,n,n+o,d,u,A),s-=o,a+=o*e.c,n+=o}t(n==r),e.C=e.Ma=r}function Ue(){this.ub=this.yd=this.td=this.Rb=0}function Qe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ie(){this.Yb=function(){var e=[];return function e(t,r,n){for(var s=n[r],a=0;a<s&&(t.push(n.length>r+1?[]:0),!(n.length<r+1));a++)e(t[a],r+1,n)}(e,0,[3,11]),e}()}function Me(){this.jb=a(3),this.Wc=o([4,8],Ie),this.Xc=o([4,17],Ie)}function De(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Pe(){this.ld=this.La=this.dd=this.tc=0}function Te(){this.Na=this.la=0}function Oe(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Re(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function He(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pe),this.Y=0,this.ya=Array(new Re),this.aa=0,this.l=new qe}function ze(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ke(){this.cb=this.a=0,this.sc="",this.m=new v,this.Od=new Ue,this.Kc=new Qe,this.ed=new De,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new He,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,v),this.ia=0,this.pb=i(4,Oe),this.Pa=new Me,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ze),this.Hd=0,this.rb=Array(new Te),this.sb=0,this.wa=Array(new Pe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Re),this.L=this.aa=0,this.gd=o([4,2],Pe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function qe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new Ke;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,rs||(rs=Xe)),e}function We(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function Je(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ye(e,r){if(null==e)return 0;if(e.a=0,e.sc="OK",null==r)return We(e,2,"null VP8Io passed to VP8GetHeaders()");var n=r.data,a=r.w,i=r.ha;if(4>i)return We(e,7,"Truncated header.");var o=n[a+0]|n[a+1]<<8|n[a+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return We(e,3,"Incorrect keyframe parameters.");if(!l.yd)return We(e,4,"Frame not displayable.");a+=3,i-=3;var A=e.Kc;if(l.Rb){if(7>i)return We(e,7,"cannot parse picture header");if(!Je(n,a,i))return We(e,3,"Bad code word");A.c=16383&(n[a+4]<<8|n[a+3]),A.Td=n[a+4]>>6,A.i=16383&(n[a+6]<<8|n[a+5]),A.Ud=n[a+6]>>6,a+=7,i-=7,e.za=A.c+15>>4,e.Ub=A.i+15>>4,r.width=A.c,r.height=A.i,r.Da=0,r.j=0,r.v=0,r.va=r.width,r.o=r.height,r.da=0,r.ib=r.width,r.hb=r.height,r.U=r.width,r.T=r.height,s((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,s(o.Zb,0,0,o.Zb.length),s(o.Lb,0,0,o.Lb)}if(l.ub>i)return We(e,7,"bad partition length");f(o=e.m,n,a,l.ub),a+=l.ub,i-=l.ub,l.Rb&&(A.Ld=k(o),A.Kd=k(o)),A=e.Qa;var c,d=e.Pa;if(t(null!=o),t(null!=A),A.Cb=k(o),A.Cb){if(A.Bb=k(o),k(o)){for(A.Fb=k(o),c=0;4>c;++c)A.Zb[c]=k(o)?p(o,7):0;for(c=0;4>c;++c)A.Lb[c]=k(o)?p(o,6):0}if(A.Bb)for(c=0;3>c;++c)d.jb[c]=k(o)?m(o,8):255}else A.Bb=0;if(o.Ka)return We(e,3,"cannot parse segment header");if((A=e.ed).zd=k(o),A.Tb=m(o,6),A.wb=m(o,3),A.Pc=k(o),A.Pc&&k(o)){for(d=0;4>d;++d)k(o)&&(A.vd[d]=p(o,6));for(d=0;4>d;++d)k(o)&&(A.od[d]=p(o,6))}if(e.L=0==A.Tb?0:A.zd?1:2,o.Ka)return We(e,3,"cannot parse filter header");var u=i;if(i=c=a,a=c+u,A=u,e.Xb=(1<<m(e.m,2))-1,u<3*(d=e.Xb))n=7;else{for(c+=3*d,A-=3*d,u=0;u<d;++u){var h=n[i+0]|n[i+1]<<8|n[i+2]<<16;h>A&&(h=A),f(e.Jc[+u],n,c,h),c+=h,A-=h,i+=3}f(e.Jc[+d],n,c,A),n=c<a?0:5}if(0!=n)return We(e,n,"cannot parse partitions");for(n=m(c=e.m,7),i=k(c)?p(c,4):0,a=k(c)?p(c,4):0,A=k(c)?p(c,4):0,d=k(c)?p(c,4):0,c=k(c)?p(c,4):0,u=e.Qa,h=0;4>h;++h){if(u.Cb){var g=u.Zb[h];u.Fb||(g+=n)}else{if(0<h){e.pb[h]=e.pb[0];continue}g=n}var x=e.pb[h];x.Sc[0]=es[Ve(g+i,127)],x.Sc[1]=ts[Ve(g+0,127)],x.Eb[0]=2*es[Ve(g+a,127)],x.Eb[1]=101581*ts[Ve(g+A,127)]>>16,8>x.Eb[1]&&(x.Eb[1]=8),x.Qc[0]=es[Ve(g+d,117)],x.Qc[1]=ts[Ve(g+c,127)],x.lc=g+c}if(!l.Rb)return We(e,4,"Not a key frame.");for(k(o),l=e.Pa,n=0;4>n;++n){for(i=0;8>i;++i)for(a=0;3>a;++a)for(A=0;11>A;++A)d=S(o,ls[n][i][a][A])?m(o,8):is[n][i][a][A],l.Wc[n][i].Yb[a][A]=d;for(i=0;17>i;++i)l.Xc[n][i]=l.Wc[n][As[i]]}return e.kc=k(o),e.kc&&(e.Bd=m(o,8)),e.cb=1}function Xe(e,t,r,n,s,a,i){var o=t[s].Yb[r];for(r=0;16>s;++s){if(!S(e,o[r+0]))return s;for(;!S(e,o[r+1]);)if(o=t[++s].Yb[0],r=0,16==s)return 16;var l=t[s+1].Yb;if(S(e,o[r+2])){var A=e,c=0;if(S(A,(u=o)[(d=r)+3]))if(S(A,u[d+6])){for(o=0,d=2*(c=S(A,u[d+8]))+(u=S(A,u[d+9+c])),c=0,u=ns[d];u[o];++o)c+=c+S(A,u[o]);c+=3+(8<<d)}else S(A,u[d+7])?(c=7+2*S(A,165),c+=S(A,145)):c=5+S(A,159);else c=S(A,u[d+4])?3+S(A,u[d+5]):2;o=l[2]}else c=1,o=l[1];l=i+ss[s],0>(A=e).b&&C(A);var d,u=A.b,h=(d=A.Ca>>1)-(A.I>>u)>>31;--A.b,A.Ca+=h,A.Ca|=1,A.I-=(d+1&h)<<u,a[l]=((c^h)-h)*n[(0<s)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,s(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,t,r,n,s){s=e[t+r+32*n]+(s>>3),e[t+r+32*n]=-256&s?0>s?0:255:s}function et(e,t,r,n,s,a){$e(e,t,0,r,n+s),$e(e,t,1,r,n+a),$e(e,t,2,r,n-a),$e(e,t,3,r,n-s)}function tt(e){return(20091*e>>16)+e}function rt(e,t,r,n){var s,i=0,o=a(16);for(s=0;4>s;++s){var l=e[t+0]+e[t+8],A=e[t+0]-e[t+8],c=(35468*e[t+4]>>16)-tt(e[t+12]),d=tt(e[t+4])+(35468*e[t+12]>>16);o[i+0]=l+d,o[i+1]=A+c,o[i+2]=A-c,o[i+3]=l-d,i+=4,t++}for(s=i=0;4>s;++s)l=(e=o[i+0]+4)+o[i+8],A=e-o[i+8],c=(35468*o[i+4]>>16)-tt(o[i+12]),$e(r,n,0,0,l+(d=tt(o[i+4])+(35468*o[i+12]>>16))),$e(r,n,1,0,A+c),$e(r,n,2,0,A-c),$e(r,n,3,0,l-d),i++,n+=32}function nt(e,t,r,n){var s=e[t+0]+4,a=35468*e[t+4]>>16,i=tt(e[t+4]),o=35468*e[t+1]>>16;et(r,n,0,s+i,e=tt(e[t+1]),o),et(r,n,1,s+a,e,o),et(r,n,2,s-a,e,o),et(r,n,3,s-i,e,o)}function st(e,t,r,n,s){rt(e,t,r,n),s&&rt(e,t+16,r,n+4)}function at(e,t,r,n){sn(e,t+0,r,n,1),sn(e,t+32,r,n+128,1)}function it(e,t,r,n){var s;for(e=e[t+0]+4,s=0;4>s;++s)for(t=0;4>t;++t)$e(r,n,t,s,e)}function ot(e,t,r,n){e[t+0]&&ln(e,t+0,r,n),e[t+16]&&ln(e,t+16,r,n+4),e[t+32]&&ln(e,t+32,r,n+128),e[t+48]&&ln(e,t+48,r,n+128+4)}function lt(e,t,r,n){var s,i=a(16);for(s=0;4>s;++s){var o=e[t+0+s]+e[t+12+s],l=e[t+4+s]+e[t+8+s],A=e[t+4+s]-e[t+8+s],c=e[t+0+s]-e[t+12+s];i[0+s]=o+l,i[8+s]=o-l,i[4+s]=c+A,i[12+s]=c-A}for(s=0;4>s;++s)o=(e=i[0+4*s]+3)+i[3+4*s],l=i[1+4*s]+i[2+4*s],A=i[1+4*s]-i[2+4*s],c=e-i[3+4*s],r[n+0]=o+l>>3,r[n+16]=c+A>>3,r[n+32]=o-l>>3,r[n+48]=c-A>>3,n+=64}function At(e,t,r){var n,s=t-32,a=Qn,i=255-e[s-1];for(n=0;n<r;++n){var o,l=a,A=i+e[t-1];for(o=0;o<r;++o)e[t+o]=l[A+e[s+o]];t+=32}}function ct(e,t){At(e,t,4)}function dt(e,t){At(e,t,8)}function ut(e,t){At(e,t,16)}function ht(e,t){var r;for(r=0;16>r;++r)n(e,t+32*r,e,t-32,16)}function ft(e,t){var r;for(r=16;0<r;--r)s(e,t,e[t-1],16),t+=32}function mt(e,t,r){var n;for(n=0;16>n;++n)s(t,r+32*n,e,16)}function pt(e,t){var r,n=16;for(r=0;16>r;++r)n+=e[t-1+32*r]+e[t+r-32];mt(n>>5,e,t)}function gt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t-1+32*r];mt(n>>4,e,t)}function xt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t+r-32];mt(n>>4,e,t)}function bt(e,t){mt(128,e,t)}function vt(e,t,r){return e+2*t+r+2>>2}function yt(e,t){var r,s=t-32;for(s=new Uint8Array([vt(e[s-1],e[s+0],e[s+1]),vt(e[s+0],e[s+1],e[s+2]),vt(e[s+1],e[s+2],e[s+3]),vt(e[s+2],e[s+3],e[s+4])]),r=0;4>r;++r)n(e,t+32*r,s,0,s.length)}function wt(e,t){var r=e[t-1],n=e[t-1+32],s=e[t-1+64],a=e[t-1+96];F(e,t+0,16843009*vt(e[t-1-32],r,n)),F(e,t+32,16843009*vt(r,n,s)),F(e,t+64,16843009*vt(n,s,a)),F(e,t+96,16843009*vt(s,a,a))}function Bt(e,t){var r,n=4;for(r=0;4>r;++r)n+=e[t+r-32]+e[t-1+32*r];for(n>>=3,r=0;4>r;++r)s(e,t+32*r,n,4)}function Nt(e,t){var r=e[t-1+0],n=e[t-1+32],s=e[t-1+64],a=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],A=e[t+3-32];e[t+0+96]=vt(n,s,e[t-1+96]),e[t+1+96]=e[t+0+64]=vt(r,n,s),e[t+2+96]=e[t+1+64]=e[t+0+32]=vt(a,r,n),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=vt(i,a,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=vt(o,i,a),e[t+3+32]=e[t+2+0]=vt(l,o,i),e[t+3+0]=vt(A,l,o)}function jt(e,t){var r=e[t+1-32],n=e[t+2-32],s=e[t+3-32],a=e[t+4-32],i=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=vt(e[t+0-32],r,n),e[t+1+0]=e[t+0+32]=vt(r,n,s),e[t+2+0]=e[t+1+32]=e[t+0+64]=vt(n,s,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=vt(s,a,i),e[t+3+32]=e[t+2+64]=e[t+1+96]=vt(a,i,o),e[t+3+64]=e[t+2+96]=vt(i,o,l),e[t+3+96]=vt(o,l,l)}function Ct(e,t){var r=e[t-1+0],n=e[t-1+32],s=e[t-1+64],a=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],A=e[t+3-32];e[t+0+0]=e[t+1+64]=a+i+1>>1,e[t+1+0]=e[t+2+64]=i+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+A+1>>1,e[t+0+96]=vt(s,n,r),e[t+0+64]=vt(n,r,a),e[t+0+32]=e[t+1+96]=vt(r,a,i),e[t+1+32]=e[t+2+96]=vt(a,i,o),e[t+2+32]=e[t+3+96]=vt(i,o,l),e[t+3+32]=vt(o,l,A)}function kt(e,t){var r=e[t+0-32],n=e[t+1-32],s=e[t+2-32],a=e[t+3-32],i=e[t+4-32],o=e[t+5-32],l=e[t+6-32],A=e[t+7-32];e[t+0+0]=r+n+1>>1,e[t+1+0]=e[t+0+64]=n+s+1>>1,e[t+2+0]=e[t+1+64]=s+a+1>>1,e[t+3+0]=e[t+2+64]=a+i+1>>1,e[t+0+32]=vt(r,n,s),e[t+1+32]=e[t+0+96]=vt(n,s,a),e[t+2+32]=e[t+1+96]=vt(s,a,i),e[t+3+32]=e[t+2+96]=vt(a,i,o),e[t+3+64]=vt(i,o,l),e[t+3+96]=vt(o,l,A)}function St(e,t){var r=e[t-1+0],n=e[t-1+32],s=e[t-1+64],a=e[t-1+96];e[t+0+0]=r+n+1>>1,e[t+2+0]=e[t+0+32]=n+s+1>>1,e[t+2+32]=e[t+0+64]=s+a+1>>1,e[t+1+0]=vt(r,n,s),e[t+3+0]=e[t+1+32]=vt(n,s,a),e[t+3+32]=e[t+1+64]=vt(s,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function Ft(e,t){var r=e[t-1+0],n=e[t-1+32],s=e[t-1+64],a=e[t-1+96],i=e[t-1-32],o=e[t+0-32],l=e[t+1-32],A=e[t+2-32];e[t+0+0]=e[t+2+32]=r+i+1>>1,e[t+0+32]=e[t+2+64]=n+r+1>>1,e[t+0+64]=e[t+2+96]=s+n+1>>1,e[t+0+96]=a+s+1>>1,e[t+3+0]=vt(o,l,A),e[t+2+0]=vt(i,o,l),e[t+1+0]=e[t+3+32]=vt(r,i,o),e[t+1+32]=e[t+3+64]=vt(n,r,i),e[t+1+64]=e[t+3+96]=vt(s,n,r),e[t+1+96]=vt(a,s,n)}function Et(e,t){var r;for(r=0;8>r;++r)n(e,t+32*r,e,t-32,8)}function _t(e,t){var r;for(r=0;8>r;++r)s(e,t,e[t-1],8),t+=32}function Ut(e,t,r){var n;for(n=0;8>n;++n)s(t,r+32*n,e,8)}function Qt(e,t){var r,n=8;for(r=0;8>r;++r)n+=e[t+r-32]+e[t-1+32*r];Ut(n>>4,e,t)}function Lt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t+r-32];Ut(n>>3,e,t)}function It(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t-1+32*r];Ut(n>>3,e,t)}function Mt(e,t){Ut(128,e,t)}function Dt(e,t,r){var n=e[t-r],s=e[t+0],a=3*(s-n)+_n[1020+e[t-2*r]-e[t+r]],i=Un[112+(a+4>>3)];e[t-r]=Qn[255+n+Un[112+(a+3>>3)]],e[t+0]=Qn[255+s-i]}function Pt(e,t,r,n){var s=e[t+0],a=e[t+r];return Ln[255+e[t-2*r]-e[t-r]]>n||Ln[255+a-s]>n}function Tt(e,t,r,n){return 4*Ln[255+e[t-r]-e[t+0]]+Ln[255+e[t-2*r]-e[t+r]]<=n}function Ot(e,t,r,n,s){var a=e[t-3*r],i=e[t-2*r],o=e[t-r],l=e[t+0],A=e[t+r],c=e[t+2*r],d=e[t+3*r];return 4*Ln[255+o-l]+Ln[255+i-A]>n?0:Ln[255+e[t-4*r]-a]<=s&&Ln[255+a-i]<=s&&Ln[255+i-o]<=s&&Ln[255+d-c]<=s&&Ln[255+c-A]<=s&&Ln[255+A-l]<=s}function Rt(e,t,r,n){var s=2*n+1;for(n=0;16>n;++n)Tt(e,t+n,r,s)&&Dt(e,t+n,r)}function Ht(e,t,r,n){var s=2*n+1;for(n=0;16>n;++n)Tt(e,t+n*r,1,s)&&Dt(e,t+n*r,1)}function zt(e,t,r,n){var s;for(s=3;0<s;--s)Rt(e,t+=4*r,r,n)}function Kt(e,t,r,n){var s;for(s=3;0<s;--s)Ht(e,t+=4,r,n)}function Vt(e,t,r,n,s,a,i,o){for(a=2*a+1;0<s--;){if(Ot(e,t,r,a,i))if(Pt(e,t,r,o))Dt(e,t,r);else{var l=e,A=t,c=r,d=l[A-2*c],u=l[A-c],h=l[A+0],f=l[A+c],m=l[A+2*c],p=27*(x=_n[1020+3*(h-u)+_n[1020+d-f]])+63>>7,g=18*x+63>>7,x=9*x+63>>7;l[A-3*c]=Qn[255+l[A-3*c]+x],l[A-2*c]=Qn[255+d+g],l[A-c]=Qn[255+u+p],l[A+0]=Qn[255+h-p],l[A+c]=Qn[255+f-g],l[A+2*c]=Qn[255+m-x]}t+=n}}function qt(e,t,r,n,s,a,i,o){for(a=2*a+1;0<s--;){if(Ot(e,t,r,a,i))if(Pt(e,t,r,o))Dt(e,t,r);else{var l=e,A=t,c=r,d=l[A-c],u=l[A+0],h=l[A+c],f=Un[112+(4+(m=3*(u-d))>>3)],m=Un[112+(m+3>>3)],p=f+1>>1;l[A-2*c]=Qn[255+l[A-2*c]+p],l[A-c]=Qn[255+d+m],l[A+0]=Qn[255+u-f],l[A+c]=Qn[255+h-p]}t+=n}}function Gt(e,t,r,n,s,a){Vt(e,t,r,1,16,n,s,a)}function Wt(e,t,r,n,s,a){Vt(e,t,1,r,16,n,s,a)}function Jt(e,t,r,n,s,a){var i;for(i=3;0<i;--i)qt(e,t+=4*r,r,1,16,n,s,a)}function Yt(e,t,r,n,s,a){var i;for(i=3;0<i;--i)qt(e,t+=4,1,r,16,n,s,a)}function Xt(e,t,r,n,s,a,i,o){Vt(e,t,s,1,8,a,i,o),Vt(r,n,s,1,8,a,i,o)}function Zt(e,t,r,n,s,a,i,o){Vt(e,t,1,s,8,a,i,o),Vt(r,n,1,s,8,a,i,o)}function $t(e,t,r,n,s,a,i,o){qt(e,t+4*s,s,1,8,a,i,o),qt(r,n+4*s,s,1,8,a,i,o)}function er(e,t,r,n,s,a,i,o){qt(e,t+4,1,s,8,a,i,o),qt(r,n+4,1,s,8,a,i,o)}function tr(){this.ba=new ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sr(){this.ua=0,this.Wa=new I,this.vb=new I,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new h,this.yc=new d}function ar(){this.xb=this.a=0,this.l=new qe,this.ca=new ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new y,this.Pb=0,this.wd=new y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sr,this.ab=0,this.gc=i(4,nr),this.Oc=0}function ir(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function or(e,t,r,n,s,a,i){for(e=null==e?0:e[t+0],t=0;t<i;++t)s[a+t]=e+r[n+t]&255,e=s[a+t]}function lr(e,t,r,n,s,a,i){var o;if(null==e)or(null,null,r,n,s,a,i);else for(o=0;o<i;++o)s[a+o]=e[t+o]+r[n+o]&255}function Ar(e,t,r,n,s,a,i){if(null==e)or(null,null,r,n,s,a,i);else{var o,l=e[t+0],A=l,c=l;for(o=0;o<i;++o)A=c+(l=e[t+o])-A,c=r[n+o]+(-256&A?0>A?0:255:A)&255,A=l,s[a+o]=c}}function cr(e,r,s,i){var o=r.width,l=r.o;if(t(null!=e&&null!=r),0>s||0>=i||s+i>l)return null;if(!e.Cc){if(null==e.ga){var A;if(e.ga=new ir,(A=null==e.ga)||(A=r.width*r.o,t(0==e.Gb.length),e.Gb=a(A),e.Uc=0,null==e.Gb?A=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,A=1),A=!A),!A){A=e.ga;var c=e.Fa,d=e.P,u=e.qc,h=e.mb,f=e.nb,m=d+1,p=u-1,x=A.l;if(t(null!=c&&null!=h&&null!=r),ms[0]=null,ms[1]=or,ms[2]=lr,ms[3]=Ar,A.ca=h,A.tb=f,A.c=r.width,A.i=r.height,t(0<A.c&&0<A.i),1>=u)r=0;else if(A.$a=3&c[d+0],A.Z=c[d+0]>>2&3,A.Lc=c[d+0]>>4&3,d=c[d+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||d)r=0;else if(x.put=he,x.ac=ue,x.bc=fe,x.ma=A,x.width=r.width,x.height=r.height,x.Da=r.Da,x.v=r.v,x.va=r.va,x.j=r.j,x.o=r.o,A.$a)e:{t(1==A.$a),r=Se();t:for(;;){if(null==r){r=0;break e}if(t(null!=A),A.mc=r,r.c=A.c,r.i=A.i,r.l=A.l,r.l.ma=A,r.l.width=A.c,r.l.height=A.i,r.a=0,g(r.m,c,m,p),!Fe(A.c,A.i,1,r,null))break t;if(1==r.ab&&3==r.gc[0].hc&&Be(r.s)?(A.ic=1,c=r.c*r.i,r.Ta=null,r.Ua=0,r.V=a(c),r.Ba=0,null==r.V?(r.a=1,r=0):r=1):(A.ic=0,r=Ee(r,A.c)),!r)break t;r=1;break e}A.mc=null,r=0}else r=p>=A.c*A.i;A=!r}if(A)return null;1!=e.ga.Lc?e.Ga=0:i=l-s}t(null!=e.ga),t(s+i<=l);e:{if(r=(c=e.ga).c,l=c.l.o,0==c.$a){if(m=e.rc,p=e.Vc,x=e.Fa,d=e.P+1+s*r,u=e.mb,h=e.nb+s*r,t(d<=e.P+e.qc),0!=c.Z)for(t(null!=ms[c.Z]),A=0;A<i;++A)ms[c.Z](m,p,x,d,u,h,r),m=u,p=h,h+=r,d+=r;else for(A=0;A<i;++A)n(u,h,x,d,r),m=u,p=h,h+=r,d+=r;e.rc=m,e.Vc=p}else{if(t(null!=c.mc),r=s+i,t(null!=(A=c.mc)),t(r<=A.i),A.C>=r)r=1;else if(c.ic||mr(),c.ic){c=A.V,m=A.Ba,p=A.c;var b=A.i,v=(x=1,d=A.$/p,u=A.$%p,h=A.m,f=A.s,A.$),y=p*b,w=p*r,N=f.wc,C=v<w?ve(f,u,d):null;t(v<=y),t(r<=b),t(Be(f));t:for(;;){for(;!h.h&&v<w;){if(u&N||(C=ve(f,u,d)),t(null!=C),j(h),256>(b=xe(C.G[0],C.H[0],h)))c[m+v]=b,++v,++u>=p&&(u=0,++d<=r&&!(d%16)&&je(A,d));else{if(!(280>b)){x=0;break t}b=pe(b-256,h);var k,S=xe(C.G[4],C.H[4],h);if(j(h),!(v>=(S=ge(p,S=pe(S,h)))&&y-v>=b)){x=0;break t}for(k=0;k<b;++k)c[m+v+k]=c[m+v+k-S];for(v+=b,u+=b;u>=p;)u-=p,++d<=r&&!(d%16)&&je(A,d);v<w&&u&N&&(C=ve(f,u,d))}t(h.h==B(h))}je(A,d>r?r:d);break t}!x||h.h&&v<y?(x=0,A.a=h.h?5:3):A.$=v,r=x}else r=Ce(A,A.V,A.Ba,A.c,A.i,r,_e);if(!r){i=0;break e}}s+i>=l&&(e.Cc=1),i=1}if(!i)return null;if(e.Cc&&(null!=(i=e.ga)&&(i.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+s*o}function dr(e,t,r,n,s,a){for(;0<s--;){var i,o=e,l=t+(r?1:0),A=e,c=t+(r?0:3);for(i=0;i<n;++i){var d=A[c+4*i];255!=d&&(d*=32897,o[l+4*i+0]=o[l+4*i+0]*d>>23,o[l+4*i+1]=o[l+4*i+1]*d>>23,o[l+4*i+2]=o[l+4*i+2]*d>>23)}t+=a}}function ur(e,t,r,n,s){for(;0<n--;){var a;for(a=0;a<r;++a){var i=e[t+2*a+0],o=15&(A=e[t+2*a+1]),l=4369*o,A=(240&A|A>>4)*l>>16;e[t+2*a+0]=(240&i|i>>4)*l>>16&240|(15&i|i<<4)*l>>16>>4&15,e[t+2*a+1]=240&A|o}t+=s}}function hr(e,t,r,n,s,a,i,o){var l,A,c=255;for(A=0;A<s;++A){for(l=0;l<n;++l){var d=e[t+l];a[i+4*l]=d,c&=d}t+=r,i+=o}return 255!=c}function fr(e,t,r,n,s){var a;for(a=0;a<s;++a)r[n+a]=e[t+a]>>8}function mr(){wn=dr,Bn=ur,Nn=hr,jn=fr}function pr(r,n,s){e[r]=function(e,r,a,i,o,l,A,c,d,u,h,f,m,p,g,x,b){var v,y=b-1>>1,w=o[l+0]|A[c+0]<<16,B=d[u+0]|h[f+0]<<16;t(null!=e);var N=3*w+B+131074>>2;for(n(e[r+0],255&N,N>>16,m,p),null!=a&&(N=3*B+w+131074>>2,n(a[i+0],255&N,N>>16,g,x)),v=1;v<=y;++v){var j=o[l+v]|A[c+v]<<16,C=d[u+v]|h[f+v]<<16,k=w+j+B+C+524296,S=k+2*(j+B)>>3;N=S+w>>1,w=(k=k+2*(w+C)>>3)+j>>1,n(e[r+2*v-1],255&N,N>>16,m,p+(2*v-1)*s),n(e[r+2*v-0],255&w,w>>16,m,p+(2*v-0)*s),null!=a&&(N=k+B>>1,w=S+C>>1,n(a[i+2*v-1],255&N,N>>16,g,x+(2*v-1)*s),n(a[i+2*v+0],255&w,w>>16,g,x+(2*v+0)*s)),w=j,B=C}1&b||(N=3*w+B+131074>>2,n(e[r+b-1],255&N,N>>16,m,p+(b-1)*s),null!=a&&(N=3*B+w+131074>>2,n(a[i+b-1],255&N,N>>16,g,x+(b-1)*s)))}}function gr(){ps[In]=gs,ps[Mn]=bs,ps[Dn]=xs,ps[Pn]=vs,ps[Tn]=ys,ps[On]=ws,ps[Rn]=Bs,ps[Hn]=bs,ps[zn]=vs,ps[Kn]=ys,ps[Vn]=ws}function xr(e){return e&~Fs?0>e?0:255:e>>Ss}function br(e,t){return xr((19077*e>>8)+(26149*t>>8)-14234)}function vr(e,t,r){return xr((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function yr(e,t){return xr((19077*e>>8)+(33050*t>>8)-17685)}function wr(e,t,r,n,s){n[s+0]=br(e,r),n[s+1]=vr(e,t,r),n[s+2]=yr(e,t)}function Br(e,t,r,n,s){n[s+0]=yr(e,t),n[s+1]=vr(e,t,r),n[s+2]=br(e,r)}function Nr(e,t,r,n,s){var a=vr(e,t,r);t=a<<3&224|yr(e,t)>>3,n[s+0]=248&br(e,r)|a>>5,n[s+1]=t}function jr(e,t,r,n,s){var a=240&yr(e,t)|15;n[s+0]=240&br(e,r)|vr(e,t,r)>>4,n[s+1]=a}function Cr(e,t,r,n,s){n[s+0]=255,wr(e,t,r,n,s+1)}function kr(e,t,r,n,s){Br(e,t,r,n,s),n[s+3]=255}function Sr(e,t,r,n,s){wr(e,t,r,n,s),n[s+3]=255}function Fr(t,r,n){e[t]=function(e,t,s,a,i,o,l,A,c){for(var d=A+(-2&c)*n;A!=d;)r(e[t+0],s[a+0],i[o+0],l,A),r(e[t+1],s[a+0],i[o+0],l,A+n),t+=2,++a,++o,A+=2*n;1&c&&r(e[t+0],s[a+0],i[o+0],l,A)}}function Er(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function _r(e,t,r,n,s){switch(e>>>30){case 3:sn(t,r,n,s,0);break;case 2:an(t,r,n,s);break;case 1:ln(t,r,n,s)}}function Ur(e,t){var r,a,i=t.M,o=t.Nb,l=e.oc,A=e.pc+40,c=e.oc,d=e.pc+584,u=e.oc,h=e.pc+600;for(r=0;16>r;++r)l[A+32*r-1]=129;for(r=0;8>r;++r)c[d+32*r-1]=129,u[h+32*r-1]=129;for(0<i?l[A-1-32]=c[d-1-32]=u[h-1-32]=129:(s(l,A-32-1,127,21),s(c,d-32-1,127,9),s(u,h-32-1,127,9)),a=0;a<e.za;++a){var f=t.ya[t.aa+a];if(0<a){for(r=-1;16>r;++r)n(l,A+32*r-4,l,A+32*r+12,4);for(r=-1;8>r;++r)n(c,d+32*r-4,c,d+32*r+4,4),n(u,h+32*r-4,u,h+32*r+4,4)}var m=e.Gd,p=e.Hd+a,g=f.ad,x=f.Hc;if(0<i&&(n(l,A-32,m[p].y,0,16),n(c,d-32,m[p].f,0,8),n(u,h-32,m[p].ea,0,8)),f.Za){var b=l,v=A-32+16;for(0<i&&(a>=e.za-1?s(b,v,m[p].y[15],4):n(b,v,m[p+1].y,0,4)),r=0;4>r;r++)b[v+128+r]=b[v+256+r]=b[v+384+r]=b[v+0+r];for(r=0;16>r;++r,x<<=2)b=l,v=A+Ds[r],ds[f.Ob[r]](b,v),_r(x,g,16*+r,b,v)}else if(b=Er(a,i,f.Ob[0]),cs[b](l,A),0!=x)for(r=0;16>r;++r,x<<=2)_r(x,g,16*+r,l,A+Ds[r]);for(r=f.Gc,b=Er(a,i,f.Dd),us[b](c,d),us[b](u,h),x=g,b=c,v=d,255&(f=0|r)&&(170&f?on(x,256,b,v):An(x,256,b,v)),f=u,x=h,255&(r>>=8)&&(170&r?on(g,320,f,x):An(g,320,f,x)),i<e.Ub-1&&(n(m[p].y,0,l,A+480,16),n(m[p].f,0,c,d+224,8),n(m[p].ea,0,u,h+224,8)),r=8*o*e.B,m=e.sa,p=e.ta+16*a+16*o*e.R,g=e.qa,f=e.ra+8*a+r,x=e.Ha,b=e.Ia+8*a+r,r=0;16>r;++r)n(m,p+r*e.R,l,A+32*r,16);for(r=0;8>r;++r)n(g,f+r*e.B,c,d+32*r,8),n(x,b+r*e.B,u,h+32*r,8)}}function Qr(e,n,s,a,i,o,l,A,c){var d=[0],u=[0],h=0,f=null!=c?c.kd:0,m=null!=c?c:new rr;if(null==e||12>s)return 7;m.data=e,m.w=n,m.ha=s,n=[n],s=[s],m.gb=[m.gb];e:{var p=n,x=s,b=m.gb;if(t(null!=e),t(null!=x),t(null!=b),b[0]=0,12<=x[0]&&!r(e,p[0],"RIFF")){if(r(e,p[0]+8,"WEBP")){b=3;break e}var v=U(e,p[0]+4);if(12>v||4294967286<v){b=3;break e}if(f&&v>x[0]-8){b=7;break e}b[0]=v,p[0]+=12,x[0]-=12}b=0}if(0!=b)return b;for(v=0<m.gb[0],s=s[0];;){e:{var w=e;x=n,b=s;var B=d,N=u,j=p=[0];if((S=h=[h])[0]=0,8>b[0])b=7;else{if(!r(w,x[0],"VP8X")){if(10!=U(w,x[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var C=U(w,x[0]+8),k=1+_(w,x[0]+12);if(2147483648<=k*(w=1+_(w,x[0]+15))){b=3;break e}null!=j&&(j[0]=C),null!=B&&(B[0]=k),null!=N&&(N[0]=w),x[0]+=18,b[0]-=18,S[0]=1}b=0}}if(h=h[0],p=p[0],0!=b)return b;if(x=!!(2&p),!v&&h)return 3;if(null!=o&&(o[0]=!!(16&p)),null!=l&&(l[0]=x),null!=A&&(A[0]=0),l=d[0],p=u[0],h&&x&&null==c){b=0;break}if(4>s){b=7;break}if(v&&h||!v&&!h&&!r(e,n[0],"ALPH")){s=[s],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{C=e,b=n,v=s;var S=m.gb;B=m.na,N=m.P,j=m.Sa,k=22,t(null!=C),t(null!=v),w=b[0];var F=v[0];for(t(null!=B),t(null!=j),B[0]=null,N[0]=null,j[0]=0;;){if(b[0]=w,v[0]=F,8>F){b=7;break e}var E=U(C,w+4);if(4294967286<E){b=3;break e}var Q=8+E+1&-2;if(k+=Q,0<S&&k>S){b=3;break e}if(!r(C,w,"VP8 ")||!r(C,w,"VP8L")){b=0;break e}if(F[0]<Q){b=7;break e}r(C,w,"ALPH")||(B[0]=C,N[0]=w+8,j[0]=E),w+=Q,F-=Q}}if(s=s[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=b)break}s=[s],m.Ja=[m.Ja],m.xa=[m.xa];e:if(S=e,b=n,v=s,B=m.gb[0],N=m.Ja,j=m.xa,C=b[0],w=!r(S,C,"VP8 "),k=!r(S,C,"VP8L"),t(null!=S),t(null!=v),t(null!=N),t(null!=j),8>v[0])b=7;else{if(w||k){if(S=U(S,C+4),12<=B&&S>B-12){b=3;break e}if(f&&S>v[0]-8){b=7;break e}N[0]=S,b[0]+=8,v[0]-=8,j[0]=k}else j[0]=5<=v[0]&&47==S[C+0]&&!(S[C+4]>>5),N[0]=v[0];b=0}if(s=s[0],m.Ja=m.Ja[0],m.xa=m.xa[0],n=n[0],0!=b)break;if(4294967286<m.Ja)return 3;if(null==A||x||(A[0]=m.xa?2:1),l=[l],p=[p],m.xa){if(5>s){b=7;break}A=l,f=p,x=o,null==e||5>s?e=0:5<=s&&47==e[n+0]&&!(e[n+4]>>5)?(v=[0],S=[0],B=[0],g(N=new y,e,n,s),me(N,v,S,B)?(null!=A&&(A[0]=v[0]),null!=f&&(f[0]=S[0]),null!=x&&(x[0]=B[0]),e=1):e=0):e=0}else{if(10>s){b=7;break}A=p,null==e||10>s||!Je(e,n+3,s-3)?e=0:(f=e[n+0]|e[n+1]<<8|e[n+2]<<16,x=16383&(e[n+7]<<8|e[n+6]),e=16383&(e[n+9]<<8|e[n+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=m.Ja||!x||!e?e=0:(l&&(l[0]=x),A&&(A[0]=e),e=1))}if(!e)return 3;if(l=l[0],p=p[0],h&&(d[0]!=l||u[0]!=p))return 3;null!=c&&(c[0]=m,c.offset=n-c.w,t(4294967286>n-c.w),t(c.offset==c.ha-s));break}return 0==b||7==b&&h&&null==c?(null!=o&&(o[0]|=null!=m.na&&0<m.na.length),null!=a&&(a[0]=l),null!=i&&(i[0]=p),0):b}function Lr(e,t,r){var n=t.width,s=t.height,a=0,i=0,o=n,l=s;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,a=e.v,i=e.j,11>r||(a&=-2,i&=-2),0>a||0>i||0>=o||0>=l||a+o>n||i+l>s))return 0;if(t.v=a,t.j=i,t.va=a+o,t.o=i+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!M(o,l,r=[e.ib],a=[e.hb]))return 0;t.ib=r[0],t.hb=a[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*n/4&&t.hb<3*s/4,t.Kb=0),1}function Ir(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Mr(e,t,r,n){if(null==n||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var s=r.cd,i=r.bd,o=-2&r.v,l=-2&r.j;if(0>o||0>l||0>=s||0>=i||o+s>e||l+i>t)return 2;e=s,t=i}if(r.da){if(!M(e,t,s=[r.ib],i=[r.hb]))return 2;e=s[0],t=i[0]}}n.width=e,n.height=t;e:{var A=n.width,c=n.height;if(e=n.S,0>=A||0>=c||!(e>=In&&13>e))e=2;else{if(0>=n.Rd&&null==n.sd){o=i=s=t=0;var d=(l=A*Os[e])*c;if(11>e||(i=(c+1)/2*(t=(A+1)/2),12==e&&(o=(s=A)*c)),null==(c=a(d+2*i+o))){e=1;break e}n.sd=c,11>e?((A=n.f.RGBA).eb=c,A.fb=0,A.A=l,A.size=d):((A=n.f.kb).y=c,A.O=0,A.fa=l,A.Fd=d,A.f=c,A.N=0+d,A.Ab=t,A.Cd=i,A.ea=c,A.W=0+d+i,A.Db=t,A.Ed=i,12==e&&(A.F=c,A.J=0+d+2*i),A.Tc=o,A.lb=s)}if(t=1,s=n.S,i=n.width,o=n.height,s>=In&&13>s)if(11>s)e=n.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+i<=e.size,t&=l>=i*Os[s],t&=null!=e.eb;else{e=n.f.kb,l=(i+1)/2,d=(o+1)/2,A=Math.abs(e.fa),c=Math.abs(e.Ab);var u=Math.abs(e.Db),h=Math.abs(e.lb),f=h*(o-1)+i;t&=A*(o-1)+i<=e.Fd,t&=c*(d-1)+l<=e.Cd,t=(t&=u*(d-1)+l<=e.Ed)&A>=i&c>=l&u>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==s&&(t&=h>=i,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=Ir(n)),e}var Dr=64,Pr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Tr=24,Or=32,Rr=8,Hr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];T("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,r){return t[r+0]},e.Predictor3=function(e,t,r){return t[r+1]},e.Predictor4=function(e,t,r){return t[r-1]},e.Predictor5=function(e,t,r){return R(R(e,t[r+1]),t[r+0])},e.Predictor6=function(e,t,r){return R(e,t[r-1])},e.Predictor7=function(e,t,r){return R(e,t[r+0])},e.Predictor8=function(e,t,r){return R(t[r-1],t[r+0])},e.Predictor9=function(e,t,r){return R(t[r+0],t[r+1])},e.Predictor10=function(e,t,r){return R(R(e,t[r-1]),R(t[r+0],t[r+1]))},e.Predictor11=function(e,t,r){var n=t[r+0];return 0>=K(n>>24&255,e>>24&255,(t=t[r-1])>>24&255)+K(n>>16&255,e>>16&255,t>>16&255)+K(n>>8&255,e>>8&255,t>>8&255)+K(255&n,255&e,255&t)?n:e},e.Predictor12=function(e,t,r){var n=t[r+0];return(H((e>>24&255)+(n>>24&255)-((t=t[r-1])>>24&255))<<24|H((e>>16&255)+(n>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(n>>8&255)-(t>>8&255))<<8|H((255&e)+(255&n)-(255&t)))>>>0},e.Predictor13=function(e,t,r){var n=t[r-1];return(z((e=R(e,t[r+0]))>>24&255,n>>24&255)<<24|z(e>>16&255,n>>16&255)<<16|z(e>>8&255,n>>8&255)<<8|z(255&e,255&n))>>>0};var zr=e.PredictorAdd0;e.PredictorAdd1=V,T("Predictor2","PredictorAdd2"),T("Predictor3","PredictorAdd3"),T("Predictor4","PredictorAdd4"),T("Predictor5","PredictorAdd5"),T("Predictor6","PredictorAdd6"),T("Predictor7","PredictorAdd7"),T("Predictor8","PredictorAdd8"),T("Predictor9","PredictorAdd9"),T("Predictor10","PredictorAdd10"),T("Predictor11","PredictorAdd11"),T("Predictor12","PredictorAdd12"),T("Predictor13","PredictorAdd13");var Kr=e.PredictorAdd2;J("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),J("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Vr,qr=e.ColorIndexInverseTransform,Gr=e.MapARGB,Wr=e.VP8LColorIndexInverseTransformAlpha,Jr=e.MapAlpha,Yr=e.VP8LPredictorsAdd=[];Yr.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Xr,Zr,$r,en,tn,rn,nn,sn,an,on,ln,An,cn,dn,un,hn,fn,mn,pn,gn,xn,bn,vn,yn,wn,Bn,Nn,jn,Cn=a(511),kn=a(2041),Sn=a(225),Fn=a(767),En=0,_n=kn,Un=Sn,Qn=Fn,Ln=Cn,In=0,Mn=1,Dn=2,Pn=3,Tn=4,On=5,Rn=6,Hn=7,zn=8,Kn=9,Vn=10,qn=[2,3,7],Gn=[3,3,11],Wn=[280,256,256,256,40],Jn=[0,1,1,1,0],Yn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$n=8,es=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ts=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rs=null,ns=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ss=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],as=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],is=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],os=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ls=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],As=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cs=[],ds=[],us=[],hs=1,fs=2,ms=[],ps=[];pr("UpsampleRgbLinePair",wr,3),pr("UpsampleBgrLinePair",Br,3),pr("UpsampleRgbaLinePair",Sr,4),pr("UpsampleBgraLinePair",kr,4),pr("UpsampleArgbLinePair",Cr,4),pr("UpsampleRgba4444LinePair",jr,2),pr("UpsampleRgb565LinePair",Nr,2);var gs=e.UpsampleRgbLinePair,xs=e.UpsampleBgrLinePair,bs=e.UpsampleRgbaLinePair,vs=e.UpsampleBgraLinePair,ys=e.UpsampleArgbLinePair,ws=e.UpsampleRgba4444LinePair,Bs=e.UpsampleRgb565LinePair,Ns=16,js=1<<Ns-1,Cs=-227,ks=482,Ss=6,Fs=(256<<Ss)-1,Es=0,_s=a(256),Us=a(256),Qs=a(256),Ls=a(256),Is=a(ks-Cs),Ms=a(ks-Cs);Fr("YuvToRgbRow",wr,3),Fr("YuvToBgrRow",Br,3),Fr("YuvToRgbaRow",Sr,4),Fr("YuvToBgraRow",kr,4),Fr("YuvToArgbRow",Cr,4),Fr("YuvToRgba4444Row",jr,2),Fr("YuvToRgb565Row",Nr,2);var Ds=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ps=[0,2,8],Ts=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,r,o,l,A){var c=Mn,d=new tr,u=new ie;d.ba=u,u.S=c,u.width=[u.width],u.height=[u.height];var h=u.width,f=u.height,m=new oe;if(null==m||null==e)var p=2;else t(null!=m),p=Qr(e,r,o,m.width,m.height,m.Pd,m.Qd,m.format,null);if(0!=p?h=0:(null!=h&&(h[0]=m.width[0]),null!=f&&(f[0]=m.height[0]),h=1),h){u.width=u.width[0],u.height=u.height[0],null!=l&&(l[0]=u.width),null!=A&&(A[0]=u.height);e:{if(l=new qe,(A=new rr).data=e,A.w=r,A.ha=o,A.kd=1,r=[0],t(null!=A),(0==(e=Qr(A.data,A.w,A.ha,null,null,null,r,null,A))||7==e)&&r[0]&&(e=4),0==(r=e)){if(t(null!=d),l.data=A.data,l.w=A.w+A.offset,l.ha=A.ha-A.offset,l.put=he,l.ac=ue,l.bc=fe,l.ma=d,A.xa){if(null==(e=Se())){d=1;break e}if(function(e,r){var n=[0],s=[0],a=[0];t:for(;;){if(null==e)return 0;if(null==r)return e.a=2,0;if(e.l=r,e.a=0,g(e.m,r.data,r.w,r.ha),!me(e.m,n,s,a)){e.a=3;break t}if(e.xb=fs,r.width=n[0],r.height=s[0],!Fe(n[0],s[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(r=Mr(l.width,l.height,d.Oa,d.ba))){t:{l=e;r:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(A=o.ma)),0!=l.xb){if(l.ca=A.ba,l.tb=A.tb,t(null!=l.ca),!Lr(A.Oa,o,Pn)){l.a=2;break r}if(!Ee(l,o.width))break r;if(o.da)break r;if((o.da||ne(l.ca.S))&&mr(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&mr()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!Q(l.s.vb,l.s.Wa.Xa)){l.a=1;break r}l.xb=0}if(!Ce(l,l.V,l.Ba,l.c,l.i,o.o,we))break r;A.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(r=e.a)}else r=e.a}else{if(null==(e=new Ge)){d=1;break e}if(e.Fa=A.na,e.P=A.P,e.qc=A.Sa,Ye(e,l)){if(0==(r=Mr(l.width,l.height,d.Oa,d.ba))){if(e.Aa=0,o=d.Oa,t(null!=(A=e)),null!=o){if(0<(h=0>(h=o.Md)?0:100<h?255:255*h/100)){for(f=m=0;4>f;++f)12>(p=A.pb[f]).lc&&(p.ia=h*Ts[0>p.lc?0:p.lc]>>3),m|=p.ia;m&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=o.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}(function(e,r){if(null==e)return 0;if(null==r)return We(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ye(e,r))return 0;if(t(e.cb),null==r.ac||r.ac(r)){r.ob&&(e.L=0);var o=Ps[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=r.v-o>>4,e.zb=r.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=r.o+15+o>>4,e.Hb=r.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var A;if(e.Qa.Cb){var c=e.Qa.Lb[o];e.Qa.Fb||(c+=l.Tb)}else c=l.Tb;for(A=0;1>=A;++A){var d=e.gd[o][A],u=c;if(l.Pc&&(u+=l.vd[0],A&&(u+=l.od[0])),0<(u=0>u?0:63<u?63:u)){var h=u;0<l.wb&&(h=4<l.wb?h>>2:h>>1)>9-l.wb&&(h=9-l.wb),1>h&&(h=1),d.dd=h,d.tc=2*u+h,d.ld=40<=u?2:15<=u?1:0}else d.tc=0;d.La=A}}}o=0}else We(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(h=e.za);var f=32*h,m=h+1,p=0<e.L?h*(0<e.Aa?2:1):0,g=(2==e.Aa?2:1)*h;if((d=l+832+(A=3*(16*o+Ps[e.L])/2*f)+(c=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=d)o=0;else{if(d>e.Vb){if(e.Vb=0,e.Ec=a(d),e.Fc=0,null==e.Ec){o=We(e,1,"no memory during frame initialization.");break t}e.Vb=d}d=e.Ec,u=e.Fc,e.Ac=d,e.Bc=u,u+=l,e.Gd=i(f,ze),e.Hd=0,e.rb=i(m+1,Te),e.sb=1,e.wa=p?i(p,Pe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=h),t(!0),e.oc=d,e.pc=u,u+=832,e.ya=i(g,Re),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=h),e.R=16*h,e.B=8*h,h=(f=Ps[e.L])*e.R,f=f/2*e.B,e.sa=d,e.ta=u+h,e.qa=e.sa,e.ra=e.ta+16*o*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+f,e.$c=0,u+=A,e.mb=c?d:null,e.nb=c?u:null,t(u+c<=e.Fc+e.Vb),Ze(e),s(e.Ac,e.Bc,0,l),o=1}}if(o){if(r.ka=0,r.y=e.sa,r.O=e.ta,r.f=e.qa,r.N=e.ra,r.ea=e.Ha,r.Vd=e.Ia,r.fa=e.R,r.Rc=e.B,r.F=null,r.J=0,!En){for(o=-255;255>=o;++o)Cn[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)kn[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Sn[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Fn[255+o]=0>o?0:255<o?255:o;En=1}nn=lt,sn=st,on=at,ln=it,An=ot,an=nt,cn=Gt,dn=Wt,un=Xt,hn=Zt,fn=Jt,mn=Yt,pn=$t,gn=er,xn=Rt,bn=Ht,vn=zt,yn=Kt,ds[0]=Bt,ds[1]=ct,ds[2]=yt,ds[3]=wt,ds[4]=Nt,ds[5]=Ct,ds[6]=jt,ds[7]=kt,ds[8]=Ft,ds[9]=St,cs[0]=pt,cs[1]=ut,cs[2]=ht,cs[3]=ft,cs[4]=gt,cs[5]=xt,cs[6]=bt,us[0]=Qt,us[1]=dt,us[2]=Et,us[3]=_t,us[4]=It,us[5]=Lt,us[6]=Mt,o=1}else o=0}o&&(o=function(e,r){for(e.M=0;e.M<e.Va;++e.M){var i,o=e.Jc[e.M&e.Xb],l=e.m,A=e;for(i=0;i<A.za;++i){var c=l,d=A,u=d.Ac,h=d.Bc+4*i,f=d.zc,m=d.ya[d.aa+i];if(d.Qa.Bb?m.$b=S(c,d.Pa.jb[0])?2+S(c,d.Pa.jb[2]):S(c,d.Pa.jb[1]):m.$b=0,d.kc&&(m.Ad=S(c,d.Bd)),m.Za=!S(c,145)+0,m.Za){var p=m.Ob,g=0;for(d=0;4>d;++d){var x,b=f[0+d];for(x=0;4>x;++x){b=os[u[h+x]][b];for(var v=as[S(c,b[0])];0<v;)v=as[2*v+S(c,b[v])];b=-v,u[h+x]=b}n(p,g,u,h,4),g+=4,f[0+d]=b}}else b=S(c,156)?S(c,128)?1:3:S(c,163)?2:0,m.Ob[0]=b,s(u,h,b,4),s(f,0,b,4);m.Dd=S(c,142)?S(c,114)?S(c,183)?1:3:2:0}if(A.m.Ka)return We(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(A=o,c=(l=e).rb[l.sb-1],u=l.rb[l.sb+l.ja],i=l.ya[l.aa+l.ja],h=l.kc?i.Ad:0)c.la=u.la=0,i.Za||(c.Na=u.Na=0),i.Hc=0,i.Gc=0,i.ia=0;else{var y,w;if(c=u,u=A,h=l.Pa.Xc,f=l.ya[l.aa+l.ja],m=l.pb[f.$b],d=f.ad,p=0,g=l.rb[l.sb-1],b=x=0,s(d,p,0,384),f.Za)var B=0,N=h[3];else{v=a(16);var j=c.Na+g.Na;if(j=rs(u,h[1],j,m.Eb,0,v,0),c.Na=g.Na=(0<j)+0,1<j)nn(v,0,d,p);else{var C=v[0]+3>>3;for(v=0;256>v;v+=16)d[p+v]=C}B=1,N=h[0]}var k=15&c.la,F=15&g.la;for(v=0;4>v;++v){var E=1&F;for(C=w=0;4>C;++C)k=k>>1|(E=(j=rs(u,N,j=E+(1&k),m.Sc,B,d,p))>B)<<7,w=w<<2|(3<j?3:1<j?2:0!=d[p+0]),p+=16;k>>=4,F=F>>1|E<<7,x=(x<<8|w)>>>0}for(N=k,B=F>>4,y=0;4>y;y+=2){for(w=0,k=c.la>>4+y,F=g.la>>4+y,v=0;2>v;++v){for(E=1&F,C=0;2>C;++C)j=E+(1&k),k=k>>1|(E=0<(j=rs(u,h[2],j,m.Qc,0,d,p)))<<3,w=w<<2|(3<j?3:1<j?2:0!=d[p+0]),p+=16;k>>=2,F=F>>1|E<<5}b|=w<<4*y,N|=k<<4<<y,B|=(240&F)<<y}c.la=N,g.la=B,f.Hc=x,f.Gc=b,f.ia=43690&b?0:m.ia,h=!(x|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[i.$b][i.Za],l.wa[l.Y+l.ja].La|=!h),A.Ka)return We(e,7,"Premature end-of-file encountered.")}if(Ze(e),l=r,A=1,i=(o=e).D,c=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(i.M=o.M,i.uc=c,Ur(o,i),A=1,i=(w=o.D).Nb,c=(b=Ps[o.L])*o.R,u=b/2*o.B,v=16*i*o.R,C=8*i*o.B,h=o.sa,f=o.ta-c+v,m=o.qa,d=o.ra-u+C,p=o.Ha,g=o.Ia-u+C,F=0==(k=w.M),x=k>=o.Va-1,2==o.Aa&&Ur(o,w),w.uc)for(E=(j=o).D.M,t(j.D.uc),w=j.yb;w<j.Hb;++w){B=w,N=E;var _=(U=(R=j).D).Nb;y=R.R;var U=U.wa[U.Y+B],Q=R.sa,L=R.ta+16*_*y+16*B,I=U.dd,M=U.tc;if(0!=M)if(t(3<=M),1==R.L)0<B&&bn(Q,L,y,M+4),U.La&&yn(Q,L,y,M),0<N&&xn(Q,L,y,M+4),U.La&&vn(Q,L,y,M);else{var D=R.B,P=R.qa,T=R.ra+8*_*D+8*B,O=R.Ha,R=R.Ia+8*_*D+8*B;_=U.ld,0<B&&(dn(Q,L,y,M+4,I,_),hn(P,T,O,R,D,M+4,I,_)),U.La&&(mn(Q,L,y,M,I,_),gn(P,T,O,R,D,M,I,_)),0<N&&(cn(Q,L,y,M+4,I,_),un(P,T,O,R,D,M+4,I,_)),U.La&&(fn(Q,L,y,M,I,_),pn(P,T,O,R,D,M,I,_))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(w=16*k,k=16*(k+1),F?(l.y=o.sa,l.O=o.ta+v,l.f=o.qa,l.N=o.ra+C,l.ea=o.Ha,l.W=o.Ia+C):(w-=b,l.y=h,l.O=f,l.f=m,l.N=d,l.ea=p,l.W=g),x||(k-=b),k>l.o&&(k=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&w<k&&(l.J=cr(o,l,w,k-w),l.F=o.mb,null==l.F&&0==l.F.length)){A=We(o,3,"Could not decode alpha data.");break t}w<l.j&&(b=l.j-w,w=l.j,t(!(1&b)),l.O+=o.R*b,l.N+=o.B*(b>>1),l.W+=o.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),w<k&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=w-l.j,l.U=l.va-l.v,l.T=k-w,A=l.put(l))}i+1!=o.Ic||x||(n(o.sa,o.ta-c,h,f+16*o.R,c),n(o.qa,o.ra-u,m,d+8*o.B,u),n(o.Ha,o.Ia-u,p,g+8*o.B,u))}if(!A)return We(e,6,"Output aborted.")}return 1}(e,r)),null!=r.bc&&r.bc(r),o&=1}return o?(e.cb=0,o):0})(e,l)||(r=e.a)}}else r=e.a}0==r&&null!=d.Oa&&d.Oa.fd&&(r=Ir(d.ba))}d=r}c=0!=d?null:11>c?u.f.RGBA.eb:u.f.kb.y}else c=null;return c};var Os=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(e,t){for(var r="",n=0;n<4;n++)r+=String.fromCharCode(e[t++]);return r}function c(e,t){return e[t+0]|e[t+1]<<8}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],f=[0],m=[],p=new l,g=e,x=function(e,t){var r={},n=0,s=!1,a=0,i=0;if(r.frames=[],!function(e,t){for(var r=0;r<4;r++)if(e[t+r]!="RIFF".charCodeAt(r))return!0;return!1}(e,t)){for(u(e,t+=4),t+=8;t<e.length;){var o=A(e,t),l=u(e,t+=4);t+=4;var h=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===r.frames[n]&&(r.frames[n]={}),(p=r.frames[n]).src_off=s?i:t-8,p.src_size=a+l+8,n++,s&&(s=!1,a=0,i=0);break;case"VP8X":(p=r.header={}).feature_flags=e[t];var f=t+4;p.canvas_width=1+d(e,f),f+=3,p.canvas_height=1+d(e,f),f+=3;break;case"ALPH":s=!0,a=h+8,i=t-8;break;case"ANIM":(p=r.header).bgcolor=u(e,t),f=t+4,p.loop_count=c(e,f),f+=2;break;case"ANMF":var m,p;(p=r.frames[n]={}).offset_x=2*d(e,t),t+=3,p.offset_y=2*d(e,t),t+=3,p.width=1+d(e,t),t+=3,p.height=1+d(e,t),t+=3,p.duration=d(e,t),t+=3,m=e[t++],p.dispose=1&m,p.blend=m>>1&1}"ANMF"!=o&&(t+=h)}return r}}(g,0);x.response=g,x.rgbaoutput=!0,x.dataurl=!1;var b=x.header?x.header:null,v=x.frames?x.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],f=[b.canvas_width];for(var y=0;y<v.length&&0!=v[y].blend;y++);}var w=v[0],B=p.WebPDecodeRGBA(g,w.src_off,w.src_size,f,h);w.rgba=B,w.imgwidth=f[0],w.imgheight=h[0];for(var N=0;N<f[0]*h[0]*4;N++)m[N]=B[N];return this.width=f,this.height=h,this.data=m,this}!function(e){var t,r,n,s,a,i,o,l,A,c=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new i,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new i,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,A=new c}]);var d=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var r=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var s=0;Object.defineProperty(this,"posX",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),A.margin=t}});var i=!1;Object.defineProperty(this,"autoPaging",{get:function(){return i},set:function(e){i=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(e){e instanceof c&&(A=e)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(e){A.path=e}});var d=[];Object.defineProperty(this,"ctxStack",{get:function(){return d},set:function(e){d=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=u(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=u(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null,f=null,m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){h=null,f=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(e))){var r=t[1];t[2];var n=t[3],s=t[4];t[5];var a=t[6],i=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(s)[2];s="px"===i?Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor):"em"===i?Math.floor(parseFloat(s)*this.pdf.getFontSize()):Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(s);var o=function(e){var t,r,n=[],s=e.trim();if(""===s)return rw;if(s in Hy)return[Hy[s]];for(;""!==s;){switch(r=null,t=(s=Ky(s)).charAt(0)){case'"':case"'":r=Vy(s.substring(1),t);break;default:r=qy(s)}if(null===r)return rw;if(n.push(r[0]),""!==(s=Ky(r[1]))&&","!==s.charAt(0))return rw;s=s.replace(/^,/,"")}return n}(a);if(this.fontFaces){var l=function(e,t){var r=e.getFontList(),n=JSON.stringify(r);if(null===h||f!==n){var s=function(e){var t=[];return Object.keys(e).forEach(function(r){e[r].forEach(function(e){var n=null;switch(e){case"bold":n={family:r,weight:"bold"};break;case"italic":n={family:r,style:"italic"};break;case"bolditalic":n={family:r,weight:"bold",style:"italic"};break;case"":case"normal":n={family:r}}null!==n&&(n.ref={name:r,style:e},t.push(n))})}),t}(r);h=function(e){for(var t={},r=0;r<e.length;++r){var n=Ty(e[r]),s=n.family,a=n.stretch,i=n.style,o=n.weight;t[s]=t[s]||{},t[s][a]=t[s][a]||{},t[s][a][i]=t[s][a][i]||{},t[s][a][i][o]=n}return t}(s.concat(t)),f=n}return h}(this.pdf,this.fontFaces),A=o.map(function(e){return{family:e,stretch:"normal",weight:n,style:r}}),c=function(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},Ry,r.genericFontFamilies||{}),a=null,i=null,o=0;o<t.length;++o)if(s[(a=Ty(t[o])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){i=e[a.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+zy(a)+"' and default family '"+n+"'.");if(i=function(e,t){if(t[e])return t[e];var r=My[e],n=r<=My.normal?-1:1,s=Oy(t,Iy,r,n);if(!s)throw new Error("Could not find a matching font-stretch value for "+e);return s}(a.stretch,i),i=function(e,t){if(t[e])return t[e];for(var r=Ly[e],n=0;n<r.length;++n)if(t[r[n]])return t[r[n]];throw new Error("Could not find a matching font-style for "+e)}(a.style,i),!(i=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var r=Py[e],n=Oy(t,Dy,r,e<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+e);return n}(a.weight,i)))throw new Error("Failed to resolve a font for the rule '"+zy(a)+"'.");return i}(l,A);this.pdf.setFont(c.ref.name,c.ref.style)}else{var d="";("bold"===n||parseInt(n,10)>=700||"bold"===r)&&(d="bold"),"italic"===r&&(d+="italic"),0===d.length&&(d="normal");for(var u="",m={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},p=0;p<o.length;p++){if(void 0!==this.pdf.internal.getFont(o[p],d,{noFallback:!0,disableWarning:!0})){u=o[p];break}if("bolditalic"===d&&void 0!==this.pdf.internal.getFont(o[p],"bold",{noFallback:!0,disableWarning:!0}))u=o[p],d="bold";else if(void 0!==this.pdf.internal.getFont(o[p],"normal",{noFallback:!0,disableWarning:!0})){u=o[p],d="normal";break}}if(""===u)for(var g=0;g<o.length;g++)if(m[o[g]]){u=m[o[g]];break}u=""===u?"Times":u,this.pdf.setFont(u,d)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,D.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,D.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};d.prototype.setLineDash=function(e){this.lineDash=e},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){v.call(this,"fill",!1)},d.prototype.stroke=function(){v.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw mv.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var r=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"mt",x:r.x,y:r.y}),this.ctx.lastPoint=new i(e,t)},d.prototype.closePath=function(){var e=new i(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,rm.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new i(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(e.x,e.y)},d.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw mv.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var r=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"lt",x:r.x,y:r.y}),this.ctx.lastPoint=new i(r.x,r.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},d.prototype.quadraticCurveTo=function(e,t,r,n){if(isNaN(r)||isNaN(n)||isNaN(e)||isNaN(t))throw mv.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var s=this.ctx.transform.applyToPoint(new i(r,n)),a=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"qct",x1:a.x,y1:a.y,x:s.x,y:s.y}),this.ctx.lastPoint=new i(s.x,s.y)},d.prototype.bezierCurveTo=function(e,t,r,n,s,a){if(isNaN(s)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw mv.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new i(s,a)),l=this.ctx.transform.applyToPoint(new i(e,t)),A=this.ctx.transform.applyToPoint(new i(r,n));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:A.x,y2:A.y,x:o.x,y:o.y}),this.ctx.lastPoint=new i(o.x,o.y)},d.prototype.arc=function(e,t,r,n,s,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(s))throw mv.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new i(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new i(0,r)),A=this.ctx.transform.applyToPoint(new i(0,0));r=Math.sqrt(Math.pow(l.x-A.x,2)+Math.pow(l.y-A.y,2))}Math.abs(s-n)>=2*Math.PI&&(n=0,s=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:r,startAngle:n,endAngle:s,counterclockwise:a})},d.prototype.arcTo=function(e,t,r,n,s){throw new Error("arcTo not implemented.")},d.prototype.rect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw mv.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.lineTo(e+r,t),this.lineTo(e,t)},d.prototype.fillRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw mv.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var s={};"butt"!==this.lineCap&&(s.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(s.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,r,n),this.fill(),s.hasOwnProperty("lineCap")&&(this.lineCap=s.lineCap),s.hasOwnProperty("lineJoin")&&(this.lineJoin=s.lineJoin)}},d.prototype.strokeRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw mv.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,r,n),this.stroke())},d.prototype.clearRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw mv.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,r,n))},d.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var n=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n}},d.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var u=function(e){var t,r,n,s;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,r=0,n=0,s=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==a)t=parseInt(a[1]),r=parseInt(a[2]),n=parseInt(a[3]),s=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(a[1]),r=parseInt(a[2]),n=parseInt(a[3]),s=parseFloat(a[4]);else{if(s=1,"string"==typeof e&&"#"!==e.charAt(0)){var i=new vv(e);e=i.ok?i.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,r=e.substring(2,3),r+=r,n=e.substring(3,4),n+=n):(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7)),t=parseInt(t,16),r=parseInt(r,16),n=parseInt(n,16)}}return{r:t,g:r,b:n,a:s,style:e}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};d.prototype.fillText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw mv.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n=isNaN(n)?void 0:n,!h.call(this)){var s=L(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;S.call(this,{text:e,x:t,y:r,scale:a,angle:s,align:this.textAlign,maxWidth:n})}},d.prototype.strokeText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw mv.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){n=isNaN(n)?void 0:n;var s=L(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;S.call(this,{text:e,x:t,y:r,scale:a,renderingMode:"stroke",angle:s,align:this.textAlign,maxWidth:n})}},d.prototype.measureText=function(e){if("string"!=typeof e)throw mv.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,r=this.pdf.internal.scaleFactor,n=t.internal.getFontSize(),s=t.getStringUnitWidth(e)*n/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:s*=Math.round(96*r/72*1e4)/1e4})},d.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw mv.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var r=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(r)},d.prototype.rotate=function(e){if(isNaN(e))throw mv.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},d.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw mv.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var r=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(r)},d.prototype.transform=function(e,t,r,n,s,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(s)||isNaN(a))throw mv.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var i=new l(e,t,r,n,s,a);this.ctx.transform=this.ctx.transform.multiply(i)},d.prototype.setTransform=function(e,t,r,n,s,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,r=isNaN(r)?0:r,n=isNaN(n)?1:n,s=isNaN(s)?0:s,a=isNaN(a)?0:a,this.ctx.transform=new l(e,t,r,n,s,a)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(e,t,r,n,s,a,i,A,c){var d=this.pdf.getImageProperties(e),u=1,h=1,f=1,g=1;void 0!==n&&void 0!==A&&(f=A/n,g=c/s,u=d.width/n*A/n,h=d.height/s*c/s),void 0===a&&(a=t,i=r,t=0,r=0),void 0!==n&&void 0===A&&(A=n,c=s),void 0===n&&void 0===A&&(A=d.width,c=d.height);var v=this.ctx.transform.decompose(),w=L(v.rotate.shx),B=new l,N=(B=(B=(B=B.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToRectangle(new o(a-t*f,i-r*g,n*u,s*h));if(this.autoPaging){for(var j,C=p.call(this,N),k=[],S=0;S<C.length;S+=1)-1===k.indexOf(C[S])&&k.push(C[S]);b(k);for(var F=k[0],E=k[k.length-1],_=F;_<E+1;_++){this.pdf.setPage(_);var U=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Q=1===_?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],M=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],D=1===_?0:I+(_-2)*M;if(0!==this.ctx.clip_path.length){var P=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(j,this.posX+this.margin[3],-D+Q+this.ctx.prevPageLastElemOffset),y.call(this,"fill",!0),this.path=P}var T=JSON.parse(JSON.stringify(N));T=x([T],this.posX+this.margin[3],-D+Q+this.ctx.prevPageLastElemOffset)[0];var O=(_>F||_<E)&&m.call(this);O&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],U,M,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",T.x,T.y,T.w,T.h,null,null,w),O&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(e,"JPEG",N.x,N.y,N.w,N.h,null,null,w)};var p=function(e,t,r){var n=[];t=t||this.pdf.internal.pageSize.width,r=r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var s=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":n.push(Math.floor((e.y+s)/r)+1);break;case"arc":n.push(Math.floor((e.y+s-e.radius)/r)+1),n.push(Math.floor((e.y+s+e.radius)/r)+1);break;case"qct":var a=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);n.push(Math.floor((a.y+s)/r)+1),n.push(Math.floor((a.y+a.h+s)/r)+1);break;case"bct":var i=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);n.push(Math.floor((i.y+s)/r)+1),n.push(Math.floor((i.y+i.h+s)/r)+1);break;case"rect":n.push(Math.floor((e.y+s)/r)+1),n.push(Math.floor((e.y+e.h+s)/r)+1)}for(var o=0;o<n.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<n[o];)g.call(this);return n},g=function(){var e=this.fillStyle,t=this.strokeStyle,r=this.font,n=this.lineCap,s=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=r,this.lineCap=n,this.lineWidth=s,this.lineJoin=a},x=function(e,t,r){for(var n=0;n<e.length;n++)switch(e[n].type){case"bct":e[n].x2+=t,e[n].y2+=r;case"qct":e[n].x1+=t,e[n].y1+=r;default:e[n].x+=t,e[n].y+=r}return e},b=function(e){return e.sort(function(e,t){return e-t})},v=function(e,t){var r=this.fillStyle,n=this.strokeStyle,s=this.lineCap,a=this.lineWidth,i=Math.abs(a*this.ctx.transform.scaleX),o=this.lineJoin;if(this.autoPaging){for(var l,A,c=JSON.parse(JSON.stringify(this.path)),d=JSON.parse(JSON.stringify(this.path)),u=[],h=0;h<d.length;h++)if(void 0!==d[h].x)for(var f=p.call(this,d[h]),v=0;v<f.length;v+=1)-1===u.indexOf(f[v])&&u.push(f[v]);for(var w=0;w<u.length;w++)for(;this.pdf.internal.getNumberOfPages()<u[w];)g.call(this);b(u);for(var B=u[0],N=u[u.length-1],j=B;j<N+1;j++){this.pdf.setPage(j),this.fillStyle=r,this.strokeStyle=n,this.lineCap=s,this.lineWidth=i,this.lineJoin=o;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],k=1===j?this.posY+this.margin[0]:this.margin[0],S=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],F=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],E=1===j?0:S+(j-2)*F;if(0!==this.ctx.clip_path.length){var _=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(l,this.posX+this.margin[3],-E+k+this.ctx.prevPageLastElemOffset),y.call(this,e,!0),this.path=_}if(A=JSON.parse(JSON.stringify(c)),this.path=x(A,this.posX+this.margin[3],-E+k+this.ctx.prevPageLastElemOffset),!1===t||0===j){var U=(j>B||j<N)&&m.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,F,null).clip().discardPath()),y.call(this,e,t),U&&this.pdf.restoreGraphicsState()}this.lineWidth=a}this.path=c}else this.lineWidth=i,y.call(this,e,t),this.lineWidth=a},y=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!h.call(this))){for(var r,n,s=[],a=this.path,i=0;i<a.length;i++){var o=a[i];switch(o.type){case"begin":s.push({begin:!0});break;case"close":s.push({close:!0});break;case"mt":s.push({start:o,deltas:[],abs:[]});break;case"lt":var l=s.length;if(a[i-1]&&!isNaN(a[i-1].x)&&(r=[o.x-a[i-1].x,o.y-a[i-1].y],l>0))for(;l>=0;l--)if(!0!==s[l-1].close&&!0!==s[l-1].begin){s[l-1].deltas.push(r),s[l-1].abs.push(o);break}break;case"bct":r=[o.x1-a[i-1].x,o.y1-a[i-1].y,o.x2-a[i-1].x,o.y2-a[i-1].y,o.x-a[i-1].x,o.y-a[i-1].y],s[s.length-1].deltas.push(r);break;case"qct":var A=a[i-1].x+2/3*(o.x1-a[i-1].x),c=a[i-1].y+2/3*(o.y1-a[i-1].y),d=o.x+2/3*(o.x1-o.x),u=o.y+2/3*(o.y1-o.y),m=o.x,p=o.y;r=[A-a[i-1].x,c-a[i-1].y,d-a[i-1].x,u-a[i-1].y,m-a[i-1].x,p-a[i-1].y],s[s.length-1].deltas.push(r);break;case"arc":s.push({deltas:[],abs:[],arc:!0}),Array.isArray(s[s.length-1].abs)&&s[s.length-1].abs.push(o)}}n=t?null:"stroke"===e?"stroke":"fill";for(var g=!1,x=0;x<s.length;x++)if(s[x].arc)for(var b=s[x].abs,v=0;v<b.length;v++){var y=b[v];"arc"===y.type?N.call(this,y.x,y.y,y.radius,y.startAngle,y.endAngle,y.counterclockwise,void 0,t,!g):F.call(this,y.x,y.y),g=!0}else if(!0===s[x].close)this.pdf.internal.out("h"),g=!1;else if(!0!==s[x].begin){var w=s[x].start.x,B=s[x].start.y;E.call(this,s[x].deltas,w,B),g=!0}n&&j.call(this,n),t&&C.call(this)}},w=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,r=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-r;case"top":return e+t-r;case"hanging":return e+t-2*r;case"middle":return e+t/2-r;default:return e}},B=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(e,t,r,n,s,a,i,o,l){for(var A=U.call(this,r,n,s,a),c=0;c<A.length;c++){var d=A[c];0===c&&(l?k.call(this,d.x1+e,d.y1+t):F.call(this,d.x1+e,d.y1+t)),_.call(this,e,t,d.x2,d.y2,d.x3,d.y3,d.x4,d.y4)}o?C.call(this):j.call(this,i)},j=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(e,t){this.pdf.internal.out(r(e)+" "+n(t)+" m")},S=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var r,n,s,a=this.pdf.getTextDimensions(e.text),A=w.call(this,e.y),c=B.call(this,A)-a.h,d=this.ctx.transform.applyToPoint(new i(e.x,A));if(this.autoPaging){var u=this.ctx.transform.decompose(),h=new l;h=(h=(h=h.multiply(u.translate)).multiply(u.skew)).multiply(u.scale);for(var f=this.ctx.transform.applyToRectangle(new o(e.x,A,a.w,a.h)),g=h.applyToRectangle(new o(e.x,c,a.w,a.h)),v=p.call(this,g),N=[],j=0;j<v.length;j+=1)-1===N.indexOf(v[j])&&N.push(v[j]);b(N);for(var C=N[0],k=N[N.length-1],S=C;S<k+1;S++){this.pdf.setPage(S);var F=1===S?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_=this.pdf.internal.pageSize.height-this.margin[2],U=_-this.margin[0],Q=this.pdf.internal.pageSize.width-this.margin[1],L=Q-this.margin[3],I=1===S?0:E+(S-2)*U;if(0!==this.ctx.clip_path.length){var M=this.path;r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(r,this.posX+this.margin[3],-1*I+F),y.call(this,"fill",!0),this.path=M}var D=x([JSON.parse(JSON.stringify(g))],this.posX+this.margin[3],-I+F+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(n=this.pdf.internal.getFontSize(),this.pdf.setFontSize(n*e.scale),s=this.lineWidth,this.lineWidth=s*e.scale);var P="text"!==this.autoPaging;if(P||D.y+D.h<=_){if(P||D.y>=F&&D.x<=Q){var T=P?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||Q-D.x)[0],O=x([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-I+F+this.ctx.prevPageLastElemOffset)[0],R=P&&(S>C||S<k)&&m.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,U,null).clip().discardPath()),this.pdf.text(T,O.x,O.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),R&&this.pdf.restoreGraphicsState()}}else D.y<_&&(this.ctx.prevPageLastElemOffset+=_-D.y);e.scale>=.01&&(this.pdf.setFontSize(n),this.lineWidth=s)}}else e.scale>=.01&&(n=this.pdf.internal.getFontSize(),this.pdf.setFontSize(n*e.scale),s=this.lineWidth,this.lineWidth=s*e.scale),this.pdf.text(e.text,d.x+this.posX,d.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(n),this.lineWidth=s)},F=function(e,t,s,a){s=s||0,a=a||0,this.pdf.internal.out(r(e+s)+" "+n(t+a)+" l")},E=function(e,t,r){return this.pdf.lines(e,t,r,null,null)},_=function(e,r,n,i,o,l,A,c){this.pdf.internal.out([t(s(n+e)),t(a(i+r)),t(s(o+e)),t(a(l+r)),t(s(A+e)),t(a(c+r)),"c"].join(" "))},U=function(e,t,r,n){for(var s=2*Math.PI,a=Math.PI/2;t>r;)t-=s;var i=Math.abs(r-t);i<s&&n&&(i=s-i);for(var o=[],l=n?-1:1,A=t;i>1e-5;){var c=A+l*Math.min(i,a);o.push(Q.call(this,e,A,c)),i-=Math.abs(c-A),A=c}return o},Q=function(e,t,r){var n=(r-t)/2,s=e*Math.cos(n),a=e*Math.sin(n),i=s,o=-a,l=i*i+o*o,A=l+i*s+o*a,c=4/3*(Math.sqrt(2*l*A)-A)/(i*a-o*s),d=i-c*o,u=o+c*i,h=d,f=-u,m=n+t,p=Math.cos(m),g=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:d*p-u*g,y2:d*g+u*p,x3:h*p-f*g,y3:h*g+f*p,x4:e*Math.cos(r),y4:e*Math.sin(r)}},L=function(e){return 180*e/Math.PI},I=function(e,t,r,n,s,a){var i=e+.5*(r-e),l=t+.5*(n-t),A=s+.5*(r-s),c=a+.5*(n-a),d=Math.min(e,s,i,A),u=Math.max(e,s,i,A),h=Math.min(t,a,l,c),f=Math.max(t,a,l,c);return new o(d,h,u-d,f-h)},M=function(e,t,r,n,s,a,i,l){var A,c,d,u,h,f,m,p,g,x,b,v,y,w,B=r-e,N=n-t,j=s-r,C=a-n,k=i-s,S=l-a;for(c=0;c<41;c++)g=(m=(d=e+(A=c/40)*B)+A*((h=r+A*j)-d))+A*(h+A*(s+A*k-h)-m),x=(p=(u=t+A*N)+A*((f=n+A*C)-u))+A*(f+A*(a+A*S-f)-p),0==c?(b=g,v=x,y=g,w=x):(b=Math.min(b,g),v=Math.min(v,x),y=Math.max(y,g),w=Math.max(w,x));return new o(Math.round(b),Math.round(v),Math.round(y-b),Math.round(w-v))},D=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,r=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==r&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=r)}}}(qv.API),function(e){var t=function(e){var t,r,n,s,a,i,o,l,A,c;for(/[^\x00-\xFF]/.test(e),r=[],n=0,s=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;s>n;n+=4)0!==(a=(e.charCodeAt(n)<<24)+(e.charCodeAt(n+1)<<16)+(e.charCodeAt(n+2)<<8)+e.charCodeAt(n+3))?(i=(a=((a=((a=((a=(a-(c=a%85))/85)-(A=a%85))/85)-(l=a%85))/85)-(o=a%85))/85)%85,r.push(i+33,o+33,l+33,A+33,c+33)):r.push(122);return function(e,t){for(var r=t;r>0;r--)e.pop()}(r,t.length),String.fromCharCode.apply(String,r)+"~>"},r=function(e){var t,r,n,s,a,i=String,o="length",l=255,A="charCodeAt",c="slice",d="replace";for(e[c](-2),e=e[c](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),n=[],s=0,a=(e+=t="uuuuu"[c](e[o]%5||5))[o];a>s;s+=5)r=52200625*(e[A](s)-33)+614125*(e[A](s+1)-33)+7225*(e[A](s+2)-33)+85*(e[A](s+3)-33)+(e[A](s+4)-33),n.push(l&r>>24,l&r>>16,l&r>>8,l&r);return function(e,t){for(var r=t;r>0;r--)e.pop()}(n,t[o]),i.fromCharCode.apply(i,n)},n=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var r="",n=0;n<e.length;n+=2)r+=String.fromCharCode("0x"+(e[n]+e[n+1]));return r},a=function(e){for(var t=new Uint8Array(e.length),r=e.length;r--;)t[r]=e.charCodeAt(r);return(t=Om(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,i){var o=0,l=e||"",A=[];for("string"==typeof(i=i||[])&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=s(l),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=n(l),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:A.reverse().join(" ")}}}(qv.API),(tw=qv.API).loadFile=function(e,t,r){return function(e,t,r){t=!1!==t,r="function"==typeof r?r:function(){};var n=void 0;try{n=function(e,t,r){var n=new XMLHttpRequest,s=0,a=function(e){var t=e.length,r=[],n=String.fromCharCode;for(s=0;s<t;s+=1)r.push(n(255&e.charCodeAt(s)));return r.join("")};if(n.open("GET",e,!t),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(n.onload=function(){200===n.status?r(a(this.responseText)):r(void 0)}),n.send(null),t&&200===n.status)return a(n.responseText)}(e,t,r)}catch(pm){}return n}(e,t,r)},tw.loadImageFile=tw.loadFile,function(e){function t(){return(hv.html2canvas?Promise.resolve(hv.html2canvas):Promise.resolve().then(r.t.bind(r,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function n(){return(hv.DOMPurify?Promise.resolve(hv.DOMPurify):r.e(977).then(r.bind(r,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var s=function(e){var t=(0,rm.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},a=function(e,t){var r=document.createElement(e);for(var n in t.className&&(r.className=t.className),t.innerHTML&&t.dompurify&&(r.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)r.style[n]=t.style[n];return r},i=function e(t,r){for(var n=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),s=t.firstChild;s;s=s.nextSibling)!0!==r&&1===s.nodeType&&"SCRIPT"===s.nodeName||n.appendChild(e(s,r));return 1===t.nodeType&&("CANVAS"===t.nodeName?(n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(n.value=t.value),n.addEventListener("load",function(){n.scrollTop=t.scrollTop,n.scrollLeft=t.scrollLeft},!0)),n},o=function e(t){var r=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),n=e.convert(Promise.resolve(),r);return(n=n.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(s(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(n).then(function(t){return this.set({src:a("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,r=this.opt.fontFaces,n="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,s=Object.assign({async:!0,allowTaint:!0,scale:n,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete s.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=r,r)for(var a=0;a<r.length;++a){var i=r[a],o=i.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,i.ref.name,i.ref.style)}return s.windowHeight=s.windowHeight||0,s.windowHeight=0==s.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):s.windowHeight,t.context2d.save(!0),e(this.prop.container,s)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,r){return"img"===(r=r||"pdf").toLowerCase()||"image"===r.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==s(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var r=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(r):r})},o.prototype.setMargin=function(e){return this.then(function(){switch(s(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||qv.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,r,n){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=r&&(this.progress.n=r),null!=n&&(this.progress.stack=n),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,r,n){return this.setProgress(e?this.progress.val+e:null,t||null,r?this.progress.n+r:null,n?this.progress.stack.concat(n):null)},o.prototype.then=function(e,t){var r=this;return this.thenCore(e,t,function(e,t){return r.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return r.updateProgress(null,e),t}).then(e,t).then(function(e){return r.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,r){r=r||Promise.prototype.then;var n=this;e&&(e=e.bind(n)),t&&(t=t.bind(n));var s=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?n:o.convert(Object.assign({},n),Promise.prototype),a=r.call(s,e,t);return o.convert(a,n.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,qv.getPageSize=function(e,t,r){if("object"===(0,rm.A)(e)){var n=e;e=n.orientation,t=n.unit||t,r=n.format||r}t=t||"mm",r=r||"a4",e=(""+(e||"P")).toLowerCase();var s,a=(""+r).toLowerCase(),i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+t}var o,l=0,A=0;if(i.hasOwnProperty(a))l=i[a][1]/s,A=i[a][0]/s;else try{l=r[1],A=r[0]}catch(vv){throw new Error("Invalid format: "+r)}if("p"===e||"portrait"===e)e="p",A>l&&(o=A,A=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>A&&(o=A,A=l,l=o)}return{width:A,height:l,unit:t,k:s,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Ty):null;var r=new o(t);return t.worker?r:r.from(e).doCallback()}}(qv.API),qv.API.addJS=function(e){return Jy=e,this.internal.events.subscribe("postPutResources",function(){Gy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Gy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Wy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Jy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Gy&&void 0!==Wy&&this.internal.out("/Names <</JavaScript "+Gy+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),s=0;s<n.length;s++){var a=n[s],i=r.exec(a);if(null!=i){var o=i[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,A=[];for(s=0;s<l;s++){var c=e.internal.newObject();A.push(c);var d=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var u=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<A.length;s++)e.internal.write("(page_"+(s+1)+")"+A[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+u+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,r){var n={title:t,options:r,children:[]};return null==e&&(e=this.root),e.children.push(n),n},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var r=0;r<t.children.length;r++)this.genIds_r(t.children[r])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<t.children.length;n++){var s=t.children[n];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(t)),n>0&&this.line("/Prev "+this.makeRef(t.children[n-1])),n<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[n+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var i=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var r=0;r<t.children.length;r++)e.count++,this.count_r(e,t.children[r]);return e.count}}])}(qv.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,r,n,s,a,i){var o,l=this.decode.DCT_DECODE,A=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,o=function(e){for(var r,n=256*e.charCodeAt(4)+e.charCodeAt(5),s=e.length,a={width:0,height:0,numcomponents:1},i=4;i<s;i+=2){if(i+=n,-1!==t.indexOf(e.charCodeAt(i+1))){r=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),a={width:256*e.charCodeAt(i+7)+e.charCodeAt(i+8),height:r,numcomponents:e.charCodeAt(i+9)};break}n=256*e.charCodeAt(i+2)+e.charCodeAt(i+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),o.numcomponents){case 1:i=this.color_spaces.DEVICE_GRAY;break;case 4:i=this.color_spaces.DEVICE_CMYK;break;case 3:i=this.color_spaces.DEVICE_RGB}A={data:e,width:o.width,height:o.height,colorSpace:i,bitsPerComponent:8,filter:l,index:r,alias:n}}return A}}(qv.API),qv.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,a=function(e,t){return new dv(e,t).decode()}(e,{checkCrc:!0}),i=a.width,o=a.height,l=a.channels,A=a.palette,c=a.depth;s=A&&1===l?function(e){for(var t=e.width,r=e.height,n=e.data,s=e.palette,a=e.depth,i=!1,o=[],l=[],A=void 0,c=!1,d=0,u=0;u<s.length;u++){var h=zm(s[u],4),f=h[0],m=h[1],p=h[2],g=h[3];o.push(f,m,p),null!=g&&(0===g?(d++,l.length<1&&l.push(u)):g<255&&(c=!0))}if(c||d>1){i=!0,l=void 0;var x=t*r;A=new Uint8Array(x);for(var b=new DataView(n.buffer),v=0;v<x;v++){var y=zm(s[dw(b,v,a)],4)[3];A[v]=y}}else 0===d&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:i?8:void 0,colorBytes:n,alphaBytes:A,needSMask:i,palette:o,mask:l}}(a):2===l||4===l?function(e){for(var t=e.data,r=e.width,n=e.height,s=e.channels,a=e.depth,i=2===s?"DeviceGray":"DeviceRGB",o=s-1,l=r*n,A=o,c=l*A,d=1*l,u=Math.ceil(c*a/8),h=Math.ceil(d*a/8),f=new Uint8Array(u),m=new Uint8Array(h),p=new DataView(t.buffer),g=new DataView(f.buffer),x=new DataView(m.buffer),b=!1,v=0;v<l;v++){for(var y=v*s,w=0;w<A;w++)uw(g,dw(p,y+w,a),v*A+w,a);var B=dw(p,y+A,a);B<(1<<a)-1&&(b=!0),uw(x,B,1*v,a)}return{colorSpace:i,colorsPerPixel:o,sMaskBitsPerComponent:b?a:void 0,colorBytes:f,alphaBytes:m,needSMask:b}}(a):function(e){var t=e.data,r=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:r,colorsPerPixel:"DeviceGray"===r?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,r=new Uint8Array(2*t),n=new DataView(r.buffer,r.byteOffset,r.byteLength),s=0;s<t;s++)n.setUint16(2*s,e[s],!1);return r}(t):t,needSMask:!1}}(a);var d,u,h,f=s,m=f.colorSpace,p=f.colorsPerPixel,g=f.sMaskBitsPerComponent,x=f.colorBytes,b=f.alphaBytes,v=f.needSMask,y=f.palette,w=f.mask,B=null;return n!==qv.API.image_compression.NONE?(B=function(e){var t;switch(e){case qv.API.image_compression.FAST:t=11;break;case qv.API.image_compression.MEDIUM:t=13;break;case qv.API.image_compression.SLOW:t=14;break;default:t=12}return t}(n),d=this.decode.FLATE_DECODE,u="/Predictor ".concat(B," /Colors ").concat(p," /BitsPerComponent ").concat(c," /Columns ").concat(i),e=nw(x,Math.ceil(i*p*c/8),p,c,n),v&&(h=nw(b,Math.ceil(i*g/8),1,g,n))):(d=void 0,u=void 0,e=x,v&&(h=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:d,decodeParameters:u,transparency:w,palette:y,sMask:h,predictor:B,width:i,height:o,bitsPerComponent:c,sMaskBitsPerComponent:g,colorSpace:m}}},function(e){e.processGIF89A=function(t,r,n,s){var a=new fw(t),i=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:i,height:o},c=new pw(100).encode(A,100);return e.processJPEG.call(this,c,r,n,s)},e.processGIF87A=e.processGIF89A}(qv.API),gw.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gw.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){mv.log("bit decode error:"+r)}},gw.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}0!==r&&(this.pos+=4-r)}},gw.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*s*4,o=a>>4,l=15&a,A=this.palette[o];if(this.data[i]=A.blue,this.data[i+1]=A.green,this.data[i+2]=A.red,this.data[i+3]=255,2*s+1>=this.width)break;A=this.palette[l],this.data[i+4]=A.blue,this.data[i+4+1]=A.green,this.data[i+4+2]=A.red,this.data[i+4+3]=255}0!==t&&(this.pos+=4-t)}},gw.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(s<this.palette.length){var i=this.palette[s];this.data[a]=i.red,this.data[a+1]=i.green,this.data[a+2]=i.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==e&&(this.pos+=4-e)}},gw.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,A=a>>15?255:0,c=n*this.width*4+4*s;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=i,this.data[c+3]=A}this.pos+=e}},gw.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&r)/r*255|0,A=(i>>11)/t*255|0,c=s*this.width*4+4*a;this.data[c]=A,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=e}},gw.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=a,this.data[i+1]=s,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},gw.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=i}},gw.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,s){var a=new gw(t,!1),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},A=new pw(100).encode(l,100);return e.processJPEG.call(this,A,r,n,s)}}(qv.API),xw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,s){var a=new xw(t),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},A=new pw(100).encode(l,100);return e.processJPEG.call(this,A,r,n,s)}}(qv.API),qv.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,a=new Uint8Array(s/4*3),i=new Uint8Array(s/4),o=0,l=0,A=0;A<s;A+=4){var c=n[A],d=n[A+1],u=n[A+2],h=n[A+3];a[o++]=c,a[o++]=d,a[o++]=u,i[l++]=h}var f=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:f,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qv.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yy=qv.API,Xy=Yy.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,A=t.kerning?t.kerning:s.metadata.Unicode.kerning,c=A.fof?A.fof:1,d=!1!==t.doKerning,u=0,h=e.length,f=0,m=o[0]||l,p=[];for(r=0;r<h;r++)n=e.charCodeAt(r),"function"==typeof s.metadata.widthOfString?p.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+i*(1e3/a)||0)/1e3):(u=d&&"object"===(0,rm.A)(A[n])&&!isNaN(parseInt(A[n][f],10))?A[n][f]/c:0,p.push((o[n]||m)/l+u)),f=n;return p},Zy=Yy.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Yy.processArabic&&(e=Yy.processArabic(e)),"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(e,r,s)/r:Xy.apply(this,arguments).reduce(function(e,t){return e+t},0)},$y=function(e,t,r,n){for(var s=[],a=0,i=e.length,o=0;a!==i&&o+t[a]<r;)o+=t[a],a++;s.push(e.slice(0,a));var l=a;for(o=0;a!==i;)o+t[a]>n&&(s.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&s.push(e.slice(l,a)),s},ew=function(e,t,r){r||(r={});var n,s,a,i,o,l,A,c=[],d=[c],u=r.textIndent||0,h=0,f=0,m=e.split(" "),p=Xy.apply(this,[" ",r])[0];if(l=-1===r.lineIndent?m[0].length+2:r.lineIndent||0){var g=Array(l).join(" "),x=[];m.map(function(e){(e=e.split(/\s*\n/)).length>1?x=x.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):x.push(e[0])}),m=x,l=Zy.apply(this,[g,r])}for(a=0,i=m.length;a<i;a++){var b=0;if(n=m[a],l&&"\n"==n[0]&&(n=n.substr(1),b=1),u+h+(f=(s=Xy.apply(this,[n,r])).reduce(function(e,t){return e+t},0))>t||b){if(f>t){for(o=$y.apply(this,[n,s,t-(u+h),t]),c.push(o.shift()),c=[o.pop()];o.length;)d.push([o.shift()]);f=s.slice(n.length-(c[0]?c[0].length:0)).reduce(function(e,t){return e+t},0)}else c=[n];d.push(c),u=f+l,h=p}else c.push(n),u+=h+f,h=p}return A=l?function(e,t){return(t?g:"")+e.join(" ")}:function(e){return e.join(" ")},d.map(A)},Yy.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),r="Unicode";return t.metadata[r]?{widths:t.metadata[r].widths||{0:1},kerning:t.metadata[r].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/s;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=r.lineIndent;var o,l,A=[];for(o=0,l=n.length;o<l;o++)A=A.concat(ew.apply(this,[n[o],i,a]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},a=0;a<16;a++)n[r[a]]=t[a],s[t[a]]=r[a];var i=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,r,n,a,l=["{"];for(var A in e){if(t=e[A],isNaN(parseInt(A,10))?r="'"+A+"'":(A=parseInt(A,10),r=(r=i(A).slice(2)).slice(0,-1)+s[r.slice(-1)]),"number"==typeof t)t<0?(n=i(t).slice(3),a="-"):(n=i(t).slice(2),a=""),n=a+n.slice(0,-1)+s[n.slice(-1)];else{if("object"!==(0,rm.A)(t))throw new Error("Don't know what to do with value type "+(0,rm.A)(t)+".");n=o(t)}l.push(r+n)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,s,a,i={},o=1,l=i,A=[],c="",d="",u=e.length-1,h=1;h<u;h+=1)"'"==(a=e[h])?t?(s=t.join(""),t=void 0):t=[]:t?t.push(a):"{"==a?(A.push([l,s]),l={},s=void 0):"}"==a?((r=A.pop())[0][r[1]]=l,s=void 0,l=r[0]):"-"==a?o=-1:void 0===s?n.hasOwnProperty(a)?(c+=n[a],s=parseInt(c,16)*o,o=1,c=""):c+=a:n.hasOwnProperty(a)?(d+=n[a],l[s]=parseInt(d,16)*o,o=1,s=void 0,d=""):d+=a;return i},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode={},t.metadata.Unicode.widths=r.widths,t.metadata.Unicode.kerning=r.kerning);var n=c.Unicode[t.postScriptName];n&&(t.metadata.Unicode.encoding=n,t.encoding=n.codePages[0])}])}(qv.API),function(e){var t=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,a=r.instance;if(!s.isStandardFont){if(void 0===a)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if("string"!=typeof(n=!1===a.existsFileInVFS(s.postScriptName)?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");!function(r,n){n=/^\x00\x01\x00\x00/.test(n)?t(n):t(yv(n)),r.metadata=e.API.TTFFont.open(n),r.metadata.Unicode=r.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r.metadata.glyIdsUsed=[0]}(s,n)}}])}(qv),qv.API.addSvgAsImage=function(e,t,n,s,a,i,o,l){if(isNaN(t)||isNaN(n))throw mv.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw mv.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=s,A.height=a;var c=A.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,A.width,A.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(hv.canvg?Promise.resolve(hv.canvg):r.e(455).then(r.bind(r,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(d)}).then(function(){u.addImage(A.toDataURL("image/jpeg",1),t,n,s,a,o,l)})},qv.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},qv.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,a,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],A=0,c=0,d=0;function u(e,t){var r,n=!1;for(r=0;r<e.length;r+=1)e[r]===t&&(n=!0);return n}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var h=o.length;for(d=0;d<h;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if("object"===(0,rm.A)(e))for(s in e)if(a=e[s],u(o,s)&&void 0!==a){if("boolean"===r[s].type&&"boolean"==typeof a)r[s].value=a;else if("name"===r[s].type&&u(r[s].valueSet,a))r[s].value=a;else if("integer"===r[s].type&&Number.isInteger(a))r[s].value=a;else if("array"===r[s].type){for(A=0;A<a.length;A+=1)if(n=!0,1===a[A].length&&"number"==typeof a[A][0])l.push(String(a[A]-1));else if(a[A].length>1){for(c=0;c<a[A].length;c+=1)"number"!=typeof a[A][c]&&(n=!1);!0===n&&l.push([a[A][0]-1,a[A][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in r)!0===r[e].explicitSet&&("name"===r[e].type?t.push("/"+e+" /"+r[e].value):t.push("/"+e+" "+r[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(e)),n=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),i=r.length+n.length+s.length+t.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i+" >>"),this.internal.write("stream"),this.internal.write(t+r+n+s+a),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(qv.API),function(e){var t=e.API,r=t.pdfEscape16=function(e,t){for(var r,n=t.metadata.Unicode.widths,s=["","0","00","000","0000"],a=[""],i=0,o=e.length;i<o;++i){if(r=t.metadata.characterToGlyph(e.charCodeAt(i)),t.metadata.glyIdsUsed.push(r),t.metadata.toUnicode[r]=e.charCodeAt(i),-1==n.indexOf(r)&&(n.push(r),n.push([parseInt(t.metadata.widthOfGlyph(r),10)])),"0"==r)return a.join("");r=r.toString(16),a.push(s[4-r.length],r)}return a.join("")},n=function(e){var t,r,n,s,a,i,o;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n=[],i=0,o=(r=Object.keys(e).sort(function(e,t){return e-t})).length;i<o;i++)t=r[i],n.length>=100&&(a+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar",n=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(s=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),n.push("<"+t+"><"+s+">"));return n.length&&(a+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var r=t.font,s=t.out,a=t.newObject,i=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"Identity-H"===r.encoding){for(var o=r.metadata.Unicode.widths,l=r.metadata.subset.encode(r.metadata.glyIdsUsed,1),A="",c=0;c<l.length;c++)A+=String.fromCharCode(l[c]);var d=a();i({data:A,addLength1:!0,objectId:d}),s("endobj");var u=a();i({data:n(r.metadata.toUnicode),addLength1:!0,objectId:u}),s("endobj");var h=a();s("<<"),s("/Type /FontDescriptor"),s("/FontName /"+Ov(r.fontName)),s("/FontFile2 "+d+" 0 R"),s("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),s("/Flags "+r.metadata.flags),s("/StemV "+r.metadata.stemV),s("/ItalicAngle "+r.metadata.italicAngle),s("/Ascent "+r.metadata.ascender),s("/Descent "+r.metadata.decender),s("/CapHeight "+r.metadata.capHeight),s(">>"),s("endobj");var f=a();s("<<"),s("/Type /Font"),s("/BaseFont /"+Ov(r.fontName)),s("/FontDescriptor "+h+" 0 R"),s("/W "+e.API.PDFObject.convert(o)),s("/CIDToGIDMap /Identity"),s("/DW 1000"),s("/Subtype /CIDFontType2"),s("/CIDSystemInfo"),s("<<"),s("/Supplement 0"),s("/Registry (Adobe)"),s("/Ordering ("+r.encoding+")"),s(">>"),s(">>"),s("endobj"),r.objectNumber=a(),s("<<"),s("/Type /Font"),s("/Subtype /Type0"),s("/ToUnicode "+u+" 0 R"),s("/BaseFont /"+Ov(r.fontName)),s("/Encoding /"+r.encoding),s("/DescendantFonts ["+f+" 0 R]"),s(">>"),s("endobj"),r.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var r=t.font,s=t.out,a=t.newObject,i=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===r.encoding){for(var o=r.metadata.rawData,l="",A=0;A<o.length;A++)l+=String.fromCharCode(o[A]);var c=a();i({data:l,addLength1:!0,objectId:c}),s("endobj");var d=a();i({data:n(r.metadata.toUnicode),addLength1:!0,objectId:d}),s("endobj");var u=a();s("<<"),s("/Descent "+r.metadata.decender),s("/CapHeight "+r.metadata.capHeight),s("/StemV "+r.metadata.stemV),s("/Type /FontDescriptor"),s("/FontFile2 "+c+" 0 R"),s("/Flags 96"),s("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),s("/FontName /"+Ov(r.fontName)),s("/ItalicAngle "+r.metadata.italicAngle),s("/Ascent "+r.metadata.ascender),s(">>"),s("endobj"),r.objectNumber=a();for(var h=0;h<r.metadata.hmtx.widths.length;h++)r.metadata.hmtx.widths[h]=parseInt(r.metadata.hmtx.widths[h]*(1e3/r.metadata.head.unitsPerEm));s("<</Subtype/TrueType/Type/Font/ToUnicode "+d+" 0 R/BaseFont/"+Ov(r.fontName)+"/FontDescriptor "+u+" 0 R/Encoding/"+r.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(r.metadata.hmtx.widths)+">>"),s("endobj"),r.isAlreadyPutted=!0}}(t)}]);var s=function(e){var t,n=e.text||"",s=e.x,a=e.y,i=e.options||{},o=e.mutex||{},l=o.pdfEscape,A=o.activeFontKey,c=o.fonts,d=A,u="",h=0,f="",m=c[d].encoding;if("Identity-H"!==c[d].encoding)return{text:n,x:s,y:a,options:i,mutex:o};for(f=n,d=A,Array.isArray(n)&&(f=n[0]),h=0;h<f.length;h+=1)c[d].metadata.hasOwnProperty("cmap")&&(t=c[d].metadata.cmap.unicode.codeMap[f[h].charCodeAt(0)]),t||f[h].charCodeAt(0)<256&&c[d].metadata.hasOwnProperty("Unicode")?u+=f[h]:u+="";var p="";return parseInt(d.slice(1))<14||"WinAnsiEncoding"===m?p=l(u,d).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(p=r(u,c[d])),o.isHex=!0,{text:p,x:s,y:a,options:i,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",r=[],n={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&3===t[a].length?r.push([s(Object.assign({},n,{text:t[a][0]})).text,t[a][1],t[a][2]]):r.push(s(Object.assign({},n,{text:t[a]})).text);e.text=r}else e.text=s(Object.assign({},n,{text:t})).text}])}(qv),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(qv.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var r,n,s,a,i,o,l,A=t,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},h={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),p=!1,g=0;this.__bidiEngine__={};var x=function(e){var t=e.charCodeAt(),r=t>>8,n=h[r];return void 0!==n?A[256*n+(255&t)]:252===r||253===r?"AL":m.test(r)?"L":8===r?"R":"N"},b=function(e){for(var t,r=0;r<e.length;r++){if("L"===(t=x(e.charAt(r))))return!1;if("R"===t)return!0}return!1},v=function(e,t,i,o){var l,A,c,d,u=t[o];switch(u){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":p=!1;break;case"N":case"AN":break;case"EN":p&&(u="AN");break;case"AL":p=!0,u="R";break;case"WS":case"BN":u="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=i[o-1])&&"AN"!==l||"EN"!==(A=t[o+1])&&"AN"!==A?u="N":p&&(A="AN"),u=A===l?A:"N";break;case"ES":u="EN"===(l=o>0?i[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===i[o-1]){u="EN";break}if(p){u="N";break}for(c=o+1,d=t.length;c<d&&"ET"===t[c];)c++;u=c<d&&"EN"===t[c]?"EN":"N";break;case"NSM":if(s&&!a){for(d=t.length,c=o+1;c<d&&"NSM"===t[c];)c++;if(c<d){var h=e[o],f=h>=1425&&h<=2303||64286===h;if(l=t[c],f&&("R"===l||"AL"===l)){u="R";break}}}u=o<1||"B"===(l=t[o-1])?"N":i[o-1];break;case"B":p=!1,r=!0,u=g;break;case"S":n=!0,u="N"}return u},y=function(e,t,r){var n=e.split("");return r&&w(n,r,{hiLevel:g}),n.reverse(),t&&t.reverse(),n.join("")},w=function(e,t,s){var a,i,o,l,A,h=-1,f=e.length,m=0,b=[],y=g?d:c,w=[];for(p=!1,r=!1,n=!1,i=0;i<f;i++)w[i]=x(e[i]);for(o=0;o<f;o++){if(A=m,b[o]=v(e,w,b,o),a=240&(m=y[A][u[b[o]]]),m&=15,t[o]=l=y[m][5],a>0)if(16===a){for(i=h;i<o;i++)t[i]=1;h=-1}else h=-1;if(y[m][6])-1===h&&(h=o);else if(h>-1){for(i=h;i<o;i++)t[i]=l;h=-1}"B"===w[o]&&(t[o]=0),s.hiLevel|=l}n&&function(e,t,r){for(var n=0;n<r;n++)if("S"===e[n]){t[n]=g;for(var s=n-1;s>=0&&"WS"===e[s];s--)t[s]=g}}(w,t,f)},B=function(e,t,n,s,a){if(!(a.hiLevel<e)){if(1===e&&1===g&&!r)return t.reverse(),void(n&&n.reverse());for(var i,o,l,A,c=t.length,d=0;d<c;){if(s[d]>=e){for(l=d+1;l<c&&s[l]>=e;)l++;for(A=d,o=l-1;A<o;A++,o--)i=t[A],t[A]=t[o],t[o]=i,n&&(i=n[A],n[A]=n[o],n[o]=i);d=l}d++}}},N=function(e,t,r){var n=e.split(""),s={hiLevel:g};return r||(r=[]),w(n,r,s),function(e,t,r){if(0!==r.hiLevel&&l)for(var n,s=0;s<e.length;s++)1===t[s]&&(n=f.indexOf(e[s]))>=0&&(e[s]=f[n+1])}(n,r,s),B(2,n,t,r,s),B(1,n,t,r,s),n.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,r){if(function(e,t){if(t)for(var r=0;r<e.length;r++)t[r]=r;void 0===a&&(a=b(e)),void 0===o&&(o=b(e))}(e,t),s||!i||o)if(s&&i&&a^o)g=a?1:0,e=y(e,t,r);else if(!s&&i&&o)g=a?1:0,e=N(e,t,r),e=y(e,t);else if(!s||a||i||o){if(s&&!i&&a^o)e=y(e,t),a?(g=0,e=N(e,t,r)):(g=1,e=N(e,t,r),e=y(e,t));else if(s&&a&&!i&&o)g=1,e=N(e,t,r),e=y(e,t);else if(!s&&!i&&a^o){var n=l;a?(g=1,e=N(e,t,r),g=0,l=!1,e=N(e,t,r),l=n):(g=0,e=N(e,t,r),e=y(e,t),g=1,l=!1,e=N(e,t,r),l=n,e=y(e,t))}}else g=0,e=N(e,t,r);else g=a?1:0,e=N(e,t,r);return e},this.__bidiEngine__.setOptions=function(e){e&&(s=e.isInputVisual,i=e.isOutputVisual,a=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var n=e.options||{};e.mutex,n.lang;var s=[];if(n.isInputVisual="boolean"!=typeof n.isInputVisual||n.isInputVisual,r.setOptions(n),"[object Array]"===Object.prototype.toString.call(t)){var a=0;for(s=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?s.push([r.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):s.push([r.doBidiReorder(t[a])]);e.text=s}else e.text=r.doBidiReorder(t);r.setOptions({isInputVisual:!0})}])}(qv),qv.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new vw(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Tw(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new yw(this.contents),this.head=new Nw(this),this.name=new _w(this),this.cmap=new Cw(this),this.toUnicode={},this.hhea=new kw(this),this.maxp=new Uw(this),this.hmtx=new Qw(this),this.post=new Fw(this),this.os2=new Sw(this),this.loca=new Pw(this),this.glyf=new Iw(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,r,n,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,r,n,s;for(s=[],t=0,r=(n=this.bbox).length;t<r;t++)e=n[t],s.push(Math.round(e*this.scaleFactor));return s}.call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(t=n>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,r){var n,s,a,i;for(a=0,s=0,i=(e=""+e).length;0<=i?s<i:s>i;s=0<=i?++s:--s)n=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var r;return null==t&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},e}();var bw,vw=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(e){var t,r,n;for(n=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,r,n,s,a,i,o;return e=this.readByte(),t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^s)+65536*(255^a)+256*(255^i)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*n+16777216*s+65536*a+256*i+o},e.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(e){var t,r,n,s;for(s=[],r=0,n=e.length;r<n;r++)t=e[r],s.push(this.writeByte(t));return s},e}(),yw=function(){var e;function t(e){var t,r,n;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,n=this.tableCount;0<=n?r<n:r>n;r=0<=n?++r:--r)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var r,n,s,a,i,o,l,A,c,d,u,h,f;for(f in u=Object.keys(t).length,o=Math.log(2),c=16*Math.floor(Math.log(u)/o),a=Math.floor(c/o),A=16*u-c,(n=new vw).writeInt(this.scalarType),n.writeShort(u),n.writeShort(c),n.writeShort(a),n.writeShort(A),s=16*u,l=n.pos+s,i=null,h=[],t)for(d=t[f],n.writeString(f),n.writeInt(e(d)),n.writeInt(l),n.writeInt(d.length),h=h.concat(d),"head"===f&&(i=l),l+=d.length;l%4;)h.push(0),l++;return n.write(h),r=2981146554-e(n.data),n.pos=i+8,n.writeUInt32(r),n.data},e=function(e){var t,r,n,s;for(e=Lw.call(e);e.length%4;)e.push(0);for(n=new vw(e),r=0,t=0,s=e.length;t<s;t=t+=4)r+=n.readUInt32();return 4294967295&r},t}(),ww={}.hasOwnProperty,Bw=function(e,t){for(var r in t)ww.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};bw=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Nw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bw(e,bw),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new vw).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),jw=function(){function e(e,t){var r,n,s,a,i,o,l,A,c,d,u,h,f,m,p,g,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(u=e.readUInt16(),d=u/2,e.pos+=6,s=function(){var t,r;for(r=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)r.push(e.readUInt16());return r}(),e.pos+=2,f=function(){var t,r;for(r=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)r.push(e.readUInt16());return r}(),l=function(){var t,r;for(r=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)r.push(e.readUInt16());return r}(),A=function(){var t,r;for(r=[],o=t=0;0<=d?t<d:t>d;o=0<=d?++t:--t)r.push(e.readUInt16());return r}(),n=(this.length-e.pos+this.offset)/2,i=function(){var t,r;for(r=[],o=t=0;0<=n?t<n:t>n;o=0<=n?++t:--t)r.push(e.readUInt16());return r}(),o=p=0,x=s.length;p<x;o=++p)for(m=s[o],r=g=h=f[o];h<=m?g<=m:g>=m;r=h<=m?++g:--g)0===A[o]?a=r+l[o]:0!==(a=i[A[o]/2+(r-h)-(d-o)]||0)&&(a+=l[o]),this.codeMap[r]=65535&a}e.pos=c}return e.encode=function(e,t){var r,n,s,a,i,o,l,A,c,d,u,h,f,m,p,g,x,b,v,y,w,B,N,j,C,k,S,F,E,_,U,Q,L,I,M,D,P,T,O,R,H,z,K,V,q,G;switch(F=new vw,a=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(f=0,m=function(){var e=[];for(h=0;h<256;++h)e.push(0);return e}(),g={0:0},s={},E=0,L=a.length;E<L;E++)null==g[K=e[n=a[E]]]&&(g[K]=++f),s[n]={old:e[n],new:g[e[n]]},m[n]=g[e[n]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(m),{charMap:s,subtable:F.data,maxGlyphID:f+1};case"unicode":for(k=[],c=[],x=0,g={},r={},p=l=null,_=0,I=a.length;_<I;_++)null==g[v=e[n=a[_]]]&&(g[v]=++x),r[n]={old:v,new:g[v]},i=g[v]-n,null!=p&&i===l||(p&&c.push(p),k.push(n),l=i),p=n;for(p&&c.push(p),c.push(65535),k.push(65535),j=2*(N=k.length),B=2*Math.pow(Math.log(N)/Math.LN2,2),d=Math.log(B/2)/Math.LN2,w=2*N-B,o=[],y=[],u=[],h=U=0,M=k.length;U<M;h=++U){if(C=k[h],A=c[h],65535===C){o.push(0),y.push(0);break}if(C-(S=r[C].new)>=32768)for(o.push(0),y.push(2*(u.length+N-h)),n=Q=C;C<=A?Q<=A:Q>=A;n=C<=A?++Q:--Q)u.push(r[n].new);else o.push(S-C),y.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*N+2*u.length),F.writeUInt16(0),F.writeUInt16(j),F.writeUInt16(B),F.writeUInt16(d),F.writeUInt16(w),H=0,D=c.length;H<D;H++)n=c[H],F.writeUInt16(n);for(F.writeUInt16(0),z=0,P=k.length;z<P;z++)n=k[z],F.writeUInt16(n);for(V=0,T=o.length;V<T;V++)i=o[V],F.writeUInt16(i);for(q=0,O=y.length;q<O;q++)b=y[q],F.writeUInt16(b);for(G=0,R=u.length;G<R;G++)f=u[G],F.writeUInt16(f);return{charMap:r,subtable:F.data,maxGlyphID:x+1}}},e}(),Cw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bw(e,bw),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,r,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t=new jw(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var r,n;return null==t&&(t="macroman"),r=jw.encode(e,t),(n=new vw).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},e}(),kw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bw(e,bw),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Sw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bw(e,bw),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Fw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bw(e,bw),e.prototype.tag="post",e.prototype.parse=function(e){var t,r,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)t=e.readByte(),n.push(this.names.push(e.readString(t)));return n;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var t,r,n;for(n=[],s=t=0,r=this.file.maxp.numGlyphs;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt32());return n}.call(this)}},e}(),Ew=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},_w=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bw(e,bw),e.prototype.tag="name",e.prototype.parse=function(e){var t,r,n,s,a,i,o,l,A,c,d;for(e.pos=this.offset,e.readShort(),t=e.readShort(),i=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+i+e.readShort()});for(o={},s=A=0,c=r.length;A<c;s=++A)n=r[s],e.pos=n.offset,l=e.readString(n.length),a=new Ew(l,n),null==o[d=n.nameID]&&(o[d]=[]),o[n.nameID].push(a);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(yv){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),Uw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bw(e,bw),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Qw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bw(e,bw),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,r,n,s,a,i,o;for(e.pos=this.offset,this.metrics=[],t=0,i=this.file.hhea.numberOfMetrics;0<=i?t<i:t>i;t=0<=i?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var r,s;for(s=[],t=r=0;0<=n?r<n:r>n;t=0<=n?++r:--r)s.push(e.readInt16());return s}(),this.widths=function(){var e,t,r,n;for(n=[],e=0,t=(r=this.metrics).length;e<t;e++)s=r[e],n.push(s.advance);return n}.call(this),r=this.widths[this.widths.length-1],o=[],t=a=0;0<=n?a<n:a>n;t=0<=n?++a:--a)o.push(this.widths.push(r));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Lw=[].slice,Iw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bw(e,bw),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,r,n,s,a,i,o,l,A,c;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),0===(n=s.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,a=(i=new vw(t.read(n))).readShort(),l=i.readShort(),c=i.readShort(),o=i.readShort(),A=i.readShort(),this.cache[e]=-1===a?new Dw(i,l,c,o,A):new Mw(i,a,l,c,o,A),this.cache[e]))},e.prototype.encode=function(e,t,r){var n,s,a,i,o;for(a=[],s=[],i=0,o=t.length;i<o;i++)n=e[t[i]],s.push(a.length),n&&(a=a.concat(n.encode(r)));return s.push(a.length),{table:a,offsets:s}},e}(),Mw=function(){function e(e,t,r,n,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Dw=function(){function e(e,t,r,n,s){var a,i;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=n,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;i=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&i;)a.pos+=1&i?4:2,128&i?a.pos+=8:64&i?a.pos+=4:8&i&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,r;for(t=new vw(Lw.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Pw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Bw(e,bw),e.prototype.tag="loca",e.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=2)n.push(2*e.readUInt16());return n}.call(this):function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=4)n.push(e.readUInt32());return n}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),n=0,s=0,a=0;a<r.length;++a)if(r[a]=n,s<t.length&&t[s]==a){++s,r[a]=n;var i=this.offsets[a],o=this.offsets[a+1]-i;o>0&&(n+=o)}for(var l=new Array(4*r.length),A=0;A<r.length;++A)l[4*A+3]=255&r[A],l[4*A+2]=(65280&r[A])>>8,l[4*A+1]=(16711680&r[A])>>16,l[4*A]=(4278190080&r[A])>>24;return l},e}(),Tw=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,r,n,s;for(t in n=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=n[r];return e},e.prototype.glyphsFor=function(e){var t,r,n,s,a,i,o;for(n={},a=0,i=e.length;a<i;a++)n[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],n)(null!=(r=n[s])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in o=this.glyphsFor(t))r=o[s],n[s]=r;return n},e.prototype.encode=function(e,t){var r,n,s,a,i,o,l,A,c,d,u,h,f,m,p;for(n in r=Cw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),u={0:0},p=r.charMap)u[(o=p[n]).old]=o.new;for(h in d=r.maxGlyphID,a)h in u||(u[h]=d++);return A=function(e){var t,r;for(t in r={},e)r[e[t]]=t;return r}(u),c=Object.keys(A).sort(function(e,t){return e-t}),f=function(){var e,t,r;for(r=[],e=0,t=c.length;e<t;e++)i=c[e],r.push(A[i]);return r}(),s=this.font.glyf.encode(a,f,u),l=this.font.loca.encode(s.offsets,f),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();qv.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(r){var n,s,a,i;if(Array.isArray(r))return"["+function(){var e,s,a;for(a=[],e=0,s=r.length;e<s;e++)n=r[e],a.push(t.convert(n));return a}().join(" ")+"]";if("string"==typeof r)return"/"+r;if(null!=r?r.isString:void 0)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(r)){for(s in a=["<<"],r)i=r[s],a.push("/"+s+" "+t.convert(i));return a.push(">>"),a.join("\n")}return""+r},t}();var Ow=r(5239),Rw=r.n(Ow);function Hw(e){let{message:t,type:r="error",show:n,onClose:s}=e;return(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-[9999] transition-all duration-500 transform ".concat(n?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,wt.jsxs)("div",{className:"bg-white border-l-4 ".concat((()=>{switch(r){case"success":return"border-green-500";case"warning":return"border-yellow-500";case"info":return"border-blue-500";default:return"border-red-500"}})()," rounded shadow-2xl p-4 w-80 flex items-start"),children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(r){case"success":return(0,wt.jsx)("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return(0,wt.jsx)("svg",{className:"h-6 w-6 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.998-.833-2.732 0L4.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":return(0,wt.jsx)("svg",{className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,wt.jsx)("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})()}),(0,wt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,wt.jsx)("p",{className:"text-sm font-bold text-gray-900 leading-5",children:"success"===r?"Succ\xe8s":"warning"===r?"Avertissement":"info"===r?"Information":"Erreur"}),(0,wt.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-600",children:t})]}),(0,wt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,wt.jsx)("button",{onClick:s,className:"inline-flex text-gray-400 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",children:(0,wt.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,wt.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L10 10 5.707 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})})}function zw(e){let{show:t,title:r,message:n,onConfirm:s,onCancel:a,confirmText:i="Confirmer",cancelText:o="Annuler"}=e;return t?(0,wt.jsx)("div",{className:"fixed inset-0 z-[10000] overflow-y-auto",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center",children:[(0,wt.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:a}),(0,wt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,wt.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,wt.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,wt.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,wt.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,wt.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,wt.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,wt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:r}),(0,wt.jsx)("div",{className:"mt-2",children:(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:n})})]})]})}),(0,wt.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,wt.jsx)("button",{type:"button",onClick:s,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:i}),(0,wt.jsx)("button",{type:"button",onClick:a,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:o})]})]})]})}):null}const Kw=e=>{let{isSorted:t,isAsc:r}=e;return t?r?(0,wt.jsx)(Pf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(Tf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(Df,{className:"w-3 h-3 text-gray-400"})},Vw=e=>{let{onContactReference:r}=e;const[n,s]=(0,t.useState)("tous"),[a,i]=(0,t.useState)({search:"",statut:"",dateDebut:"",dateFin:""}),[l,A]=(0,t.useState)(1),[c,d]=(0,t.useState)(10),[u,h]=(0,t.useState)([]),[f,m]=(0,t.useState)(!0),[p,g]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[v,y]=(0,t.useState)("tous"),[w,B]=(0,t.useState)(!1),[N,j]=(0,t.useState)(!1),[C,k]=(0,t.useState)(!1),[S,F]=(0,t.useState)(!1),[E,_]=(0,t.useState)(!1),[U,Q]=(0,t.useState)(!1),[L,I]=(0,t.useState)(!1),[M,D]=(0,t.useState)(null),[P,T]=(0,t.useState)({general:!0,auteur:!0,description:!0,pieces:!0}),[O,R]=(0,t.useState)({key:"date",direction:"desc"}),[H,z]=(0,t.useState)({category:"",description:"",files:[],name:"",email:"",phone:"",address:"",type:"identifie"}),[K,V]=(0,t.useState)({assignTo:"investigateur"}),[q,G]=(0,t.useState)({status:""}),[W,J]=(0,t.useState)({}),[Y,X]=(0,t.useState)({type:"quotidien",dateDebut:(new Date).toISOString().split("T")[0],dateFin:(new Date).toISOString().split("T")[0],categories:[],notes:""}),[Z,$]=(0,t.useState)(null),[ee,te]=(0,t.useState)({show:!1,message:"",type:"error"}),[re,ne]=(0,t.useState)({show:!1,title:"",message:"",reportId:null,action:null}),se=[{id:"faux-diplomes",icon:Ts,name:"Faux Dipl\xf4mes"},{id:"offre-formation-irreguliere",icon:Fi,name:"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)"},{id:"recrutements-irreguliers",icon:Gf,name:"Recrutements Irr\xe9guliers"},{id:"harcelement",icon:Hi,name:"Harc\xe8lement"},{id:"corruption",icon:Wf,name:"Corruption"},{id:"divers",icon:Jf,name:"Divers"}],ae=function(e){te({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error"}),setTimeout(()=>{te(e=>o(o({},e),{},{show:!1}))},5e3)},ie=()=>{ne({show:!1,title:"",message:"",reportId:null,action:null})},oe=async()=>{const{reportId:e,action:t}=re;if(e){try{"delete"===t&&(await as.delete("/reports/".concat(e)),ae("Signalement supprim\xe9 avec succ\xe8s","success"),I(!1),(null===x||void 0===x?void 0:x.id)===e&&b(null),await le())}catch(p){var r,n;if(404===(null===(r=p.response)||void 0===r?void 0:r.status))await le(),ae("Signalement supprim\xe9","info");else if(403===(null===(n=p.response)||void 0===n?void 0:n.status))ae("Vous n'avez pas les droits pour supprimer ce signalement","error");else{var s,a;ae("Erreur: ".concat((null===(s=p.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||p.message),"error")}}ie()}else ie()},le=async()=>{m(!0),g(null);try{const e=(await as.get("/reports?per_page=1000")).data;if(e.success&&Array.isArray(e.data)){const t=e.data.map(e=>{let t=[];try{e.files&&("string"===typeof e.files?t=JSON.parse(e.files):Array.isArray(e.files)&&(t=e.files))}catch(QN){}const r=e.description||"Aucune description",n=r.length>80?r.substring(0,80)+"...":r;return{id:e.id,reference:e.reference,date:e.created_at,nom_prenom:e.is_anonymous?"Anonyme":e.name||"Non sp\xe9cifi\xe9",telephone:e.phone||"N/A",email:e.email||"N/A",categorie:e.category,categorieLabel:e.category,raison:e.title||"Non sp\xe9cifi\xe9",type_signalement:e.is_anonymous?"Anonyme":"Non-Anonyme",explication:e.description||"Aucune description",shortDescription:n,files:t,status:e.status||"en_cours",assigned_to:e.assigned_to||"Non assign\xe9",city:e.city,province:e.province,region:e.region,has_proof:e.has_proof||!1}});h(t)}else h([])}catch(p){var e,t;g((null===(e=p.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||p.message),ae("Erreur lors du chargement des signalements","error")}finally{m(!1)}};(0,t.useEffect)(()=>{le()},[]);const Ae=e=>{if("tous"===e){return{total:u.length,encours:u.filter(e=>"en_cours"===e.status).length,resolus:u.filter(e=>"classifier"===e.status).length}}const t=u.filter(t=>t.categorie===e);return{total:t.length,encours:t.filter(e=>"en_cours"===e.status).length,resolus:t.filter(e=>"classifier"===e.status).length}},ce=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(QN){return e}},de=e=>({en_cours:"En cours",investigation:"Ouverture d'enqu\xeates",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes",classifier:"Dossier class\xe9 sans suite"}[e]||e),ue=(0,t.useMemo)(()=>{const e=[...u].sort((e,t)=>{if(!O.key)return 0;let r=e[O.key],n=t[O.key];return"date"===O.key&&(r=new Date(r),n=new Date(n)),"reference"===O.key&&(r=r.toLowerCase(),n=n.toLowerCase()),r<n?"asc"===O.direction?-1:1:r>n?"asc"===O.direction?1:-1:0});return e},[u,O]),he=(0,t.useMemo)(()=>{let e=ue;return"tous"!==v&&(e=e.filter(e=>e.categorie===v)),(a.dateDebut||a.dateFin)&&(e=e.filter(e=>{const t=new Date(e.date),r=a.dateDebut?new Date(a.dateDebut):null,n=a.dateFin?new Date(a.dateFin):null;let s=!0;if(r&&(s=s&&t>=r),n){const e=new Date(n);e.setDate(e.getDate()+1),s=s&&t<e}return s})),e.filter(e=>{const t=!a.search||e.reference.toLowerCase().includes(a.search.toLowerCase())||e.nom_prenom.toLowerCase().includes(a.search.toLowerCase())||e.categorieLabel&&e.categorieLabel.toLowerCase().includes(a.search.toLowerCase())||e.explication.toLowerCase().includes(a.search.toLowerCase()),r=!a.statut||e.status===a.statut;return t&&r})},[ue,a,v]),fe=Math.ceil(he.length/c),me=l*c,pe=me-c,ge=he.slice(pe,me),xe=e=>{R(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})),A(1)},be=(e,t)=>{i(r=>o(o({},r),{},{[e]:t})),A(1)},ve=e=>{b(e),setTimeout(()=>{const e=document.querySelector(".print-section");if(e){const t=document.body.innerHTML,r=e.innerHTML;document.body.innerHTML=r,window.print(),document.body.innerHTML=t,window.location.reload()}},500)},ye=e=>{D(e),G({status:"en_cours"===e.status?"":e.status||""}),k(!0)},we=e=>{D(e),J({category:e.categorie,description:e.explication,nom_prenom:e.nom_prenom,email:e.email,telephone:e.telephone,city:e.city,province:e.province,region:e.region}),F(!0)},Be=e=>{D(e),((e,t,r,n)=>{ne({show:!0,title:e,message:t,reportId:r,action:n})})("Supprimer ce signalement ?","Cette action est irr\xe9versible. Le signalement sera d\xe9finitivement supprim\xe9.",e.id,"delete")},Ne=e=>{T(t=>o(o({},t),{},{[e]:!t[e]}))},je=async e=>{if(e.preventDefault(),M)try{const e="Anonyme"===M.type_signalement,a=o(o({category:W.category,description:W.description},!e&&{nom_prenom:W.nom_prenom,email:W.email,telephone:W.telephone}),{},{city:W.city,province:W.province,region:W.region,type_signalement:e?"anonyme":"non-anonyme"}),i=M.files&&0===M.files.length,l=W.newFiles&&W.newFiles.length>0;if(i&&l)return void ae("\u26a0\ufe0f Vous ne pouvez pas ajouter des preuves \xe0 un signalement qui n'en avait pas initialement. Veuillez cr\xe9er un nouveau signalement avec les preuves n\xe9cessaires.","warning");await as.put("/reports/".concat(M.id),a);if(W.newFiles&&W.newFiles.length>0||W.filesToRemove&&W.filesToRemove.length>0)try{const e=new FormData;W.filesToRemove&&W.filesToRemove.length>0&&W.filesToRemove.forEach((t,r)=>{e.append("files_to_remove[".concat(r,"]"),t)}),W.newFiles&&W.newFiles.length>0&&W.newFiles.forEach((t,r)=>{e.append("new_files[".concat(r,"]"),t)});(await as.post("/reports/".concat(M.id,"/files"),e,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&ae("Fichiers mis \xe0 jour avec succ\xe8s","success")}catch(f){var t,r,n,s;403===(null===(t=f.response)||void 0===t?void 0:t.status)&&"Ce signalement ne peut plus \xeatre modifi\xe9"===(null===(r=f.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)?ae("\u274c Impossible d'ajouter des preuves : Ce signalement ne peut plus \xeatre modifi\xe9. Pour ajouter des preuves, cr\xe9ez un nouveau signalement.","error"):403===(null===(s=f.response)||void 0===s?void 0:s.status)&&ae("\u274c Permission refus\xe9e pour modifier les pi\xe8ces jointes. Ce signalement a peut-\xeatre d\xe9j\xe0 \xe9t\xe9 trait\xe9 ou class\xe9.","error")}await le(),F(!1),D(null),(null===x||void 0===x?void 0:x.id)===M.id&&b(e=>o(o({},e),a)),ae("Signalement modifi\xe9 avec succ\xe8s","success")}catch(p){var a,i,l,A,c,d;if(403===(null===(a=p.response)||void 0===a?void 0:a.status)&&null!==(i=p.response)&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&l.message){const t=p.response.data.message;t.includes("ne peut plus \xeatre modifi\xe9")?ae("\u274c Modification impossible : ".concat(t,"\n\n")+"\u2022 Pour ajouter des preuves, cr\xe9ez un nouveau signalement\n\u2022 Pour modifier les informations, contactez l'administrateur\n\u2022 Ce signalement a probablement \xe9t\xe9 trait\xe9 ou archiv\xe9","error"):ae("Permission refus\xe9e : ".concat(t),"error")}else if(422===(null===(A=p.response)||void 0===A?void 0:A.status)&&null!==(c=p.response)&&void 0!==c&&null!==(d=c.data)&&void 0!==d&&d.errors){const t=Object.entries(p.response.data.errors).map(e=>{let[t,r]=e;return"\u2022 ".concat(t,": ").concat(Array.isArray(r)?r.join(", "):r)}).join("\n");ae("Erreurs de validation:\n".concat(t),"error")}else{var u,h;ae("Erreur lors de la modification: "+((null===(u=p.response)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.message)||p.message),"error")}}},Ce=async e=>{if(e.preventDefault(),M&&q.status)try{(await as.put("/reports/".concat(M.id,"/status"),{status:q.status})).data.success&&(ae("Statut mis \xe0 jour avec succ\xe8s !\nNouveau statut: ".concat(de(q.status)),"success"),k(!1),G({status:""}),D(null),await le())}catch(p){var t,r;ae("Erreur: ".concat((null===(t=p.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||p.message),"error")}else ae("Veuillez s\xe9lectionner un statut","error")},ke=e=>{e.preventDefault();const t=Y.categories.length>0?se.filter(e=>Y.categories.includes(e.id)).map(e=>e.name):["Toutes les cat\xe9gories"],r={total:he.length,en_cours:he.filter(e=>"en_cours"===e.status).length,transmis_autorite:he.filter(e=>"transmis_autorite"===e.status).length,classifier:he.filter(e=>"classifier"===e.status).length,investigation:he.filter(e=>"investigation"===e.status).length},n={type:Y.type,periode:"".concat(ce(Y.dateDebut)," - ").concat(ce(Y.dateFin)),categories:t,notes:Y.notes,stats:r,dateGeneration:(new Date).toLocaleDateString("fr-FR"),heureGeneration:(new Date).toLocaleTimeString("fr-FR")};$(n),Q(!0),ae("Rapport g\xe9n\xe9r\xe9 avec succ\xe8s","success")},Se=()=>{const e=document.getElementById("report-preview");Rw()(e,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}).then(e=>{const t=210*e.height/e.width;let r=t,n=0;const s=new qv("p","mm","a4");let a=e.toDataURL("image/jpeg",.98);for(s.addImage(a,"JPEG",0,n,210,t),r-=297;r>=0;)n=r-t,s.addPage(),s.addImage(a,"JPEG",0,n,210,t),r-=297;s.save("rapport_signalements_".concat(Z.dateGeneration,".pdf")),ae("PDF export\xe9 avec succ\xe8s","success")}).catch(e=>{console.error("Erreur lors de la g\xe9n\xe9ration du PDF:",e),ae("Erreur lors de la g\xe9n\xe9ration du PDF","error")})},Fe=se.find(e=>e.id===v),Ee=Ae(v);return x&&!Z?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("style",{children:"\n            @media print {\n              body * {\n                visibility: hidden;\n              }\n              \n              .print-section,\n              .print-section * {\n                visibility: visible;\n              }\n              \n              .print-section {\n                position: absolute;\n                left: 0;\n                top: 0;\n                width: 100%;\n                background: white;\n                padding: 20px;\n              }\n              \n              .no-print {\n                display: none !important;\n              }\n              \n              .print-actions {\n                display: none !important;\n              }\n            }\n          "}),(0,wt.jsx)(Hw,{message:ee.message,type:ee.type,show:ee.show,onClose:()=>te(e=>o(o({},e),{},{show:!1}))}),(0,wt.jsx)(zw,{show:re.show,title:re.title,message:re.message,onConfirm:oe,onCancel:ie,confirmText:"Supprimer",cancelText:"Annuler"}),(0,wt.jsxs)("div",{className:"print-section p-4 bg-white min-h-screen",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4 no-print",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h1",{className:"text-lg font-bold text-gray-900",children:["D\xe9tail du Signalement - ",x.reference]}),(0,wt.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[ce(x.date)," \u2022"," ",x.categorieLabel]})]}),(0,wt.jsxs)("button",{onClick:()=>b(null),className:"flex items-center gap-2 px-3 py-2 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,wt.jsx)(_t,{className:"w-3 h-3"}),"Retour \xe0 la liste"]})]}),(0,wt.jsxs)("div",{className:"space-y-3",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>Ne("general"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations G\xe9n\xe9rales"})]}),P.general?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),P.general&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:(0,wt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-xs",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"R\xe9f\xe9rence:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:x.reference})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Date:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:ce(x.date)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Cat\xe9gorie:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:x.categorieLabel})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Statut:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===x.status?"bg-yellow-100 text-yellow-800":"transmis_autorite"===x.status?"bg-indigo-100 text-indigo-800":"classifier"===x.status?"bg-blue-100 text-blue-800":"investigation"===x.status?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:de(x.status)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Assign\xe9 \xe0:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("investigateur"===x.assigned_to?"bg-indigo-100 text-indigo-800":"cac_daj"===x.assigned_to?"bg-blue-100 text-blue-800":"autorite_competente"===x.assigned_to?"bg-cyan-100 text-cyan-800":"bg-gray-100 text-gray-800"),children:(_e=x.assigned_to,{investigateur:"Investigateur",cac_daj:"DAAQ / CAC / DAJ",autorite_competente:"Autorit\xe9 comp\xe9tente"}[_e]||_e||"Non assign\xe9")})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Type:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:x.type_signalement})]})]})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>Ne("auteur"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations de l'Auteur"})]}),P.auteur?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),P.auteur&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:"Anonyme"===x.type_signalement?(0,wt.jsxs)("div",{className:"text-center py-3",children:[(0,wt.jsx)(Yi,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Signalement anonyme"})]}):(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Nom / Pr\xe9nom:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:x.nom_prenom})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Email:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:x.email})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"T\xe9l\xe9phone:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:x.telephone})]})]})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>Ne("description"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Description du Signalement"})]}),P.description?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),P.description&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:(0,wt.jsx)("div",{className:"bg-gray-50 rounded-md p-3 text-xs leading-relaxed",children:x.explication})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>Ne("pieces"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Pi\xe8ces Jointes"})]}),P.pieces?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),P.pieces&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:x.files&&x.files.length>0?(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.files.map((e,t)=>{var r;const n="string"===typeof e?e:e.name||"",s=null===(r=n.split(".").pop())||void 0===r?void 0:r.toLowerCase(),a=["jpg","jpeg","png","gif","webp"].includes(s),i="pdf"===s;return(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg border overflow-hidden",children:[(0,wt.jsx)("div",{className:"aspect-video bg-white flex items-center justify-center",children:a?(0,wt.jsx)("img",{src:"".concat(as.defaults.baseURL,"/files/public/").concat(encodeURIComponent(n.replace(/^admin\//,"").replace(/^\//,"").split("/").pop())),alt:n,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='120'%3E%3Crect width='100%25' height='100%25' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%239ca3af' font-size='12'%3EImpossible de charger l'image%3C/text%3E%3C/svg%3E"}}):i?(0,wt.jsxs)("div",{className:"text-center p-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,wt.jsx)("span",{className:"text-red-600 font-bold text-xs",children:"PDF"})}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Document PDF"})]}):(0,wt.jsxs)("div",{className:"text-center p-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,wt.jsx)("span",{className:"text-gray-600 font-bold text-xs",children:null===s||void 0===s?void 0:s.toUpperCase()})}),(0,wt.jsxs)("p",{className:"text-xs text-gray-600",children:["Fichier ",s]})]})}),(0,wt.jsxs)("div",{className:"p-2",children:[(0,wt.jsx)("p",{className:"text-xs font-medium truncate mb-1",title:n,children:n}),(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{const t=e.replace(/^admin\//,"").replace(/^\//,"").split("/").pop(),r=encodeURIComponent(t);console.log("\ud83d\udc41\ufe0f Ouverture fichier:",t);const n="".concat(as.defaults.baseURL,"/files/public/").concat(r);window.open(n,"_blank")})(n),className:"flex-1 bg-blue-50 text-blue-600 py-1 px-1 rounded text-xs hover:bg-blue-100 transition-colors",children:"Voir"}),(0,wt.jsx)("button",{onClick:()=>(async e=>{try{const t=e.replace(/^admin\//,"").replace(/^\//,"").split("/").pop(),r=encodeURIComponent(t);console.log("\ud83d\udce5 T\xe9l\xe9chargement fichier:",t);const n=await as.get("/files/public/".concat(r,"/download"),{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([n.data])),a=document.createElement("a");a.href=s,a.setAttribute("download",t),document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(s),console.log("\u2705 T\xe9l\xe9chargement r\xe9ussi"),ae("Fichier t\xe9l\xe9charg\xe9 avec succ\xe8s","success")}catch(p){console.error("\u274c Erreur t\xe9l\xe9chargement:",p),ae("Erreur lors du t\xe9l\xe9chargement du fichier","error")}})(n),className:"flex-1 bg-gray-100 text-gray-700 py-1 px-1 rounded text-xs hover:bg-gray-200 transition-colors",children:"T\xe9l\xe9charger"})]})]})]},t)})}):(0,wt.jsxs)("div",{className:"text-center py-4",children:[(0,wt.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,wt.jsx)(Us,{className:"w-6 h-6 text-gray-400"})}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Aucun fichier joint"})]})})]})]}),(0,wt.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t no-print",children:[(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsxs)("button",{onClick:()=>we(x),className:"flex items-center gap-1 px-3 py-1 text-xs border border-indigo-300 text-indigo-700 rounded-lg hover:bg-indigo-50 transition-colors",children:[(0,wt.jsx)(Xf,{className:"w-3 h-3"}),"Modifier"]}),(0,wt.jsxs)("button",{onClick:()=>Be(x),className:"flex items-center gap-1 px-3 py-1 text-xs border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors",children:[(0,wt.jsx)(Zf,{className:"w-3 h-3"}),"Supprimer"]})]}),(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsxs)("button",{onClick:()=>ve(x),className:"flex items-center gap-1 px-3 py-1 text-xs bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,wt.jsx)($f,{className:"w-3 h-3"}),"Imprimer"]}),(0,wt.jsxs)("button",{onClick:()=>ye(x),className:"flex items-center gap-1 px-3 py-1 text-xs bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[(0,wt.jsx)(Ci,{className:"w-3 h-3"}),"Statut"]})]})]})]}),C&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Mettre \xe0 jour le statut"}),(0,wt.jsx)("button",{onClick:()=>k(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:Ce,className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nouveau statut ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsxs)("select",{value:q.status,onChange:e=>G(t=>o(o({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner un statut"}),(0,wt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,wt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"})]})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-amber-600 text-white rounded-md hover:bg-amber-700",children:"Mettre \xe0 jour le statut"})]})]})]})}),S&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Modifier le signalement"}),(0,wt.jsx)("button",{onClick:()=>F(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:je,className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,wt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Type:"})," ",(0,wt.jsx)("span",{className:"Anonyme"===(null===M||void 0===M?void 0:M.type_signalement)?"text-blue-600":"text-green-600",children:null===M||void 0===M?void 0:M.type_signalement})]}),"Anonyme"===(null===M||void 0===M?void 0:M.type_signalement)&&(0,wt.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"\u26a0\ufe0f Seuls la description et les pi\xe8ces jointes peuvent \xeatre modifi\xe9s pour un signalement anonyme"})]}),"Anonyme"!==(null===M||void 0===M?void 0:M.type_signalement)&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom et Pr\xe9nom"}),(0,wt.jsx)("input",{type:"text",value:W.nom_prenom,onChange:e=>J(o(o({},W),{},{nom_prenom:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Nom complet"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,wt.jsx)("input",{type:"email",value:W.email,onChange:e=>J(o(o({},W),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"email@exemple.com"})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,wt.jsx)("input",{type:"text",value:W.telephone,onChange:e=>J(o(o({},W),{},{telephone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+261 XX XX XXX XX"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),(0,wt.jsx)("input",{type:"text",value:W.city,onChange:e=>J(o(o({},W),{},{city:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ville"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Province"}),(0,wt.jsx)("input",{type:"text",value:W.province,onChange:e=>J(o(o({},W),{},{province:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Province"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cat\xe9gorie"}),(0,wt.jsxs)("select",{value:W.category,onChange:e=>J(o(o({},W),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),se.map(e=>(0,wt.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsx)("textarea",{value:W.description,onChange:e=>J(o(o({},W),{},{description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]}),(null===M||void 0===M?void 0:M.files)&&M.files.length>0&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pi\xe8ces jointes actuelles"}),(0,wt.jsx)("div",{className:"space-y-2",children:M.files.map((e,t)=>{const r="string"===typeof e?e:e.name;return(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[(0,wt.jsx)("span",{className:"text-sm truncate flex-1",children:r}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=M.files.filter((e,r)=>r!==t);D(o(o({},M),{},{files:e})),J(o(o({},W),{},{filesToRemove:[...W.filesToRemove||[],r]}))},className:"ml-2 text-red-600 hover:text-red-800",title:"Supprimer ce fichier",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]},t)})})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajouter de nouvelles pi\xe8ces jointes"}),(0,wt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.pdf,.mp4",onChange:e=>{const t=Array.from(e.target.files);J(o(o({},W),{},{newFiles:t}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formats: JPG, PNG, PDF, MP4 - Max 25 Mo/fichier"})]}),W.newFiles&&W.newFiles.length>0&&(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Nouveaux fichiers \xe0 ajouter (",W.newFiles.length,")"]}),(0,wt.jsx)("div",{className:"space-y-2",children:W.newFiles.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-2 rounded border border-blue-200",children:[(0,wt.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=W.newFiles.filter((e,r)=>r!==t);J(o(o({},W),{},{newFiles:e}))},className:"ml-2 text-red-600 hover:text-red-800",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]},t))})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Modifier"})]})]})]})})]}):E?(0,wt.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4",children:[(0,wt.jsx)(Hw,{message:ee.message,type:ee.type,show:ee.show,onClose:()=>te(e=>o(o({},e),{},{show:!1}))}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"G\xe9n\xe9ration de Rapport"}),(0,wt.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Configurez et pr\xe9visualisez votre rapport"})]}),(0,wt.jsxs)("div",{className:"flex gap-3",children:[(0,wt.jsxs)("button",{onClick:()=>{_(!1),Q(!1),$(null)},className:"flex items-center gap-2 px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:[(0,wt.jsx)(_t,{className:"w-4 h-4"}),"Retour \xe0 la liste"]}),Z&&(0,wt.jsxs)("button",{onClick:Se,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[(0,wt.jsx)(Us,{className:"w-4 h-4"}),"Exporter PDF"]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,wt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Configuration du Rapport"}),(0,wt.jsxs)("form",{onSubmit:ke,className:"space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de rapport *"}),(0,wt.jsxs)("select",{value:Y.type,onChange:e=>X(o(o({},Y),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"quotidien",children:"Quotidien"}),(0,wt.jsx)("option",{value:"hebdomadaire",children:"Hebdomadaire"}),(0,wt.jsx)("option",{value:"mensuel",children:"Mensuel"}),(0,wt.jsx)("option",{value:"annuel",children:"Annuel"})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de d\xe9but *"}),(0,wt.jsx)("input",{type:"date",value:Y.dateDebut,onChange:e=>X(o(o({},Y),{},{dateDebut:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin *"}),(0,wt.jsx)("input",{type:"date",value:Y.dateFin,onChange:e=>X(o(o({},Y),{},{dateFin:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cat\xe9gories \xe0 inclure"}),(0,wt.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-200 rounded-md p-3",children:se.map(e=>(0,wt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,wt.jsx)("input",{type:"checkbox",checked:Y.categories.includes(e.id),onChange:t=>{const r=t.target.checked?[...Y.categories,e.id]:Y.categories.filter(t=>t!==e.id);X(o(o({},Y),{},{categories:r}))},className:"w-4 h-4"}),(0,wt.jsx)("span",{className:"text-sm",children:e.name})]},e.id))}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour inclure toutes les cat\xe9gories"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes et observations"}),(0,wt.jsx)("textarea",{value:Y.notes,onChange:e=>X(o(o({},Y),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ajoutez des commentaires ou observations..."})]}),(0,wt.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium",children:"G\xe9n\xe9rer le Rapport"})]})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,wt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Pr\xe9visualisation du Rapport"}),U&&Z?(0,wt.jsxs)("div",{id:"report-preview",className:"pdf-export bg-white p-8",children:[(0,wt.jsxs)("div",{className:"text-center border-b-2 border-gray-800 pb-6 mb-6",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,wt.jsxs)("div",{className:"text-left",children:[(0,wt.jsx)("img",{src:is,alt:"R\xe9publique de Madagascar",className:"h-16 object-contain"}),(0,wt.jsx)("p",{className:"text-xs font-bold text-gray-800 mt-1",children:"REPOBLIKAN'I MADAGASIKARA"})]}),(0,wt.jsx)("div",{className:"text-center flex-1 mx-8",children:(0,wt.jsxs)("div",{className:"border-l border-r border-gray-400 px-8",children:[(0,wt.jsx)("img",{src:os,alt:"MESUPRES",className:"h-16 object-contain mx-auto"}),(0,wt.jsx)("p",{className:"text-xs font-bold text-gray-800 mt-1 uppercase",children:"MINISTERAN'NY FAMPIANARANA AMBONY SY FIKAROHANA ARA-TSIANSA"})]})}),(0,wt.jsxs)("div",{className:"text-right",children:[(0,wt.jsx)("img",{src:ls,alt:"FOSIKA",className:"h-16 object-contain ml-auto"}),(0,wt.jsx)("p",{className:"text-xs font-bold text-gray-800 mt-1",children:"FOSIKA"})]})]}),(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2 uppercase",children:"Rapport des Signalements"}),(0,wt.jsxs)("p",{className:"text-lg font-semibold text-gray-700",children:[Z.type.charAt(0).toUpperCase()+Z.type.slice(1)," ","- ",Z.periode]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"Informations G\xe9n\xe9rales"}),(0,wt.jsxs)("div",{className:"space-y-3",children:[(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Type de rapport:"}),(0,wt.jsx)("span",{className:"capitalize",children:Z.type})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"P\xe9riode couverte:"}),(0,wt.jsx)("span",{children:Z.periode})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Cat\xe9gories incluses:"}),(0,wt.jsx)("span",{className:"text-right",children:Z.categories.length>0?Z.categories.join(", "):"Toutes les cat\xe9gories"})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Date de g\xe9n\xe9ration:"}),(0,wt.jsxs)("span",{children:[Z.dateGeneration," \xe0"," ",Z.heureGeneration]})]})]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"Statistiques des Signalements"}),(0,wt.jsxs)("div",{className:"space-y-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Total des signalements enregistr\xe9s:"}),(0,wt.jsx)("span",{className:"font-bold",children:Z.stats.total})]}),(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Signalements en cours:"}),(0,wt.jsx)("span",{className:"font-bold text-amber-600",children:Z.stats.en_cours})]}),(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Transmis aux autorit\xe9s comp\xe9tentes:"}),(0,wt.jsx)("span",{className:"font-bold text-indigo-600",children:Z.stats.transmis_autorite})]}),(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Dossiers class\xe9s sans suite:"}),(0,wt.jsx)("span",{className:"font-bold text-blue-600",children:Z.stats.classifier})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{children:"Ouverture d'enqu\xeates:"}),(0,wt.jsx)("span",{className:"font-bold text-purple-600",children:Z.stats.investigation})]})]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"Analyse"}),(0,wt.jsxs)("div",{className:"space-y-4 text-sm leading-relaxed",children:[(0,wt.jsxs)("p",{children:["Le pr\xe9sent rapport d'activit\xe9 du syst\xe8me FOSIKA couvre la p\xe9riode du ",(0,wt.jsxs)("strong",{children:[" ",Z.periode," "]}),"et pr\xe9sente une analyse exhaustive des signalements re\xe7us concernant les irr\xe9gularit\xe9s dans le secteur de l'enseignement sup\xe9rieur et de la recherche scientifique."]}),(0,wt.jsxs)("p",{children:["Durant cette p\xe9riode,"," ",(0,wt.jsxs)("strong",{children:[Z.stats.total," signalements"]})," ","ont \xe9t\xe9 enregistr\xe9s et trait\xe9s par notre syst\xe8me. La r\xe9partition par statut d\xe9montre l'efficacit\xe9 de notre m\xe9canisme de traitement :"]}),(0,wt.jsxs)("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[Z.stats.en_cours," dossiers"]})," ","sont actuellement en cours d'instruction active"]}),(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[Z.stats.transmis_autorite," dossiers"]})," ","ont \xe9t\xe9 transmis aux autorit\xe9s comp\xe9tentes"]}),(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[Z.stats.classifier," dossiers"]})," ","ont \xe9t\xe9 class\xe9s sans suite"]}),(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[Z.stats.investigation," cas"]})," ","font l'objet d'une investigation approfondie"]})]}),(0,wt.jsx)("p",{children:"Le syst\xe8me FOSIKA continue de d\xe9montrer son utilit\xe9 dans la lutte contre les fraudes acad\xe9miques et les irr\xe9gularit\xe9s dans l'enseignement sup\xe9rieur. Notre plateforme assure un suivi rigoureux de chaque signalement depuis sa r\xe9ception jusqu'\xe0 sa r\xe9solution d\xe9finitive."}),Z.notes&&(0,wt.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mt-4",children:[(0,wt.jsx)("h3",{className:"font-bold text-blue-900 mb-2",children:"Observations particuli\xe8res :"}),(0,wt.jsx)("p",{className:"text-blue-800 whitespace-pre-wrap text-sm",children:Z.notes})]})]})]}),(0,wt.jsxs)("div",{className:"mt-8 pt-6 border-t-2 border-gray-800 text-center text-xs text-gray-600",children:[(0,wt.jsx)("p",{className:"font-bold",children:"\xa9 DAAQ-MESUPRES 2025 - Tous droits r\xe9serv\xe9s"}),(0,wt.jsx)("p",{className:"mt-1",children:"Syst\xe8me FOSIKA - Plateforme de gestion des signalements"}),(0,wt.jsxs)("p",{className:"mt-2",children:["Document g\xe9n\xe9r\xe9 le ",Z.dateGeneration," \xe0"," ",Z.heureGeneration]}),(0,wt.jsx)("p",{className:"mt-1 font-semibold",children:"\xc0 usage officiel - Confidentiel"})]})]}):(0,wt.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[(0,wt.jsx)(Ts,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-gray-500",children:"Le rapport appara\xeetra ici apr\xe8s g\xe9n\xe9ration"}),(0,wt.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:'Configurez les param\xe8tres et cliquez sur "G\xe9n\xe9rer le Rapport"'})]})]})]})]}):(0,wt.jsxs)("div",{className:"p-4",children:[(0,wt.jsx)(Hw,{message:ee.message,type:ee.type,show:ee.show,onClose:()=>te(e=>o(o({},e),{},{show:!1}))}),(0,wt.jsx)(zw,{show:re.show,title:re.title,message:re.message,onConfirm:oe,onCancel:ie,confirmText:"Supprimer",cancelText:"Annuler"}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-base font-semibold",children:"Liste compl\xe8te des signalements"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:"Gestion et suivi des dossiers avec filtres avanc\xe9s."})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsxs)("button",{onClick:()=>B(!0),className:"flex items-center gap-1 px-3 py-1 text-xs rounded-md bg-blue-600 text-white hover:bg-blue-700",children:[(0,wt.jsx)(em,{className:"w-3 h-3"}),"Nouveau signalement"]}),(0,wt.jsxs)("button",{onClick:()=>_(!0),className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Ts,{className:"w-3 h-3"}),"G\xe9n\xe9rer rapport"]}),(0,wt.jsxs)("button",{onClick:()=>{const e=[["ID","R\xc9F\xc9RENCE","DATE","NOM / PR\xc9NOM","CAT\xc9GORIE","STATUT","DESCRIPTION"],...he.map(e=>[e.id,e.reference,ce(e.date),e.nom_prenom,e.categorieLabel||"N/A",de(e.status),e.explication])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),n=URL.createObjectURL(t);r.setAttribute("href",n),r.setAttribute("download","signalements_".concat((new Date).toISOString().split("T")[0],".csv")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),ae("Export CSV r\xe9alis\xe9 avec succ\xe8s","success")},className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Us,{className:"w-3 h-3"}),"Exporter CSV"]})]})]}),(0,wt.jsxs)("div",{className:"mb-6 bg-white rounded-lg border p-4",children:[(0,wt.jsxs)("div",{className:"mb-4",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Analyse D\xe9taill\xe9e par Cat\xe9gories"}),(0,wt.jsx)("p",{className:"text-sm text-gray-600",children:"Visualisation et analyse approfondie des signalements par cat\xe9gorie"})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-2 mb-4",children:[(0,wt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat("tous"===v?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>y("tous"),children:[(0,wt.jsx)(tm,{className:"w-5 h-5 mb-1"}),(0,wt.jsx)("span",{className:"text-xs font-medium",children:"Toutes"})]}),se.map(e=>{const t=Ae(e.id),r=e.icon;return(0,wt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat(v===e.id?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>y(e.id),title:e.name,children:[(0,wt.jsx)(r,{className:"w-5 h-5 mb-1"}),(0,wt.jsx)("span",{className:"text-xs font-medium truncate w-full text-center",children:e.name.split(" ")[0]}),(0,wt.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:t.total})]},e.id)})]}),(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,wt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"tous"===v?"Synth\xe8se - Toutes cat\xe9gories":"Synth\xe8se - ".concat(null===Fe||void 0===Fe?void 0:Fe.name)}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"tous"===v?ue.length:Ee.total}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"Signalements totaux"})]}),(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:"tous"===v?u.filter(e=>"en_cours"===e.status).length:Ee.encours}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"En cours"})]}),(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"tous"===v?u.filter(e=>"classifier"===e.status).length:Ee.resolus}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"R\xe9solus"})]})]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-3",children:[(0,wt.jsx)("div",{className:"md:col-span-2",children:(0,wt.jsx)("input",{type:"text",value:a.search,onChange:e=>be("search",e.target.value),placeholder:"Rechercher par r\xe9f\xe9rence, nom, description...",className:"w-full px-2 py-1 text-xs border rounded-md"})}),(0,wt.jsx)("div",{children:(0,wt.jsx)("input",{type:"date",value:a.dateDebut,onChange:e=>be("dateDebut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date d\xe9but"})}),(0,wt.jsx)("div",{children:(0,wt.jsx)("input",{type:"date",value:a.dateFin,onChange:e=>be("dateFin",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date fin"})}),(0,wt.jsx)("div",{children:(0,wt.jsxs)("select",{value:a.statut,onChange:e=>be("statut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",children:[(0,wt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,wt.jsx)("option",{value:"en_cours",children:"En cours"}),(0,wt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"}),(0,wt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s"})]})})]}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-2 text-xs",children:[(0,wt.jsxs)("button",{onClick:()=>{i({search:"",statut:"",dateDebut:"",dateFin:""}),A(1)},className:"flex items-center gap-1 px-2 py-1 border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Lt,{className:"w-3 h-3"}),"R\xe9initialiser les filtres"]}),(0,wt.jsxs)("div",{className:"text-gray-500",children:[he.length," signalements trouv\xe9s"]})]}),p&&(0,wt.jsxs)("div",{className:"flex items-center gap-2 p-2 mb-2 text-xs text-red-700 bg-red-50 border border-red-200 rounded-md",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4"}),(0,wt.jsxs)("span",{children:["Erreur lors du chargement des donn\xe9es : ",p]})]}),(0,wt.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,wt.jsx)("div",{className:"overflow-x-auto",children:f?(0,wt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Chargement en cours..."}):0===he.length?(0,wt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Aucun signalement trouv\xe9 avec les filtres actuels"}):(0,wt.jsxs)("table",{className:"min-w-full text-xs",children:[(0,wt.jsx)("thead",{className:"bg-gray-50",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>xe("id"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"ID"}),(0,wt.jsx)(Kw,{isSorted:"id"===O.key,isAsc:"asc"===O.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>xe("reference"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"R\xc9F\xc9RENCE"}),(0,wt.jsx)(Kw,{isSorted:"reference"===O.key,isAsc:"asc"===O.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>xe("date"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"DATE"}),(0,wt.jsx)(Kw,{isSorted:"date"===O.key,isAsc:"asc"===O.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"NOM / PR\xc9NOM"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"CAT\xc9GORIE"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"DESCRIPTION"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"STATUT"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"ACTIONS"})]})}),(0,wt.jsx)("tbody",{children:ge.map(e=>(0,wt.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,wt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.id}),(0,wt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.reference}),(0,wt.jsx)("td",{className:"px-2 py-2",children:ce(e.date)}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.nom_prenom}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.categorieLabel}),(0,wt.jsx)("td",{className:"px-2 py-2 max-w-[150px]",children:(0,wt.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2",children:e.shortDescription})}),(0,wt.jsx)("td",{className:"px-2 py-2",children:(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-yellow-100 text-yellow-800":"transmis_autorite"===e.status?"bg-indigo-100 text-indigo-800":"classifier"===e.status?"bg-blue-100 text-blue-800":"investigation"===e.status?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:de(e.status)})}),(0,wt.jsx)("td",{className:"px-2 py-2",children:(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{b((null===x||void 0===x?void 0:x.id)===e.id?null:e),T({general:!0,auteur:!0,description:!0,pieces:!0})})(e),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Voir d\xe9tails",children:(0,wt.jsx)(_s,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>ve(e),className:"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Imprimer",children:(0,wt.jsx)($f,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>ye(e),className:"p-1 text-amber-600 hover:bg-amber-100 rounded transition-colors",title:"Mettre \xe0 jour statut",children:(0,wt.jsx)(Ci,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>we(e),className:"p-1 text-indigo-600 hover:bg-indigo-100 rounded transition-colors",title:"Modifier",children:(0,wt.jsx)(Xf,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>(e=>{r?r(e.reference):ae("Fonction de contact non disponible","warning")})(e),title:"Contacter",className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",children:(0,wt.jsx)(Ms,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>Be(e),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Supprimer",children:(0,wt.jsx)(Zf,{className:"w-3 h-3"})})]})})]},e.id))})]})}),he.length>0&&(0,wt.jsxs)("div",{className:"flex items-center justify-between px-2 py-2 border-t bg-gray-50",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,wt.jsx)("span",{children:"\xc9l\xe9ments par page :"}),(0,wt.jsxs)("select",{value:c,onChange:e=>{d(Number(e.target.value)),A(1)},className:"px-2 py-1 border rounded-md text-xs",children:[(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:30,children:"30"}),(0,wt.jsx)("option",{value:50,children:"50"}),(0,wt.jsx)("option",{value:100,children:"100"})]}),(0,wt.jsxs)("span",{className:"text-gray-500",children:[pe+1,"-",Math.min(me,he.length)," sur"," ",he.length]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>A(e=>Math.max(1,e-1)),disabled:1===l,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(_t,{className:"w-4 h-4"})}),(()=>{const e=[];if(fe<=7)for(let t=1;t<=fe;t++)e.push(t);else{e.push(1);let t=Math.max(2,l-2),r=Math.min(fe-1,l+2);l<=3&&(r=5),l>=fe-2&&(t=fe-5+1),t>2&&e.push("...");for(let n=t;n<=r;n++)e.push(n);r<fe-1&&e.push("..."),e.push(fe)}return e})().map((e,t)=>"..."===e?(0,wt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,wt.jsx)("button",{onClick:()=>A(e),className:"px-2 py-1 text-xs border rounded-md ".concat(l===e?"bg-blue-600 text-white":"bg-white"),children:e},e)),(0,wt.jsx)("button",{onClick:()=>A(e=>Math.min(fe,e+1)),disabled:l===fe||0===fe,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(Is,{className:"w-4 h-4"})})]})]})]}),w&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Nouveau Signalement"}),(0,wt.jsx)("button",{onClick:()=>B(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),H.category)if(H.description)if("identifie"!==H.type||H.name)try{const e=new FormData;e.append("type",H.type),e.append("name",H.name||"Anonyme"),e.append("category",H.category),e.append("description",H.description),e.append("accept_terms",1),e.append("accept_truth",1),H.email&&H.email.trim()&&e.append("email",H.email.trim()),H.phone&&H.phone.trim()&&e.append("phone",H.phone.trim()),H.address&&H.address.trim()&&e.append("address",H.address.trim()),H.files.length>0&&H.files.forEach(t=>{e.append("files[]",t)});const t=await as.post("/reports",e,{headers:{"Content-Type":"multipart/form-data"}});t.data.success&&(z({category:"",description:"",files:[],name:"",email:"",phone:"",address:"",type:"identifie"}),B(!1),await le(),ae("Signalement cr\xe9\xe9 avec succ\xe8s! R\xe9f\xe9rence: ".concat(t.data.reference),"success"))}catch(p){var t;if(422===(null===(t=p.response)||void 0===t?void 0:t.status)){const t=p.response.data.errors||{},r=Object.entries(t).map(e=>{let[t,r]=e;return"\u2022 ".concat(t,": ").concat(Array.isArray(r)?r.join(", "):r)}).join("\n");ae("Erreur de validation:\n\n".concat(r),"error")}else{var r,n;ae("Erreur: ".concat((null===(r=p.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||p.message),"error")}}else ae("Le nom est obligatoire pour un signalement identifi\xe9","error");else ae("La description est obligatoire","error");else ae("Veuillez s\xe9lectionner une cat\xe9gorie","error")},className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de signalement ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsxs)("div",{className:"flex gap-4",children:[(0,wt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,wt.jsx)("input",{type:"radio",name:"type",value:"identifie",checked:"identifie"===H.type,onChange:e=>z(o(o({},H),{},{type:e.target.value})),className:"w-4 h-4"}),(0,wt.jsx)("span",{children:"Je m'identifie"})]}),(0,wt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,wt.jsx)("input",{type:"radio",name:"type",value:"anonyme",checked:"anonyme"===H.type,onChange:e=>z(o(o({},H),{},{type:e.target.value})),className:"w-4 h-4"}),(0,wt.jsx)("span",{children:"Anonyme"})]})]})]}),"identifie"===H.type&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom et Pr\xe9nom ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsx)("input",{type:"text",value:H.name,onChange:e=>z(o(o({},H),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Votre nom complet"})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,wt.jsx)("input",{type:"email",value:H.email,onChange:e=>z(o(o({},H),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"email@exemple.com"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,wt.jsx)("input",{type:"tel",value:H.phone,onChange:e=>z(o(o({},H),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+261 XX XX XXX XX"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),(0,wt.jsx)("input",{type:"text",value:H.address,onChange:e=>z(o(o({},H),{},{address:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ville, r\xe9gion..."})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cat\xe9gorie ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsxs)("select",{value:H.category,onChange:e=>z(o(o({},H),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),se.map(e=>(0,wt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsx)("textarea",{value:H.description,onChange:e=>z(o(o({},H),{},{description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"D\xe9crivez en d\xe9tail la situation...",required:!0})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pi\xe8ces jointes (optionnel)"}),(0,wt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.pdf,.mp4",onChange:e=>{const t=Array.from(e.target.files);z(e=>o(o({},e),{},{files:[...e.files,...t]}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formats: JPG, PNG, PDF, MP4 - Max 8 Mo/fichier"})]}),H.files.length>0&&(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Fichiers ajout\xe9s (",H.files.length,")"]}),H.files.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[(0,wt.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,wt.jsx)("button",{type:"button",onClick:()=>(e=>{z(t=>o(o({},t),{},{files:t.files.filter((t,r)=>r!==e)}))})(t),className:"ml-2 text-red-600 hover:text-red-800",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]},t))]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",disabled:!H.category||!H.description||"identifie"===H.type&&!H.name.trim(),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cr\xe9er le signalement"})]})]})]})}),C&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Mettre \xe0 jour le statut"}),(0,wt.jsx)("button",{onClick:()=>k(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:Ce,className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nouveau statut ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsxs)("select",{value:q.status,onChange:e=>G(t=>o(o({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner un statut"}),(0,wt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,wt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"})]})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-amber-600 text-white rounded-md hover:bg-amber-700",children:"Mettre \xe0 jour le statut"})]})]})]})}),S&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Modifier le signalement"}),(0,wt.jsx)("button",{onClick:()=>F(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:je,className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,wt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Type:"})," ",(0,wt.jsx)("span",{className:"Anonyme"===(null===M||void 0===M?void 0:M.type_signalement)?"text-blue-600":"text-green-600",children:null===M||void 0===M?void 0:M.type_signalement})]}),"Anonyme"===(null===M||void 0===M?void 0:M.type_signalement)&&(0,wt.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"\u26a0\ufe0f Seuls la description et les pi\xe8ces jointes peuvent \xeatre modifi\xe9s pour un signalement anonyme"})]}),"Anonyme"!==(null===M||void 0===M?void 0:M.type_signalement)&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom et Pr\xe9nom"}),(0,wt.jsx)("input",{type:"text",value:W.nom_prenom,onChange:e=>J(o(o({},W),{},{nom_prenom:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"Nom complet",disabled:"Anonyme"===(null===M||void 0===M?void 0:M.type_signalement)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,wt.jsx)("input",{type:"email",value:W.email,onChange:e=>J(o(o({},W),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"email@exemple.com",disabled:"Anonyme"===(null===M||void 0===M?void 0:M.type_signalement)})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,wt.jsx)("input",{type:"text",value:W.telephone,onChange:e=>J(o(o({},W),{},{telephone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"+261 XX XX XXX XX",disabled:"Anonyme"===(null===M||void 0===M?void 0:M.type_signalement)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),(0,wt.jsx)("input",{type:"text",value:W.city,onChange:e=>J(o(o({},W),{},{city:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"Ville",disabled:"Anonyme"===(null===M||void 0===M?void 0:M.type_signalement)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Province"}),(0,wt.jsx)("input",{type:"text",value:W.province,onChange:e=>J(o(o({},W),{},{province:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"Province",disabled:"Anonyme"===(null===M||void 0===M?void 0:M.type_signalement)})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cat\xe9gorie"}),(0,wt.jsxs)("select",{value:W.category,onChange:e=>J(o(o({},W),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",disabled:"Anonyme"===(null===M||void 0===M?void 0:M.type_signalement),children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),se.map(e=>(0,wt.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsx)("textarea",{value:W.description,onChange:e=>J(o(o({},W),{},{description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]}),(null===M||void 0===M?void 0:M.files)&&M.files.length>0&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pi\xe8ces jointes actuelles"}),(0,wt.jsx)("div",{className:"space-y-2",children:M.files.map((e,t)=>{const r="string"===typeof e?e:e.name;return(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[(0,wt.jsx)("span",{className:"text-sm truncate flex-1",children:r}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=M.files.filter((e,r)=>r!==t);D(o(o({},M),{},{files:e})),J(o(o({},W),{},{filesToRemove:[...W.filesToRemove||[],r]}))},className:"ml-2 text-red-600 hover:text-red-800",title:"Supprimer ce fichier",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]},t)})})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajouter de nouvelles pi\xe8ces jointes"}),(0,wt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.pdf,.mp4",onChange:e=>{const t=Array.from(e.target.files);J(o(o({},W),{},{newFiles:t}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formats: JPG, PNG, PDF, MP4 - Max 25 Mo/fichier"})]}),W.newFiles&&W.newFiles.length>0&&(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Nouveaux fichiers \xe0 ajouter (",W.newFiles.length,")"]}),(0,wt.jsx)("div",{className:"space-y-2",children:W.newFiles.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-2 rounded border border-blue-200",children:[(0,wt.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=W.newFiles.filter((e,r)=>r!==t);J(o(o({},W),{},{newFiles:e}))},className:"ml-2 text-red-600 hover:text-red-800",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]},t))})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>F(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Modifier"})]})]})]})})]});var _e};var qw=r(1224),Gw=r.n(qw);const Ww=Et("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Jw=Et("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Yw=Et("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]),Xw=Et("mail-open",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]),Zw=e=>{let{navigationData:r,onCloseNotification:n}=e;const[s,a]=(0,t.useState)([]),[i,l]=(0,t.useState)(!0),[A,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(1),[h]=(0,t.useState)(20),[f,m]=(0,t.useState)("all"),[p,g]=(0,t.useState)("list");(0,t.useEffect)(()=>{x()},[]),(0,t.useEffect)(()=>{r&&("detail"===r.view&&r.notification?(c(r.notification),g("detail")):"list"===r.view&&(c(null),g("list")))},[r]);const x=async()=>{try{const e=await as.get("/notifications");e.data.success&&a(e.data.data||[])}catch(e){console.error("Erreur lors du chargement des notifications:",e)}finally{l(!1)}},b=async e=>{try{(await as.post("/notifications/".concat(e,"/read"),{})).data.success&&(a(t=>t.map(t=>t.id===e?o(o({},t),{},{status:"read"}):t)),(null===A||void 0===A?void 0:A.id)===e&&c(e=>o(o({},e),{},{status:"read"})))}catch(t){console.error("Erreur lors du marquage comme lu:",t)}},v=(e,t)=>{const r=document.createElement("div");r.className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",r.innerHTML='\n      <div class="bg-white rounded-xl shadow-2xl max-w-md w-full p-6 mx-4">\n        <div class="flex items-center gap-4 mb-4">\n          <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0">\n            <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\n            </svg>\n          </div>\n          <div>\n            <h3 class="text-lg font-semibold text-gray-900">Supprimer la notification</h3>\n            <p class="text-gray-600 text-sm mt-1">Cette action est irr\xe9versible</p>\n          </div>\n        </div>\n        <div class="bg-gray-50 rounded-lg p-4 mb-6">\n          <p class="text-gray-700 text-sm">\n            \xcates-vous s\xfbr de vouloir supprimer d\xe9finitivement la notification \n            <strong class="text-gray-900 block mt-1">"'.concat(t,'"</strong> ?\n          </p>\n        </div>\n        <div class="flex gap-3 justify-end">\n          <button id="cancel-btn" class="px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm">\n            Annuler\n          </button>\n          <button id="confirm-btn" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium text-sm">\n            Supprimer\n          </button>\n        </div>\n      </div>\n    ');const n=r.querySelector("#cancel-btn"),s=r.querySelector("#confirm-btn");n.onclick=()=>document.body.removeChild(r),s.onclick=()=>{(async e=>{try{(await as.delete("/notifications/".concat(e))).data.success&&(a(t=>t.filter(t=>t.id!==e)),(null===A||void 0===A?void 0:A.id)===e&&(c(null),g("list")))}catch(t){console.error("Erreur lors de la suppression:",t)}})(e),document.body.removeChild(r)},document.body.appendChild(r)},y=e=>{switch(e){case"nouveau_signalement":return(0,wt.jsx)(Ts,{className:"w-4 h-4 text-blue-600"});case"doublon_detecte":return(0,wt.jsx)(Hi,{className:"w-4 h-4 text-orange-600"});case"signalement_urgent":return(0,wt.jsx)(Ww,{className:"w-4 h-4 text-red-600"});case"statut_modifie":return(0,wt.jsx)(Jw,{className:"w-4 h-4 text-green-600"});default:return(0,wt.jsx)(zi,{className:"w-4 h-4 text-gray-600"})}},w=e=>{switch(e){case"nouveau_signalement":return"Nouveau dossier";case"doublon_detecte":return"Doublon d\xe9tect\xe9";case"signalement_urgent":return"Signalement urgent";case"statut_modifie":return"Statut modifi\xe9";default:return"Notification syst\xe8me"}},B=e=>{if(!e)return"";try{const t=new Date(e),r=new Date-t,n=Math.floor(r/6e4),s=Math.floor(r/36e5),a=Math.floor(r/864e5);return n<1?"\xc0 l'instant":n<60?"Il y a ".concat(n," min"):s<24?"Il y a ".concat(s," h"):1===a?"Hier":a<7?"Il y a ".concat(a," j"):t.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch(QN){return e}},N=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(QN){return e}},j=s.filter(e=>"unread"===f?"active"===e.status:"read"!==f||"read"===e.status),C=Math.ceil(j.length/h),k=d*h,S=k-h,F=j.slice(S,k),E=s.filter(e=>"active"===e.status).length,_=async e=>{try{const t=await as.get("/reports/".concat(e));return t.data.success?t.data.data:null}catch(t){console.error("Erreur lors du chargement des d\xe9tails:",t)}return null},U=()=>{c(null),g("list"),n&&n()};return i?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,wt.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,wt.jsxs)("div",{className:"animate-pulse",children:[(0,wt.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),[...Array(8)].map((e,t)=>(0,wt.jsx)("div",{className:"bg-white rounded-lg p-3 mb-2 border border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),(0,wt.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,wt.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),(0,wt.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},t))]})})}):"detail"===p&&A?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,wt.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wt.jsxs)("button",{onClick:U,className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[(0,wt.jsx)(_t,{className:"w-4 h-4"}),"Retour aux notifications"]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:["active"===A.status&&(0,wt.jsxs)("button",{onClick:()=>b(A.id),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-1",children:[(0,wt.jsx)(Qs,{className:"w-3 h-3"}),"Marquer comme lu"]}),(0,wt.jsxs)("button",{onClick:()=>v(A.id,A.titre),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm flex items-center gap-1",children:[(0,wt.jsx)(Zf,{className:"w-3 h-3"}),"Supprimer"]})]})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,wt.jsx)("div",{className:"border-b border-gray-200 p-4",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:y(A.type)}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:A.titre}),(0,wt.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[(0,wt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,wt.jsx)(zi,{className:"w-3 h-3"}),w(A.type)]}),(0,wt.jsx)("span",{children:"\u2022"}),(0,wt.jsx)("span",{children:N(A.created_at||A.timestamp)})]})]})]})}),(0,wt.jsxs)("div",{className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Message"}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded border p-3",children:(0,wt.jsx)("p",{className:"text-gray-900 text-sm leading-relaxed whitespace-pre-wrap",children:A.message})})]}),"doublon_detecte"===A.type&&(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-1",children:[(0,wt.jsx)(Hi,{className:"w-4 h-4 text-orange-600"}),"Analyse du doublon"]}),(0,wt.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded p-3",children:(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsx)("p",{className:"text-orange-800 text-sm font-medium",children:"Ce signalement a \xe9t\xe9 identifi\xe9 comme un doublon pour les raisons suivantes :"}),null!==(Q=A.metadata)&&void 0!==Q&&Q.raisons_doublon?(0,wt.jsx)("ul",{className:"list-disc list-inside space-y-1 text-orange-800 text-sm",children:A.metadata.raisons_doublon.map((e,t)=>(0,wt.jsx)("li",{children:e},t))}):(0,wt.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-orange-800 text-sm",children:[(0,wt.jsx)("li",{children:"Informations du plaignant identiques ou tr\xe8s similaires"}),(0,wt.jsx)("li",{children:"Description des faits correspondante \xe0 un signalement pr\xe9c\xe9dent"}),(0,wt.jsx)("li",{children:"Localisation et p\xe9riode temporelle identiques"})]})]})})]}),A.signalementDetails&&(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-1",children:[(0,wt.jsx)(Ts,{className:"w-4 h-4 text-blue-600"}),"D\xe9tails du dossier"]}),(0,wt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"PLAIGNANT:"}),(0,wt.jsx)("p",{className:"text-gray-900",children:A.signalementDetails.isAnonymous?"Anonyme":A.signalementDetails.name||"Non sp\xe9cifi\xe9"})]}),A.signalementDetails.email&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"EMAIL:"}),(0,wt.jsx)("p",{className:"text-gray-900",children:A.signalementDetails.email})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"LOCALISATION:"}),(0,wt.jsxs)("p",{className:"text-gray-900",children:[A.signalementDetails.region||"Non sp\xe9cifi\xe9",A.signalementDetails.city&&", ".concat(A.signalementDetails.city)]})]})]}),(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"CAT\xc9GORIE:"}),(0,wt.jsx)("p",{className:"text-gray-900 capitalize",children:(null===(L=A.signalementDetails.category)||void 0===L?void 0:L.replace(/-/g," "))||"Non sp\xe9cifi\xe9"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"R\xc9F\xc9RENCE:"}),(0,wt.jsx)("p",{className:"text-gray-900 font-mono text-blue-600",children:A.signalementDetails.reference})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"DATE DE SOUMISSION:"}),(0,wt.jsx)("p",{className:"text-gray-900",children:new Date(A.signalementDetails.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),A.signalementDetails.description&&(0,wt.jsxs)("div",{className:"mt-3",children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"DESCRIPTION:"}),(0,wt.jsx)("div",{className:"bg-white rounded border p-2 mt-1",children:(0,wt.jsx)("p",{className:"text-gray-900 text-sm leading-relaxed",children:A.signalementDetails.description})})]}),A.signalementDetails.files&&A.signalementDetails.files.length>0&&(0,wt.jsxs)("div",{className:"mt-3",children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"PREUVES (PI\xc8CES JOINTES):"}),(0,wt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-1",children:A.signalementDetails.files.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white rounded border hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{return t=e.url,void window.open(t,"_blank");var t},children:[(0,wt.jsx)(Yw,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm text-gray-900 truncate",children:e.name}),(0,wt.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024/1024).toFixed(2)," MB"]})]}),(0,wt.jsx)(_s,{className:"w-4 h-4 text-gray-400 hover:text-blue-600 transition-colors"})]},t))})]}),(!A.signalementDetails.files||0===A.signalementDetails.files.length)&&A.signalementDetails.filesCount>0&&(0,wt.jsxs)("div",{className:"mt-3",children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"PREUVES:"}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white rounded border mt-1",children:[(0,wt.jsx)(Us,{className:"w-4 h-4 text-blue-600"}),(0,wt.jsxs)("span",{className:"text-sm text-gray-700",children:[A.signalementDetails.filesCount," ","fichier(s) attach\xe9(s)"]})]})]})]})]}),A.reference_dossier&&!A.signalementDetails&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"R\xe9f\xe9rence"}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded border p-3",children:(0,wt.jsx)("p",{className:"font-mono text-blue-600 text-sm font-medium",children:A.reference_dossier})})]})]})]})]})}):(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,wt.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Notifications"}),(0,wt.jsxs)("p",{className:"text-gray-600 text-xs mt-1",children:[s.length," notification(s) \u2022 ",E," non lu(s)"]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("button",{onClick:x,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"Actualiser",children:(0,wt.jsx)(Jw,{className:"w-4 h-4"})}),E>0&&(0,wt.jsxs)("button",{onClick:async()=>{try{(await as.post("/notifications/read-all",{})).data.success&&a(e=>e.map(e=>o(o({},e),{},{status:"read"})))}catch(e){console.error("Erreur lors du marquage de tout comme lu:",e)}},className:"px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded hover:bg-blue-700 transition-colors flex items-center gap-1",children:[(0,wt.jsx)(Qs,{className:"w-3 h-3"}),"Tout marquer comme lu"]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 mt-4 border-b border-gray-200 -mb-px",children:[(0,wt.jsx)("button",{onClick:()=>{m("all"),u(1)},className:"pb-2 px-1 text-xs font-medium border-b-2 transition-colors ".concat("all"===f?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,wt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,wt.jsx)(zi,{className:"w-3 h-3"}),"Toutes"]})}),(0,wt.jsx)("button",{onClick:()=>{m("unread"),u(1)},className:"pb-2 px-1 text-xs font-medium border-b-2 transition-colors ".concat("unread"===f?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,wt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,wt.jsx)(Fs,{className:"w-3 h-3"}),"Non lues",E>0&&(0,wt.jsx)("span",{className:"bg-blue-100 text-blue-600 text-xs px-1.5 py-0.5 rounded-full",children:E})]})}),(0,wt.jsx)("button",{onClick:()=>{m("read"),u(1)},className:"pb-2 px-1 text-xs font-medium border-b-2 transition-colors ".concat("read"===f?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,wt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,wt.jsx)(Xw,{className:"w-3 h-3"}),"Lues"]})})]})]}),(0,wt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:0===F.length?(0,wt.jsxs)("div",{className:"text-center py-8",children:[(0,wt.jsx)(zi,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,wt.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"all"===f?"Aucune notification":"unread"===f?"Aucune notification non lue":"Aucune notification lue"}),(0,wt.jsx)("p",{className:"text-gray-600 text-xs",children:"all"===f?"Vos notifications appara\xeetront ici.":"Aucune notification ne correspond au filtre s\xe9lectionn\xe9."})]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"divide-y divide-gray-100",children:F.map(e=>(0,wt.jsxs)("div",{className:"flex items-start p-3 hover:bg-gray-50 cursor-pointer transition-colors ".concat("active"===e.status?"bg-blue-50 border-l-4 border-l-blue-500":""),onClick:()=>(async e=>{"active"===e.status&&await b(e.id);let t=null;e.reference_dossier&&(t=await _(e.reference_dossier)),c(o(o({},e),{},{signalementDetails:t})),g("detail")})(e),children:[(0,wt.jsx)("div",{className:"flex-shrink-0 mr-3",children:(0,wt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:y(e.type)})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-xs ".concat("active"===e.status?"text-gray-900":"text-gray-600"),children:w(e.type)}),"active"===e.status&&(0,wt.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"})]}),(0,wt.jsx)("div",{className:"text-xs text-gray-500",children:B(e.created_at||e.timestamp)})]}),(0,wt.jsx)("h3",{className:"font-semibold text-gray-900 text-xs mb-1 ".concat("active"===e.status?"":"text-gray-600"),children:e.titre}),(0,wt.jsx)("p",{className:"text-gray-600 text-xs mb-1 leading-relaxed line-clamp-2",children:e.message}),e.reference_dossier&&(0,wt.jsx)("div",{className:"flex items-center gap-1 text-xs",children:(0,wt.jsxs)("span",{className:"font-mono bg-gray-100 px-1.5 py-0.5 rounded text-gray-600 border text-xs",children:["R\xe9f: ",e.reference_dossier]})})]})]},e.id))}),C>1&&(0,wt.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"text-xs text-gray-500",children:[S+1,"-",Math.min(k,j.length)," ","sur ",j.length]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===d,className:"p-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,wt.jsx)(_t,{className:"w-3 h-3"})}),(0,wt.jsxs)("span",{className:"text-xs text-gray-600 mx-2",children:[d," / ",C]}),(0,wt.jsx)("button",{onClick:()=>u(e=>Math.min(C,e+1)),disabled:d===C,className:"p-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,wt.jsx)(Is,{className:"w-3 h-3"})})]})]})})]})})]})});var Q,L},$w=Et("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),eB=e=>{let{status:t}=e;return(0,wt.jsxs)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium border flex items-center gap-1 w-fit ".concat((()=>{const e=(t||"").toLowerCase();return e.includes("succ\xe8s")||e.includes("success")||"200"===e?"bg-green-100 text-green-700 border-green-200":e.includes("\xe9chec")||e.includes("fail")||e.includes("refus\xe9")||e.includes("40")?"bg-red-100 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"})()),children:[(t||"").toLowerCase().includes("succ\xe8s")?(0,wt.jsx)(ys,{size:12}):(0,wt.jsx)(Ut,{size:12}),t||"Inconnu"]})},tB=e=>{let{action:t}=e;return(0,wt.jsx)("span",{className:"px-2 py-1 rounded-md bg-gray-100 text-gray-600 text-xs font-semibold border border-gray-200",children:t||"Action"})},rB=e=>{let{name:t,email:r}=e;const n=(t||r||"Syst\xe8me").split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase();return(0,wt.jsx)("div",{className:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold border border-indigo-200",children:n})},nB=e=>{let{title:t,value:r,icon:n,color:s="blue",loading:a=!1}=e;const i={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",red:"bg-red-100 text-red-600",purple:"bg-purple-100 text-purple-600"};return(0,wt.jsx)("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:t}),a?(0,wt.jsx)("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse"}):(0,wt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.toLocaleString()})]}),(0,wt.jsx)("div",{className:"p-2 rounded-lg ".concat(i[s]||i.blue),children:(0,wt.jsx)(n,{className:"w-5 h-5"})})]})})},sB=()=>{const[e,r]=(0,t.useState)({user:"",action:"",status:"",auditDateStart:"",auditDateEnd:""}),[n,s]=(0,t.useState)({audit_log:[]}),[a,i]=(0,t.useState)(!0),[l,A]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[f,m]=(0,t.useState)({total:0,today:0,success:0,errors:0,topUsers:[],topActions:[]}),[p,g]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[v,y]=(0,t.useState)(!1);(0,t.useEffect)(()=>{w(),j()},[]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{a||B()},500);return()=>clearTimeout(e)},[e]);const w=async()=>{try{await Promise.all([B(),N()])}catch(e){console.error("Erreur lors du chargement des donn\xe9es :",e)}},B=async()=>{try{var t;d(null);const r=await as.get("/audit/logs",{params:{user:e.user||void 0,action:e.action||void 0,status:e.status||void 0,auditDateStart:e.auditDateStart||void 0,auditDateEnd:e.auditDateEnd||void 0}});if(null!==(t=r.data)&&void 0!==t&&t.success){r.data.data?s({audit_log:r.data.data}):r.data.audit_log&&s({audit_log:r.data.audit_log});const e=r.data.data||r.data.audit_log||[];C(e),r.data.user_email&&b({email:r.data.user_email,role:r.data.user_role}),g(new Date)}else d("Impossible de charger les logs.")}catch(r){console.error("Erreur data audit:",r),r.response&&404===r.response.status?d("Route API introuvable /audit/logs."):d("Impossible de charger les logs.")}finally{i(!1)}},N=async()=>{try{var e;A(!0);const t=await as.get("/audit/stats");if(null!==(e=t.data)&&void 0!==e&&e.success){const e=t.data.data||{};m(t=>o(o({},t),{},{total:e.total_actions||0,today:e.today_actions||0,success:e.success_actions||0,errors:e.failed_actions||0,topUsers:e.top_users||[],topActions:e.top_actions||[]})),t.data.user_email&&b({email:t.data.user_email,role:t.data.user_role}),g(new Date)}}catch(t){console.error("Erreur stats audit:",t)}finally{A(!1)}},j=async()=>{try{y(!0);const a=Ni.getUser();if(a)return void b({email:a.email,role:a.role});try{var e,t;const r=await as.get("/auth/check-auth",{withCredentials:!0,validateStatus:e=>e<500});if(200===r.status&&null!==(e=r.data)&&void 0!==e&&e.authenticated){const e=r.data.user||r.data;b({email:e.email,role:e.role})}else 401===r.status||419===r.status||!1===(null===(t=r.data)||void 0===t?void 0:t.authenticated)?console.log("Utilisateur non authentifi\xe9 (check-auth) - route prot\xe9g\xe9e"):console.warn("R\xe9ponse inattendue de /auth/check-auth :",r.status,r.data)}catch(s){var r,n;401!==(null===(r=s.response)||void 0===r?void 0:r.status)&&419!==(null===(n=s.response)||void 0===n?void 0:n.status)&&console.warn("Erreur lors de la v\xe9rification utilisateur via /auth/check-auth :",s.message)}}catch(a){console.log("Impossible de v\xe9rifier l'utilisateur :",a.message)}},C=e=>{if(!e||0===e.length)return;const t=(new Date).toISOString().split("T")[0],r={totalFiltered:e.length,todayFiltered:e.filter(e=>new Date(e.timestamp).toISOString().split("T")[0]===t).length,successFiltered:e.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("succ\xe8s")||t.includes("success")}).length,errorsFiltered:e.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("\xe9chec")||t.includes("fail")||t.includes("refus\xe9")}).length};m(e=>o(o({},e),r))},k=(e,t)=>{r(r=>o(o({},r),{},{[e]:t}))},S=()=>{r({user:"",action:"",status:"",auditDateStart:"",auditDateEnd:""})},F=(n.audit_log||[]).filter(t=>{const r=(t.utilisateur||"").toLowerCase(),n=(t.action||"").toLowerCase(),s=(t.statut||"").toLowerCase(),a=!e.user||r.includes(e.user.toLowerCase()),i=!e.action||n.includes(e.action.toLowerCase())||n===e.action.toLowerCase(),o=!e.status||s.includes(e.status.toLowerCase());let l=!0;if(e.auditDateStart||e.auditDateEnd){const r=new Date(t.timestamp).toISOString().split("T")[0];e.auditDateStart&&(l=l&&r>=e.auditDateStart),e.auditDateEnd&&(l=l&&r<=e.auditDateEnd)}return a&&i&&o&&l}),E={total:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?F.length:f.total,today:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?F.filter(e=>{const t=(new Date).toISOString().split("T")[0];return new Date(e.timestamp).toISOString().split("T")[0]===t}).length:f.today,success:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?F.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("succ\xe8s")||t.includes("success")}).length:f.success,errors:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?F.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("\xe9chec")||t.includes("fail")||t.includes("refus\xe9")}).length:f.errors},_=e=>{if(!e)return"";if(e.length<=20)return e;const[t,r]=e.split("@"),n=t.length>10?"".concat(t.substring(0,8),".."):t;return"".concat(n,"@").concat(r)};return a&&0===(n.audit_log||[]).length?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 p-8 flex justify-center items-start",children:(0,wt.jsxs)("div",{className:"flex items-center gap-3 text-gray-500 animate-pulse mt-10",children:[(0,wt.jsx)(Jw,{className:"animate-spin"}),(0,wt.jsx)("span",{children:"Chargement du journal d'audit..."})]})}):(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 font-sans text-slate-800 relative",children:(0,wt.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[c&&(0,wt.jsxs)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200 flex items-center gap-2",children:[(0,wt.jsx)(Ut,{size:20}),(0,wt.jsx)("span",{children:c}),(0,wt.jsx)("button",{onClick:w,className:"ml-auto text-sm underline hover:text-red-800",children:"R\xe9essayer"})]}),(0,wt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,wt.jsx)(Ww,{className:"text-blue-600"}),(0,wt.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded-full border border-amber-200",children:"Acc\xe8s restreint"}),(null===x||void 0===x?void 0:x.email)&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full border border-blue-200 flex items-center gap-1",children:[(0,wt.jsx)(Cs,{size:12}),(0,wt.jsx)("span",{title:x.email,children:_(x.email)}),x.role&&(0,wt.jsx)("span",{className:"ml-1",children:x.role})]})]}),(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Journal d'Audit"}),(0,wt.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Surveillance et tra\xe7abilit\xe9 des actions syst\xe8me"}),p&&(0,wt.jsxs)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded mt-2 inline-block",children:["Derni\xe8re mise \xe0 jour: ",(U=p,new Date(U).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}))]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsxs)("div",{className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm font-medium border border-blue-100",children:[E.total.toLocaleString()," \xe9v\xe8nements"]}),(0,wt.jsxs)("button",{onClick:w,className:"flex items-center gap-2 bg-white hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-lg transition-all text-sm font-medium border border-gray-300 shadow-sm",title:"Actualiser les donn\xe9es",children:[(0,wt.jsx)(Jw,{size:16}),"Actualiser"]}),(0,wt.jsxs)("button",{onClick:async()=>{try{var t,r;const a=await as.post("/audit/logs/export",o({type:"systeme"},e));if(null!==(t=a.data)&&void 0!==t&&t.success&&a.data.download_url)window.open(a.data.download_url,"_blank");else if(null!==(r=a.data)&&void 0!==r&&r.success){var n;alert("Export r\xe9ussi ! ".concat((null===(n=a.data.data)||void 0===n?void 0:n.count)||0," lignes pr\xe9par\xe9es."))}else{var s;alert("Erreur export: ".concat((null===(s=a.data)||void 0===s?void 0:s.message)||"Erreur inconnue"))}}catch(a){console.error("Erreur export:",a),alert("Erreur technique lors de l'export.")}},className:"flex items-center gap-2 bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 rounded-lg transition-all text-sm font-medium shadow-md hover:shadow-lg",title:"Exporter en CSV",children:[(0,wt.jsx)(Us,{size:16}),"Exporter CSV"]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,wt.jsx)(nB,{title:"Total Actions",value:E.total,icon:$w,color:"purple",loading:l}),(0,wt.jsx)(nB,{title:"Aujourd'hui",value:E.today,icon:ks,color:"green",loading:l}),(0,wt.jsx)(nB,{title:"Succ\xe8s",value:E.success,icon:ys,color:"green",loading:l}),(0,wt.jsx)(nB,{title:"\xc9checs",value:E.errors,icon:Ut,color:"red",loading:l})]}),(e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd)&&(0,wt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Ci,{className:"text-blue-600",size:16}),(0,wt.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Filtres actifs"})]}),(0,wt.jsx)("button",{onClick:S,className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Tout effacer"})]}),(0,wt.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.user&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Utilisateur : ",e.user]}),e.action&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Action : ",e.action]}),e.status&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Statut : ",e.status]}),e.auditDateStart&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Depuis : ",e.auditDateStart]}),e.auditDateEnd&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Jusqu'\xe0 : ",e.auditDateEnd]})]}),(0,wt.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["Affichage de ",F.length," \xe9v\xe8nements sur"," ",f.total," au total"]})]}),(0,wt.jsxs)("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[(0,wt.jsx)(Ci,{size:16}),"Filtres avanc\xe9s"]}),(0,wt.jsx)("button",{onClick:S,className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"R\xe9initialiser"})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Ns,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),(0,wt.jsx)("input",{type:"text",value:e.user,onChange:e=>k("user",e.target.value),placeholder:"Rechercher un utilisateur...",className:"w-full pl-9 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),(0,wt.jsxs)("select",{value:e.action,onChange:e=>k("action",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,wt.jsx)("option",{value:"",children:"Toutes les actions"}),(0,wt.jsx)("option",{value:"Connexion",children:"Connexion"}),(0,wt.jsx)("option",{value:"Cr\xe9ation",children:"Cr\xe9ation"}),(0,wt.jsx)("option",{value:"Modification",children:"Modification"}),(0,wt.jsx)("option",{value:"Suppression",children:"Suppression"}),(0,wt.jsx)("option",{value:"Export",children:"Export"}),(0,wt.jsx)("option",{value:"Consultation",children:"Consultation"}),(0,wt.jsx)("option",{value:"Tentative d'acc\xe8s",children:"Tentative d'acc\xe8s"})]}),(0,wt.jsxs)("select",{value:e.status,onChange:e=>k("status",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,wt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,wt.jsx)("option",{value:"Succ\xe8s",children:"Succ\xe8s"}),(0,wt.jsx)("option",{value:"\xc9chec",children:"\xc9chec"}),(0,wt.jsx)("option",{value:"Refus\xe9",children:"Refus\xe9"})]}),(0,wt.jsx)("input",{type:"date",value:e.auditDateStart,onChange:e=>k("auditDateStart",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:ring-2 focus:ring-blue-500 outline-none"}),(0,wt.jsx)("input",{type:"date",value:e.auditDateEnd,onChange:e=>k("auditDateEnd",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),(0,wt.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:0===F.length?(0,wt.jsxs)("div",{className:"p-12 text-center text-gray-400 flex flex-col items-center",children:[(0,wt.jsx)("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:(0,wt.jsx)(Ns,{size:24})}),(0,wt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Aucun r\xe9sultat"}),(0,wt.jsx)("p",{className:"text-sm",children:"Modifiez vos filtres ou v\xe9rifiez la connexion API."}),(0,wt.jsx)("button",{onClick:S,className:"mt-4 text-blue-600 hover:text-blue-800 text-sm font-medium",children:"R\xe9initialiser les filtres"})]}):(0,wt.jsx)("div",{className:"overflow-x-auto",children:(0,wt.jsxs)("table",{className:"w-full whitespace-nowrap text-left text-sm",children:[(0,wt.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-500",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Utilisateur"}),(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Action"}),(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Entit\xe9 Cibl\xe9e"}),(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Statut"}),(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Date"}),(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold text-right",children:"D\xe9tails"})]})}),(0,wt.jsx)("tbody",{className:"divide-y divide-gray-100",children:F.map(e=>(0,wt.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[(0,wt.jsx)("td",{className:"px-6 py-4",children:(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)(rB,{name:e.utilisateur,email:e.utilisateur}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("div",{className:"font-medium text-gray-900",children:e.utilisateur||"Syst\xe8me"}),(0,wt.jsx)("div",{className:"text-xs text-gray-400 font-mono",children:e.ip||"N/A"})]})]})}),(0,wt.jsx)("td",{className:"px-6 py-4",children:(0,wt.jsx)(tB,{action:e.action})}),(0,wt.jsx)("td",{className:"px-6 py-4 text-gray-600 font-medium",children:e.entite||"-"}),(0,wt.jsx)("td",{className:"px-6 py-4",children:(0,wt.jsx)(eB,{status:e.statut})}),(0,wt.jsx)("td",{className:"px-6 py-4 text-gray-500",children:(0,wt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,wt.jsx)(ks,{size:14,className:"text-gray-400"}),(0,wt.jsx)("span",{children:new Date(e.timestamp).toLocaleDateString("fr-FR")}),(0,wt.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:new Date(e.timestamp).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})}),(0,wt.jsx)("td",{className:"px-6 py-4 text-right",children:(0,wt.jsx)("button",{onClick:()=>h(e),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir les d\xe9tails",children:(0,wt.jsx)(_s,{size:18})})})]},e.id))})]})})}),u&&(0,wt.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end isolate",children:[(0,wt.jsx)("div",{className:"fixed inset-0 bg-gray-900/20 backdrop-blur-[1px] transition-opacity",onClick:()=>h(null)}),(0,wt.jsxs)("div",{className:"relative w-full max-w-lg bg-white shadow-2xl h-full flex flex-col animate-in slide-in-from-right duration-300 border-l border-gray-200",children:[(0,wt.jsxs)("div",{className:"px-6 py-5 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"D\xe9tails de l'\xe9v\xe8nement"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5 font-mono",children:["ID: ",u.id]})]}),(0,wt.jsx)("button",{onClick:()=>h(null),className:"p-2 hover:bg-gray-200 rounded-full text-gray-500 transition-colors",children:(0,wt.jsx)(Lt,{size:20})})]}),(0,wt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,wt.jsx)("span",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Utilisateur"}),(0,wt.jsxs)("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,wt.jsx)(rB,{name:u.utilisateur,email:u.utilisateur}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("div",{children:u.utilisateur||"Inconnu"}),(0,wt.jsx)("div",{className:"text-xs text-gray-500",children:u.ip||"IP : N/A"})]})]})]}),(0,wt.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,wt.jsx)("span",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Date & Heure"}),(0,wt.jsxs)("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,wt.jsx)(ws,{size:16,className:"text-gray-400"}),(0,wt.jsx)("div",{children:new Date(u.timestamp).toLocaleString("fr-FR")})]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,wt.jsx)("span",{className:"text-xs text-gray-500",children:"Adresse IP"}),(0,wt.jsx)("div",{className:"font-mono text-sm mt-1",children:u.ip||"N/A"})]}),(0,wt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,wt.jsx)("span",{className:"text-xs text-gray-500",children:"R\xe9sultat"}),(0,wt.jsx)("div",{className:"mt-1",children:(0,wt.jsx)(eB,{status:u.statut})})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,wt.jsx)("span",{className:"text-xs text-gray-500",children:"Action"}),(0,wt.jsx)("div",{className:"mt-1",children:(0,wt.jsx)(tB,{action:u.action})})]}),(0,wt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,wt.jsx)("span",{className:"text-xs text-gray-500",children:"Entit\xe9 concern\xe9e"}),(0,wt.jsx)("div",{className:"mt-1 text-sm text-gray-800",children:u.entite||"-"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h3",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-1 h-4 bg-blue-600 rounded-full"}),"Donn\xe9es Techniques / Changements"]}),(0,wt.jsx)("div",{className:"bg-gray-900 rounded-xl p-4 overflow-hidden shadow-inner border border-gray-800",children:(e=>{try{if(!e)return(0,wt.jsx)("span",{className:"text-gray-500 italic",children:"Aucun d\xe9tail technique."});const t="string"===typeof e&&(e.trim().startsWith("{")||e.trim().startsWith("["))?JSON.parse(e):e;return"object"===typeof t?(0,wt.jsx)("pre",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap break-all",children:JSON.stringify(t,null,2)}):(0,wt.jsx)("p",{className:"text-gray-300 font-mono text-sm whitespace-pre-wrap",children:e})}catch(QN){return(0,wt.jsx)("p",{className:"text-gray-300 font-mono text-sm whitespace-pre-wrap",children:e})}})(u.details)})]})]}),(0,wt.jsxs)("div",{className:"p-4 border-t border-gray-100 bg-gray-50 text-center text-xs text-gray-400",children:["Enregistrement syst\xe8me s\xe9curis\xe9 - lecture seule. Acc\xe8s restreint"," ",(null===x||void 0===x?void 0:x.email)&&"- Vous \xeates ".concat(_(x.email))]})]})]})]})});var U},aB=Et("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),iB=Et("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),oB=Et("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),lB=Et("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),AB=Et("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),cB=Et("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),dB=Et("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),uB=Et("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),hB=e=>{let{message:r,type:n="success",onClose:s}=e;const[a,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=setTimeout(()=>{i(!1),setTimeout(()=>s(),500)},5e3);return()=>clearTimeout(e)},[s]);const o="success"===n?"bg-emerald-50":"bg-rose-50",l="success"===n?"text-emerald-700":"text-rose-700";return(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-50 transition-all duration-500 transform ".concat(a?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,wt.jsxs)("div",{className:"".concat(o," border-l-4 ").concat("success"===n?"border-emerald-500":"border-rose-500"," rounded shadow-2xl p-4 w-80 flex items-start"),children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:"success"===n?(0,wt.jsx)(ys,{className:"h-6 w-6 text-emerald-500"}):(0,wt.jsx)(Hi,{className:"h-6 w-6 text-rose-500"})}),(0,wt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,wt.jsx)("p",{className:"text-sm font-bold ".concat(l," leading-5"),children:"success"===n?"Succ\xe8s":"Erreur"}),(0,wt.jsx)("p",{className:"mt-1 text-sm leading-5 text-slate-700",children:r})]}),(0,wt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,wt.jsx)("button",{onClick:()=>{i(!1),setTimeout(()=>s(),500)},className:"inline-flex text-slate-400 hover:text-slate-600 focus:outline-none transition ease-in-out duration-150",children:(0,wt.jsx)(Lt,{className:"h-5 w-5"})})})]})})},fB=e=>{let{label:r,type:n="text",name:s,value:a,onChange:i,placeholder:o,required:l=!1,disabled:A=!1,icon:c,error:d,showPasswordToggle:u=!1}=e;const[h,f]=(0,t.useState)(!1);return(0,wt.jsxs)("div",{className:"group",children:[(0,wt.jsxs)("label",{className:"block text-xs font-medium text-slate-700 mb-1.5 ml-1 transition-colors group-focus-within:text-blue-600",children:[r," ",l&&(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[c&&(0,wt.jsx)(c,{className:"w-4 h-4 text-slate-400 absolute left-3 top-2.5 transition-colors group-focus-within:text-blue-500"}),(0,wt.jsx)("input",{type:u&&h?"text":n,name:s,value:a,onChange:i,required:l,disabled:A,placeholder:o,className:"w-full ".concat(c?"pl-9":"px-3"," ").concat(u?"pr-10":"pr-3"," py-2 bg-slate-50 border ").concat(d?"border-rose-300":"border-slate-200"," rounded-lg text-sm text-slate-800 placeholder-slate-400 transition-all duration-200 outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 disabled:opacity-80 disabled:bg-slate-100 disabled:text-slate-600 disabled:cursor-not-allowed")}),u&&(0,wt.jsx)("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-2.5 text-slate-400 hover:text-slate-600",children:h?(0,wt.jsx)(aB,{className:"w-4 h-4"}):(0,wt.jsx)(_s,{className:"w-4 h-4"})}),d&&(0,wt.jsx)("div",{className:"text-rose-500 text-xs mt-1 ml-1",children:d})]})]})},mB=e=>{let{isValid:t,text:r}=e,n="text-slate-400",s=null;return!0===t?(n="text-emerald-600",s=Qs):!1===t&&(n="text-rose-600",s=Lt),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs ".concat(n," transition-colors"),children:[s?(0,wt.jsx)(s,{className:"w-3.5 h-3.5 flex-shrink-0"}):(0,wt.jsx)("div",{className:"w-3.5 h-3.5 rounded-full border-2 border-current flex-shrink-0"}),(0,wt.jsx)("span",{children:r})]})},pB=e=>{let{isOpen:r,onClose:n,onSubmit:s,isLoading:a,email:i}=e;const[o,l]=(0,t.useState)(""),A=t.useRef(null);(0,t.useEffect)(()=>{r&&(l(""),setTimeout(()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.focus()},100))},[r]),(0,t.useEffect)(()=>{6!==o.length||a||s(o)},[o]);return r?(0,wt.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-[#0c2844]/80 backdrop-blur-sm transition-all duration-300 px-4",children:(0,wt.jsxs)("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative transform transition-all scale-100 border border-slate-200",children:[(0,wt.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-50 rounded-full transition-colors z-20",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})}),(0,wt.jsxs)("div",{className:"bg-slate-50/80 border-b border-slate-100 p-8 text-center relative",children:[(0,wt.jsx)("div",{className:"mx-auto w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-100 mb-4 transform rotate-3 hover:rotate-0 transition-all duration-500 group",children:(0,wt.jsx)(Ww,{className:"w-8 h-8 text-[#0c2844] group-hover:scale-110 transition-transform"})}),(0,wt.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Confirmation S\xe9curis\xe9e"}),(0,wt.jsxs)("p",{className:"text-slate-500 text-sm mt-2",children:["Veuillez saisir le code \xe0 6 chiffres envoy\xe9 \xe0 ",(0,wt.jsx)("br",{}),(0,wt.jsx)("span",{className:"font-semibold text-[#0c2844]",children:i})]})]}),(0,wt.jsxs)("div",{className:"p-8",children:[(0,wt.jsxs)("div",{className:"relative mb-8 group",onClick:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.focus()},children:[(0,wt.jsx)("input",{ref:A,type:"text",value:o,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);l(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",autoComplete:"one-time-code",inputMode:"numeric",maxLength:6,disabled:a,autoFocus:!0}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-2 relative z-10 pointer-events-none",children:[...Array(6)].map((e,t)=>(0,wt.jsx)("div",{className:"\n                                        w-10 h-14 sm:w-12 sm:h-16 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-all duration-200 font-mono\n                                        ".concat(o[t]?"border-[#0c2844] bg-slate-50 text-[#0c2844] scale-105 shadow-sm":"border-slate-200 bg-white text-slate-300","\n                                        ").concat(t===o.length?"border-[#4c7026] ring-4 ring-[#4c7026]/10 z-10 scale-110 bg-white":"","\n                                    "),children:o[t]||(0,wt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t===o.length?"bg-[#4c7026] animate-pulse":"bg-slate-200")})},t))})]}),(0,wt.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>s(o),disabled:a||o.length<6,className:"w-full bg-[#0c2844] hover:bg-[#09407e] text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-blue-900/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-2 group",children:a?(0,wt.jsx)(iB,{className:"w-5 h-5 animate-spin text-white/70"}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("span",{children:"Confirmer"}),(0,wt.jsx)(ys,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})]})}),(0,wt.jsx)("button",{type:"button",onClick:n,className:"w-full py-3.5 text-slate-500 hover:text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:"Annuler"})]}),(0,wt.jsx)("div",{className:"mt-6 text-center",children:(0,wt.jsxs)("p",{className:"text-slate-300 text-[10px] flex items-center justify-center gap-1",children:[(0,wt.jsx)(oB,{className:"w-3 h-3"}),"Connexion chiffr\xe9e"]})})]})]})}):null},gB=e=>{let{isOpen:r,onClose:n,onSubmit:s,isLoading:a,email:i,onResendCode:o}=e;const[l,A]=(0,t.useState)(""),[c,d]=(0,t.useState)(900),[u,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(0),[x,b]=(0,t.useState)(0),v=t.useRef(null);(0,t.useEffect)(()=>{r&&(A(""),d(900),m(!1),setTimeout(()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.focus()},100))},[r]),(0,t.useEffect)(()=>{if(!r||c<=0)return;const e=setInterval(()=>d(e=>e-1),1e3);return()=>clearInterval(e)},[r,c]),(0,t.useEffect)(()=>{if(p<=0)return;const e=setInterval(()=>g(e=>e-1),1e3);return()=>clearInterval(e)},[p]),(0,t.useEffect)(()=>{6===l.length&&!a&&c>0&&s(l)},[l]);if(!r)return null;const y=0===c;return(0,wt.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-[#0c2844]/80 backdrop-blur-sm transition-all duration-300 px-4",children:(0,wt.jsxs)("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative transform transition-all scale-100 border border-slate-200",children:[(0,wt.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-50 rounded-full transition-colors z-20",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})}),(0,wt.jsxs)("div",{className:"bg-slate-50/80 border-b border-slate-100 p-8 text-center relative",children:[(0,wt.jsx)("div",{className:"mx-auto w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-100 mb-4 transform rotate-3 hover:rotate-0 transition-all duration-500 group",children:(0,wt.jsx)(Fs,{className:"w-8 h-8 text-[#0c2844] group-hover:scale-110 transition-transform"})}),(0,wt.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Confirmation S\xe9curis\xe9e"}),(0,wt.jsxs)("p",{className:"text-slate-500 text-sm mt-2",children:["Veuillez saisir le code \xe0 6 chiffres envoy\xe9 \xe0 ",(0,wt.jsx)("br",{}),(0,wt.jsx)("span",{className:"font-semibold text-[#0c2844]",children:i})]})]}),(0,wt.jsxs)("div",{className:"p-8",children:[(0,wt.jsxs)("div",{className:"relative mb-8 group",onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.focus()},children:[(0,wt.jsx)("input",{ref:v,type:"text",value:l,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);A(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",autoComplete:"one-time-code",inputMode:"numeric",maxLength:6,disabled:y||a,autoFocus:!0}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-2 relative z-10 pointer-events-none",children:[...Array(6)].map((e,t)=>(0,wt.jsx)("div",{className:"\n                                        w-10 h-14 sm:w-12 sm:h-16 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-all duration-200 font-mono\n                                        ".concat(l[t]?"border-[#0c2844] bg-slate-50 text-[#0c2844] scale-105 shadow-sm":"border-slate-200 bg-white text-slate-300","\n                                        ").concat(t!==l.length||y?"":"border-[#4c7026] ring-4 ring-[#4c7026]/10 z-10 scale-110 bg-white","\n                                        ").concat(y?"opacity-50 border-slate-100 bg-slate-50":"","\n                                    "),children:l[t]||(0,wt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t!==l.length||y?"bg-slate-200":"bg-[#4c7026] animate-pulse")})},t))})]}),y&&(0,wt.jsxs)("div",{className:"mb-6 p-3 bg-red-50 border border-red-100 rounded-lg flex items-center justify-center gap-2 text-red-600 text-sm animate-shake",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4"}),(0,wt.jsx)("span",{children:"Le code a expir\xe9"})]}),f&&(0,wt.jsxs)("div",{className:"mb-6 p-3 bg-emerald-50 border border-emerald-100 rounded-lg flex items-center justify-center gap-2 text-emerald-600 text-sm animate-fade-in",children:[(0,wt.jsx)(lB,{className:"w-4 h-4"}),(0,wt.jsx)("span",{children:"Code renvoy\xe9 avec succ\xe8s !"})]}),!y&&(0,wt.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-6 text-xs font-medium text-slate-400",children:[(0,wt.jsx)(ws,{className:"w-3.5 h-3.5"}),(0,wt.jsx)("span",{children:"Expire dans"}),(0,wt.jsx)("span",{className:"font-mono ".concat(c<60?"text-red-500 font-bold":"text-slate-600"),children:(e=>{const t=Math.floor(e/60),r=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))})(c)})]}),(0,wt.jsx)("button",{onClick:()=>s(l),disabled:a||l.length<6||y,className:"w-full bg-[#0c2844] hover:bg-[#09407e] text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-blue-900/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-2 group",children:a?(0,wt.jsx)(iB,{className:"w-5 h-5 animate-spin text-white/70"}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("span",{children:"V\xe9rifier le code"}),(0,wt.jsx)(AB,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})}),(0,wt.jsx)("div",{className:"mt-6 border-t border-slate-100 pt-6 text-center",children:(0,wt.jsxs)("button",{type:"button",onClick:async()=>{h(!0);try{var e;await o(),m(!0),d(900),A("");g(0===x?30:60*x),b(e=>e+1),setTimeout(()=>m(!1),3e3),null===(e=v.current)||void 0===e||e.focus()}catch(t){console.error("Erreur renvoi:",t)}finally{h(!1)}},disabled:u||p>0,className:"text-sm font-medium text-slate-500 hover:text-[#0c2844] transition-colors flex items-center justify-center gap-2 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,wt.jsx)(Jw,{className:"w-4 h-4 ".concat(u?"animate-spin":"")}),p>0?"Renvoyer disponible dans ".concat(p,"s"):"Je n'ai pas re\xe7u le code"]})}),(0,wt.jsx)("div",{className:"mt-6 text-center",children:(0,wt.jsxs)("p",{className:"text-slate-300 text-[10px] flex items-center justify-center gap-1",children:[(0,wt.jsx)(oB,{className:"w-3 h-3"}),"S\xe9curit\xe9 garantie par FOSIKA"]})})]})]})})},xB=e=>{var r,n,s,a,i,l,A,c,d,u;let{onReturnToDashboard:h,onAvatarUpdate:f}=e;const[m,p]=(0,t.useState)({name:"",username:"",firstname:"",lastname:"",email:"",phone:"",adresse:"",departement:"",responsabilites:"",specialisations:"",currentpassword:"",newpassword:"",newpasswordconfirmation:"",role:"",formattedrole:"",email_verified_at:null,two_factor_enabled:!1,is_email_verified:!1,is_2fa_enabled:!1,security_level:"low",last_login_at:null}),[g,x]=(0,t.useState)({}),[b,v]=(0,t.useState)({}),[y,w]=(0,t.useState)("informations"),[B,N]=(0,t.useState)(""),[j,C]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[F,E]=(0,t.useState)({minLength:null,hasUpperCase:null,hasNumber:null,hasSpecialChar:null}),[_,U]=(0,t.useState)(!1),[Q,L]=(0,t.useState)(!1),[I,M]=(0,t.useState)(!1),[D,P]=(0,t.useState)(!1),[T,O]=(0,t.useState)([]),R={admin:{bg:"bg-blue-600",text:"text-blue-600",light:"bg-blue-50",gradient:"from-blue-600 to-blue-800"},agent:{bg:"bg-green-600",text:"text-green-600",light:"bg-green-50",gradient:"from-green-600 to-green-800"},investigateur:{bg:"bg-purple-600",text:"text-purple-600",light:"bg-purple-50",gradient:"from-purple-600 to-purple-800"}},H=R[(m.role||"admin").toLowerCase()]||R.admin,z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";const r=Date.now();O(n=>[...n,{id:r,message:e,type:t}])},K=e=>{if(!e)return null;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000";return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")?e:e.startsWith("/storage/")?"".concat(t).concat(e):e.startsWith("storage/")?"".concat(t,"/").concat(e):"".concat(t,"/storage/").concat(e)};(0,t.useEffect)(()=>{V()},[]),(0,t.useEffect)(()=>{const e=m.newpassword;E(e?{minLength:e.length>=8,hasUpperCase:/[A-Z]/.test(e),hasNumber:/[0-9]/.test(e),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>_\-+=\[\\\];'/`~]/.test(e)}:{minLength:null,hasUpperCase:null,hasNumber:null,hasSpecialChar:null})},[m.newpassword]);const V=async()=>{try{C(!0);const e=await as.get("/profile");if(e.data.success){const t=e.data.data;if(console.log("Donn\xe9es du profil charg\xe9es:",t),p(e=>o(o(o({},e),t),{},{name:t.name||"",username:t.username||"",firstname:t.first_name||t.firstname||"",lastname:t.last_name||t.lastname||"",specialisations:Array.isArray(t.specialisations)?t.specialisations.join(", "):t.specialisations||"",formattedrole:t.formatted_role||t.formattedrole||t.role||"Utilisateur",email_verified_at:t.email_verified_at||null,two_factor_enabled:!!t.two_factor_enabled,is_email_verified:!!t.email_verified_at,is_2fa_enabled:!!t.two_factor_enabled,security_level:t.security_level||"low",last_login_at:t.last_login_at||null})),t.avatar_url||t.avatar){const e=K(t.avatar_url||t.avatar);e&&N("".concat(e,"?t=").concat(Date.now()))}}}catch(e){console.error("Erreur profil:",e),z("Erreur lors du chargement du profil","error")}finally{C(!1)}},q=e=>{const{name:t,value:r}=e.target;p(e=>o(o({},e),{},{[t]:r})),g[t]&&x(e=>o(o({},e),{},{[t]:null})),b[t]&&v(e=>o(o({},e),{},{[t]:null}))};return(0,wt.jsxs)("div",{className:"min-h-screen bg-slate-50/50 py-6",children:[T.map(e=>(0,wt.jsx)(hB,{message:e.message,type:e.type,onClose:()=>{return t=e.id,void O(e=>e.filter(e=>e.id!==t));var t}},e.id)),(0,wt.jsx)(pB,{isOpen:_,onClose:()=>U(!1),onSubmit:async e=>{M(!0),x({});try{const t=await as.post("/user/two-factor-authentication/confirm",{code:e});t.data.success?(p(e=>o(o({},e),{},{two_factor_enabled:!0,is_2fa_enabled:!0})),U(!1),z("Double authentification activ\xe9e avec succ\xe8s.")):z(t.data.message||"Code invalide.","error")}catch(s){var t,r,n;console.error("Erreur v\xe9rification 2FA:",(null===(t=s.response)||void 0===t?void 0:t.data)||s.message),z((null===(r=s.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Code invalide ou expir\xe9. Veuillez r\xe9essayer.","error")}finally{M(!1)}},isLoading:I,email:m.email}),(0,wt.jsx)(gB,{isOpen:Q,onClose:()=>L(!1),onSubmit:async e=>{P(!0),x({});try{const t=await as.post("/email/verify",{code:e,email:m.email});t.data.success?(z("Email v\xe9rifi\xe9 avec succ\xe8s !"),L(!1),p(e=>o(o({},e),{},{email_verified_at:t.data.data.email_verified_at,is_email_verified:!0})),V()):z(t.data.message||"Code invalide.","error")}catch(s){var t,r,n;console.error("Erreur v\xe9rification code:",(null===(t=s.response)||void 0===t?void 0:t.data)||s.message),z((null===(r=s.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Code invalide ou expir\xe9. Veuillez r\xe9essayer.","error")}finally{P(!1)}},isLoading:D,email:m.email,onResendCode:async()=>{try{return!!(await as.post("/email/resend-code")).data.success}catch(e){return console.error("Erreur renvoi code:",e),!1}}}),(0,wt.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,wt.jsx)("div",{className:"mb-4",children:(0,wt.jsxs)("button",{onClick:h,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-slate-700 bg-white rounded-lg border border-slate-200 hover:bg-slate-50 hover:border-slate-300 transition-all duration-200 shadow-sm",children:[(0,wt.jsx)(js,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),(0,wt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden ring-1 ring-slate-900/5",children:[(0,wt.jsxs)("div",{className:"relative h-28 bg-gradient-to-r ".concat(H.gradient),children:[(0,wt.jsx)("div",{className:"absolute inset-0 opacity-20 bg-[radial-gradient(circle_at_1px_1px,#ffffff_1px,transparent_0)] bg-[length:20px_20px]"}),(0,wt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"})]}),(0,wt.jsx)("div",{className:"px-6 pb-6",children:(0,wt.jsxs)("div",{className:"relative flex items-end gap-5 -mt-12",children:[(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full bg-white p-1 shadow-lg ring-1 ring-black/5",children:(0,wt.jsxs)("div",{className:"w-full h-full rounded-full bg-slate-100 flex items-center justify-center text-2xl font-bold overflow-hidden relative",children:[B?(0,wt.jsx)("img",{src:B,alt:"Avatar",className:"w-full h-full object-cover"}):(0,wt.jsx)("span",{className:"".concat(H.text),children:m.firstname&&m.lastname?"".concat(m.firstname[0]).concat(m.lastname[0]).toUpperCase():m.name?m.name.substring(0,2).toUpperCase():"U"}),(0,wt.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none",children:(0,wt.jsx)(cB,{className:"w-6 h-6 text-white/90"})})]})}),(0,wt.jsxs)("div",{className:"absolute bottom-1 right-1 flex h-4 w-4",children:[(0,wt.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),(0,wt.jsx)("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-emerald-500 border-2 border-white"})]}),(0,wt.jsx)("label",{className:"absolute inset-0 cursor-pointer rounded-full",title:"Modifier la photo",children:(0,wt.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;if(["image/jpeg","image/png","image/webp","image/gif"].includes(t.type))if(t.size>5242880)z("Image trop lourde (maximum 5 Mo)","error");else try{S(!0);const e=new FormData;e.append("avatar",t);const n=new FileReader;n.onload=e=>N(e.target.result),n.readAsDataURL(t);const s=await as.post("/profile/avatar",e,{headers:{"Content-Type":"multipart/form-data"}});if(s.data.success){var r;if(z("Photo de profil mise \xe0 jour avec succ\xe8s"),null!==(r=s.data.data)&&void 0!==r&&r.avatar_url){const e=K(s.data.data.avatar_url);e&&N("".concat(e,"?t=").concat(Date.now()))}f&&f()}else z("Erreur lors du t\xe9l\xe9chargement de l'image","error")}catch(n){console.error("Erreur avatar:",n),z("Erreur lors du t\xe9l\xe9chargement","error")}finally{S(!1),e.target.value=""}else z("Format d'image invalide","error")},disabled:k||j})})]}),(0,wt.jsx)("div",{className:"flex-1 pb-1 pt-5",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900 tracking-tight",children:m.firstname||m.lastname?"".concat(m.lastname," ").concat(m.firstname):m.name||"Utilisateur"}),(0,wt.jsxs)("div",{className:"flex items-center flex-wrap gap-2 mt-1",children:[(0,wt.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:m.email}),m.username&&(0,wt.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-slate-100 text-slate-600 border border-slate-200",children:["@",m.username]}),m.is_email_verified?(0,wt.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-emerald-50 text-emerald-700 border border-emerald-100 uppercase tracking-wide",children:[(0,wt.jsx)(Qs,{className:"w-3 h-3 mr-1"}),"V\xe9rifi\xe9e"]}):(0,wt.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-amber-50 text-amber-700 border border-amber-100 uppercase tracking-wide cursor-help",title:"Veuillez v\xe9rifier votre email",children:[(0,wt.jsx)(Hi,{className:"w-3 h-3 mr-1"}),"Non v\xe9rifi\xe9e"]})]})]})})]})}),(0,wt.jsx)("div",{className:"border-b border-slate-200 px-6",children:(0,wt.jsx)("nav",{className:"flex -mb-px space-x-6 overflow-x-auto no-scrollbar",children:[{id:"informations",label:"Informations personnelles",icon:Cs},{id:"password",label:"Mot de passe",icon:oB},{id:"security",label:"S\xe9curit\xe9 & 2FA",icon:Ww}].map(e=>(0,wt.jsxs)("button",{onClick:()=>w(e.id),className:"group inline-flex items-center py-4 px-1 border-b-2 text-sm font-medium transition-all duration-200 ".concat(y===e.id?"".concat(H.text," border-current"):"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:[(0,wt.jsx)(e.icon,{className:"w-4 h-4 mr-2.5 transition-colors ".concat(y===e.id?"text-current":"text-slate-400 group-hover:text-slate-500")}),e.label]},e.id))})}),Object.keys(b).length>0&&(0,wt.jsx)("div",{className:"px-6 pt-3 animate-in fade-in slide-in-from-top-2 duration-300",children:(0,wt.jsxs)("div",{className:"bg-amber-50 border border-amber-100 text-amber-700 px-4 py-3 rounded-lg text-sm",children:[(0,wt.jsxs)("div",{className:"font-semibold mb-2 flex items-center",children:[(0,wt.jsx)(Hi,{className:"w-4 h-4 mr-2"}),"Erreurs de validation :"]}),(0,wt.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:Object.entries(b).map(e=>{let[t,r]=e;return r&&0!==r.length?(0,wt.jsxs)("li",{className:"flex items-start",children:[(0,wt.jsxs)("span",{className:"font-medium mr-2",children:[t,":"]}),(0,wt.jsx)("span",{children:Array.isArray(r)?r.join(", "):r})]},t):null})})]})}),(0,wt.jsxs)("div",{className:"p-6 min-h-[400px]",children:["informations"===y&&(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x({}),v({}),m.firstname.trim()&&m.lastname.trim()&&m.email.trim())try{C(!0);const e=Array.isArray(m.responsabilites)?m.responsabilites.join(", "):m.responsabilites||"",t=Array.isArray(m.specialisations)?m.specialisations.join(", "):m.specialisations||"",r={name:m.name||"".concat(m.firstname," ").concat(m.lastname),username:m.username||"",firstname:m.firstname,lastname:m.lastname,email:m.email,phone:m.phone||"",adresse:m.adresse||"",departement:m.departement||"",responsabilites:e,specialisations:t};console.log("Donn\xe9es corrig\xe9es envoy\xe9es:",r);const n=await as.put("/profile",r);console.log("R\xe9ponse du backend:",n.data),n.data.success?(z("Informations mises \xe0 jour avec succ\xe8s"),f&&f(),V()):z("Erreur lors de la mise \xe0 jour","error")}catch(i){var t,r,n,s,a;if(console.error("Erreur compl\xe8te:",i),console.error("R\xe9ponse d'erreur:",null===(t=i.response)||void 0===t?void 0:t.data),null!==(r=i.response)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.errors)console.error("Erreurs d\xe9taill\xe9es:",JSON.stringify(i.response.data.errors,null,2)),v(i.response.data.errors),z("Veuillez corriger les erreurs de validation","error");else z((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||i.message,"error")}finally{C(!1)}else z("Pr\xe9nom, Nom et Email sont obligatoires","error")},className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,wt.jsxs)("div",{className:"bg-slate-50/50 p-5 rounded-xl border border-slate-100/80",children:[(0,wt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-4 flex items-center uppercase tracking-wider opacity-80",children:[(0,wt.jsx)(Cs,{className:"w-4 h-4 mr-2 text-blue-500"}),"Identit\xe9"]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,wt.jsx)(fB,{label:"Nom",name:"lastname",value:m.lastname,onChange:q,required:!0,error:null===(r=b.lastname)||void 0===r?void 0:r[0]}),(0,wt.jsx)(fB,{label:"Pr\xe9nom",name:"firstname",value:m.firstname,onChange:q,required:!0,error:null===(n=b.firstname)||void 0===n?void 0:n[0]}),(0,wt.jsx)(fB,{label:"Nom d'affichage",name:"name",value:m.name,onChange:q,placeholder:"Nom complet affich\xe9",error:null===(s=b.name)||void 0===s?void 0:s[0]}),(0,wt.jsx)(fB,{label:"Nom d'utilisateur",name:"username",value:m.username,onChange:q,placeholder:"Nom d'utilisateur unique",error:null===(a=b.username)||void 0===a?void 0:a[0]})]})]}),(0,wt.jsxs)("div",{className:"bg-slate-50/50 p-5 rounded-xl border border-slate-100/80",children:[(0,wt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-4 flex items-center uppercase tracking-wider opacity-80",children:[(0,wt.jsx)(Fs,{className:"w-4 h-4 mr-2 text-blue-500"}),"Coordonn\xe9es"]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,wt.jsx)(fB,{label:"Email",type:"email",name:"email",value:m.email,onChange:q,required:!0,icon:Fs,error:null===(i=b.email)||void 0===i?void 0:i[0]}),(0,wt.jsx)(fB,{label:"T\xe9l\xe9phone",name:"phone",value:m.phone,onChange:q,placeholder:"+261 ...",icon:Ss,error:null===(l=b.phone)||void 0===l?void 0:l[0]}),(0,wt.jsx)("div",{className:"md:col-span-2",children:(0,wt.jsx)(fB,{label:"Adresse",name:"adresse",value:m.adresse,onChange:q,icon:Es,error:null===(A=b.adresse)||void 0===A?void 0:A[0]})})]})]}),(0,wt.jsxs)("div",{className:"bg-slate-50/50 p-5 rounded-xl border border-slate-100/80",children:[(0,wt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-4 flex items-center uppercase tracking-wider opacity-80",children:[(0,wt.jsx)(Gf,{className:"w-4 h-4 mr-2 text-blue-500"}),"D\xe9tails Professionnels"]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,wt.jsx)(fB,{label:"R\xf4le affich\xe9",name:"formattedrole",value:m.formattedrole,onChange:q,disabled:!0}),(0,wt.jsx)(fB,{label:"D\xe9partement",name:"departement",value:m.departement,onChange:q,disabled:!0}),(0,wt.jsxs)("div",{className:"md:col-span-2 group",children:[(0,wt.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-1.5 ml-1 group-focus-within:text-blue-600",children:"Responsabilit\xe9s"}),(0,wt.jsx)("textarea",{name:"responsabilites",value:m.responsabilites,onChange:q,rows:2,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-800 transition-all duration-200 outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10"})]}),(0,wt.jsxs)("div",{className:"md:col-span-2 group",children:[(0,wt.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-1.5 ml-1 group-focus-within:text-blue-600",children:"Sp\xe9cialisations"}),(0,wt.jsx)("textarea",{name:"specialisations",value:m.specialisations,onChange:q,rows:2,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-800 transition-all duration-200 outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10"})]})]})]}),(0,wt.jsx)("div",{className:"flex justify-end pt-2",children:(0,wt.jsxs)("button",{type:"submit",disabled:j,className:"inline-flex items-center px-6 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 hover:bg-blue-700 hover:shadow-md transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-60 disabled:shadow-none",children:[j?(0,wt.jsx)(iB,{className:"w-4 h-4 mr-2 animate-spin"}):(0,wt.jsx)(dB,{className:"w-4 h-4 mr-2"}),"Enregistrer les modifications"]})})]}),"password"===y&&(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x({}),v({}),m.currentpassword)if(m.newpassword===m.newpasswordconfirmation)try{C(!0);(await as.put("/profile/password",{currentpassword:m.currentpassword,newpassword:m.newpassword,newpasswordconfirmation:m.newpasswordconfirmation})).data.success?(z("Mot de passe chang\xe9 avec succ\xe8s"),p(e=>o(o({},e),{},{currentpassword:"",newpassword:"",newpasswordconfirmation:""}))):z("Erreur lors du changement de mot de passe","error")}catch(s){var t,r,n;console.error("Erreur mot de passe:",(null===(t=s.response)||void 0===t?void 0:t.data)||s.message),null!==(r=s.response)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.errors?(v(s.response.data.errors),z("Veuillez corriger les erreurs de validation","error")):z("Erreur lors du changement de mot de passe","error")}finally{C(!1)}else z("Les mots de passe ne correspondent pas","error");else z("Le mot de passe actuel est requis","error")},className:"max-w-xl space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,wt.jsxs)("div",{className:"bg-slate-50/50 p-6 rounded-xl border border-slate-100/80",children:[(0,wt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-6 flex items-center uppercase tracking-wider opacity-80",children:[(0,wt.jsx)(oB,{className:"w-4 h-4 mr-2 text-blue-500"}),"Changer le mot de passe"]}),(0,wt.jsxs)("div",{className:"space-y-5",children:[(0,wt.jsx)(fB,{label:"Mot de passe actuel",type:"password",name:"currentpassword",value:m.currentpassword,onChange:q,error:null===(c=b.currentpassword)||void 0===c?void 0:c[0],showPasswordToggle:!0}),(0,wt.jsx)("div",{className:"h-px bg-slate-200 my-2"}),(0,wt.jsx)(fB,{label:"Nouveau mot de passe",type:"password",name:"newpassword",value:m.newpassword,onChange:q,error:null===(d=b.newpassword)||void 0===d?void 0:d[0],showPasswordToggle:!0}),(0,wt.jsx)(fB,{label:"Confirmer le nouveau mot de passe",type:"password",name:"newpasswordconfirmation",value:m.newpasswordconfirmation,onChange:q,error:null===(u=b.newpassword_confirmation)||void 0===u?void 0:u[0],showPasswordToggle:!0})]})]}),(0,wt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[(0,wt.jsx)("h3",{className:"text-xs font-bold text-slate-800 mb-3 uppercase tracking-wide",children:"Crit\xe8res de s\xe9curit\xe9"}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,wt.jsx)(mB,{isValid:F.minLength,text:"8 caract\xe8res minimum"}),(0,wt.jsx)(mB,{isValid:F.hasUpperCase,text:"Une majuscule"}),(0,wt.jsx)(mB,{isValid:F.hasNumber,text:"Un chiffre"}),(0,wt.jsx)(mB,{isValid:F.hasSpecialChar,text:"Un caract\xe8re sp\xe9cial"})]})]}),(0,wt.jsx)("div",{className:"flex justify-end",children:(0,wt.jsxs)("button",{type:"submit",disabled:j,className:"inline-flex items-center px-6 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 hover:bg-blue-700 transition-all disabled:opacity-60",children:[j?(0,wt.jsx)(iB,{className:"w-4 h-4 mr-2 animate-spin"}):(0,wt.jsx)(dB,{className:"w-4 h-4 mr-2"}),"Mettre \xe0 jour"]})})]}),"security"===y&&(0,wt.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,wt.jsxs)("div",{className:"group p-5 border border-slate-200 rounded-xl bg-white hover:border-blue-300 hover:shadow-md transition-all duration-300",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,wt.jsxs)("div",{className:"flex gap-4",children:[(0,wt.jsx)("div",{className:"p-3 rounded-xl transition-colors ".concat(m.is_email_verified?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"),children:(0,wt.jsx)(Fs,{className:"w-6 h-6"})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{className:"text-base font-semibold text-slate-900",children:"Adresse e-mail"}),(0,wt.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:m.email}),(0,wt.jsx)("div",{className:"mt-3",children:m.is_email_verified?(0,wt.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-emerald-700 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100 ring-1 ring-emerald-500/10",children:[(0,wt.jsx)(Qs,{className:"w-3.5 h-3.5"})," V\xe9rifi\xe9e"]}):(0,wt.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-amber-700 bg-amber-50 px-2.5 py-1 rounded-full border border-amber-100 ring-1 ring-amber-500/10",children:[(0,wt.jsx)(Hi,{className:"w-3.5 h-3.5"})," Non v\xe9rifi\xe9e"]})})]})]}),!m.is_email_verified&&(0,wt.jsx)("button",{onClick:async()=>{C(!0),x({}),v({}),console.log("\ud83d\udd04 Sending verification email to:",m.email);try{console.log("\ud83d\udce4 API call to /email/verification-notification");const e=await as.post("/email/verification-notification");console.log("\u2705 API Response:",e.data),e.data.success?(z(e.data.message||"Un code de v\xe9rification a \xe9t\xe9 envoy\xe9 \xe0 votre adresse e-mail."),L(!0)):(console.error("\u274c API returned success: false",e.data),z(e.data.message||"La r\xe9ponse du serveur indique un \xe9chec.","error"))}catch(A){var e,t,r,n,s,a,i,o,l;console.error("\u274c Verification email error:",A),console.error("\u274c Error response:",null===(e=A.response)||void 0===e?void 0:e.data),console.error("\u274c Error status:",null===(t=A.response)||void 0===t?void 0:t.status),console.error("\u274c Error headers:",null===(r=A.response)||void 0===r?void 0:r.headers),z((null===(n=A.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||(null===(a=A.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.error)||A.message||"Impossible d'envoyer l'e-mail de v\xe9rification. Veuillez r\xe9essayer.","error"),null!==(o=A.response)&&void 0!==o&&null!==(l=o.data)&&void 0!==l&&l.debug&&console.error("\ud83d\udd0d Debug info:",A.response.data.debug)}finally{C(!1)}},disabled:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-xs font-semibold hover:bg-blue-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:j?(0,wt.jsx)(iB,{className:"w-4 h-4 animate-spin"}):"V\xe9rifier maintenant"})]}),!m.is_email_verified&&(0,wt.jsxs)("div",{className:"mt-4 p-3 bg-blue-50/50 border border-blue-100/50 rounded-lg flex gap-2 text-xs text-blue-800",children:[(0,wt.jsx)(Hi,{className:"w-4 h-4 flex-shrink-0"}),(0,wt.jsx)("span",{children:"La v\xe9rification de l'email est n\xe9cessaire pour activer la s\xe9curit\xe9 renforc\xe9e."})]})]}),(0,wt.jsxs)("div",{className:"group p-5 border border-slate-200 rounded-xl bg-white hover:border-blue-300 hover:shadow-md transition-all duration-300",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,wt.jsxs)("div",{className:"flex gap-4",children:[(0,wt.jsx)("div",{className:"p-3 rounded-xl transition-colors ".concat(m.is_2fa_enabled?"bg-blue-50 text-blue-600":"bg-slate-100 text-slate-400"),children:(0,wt.jsx)(uB,{className:"w-6 h-6"})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{className:"text-base font-semibold text-slate-900",children:"Double authentification (2FA)"}),(0,wt.jsx)("p",{className:"text-sm text-slate-500 mt-1 max-w-md leading-relaxed",children:"S\xe9curisez votre compte avec un code unique envoy\xe9 par email lors de la connexion."}),(0,wt.jsx)("div",{className:"mt-3",children:m.is_2fa_enabled?(0,wt.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-blue-700 bg-blue-50 px-2.5 py-1 rounded-full border border-blue-100 ring-1 ring-blue-500/10",children:[(0,wt.jsx)(Ww,{className:"w-3.5 h-3.5"})," 2FA Active"]}):(0,wt.jsx)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-slate-500 bg-slate-100 px-2.5 py-1 rounded-full ring-1 ring-slate-500/10",children:"D\xe9sactiv\xe9e"})})]})]}),(0,wt.jsx)("div",{className:"flex items-center pt-2",children:(0,wt.jsx)("button",{onClick:async()=>{if(x({}),v({}),m.email_verified_at)if(m.two_factor_enabled){if(!window.confirm("\xcates-vous s\xfbr de vouloir d\xe9sactiver la double authentification ?"))return;try{(await as.post("/user/two-factor-authentication",{enabled:!1})).data.success&&(p(e=>o(o({},e),{},{two_factor_enabled:!1,is_2fa_enabled:!1})),z("Double authentification d\xe9sactiv\xe9e."))}catch(e){console.error("Erreur d\xe9sactivation 2FA:",e),z("Erreur lors de la d\xe9sactivation.","error")}}else try{(await as.post("/user/two-factor-authentication/send-code")).data.success&&U(!0)}catch(e){console.error("Erreur initialisation 2FA:",e),z("Impossible d'initialiser la 2FA.","error")}else z("Veuillez v\xe9rifier votre email avant d'activer la 2FA.","error")},disabled:!m.is_email_verified||j||I,className:"relative inline-flex h-7 w-12 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 ".concat(m.is_2fa_enabled?"bg-blue-600":"bg-slate-200"," ").concat(!m.is_email_verified||j||I?"opacity-50 cursor-not-allowed":""),children:(0,wt.jsx)("span",{className:"pointer-events-none inline-block h-6 w-6 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat(m.is_2fa_enabled?"translate-x-5":"translate-x-0")})})})]}),!m.is_email_verified&&(0,wt.jsxs)("div",{className:"mt-4 p-3 bg-amber-50/50 border border-amber-100/50 rounded-lg flex gap-2 text-xs text-amber-800",children:[(0,wt.jsx)(Hi,{className:"w-4 h-4 flex-shrink-0"}),(0,wt.jsx)("span",{children:"V\xe9rifiez votre email avant d'activer la s\xe9curit\xe9 renforc\xe9e."})]}),m.is_2fa_enabled&&(0,wt.jsxs)("div",{className:"mt-4 p-3 bg-emerald-50/50 border border-emerald-100/50 rounded-lg flex gap-2 text-xs text-emerald-800",children:[(0,wt.jsx)(Qs,{className:"w-4 h-4 flex-shrink-0"}),(0,wt.jsx)("span",{children:"Votre compte est s\xe9curis\xe9 avec la double authentification."})]})]})]})]})]})]})]})},bB=[{id:"faux-diplomes",emoji:"\ud83d\udcdc",name:"Faux Dipl\xf4mes"},{id:"offre-formation-irreguliere",emoji:"\ud83c\udf93",name:"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)"},{id:"recrutements-irreguliers",emoji:"\ud83d\udcbc",name:"Recrutements Irr\xe9guliers"},{id:"harcelement",emoji:"\u26a0\ufe0f",name:"Harc\xe8lement"},{id:"corruption",emoji:"\ud83d\udd34",name:"Corruption"},{id:"divers",emoji:"\ud83c\udff7\ufe0f",name:"Divers"}],vB=["Toutes les provinces","Analamanga","Betsiboka","Diana"],yB=["Toutes les r\xe9gions","Antananarivo","Mahajanga","Antsiranana"];function wB(e){let{selectedCategory:r}=e;const[n,s]=(0,t.useState)(bB[0].id),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(yB[0]),[A,c]=(0,t.useState)(vB[0]),[d,u]=(0,t.useState)(""),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)("Tous"),[g,x]=(0,t.useState)("Tous"),[b,v]=(0,t.useState)([]),[y,w]=(0,t.useState)(!0),[B,N]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{w(!0),N(null);try{const e=await as.get("/reports");let t=[];if(t=e.data.success&&e.data.data&&e.data.data.reports?e.data.data.reports:e.data.success&&Array.isArray(e.data.data)?e.data.data:Array.isArray(e.data)?e.data:[],t&&t.length>0){const e=t.map(e=>{let t=[];try{e.files&&("string"===typeof e.files?t=JSON.parse(e.files):Array.isArray(e.files)&&(t=e.files))}catch(QN){}return{id:e.id,reference:e.reference,date:e.created_at,category:e.category,status:e.status,isAnonymous:e.isAnonymous||"anonyme"===e.type,name:e.name||"Anonyme",email:e.email||"",phone:e.phone||"",description:e.description||e.title||"Aucune description",filesCount:t.length,files:t,region:e.region||"Non sp\xe9cifi\xe9",city:e.city||"Non sp\xe9cifi\xe9",title:e.title,type:e.type}});v(e)}else v([])}catch(B){N(B.message)}finally{w(!1)}})()},[]),(0,t.useEffect)(()=>{r&&s(r)},[r]);const j=e=>{const t=b.filter(t=>t.category===e);return{total:t.length,encours:t.filter(e=>"en_cours"===e.status).length,resolus:t.filter(e=>"finalise"===e.status).length}},C=bB.find(e=>e.id===n),k=j(n),S=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(QN){return e}},F=e=>({en_cours:"En cours",finalise:"R\xe9solu",doublon:"Doublon",refuse:"Refus\xe9"}[e]||e),E=e=>e?"Anonyme":"Non-Anonyme";let _=b.filter(e=>e.category===n&&(""===a||e.reference.toLowerCase().includes(a.toLowerCase())||e.name.toLowerCase().includes(a.toLowerCase())||e.region.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase()))&&(A===vB[0]||e.region.includes(A))&&(o===yB[0]||e.region.includes(o))&&("Tous"===m||F(e.status)===m)&&("Tous"===g||E(e.isAnonymous)===g)&&(""===d||e.date>=d)&&(""===h||e.date<=h));function U(){i(""),l(yB[0]),c(vB[0]),u(""),f(""),p("Tous"),x("Tous")}const Q={Tous:_.length,Anonymes:_.filter(e=>e.isAnonymous).length,"Non-Anonymes":_.filter(e=>!e.isAnonymous).length};return y?(0,wt.jsx)("div",{className:"p-6 max-w-7xl mx-auto",children:(0,wt.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsxs)("svg",{className:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,wt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,wt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,wt.jsx)("span",{className:"text-gray-600",children:"Chargement des donn\xe9es..."})]})})}):B?(0,wt.jsx)("div",{className:"p-6 max-w-7xl mx-auto",children:(0,wt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,wt.jsx)("div",{className:"text-red-600 font-semibold mb-2",children:"Erreur de chargement"}),(0,wt.jsx)("p",{className:"text-red-600 text-sm mb-4",children:B}),(0,wt.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"R\xe9essayer"})]})}):(0,wt.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,wt.jsxs)("div",{className:"mb-8",children:[(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analyse D\xe9taill\xe9e par Cat\xe9gories"}),(0,wt.jsx)("p",{className:"text-gray-600",children:"Visualisation et analyse approfondie des signalements par cat\xe9gorie"})]}),(0,wt.jsx)("div",{className:"flex flex-wrap gap-3 mb-8",children:bB.map(e=>{const t=j(e.id);return(0,wt.jsxs)("button",{className:"flex items-center gap-2 px-4 py-3 rounded-lg border transition-all ".concat(n===e.id?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>s(e.id),children:[(0,wt.jsx)("span",{className:"text-xl",children:e.emoji}),(0,wt.jsx)("span",{children:e.name}),(0,wt.jsx)("span",{className:"bg-gray-100 rounded-full px-2 py-1 text-xs font-medium",children:t.total})]},e.id)})}),(0,wt.jsxs)("div",{className:"mb-8",children:[(0,wt.jsxs)("h2",{className:"font-semibold text-lg text-gray-900 mb-3",children:["Synth\xe8se - ",null===C||void 0===C?void 0:C.name]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,wt.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:k.total}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"Signalements totaux"})]}),(0,wt.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-3xl font-bold text-amber-600",children:k.encours}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"En cours"})]}),(0,wt.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-3xl font-bold text-green-600",children:k.resolus}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"R\xe9solus"})]})]})]}),(0,wt.jsxs)("div",{className:"mb-8",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,wt.jsx)("h3",{className:"font-semibold text-lg text-gray-900",children:"Filtres Avanc\xe9s"}),(0,wt.jsxs)("button",{className:"text-sm text-gray-600 hover:text-gray-800 flex items-center gap-1",onClick:U,children:[(0,wt.jsx)("span",{children:"\ud83d\udd04"}),"R\xe9initialiser"]})]}),(0,wt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2 mb-2",children:[(0,wt.jsx)("span",{children:"\ud83d\udd0d"})," Recherche"]}),(0,wt.jsx)("input",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"R\xe9f\xe9rence, nom, r\xe9gion, description...",value:a,onChange:e=>i(e.target.value)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2 mb-2",children:[(0,wt.jsx)("span",{children:"\ud83d\udcc5"})," Date d\xe9but"]}),(0,wt.jsx)("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:d,onChange:e=>u(e.target.value)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2 mb-2",children:[(0,wt.jsx)("span",{children:"\ud83d\udcc5"})," Date fin"]}),(0,wt.jsx)("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:h,onChange:e=>f(e.target.value)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2 mb-2",children:[(0,wt.jsx)("span",{children:"\ud83d\uddfa\ufe0f"})," Province"]}),(0,wt.jsx)("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:A,onChange:e=>c(e.target.value),children:vB.map(e=>(0,wt.jsx)("option",{children:e},e))})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2 mb-2",children:[(0,wt.jsx)("span",{children:"\ud83d\uddfa\ufe0f"})," R\xe9gion"]}),(0,wt.jsx)("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>l(e.target.value),children:yB.map(e=>(0,wt.jsx)("option",{children:e},e))})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Statut du dossier"}),(0,wt.jsxs)("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:m,onChange:e=>p(e.target.value),children:[(0,wt.jsx)("option",{value:"Tous",children:"Tous les statuts"}),(0,wt.jsx)("option",{value:"En cours",children:"En cours"}),(0,wt.jsx)("option",{value:"R\xe9solu",children:"R\xe9solu"}),(0,wt.jsx)("option",{value:"Doublon",children:"Doublon"}),(0,wt.jsx)("option",{value:"Refus\xe9",children:"Refus\xe9"})]})]})]})})]}),(0,wt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[(0,wt.jsx)("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-lg",children:["Tous","Anonymes","Non-Anonymes"].map(e=>(0,wt.jsxs)("button",{className:"flex items-center px-3 py-2 rounded-md transition-all ".concat(g===e||"Tous"===e&&"Tous"===g?"bg-white text-blue-700 font-semibold shadow-sm":"text-gray-600 hover:text-gray-800"),onClick:()=>x(e),children:[(0,wt.jsx)("span",{className:"mr-2",children:e}),(0,wt.jsx)("span",{className:"bg-gray-200 rounded-full px-2 py-1 text-xs font-medium",children:Q[e]})]},e))}),(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsxs)("button",{className:"bg-white border border-gray-300 rounded-lg px-3 py-2 font-medium flex items-center gap-2 hover:bg-gray-50 transition-colors text-sm",children:[(0,wt.jsx)("span",{children:"\ud83d\udcc4"})," Exporter PDF"]}),(0,wt.jsxs)("button",{className:"bg-blue-600 text-white rounded-lg px-3 py-2 font-medium flex items-center gap-2 hover:bg-blue-700 transition-colors text-sm",children:[(0,wt.jsx)("span",{children:"\ud83d\udce5"})," Exporter CSV"]})]})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border overflow-hidden",children:[(0,wt.jsx)("div",{className:"overflow-x-auto",children:(0,wt.jsxs)("table",{className:"min-w-full",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{className:"bg-gray-50 border-b",children:[(0,wt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"R\xc9F\xc9RENCE"}),(0,wt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"DATE"}),(0,wt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NOM/PR\xc9NOM"}),(0,wt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"R\xc9GION/PROVINCE"}),(0,wt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"DESCRIPTION"}),(0,wt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"\xc9TAT"}),(0,wt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ANONYMAT"}),(0,wt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ACTIONS"})]})}),(0,wt.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===_.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:(0,wt.jsxs)("div",{className:"flex flex-col items-center",children:[(0,wt.jsx)("span",{className:"text-2xl mb-2",children:"\ud83d\udd0d"}),(0,wt.jsx)("p",{children:"Aucun signalement trouv\xe9 avec les crit\xe8res actuels"}),(0,wt.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm mt-2",onClick:U,children:"R\xe9initialiser les filtres"})]})})}):_.map(e=>(0,wt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-blue-600",children:e.reference}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:S(e.date)}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.name}),(0,wt.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:[e.region," / ",e.city]}),(0,wt.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",children:e.description}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-amber-100 text-amber-800":"finalise"===e.status?"bg-green-100 text-green-800":"doublon"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:F(e.status)})}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.isAnonymous?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:E(e.isAnonymous)})}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"\xc9diter le signalement",children:(0,wt.jsx)("span",{className:"text-lg",children:"\u270f\ufe0f"})}),(0,wt.jsx)("button",{className:"p-2 text-green-600 hover:bg-green-100 rounded-lg transition-colors",title:"Voir les d\xe9tails",children:(0,wt.jsx)("span",{className:"text-lg",children:"\ud83d\udc41\ufe0f"})}),(0,wt.jsx)("button",{className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Plus d'actions",children:(0,wt.jsx)("span",{className:"text-lg",children:"\u2699\ufe0f"})})]})})]},e.reference))})]})}),_.length>0&&(0,wt.jsxs)("div",{className:"px-4 py-3 bg-gray-50 border-t text-sm text-gray-600",children:["Affichage de ",_.length," signalement(s) pour ",null===C||void 0===C?void 0:C.name]})]})]})}class BB{static setAuthToken(e){e?arguments.length>1&&void 0!==arguments[1]&&arguments[1]?localStorage.setItem("auth_token",e):sessionStorage.setItem("auth_token",e):(localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"))}static getAuthToken(){return localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")}static setUserData(e){localStorage.setItem("user",JSON.stringify(e))}static getUserData(){try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}}static clearAuth(){localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),localStorage.removeItem("user"),delete as.defaults.headers.common.Authorization}static initToken(){const e=this.getAuthToken();return e&&(as.defaults.headers.common.Authorization="Bearer ".concat(e)),e}static async login(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{console.log("[UserService] Login avec rememberMe:",r),this.clearAuth();const n=await as.post("/auth/login",{email:e,password:t,remember_me:r}),{token:s,user:a}=n.data;if(!s)throw new Error("No token received from server");return this.setAuthToken(s,r),this.setUserData(a),console.log("[UserService] Login r\xe9ussi:",null===a||void 0===a?void 0:a.email),{success:!0,user:a,token:s,message:"Connexion r\xe9ussie"}}catch(s){var n;return 401===(null===(n=s.response)||void 0===n?void 0:n.status)?{success:!1,message:"Email ou mot de passe incorrect"}:(console.error("[UserService] Erreur login:",s),this.handleError(s))}}static async logout(){try{await as.post("/auth/logout")}catch(e){console.warn("[UserService] Logout API error:",e)}finally{this.clearAuth(),console.log("[UserService] D\xe9connexion effectu\xe9e")}return{success:!0}}static async checkAuth(){try{var e;const t=this.getAuthToken();if(!t)return{isAuthenticated:!1,user:null};const r=await as.get("/check-auth"),n=(null===(e=r.data)||void 0===e?void 0:e.user)||r.data;return n?(this.setUserData(n),{isAuthenticated:!0,user:n,token:t}):(this.clearAuth(),{isAuthenticated:!1,user:null})}catch(r){var t;return 401===(null===(t=r.response)||void 0===t?void 0:t.status)?(this.clearAuth(),{isAuthenticated:!1,user:null}):{isAuthenticated:!1,user:null}}}static async getCurrentUser(){try{const e=(await as.get("/auth/user")).data;return this.setUserData(e),e}catch(e){return console.error("[UserService] Erreur getCurrentUser:",e),this.getUserData()}}static async getProfile(){try{return(await as.get("/profile")).data}catch(e){return this.handleError(e)}}static async getAllUsers(){try{console.log("[UserService] getAllUsers appel\xe9");return(await as.get("/users")).data}catch(e){return console.error("[UserService] Erreur getAllUsers:",e),this.handleError(e)}}static async getAllTeamUsers(){return this.getAllUsers()}static async getUsersByRole(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const r="agent"===e?"/users/agents":"investigateur"===e?"/users/investigateurs":"admin"===e?"/users/administrateurs":"/users";return(await as.get(r,{params:t})).data}catch(r){return this.handleError(r)}}static async getAgents(){try{return(await as.get("/users/agents")).data}catch(e){return this.handleError(e)}}static async getInvestigateurs(){try{return(await as.get("/users/investigateurs")).data}catch(e){return this.handleError(e)}}static async getAdministrateurs(){try{return(await as.get("/users/administrateurs")).data}catch(e){return this.handleError(e)}}static async createUser(e){try{const t={first_name:e.firstname,last_name:e.lastname,email:e.email,username:e.username,password:e.password,role:e.role,departement:e.departement,telephone:e.telephone,adresse:e.adresse,responsabilites:e.responsabilites,specialisations:e.specialisations,statut:e.statut,password_confirmation:e.passwordconfirmation};console.log("[UserService] createUser envoy\xe9:",t);return(await as.post("/users",t)).data}catch(t){return console.error("[UserService] Erreur createUser:",t),this.handleError(t)}}static async createUserWithNotification(e){try{console.log("[UserService] createUserWithNotification appel\xe9 avec donn\xe9es brutes:",e),console.log("[UserService] Propri\xe9t\xe9s de userData:",Object.keys(e)),console.log("[UserService] Valeurs importantes:",{first_name:e.first_name,last_name:e.last_name,role:e.role,username:e.username,email:e.email});const t=e.first_name||e.firstname,r=e.last_name||e.lastname;if(!t)return console.error("[UserService] first_name/firstname manquant:",e),{success:!1,message:"Le pr\xe9nom est requis"};if(!r)return console.error("[UserService] last_name/lastname manquant:",e),{success:!1,message:"Le nom est requis"};let n=(e.role||"agent").toString().toLowerCase().trim();["admin","agent","investigateur"].includes(n)||(console.warn("[UserService] R\xf4le non valide, utilisation par d\xe9faut:",n),n="agent");const s={first_name:t,last_name:r,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation||e.passwordconfirmation,role:n,departement:e.departement,telephone:e.telephone,adresse:e.adresse,responsabilites:Array.isArray(e.responsabilites)?e.responsabilites:[],specialisations:Array.isArray(e.specialisations)?e.specialisations:[],statut:void 0===e.statut||e.statut};console.log("[UserService] Donn\xe9es format\xe9es pour createUserWithNotification:",s);const a=await as.post("/admin/users/create-with-notification",s);return console.log("[UserService] R\xe9ponse createUserWithNotification:",a.data),a.data}catch(r){var t;return console.error("[UserService] Erreur createUserWithNotification:",r),422===(null===(t=r.response)||void 0===t?void 0:t.status)&&console.error("[UserService] Erreurs de validation:",r.response.data.errors),this.handleError(r)}}static async updateUser(e,t){try{const r={first_name:t.firstname,last_name:t.lastname,email:t.email,username:t.username,role:t.role,departement:t.departement,telephone:t.telephone,adresse:t.adresse,responsabilites:t.responsabilites,specialisations:t.specialisations,statut:t.statut};t.password&&(r.password=t.password,r.password_confirmation=t.passwordconfirmation),console.log("[UserService] updateUser envoy\xe9:",e,r);return(await as.put("/users/".concat(e),r)).data}catch(r){return console.error("[UserService] Erreur updateUser:",r),this.handleError(r)}}static async deleteUser(e){try{console.log("[UserService] deleteUser:",e);return(await as.delete("/users/".concat(e))).data}catch(t){return console.error("[UserService] Erreur deleteUser:",t),this.handleError(t)}}static async toggleStatus(e){try{console.log("[UserService] toggleStatus:",e);return(await as.post("/users/".concat(e,"/toggle-status"))).data}catch(t){return console.error("[UserService] Erreur toggleStatus:",t),this.handleError(t)}}static async resetPassword(e,t){try{return(await as.post("/users/".concat(e,"/reset-password"),{new_password:t.password,new_password_confirmation:t.passwordconfirmation})).data}catch(r){return this.handleError(r)}}static async restoreUser(e){try{return(await as.post("/users/".concat(e,"/restore"))).data}catch(t){return this.handleError(t)}}static async getStats(){try{return(await as.get("/users/stats")).data}catch(e){return this.handleError(e)}}static async getRoles(){try{return(await as.get("/users/roles")).data}catch(e){return this.handleError(e)}}static async getNotifications(){try{return(await as.get("/notifications")).data}catch(e){return this.handleError(e)}}static async getRecentNotifications(){try{return(await as.get("/notifications/recent")).data}catch(e){return this.handleError(e)}}static async getUnreadNotificationCount(){try{return(await as.get("/notifications/unread-count")).data}catch(e){return this.handleError(e)}}static async markNotificationAsRead(e){try{return(await as.post("/notifications/".concat(e,"/read"))).data}catch(t){return this.handleError(t)}}static async markAllNotificationsAsRead(){try{return(await as.post("/notifications/read-all")).data}catch(e){return this.handleError(e)}}static async getAuditJournal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await as.get("/journal-audit",{params:e})).data}catch(t){return this.handleError(t)}}static async exportAuditJournal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await as.post("/admin/audit/journal/export",e,{responseType:"blob"})).data}catch(t){return this.handleError(t)}}static async sendTwoFactorCode(){try{return(await as.post("/2fa/send-code")).data}catch(e){return this.handleError(e)}}static async verifyTwoFactorCode(e){try{return(await as.post("/2fa/verify",{code:e})).data}catch(t){return this.handleError(t)}}static async checkTwoFactorStatus(){try{return(await as.get("/2fa/status")).data}catch(e){return this.handleError(e)}}static async sendEmailVerificationCode(){try{return(await as.post("/email/verification-notification")).data}catch(e){return this.handleError(e)}}static async verifyEmail(e,t){try{return(await as.post("/email/verify",{code:e,email:t})).data}catch(r){return this.handleError(r)}}static async checkEmailVerificationStatus(){try{return(await as.get("/email/verification-status")).data}catch(e){return this.handleError(e)}}static async checkApiConnection(){try{return await as.get("/health"),!0}catch(e){return!1}}static async getSessionInfo(){try{return(await as.get("/debug/session")).data}catch(e){return this.handleError(e)}}static debugMethods(){const e=Object.getOwnPropertyNames(BB).filter(e=>"function"===typeof BB[e]).sort();return console.log("[UserService] M\xe9thodes disponibles:",e),console.log("[UserService] createUserWithNotification exists:",typeof BB.createUserWithNotification),{methods:e,createUserWithNotificationExists:"function"===typeof BB.createUserWithNotification}}static formatUserForDisplay(e){const t=e=>{if(Array.isArray(e))return e;if(!e||""===e)return[];if("string"===typeof e&&e.trim().startsWith("[")&&e.trim().endsWith("]"))try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch(QN){}return e.toString().split(",").map(e=>e.trim()).filter(e=>""!==e)};return{id:e.id,firstname:e.firstname||e.first_name||"",lastname:e.lastname||e.last_name||"",email:e.email||"",telephone:e.telephone||e.phone||"",departement:e.departement||"",username:e.username||"",role:e.role||"Agent",specialisations:t(e.specialisations),responsabilites:t(e.responsabilites),adresse:e.adresse||"",statut:void 0===e.statut||e.statut}}static handleError(e){if(console.error("[UserService] Gestion d'erreur",e),e.response){const{status:n,data:s}=e.response;let a=(null===s||void 0===s?void 0:s.message)||(null===s||void 0===s?void 0:s.error)||"Une erreur est survenue";if(401===n)a="Votre session a expir\xe9, veuillez vous reconnecter",this.clearAuth();else if(403===n)a=(null===s||void 0===s?void 0:s.message)||"Acc\xe8s refus\xe9 - Droits insuffisants";else if(404===n)a="Ressource introuvable";else if(405===n){var t,r;a="M\xe9thode non autoris\xe9e (".concat(null===(t=e.config)||void 0===t||null===(r=t.method)||void 0===r?void 0:r.toUpperCase(),")")}else if(422===n)if(s.errors){const e=Object.values(s.errors)[0];a=Array.isArray(e)?e[0]:e}else a=(null===s||void 0===s?void 0:s.message)||"Donn\xe9es invalides";else 500===n&&(a="Erreur serveur interne. Veuillez r\xe9essayer.");return{success:!1,message:a,status:n,data:s}}return e.request?{success:!1,message:"Impossible de contacter le serveur",status:0,isNetworkError:!0}:{success:!1,message:e.message||"Erreur inconnue",status:-1}}}as.interceptors.request.use(e=>{const t=BB.getAuthToken();return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),BB.initToken(),console.log("[UserService] Initialisation..."),BB.debugMethods();const NB=BB,jB=Et("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),CB=Et("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),kB=Et("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),SB=Et("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),FB=[{id:"agents",label:"Agents",icon:Cs,className:"w-4 h-4"},{id:"administrateurs",label:"Administrateurs",icon:Ww,className:"w-4 h-4"}],EB=["DAAQ","DRSE"],_B=["DAAQ","DRSE","CAC","DAJ","Ministre"],UB=[{id:1,name:"Admin",code:"admin"},{id:2,name:"Agent",code:"agent"}],QB=e=>{if(console.log("parseStringToArray input:",e,typeof e),Array.isArray(e))return console.log("D\xe9j\xe0 un tableau, retourn\xe9:",e),e;if(!e||""===e)return console.log("Valeur vide, retourne tableau vide"),[];if("string"===typeof e){const t=e.trim();if(t.startsWith("[")&&t.endsWith("]"))try{const e=JSON.parse(t);return console.log("JSON pars\xe9:",e),Array.isArray(e)?e:[]}catch(QN){console.warn("\xc9chec du parsing JSON:",t,QN)}const r=e.split(",").map(e=>e.trim()).filter(e=>""!==e);return console.log("Split par virgule:",r),r}return console.log("Type non g\xe9r\xe9:",typeof e,"retourne tableau vide"),[]},LB=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("mapFormDataToPayload input:",{formData:e,firstname:e.firstname,lastname:e.lastname,role:e.role,specialisations:e.specialisations,responsabilites:e.responsabilites});const r=Array.isArray(e.specialisations)?e.specialisations:[],n=Array.isArray(e.responsabilites)?e.responsabilites:[],s=e.role?e.role.toLowerCase():"agent",a={name:"".concat(e.firstname||""," ").concat(e.lastname||"").trim(),first_name:e.firstname||"",last_name:e.lastname||"",email:e.email||"",phone:e.telephone||"",telephone:e.telephone||"",departement:e.departement||"",username:e.username||"",role:s,responsabilites:n,specialisations:r,adresse:e.adresse||"",statut:void 0===e.statut||e.statut};return t&&e.password&&(a.password=e.password,a.password_confirmation=e.passwordconfirmation),Object.keys(a).forEach(e=>{""!==a[e]&&null!==a[e]&&void 0!==a[e]||delete a[e]}),console.log("Payload envoy\xe9 au backend (corrig\xe9):",a),a},IB=e=>{var t;if(!e)return"Non d\xe9fini";const r="string"===typeof e?e.toLowerCase():null===(t=e.code)||void 0===t?void 0:t.toLowerCase(),n=UB.find(e=>e.code===r);return n?n.name:e};function MB(e){let{password:t,errors:r={}}=e;const n=[{label:"8 caract\xe8res minimum",met:t.length>=8},{label:"Premi\xe8re lettre en majuscule",met:/[A-Z]/.test(t)},{label:"Au moins un chiffre",met:/\d/.test(t)},{label:"Au moins un caract\xe8re sp\xe9cial",met:/[!@#$%^&*(),.?":{}|<>]/.test(t)}],s=n.every(e=>e.met);return(0,wt.jsxs)("div",{className:"space-y-2 mt-2 p-3 bg-gray-50 rounded-lg",children:[(0,wt.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"S\xe9curit\xe9 du mot de passe"}),(0,wt.jsx)("div",{className:"grid grid-cols-1 gap-1",children:n.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e.met?(0,wt.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs",children:"\u2713"}):(0,wt.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-200 border border-gray-300"}),(0,wt.jsx)("span",{className:e.met?"text-green-700 font-medium":"text-red-600 font-medium",children:e.label})]},t))}),r.password&&(0,wt.jsx)("div",{className:"text-xs text-red-600 font-medium mt-1",children:r.password}),s&&(0,wt.jsxs)("div",{className:"text-xs text-green-600 font-bold mt-1 flex items-center",children:[(0,wt.jsx)(Ww,{className:"w-3 h-3 mr-1"}),"Mot de passe s\xe9curis\xe9"]})]})}function DB(e){let{message:t,type:r="error",show:n,onClose:s,details:a=null}=e;return(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-[9999] transition-all duration-500 transform ".concat(n?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,wt.jsxs)("div",{className:"border-l-4 ".concat((()=>{switch(r){case"success":return"border-green-500 bg-green-50";case"warning":return"border-yellow-500 bg-yellow-50";case"info":return"border-blue-500 bg-blue-50";default:return"border-red-500 bg-red-50"}})()," rounded-lg shadow-2xl p-4 w-96 max-w-full flex items-start"),children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(r){case"success":return(0,wt.jsx)(ys,{className:"h-6 w-6 text-green-500"});case"warning":return(0,wt.jsx)("svg",{className:"h-6 w-6 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.998-.833-2.732 0L4.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":return(0,wt.jsx)("svg",{className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,wt.jsx)(Ut,{className:"h-6 w-6 text-red-500"})}})()}),(0,wt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,wt.jsx)("p",{className:"text-sm font-bold text-gray-900 leading-5",children:(()=>{switch(r){case"success":return"Succ\xe8s";case"warning":return"Avertissement";case"info":return"Information";default:return"Erreur de validation"}})()}),(0,wt.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-600",children:t}),a&&(0,wt.jsxs)("div",{className:"mt-2 p-2 bg-white rounded border border-gray-200",children:[(0,wt.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"D\xe9tails :"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:a})]})]}),(0,wt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,wt.jsx)("button",{onClick:s,className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",children:(0,wt.jsx)(Lt,{className:"h-5 w-5"})})})]})})}function PB(e){let{show:t,title:r,message:n,onConfirm:s,onCancel:a,confirmText:i="Confirmer",cancelText:o="Annuler"}=e;return t?(0,wt.jsx)("div",{className:"fixed inset-0 z-[10000] overflow-y-auto",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center",children:[(0,wt.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:a}),(0,wt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,wt.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,wt.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,wt.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,wt.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,wt.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,wt.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,wt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:r}),(0,wt.jsx)("div",{className:"mt-2",children:(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:n})})]})]})}),(0,wt.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,wt.jsx)("button",{type:"button",onClick:s,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:i}),(0,wt.jsx)("button",{type:"button",onClick:a,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:o})]})]})]})}):null}const TB=()=>{const[e,r]=(0,t.useState)("agents"),[n,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!1),[l,A]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)({lastname:"",firstname:"",email:"",telephone:"",departement:"",username:"",password:"",passwordconfirmation:"",role:"Agent",specialisations:[],responsabilites:[],adresse:"",statut:!0}),[x,b]=(0,t.useState)({}),[v,y]=(0,t.useState)(!1),[w,B]=(0,t.useState)(null),[N,j]=(0,t.useState)({password:"",passwordconfirmation:""}),[C,k]=(0,t.useState)({search:"",departement:"",statut:""}),[S,F]=(0,t.useState)(!1),[E,_]=(0,t.useState)(!1),[U,Q]=(0,t.useState)(!1),[L,I]=(0,t.useState)(!1),[M,D]=(0,t.useState)({show:!1,message:"",type:"error",details:null}),[P,T]=(0,t.useState)({show:!1,title:"",message:"",userId:null,action:null});(0,t.useEffect)(()=>{K()},[e]);const O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";D({show:!0,message:e,type:t,details:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null});setTimeout(()=>{D(e=>o(o({},e),{},{show:!1}))},"error"===t?7e3:5e3)},R=(e,t)=>{const r="email"===e?"Email":"Nom d'utilisateur",n=t.map(e=>"\u2022 ".concat(e.firstname||""," ").concat(e.lastname||""," (").concat(e.email||e.username,")")).join("\n"),s="".concat(r," d\xe9j\xe0 utilis\xe9"),a="Cette ".concat("email"===e?"adresse email":"valeur"," est d\xe9j\xe0 associ\xe9e \xe0 :\n").concat(n);O(s,"error",a)},H=(e,t,r,n)=>{T({show:!0,title:e,message:t,userId:r,action:n})},z=()=>{T({show:!1,title:"",message:"",userId:null,action:null})},K=async()=>{i(!0),A(null);try{const e=await NB.getAllUsers();let t=[];Array.isArray(e)?t=e:null!==e&&void 0!==e&&e.users?t=e.users:null!==e&&void 0!==e&&e.data&&(t=e.data);const r=t.map(e=>({id:e.id,firstname:e.firstname||e.first_name||"",lastname:e.lastname||e.last_name||"",email:e.email||"",telephone:e.telephone||e.phone||"",departement:e.departement||"",username:e.username||"",role:e.role||"Agent",specialisations:QB(e.specialisations),responsabilites:QB(e.responsabilites),adresse:e.adresse||"",statut:void 0===e.statut||e.statut,fullName:e.full_name||"".concat(e.firstname||""," ").concat(e.lastname||"").trim()}));s(r||[])}catch(e){console.error("Erreur chargement",e),A("Impossible de charger les utilisateurs."),O("Impossible de charger les utilisateurs.","error"),s([])}finally{i(!1)}},V=(e,t)=>{const r={};switch(e){case"lastname":t.trim()||(r.lastname="Le nom est requis");break;case"firstname":t.trim()||(r.firstname="Le pr\xe9nom est requis");break;case"email":t.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(r.email="Format d'email invalide"):r.email="L'email est requis";break;case"telephone":t&&!/^\+?[0-9\s\-\(\)]{10,}$/.test(t.replace(/\s/g,""))&&(r.telephone="Num\xe9ro de t\xe9l\xe9phone invalide (chiffres uniquement)");break;case"username":t.trim()||(r.username="Le nom d'utilisateur est requis");break;case"departement":t||(r.departement="Le d\xe9partement est requis");break;case"password":t?t.length<8?r.password="8 caract\xe8res minimum":/[A-Z]/.test(t)?/\d/.test(t)?/[!@#$%^&*(),.?":{}|<>]/.test(t)||(r.password="Au moins un caract\xe8re sp\xe9cial"):r.password="Au moins un chiffre":r.password="Premi\xe8re lettre en majuscule":r.password="Le mot de passe est requis";break;case"passwordconfirmation":p.password&&t!==p.password&&(r.passwordconfirmation="Les mots de passe ne correspondent pas")}return r},q=()=>{const e={};return Object.keys(p).forEach(t=>{if("specialisations"!==t&&"responsabilites"!==t&&"adresse"!==t&&"statut"!==t){const r=V(t,p[t]);r[t]&&(e[t]=r[t])}}),u&&(delete e.password,delete e.passwordconfirmation),e},G=e=>{const{name:t,value:r}=e.target;let s=r;"telephone"===t&&(s=r.replace(/[^\d\+\s\-]/g,"")),g(e=>o(o({},e),{},{[t]:s}));const a=V(t,s),i=o({},x);if(a[t]?i[t]=a[t]:delete i[t],"email"===t&&r&&!u){n.some(e=>e.email.toLowerCase()===r.toLowerCase())?i.email="Cet email est d\xe9j\xe0 utilis\xe9 par un autre utilisateur":i.email&&i.email.includes("d\xe9j\xe0 utilis\xe9")&&delete i.email}if("username"===t&&r&&!u){n.some(e=>e.username.toLowerCase()===r.toLowerCase())?i.username="Ce nom d'utilisateur est d\xe9j\xe0 pris":i.username&&i.username.includes("d\xe9j\xe0 pris")&&delete i.username}if(u&&f){if("email"===t&&r){n.some(e=>e.email.toLowerCase()===r.toLowerCase()&&e.id!==f.id)?i.email="Cet email est d\xe9j\xe0 utilis\xe9 par un autre utilisateur":i.email&&i.email.includes("d\xe9j\xe0 utilis\xe9")&&delete i.email}if("username"===t&&r){n.some(e=>e.username.toLowerCase()===r.toLowerCase()&&e.id!==f.id)?i.username="Ce nom d'utilisateur est d\xe9j\xe0 pris":i.username&&i.username.includes("d\xe9j\xe0 pris")&&delete i.username}}b(i)},W=(e,t)=>{if("Enter"===e.key||","===e.key){e.preventDefault();const r=e.target,n=r.value.trim().replace(/,$/,"");n&&!p[t].includes(n)&&(g(e=>o(o({},e),{},{[t]:[...e[t],n]})),r.value="")}},J=(e,t)=>{g(r=>o(o({},r),{},{[e]:r[e].filter((e,r)=>r!==t)}))},Y=()=>{d(!1),m(null),b({})},X=()=>{y(!1),B(null)},Z=e=>{const{name:t,value:r}=e.target;j(e=>o(o({},e),{},{[t]:r}))},$=n.filter(t=>{var r;const n=C.search.toLowerCase(),s="".concat(t.lastname||""," ").concat(t.firstname||"").trim();let a="agent";"administrateurs"===e&&(a="admin");const i=(("string"===typeof t.role?t.role:null===(r=t.role)||void 0===r?void 0:r.code)||"").toLowerCase()===a,o=!C.search||s.toLowerCase().includes(n)||(t.email||"").toLowerCase().includes(n)||(t.username||"").toLowerCase().includes(n),l=!C.departement||t.departement===C.departement,A=!C.statut||("actif"===C.statut?t.statut:!t.statut);return i&&o&&l&&A}),ee=()=>{const e=["lastname","firstname","email","departement","username"];u||e.push("password","passwordconfirmation");for(const r of e)if(!p[r]||""===p[r].toString().trim())return!1;const t=q();return!(Object.keys(t).length>0)&&((!x.email||!x.email.includes("d\xe9j\xe0 utilis\xe9"))&&(!x.username||!x.username.includes("d\xe9j\xe0 pris")))};function te(e){let{password:t}=e;const r=[{label:"8 caract\xe8res minimum",met:t.length>=8},{label:"Premi\xe8re lettre en majuscule",met:/[A-Z]/.test(t)},{label:"Au moins un chiffre",met:/\d/.test(t)},{label:"Au moins un caract\xe8re sp\xe9cial",met:/[!@#$%^&*(),.?":{}|<>]/.test(t)}],n=r.every(e=>e.met);return(0,wt.jsxs)("div",{className:"space-y-2 mt-2 p-3 bg-gray-50 rounded-lg",children:[(0,wt.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"S\xe9curit\xe9 du mot de passe"}),(0,wt.jsx)("div",{className:"grid grid-cols-1 gap-1",children:r.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e.met?(0,wt.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs",children:"\u2713"}):(0,wt.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-200 border border-gray-300"}),(0,wt.jsx)("span",{className:e.met?"text-green-700 font-medium":"text-red-600 font-medium",children:e.label})]},t))}),n&&(0,wt.jsxs)("div",{className:"text-xs text-green-600 font-bold mt-1 flex items-center",children:[(0,wt.jsx)(Ww,{className:"w-3 h-3 mr-1"}),"Mot de passe s\xe9curis\xe9"]})]})}return(0,wt.jsxs)("div",{className:"min-h-screen bg-gray-50/50 p-6",children:[(0,wt.jsx)(DB,{message:M.message,type:M.type,show:M.show,onClose:()=>D(e=>o(o({},e),{},{show:!1})),details:M.details}),(0,wt.jsx)(PB,{show:P.show,title:P.title,message:P.message,onConfirm:async()=>{const{userId:e,action:t}=P;if(e){try{"delete"===t?(await NB.deleteUser(e),O("Utilisateur supprim\xe9 avec succ\xe8s","success"),K()):"toggleStatus"===t&&(await NB.toggleStatus(e),O("Statut utilisateur mis \xe0 jour","success"),K())}catch(r){O("Erreur ".concat("delete"===t?"lors de la suppression":"lors de la mise \xe0 jour du statut"),"error")}z()}else z()},onCancel:z,confirmText:"Confirmer",cancelText:"Annuler"}),(0,wt.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion d'\xe9quipe"}),(0,wt.jsx)("p",{className:"text-gray-500 mt-1",children:"Administration des acc\xe8s et des r\xf4les du personnel"})]}),(0,wt.jsxs)("button",{onClick:()=>{h(!1),m(null);let t="agent",r="DAAQ";"administrateurs"===e?(t="admin",r="DAAQ"):"agents"===e&&(t="agent",r="DAAQ"),g({lastname:"",firstname:"",email:"",telephone:"",departement:r,username:"",password:"",passwordconfirmation:"",role:t,specialisations:[],responsabilites:[],adresse:"",statut:!0}),b({}),F(!1),_(!1),d(!0),console.log("Modal cr\xe9ation ouvert:",{defaultRole:t,defaultDept:r})},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,wt.jsx)(em,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]}),(0,wt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1",children:(0,wt.jsx)("div",{className:"flex space-x-1 overflow-x-auto",children:FB.map(t=>(0,wt.jsxs)("button",{onClick:()=>r(t.id),className:"flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 whitespace-nowrap ".concat(e===t.id?"bg-blue-50 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,wt.jsx)(t.icon,{className:"mr-2 ".concat(t.className)}),(0,wt.jsx)("span",{children:t.label})]},t.id))})}),(0,wt.jsxs)("div",{className:"space-y-4",children:[(0,wt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,wt.jsx)("div",{className:"md:col-span-2",children:(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Ns,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",placeholder:"Rechercher un membre...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:C.search,onChange:e=>k(t=>o(o({},t),{},{search:e.target.value}))})]})}),(0,wt.jsxs)("select",{value:C.departement,onChange:e=>k(t=>o(o({},t),{},{departement:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[(0,wt.jsx)("option",{value:"",children:"Tous les d\xe9partements"}),"agents"===e&&EB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e)),"administrateurs"===e&&_B.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]}),(0,wt.jsxs)("select",{value:C.statut,onChange:e=>k(t=>o(o({},t),{},{statut:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[(0,wt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,wt.jsx)("option",{value:"actif",children:"Actifs uniquement"}),(0,wt.jsx)("option",{value:"inactif",children:"Inactifs uniquement"})]})]})}),(0,wt.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[(0,wt.jsxs)("div",{className:"text-sm text-gray-600",children:[$.length," r\xe9sultat",1!==$.length?"s":""," trouv\xe9",1!==$.length?"s":""]}),(0,wt.jsxs)("button",{onClick:()=>((e,t)=>{if(!e||0===e.length)return void alert("Aucune donn\xe9e \xe0 exporter");const r=[["ID","Pr\xe9nom","Nom","Email","T\xe9l\xe9phone","D\xe9partement","Nom d'Utilisateur","R\xf4le","Statut","Sp\xe9cialisations","Responsabilit\xe9s","Adresse"].join(","),...e.map(e=>[e.id,e.firstname||e.first_name||"",e.lastname||e.last_name||"",e.email||"",e.telephone||e.phone||"",e.departement||"",e.username||"",IB(e.role),e.statut?"Actif":"Inactif",Array.isArray(e.specialisations)?e.specialisations.join(", "):e.specialisations||"",Array.isArray(e.responsabilites)?e.responsabilites.join(", "):e.responsabilites||"",e.adresse||""].join(","))].join("\n"),n=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),a=URL.createObjectURL(n);s.setAttribute("href",a),s.setAttribute("download","".concat(t,"_").concat((new Date).toISOString().split("T")[0],".csv")),document.body.appendChild(s),s.click(),document.body.removeChild(s)})($,"equipe-".concat(e)),className:"inline-flex items-center px-3 py-2 text-sm bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[(0,wt.jsx)(Us,{className:"w-4 h-4 mr-2"}),"Exporter CSV"]})]})]}),(0,wt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a?(0,wt.jsxs)("div",{className:"p-10 text-center text-gray-500",children:[(0,wt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,wt.jsx)("p",{className:"mt-2",children:"Chargement des donn\xe9es..."})]}):l?(0,wt.jsxs)("div",{className:"p-10 text-center",children:[(0,wt.jsx)(Ut,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),(0,wt.jsx)("p",{className:"text-red-600 font-medium",children:l})]}):(0,wt.jsx)("div",{className:"overflow-x-auto",children:(0,wt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,wt.jsx)("thead",{className:"bg-gray-50",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Poste"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"R\xf4le"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,wt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===$.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:7,className:"px-6 py-10 text-center text-gray-500",children:(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,wt.jsx)(Ns,{className:"w-10 h-10 text-gray-300 mb-2"}),(0,wt.jsx)("p",{children:"Aucun utilisateur trouv\xe9"}),(0,wt.jsx)("p",{className:"text-sm text-gray-400",children:"Essayez de modifier vos filtres de recherche."})]})})}):$.map(e=>{const t=e.lastname||e.firstname?"".concat(e.lastname||""," ").concat(e.firstname||"").trim():"Sans nom...",r="Sans nom..."!==t?t.charAt(0).toUpperCase():"?";return(0,wt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.id})}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wt.jsxs)("div",{className:"flex items-center",children:[(0,wt.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-bold text-sm",children:r}),(0,wt.jsxs)("div",{className:"ml-4",children:[(0,wt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t}),(0,wt.jsx)("div",{className:"text-xs text-gray-500",children:e.username||"Aucun username"})]})]})}),(0,wt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,wt.jsx)("div",{className:"text-sm text-gray-900",children:e.email||"Aucun email"}),(0,wt.jsx)("div",{className:"text-xs text-gray-500",children:e.telephone||"-"})]}),(0,wt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,wt.jsx)("div",{className:"text-sm text-gray-900",children:e.departement||"Non d\xe9fini"}),(0,wt.jsxs)("div",{className:"mt-1 space-y-1",children:[e.responsabilites&&e.responsabilites.length>0&&(0,wt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.responsabilites.slice(0,2).map((e,t)=>(0,wt.jsx)("span",{className:"text-xs bg-blue-50 text-blue-700 px-1.5 py-0.5 rounded-full",children:e},"resp-".concat(t))),e.responsabilites.length>2&&(0,wt.jsxs)("span",{className:"text-xs text-gray-400",children:["+",e.responsabilites.length-2]})]}),e.specialisations&&e.specialisations.length>0&&(0,wt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.specialisations.slice(0,2).map((e,t)=>(0,wt.jsx)("span",{className:"text-xs bg-purple-50 text-purple-700 px-1.5 py-0.5 rounded-full",children:e},"spec-".concat(t))),e.specialisations.length>2&&(0,wt.jsxs)("span",{className:"text-xs text-gray-400",children:["+",e.specialisations.length-2]})]})]})]}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wt.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:IB(e.role)})}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wt.jsx)("button",{onClick:()=>(e=>{const t=n.find(t=>t.id===e),r=!!t&&!t.statut;H("Changer le statut de l'utilisateur","\xcates-vous s\xfbr de vouloir ".concat(r?"activer":"d\xe9sactiver"," cet utilisateur ?"),e,"toggleStatus")})(e.id),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer transition-colors ".concat(e.statut?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"),children:e.statut?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(jB,{className:"w-3 h-3 mr-1"}),"Actif"]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(CB,{className:"w-3 h-3 mr-1"}),"Inactif"]})})}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,wt.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{console.log("Donn\xe9es utilisateur originales:",e),h(!0),m(e);const t=QB(e.specialisations),r=QB(e.responsabilites);let n=e.role||"agent";"string"===typeof n&&(n=n.toLowerCase());let s=e.departement||"";s||("agent"===n||"admin"===n?s="DAAQ":"investigateur"===n&&(s="DRSE")),g({lastname:e.lastname||e.last_name||"",firstname:e.firstname||e.first_name||"",email:e.email||"",telephone:e.telephone||"",departement:s,username:e.username||"",password:"",passwordconfirmation:"",role:n,specialisations:t,responsabilites:r,adresse:e.adresse||"",statut:void 0===e.statut||e.statut}),b({}),F(!1),_(!1),d(!0),console.log("Modal \xe9dition ouvert:",{userRole:n,userDepartement:s})})(e),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded",title:"Modifier l'utilisateur",children:(0,wt.jsx)(Xf,{className:"w-4 h-4"})}),(0,wt.jsx)("button",{onClick:()=>(e=>{B(e),j({password:"",passwordconfirmation:""}),Q(!1),I(!1),y(!0)})(e),className:"text-orange-400 hover:text-orange-600 p-1 hover:bg-orange-50 rounded",title:"Modifier le mot de passe",children:(0,wt.jsx)(kB,{className:"w-4 h-4"})}),(0,wt.jsx)("button",{onClick:()=>{return t=e.id,void H("Supprimer cet utilisateur ?","Cette action est irr\xe9versible. L'utilisateur sera d\xe9finitivement supprim\xe9.",t,"delete");var t},className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded",title:"Supprimer l'utilisateur",children:(0,wt.jsx)(Zf,{className:"w-4 h-4"})})]})})]},e.id)})})]})})}),c&&(0,wt.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center sm:block sm:p-0",children:[(0,wt.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:Y}),(0,wt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,wt.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:(0,wt.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[(0,wt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex items-center",children:u?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Xf,{className:"w-5 h-5 mr-2 text-orange-500"}),"Modifier l'Utilisateur"]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(em,{className:"w-5 h-5 mr-2 text-blue-600"}),"Nouvel Utilisateur"]})}),(0,wt.jsx)("button",{onClick:Y,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,wt.jsx)(Lt,{className:"h-6 w-6"})})]}),(0,wt.jsxs)("form",{onSubmit:async e=>{var t,r;e.preventDefault(),console.log("Formulaire avant envoi - formData:",p),console.log("Valeurs sp\xe9cifiques:",{firstname:p.firstname,lastname:p.lastname,email:p.email});const s=null===(t=e.nativeEvent.submitter)||void 0===t||null===(r=t.dataset)||void 0===r?void 0:r.action;if(!u){const e=n.filter(e=>e.email.toLowerCase()===p.email.toLowerCase());if(e.length>0)return R("email",e),b(e=>o(o({},e),{},{email:"Cet email est d\xe9j\xe0 utilis\xe9"})),void console.log("Utilisateurs existants avec cet email:",e);const t=n.filter(e=>e.username.toLowerCase()===p.username.toLowerCase());if(t.length>0)return R("username",t),b(e=>o(o({},e),{},{username:"Ce nom d'utilisateur est d\xe9j\xe0 pris"})),void console.log("Utilisateurs existants avec ce username:",t)}if(u&&f){const e=n.filter(e=>e.email.toLowerCase()===p.email.toLowerCase()&&e.id!==f.id);if(e.length>0)return R("email",e),void b(e=>o(o({},e),{},{email:"Cet email est d\xe9j\xe0 utilis\xe9"}));const t=n.filter(e=>e.username.toLowerCase()===p.username.toLowerCase()&&e.id!==f.id);if(t.length>0)return R("username",t),void b(e=>o(o({},e),{},{username:"Ce nom d'utilisateur est d\xe9j\xe0 pris"}))}const a=q();if(Object.keys(a).length>0)return b(a),void O("Veuillez corriger les erreurs dans le formulaire.","error");try{let e;if(!u){const t=LB(p,!0);if(console.log("Payload cr\xe9ation avec notification:",t),!t.first_name||!t.last_name)return void O("Erreur: Pr\xe9nom ou nom manquant","error");if(e=await NB.createUserWithNotification(t),console.log("R\xe9sultat cr\xe9ation:",e),e&&e.success)return O(e.message||"Compte utilisateur cr\xe9\xe9 avec succ\xe8s. Un email a \xe9t\xe9 envoy\xe9 \xe0 l'utilisateur.","success"),Y(),void K();var i,l,A,c,d,h,m,g;if(422===(null===(i=e)||void 0===i?void 0:i.status))if(null!==(l=e.message)&&void 0!==l&&l.includes("email")||null!==(A=e.data)&&void 0!==A&&null!==(c=A.errors)&&void 0!==c&&c.email){const e=n.filter(e=>e.email.toLowerCase()===p.email.toLowerCase());R("email",e)}else if(null!==(d=e.message)&&void 0!==d&&d.includes("username")||null!==(h=e.data)&&void 0!==h&&null!==(m=h.errors)&&void 0!==m&&m.username){const e=n.filter(e=>e.username.toLowerCase()===p.username.toLowerCase());R("username",e)}else{var x;O((null===(x=e)||void 0===x?void 0:x.message)||"Erreur lors de la cr\xe9ation de l'utilisateur","error")}else O((null===(g=e)||void 0===g?void 0:g.message)||"Erreur lors de la cr\xe9ation de l'utilisateur","error")}if(!f)return void O("Aucun utilisateur s\xe9lectionn\xe9","error");if("info"===s){const t=LB(p,!1);var v;if(console.log("Payload mise \xe0 jour:",t),e=await NB.updateUser(f.id,t),e&&e.success)O("Informations mises \xe0 jour avec succ\xe8s","success"),Y(),K();else O((null===(v=e)||void 0===v?void 0:v.message)||"Erreur lors de la mise \xe0 jour","error")}}catch(C){var y,w,B;console.error("Erreur compl\xe8te:",C);let e="Une erreur est survenue";if(422===(null===(y=C.response)||void 0===y?void 0:y.status)){var N,j;const e=(null===(N=C.response.data)||void 0===N?void 0:N.data)||(null===(j=C.response.data)||void 0===j?void 0:j.errors)||{};if(e.email){const e=n.filter(e=>e.email.toLowerCase()===p.email.toLowerCase());return void R("email",e)}if(e.username){const e=n.filter(e=>e.username.toLowerCase()===p.username.toLowerCase());return void R("username",e)}let t="Erreur de validation : ";const r=[];return Object.entries(e).forEach(e=>{let[t,n]=e;Array.isArray(n)&&r.push("".concat(t,": ").concat(n.join(", ")))}),r.length>0?t+=r.join(", "):t="Donn\xe9es invalides. Veuillez v\xe9rifier les informations saisies.",void O(t,"error")}C.message&&C.message.includes("createUserWithNotification is not a function")?(e="Erreur technique : La fonction de cr\xe9ation avec notification n'est pas disponible. Contactez l'administrateur.",console.error("Fonction manquante dans UserService:",C)):C.message?e=C.message:null!==(w=C.response)&&void 0!==w&&null!==(B=w.data)&&void 0!==B&&B.message&&(e=C.response.data.message),O("Erreur: ".concat(e),"error")}},className:"space-y-6",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:"text",name:"lastname",value:p.lastname,onChange:G,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all ".concat(x.lastname?"border-red-500":"border-gray-300"),placeholder:"Ex: Dupont",required:!0}),x.lastname&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.lastname})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pr\xe9nom ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:"text",name:"firstname",value:p.firstname,onChange:G,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all ".concat(x.firstname?"border-red-500":"border-gray-300"),placeholder:"ex: Jean",required:!0}),x.firstname&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.firstname})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"}),p.email&&!u&&n.some(e=>e.email.toLowerCase()===p.email.toLowerCase())&&(0,wt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 utilis\xe9"}),p.email&&u&&f&&n.some(e=>e.email.toLowerCase()===p.email.toLowerCase()&&e.id!==f.id)&&(0,wt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 utilis\xe9 par un autre utilisateur"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Fs,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"email",name:"email",value:p.email,onChange:G,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ".concat(x.email?"border-red-500":"border-gray-300"),placeholder:"jean.dupont@fosika.mg",required:!0})]}),x.email&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.email})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Ss,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",name:"telephone",value:p.telephone,onChange:G,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ".concat(x.telephone?"border-red-500":"border-gray-300"),placeholder:"+261 3X XX XXX XX"})]}),x.telephone&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.telephone})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom d'utilisateur"," ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"}),p.username&&!u&&n.some(e=>e.username.toLowerCase()===p.username.toLowerCase())&&(0,wt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 pris"}),p.username&&u&&f&&n.some(e=>e.username.toLowerCase()===p.username.toLowerCase()&&e.id!==f.id)&&(0,wt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 pris par un autre utilisateur"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Cs,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",name:"username",value:p.username,onChange:G,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none placeholder:text-gray-400 ".concat(x.username?"border-red-500":"border-gray-300"),placeholder:"Ex: jdupont",required:!u})]}),x.username&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.username})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["R\xf4le ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Ww,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsxs)("select",{name:"role",value:p.role,onChange:e=>{const t=e.target.value.toLowerCase();let r="";"agent"===t||"admin"===t?r="DAAQ":"investigateur"===t&&(r="DRSE"),g(e=>o(o({},e),{},{role:t,departement:r}));const n=V("departement",r);b(e=>o(o({},e),{},{departement:n.departement})),console.log("Role chang\xe9:",{newRole:t,defaultDepartement:r})},className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white appearance-none",children:[(0,wt.jsx)("option",{value:"agent",children:"Agent"}),(0,wt.jsx)("option",{value:"admin",children:"Admin"}),(0,wt.jsx)("option",{value:"investigateur",children:"Investigateur"})]})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["D\xe9partement ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(SB,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsxs)("select",{name:"departement",value:p.departement,onChange:G,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none appearance-none bg-white ".concat(x.departement?"border-red-500":"border-gray-300"),required:!0,children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner..."}),(()=>{const e=p.role;return console.log("getAvailableDepartements appel\xe9 avec r\xf4le:",e),"agent"===e?(console.log("D\xe9partements pour agent:",EB),EB):"admin"===e?(console.log("D\xe9partements pour admin:",_B),_B):"investigateur"===e?(console.log("D\xe9partements pour investigateur:",EB),EB):(console.log("R\xf4le non reconnu, retourne tableau vide"),[])})().map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]})]}),x.departement&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.departement}),(0,wt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["agent"===p.role&&"D\xe9partements disponibles: DAAQ, DRSE","admin"===p.role&&"D\xe9partements disponibles: DAAQ, DRSE, CAC, DAJ, Ministre","investigateur"===p.role&&"D\xe9partements disponibles: DAAQ, DRSE"]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsabilit\xe9s"}),(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("input",{type:"text",id:"responsabilites-input",className:"flex-1 px-3 py-2 border rounded-lg text-sm",placeholder:"Ex: Gestion de projet...",onKeyDown:e=>W(e,"responsabilites")}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=document.getElementById("responsabilites-input"),t=e.value.trim();t&&!p.responsabilites.includes(t)&&(g(e=>o(o({},e),{},{responsabilites:[...e.responsabilites,t]})),e.value="")},className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm hover:bg-blue-200",children:"Ajouter"})]}),(0,wt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[p.responsabilites.map((e,t)=>(0,wt.jsxs)("span",{className:"bg-blue-50 text-blue-700 text-xs px-3 py-1.5 rounded-full flex items-center",children:[e,(0,wt.jsx)("button",{type:"button",onClick:()=>J("responsabilites",t),className:"ml-2 hover:text-blue-900 text-sm",children:"\xd7"})]},t)),0===p.responsabilites.length&&(0,wt.jsx)("span",{className:"text-gray-400 text-xs italic",children:"Aucune responsabilit\xe9 d\xe9finie"})]}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Appuyez sur Entr\xe9e ou virgule, ou utilisez le bouton "Ajouter"'})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sp\xe9cialisations"}),(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("input",{type:"text",id:"specialisations-input",className:"flex-1 px-3 py-2 border rounded-lg text-sm",placeholder:"Ex: Fraude, Corruption...",onKeyDown:e=>W(e,"specialisations")}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=document.getElementById("specialisations-input"),t=e.value.trim();t&&!p.specialisations.includes(t)&&(g(e=>o(o({},e),{},{specialisations:[...e.specialisations,t]})),e.value="")},className:"px-3 py-2 bg-purple-100 text-purple-700 rounded-lg text-sm hover:bg-purple-200",children:"Ajouter"})]}),(0,wt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[p.specialisations.map((e,t)=>(0,wt.jsxs)("span",{className:"bg-purple-50 text-purple-700 text-xs px-3 py-1.5 rounded-full flex items-center",children:[e,(0,wt.jsx)("button",{type:"button",onClick:()=>J("specialisations",t),className:"ml-2 hover:text-purple-900 text-sm",children:"\xd7"})]},t)),0===p.specialisations.length&&(0,wt.jsx)("span",{className:"text-gray-400 text-xs italic",children:"Aucune sp\xe9cialisation d\xe9finie"})]}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Appuyez sur Entr\xe9e ou virgule, ou utilisez le bouton "Ajouter"'})]})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),(0,wt.jsx)("input",{type:"text",name:"adresse",value:p.adresse,onChange:G,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Adresse physique..."})]}),!u&&(0,wt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mt-4",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Mot de passe"," ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:S?"text":"password",name:"password",value:p.password,onChange:G,className:"w-full px-3 py-2 border rounded-md text-sm pr-10 placeholder:text-gray-400 ".concat(x.password?"border-red-500":"border-gray-300"),placeholder:"Cr\xe9er un mot de passe",required:!0}),(0,wt.jsx)("button",{type:"button",onClick:()=>F(!S),className:"absolute right-3 top-9 h-4 w-4 text-gray-400 hover:text-gray-600",children:S?(0,wt.jsx)(aB,{size:16}):(0,wt.jsx)(_s,{size:16})})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Confirmation"," ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:E?"text":"password",name:"passwordconfirmation",value:p.passwordconfirmation,onChange:G,className:"w-full px-3 py-2 border rounded-md text-sm pr-10 placeholder:text-gray-400 ".concat(x.passwordconfirmation?"border-red-500":"border-gray-300"),placeholder:"R\xe9p\xe9ter le mot de passe"}),(0,wt.jsx)("button",{type:"button",onClick:()=>_(!E),className:"absolute right-3 top-9 h-4 w-4 text-gray-400 hover:text-gray-600",children:E?(0,wt.jsx)(aB,{size:16}):(0,wt.jsx)(_s,{size:16})})]})]}),p.password&&(0,wt.jsx)(MB,{password:p.password,errors:x}),x.passwordconfirmation&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-2",children:x.passwordconfirmation})]}),(0,wt.jsxs)("div",{className:"flex flex-wrap justify-end gap-3 pt-4 border-t mt-6",children:[(0,wt.jsx)("button",{type:"button",onClick:Y,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:"Annuler"}),(0,wt.jsxs)("button",{type:"submit","data-action":u?"info":"create",className:"px-6 py-2 rounded-lg transition-colors flex items-center shadow-sm ".concat(ee()?"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"),disabled:!ee(),children:[(0,wt.jsx)(dB,{className:"w-4 h-4 mr-2"}),u?"Mettre \xe0 jour":"Enregistrer"]})]})]})]})})]})}),v&&(0,wt.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center sm:block sm:p-0",children:[(0,wt.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:X}),(0,wt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,wt.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,wt.jsxs)("div",{className:"bg-white px-6 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b pb-3",children:[(0,wt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Modifier le mot de passe"}),(0,wt.jsx)("button",{onClick:X,className:"text-gray-400 hover:text-gray-600",children:(0,wt.jsx)(Lt,{className:"w-6 h-6"})})]}),(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),w)if(N.password)if(N.password===N.passwordconfirmation)if(N.password.length<8)O("Le mot de passe doit contenir au moins 8 caract\xe8res.","error");else if(/[A-Z]/.test(N.password))if(/\d/.test(N.password))if(/[!@#$%^&*(),.?":{}|<>]/.test(N.password))try{const e={new_password:N.password,new_password_confirmation:N.passwordconfirmation},t=await NB.resetPassword(w.id,e);t&&t.success?(O("Mot de passe mis \xe0 jour avec succ\xe8s","success"),X()):O((null===t||void 0===t?void 0:t.message)||"Erreur lors de la mise \xe0 jour du mot de passe","error")}catch(t){const e=NB.handleError(t);e.message.includes("new password field is required")?O("Le champ 'nouveau mot de passe' est requis.","error"):O("Erreur: ".concat(e.message),"error")}else O("Le mot de passe doit contenir au moins un caract\xe8re sp\xe9cial.","error");else O("Le mot de passe doit contenir au moins un chiffre.","error");else O("Le mot de passe doit commencer par une majuscule.","error");else O("Les mots de passe ne correspondent pas.","error");else O("Le mot de passe est requis.","error")},className:"space-y-4",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nouveau mot de passe"," ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:U?"text":"password",name:"password",value:N.password,onChange:Z,className:"w-full mt-1 p-2 border rounded-md pr-10",placeholder:"Minimum 8 caract\xe8res, Majuscule, Chiffre, Caract\xe8re sp\xe9cial",required:!0}),(0,wt.jsx)("button",{type:"button",onClick:()=>Q(!U),className:"absolute right-3 top-10 h-4 w-4 text-gray-400 hover:text-gray-600",children:U?(0,wt.jsx)(aB,{size:16}):(0,wt.jsx)(_s,{size:16})})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirmation ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:L?"text":"password",name:"passwordconfirmation",value:N.passwordconfirmation,onChange:Z,className:"w-full mt-1 p-2 border rounded-md pr-10",placeholder:"R\xe9p\xe9ter le mot de passe",required:!0}),(0,wt.jsx)("button",{type:"button",onClick:()=>I(!L),className:"absolute right-3 top-10 h-4 w-4 text-gray-400 hover:text-gray-600",children:L?(0,wt.jsx)(aB,{size:16}):(0,wt.jsx)(_s,{size:16})})]}),N.password&&(0,wt.jsx)(te,{password:N.password}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:X,className:"px-4 py-2 rounded border border-gray-300 hover:bg-gray-100",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Enregistrer"})]})]})]})})]})})]})]})},OB=Et("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),RB=Et("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),HB=Et("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),zB=Et("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),KB=["Antananarivo","Fianarantsoa","Toamasina","Mahajanga","Toliara","Antsiranana"],VB=["PROFESSEUR EMMERITE","PROFESSEUR TITULAIRE","PROFESSEUR D'ENSEIGNEMENT SUPERIEUR","MAITRE DE CONFERENCE D'ENSEIGNEMENT SUPERIEUR","ASSITANT D'ENSEIGNEMENT SUPERIEUR"],qB=["PT","PES","MC","AES","PE"],GB=e=>String(null!==e&&void 0!==e?e:"").trim().replace(/\s+/g," ").toUpperCase(),WB=e=>{var t;return e?Array.isArray(e)?e:Array.isArray(e.data)?e.data:e.data&&Array.isArray(e.data.data)?e.data.data:Array.isArray(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.enseignants)?e.data.enseignants:[]:[]},JB=e=>{let{message:t,type:r="success",onClose:n}=e;const s={success:{icon:(0,wt.jsx)(ys,{className:"w-6 h-6 text-green-500"}),borderColor:"border-green-500",bgColor:"bg-green-50"},error:{icon:(0,wt.jsx)(Bs,{className:"w-6 h-6 text-red-500"}),borderColor:"border-red-500",bgColor:"bg-red-50"}},{icon:a,borderColor:i,bgColor:o}=s[r];return(0,wt.jsxs)("div",{className:"".concat(o," border-l-4 ").concat(i," rounded shadow-2xl p-4 w-80 flex items-start animate-in slide-in-from-right duration-300"),children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:a}),(0,wt.jsx)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:(0,wt.jsx)("p",{className:"text-sm font-medium text-gray-900 leading-5",children:t})}),(0,wt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,wt.jsx)("button",{onClick:n,className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none transition ease-in-out duration-150",children:(0,wt.jsx)(Lt,{className:"h-5 w-5"})})})]})},YB=e=>{let{isOpen:t,onClose:r,title:n,children:s,size:a="md"}=e;if(!t)return null;return(0,wt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[a]," overflow-hidden flex flex-col max-h-[90vh]"),children:[(0,wt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[(0,wt.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:n}),(0,wt.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,wt.jsx)(Lt,{size:20})})]}),(0,wt.jsx)("div",{className:"p-6 overflow-y-auto",children:s})]})})},XB=e=>{let{isOpen:t,onClose:r,onConfirm:n,title:s,message:a,type:i="danger"}=e;if(!t)return null;const o={danger:{icon:(0,wt.jsx)(Hi,{className:"w-12 h-12"}),iconBg:"bg-red-100",iconColor:"text-red-600",buttonBg:"bg-red-600 hover:bg-red-700",borderColor:"border-red-200"}}[i];return(0,wt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,wt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200",children:[(0,wt.jsx)("div",{className:"p-6",children:(0,wt.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,wt.jsx)("div",{className:"".concat(o.iconBg," ").concat(o.iconColor," rounded-full p-4 mb-4"),children:o.icon}),(0,wt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s}),(0,wt.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-line",children:a})]})}),(0,wt.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex gap-3 border-t ".concat(o.borderColor),children:[(0,wt.jsx)("button",{onClick:r,className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:()=>{n(),r()},className:"flex-1 px-4 py-2.5 ".concat(o.buttonBg," text-white rounded-lg font-medium transition-colors shadow-sm"),children:"Confirmer"})]})]})})},ZB=e=>{let{children:r,trigger:n}=e;const[s,a]=(0,t.useState)(!1);return(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("button",{onClick:()=>a(!s),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:n}),s&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),(0,wt.jsx)("div",{className:"absolute right-0 top-8 z-20 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-[150px]",children:t.Children.map(r,e=>t.cloneElement(e,{onClick:()=>{var t,r;null===(t=(r=e.props).onClick)||void 0===t||t.call(r),a(!1)}}))})]})]})},$B=e=>{let{icon:t,label:r,onClick:n,danger:s}=e;return(0,wt.jsxs)("button",{onClick:n,className:"w-full px-4 py-2 text-left text-sm flex items-center gap-2 hover:bg-gray-50 transition-colors ".concat(s?"text-red-600 hover:bg-red-50":"text-gray-700"),children:[t,(0,wt.jsx)("span",{children:r})]})},eN=()=>{const[e,r]=(0,t.useState)("selection"),[n,s]=(0,t.useState)(null),[a,i]=(0,t.useState)("RECAP"),[l,A]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)(!0),[x,b]=(0,t.useState)(null),[v,y]=(0,t.useState)(!1),[w,B]=(0,t.useState)(!1),[N,j]=(0,t.useState)(!1),[C,k]=(0,t.useState)(!1),[S,F]=(0,t.useState)(!1),[E,_]=(0,t.useState)(!1),[U,Q]=(0,t.useState)(null),[L,I]=(0,t.useState)(null),[M,D]=(0,t.useState)({isOpen:!1,title:"",message:"",onConfirm:null}),[P,T]=(0,t.useState)({show:!1,message:"",type:"success"}),[O,R]=(0,t.useState)({nom:"",province:KB[0],code:""}),[H,z]=(0,t.useState)(""),[K,V]=(0,t.useState)({nom:"",sexe:"M",im:"",date_naissance:"",corps:"MC",diplome:"",specialite:"",categorie:VB[2]}),[q,G]=(0,t.useState)(null),[W,J]=(0,t.useState)(1),[Y,X]=(0,t.useState)(10),[Z,$]=(0,t.useState)(""),ee=(0,t.useMemo)(()=>VB.map(e=>GB(e)),[]),te=function(e){T({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>T({show:!1,message:"",type:"success"}),5e3)},re=e=>{const t=e.replace(/\D/g,"");let r="";if(t.length>0){let e=t.substring(0,2);if(2===e.length&&parseInt(e)>31&&(e="31"),2===e.length&&0===parseInt(e)&&(e="01"),r=e,t.length>=3){let e=t.substring(2,4);2===e.length&&parseInt(e)>12&&(e="12"),2===e.length&&0===parseInt(e)&&(e="01"),r+="/"+e}t.length>=5&&(r+="/"+t.substring(4,8))}return r},ne=e=>e.replace(/\D/g,"").substring(0,6),se=e=>{if(!e||10!==e.length)return"";const[t,r,n]=e.split("/");return t&&r&&n?"".concat(n,"-").concat(r,"-").concat(t):""},ae=e=>{if(!e)return"";const t=String(e).split("T")[0].split("-");if(3!==t.length)return"";const[r,n,s]=t;return r&&n&&s?4!==r.length?"":"".concat(s,"/").concat(n,"/").concat(r):""};(0,t.useEffect)(()=>{(async()=>{try{g(!0);const e=await Ii.getAll(),t=WB(e);A(Array.isArray(t)?t:[]),b(null)}catch(e){console.error("Erreur lors du chargement des universit\xe9s:",e),b("Impossible de charger les universit\xe9s"),te("Erreur de chargement des universit\xe9s","error")}finally{g(!1)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(n)try{const e=await Di.getAll(n.id),t=WB(e);d(Array.isArray(t)?t:[])}catch(e){console.error("Erreur lors du chargement des \xe9tablissements:",e),d([]),te("Erreur de chargement des \xe9tablissements","error")}})()},[n]),(0,t.useEffect)(()=>{(async()=>{if(n){if("RECAP"===a)try{g(!0);const e={universite_id:n.id,per_page:1e5},t=await Qi.getAll(e),r=WB(t),s=(Array.isArray(r)?r:[]).map(e=>{var t,r,n,s,a,i;return o(o({},e),{},{nom:null!==(t=null===e||void 0===e?void 0:e.nom)&&void 0!==t?t:"",im:null!==(r=null===e||void 0===e?void 0:e.im)&&void 0!==r?r:"",sexe:GB(null===e||void 0===e?void 0:e.sexe),corps:GB(null===e||void 0===e?void 0:e.corps),categorie:GB(null===e||void 0===e?void 0:e.categorie),diplome:null!==(n=null===e||void 0===e?void 0:e.diplome)&&void 0!==n?n:"",specialite:null!==(s=null===e||void 0===e?void 0:e.specialite)&&void 0!==s?s:"",date_naissance:null!==(a=null===e||void 0===e?void 0:e.date_naissance)&&void 0!==a?a:"",etablissement_id:null!==(i=null===e||void 0===e?void 0:e.etablissement_id)&&void 0!==i?i:null})});m(s)}catch(e){console.error("Erreur chargement RECAP enseignants:",e),m([]),te("Erreur de chargement du r\xe9capitulatif","error")}finally{g(!1)}}else m([])})()},[n,a]),(0,t.useEffect)(()=>{const e=setTimeout(async()=>{if(n&&"RECAP"!==a){if(c&&0!==c.length)try{g(!0);const e=c.find(e=>e.nom===a);if(!e)return console.warn("\xc9tablissement non trouv\xe9 pour l'onglet:",a),void h([]);const t={universite_id:n.id,etablissement_id:e.id};Z&&""!==Z.trim()&&(t.search=Z.trim()),console.log("Chargement des enseignants avec params:",t);const r=await Qi.getAll(t),s=WB(r);console.log("Enseignants charg\xe9s:",s);const i=(Array.isArray(s)?s:[]).map(t=>{var r,n,s,a,i,l;return o(o({},t),{},{nom:null!==(r=null===t||void 0===t?void 0:t.nom)&&void 0!==r?r:"",im:null!==(n=null===t||void 0===t?void 0:t.im)&&void 0!==n?n:"",sexe:GB(null===t||void 0===t?void 0:t.sexe),corps:GB(null===t||void 0===t?void 0:t.corps),categorie:GB(null===t||void 0===t?void 0:t.categorie),diplome:null!==(s=null===t||void 0===t?void 0:t.diplome)&&void 0!==s?s:"",specialite:null!==(a=null===t||void 0===t?void 0:t.specialite)&&void 0!==a?a:"",date_naissance:null!==(i=null===t||void 0===t?void 0:t.date_naissance)&&void 0!==i?i:"",etablissement_id:null!==(l=null===t||void 0===t?void 0:t.etablissement_id)&&void 0!==l?l:e.id})});h(i)}catch(e){console.error("Erreur lors du chargement des enseignants:",e),h([]),te("Erreur de chargement des enseignants","error")}finally{g(!1)}}else h([])},300);return()=>clearTimeout(e)},[n,a,c,Z]);const ie=async()=>{if(O.nom&&O.code)try{var e;const t=await Ii.create(O),r=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;A(e=>[...e,r]),y(!1),R({nom:"",province:KB[0],code:""}),te("Universit\xe9 ajout\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de l'ajout de l'universit\xe9:",t),te("Erreur lors de l'ajout de l'universit\xe9","error")}else te("Veuillez remplir tous les champs obligatoires","error")},oe=async()=>{if(O.nom&&U)try{var e;const t=await Ii.update(U.id,O),r=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;A(e=>e.map(e=>e.id===U.id?r:e)),k(!1),Q(null),R({nom:"",province:KB[0],code:""}),te("Universit\xe9 modifi\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de la modification de l'universit\xe9:",t),te("Erreur lors de la modification de l'universit\xe9","error")}else te("Veuillez remplir tous les champs obligatoires","error")},le=e=>{I(e),G(o(o({},e),{},{date_naissance:ae(null===e||void 0===e?void 0:e.date_naissance)})),_(!0)},Ae=(0,t.useMemo)(()=>c.map(e=>e.nom),[c]),ce=(0,t.useMemo)(()=>{if(!n||"RECAP"===a)return[];if(!Array.isArray(u))return[];const e=(Z||"").toLowerCase();return u.filter(t=>{var r,n;const s=(null!==(r=null===t||void 0===t?void 0:t.nom)&&void 0!==r?r:"").toLowerCase(),a=String(null!==(n=null===t||void 0===t?void 0:t.im)&&void 0!==n?n:"");return s.includes(e)||a.includes(Z||"")})},[u,n,a,Z]);(0,t.useEffect)(()=>{J(1)},[Z,a,Y]);const de=Math.ceil(ce.length/Y)||1,ue=W*Y,he=ue-Y,fe=ce.slice(he,ue);(0,t.useEffect)(()=>{W>de&&J(de)},[de]);const me=(0,t.useMemo)(()=>ee.some(e=>fe.some(t=>{var r;return(null!==(r=null===t||void 0===t?void 0:t.categorie)&&void 0!==r?r:"")===e})),[fe,ee]),pe=(0,t.useMemo)(()=>{if(!n)return null;const e=Array.isArray(f)?f:[],t={};return c.forEach(r=>{const n=e.filter(e=>(null===e||void 0===e?void 0:e.etablissement_id)===r.id);t[r.nom]={AES:n.filter(e=>{var t;return"AES"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,MC:n.filter(e=>{var t;return"MC"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,PES:n.filter(e=>{var t;return"PES"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,PT:n.filter(e=>{var t;return"PT"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,total:n.length,F:n.filter(e=>{var t;return"F"===(null!==(t=null===e||void 0===e?void 0:e.sexe)&&void 0!==t?t:"")}).length,M:n.filter(e=>{var t;return"M"===(null!==(t=null===e||void 0===e?void 0:e.sexe)&&void 0!==t?t:"")}).length}}),t},[n,c,f]);return p&&"selection"===e&&0===l.length?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)(Os,{className:"w-16 h-16 text-blue-600 animate-spin mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-xl text-gray-700",children:"Chargement des donn\xe9es..."})]})}):x&&"selection"===e&&0===l.length?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)(Ut,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-xl text-gray-700 mb-4",children:x}),(0,wt.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"R\xe9essayer"})]})}):"selection"===e?(0,wt.jsxs)("div",{className:"space-y-6 p-2",children:[(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-50",children:P.show&&(0,wt.jsx)(JB,{message:P.message,type:P.type,onClose:()=>T(o(o({},P),{},{show:!1}))})}),(0,wt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestion des Universit\xe9s"}),(0,wt.jsx)("p",{className:"text-gray-500 text-sm",children:"S\xe9lectionnez un \xe9tablissement pour acc\xe9der \xe0 son personnel."})]}),(0,wt.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg shadow-sm font-medium transition-all",children:[(0,wt.jsx)(em,{size:20})," Nouvelle Universit\xe9"]})]}),(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(e=>(0,wt.jsxs)("div",{className:"group bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 transition-all duration-200 relative",children:[(0,wt.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,wt.jsxs)(ZB,{trigger:(0,wt.jsx)(OB,{size:18,className:"text-gray-400"}),children:[(0,wt.jsx)($B,{icon:(0,wt.jsx)(Xf,{size:16}),label:"Modifier",onClick:()=>(e=>{Q(e),R({nom:e.nom,province:e.province,code:e.code}),k(!0)})(e)}),(0,wt.jsx)($B,{icon:(0,wt.jsx)(Zf,{size:16}),label:"Supprimer",onClick:()=>{return t=e.id,void D({isOpen:!0,title:"Suppression d'Universit\xe9",message:"\xcates-vous certain de vouloir supprimer d\xe9finitivement cette universit\xe9 ?\n\nCette action entra\xeenera la suppression de :\n\u2022 Toutes les facult\xe9s associ\xe9es\n\u2022 Tous les enseignants rattach\xe9s\n\u2022 Toutes les donn\xe9es li\xe9es\n\nCette op\xe9ration est irr\xe9versible.",onConfirm:async()=>{try{await Ii.delete(t),A(e=>e.filter(e=>e.id!==t)),te("Universit\xe9 supprim\xe9e avec succ\xe8s","success")}catch(e){console.error("Erreur lors de la suppression de l'universit\xe9:",e),te("Erreur lors de la suppression de l'universit\xe9","error")}}});var t},danger:!0})]})}),(0,wt.jsxs)("div",{onClick:()=>{s(e),r("dashboard_univ"),i("RECAP")},className:"cursor-pointer",children:[(0,wt.jsx)("div",{className:"flex items-start justify-between mb-4 pr-8",children:(0,wt.jsx)("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:scale-110 transition-transform",children:(0,wt.jsx)(Si,{size:32})})}),(0,wt.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,wt.jsx)("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-blue-600 flex-1 pr-2",children:e.nom}),(0,wt.jsx)("span",{className:"text-xs font-bold text-white bg-blue-600 px-2 py-1 rounded shrink-0",children:e.code})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[(0,wt.jsx)(Es,{size:16})," ",e.province]})]})]},e.id))}),(0,wt.jsx)(YB,{isOpen:v,onClose:()=>y(!1),title:"Ajouter une Universit\xe9",children:(0,wt.jsxs)("div",{className:"space-y-5",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de l'Universit\xe9 ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Si,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:O.nom,onChange:e=>R(o(o({},O),{},{nom:e.target.value})),placeholder:"Ex: Universit\xe9 de Mahajanga",required:!0})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Province ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Es,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("select",{className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all appearance-none bg-white",value:O.province,onChange:e=>R(o(o({},O),{},{province:e.target.value})),required:!0,children:KB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Code ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(RB,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all uppercase",value:O.code,onChange:e=>R(o(o({},O),{},{code:e.target.value.toUpperCase()})),placeholder:"Ex: UM",maxLength:5,required:!0})]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,wt.jsx)("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:ie,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg font-semibold transition-all shadow-md",children:"Enregistrer"})]})]})}),(0,wt.jsx)(YB,{isOpen:C,onClose:()=>k(!1),title:"Modifier l'Universit\xe9",children:(0,wt.jsxs)("div",{className:"space-y-5",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de l'Universit\xe9 ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Si,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:O.nom,onChange:e=>R(o(o({},O),{},{nom:e.target.value})),required:!0})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Province ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Es,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("select",{className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all appearance-none bg-white",value:O.province,onChange:e=>R(o(o({},O),{},{province:e.target.value})),required:!0,children:KB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Code ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(RB,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all uppercase",value:O.code,onChange:e=>R(o(o({},O),{},{code:e.target.value.toUpperCase()})),maxLength:5,required:!0})]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,wt.jsx)("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:oe,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg font-semibold transition-all shadow-md",children:"Mettre \xe0 jour"})]})]})}),(0,wt.jsx)(XB,{isOpen:M.isOpen,onClose:()=>D(o(o({},M),{},{isOpen:!1})),onConfirm:M.onConfirm,title:M.title,message:M.message,type:"danger"})]}):(0,wt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-50",children:P.show&&(0,wt.jsx)(JB,{message:P.message,type:P.type,onClose:()=>T(o(o({},P),{},{show:!1}))})}),(0,wt.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,wt.jsx)("button",{onClick:()=>r("selection"),className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:(0,wt.jsx)(js,{size:24})}),(0,wt.jsx)("div",{className:"flex-1",children:(0,wt.jsxs)("div",{className:"text-center space-y-1",children:[(0,wt.jsx)("h2",{className:"text-sm font-bold text-gray-800 uppercase",children:"LISTE DES ENSEIGNANTS CHERCHEURS PERMANENTS"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"UNIVERSITE:"})," ",n.nom.toUpperCase()]}),"RECAP"!==a&&(0,wt.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"ETABLISSEMENT:"})," ",a]}),(0,wt.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"ANNEE:"})," 2025"]})]})}),(0,wt.jsxs)("button",{onClick:()=>B(!0),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[(0,wt.jsx)(em,{size:18})," Ajouter Facult\xe9"]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1 flex-wrap pb-1 border-t pt-3",children:[(0,wt.jsxs)("button",{onClick:()=>{i("RECAP"),J(1)},className:"px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors whitespace-nowrap ".concat("RECAP"===a?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-100"),children:[(0,wt.jsx)(HB,{size:16})," VUE D'ENSEMBLE"]}),(0,wt.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-2"}),Ae.map(e=>(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("button",{onClick:()=>{i(e),J(1),$("")},className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ".concat(a===e?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-blue-50"),children:e}),(0,wt.jsx)("button",{onClick:()=>(e=>{const t=c.find(t=>(null===t||void 0===t?void 0:t.nom)===e);null!==t&&void 0!==t&&t.id&&D({isOpen:!0,title:"Suppression de Facult\xe9",message:'\xcates-vous certain de vouloir supprimer la facult\xe9 "'.concat(e,'" ?\n\nTous les enseignants de cette facult\xe9 seront \xe9galement supprim\xe9s.\n\nCette action est irr\xe9versible.'),onConfirm:async()=>{try{await Di.delete(t.id),d(e=>e.filter(e=>e.id!==t.id)),a===e&&i("RECAP"),te("Facult\xe9 supprim\xe9e avec succ\xe8s","success")}catch(r){console.error("Erreur lors de la suppression de la facult\xe9:",r),te("Erreur lors de la suppression de la facult\xe9","error")}}})})(e),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition-opacity",title:"Supprimer facult\xe9",children:(0,wt.jsx)(Lt,{size:12})})]},e))]})]}),(0,wt.jsxs)("div",{className:"flex-1 overflow-auto bg-gray-50 p-6",children:["RECAP"===a&&pe&&(0,wt.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,wt.jsxs)("div",{className:"bg-white border border-gray-300 rounded-t-xl px-4 py-4 text-center text-sm font-bold",children:[(0,wt.jsx)("div",{children:"ETAT RECAPITULATIF DES ENSEIGNANTS CHERCHEURS"}),(0,wt.jsx)("div",{className:"mt-1",children:n.nom.toUpperCase()}),(0,wt.jsx)("div",{className:"mt-1 text-gray-600",children:"ANNEE : 2025"})]}),(0,wt.jsx)("div",{className:"border border-gray-300 overflow-x-auto bg-white",children:(0,wt.jsxs)("table",{className:"w-full text-[12px] border-collapse",children:[(0,wt.jsxs)("thead",{children:[(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{rowSpan:2,className:"border border-gray-400 bg-gray-200 px-3 py-2 text-left align-middle"}),(0,wt.jsx)("th",{colSpan:4,className:"border border-gray-400 bg-gray-200 px-3 py-2 text-center font-bold",children:"CORPS"}),(0,wt.jsx)("th",{rowSpan:2,className:"border border-gray-400 bg-gray-200 px-3 py-2 text-center font-bold",children:"TOTAL"}),(0,wt.jsx)("th",{colSpan:2,className:"border border-gray-400 bg-gray-200 px-3 py-2 text-center font-bold",children:"GENRE"})]}),(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"AES"}),(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"MC"}),(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"PES"}),(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"PT"}),(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"Fem."}),(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"Masc."})]})]}),(0,wt.jsxs)("tbody",{children:[Object.keys(pe).map(e=>{const t=pe[e];return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-left font-semibold",children:e}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.AES}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.MC}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.PES}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.PT}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center font-semibold",children:t.total}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.F}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.M})]},e)}),(0,wt.jsxs)("tr",{className:"font-bold bg-gray-100",children:[(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-left",children:"TOTAL"}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(pe).reduce((e,t)=>e+t.AES,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(pe).reduce((e,t)=>e+t.MC,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(pe).reduce((e,t)=>e+t.PES,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(pe).reduce((e,t)=>e+t.PT,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(pe).reduce((e,t)=>e+t.total,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(pe).reduce((e,t)=>e+t.F,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(pe).reduce((e,t)=>e+t.M,0)})]})]})]})})]}),"RECAP"!==a&&(0,wt.jsxs)("div",{className:"space-y-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,wt.jsx)("input",{type:"text",placeholder:"Rechercher...",className:"pl-10 pr-4 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none w-64",value:Z,onChange:e=>$(e.target.value)})]}),(0,wt.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-sm transition-colors",children:[(0,wt.jsx)(em,{size:18})," Ajouter Enseignant"]})]}),(0,wt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:p?(0,wt.jsx)("div",{className:"py-20 flex justify-center",children:(0,wt.jsx)(Os,{className:"animate-spin text-blue-600",size:48})}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"overflow-x-auto",children:(0,wt.jsxs)("table",{className:"w-full border-collapse min-w-[1100px]",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{className:"bg-gray-50 text-gray-600 border-b border-gray-200",children:[(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-12 text-center font-medium text-[10px] uppercase tracking-wide",children:"N\xb0"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 text-center font-medium text-[10px] uppercase tracking-wide",children:"Nom"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-16 text-center font-medium text-[10px] uppercase tracking-wide",children:"Sexe"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-24 text-center font-medium text-[10px] uppercase tracking-wide",children:"IM"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-32 text-center font-medium text-[10px] uppercase tracking-wide",children:"Date de Naissance"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-20 text-center font-medium text-[10px] uppercase tracking-wide",children:"Corps"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-24 text-center font-medium text-[10px] uppercase tracking-wide",children:"Facult\xe9"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-32 text-center font-medium text-[10px] uppercase tracking-wide",children:"Dipl\xf4mes"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 text-center font-medium text-[10px] uppercase tracking-wide",children:"Sp\xe9cialit\xe9s"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 text-center w-28 font-medium text-[10px] uppercase tracking-wide",children:"Actions"})]})}),(0,wt.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[ee.map(e=>{const r=fe.filter(t=>{var r;return(null!==(r=null===t||void 0===t?void 0:t.categorie)&&void 0!==r?r:"")===e});return 0===r.length?null:(0,wt.jsxs)(t.Fragment,{children:[(0,wt.jsx)("tr",{className:"bg-blue-600",children:(0,wt.jsx)("td",{colSpan:10,className:"px-4 py-2 text-[11px] font-bold text-white uppercase text-center tracking-wide",children:e})}),r.map((e,t)=>(0,wt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:t+1}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-medium text-[13px] text-gray-800",children:e.nom}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:e.sexe}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-mono text-[12px] text-gray-600",children:e.im}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:ae(e.date_naissance)}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-semibold text-[13px] text-gray-800",children:e.corps}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:a}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[12px] uppercase text-gray-600",children:e.diplome}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:e.specialite}),(0,wt.jsx)("td",{className:"px-2 py-3 text-center",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(I(e),void F(!0)),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Afficher",children:(0,wt.jsx)(_s,{size:15})}),(0,wt.jsx)("button",{onClick:()=>le(e),className:"p-1.5 text-orange-500 hover:bg-orange-50 rounded transition-colors",title:"Modifier",children:(0,wt.jsx)(Xf,{size:15})}),(0,wt.jsx)("button",{onClick:()=>(e=>{var t,r;D({isOpen:!0,title:"Suppression d'Enseignant",message:"\xcates-vous certain de vouloir supprimer l'enseignant :\n\n".concat(null!==(t=null===e||void 0===e?void 0:e.nom)&&void 0!==t?t:"","\nIM: ").concat(null!==(r=null===e||void 0===e?void 0:e.im)&&void 0!==r?r:"","\n\nCette action est irr\xe9versible et entra\xeenera la perte d\xe9finitive de toutes les donn\xe9es associ\xe9es \xe0 cet enseignant."),onConfirm:async()=>{try{await Qi.delete(e.id),h(t=>t.filter(t=>t.id!==e.id)),te("Enseignant supprim\xe9 avec succ\xe8s","success")}catch(t){console.error("Erreur lors de la suppression de l'enseignant:",t),te("Erreur lors de la suppression de l'enseignant","error")}}})})(e),className:"p-1.5 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Supprimer",children:(0,wt.jsx)(Zf,{size:15})})]})})]},e.id))]},e)}),!me&&(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:10,className:"p-8 text-center text-gray-500 text-sm",children:"Aucun enseignant trouv\xe9."})})]})]})}),ce.length>0&&(0,wt.jsxs)("div",{className:"flex items-center justify-between px-2 py-2 border-t bg-gray-50",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,wt.jsx)("span",{children:"\xc9l\xe9ments par page:"}),(0,wt.jsxs)("select",{value:Y,onChange:e=>{X(Number(e.target.value)),J(1)},className:"px-2 py-1 border rounded-md text-xs",children:[(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:30,children:"30"}),(0,wt.jsx)("option",{value:50,children:"50"}),(0,wt.jsx)("option",{value:100,children:"100"})]}),(0,wt.jsxs)("span",{className:"text-gray-500",children:[he+1,"-",Math.min(ue,ce.length)," sur"," ",ce.length]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>J(e=>Math.max(1,e-1)),disabled:1===W,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(_t,{className:"w-4 h-4"})}),(()=>{const e=[];if(de<=7)for(let t=1;t<=de;t++)e.push(t);else{e.push(1);let t=Math.max(2,W-2),r=Math.min(de-1,W+2);W<=3&&(r=5),W>=de-2&&(t=de-5+1),t>2&&e.push("...");for(let n=t;n<=r;n++)e.push(n);r<de-1&&e.push("..."),e.push(de)}return e})().map((e,t)=>"..."===e?(0,wt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,wt.jsx)("button",{onClick:()=>J(e),className:"px-2 py-1 text-xs border rounded-md ".concat(W===e?"bg-blue-600 text-white":"bg-white"),children:e},e)),(0,wt.jsx)("button",{onClick:()=>J(e=>Math.min(de,e+1)),disabled:W===de||0===de,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(Is,{className:"w-4 h-4"})})]})]})]})})]})]}),(0,wt.jsx)(YB,{isOpen:w,onClose:()=>B(!1),title:"Ajouter une Facult\xe9",size:"sm",children:(0,wt.jsxs)("div",{className:"space-y-5",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de la Facult\xe9 / \xc9tablissement ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(_i,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all uppercase",value:H,onChange:e=>z(e.target.value.toUpperCase()),placeholder:"Ex: DROIT, MEDECINE...",required:!0})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,wt.jsx)("button",{onClick:()=>B(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:async()=>{if(H&&n)try{var e;const t=await Di.create({nom:H,universite_id:n.id}),r=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;d(e=>[...e,r]),B(!1),z(""),te("Facult\xe9 ajout\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de l'ajout de la facult\xe9:",t),te("Erreur lors de l'ajout de la facult\xe9","error")}else te("Veuillez saisir le nom de la facult\xe9","error")},className:"flex-1 px-4 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-lg font-semibold transition-all shadow-md",children:"Ajouter"})]})]})}),(0,wt.jsxs)(YB,{isOpen:N,onClose:()=>j(!1),title:"Ajouter un Enseignant - ".concat(a),size:"lg",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom et Pr\xe9noms ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Cs,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:K.nom,onChange:e=>V(o(o({},K),{},{nom:e.target.value})),placeholder:"Nom complet",required:!0})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["IM (Matricule) ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(RB,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all font-mono",value:K.im,onChange:e=>V(o(o({},K),{},{im:ne(e.target.value)})),placeholder:"123456",maxLength:6,pattern:"\\\\d{6}",required:!0})]}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"6 chiffres uniquement"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Date de Naissance ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(ks,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:K.date_naissance,onChange:e=>V(o(o({},K),{},{date_naissance:re(e.target.value)})),placeholder:"jj/mm/aaaa",maxLength:10,required:!0})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Sexe ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("select",{className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all appearance-none bg-white",value:K.sexe,onChange:e=>V(o(o({},K),{},{sexe:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"M",children:"Masculin"}),(0,wt.jsx)("option",{value:"F",children:"F\xe9minin"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Corps ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("select",{className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all appearance-none bg-white",value:K.corps,onChange:e=>V(o(o({},K),{},{corps:e.target.value})),required:!0,children:qB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]}),(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Titre ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(zB,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("select",{className:"pl-10 w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all appearance-none bg-white",value:K.categorie,onChange:e=>V(o(o({},K),{},{categorie:e.target.value})),required:!0,children:VB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]})]}),(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Dipl\xf4mes ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Ei,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"ex: HDR, Doctorat, AGREGATION...",value:K.diplome,onChange:e=>V(o(o({},K),{},{diplome:e.target.value})),required:!0})]})]}),(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Sp\xe9cialit\xe9s ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:"text",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"ex: Informatique, Droit, M\xe9decine...",value:K.specialite,onChange:e=>V(o(o({},K),{},{specialite:e.target.value})),required:!0})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-200",children:[(0,wt.jsx)("button",{onClick:()=>j(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,wt.jsxs)("button",{onClick:async()=>{if(!K.nom||!K.im)return void te("Veuillez remplir tous les champs obligatoires","error");const e=c.find(e=>(null===e||void 0===e?void 0:e.nom)===a);if(null!==e&&void 0!==e&&e.id)try{var t;const r={nom:K.nom,sexe:K.sexe,im:K.im,date_naissance:se(K.date_naissance),corps:K.corps,diplome:K.diplome,specialite:K.specialite,categorie:K.categorie,universite_id:n.id,etablissement_id:e.id};console.log("\ud83d\udce4 Donn\xe9es envoy\xe9es au backend:",r),console.log("\ud83d\udcc5 Date convertie:",r.date_naissance),console.log("\ud83c\udfeb \xc9tablissement ID:",e.id),console.log("\ud83c\udf93 Universit\xe9 ID:",n.id);const s=await Qi.create(r);console.log("\u2705 R\xe9ponse backend SUCCESS:",s);const a=null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:s;h(t=>{var n,s,i,l,A,c,d,u,h,f,m,p,g,x;return[...t,o(o({},a),{},{nom:null!==(n=null!==(s=null===a||void 0===a?void 0:a.nom)&&void 0!==s?s:r.nom)&&void 0!==n?n:"",im:null!==(i=null!==(l=null===a||void 0===a?void 0:a.im)&&void 0!==l?l:r.im)&&void 0!==i?i:"",sexe:GB(null!==(A=null===a||void 0===a?void 0:a.sexe)&&void 0!==A?A:r.sexe),corps:GB(null!==(c=null===a||void 0===a?void 0:a.corps)&&void 0!==c?c:r.corps),categorie:GB(null!==(d=null===a||void 0===a?void 0:a.categorie)&&void 0!==d?d:r.categorie),diplome:null!==(u=null!==(h=null===a||void 0===a?void 0:a.diplome)&&void 0!==h?h:r.diplome)&&void 0!==u?u:"",specialite:null!==(f=null!==(m=null===a||void 0===a?void 0:a.specialite)&&void 0!==m?m:r.specialite)&&void 0!==f?f:"",date_naissance:null!==(p=null!==(g=null===a||void 0===a?void 0:a.date_naissance)&&void 0!==g?g:r.date_naissance)&&void 0!==p?p:"",etablissement_id:null!==(x=null===a||void 0===a?void 0:a.etablissement_id)&&void 0!==x?x:e.id})]}),j(!1),V({nom:"",sexe:"M",im:"",date_naissance:"",corps:"MC",diplome:"",specialite:"",categorie:VB[2]}),te("Enseignant ajout\xe9 avec succ\xe8s","success")}catch(i){if(console.error("\u274c ERREUR COMPL\xc8TE:",i),i.response){var r,s;if(console.error("\u274c Status:",i.response.status),console.error("\u274c R\xe9ponse backend:",i.response.data),console.error("\u274c Headers:",i.response.headers),null!==(r=i.response.data)&&void 0!==r&&r.errors){console.error("\u274c Erreurs de validation:",i.response.data.errors);const e=Object.entries(i.response.data.errors).map(e=>{let[t,r]=e;return"\u2022 ".concat(t,": ").concat(Array.isArray(r)?r.join(", "):r)}).join("\n");return void te("Erreurs de validation:\n".concat(e),"error")}if(null!==(s=i.response.data)&&void 0!==s&&s.message)return void te(i.response.data.message,"error")}te("Erreur lors de l'ajout de l'enseignant","error")}else te("\xc9tablissement non trouv\xe9","error")},className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg font-semibold transition-all shadow-md flex items-center justify-center gap-2",children:[(0,wt.jsx)(dB,{size:18})," Enregistrer"]})]})]}),(0,wt.jsx)(YB,{isOpen:S,onClose:()=>F(!1),title:"Profil de l'Enseignant",size:"lg",children:L&&(0,wt.jsxs)("div",{className:"space-y-6",children:[(0,wt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 -mx-6 -mt-6 px-6 py-6 mb-6",children:(0,wt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,wt.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:(0,wt.jsx)(Cs,{className:"w-8 h-8 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("h3",{className:"text-xl font-bold text-white",children:L.nom}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,wt.jsxs)("span",{className:"bg-white/20 text-white text-xs px-2 py-0.5 rounded",children:["IM: ",L.im]}),(0,wt.jsx)("span",{className:"bg-white/20 text-white text-xs px-2 py-0.5 rounded",children:"M"===L.sexe?"Masculin":"F\xe9minin"})]})]})]})}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-xs font-semibold mb-2",children:[(0,wt.jsx)(ks,{size:14}),"DATE DE NAISSANCE"]}),(0,wt.jsx)("p",{className:"text-sm font-bold text-gray-800",children:ae(L.date_naissance)})]}),(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-xs font-semibold mb-2",children:[(0,wt.jsx)(zB,{size:14}),"CORPS"]}),(0,wt.jsx)("p",{className:"text-sm font-bold text-gray-800",children:L.corps})]}),(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-xs font-semibold mb-2",children:[(0,wt.jsx)(_i,{size:14}),"FACULT\xc9"]}),(0,wt.jsx)("p",{className:"text-sm font-bold text-gray-800",children:a})]}),(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-xs font-semibold mb-2",children:[(0,wt.jsx)(Ei,{size:14}),"DIPL\xd4MES"]}),(0,wt.jsx)("p",{className:"text-sm font-bold text-gray-800",children:L.diplome})]})]}),(0,wt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-blue-700 text-xs font-semibold mb-2",children:[(0,wt.jsx)(zB,{size:14}),"TITRE"]}),(0,wt.jsx)("p",{className:"text-sm font-bold text-blue-900",children:L.categorie})]}),(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-xs font-semibold mb-2",children:[(0,wt.jsx)(Ei,{size:14}),"SP\xc9CIALIT\xc9S"]}),(0,wt.jsx)("p",{className:"text-sm font-medium text-gray-800",children:L.specialite})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-6 border-t border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>{F(!1),le(L)},className:"flex-1 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 shadow-md",children:[(0,wt.jsx)(Xf,{size:16})," Modifier"]}),(0,wt.jsx)("button",{onClick:()=>F(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-lg font-medium transition-colors",children:"Fermer"})]})]})}),(0,wt.jsx)(YB,{isOpen:E,onClose:()=>_(!1),title:"Modifier l'Enseignant",size:"lg",children:q&&(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom et Pr\xe9noms ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Cs,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:q.nom,onChange:e=>G(o(o({},q),{},{nom:e.target.value})),required:!0})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["IM (Matricule) ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(RB,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all font-mono",value:q.im,onChange:e=>G(o(o({},q),{},{im:ne(e.target.value)})),placeholder:"123456",maxLength:6,required:!0})]}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"6 chiffres uniquement"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Date de Naissance ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(ks,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:q.date_naissance,onChange:e=>G(o(o({},q),{},{date_naissance:re(e.target.value)})),placeholder:"jj/mm/aaaa",maxLength:10,required:!0})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Sexe ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("select",{className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all appearance-none bg-white",value:q.sexe,onChange:e=>G(o(o({},q),{},{sexe:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"M",children:"Masculin"}),(0,wt.jsx)("option",{value:"F",children:"F\xe9minin"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Corps ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("select",{className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all appearance-none bg-white",value:q.corps,onChange:e=>G(o(o({},q),{},{corps:e.target.value})),required:!0,children:qB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]}),(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Titre ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(zB,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("select",{className:"pl-10 w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all appearance-none bg-white",value:q.categorie,onChange:e=>G(o(o({},q),{},{categorie:e.target.value})),required:!0,children:VB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]})]}),(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Dipl\xf4mes ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Ei,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"ex: HDR, Doctorat, AGREGATION...",value:q.diplome,onChange:e=>G(o(o({},q),{},{diplome:e.target.value})),required:!0})]})]}),(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Sp\xe9cialit\xe9s ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:"text",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"ex: Informatique, Droit, M\xe9decine...",value:q.specialite,onChange:e=>G(o(o({},q),{},{specialite:e.target.value})),required:!0})]}),(0,wt.jsxs)("div",{className:"col-span-2 flex gap-3 pt-6 border-t border-gray-200",children:[(0,wt.jsx)("button",{onClick:()=>_(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,wt.jsxs)("button",{onClick:async()=>{if(null!==q&&void 0!==q&&q.nom&&null!==q&&void 0!==q&&q.im)try{var e;const t=o(o({},q),{},{date_naissance:se(q.date_naissance)}),r=await Qi.update(L.id,t),n=null!==(e=null===r||void 0===r?void 0:r.data)&&void 0!==e?e:r;h(e=>e.map(e=>{var r,s,a,i,l,A,c,d,u,h,f,m,p;return e.id===L.id?o(o(o({},e),n),{},{nom:null!==(r=null!==(s=null===n||void 0===n?void 0:n.nom)&&void 0!==s?s:t.nom)&&void 0!==r?r:"",im:null!==(a=null!==(i=null===n||void 0===n?void 0:n.im)&&void 0!==i?i:t.im)&&void 0!==a?a:"",diplome:null!==(l=null!==(A=null===n||void 0===n?void 0:n.diplome)&&void 0!==A?A:t.diplome)&&void 0!==l?l:"",specialite:null!==(c=null!==(d=null===n||void 0===n?void 0:n.specialite)&&void 0!==d?d:t.specialite)&&void 0!==c?c:"",categorie:GB(null!==(u=null===n||void 0===n?void 0:n.categorie)&&void 0!==u?u:t.categorie),corps:GB(null!==(h=null===n||void 0===n?void 0:n.corps)&&void 0!==h?h:t.corps),sexe:GB(null!==(f=null===n||void 0===n?void 0:n.sexe)&&void 0!==f?f:t.sexe),date_naissance:null!==(m=null!==(p=null===n||void 0===n?void 0:n.date_naissance)&&void 0!==p?p:t.date_naissance)&&void 0!==m?m:""}):e})),_(!1),I(null),G(null),te("Enseignant modifi\xe9 avec succ\xe8s","success")}catch(t){console.error("Erreur lors de la modification de l'enseignant:",t),te("Erreur lors de la modification de l'enseignant","error")}else te("Veuillez remplir tous les champs obligatoires","error")},className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg font-semibold transition-all shadow-md flex items-center justify-center gap-2",children:[(0,wt.jsx)(dB,{size:18})," Enregistrer les modifications"]})]})]})}),(0,wt.jsx)(XB,{isOpen:M.isOpen,onClose:()=>D(o(o({},M),{},{isOpen:!1})),onConfirm:M.onConfirm,title:M.title,message:M.message,type:"danger"})]})},tN=Et("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),rN=Et("panel-left-open",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]),nN=Et("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),sN=Et("panel-left-close",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),aN=Et("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),iN=()=>{var e,r,n,s,a;const[i,l]=(0,t.useState)([]),[A,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)("all"),[g,x]=(0,t.useState)(!1),[b,v]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),[B,N]=(0,t.useState)(!1),[j,C]=(0,t.useState)(!0),[k,S]=(0,t.useState)(!0),[F,E]=(0,t.useState)(null),[_,U]=(0,t.useState)(!1),[Q,L]=(0,t.useState)(!1),[I,M]=(0,t.useState)(""),[D,P]=(0,t.useState)({all:0,unread:0,important:0}),[T,O]=(0,t.useState)({}),[R,H]=(0,t.useState)(null),[z,K]=(0,t.useState)(null),[V,q]=(0,t.useState)(0),[G,W]=(0,t.useState)({isOpen:!1,currentImage:null,currentIndex:0,images:[]}),J=(0,t.useRef)(null),Y=(0,t.useRef)(null),X=(0,t.useRef)(null),Z=(0,t.useRef)(null),$=(0,t.useRef)(null),ee=(0,t.useRef)(null),te=(0,t.useRef)(null),re=(0,t.useRef)(0),ne=e=>{if(!e)return null;const t=e.url||e.name||e.filename;return t?Gs.getChatFileUrl(t):null},se=e=>(null===e||void 0===e?void 0:e.fileinfo)||(null===e||void 0===e?void 0:e.file_info)||null;(0,t.useEffect)(()=>{ae()},[m]),(0,t.useEffect)(()=>{A&&oe(A)},[A]),(0,t.useEffect)(()=>{k||ie();const e=setInterval(()=>{ie()},15e3);return()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{if(A){le(A);const e=setInterval(()=>{le(A)},8e3);return()=>clearInterval(e)}},[A]),(0,t.useEffect)(()=>{if(null!==d&&void 0!==d&&d.reference&&null!==d&&void 0!==d&&d.id){Ae(d.id);const e=setInterval(()=>{Ae(d.id)},3e4);return()=>clearInterval(e)}},[null===d||void 0===d?void 0:d.id,null===d||void 0===d?void 0:d.reference]),(0,t.useEffect)(()=>{J.current&&(J.current.style.height="auto",J.current.style.height=Math.min(J.current.scrollHeight,120)+"px")},[h]),(0,t.useEffect)(()=>{const e=e=>{Y.current&&!Y.current.contains(e.target)&&v(!1),X.current&&!X.current.contains(e.target)&&N(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,t.useEffect)(()=>{if(null!==d&&void 0!==d&&d.messages&&ee.current){const e=d.messages.length;if(e!==re.current){const t=te.current;(!t||t.scrollHeight-t.scrollTop-t.clientHeight<100)&&ee.current.scrollIntoView({behavior:"smooth"}),re.current=e}}},[null===d||void 0===d?void 0:d.messages]);const ae=async()=>{try{S(!0),E(null);const e=await Gs.getUserChats(m);e.success&&(l(e.chats||[]),P(e.filters||{all:0,unread:0,important:0}),e.chats.length>0&&!A&&c(e.chats[0].id))}catch(e){E(e.message||"Erreur lors du chargement des conversations")}finally{S(!1)}},ie=async()=>{try{const e=await Gs.getUserChats(m);e.success&&(l(e.chats||[]),P(e.filters||{all:0,unread:0,important:0}))}catch(e){console.error("Erreur chargement arri\xe8re-plan:",e)}},oe=async e=>{try{const r=await Gs.getChatDetails(e);var t;if(r.success)u(r.chat),re.current=(null===(t=r.chat.messages)||void 0===t?void 0:t.length)||0,await Gs.markAsRead(e),await ie()}catch(r){console.error("Erreur lors du chargement des d\xe9tails du chat:",r)}},le=async e=>{if(e===A)try{const n=await Gs.getChatDetails(e);if(n.success){var t,r;if(e!==A)return;const s=(null===d||void 0===d||null===(t=d.messages)||void 0===t?void 0:t.length)||0,a=(null===(r=n.chat.messages)||void 0===r?void 0:r.length)||0;(a>s||a!==s)&&(u(n.chat),await Gs.markAsRead(e),await ie())}}catch(n){console.error("Erreur chargement d\xe9tails arri\xe8re-plan:",n)}},Ae=async e=>{try{const t=await Gs.getVisitorOnlineStatus(e);t.success&&O(r=>o(o({},r),{},{[e]:{isOnline:t.is_online,lastSeen:t.last_seen}}))}catch(t){console.error("Erreur v\xe9rification statut visiteur:",t)}},ce=async()=>{if(h.trim()&&A)try{U(!0);(await Gs.sendMessage(A,{content:h,type:"text"})).success&&(f(""),await oe(A))}catch(e){E(e.message||"Erreur lors de l'envoi du message")}finally{U(!1)}},de=e=>{if(!e)return"";try{return oi(new Date(e),"HH:mm",{locale:mi})}catch(QN){return e}},ue=e=>{if(!e)return"";try{return Ba(new Date(e),{addSuffix:!0,locale:mi})}catch(QN){return e}},he=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},fe=e=>{var t;const r=(null===d||void 0===d||null===(t=d.messages)||void 0===t?void 0:t.filter(e=>"image"===e.type&&ne(se(e))).map(e=>{var t;return{url:ne(se(e)),name:null===(t=se(e))||void 0===t?void 0:t.name,originalIndex:d.messages.indexOf(e)}}))||[],n=r.findIndex(t=>t.url===e);W({isOpen:!0,currentImage:e,currentIndex:n>=0?n:0,images:r})},me=e=>{const t="next"===e?(G.currentIndex+1)%G.images.length:(G.currentIndex-1+G.images.length)%G.images.length;W(e=>o(o({},e),{},{currentIndex:t,currentImage:e.images[t].url}))},pe=(e,t)=>{if(e)return"https://ui-avatars.com/api/?name=Anonyme&background=94a3b8&color=fff";return"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(t||"Visiteur"),"&background=3b82f6&color=fff")},ge=e=>{let{status:t}=e;return t&&"sent"!==t?"delivered"===t?(0,wt.jsx)(Ls,{className:"w-3.5 h-3.5 text-gray-400"}):"read"===t?(0,wt.jsx)(Ls,{className:"w-3.5 h-3.5 text-blue-500"}):null:(0,wt.jsx)(Qs,{className:"w-3.5 h-3.5 text-gray-400"})},xe=i.filter(e=>{if(!I.trim())return!0;const t=I.toLowerCase(),r=(e.visitor_name||e.name||"").toLowerCase(),n=(e.reference||"").toLowerCase(),s=(e.last_message||"").toLowerCase();return r.includes(t)||n.includes(t)||s.includes(t)});return(0,wt.jsxs)("div",{className:"flex h-screen bg-gray-50 ".concat(g?"fixed inset-0 z-50":""),children:[(0,wt.jsx)("input",{ref:Z,type:"file",className:"hidden",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;if(!A)return void E("Veuillez d'abord s\xe9lectionner une conversation");if(r.size>26214400)return void E("Le fichier ne doit pas d\xe9passer 25 MB");if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","video/mp4","video/quicktime","video/x-msvideo","video/x-ms-wmv"].includes(r.type))return void E("Format non support\xe9. Utilisez PDF, DOC, XLS, TXT ou vid\xe9o");if(r.type.startsWith("video/")){const e=new FileReader;e.onloadend=()=>{K(e.result),H(r),E(null)},e.readAsDataURL(r)}else H(r),K(null),E(null)},accept:".pdf,.doc,.docx,.txt,.xlsx,.xls,.mp4,.mov,.avi,.wmv,video/*"}),(0,wt.jsx)("input",{ref:$,type:"file",className:"hidden",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;if(!A)return void E("Veuillez d'abord s\xe9lectionner une conversation");if(r.size>26214400)return void E("L'image ne doit pas d\xe9passer 25 MB");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type))return void E("Format d'image non support\xe9. Utilisez JPG, JPEG, PNG, GIF ou WEBP");const n=new FileReader;n.onloadend=()=>{K(n.result),H(r),E(null)},n.readAsDataURL(r)},accept:".jpg,.jpeg,.png,.gif,.webp,image/*"}),G.isOpen&&(0,wt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-[9999] flex items-center justify-center",children:[(0,wt.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent z-10",children:[(0,wt.jsxs)("div",{className:"text-white",children:[(0,wt.jsx)("p",{className:"text-sm font-medium",children:(null===(e=G.images[G.currentIndex])||void 0===e?void 0:e.name)||"Image"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-300",children:[G.currentIndex+1," / ",G.images.length]})]}),(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),W({isOpen:!1,currentImage:null,currentIndex:0,images:[]})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",title:"Fermer",type:"button",children:(0,wt.jsx)(Lt,{className:"w-6 h-6 text-white"})})]}),(0,wt.jsx)("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:(0,wt.jsx)("img",{src:G.currentImage,alt:"Aper\xe7u",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.src="https://via.placeholder.com/400x300?text=Image+non+disponible"}})}),G.images.length>1&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),me("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image pr\xe9c\xe9dente",type:"button",children:(0,wt.jsx)(_t,{className:"w-6 h-6 text-white"})}),(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),me("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image suivante",type:"button",children:(0,wt.jsx)(Is,{className:"w-6 h-6 text-white"})})]}),(0,wt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 flex items-center justify-center gap-4 bg-gradient-to-t from-black/50 to-transparent z-10",children:(0,wt.jsx)("button",{onClick:async e=>{var t;e.preventDefault(),e.stopPropagation();const r=G.currentImage,n=(null===(t=G.images[G.currentIndex])||void 0===t?void 0:t.name)||"image.jpg";try{const e=await fetch(r),t=await e.blob(),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)}catch(F){console.error("Erreur t\xe9l\xe9chargement:",F),window.open(r,"_blank")}},className:"p-3 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors",title:"T\xe9l\xe9charger l'image",type:"button",children:(0,wt.jsx)(Us,{className:"w-5 h-5"})})})]}),j&&(0,wt.jsxs)("div",{className:"w-96 bg-white border-r border-gray-200 flex flex-col",children:[(0,wt.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Messages"}),(0,wt.jsx)("div",{className:"flex items-center gap-2",children:(0,wt.jsxs)("div",{className:"relative",ref:X,children:[(0,wt.jsxs)("button",{onClick:()=>N(!B),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors relative",title:"Filtres",children:[(0,wt.jsx)(Ci,{className:"w-5 h-5 text-gray-600"}),"all"!==m&&(0,wt.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-600 rounded-full"})]}),B&&(0,wt.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[(0,wt.jsxs)("button",{onClick:()=>{p("all"),N(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between ".concat("all"===m?"bg-blue-50 text-blue-600":"text-gray-700"),children:[(0,wt.jsx)("span",{children:"Tous"}),(0,wt.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:D.all})]}),(0,wt.jsxs)("button",{onClick:()=>{p("unread"),N(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between ".concat("unread"===m?"bg-blue-50 text-blue-600":"text-gray-700"),children:[(0,wt.jsx)("span",{children:"Non lus"}),(0,wt.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:D.unread})]}),(0,wt.jsxs)("button",{onClick:()=>{p("important"),N(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between ".concat("important"===m?"bg-blue-50 text-blue-600":"text-gray-700"),children:[(0,wt.jsx)("span",{children:"Importants"}),(0,wt.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:D.important})]})]})]})})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Ns,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,wt.jsx)("input",{type:"text",placeholder:"Rechercher...",value:I,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,wt.jsx)("div",{className:"flex-1 overflow-y-auto",children:k?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,wt.jsx)(Os,{className:"w-8 h-8 text-blue-600 animate-spin mb-3"}),(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:"Chargement..."})]}):F?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-red-600 p-4",children:[(0,wt.jsx)(Ut,{className:"w-8 h-8 mb-3"}),(0,wt.jsx)("p",{className:"text-sm text-center",children:F})]}):0===xe.length?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 p-4",children:[(0,wt.jsx)(Ms,{className:"w-12 h-12 mb-3"}),(0,wt.jsx)("p",{className:"text-sm",children:"Aucune conversation"}),(0,wt.jsx)("p",{className:"text-xs mt-1 text-center",children:I.trim()?"Aucun r\xe9sultat pour votre recherche":"Lorsqu'un utilisateur vous contactera, vos conversations appara\xeetront ici."})]}):xe.map(e=>{const t=(e=>e.reference?e.is_anonymous?{mainName:"Anonyme",subName:e.reference}:{mainName:e.visitor_name||e.name||"Visiteur",subName:e.reference}:{mainName:e.name||"Utilisateur",subName:e.role||null})(e),r=e.unread_count||e.unread||0;return(0,wt.jsxs)("div",{onClick:()=>{return t=e.id,c(t),w(!1),H(null),K(null),q(0),void(re.current=0);var t},className:"flex items-start gap-3 p-4 cursor-pointer border-b border-gray-100 transition-all hover:bg-gray-50 ".concat(A===e.id?"bg-blue-50 border-l-4 border-l-blue-600":""),children:[(0,wt.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,wt.jsx)("img",{src:e.reference?pe(e.is_anonymous,e.visitor_name||e.name):e.avatar||"https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff",alt:t.mainName,className:"w-12 h-12 rounded-full",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff"}}),r>0&&(0,wt.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:r>9?"9+":r}),e.reference&&(0,wt.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center",children:e.is_anonymous?(0,wt.jsx)(Rs,{className:"w-3 h-3 text-gray-400"}):(0,wt.jsx)(Cs,{className:"w-3 h-3 text-blue-500"})}),e.important&&(0,wt.jsx)(tN,{className:"absolute top-0 -right-1 w-4 h-4 text-orange-500 fill-orange-500"})]}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,wt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:t.mainName}),(0,wt.jsx)("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:ue(e.last_message_time||e.time)})]}),t.subName&&(0,wt.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,wt.jsx)(Ts,{className:"w-3 h-3 text-blue-600"}),(0,wt.jsx)("p",{className:"text-[10px] font-mono text-blue-700 font-semibold truncate",children:t.subName})]}),e.dossierTitre&&(0,wt.jsxs)("p",{className:"text-[11px] text-gray-600 mb-1 truncate",children:["\ud83d\udccb ",e.dossierTitre]}),(0,wt.jsx)("p",{className:"text-xs truncate ".concat(r>0?"text-gray-900 font-medium":"text-gray-500"),children:e.last_message||e.lastMessage||"Nouveau message"})]})]},e.id)})})]}),(0,wt.jsx)("div",{className:"flex-1 flex flex-col",children:d?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[!j&&(0,wt.jsx)("button",{onClick:()=>C(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors lg:hidden",title:"Afficher la liste",children:(0,wt.jsx)(rN,{className:"w-5 h-5 text-gray-600"})}),(0,wt.jsx)("img",{src:d.reference?pe(d.is_anonymous,d.visitor_name||d.name):d.avatar||"https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff",alt:"Avatar",className:"w-10 h-10 rounded-full",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff"}}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-1.5",children:[d.reference&&(d.is_anonymous?(0,wt.jsx)(Rs,{className:"w-3.5 h-3.5 text-gray-400"}):(0,wt.jsx)(Cs,{className:"w-3.5 h-3.5 text-blue-500"})),(0,wt.jsx)("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:d.reference?d.is_anonymous?"Anonyme":d.visitor_name||d.name||"Visiteur":d.name||"Support FOSIKA"}),(null===(r=T[d.id])||void 0===r?void 0:r.isOnline)&&(0,wt.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-green-600 ml-2",children:[(0,wt.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,wt.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),(0,wt.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),(0,wt.jsx)("span",{children:"En ligne"})]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5",children:[!(null!==(n=T[d.id])&&void 0!==n&&n.isOnline)&&(null!==(s=T[d.id])&&void 0!==s&&s.lastSeen?(0,wt.jsxs)(wt.Fragment,{children:["Vu ",(0,wt.jsx)("span",{className:"font-medium",children:ue(T[d.id].lastSeen)})]}):d.role||"Support"),d.status&&!(null!==(a=T[d.id])&&void 0!==a&&a.isOnline)&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("span",{className:"mx-1 text-gray-300",children:"\u2022"}),(0,wt.jsx)("span",{children:d.status})]})]})]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("button",{onClick:()=>w(!y),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Informations",children:(0,wt.jsx)(nN,{className:"w-5 h-5 text-gray-600"})}),j&&(0,wt.jsx)("button",{onClick:()=>C(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors lg:hidden",title:"Masquer la liste",children:(0,wt.jsx)(sN,{className:"w-5 h-5 text-gray-600"})}),(0,wt.jsx)("button",{onClick:()=>x(!g),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:g?"R\xe9duire":"Plein \xe9cran",children:g?(0,wt.jsx)(aN,{className:"w-5 h-5 text-gray-600"}):(0,wt.jsx)(Ds,{className:"w-5 h-5 text-gray-600"})}),(0,wt.jsxs)("div",{className:"relative",ref:Y,children:[(0,wt.jsx)("button",{onClick:()=>v(!b),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Options",children:(0,wt.jsx)(OB,{className:"w-5 h-5 text-gray-600"})}),b&&(0,wt.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:(0,wt.jsxs)("button",{onClick:()=>{(async e=>{try{const t=await Gs.toggleImportant(e);t.success&&(await ie(),d&&d.id===e&&u(e=>o(o({},e),{},{is_important:t.is_important})))}catch(t){E(t.message||"Erreur lors de la modification")}})(d.id),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-2 text-gray-700",children:[(0,wt.jsx)(tN,{className:"w-4 h-4 ".concat(d.is_important?"text-orange-500 fill-orange-500":"")}),(0,wt.jsx)("span",{children:d.is_important?"Retirer important":"Marquer important"})]})})]})]})]}),d.reference&&(0,wt.jsx)("div",{className:"bg-blue-50 border-b border-blue-100 px-4 py-2.5",children:(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Ts,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-xs font-mono font-semibold text-blue-700 truncate",children:d.reference}),d.dossierTitre&&(0,wt.jsx)("p",{className:"text-[11px] text-gray-600 truncate",children:d.dossierTitre})]})]})}),(0,wt.jsxs)("div",{ref:te,className:"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-3",children:[F&&!R&&(0,wt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm flex items-start gap-2",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,wt.jsx)("p",{children:F})]}),d.messages&&d.messages.length>0?d.messages.map(e=>{var t,r,n,s;"visitor"===e.sender||e.sender_type;const a="me"===e.sender||"support"===e.sender_type,i=ne(se(e));return(0,wt.jsx)("div",{className:"flex ".concat(a?"justify-end":"justify-start"),children:(0,wt.jsxs)("div",{className:"max-w-[70%] ".concat(a?"":"flex gap-2"),children:[!a&&(0,wt.jsx)("div",{className:"flex flex-col items-center flex-shrink-0",children:(0,wt.jsx)("img",{src:e.avatar||pe(d.is_anonymous,d.visitor_name||d.name),alt:"Avatar",className:"w-8 h-8 rounded-full",onError:e=>{e.target.src=pe(d.is_anonymous,d.visitor_name)}})}),(0,wt.jsxs)("div",{className:"flex-1",children:[!a&&(0,wt.jsxs)("div",{className:"mb-1 px-2",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[d.is_anonymous?(0,wt.jsx)(Rs,{className:"w-3 h-3 text-gray-400"}):(0,wt.jsx)(Cs,{className:"w-3 h-3 text-blue-500"}),(0,wt.jsx)("p",{className:"text-[10px] font-semibold text-gray-700",children:d.is_anonymous?"Anonyme":d.visitor_name||d.name||"Visiteur"})]}),d.reference&&(0,wt.jsx)("p",{className:"text-[9px] font-mono text-gray-500",children:d.reference})]}),(0,wt.jsx)("div",{className:"rounded-2xl shadow-sm overflow-hidden ".concat(a?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-800 border border-gray-200 rounded-bl-sm"),children:"image"===e.type&&i?(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("img",{src:i,alt:(null===(t=se(e))||void 0===t?void 0:t.name)||"Image",className:"w-full max-w-md cursor-pointer rounded-lg",style:{maxHeight:"400px",objectFit:"cover"},onClick:()=>fe(i),onError:e=>{console.error("Erreur chargement image:",i),e.target.src="https://via.placeholder.com/400x300?text=Image+non+disponible"}}),(0,wt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all flex items-center justify-center rounded-lg",children:(0,wt.jsx)("button",{onClick:()=>fe(i),className:"opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all bg-white/90 hover:bg-white p-2 rounded-full shadow-lg",children:(0,wt.jsx)(Hs,{className:"w-5 h-5 text-gray-800"})})})]}):"video"===e.type&&i?(0,wt.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden max-w-md",children:[(0,wt.jsxs)("video",{controls:!0,className:"w-full",style:{maxHeight:"350px"},preload:"metadata",onError:()=>console.error("Erreur chargement vid\xe9o:",i),children:[(0,wt.jsx)("source",{src:i,type:(null===(r=se(e))||void 0===r?void 0:r.type)||"video/mp4"}),"Votre navigateur ne supporte pas la lecture vid\xe9o."]}),(0,wt.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,wt.jsx)(zs,{className:"w-3 h-3"}),"Vid\xe9o"]})]}):"file"===e.type&&i?(0,wt.jsxs)("div",{className:"p-3 ".concat(a?"bg-blue-700":"bg-gray-50"),children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)("div",{className:"p-2 rounded-lg ".concat(a?"bg-blue-800":"bg-white border border-gray-200"),children:(0,wt.jsx)(Ks,{className:"w-5 h-5 ".concat(a?"text-white":"text-gray-600")})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium truncate ".concat(a?"text-white":"text-gray-800"),children:(null===(n=se(e))||void 0===n?void 0:n.name)||"Fichier"}),(null===(s=se(e))||void 0===s?void 0:s.filesize)&&(0,wt.jsx)("p",{className:"text-xs ".concat(a?"text-blue-100":"text-gray-500"),children:he(se(e).filesize)})]})]}),(0,wt.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,wt.jsxs)("a",{href:i,target:"_blank",rel:"noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(a?"bg-blue-800 hover:bg-blue-900 text-white":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"),children:[(0,wt.jsx)(_s,{className:"w-3.5 h-3.5"}),"Voir"]}),(0,wt.jsxs)("a",{href:i,download:!0,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(a?"bg-white/20 hover:bg-white/30 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:[(0,wt.jsx)(Us,{className:"w-3.5 h-3.5"}),"T\xe9l\xe9charger"]})]})]}):(0,wt.jsx)("div",{className:"px-4 py-3",children:(0,wt.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.text||e.content})})}),(0,wt.jsxs)("div",{className:"px-4 pb-2 flex items-center ".concat(a?"justify-end":"justify-start"," gap-1 text-[10px] text-gray-400"),children:[(0,wt.jsx)("span",{children:de(e.time||e.created_at)}),a&&e.status&&(0,wt.jsx)(ge,{status:e.status})]})]})]})},e.id)}):(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,wt.jsx)(Ms,{className:"w-16 h-16 mb-3"}),(0,wt.jsx)("p",{className:"text-sm font-medium",children:"Aucun message dans cette conversation"}),(0,wt.jsx)("p",{className:"text-xs mt-1",children:"Envoyez un message pour commencer la conversation"})]}),(0,wt.jsx)("div",{ref:ee})]}),R&&(0,wt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:z&&R.type.startsWith("image/")?(0,wt.jsx)("img",{src:z,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):z&&R.type.startsWith("video/")?(0,wt.jsx)("video",{src:z,className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):(0,wt.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center border border-gray-200",children:(0,wt.jsx)(Ts,{className:"w-8 h-8 text-gray-400"})})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:R.name}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:he(R.size)}),Q&&(0,wt.jsxs)("div",{className:"mt-2",children:[(0,wt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,wt.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-200",style:{width:"".concat(V,"%")}})}),(0,wt.jsxs)("p",{className:"text-[10px] text-gray-500 mt-1",children:[V,"%"]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("button",{onClick:()=>{H(null),K(null),q(0),E(null)},disabled:Q,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",title:"Annuler",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:async()=>{if(R&&A)try{L(!0),E(null);let e="file";R.type.startsWith("image/")?e="image":R.type.startsWith("video/")&&(e="video");(await Gs.uploadFile(A,R,e,e=>q(e))).success&&(H(null),K(null),q(0),await oe(A))}catch(e){console.error("Erreur envoi fichier:",e),E(e.message||"Erreur lors de l'envoi du fichier")}finally{L(!1)}},disabled:Q,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",title:"Envoyer",children:Q?(0,wt.jsx)(Os,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(Vs,{className:"w-5 h-5"})})]})]})}),(0,wt.jsx)("div",{className:"border-t border-gray-200 p-4 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-end gap-2",children:[(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>{var e;A?null===(e=Z.current)||void 0===e||e.click():E("Veuillez d'abord s\xe9lectionner une conversation")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre un fichier",disabled:Q,children:(0,wt.jsx)(Ks,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:()=>{var e;A?null===(e=$.current)||void 0===e||e.click():E("Veuillez d'abord s\xe9lectionner une conversation")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre une image",disabled:Q,children:(0,wt.jsx)(qs,{className:"w-5 h-5"})})]}),(0,wt.jsx)("div",{className:"flex-1",children:(0,wt.jsx)("textarea",{ref:J,rows:1,value:h,onChange:e=>f(e.target.value),placeholder:"\xc9crivez un message...",className:"w-full resize-none border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent max-h-[120px]",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ce())},disabled:_||Q})}),(0,wt.jsx)("button",{onClick:ce,disabled:_||Q||!h.trim(),className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Envoyer",children:_?(0,wt.jsx)(Os,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(Vs,{className:"w-5 h-5"})})]})})]}):(0,wt.jsx)("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:k?(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)(Os,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-gray-500",children:"Chargement des conversations..."})]}):(0,wt.jsx)(wt.Fragment,{children:(0,wt.jsxs)("div",{className:"text-center text-gray-400",children:[(0,wt.jsx)(Ms,{className:"w-20 h-20 mx-auto mb-4 text-gray-300"}),(0,wt.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"S\xe9lectionnez une conversation"}),(0,wt.jsx)("p",{className:"text-sm",children:"Choisissez une conversation dans la liste pour commencer \xe0 discuter"})]})})})}),y&&d&&(0,wt.jsx)("div",{className:"w-80 bg-white border-l border-gray-200 overflow-y-auto",children:(0,wt.jsxs)("div",{className:"p-6",children:[(0,wt.jsxs)("div",{className:"text-center mb-6",children:[(0,wt.jsx)("img",{src:d.reference?pe(d.is_anonymous,d.visitor_name||d.name):d.avatar||"https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff",alt:"Avatar",className:"w-24 h-24 rounded-full mx-auto mb-3",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff"}}),(0,wt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:d.is_anonymous?"Anonyme":d.visitor_name||d.name||"Visiteur"}),(0,wt.jsxs)("p",{className:"text-sm text-gray-500",children:[d.role||"Support",d.location&&(0,wt.jsxs)("span",{className:"block text-xs mt-1",children:["\ud83d\udccd ",d.location]})]})]}),d.reference&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"R\xe9f\xe9rence"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:d.reference})]}),d.dossierTitre&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Type"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:d.dossierTitre||"Signalement"})]})]}),(0,wt.jsx)("hr",{className:"my-4"}),(0,wt.jsxs)("div",{className:"space-y-4",children:[d.visitor_name&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Nom complet"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:d.visitor_name})]}),d.phone&&(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)(Ss,{className:"w-4 h-4 text-gray-400 mt-1"}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"T\xe9l\xe9phone"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:d.phone})]})]}),d.email&&(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)(Fs,{className:"w-4 h-4 text-gray-400 mt-1"}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Email"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1 break-all",children:d.email})]})]}),(d.address||d.city||d.province||d.region)&&(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)(Es,{className:"w-4 h-4 text-gray-400 mt-1"}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Localisation"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:[d.address,d.city,d.province&&d.city?d.province:null,((d.city||d.province)&&d.region,d.region)].filter(Boolean).join(", ")||"Non renseign\xe9"})]})]})]})]})]})})]})},oN=e=>{var r,n;let{onOpenFullChat:s,autoOpen:a,targetReference:i,onAutoOpenHandled:l}=e;const[A,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)(!0),[b,v]=(0,t.useState)(null),[y,w]=(0,t.useState)([]),[B,N]=(0,t.useState)(null),[j,C]=(0,t.useState)(!1),[k,S]=(0,t.useState)(null),[F,E]=(0,t.useState)(!1),[_,U]=(0,t.useState)(!1),[Q,L]=(0,t.useState)(null),[I,M]=(0,t.useState)(null),[D,P]=(0,t.useState)(0),[T,O]=(0,t.useState)({isOpen:!1,currentImage:null,currentIndex:0,images:[]}),R=(0,t.useRef)(null),H=(0,t.useRef)(null),z=(0,t.useRef)(null),K=(0,t.useRef)(null),V=(0,t.useRef)(null),q=(0,t.useRef)(null),G=(0,t.useRef)(0),W=(0,t.useRef)(0),J=(0,t.useRef)(null);(0,t.useEffect)(()=>{a&&!A&&(console.log("\ud83d\udd13 Ouverture automatique du chat demand\xe9e"),se(),l&&l())},[a]),(0,t.useEffect)(()=>{if(!A||!i||!y.length)return;console.log("\ud83d\udd0d Recherche du chat pour r\xe9f\xe9rence:",i);const e=y.find(e=>e.reference===i);e?(console.log("\u2705 Chat trouv\xe9:",e.id,e.reference),v(e.id),x(!1),re(e.id)):(console.log("\u274c Aucun chat trouv\xe9, cr\xe9ation automatique..."),Y(i))},[A,i,y]);const Y=async e=>{try{C(!0),S(null),console.log("\ud83c\udd95 Cr\xe9ation du chat pour:",e);const t=await Gs.createAdminChat({reference:e,message:"Bonjour, nous souhaitons vous contacter concernant votre dossier ".concat(e,".")});t.success?(console.log("\u2705 Chat cr\xe9\xe9 avec succ\xe8s:",t.chat.id),await ee(),v(t.chat.id),x(!1),re(t.chat.id)):S("Impossible de cr\xe9er la conversation pour cette r\xe9f\xe9rence")}catch(t){console.error("\u274c Erreur cr\xe9ation chat:",t),S(t.message||"Erreur lors de la cr\xe9ation de la conversation")}finally{C(!1)}},X=e=>{if(!e)return null;const t=e.url||e.name||e.filename;return t?Gs.getChatFileUrl(t):null},Z=e=>(null===e||void 0===e?void 0:e.fileinfo)||(null===e||void 0===e?void 0:e.file_info)||null;(0,t.useEffect)(()=>{J.current=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEA1Qt+PwtmMdBjiR1/LMeSwEJHfH8N2RQAoUXrTp66hVFApGn+DyvmwhBSuEzvLaizsIHGS57N+LMgcZacLx6ZZEEAwQqOLty")},[]);const $=()=>{try{J.current&&(J.current.volume=.5,J.current.play().catch(e=>{console.log("Impossible de jouer le son:",e)}))}catch(k){console.log("Erreur son notification:",k)}};(0,t.useEffect)(()=>{A&&!d&&ee()},[A,d]),(0,t.useEffect)(()=>{if(A&&!d&&g){const e=setInterval(()=>{te()},15e3);return()=>clearInterval(e)}},[A,d,g]),(0,t.useEffect)(()=>{if(b&&A&&!d&&!g){re(b);const e=setInterval(()=>{ne(b)},8e3);return()=>clearInterval(e)}},[b,A,d,g]),(0,t.useEffect)(()=>{const e=setInterval(()=>{te(!0)},1e4);return te(!0),()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{R.current&&(R.current.style.height="auto",R.current.style.height=Math.min(R.current.scrollHeight,120)+"px")},[h]),(0,t.useEffect)(()=>{if(null!==B&&void 0!==B&&B.messages&&V.current){const e=B.messages.length;if(e!==G.current){const t=q.current;(!t||t.scrollHeight-t.scrollTop-t.clientHeight<100)&&V.current.scrollIntoView({behavior:"smooth"}),G.current=e}}},[null===B||void 0===B?void 0:B.messages]),(0,t.useEffect)(()=>{const e=e=>{H.current&&!H.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const ee=async()=>{try{C(!0),S(null);const e=await Gs.getUserChats();e.success&&(w(e.chats||[]),e.chats.length>0&&!b&&v(e.chats[0].id))}catch(e){S(e.message||"Erreur lors du chargement des conversations")}finally{C(!1)}},te=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const t=await Gs.getUserChats();if(t.success){const r=t.chats||[],n=r.filter(e=>(e.unread_count||e.unread||0)>0).length;e&&n>W.current&&$(),W.current=n,w(r)}}catch(t){console.error("Erreur chargement arri\xe8re-plan:",t)}},re=async e=>{try{const r=await Gs.getChatDetails(e);var t;if(r.success)N(r.chat),G.current=(null===(t=r.chat.messages)||void 0===t?void 0:t.length)||0,await Gs.markAsRead(e),await te()}catch(r){console.error("Erreur lors du chargement des d\xe9tails du chat:",r)}},ne=async e=>{try{const n=await Gs.getChatDetails(e);if(n.success){var t,r;const s=(null===B||void 0===B||null===(t=B.messages)||void 0===t?void 0:t.length)||0;((null===(r=n.chat.messages)||void 0===r?void 0:r.length)||0)>s&&(N(n.chat),$(),await Gs.markAsRead(e),await te())}}catch(n){console.error("Erreur chargement d\xe9tails arri\xe8re-plan:",n)}},se=()=>{c(!0),u(!1),x(!0),S(null)},ae=()=>{c(!1),u(!1),x(!0),v(null),N(null),f(""),S(null),L(null),M(null)},ie=async()=>{if(h.trim()&&b)try{E(!0);(await Gs.sendMessage(b,{content:h,type:"text"})).success&&(f(""),await re(b))}catch(e){S(e.message||"Erreur lors de l'envoi du message")}finally{E(!1)}},oe=e=>{if(!e)return"";try{return oi(new Date(e),"HH:mm",{locale:mi})}catch(QN){return e}},le=e=>{if(!e)return"";try{return Ba(new Date(e),{addSuffix:!0,locale:mi})}catch(QN){return e}},Ae=e=>{var t;const r=(null===B||void 0===B||null===(t=B.messages)||void 0===t?void 0:t.filter(e=>"image"===e.type&&X(Z(e))).map(e=>{var t;return{url:X(Z(e)),name:null===(t=Z(e))||void 0===t?void 0:t.name,originalIndex:B.messages.indexOf(e)}}))||[],n=r.findIndex(t=>t.url===e);O({isOpen:!0,currentImage:e,currentIndex:n>=0?n:0,images:r})},ce=e=>{const t="next"===e?(T.currentIndex+1)%T.images.length:(T.currentIndex-1+T.images.length)%T.images.length;O(e=>o(o({},e),{},{currentIndex:t,currentImage:e.images[t].url}))},de=(e,t)=>{if(e)return"https://ui-avatars.com/api/?name=Anonyme&background=94a3b8&color=fff";return"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(t||"Visiteur"),"&background=3b82f6&color=fff")},ue=e=>e.reference?e.is_anonymous?{mainName:"Anonyme",subName:e.reference}:{mainName:e.visitor_name||e.name||"Visiteur",subName:e.reference}:{mainName:e.name||"Utilisateur",subName:e.role||null},he=e=>{if(e.last_message)return e.last_message;if(e.messages&&e.messages.length>0){const t=e.messages[e.messages.length-1];return t.content||t.text||"Nouveau message"}return e.lastMessage||"Nouveau message"},fe=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},me=e=>{let{status:t}=e;return t&&"sent"!==t?"delivered"===t?(0,wt.jsx)(Ls,{className:"w-3.5 h-3.5 text-gray-400"}):"read"===t?(0,wt.jsx)(Ls,{className:"w-3.5 h-3.5 text-blue-500"}):null:(0,wt.jsx)(Qs,{className:"w-3.5 h-3.5 text-gray-400"})},pe=y.filter(e=>(e.unread_count||e.unread||0)>0).length;return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("input",{ref:z,type:"file",className:"hidden",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;if(!b)return void S("Veuillez d'abord s\xe9lectionner une conversation");if(r.size>26214400)return void S("Le fichier ne doit pas d\xe9passer 25 MB");if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","video/mp4","video/quicktime","video/x-msvideo","video/x-ms-wmv"].includes(r.type))return void S("Format non support\xe9. Utilisez JPG, JPEG, PNG, MP4 ou PDF");if(r.type.startsWith("video/")){const e=new FileReader;e.onloadend=()=>{M(e.result),L(r),S(null)},e.readAsDataURL(r)}else L(r),M(null),S(null)},accept:".pdf,.doc,.docx,.txt,.xlsx,.xls,.mp4,.mov,.avi,.wmv,video/*"}),(0,wt.jsx)("input",{ref:K,type:"file",className:"hidden",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;if(!b)return void S("Veuillez d'abord s\xe9lectionner une conversation");if(r.size>26214400)return void S("L'image ne doit pas d\xe9passer 25 MB");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type))return void S("Format d'image non support\xe9. Utilisez JPG, JPEG, PNG, GIF ou WEBP");const n=new FileReader;n.onloadend=()=>{M(n.result),L(r),S(null)},n.readAsDataURL(r)},accept:".jpg,.jpeg,.png,.gif,.webp,image/*"}),T.isOpen&&(0,wt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-[9999] flex items-center justify-center",children:[(0,wt.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent z-10",children:[(0,wt.jsxs)("div",{className:"text-white",children:[(0,wt.jsx)("p",{className:"text-sm font-medium",children:(null===(r=T.images[T.currentIndex])||void 0===r?void 0:r.name)||"Image"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-300",children:[T.currentIndex+1," / ",T.images.length]})]}),(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),O({isOpen:!1,currentImage:null,currentIndex:0,images:[]})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",title:"Fermer",type:"button",children:(0,wt.jsx)(Lt,{className:"w-6 h-6 text-white"})})]}),(0,wt.jsx)("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:(0,wt.jsx)("img",{src:T.currentImage,alt:"Aper\xe7u",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.src="https://via.placeholder.com/400x300?text=Image+non+disponible"}})}),T.images.length>1&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),ce("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image pr\xe9c\xe9dente",type:"button",children:(0,wt.jsx)(_t,{className:"w-6 h-6 text-white"})}),(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),ce("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image suivante",type:"button",children:(0,wt.jsx)(Is,{className:"w-6 h-6 text-white"})})]}),(0,wt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 flex items-center justify-center gap-4 bg-gradient-to-t from-black/50 to-transparent z-10",children:(0,wt.jsx)("button",{onClick:async e=>{var t;e.preventDefault(),e.stopPropagation();const r=T.currentImage,n=(null===(t=T.images[T.currentIndex])||void 0===t?void 0:t.name)||"image.jpg";try{const e=await fetch(r),t=await e.blob(),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)}catch(k){console.error("Erreur t\xe9l\xe9chargement:",k),window.open(r,"_blank")}},className:"p-3 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors",title:"T\xe9l\xe9charger l'image",type:"button",children:(0,wt.jsx)(Us,{className:"w-5 h-5"})})})]}),!A&&(0,wt.jsxs)("button",{onClick:se,className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-2xl transition-all duration-300 hover:scale-110 z-50",title:"Ouvrir le chat",children:[(0,wt.jsx)(Ms,{className:"w-7 h-7"}),pe>0&&(0,wt.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full min-w-[1.5rem] h-6 px-1.5 flex items-center justify-center animate-pulse",children:pe>99?"99+":pe})]}),A&&!d&&(0,wt.jsxs)("div",{className:"fixed bottom-6 right-6 w-96 h-[32rem] bg-white rounded-xl shadow-2xl flex flex-col overflow-hidden z-50 border border-gray-200",children:[(0,wt.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[!g&&(0,wt.jsx)("button",{onClick:()=>{x(!0),v(null),N(null),f(""),S(null),L(null),M(null),G.current=0},className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors flex-shrink-0",title:"Retour",children:(0,wt.jsx)(_t,{className:"w-5 h-5"})}),(0,wt.jsx)(Ms,{className:"w-6 h-6 flex-shrink-0"}),(0,wt.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,wt.jsx)("h3",{className:"font-bold text-sm truncate",children:g?"Messages":ue(B||{}).mainName}),(0,wt.jsx)("p",{className:"text-xs opacity-90 truncate",children:g?"".concat(y.length," conversation").concat(y.length>1?"s":""):ue(B||{}).subName||(null===B||void 0===B?void 0:B.role)||"Support"})]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!g&&(0,wt.jsx)("button",{onClick:()=>{s&&b&&s(b),ae()},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Agrandir",children:(0,wt.jsx)(Ds,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:()=>{u(!0)},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"R\xe9duire",children:(0,wt.jsx)(Ps,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:ae,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Fermer",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]})]}),g?(0,wt.jsx)("div",{className:"flex-1 overflow-y-auto",children:j?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,wt.jsx)(Os,{className:"w-8 h-8 text-blue-600 animate-spin mb-3"}),(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:"Chargement..."})]}):k?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-red-600 p-4",children:[(0,wt.jsx)(Ut,{className:"w-8 h-8 mb-3"}),(0,wt.jsx)("p",{className:"text-sm text-center",children:k})]}):0===y.length?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 p-4",children:[(0,wt.jsx)(Ms,{className:"w-12 h-12 mb-3"}),(0,wt.jsx)("p",{className:"text-sm",children:"Aucune conversation"}),(0,wt.jsx)("p",{className:"text-xs mt-1 text-center",children:"Lorsqu'un utilisateur vous contactera, vos conversations appara\xeetront ici."})]}):y.map(e=>{const t=ue(e),r=e.unread_count||e.unread||0;return(0,wt.jsxs)("div",{onClick:()=>{return t=e.id,v(t),x(!1),S(null),L(null),M(null),void(G.current=0);var t},className:"flex items-start gap-3 p-4 cursor-pointer border-b border-gray-100 transition-all hover:bg-gray-50 ".concat(b===e.id?"bg-blue-50 border-l-4 border-l-blue-600":""),children:[(0,wt.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,wt.jsx)("img",{src:e.reference?de(e.is_anonymous,e.visitor_name||e.name):e.avatar||"https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff",alt:t.mainName,className:"w-12 h-12 rounded-full",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff"}}),r>0&&(0,wt.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:r>9?"9+":r}),e.reference&&(0,wt.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center",children:e.is_anonymous?(0,wt.jsx)(Rs,{className:"w-3 h-3 text-gray-400"}):(0,wt.jsx)(Cs,{className:"w-3 h-3 text-blue-500"})}),e.important&&(0,wt.jsx)(tN,{className:"absolute top-0 -right-1 w-4 h-4 text-orange-500 fill-orange-500"})]}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,wt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:t.mainName}),(0,wt.jsx)("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:le(e.last_message_time||e.time)})]}),t.subName&&(0,wt.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,wt.jsx)(Ts,{className:"w-3 h-3 text-blue-600"}),(0,wt.jsx)("p",{className:"text-[10px] font-mono text-blue-700 font-semibold truncate",children:t.subName})]}),e.dossierTitre&&(0,wt.jsxs)("p",{className:"text-[11px] text-gray-600 mb-1 truncate",children:["\ud83d\udccb ",e.dossierTitre]}),(0,wt.jsx)("p",{className:"text-xs truncate ".concat(r>0?"text-gray-900 font-medium":"text-gray-500"),children:he(e)})]})]},e.id)})}):(0,wt.jsxs)(wt.Fragment,{children:[B&&B.reference&&(0,wt.jsx)("div",{className:"bg-blue-50 border-b border-blue-100 px-4 py-2.5",children:(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Ts,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-xs font-mono font-semibold text-blue-700 truncate",children:B.reference}),B.dossierTitre&&(0,wt.jsx)("p",{className:"text-[11px] text-gray-600 truncate",children:B.dossierTitre})]})]})}),(0,wt.jsxs)("div",{ref:q,className:"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-3",children:[k&&!Q&&(0,wt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm flex items-start gap-2",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,wt.jsx)("p",{children:k})]}),(null===B||void 0===B||null===(n=B.messages)||void 0===n?void 0:n.length)>0?B.messages.map(e=>{var t,r,n,s;"visitor"===e.sender||e.sender_type;const a="me"===e.sender||"support"===e.sender_type,i=X(Z(e));return(0,wt.jsx)("div",{className:"flex ".concat(a?"justify-end":"justify-start"),children:(0,wt.jsxs)("div",{className:"max-w-[80%] ".concat(a?"":"flex gap-2"),children:[!a&&(0,wt.jsx)("div",{className:"flex flex-col items-center flex-shrink-0",children:(0,wt.jsx)("img",{src:e.avatar||de(B.is_anonymous,B.visitor_name||B.name),alt:"Avatar",className:"w-8 h-8 rounded-full",onError:e=>{e.target.src=de(B.is_anonymous,B.visitor_name)}})}),(0,wt.jsxs)("div",{className:"flex-1",children:[!a&&(0,wt.jsxs)("div",{className:"mb-1 px-2",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[B.is_anonymous?(0,wt.jsx)(Rs,{className:"w-3 h-3 text-gray-400"}):(0,wt.jsx)(Cs,{className:"w-3 h-3 text-blue-500"}),(0,wt.jsx)("p",{className:"text-[10px] font-semibold text-gray-700",children:B.is_anonymous?"Anonyme":B.visitor_name||B.name||"Visiteur"})]}),B.reference&&(0,wt.jsx)("p",{className:"text-[9px] font-mono text-gray-500",children:B.reference})]}),(0,wt.jsx)("div",{className:"rounded-2xl shadow-sm overflow-hidden ".concat(a?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-800 border border-gray-200 rounded-bl-sm"),children:"image"===e.type&&i?(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("img",{src:i,alt:(null===(t=Z(e))||void 0===t?void 0:t.name)||"Image",className:"w-full max-w-xs cursor-pointer rounded-lg",style:{maxHeight:"300px",objectFit:"cover"},onClick:()=>Ae(i),onError:e=>{console.error("Erreur chargement image:",i),e.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"}}),(0,wt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all flex items-center justify-center rounded-lg",children:(0,wt.jsx)("button",{onClick:()=>Ae(i),className:"opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all bg-white/90 hover:bg-white p-2 rounded-full shadow-lg",children:(0,wt.jsx)(Hs,{className:"w-5 h-5 text-gray-800"})})})]}):"video"===e.type&&i?(0,wt.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden max-w-xs",children:[(0,wt.jsxs)("video",{controls:!0,className:"w-full",style:{maxHeight:"250px"},preload:"metadata",onError:()=>console.error("Erreur chargement vid\xe9o:",i),children:[(0,wt.jsx)("source",{src:i,type:(null===(r=Z(e))||void 0===r?void 0:r.type)||"video/mp4"}),"Votre navigateur ne supporte pas la lecture vid\xe9o."]}),(0,wt.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,wt.jsx)(zs,{className:"w-3 h-3"}),"Vid\xe9o"]})]}):"file"===e.type&&i?(0,wt.jsxs)("div",{className:"p-3 ".concat(a?"bg-blue-700":"bg-gray-50"),children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)("div",{className:"p-2 rounded-lg ".concat(a?"bg-blue-800":"bg-white border border-gray-200"),children:(0,wt.jsx)(Ks,{className:"w-5 h-5 ".concat(a?"text-white":"text-gray-600")})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium truncate ".concat(a?"text-white":"text-gray-800"),children:(null===(n=Z(e))||void 0===n?void 0:n.name)||"Fichier"}),(null===(s=Z(e))||void 0===s?void 0:s.filesize)&&(0,wt.jsx)("p",{className:"text-xs ".concat(a?"text-blue-100":"text-gray-500"),children:fe(Z(e).filesize)})]})]}),(0,wt.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,wt.jsxs)("a",{href:i,target:"_blank",rel:"noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(a?"bg-blue-800 hover:bg-blue-900 text-white":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"),children:[(0,wt.jsx)(_s,{className:"w-3.5 h-3.5"}),"Voir"]}),(0,wt.jsxs)("a",{href:i,download:!0,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(a?"bg-white/20 hover:bg-white/30 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:[(0,wt.jsx)(Us,{className:"w-3.5 h-3.5"}),"T\xe9l\xe9charger"]})]})]}):(0,wt.jsx)("div",{className:"px-4 py-3",children:(0,wt.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.text||e.content})})}),(0,wt.jsxs)("div",{className:"px-4 pb-2 flex items-center ".concat(a?"justify-end":"justify-start"," gap-1 text-[10px] ").concat(a?"text-blue-100":"text-gray-400"),children:[(0,wt.jsx)("span",{children:oe(e.time||e.created_at)}),a&&(0,wt.jsx)(me,{status:e.status})]})]})]})},e.id)}):(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,wt.jsx)(Ms,{className:"w-12 h-12 mb-2"}),(0,wt.jsx)("p",{className:"text-sm",children:"Aucun message"}),(0,wt.jsx)("p",{className:"text-xs",children:"En attente du premier message"})]}),(0,wt.jsx)("div",{ref:V})]}),Q&&(0,wt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:I&&Q.type.startsWith("image/")?(0,wt.jsx)("img",{src:I,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):I&&Q.type.startsWith("video/")?(0,wt.jsx)("video",{src:I,className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):(0,wt.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center border border-gray-200",children:(0,wt.jsx)(Ts,{className:"w-8 h-8 text-gray-400"})})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:Q.name}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:fe(Q.size)}),_&&(0,wt.jsxs)("div",{className:"mt-2",children:[(0,wt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,wt.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-200",style:{width:"".concat(D,"%")}})}),(0,wt.jsxs)("p",{className:"text-[10px] text-gray-500 mt-1",children:[D,"%"]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("button",{onClick:()=>{L(null),M(null),P(0),S(null)},disabled:_,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",title:"Annuler",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:async()=>{if(Q&&b)try{U(!0),S(null);let e="file";Q.type.startsWith("image/")?e="image":Q.type.startsWith("video/")&&(e="video");(await Gs.uploadFile(b,Q,e,e=>P(e))).success&&(L(null),M(null),P(0),await re(b))}catch(e){console.error("Erreur envoi fichier:",e),S(e.message||"Erreur lors de l'envoi du fichier")}finally{U(!1)}},disabled:_,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",title:"Envoyer",children:_?(0,wt.jsx)(Os,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(Vs,{className:"w-5 h-5"})})]})]})}),(0,wt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-end gap-2",children:[(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>{var e;b?null===(e=z.current)||void 0===e||e.click():S("Veuillez d'abord s\xe9lectionner une conversation")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre un fichier",children:(0,wt.jsx)(Ks,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:()=>{var e;b?null===(e=K.current)||void 0===e||e.click():S("Veuillez d'abord s\xe9lectionner une conversation")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre une image",children:(0,wt.jsx)(qs,{className:"w-5 h-5"})})]}),(0,wt.jsx)("div",{className:"flex-1",children:(0,wt.jsx)("textarea",{ref:R,rows:1,value:h,onChange:e=>f(e.target.value),placeholder:"\xc9crivez un message...",className:"w-full resize-none border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent max-h-[120px]",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ie())},disabled:F||_})}),(0,wt.jsx)("button",{onClick:ie,disabled:F||_||!h.trim(),className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Envoyer",children:F?(0,wt.jsx)(Os,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(Vs,{className:"w-5 h-5"})})]})})]})]})]})},lN=e=>{let{onDeconnexion:r}=e;const[n,s]=(0,t.useState)("dashboard"),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[A,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{(()=>{try{console.log("\ud83c\udfad [MODE D\xc9MO] Chargement depuis localStorage...");const e=Ni.getUser();e&&e.email?(console.log("\u2705 [MODE D\xc9MO] User charg\xe9:",e.email),l(e)):(console.warn("\u26a0\ufe0f [MODE D\xc9MO] Pas de user \u2192 d\xe9connexion"),r&&r())}catch(e){console.error("\u274c [MODE D\xc9MO] Erreur:",e),r&&r()}finally{c(!1)}})()},[r]);const m=e=>{console.log("\ud83d\udcac Demande de contact pour la r\xe9f\xe9rence:",e),f(e),u(!0)};return A?(0,wt.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-gray-600",children:"Chargement du tableau de bord..."})]})}):o?(0,wt.jsxs)("div",{className:"flex h-screen bg-gray-100 overflow-hidden",children:[(0,wt.jsx)(Xi,{currentView:n,onViewChange:s,collapsed:a,onToggle:()=>i(!a)}),(0,wt.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,wt.jsx)(Gi,{onNavigateToNotifications:()=>s("notifications"),onDeconnexion:r,onNavigateToProfile:()=>s("profil"),onNavigateToSettings:()=>s("settings"),adminData:o,userRole:"admin"}),(0,wt.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 ".concat("chat"===n?"pt-24 h-screen":"mt-20"),children:(()=>{switch(n){case"dashboard":default:return(0,wt.jsx)(qf,{});case"reports":return(0,wt.jsx)(Vw,{onContactReference:m});case"chat":return(0,wt.jsx)(iN,{});case"analyse":return(0,wt.jsx)(wB,{});case"indicateurs":return(0,wt.jsx)(Gw(),{});case"enseignants":return(0,wt.jsx)(eN,{});case"equipe":return(0,wt.jsx)(TB,{});case"audit":return(0,wt.jsx)(sB,{});case"notifications":return(0,wt.jsx)(Zw,{});case"profil":return(0,wt.jsx)(xB,{userData:o})}})()})]}),"chat"!==n&&(0,wt.jsx)(oN,{onOpenFullChat:e=>{console.log("\ud83d\udcf1 Ouverture du chat en plein \xe9cran pour l'ID:",e),s("chat")},autoOpen:d,targetReference:h,onAutoOpenHandled:()=>u(!1)})]}):(0,wt.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,wt.jsx)("div",{className:"text-center text-red-600",children:(0,wt.jsx)("p",{children:"Authentification requise"})})})},AN=e=>{let{currentView:t,onViewChange:r,collapsed:n,onToggle:s}=e;const a=[{id:"dashboard",label:"Tableau de bord",icon:(0,wt.jsx)(Wi,{size:20})},{id:"AgentReportView",label:"Gestion de signalements",icon:(0,wt.jsx)(Ts,{size:20})}];return(0,wt.jsxs)("aside",{className:"\n        fixed left-0 top-20 bottom-0 bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out z-30\n        ".concat(n?"w-20":"w-64","\n      "),children:[(0,wt.jsxs)("div",{className:"relative flex items-center justify-end px-4 pt-4 pb-2 h-12 shrink-0",children:[!n&&(0,wt.jsx)("h2",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Menu Agent"}),(0,wt.jsx)("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors relative z-10","aria-label":n?"Agrandir le menu":"R\xe9duire le menu",children:n?(0,wt.jsx)(Is,{size:20}):(0,wt.jsx)(_t,{size:20})})]}),(0,wt.jsx)("nav",{className:"flex-1 overflow-y-auto px-3 space-y-1 mt-2",children:a.map(e=>(0,wt.jsxs)("button",{onClick:()=>r(e.id),className:"\n              w-full flex items-center p-3 rounded-lg transition-colors duration-200 group relative\n              ".concat(t===e.id?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n            "),title:n?e.label:"",children:[(0,wt.jsx)("span",{className:"flex-shrink-0 ".concat(n?"mx-auto":""),children:e.icon}),!n&&(0,wt.jsx)("span",{className:"ml-3 truncate text-sm",children:e.label}),t===e.id&&!n&&(0,wt.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-600"}),n&&(0,wt.jsx)("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:e.label})]},e.id))}),!n&&(0,wt.jsx)("div",{className:"p-4 border-t border-gray-100 text-xs text-center text-gray-400 shrink-0",children:"\xa9 daaq-mesupres 2025"})]})},cN=e=>{let{data:t}=e;return(0,wt.jsxs)("div",{className:"space-y-6",children:[(0,wt.jsxs)("div",{className:"mb-8",children:[(0,wt.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mes Activit\xe9s"}),(0,wt.jsx)("p",{className:"text-gray-600",children:"Historique de vos activit\xe9s r\xe9centes"})]}),(0,wt.jsx)("div",{className:"bg-white rounded-xl border border-gray-200 p-6 text-center",children:(0,wt.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,wt.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd04"}),(0,wt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Journal d'Activit\xe9s"}),(0,wt.jsx)("p",{className:"text-gray-600",children:"Cette interface affichera l'historique complet de vos activit\xe9s et actions r\xe9centes."})]})})]})},dN=e=>{let{isSorted:t,isAsc:r}=e;return t?r?(0,wt.jsx)(Pf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(Tf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(Df,{className:"w-3 h-3 text-gray-400"})},uN=()=>{const[e,r]=(0,t.useState)({search:"",statut:"",dateDebut:"",dateFin:""}),[n,s]=(0,t.useState)(1),[a,i]=(0,t.useState)(10),[l,A]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)("tous"),[x,b]=(0,t.useState)({general:!0,auteur:!0,description:!0,pieces:!0}),[v,y]=(0,t.useState)({key:"date",direction:"desc"}),w=[{id:"faux-diplomes",icon:Ts,name:"Faux Dipl\xf4mes"},{id:"offre-formation-irreguliere",icon:Fi,name:"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)"},{id:"recrutements-irreguliers",icon:Gf,name:"Recrutements Irr\xe9guliers"},{id:"harcelement",icon:Wf,name:"Harc\xe8lement"},{id:"corruption",icon:Wf,name:"Corruption"},{id:"divers",icon:Jf,name:"Divers"}];(0,t.useEffect)(()=>{(async()=>{d(!0),h(null);try{const e=(await as.get("/reports?per_page=1000")).data;if(e.success&&Array.isArray(e.data)){const t=e.data.map(e=>{let t=[];try{e.files&&("string"===typeof e.files?t=JSON.parse(e.files):Array.isArray(e.files)&&(t=e.files))}catch(QN){}const r=e.description||"Aucune description",n=r.length>80?r.substring(0,80)+"...":r;return{id:e.id,reference:e.reference,date:e.created_at,nom_prenom:e.is_anonymous?"Anonyme":e.name||"Non sp\xe9cifi\xe9",telephone:e.phone||"N/A",email:e.email||"N/A",categorie:e.category,categorieLabel:e.category,raison:e.title||"Non sp\xe9cifi\xe9",type_signalement:e.is_anonymous?"Anonyme":"Non-Anonyme",explication:e.description||"Aucune description",shortDescription:n,files:t,status:e.status||"en_cours",assigned_to:e.assigned_to||"Non assign\xe9",city:e.city,province:e.province,region:e.region,has_proof:e.has_proof||!1}});A(t)}else A([])}catch(u){var e,t;h((null===(e=u.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||u.message)}finally{d(!1)}})()},[]);const B=e=>{if("tous"===e){return{total:l.length,encours:l.filter(e=>"en_cours"===e.status).length,resolus:l.filter(e=>"classifier"===e.status).length}}const t=l.filter(t=>t.categorie===e);return{total:t.length,encours:t.filter(e=>"en_cours"===e.status).length,resolus:t.filter(e=>"classifier"===e.status).length}},N=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(QN){return e}},j=e=>({en_cours:"En cours",investigation:"Ouverture d'enqu\xeates",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes",classifier:"Dossier class\xe9 sans suite"}[e]||e),C=e=>({investigateur:"Investigateur",cac_daj:"DAAQ / CAC / DAJ",autorite_competente:"Autorit\xe9 comp\xe9tente"}[e]||e||"Non assign\xe9"),k=(0,t.useMemo)(()=>{const e=[...l].sort((e,t)=>{if(!v.key)return 0;let r=e[v.key],n=t[v.key];return"date"===v.key&&(r=new Date(r),n=new Date(n)),"reference"===v.key&&(r=r.toLowerCase(),n=n.toLowerCase()),r<n?"asc"===v.direction?-1:1:r>n?"asc"===v.direction?1:-1:0});return e},[l,v]),S=(0,t.useMemo)(()=>{let t=k;return"tous"!==p&&(t=t.filter(e=>e.categorie===p)),(e.dateDebut||e.dateFin)&&(t=t.filter(t=>{const r=new Date(t.date),n=e.dateDebut?new Date(e.dateDebut):null,s=e.dateFin?new Date(e.dateFin):null;let a=!0;if(n&&(a=a&&r>=n),s){const e=new Date(s);e.setDate(e.getDate()+1),a=a&&r<e}return a})),t.filter(t=>{const r=!e.search||t.reference.toLowerCase().includes(e.search.toLowerCase())||t.nom_prenom.toLowerCase().includes(e.search.toLowerCase())||t.categorieLabel&&t.categorieLabel.toLowerCase().includes(e.search.toLowerCase())||t.explication.toLowerCase().includes(e.search.toLowerCase()),n=!e.statut||t.status===e.statut;return r&&n})},[k,e,p]),F=Math.ceil(S.length/a),E=n*a,_=E-a,U=S.slice(_,E),Q=e=>{y(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})),s(1)},L=(e,t)=>{r(r=>o(o({},r),{},{[e]:t})),s(1)},I=e=>{m(e),setTimeout(()=>{const e=document.querySelector(".print-section");if(e){const t=document.body.innerHTML,r=e.innerHTML;document.body.innerHTML=r,window.print(),document.body.innerHTML=t,window.location.reload()}},500)},M=e=>{b(t=>o(o({},t),{},{[e]:!t[e]}))},D=w.find(e=>e.id===p),P=B(p);return f?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("style",{children:"\n            @media print {\n              body * {\n                visibility: hidden;\n              }\n              \n              .print-section,\n              .print-section * {\n                visibility: visible;\n              }\n              \n              .print-section {\n                position: absolute;\n                left: 0;\n                top: 0;\n                width: 100%;\n                background: white;\n                padding: 20px;\n              }\n              \n              .no-print {\n                display: none !important;\n              }\n              \n              .print-actions {\n                display: none !important;\n              }\n            }\n          "}),(0,wt.jsxs)("div",{className:"print-section p-4 bg-white min-h-screen",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4 no-print",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h1",{className:"text-lg font-bold text-gray-900",children:["D\xe9tail du Signalement - ",f.reference]}),(0,wt.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[N(f.date)," \u2022"," ",f.categorieLabel]})]}),(0,wt.jsxs)("button",{onClick:()=>m(null),className:"flex items-center gap-2 px-3 py-2 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,wt.jsx)(_t,{className:"w-3 h-3"}),"Retour \xe0 la liste"]})]}),(0,wt.jsxs)("div",{className:"space-y-3",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>M("general"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations G\xe9n\xe9rales"})]}),x.general?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),x.general&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:(0,wt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-xs",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"R\xe9f\xe9rence:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.reference})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Date:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:N(f.date)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Cat\xe9gorie:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.categorieLabel})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Statut:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===f.status?"bg-yellow-100 text-yellow-800":"classifier"===f.status?"bg-blue-100 text-blue-800":"investigation"===f.status?"bg-purple-100 text-purple-800":"transmis_autorite"===f.status?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:j(f.status)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Assign\xe9 \xe0:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("investigateur"===f.assigned_to?"bg-indigo-100 text-indigo-800":"cac_daj"===f.assigned_to?"bg-blue-100 text-blue-800":"autorite_competente"===f.assigned_to?"bg-cyan-100 text-cyan-800":"bg-gray-100 text-gray-800"),children:C(f.assigned_to)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Type:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:f.type_signalement})]})]})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>M("auteur"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations de l'Auteur"})]}),x.auteur?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),x.auteur&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:"Anonyme"===f.type_signalement?(0,wt.jsxs)("div",{className:"text-center py-3",children:[(0,wt.jsx)(Yi,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Signalement anonyme"})]}):(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Nom / Pr\xe9nom:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.nom_prenom})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Email:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.email})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"T\xe9l\xe9phone:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.telephone})]})]})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>M("description"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Description du Signalement"})]}),x.description?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),x.description&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:(0,wt.jsx)("div",{className:"bg-gray-50 rounded-md p-3 text-xs leading-relaxed",children:f.explication})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>M("pieces"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Pi\xe8ces Jointes"})]}),x.pieces?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),x.pieces&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:f.files&&f.files.length>0?(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:f.files.map((e,t)=>{var r;const n="string"===typeof e?e:e.name||"",s=null===(r=n.split(".").pop())||void 0===r?void 0:r.toLowerCase(),a=["jpg","jpeg","png","gif","webp"].includes(s),i="pdf"===s;return(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg border overflow-hidden",children:[(0,wt.jsx)("div",{className:"aspect-video bg-white flex items-center justify-center",children:a?(0,wt.jsx)("img",{src:"".concat(as.defaults.baseURL,"/files/").concat(encodeURIComponent(n)),alt:n,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='120'%3E%3Crect width='100%25' height='100%25' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%239ca3af' font-size='12'%3EImpossible de charger l'image%3C/text%3E%3C/svg%3E"}}):i?(0,wt.jsxs)("div",{className:"text-center p-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,wt.jsx)("span",{className:"text-red-600 font-bold text-xs",children:"PDF"})}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Document PDF"})]}):(0,wt.jsxs)("div",{className:"text-center p-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,wt.jsx)("span",{className:"text-gray-600 font-bold text-xs",children:null===s||void 0===s?void 0:s.toUpperCase()})}),(0,wt.jsxs)("p",{className:"text-xs text-gray-600",children:["Fichier ",s]})]})}),(0,wt.jsxs)("div",{className:"p-2",children:[(0,wt.jsx)("p",{className:"text-xs font-medium truncate mb-1",title:n,children:n}),(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{const t=encodeURIComponent(e),r="".concat(as.defaults.baseURL,"/files/").concat(t);window.open(r,"_blank")})(n),className:"flex-1 bg-blue-50 text-blue-600 py-1 px-1 rounded text-xs hover:bg-blue-100 transition-colors",children:"Voir"}),(0,wt.jsx)("button",{onClick:()=>(async e=>{try{const t=encodeURIComponent(e),r=await as.get("/files/".concat(t,"/download"),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([r.data])),s=document.createElement("a");s.href=n,s.setAttribute("download",e),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(n)}catch(u){alert("Erreur lors du t\xe9l\xe9chargement du fichier")}})(n),className:"flex-1 bg-gray-100 text-gray-700 py-1 px-1 rounded text-xs hover:bg-gray-200 transition-colors",children:"T\xe9l\xe9charger"})]})]})]},t)})}):(0,wt.jsxs)("div",{className:"text-center py-4",children:[(0,wt.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,wt.jsx)(Us,{className:"w-6 h-6 text-gray-400"})}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Aucun fichier joint"})]})})]})]}),(0,wt.jsx)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t no-print",children:(0,wt.jsx)("div",{className:"flex gap-2",children:(0,wt.jsxs)("button",{onClick:()=>I(f),className:"flex items-center gap-1 px-3 py-1 text-xs bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,wt.jsx)($f,{className:"w-3 h-3"}),"Imprimer"]})})})]})]}):(0,wt.jsxs)("div",{className:"p-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-base font-semibold",children:"Liste compl\xe8te des signalements (Agent)"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:"Consultation et visualisation des dossiers avec filtres avanc\xe9s."})]}),(0,wt.jsx)("div",{className:"flex items-center gap-2",children:(0,wt.jsxs)("button",{onClick:()=>{const e=[["ID","R\xc9F\xc9RENCE","DATE","NOM / PR\xc9NOM","CAT\xc9GORIE","STATUT","ASSIGN\xc9 \xc0"],...S.map(e=>[e.id,e.reference,N(e.date),e.nom_prenom,e.categorieLabel||"N/A",j(e.status),C(e.assigned_to)])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),n=URL.createObjectURL(t);r.setAttribute("href",n),r.setAttribute("download","signalements_agent_".concat((new Date).toISOString().split("T")[0],".csv")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Us,{className:"w-3 h-3"}),"Exporter CSV"]})})]}),(0,wt.jsxs)("div",{className:"mb-6 bg-white rounded-lg border p-4",children:[(0,wt.jsxs)("div",{className:"mb-4",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Analyse D\xe9taill\xe9e par Cat\xe9gories"}),(0,wt.jsx)("p",{className:"text-sm text-gray-600",children:"Visualisation et analyse approfondie des signalements par cat\xe9gorie"})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-2 mb-4",children:[(0,wt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat("tous"===p?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>g("tous"),children:[(0,wt.jsx)(tm,{className:"w-5 h-5 mb-1"}),(0,wt.jsx)("span",{className:"text-xs font-medium",children:"Toutes"})]}),w.map(e=>{const t=B(e.id),r=e.icon;return(0,wt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat(p===e.id?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>g(e.id),title:e.name,children:[(0,wt.jsx)(r,{className:"w-5 h-5 mb-1"}),(0,wt.jsx)("span",{className:"text-xs font-medium truncate w-full text-center",children:e.name.split(" ")[0]}),(0,wt.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:t.total})]},e.id)})]}),(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,wt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"tous"===p?"Synth\xe8se - Toutes cat\xe9gories":"Synth\xe8se - ".concat(null===D||void 0===D?void 0:D.name)}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"tous"===p?k.length:P.total}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"Signalements totaux"})]}),(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:"tous"===p?l.filter(e=>"en_cours"===e.status).length:P.encours}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"En cours"})]}),(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"tous"===p?l.filter(e=>"classifier"===e.status).length:P.resolus}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"R\xe9solus"})]})]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-3",children:[(0,wt.jsx)("div",{className:"md:col-span-2",children:(0,wt.jsx)("input",{type:"text",value:e.search,onChange:e=>L("search",e.target.value),placeholder:"Rechercher par r\xe9f\xe9rence, nom, description...",className:"w-full px-2 py-1 text-xs border rounded-md"})}),(0,wt.jsx)("div",{children:(0,wt.jsx)("input",{type:"date",value:e.dateDebut,onChange:e=>L("dateDebut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date d\xe9but"})}),(0,wt.jsx)("div",{children:(0,wt.jsx)("input",{type:"date",value:e.dateFin,onChange:e=>L("dateFin",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date fin"})}),(0,wt.jsx)("div",{children:(0,wt.jsxs)("select",{value:e.statut,onChange:e=>L("statut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",children:[(0,wt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,wt.jsx)("option",{value:"en_cours",children:"En cours"}),(0,wt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,wt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"})]})})]}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-2 text-xs",children:[(0,wt.jsxs)("button",{onClick:()=>{r({search:"",statut:"",dateDebut:"",dateFin:""}),s(1)},className:"flex items-center gap-1 px-2 py-1 border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Lt,{className:"w-3 h-3"}),"R\xe9initialiser les filtres"]}),(0,wt.jsxs)("div",{className:"text-gray-500",children:[S.length," signalements trouv\xe9s"]})]}),u&&(0,wt.jsxs)("div",{className:"flex items-center gap-2 p-2 mb-2 text-xs text-red-700 bg-red-50 border border-red-200 rounded-md",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4"}),(0,wt.jsxs)("span",{children:["Erreur lors du chargement des donn\xe9es : ",u]})]}),(0,wt.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,wt.jsx)("div",{className:"overflow-x-auto",children:c?(0,wt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Chargement en cours..."}):0===S.length?(0,wt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Aucun signalement trouv\xe9 avec les filtres actuels"}):(0,wt.jsxs)("table",{className:"min-w-full text-xs",children:[(0,wt.jsx)("thead",{className:"bg-gray-50",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>Q("id"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"ID"}),(0,wt.jsx)(dN,{isSorted:"id"===v.key,isAsc:"asc"===v.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>Q("reference"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"R\xc9F\xc9RENCE"}),(0,wt.jsx)(dN,{isSorted:"reference"===v.key,isAsc:"asc"===v.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>Q("date"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"DATE"}),(0,wt.jsx)(dN,{isSorted:"date"===v.key,isAsc:"asc"===v.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"NOM / PR\xc9NOM"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"CAT\xc9GORIE"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"DESCRIPTION"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"STATUT"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"ACTIONS"})]})}),(0,wt.jsx)("tbody",{children:U.map(e=>(0,wt.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,wt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.id}),(0,wt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.reference}),(0,wt.jsx)("td",{className:"px-2 py-2",children:N(e.date)}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.nom_prenom}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.categorieLabel}),(0,wt.jsx)("td",{className:"px-2 py-2 max-w-[150px]",children:(0,wt.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2",children:e.shortDescription})}),(0,wt.jsx)("td",{className:"px-2 py-2",children:(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-yellow-100 text-yellow-800":"classifier"===e.status?"bg-blue-100 text-blue-800":"investigation"===e.status?"bg-purple-100 text-purple-800":"transmis_autorite"===e.status?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:j(e.status)})}),(0,wt.jsx)("td",{className:"px-2 py-2",children:(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{m((null===f||void 0===f?void 0:f.id)===e.id?null:e),b({general:!0,auteur:!0,description:!0,pieces:!0})})(e),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Voir d\xe9tails",children:(0,wt.jsx)(_s,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>I(e),className:"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Imprimer",children:(0,wt.jsx)($f,{className:"w-3 h-3"})})]})})]},e.id))})]})}),S.length>0&&(0,wt.jsxs)("div",{className:"flex items-center justify-between px-2 py-2 border-t bg-gray-50",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,wt.jsx)("span",{children:"\xc9l\xe9ments par page :"}),(0,wt.jsxs)("select",{value:a,onChange:e=>{i(Number(e.target.value)),s(1)},className:"px-2 py-1 border rounded-md text-xs",children:[(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:30,children:"30"}),(0,wt.jsx)("option",{value:50,children:"50"}),(0,wt.jsx)("option",{value:100,children:"100"})]}),(0,wt.jsxs)("span",{className:"text-gray-500",children:[_+1,"-",Math.min(E,S.length)," sur"," ",S.length]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>s(e=>Math.max(1,e-1)),disabled:1===n,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(_t,{className:"w-4 h-4"})}),(()=>{const e=[];if(F<=7)for(let t=1;t<=F;t++)e.push(t);else{e.push(1);let t=Math.max(2,n-2),r=Math.min(F-1,n+2);n<=3&&(r=5),n>=F-2&&(t=F-5+1),t>2&&e.push("...");for(let n=t;n<=r;n++)e.push(n);r<F-1&&e.push("..."),e.push(F)}return e})().map((e,t)=>"..."===e?(0,wt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,wt.jsx)("button",{onClick:()=>s(e),className:"px-2 py-1 text-xs border rounded-md ".concat(n===e?"bg-blue-600 text-white":"bg-white"),children:e},e)),(0,wt.jsx)("button",{onClick:()=>s(e=>Math.min(F,e+1)),disabled:n===F||0===F,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(Is,{className:"w-4 h-4"})})]})]})]})]})},hN=e=>{let{onDeconnexion:r}=e;const[n,s]=(0,t.useState)("dashboard"),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[A,c]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(()=>{try{console.log("\ud83c\udfad [MODE D\xc9MO] Agent - Chargement depuis localStorage...");const e=Ni.getUser();e&&e.email?(console.log("\u2705 [MODE D\xc9MO] Agent charg\xe9:",e.email),l(e)):(console.warn("\u26a0\ufe0f [MODE D\xc9MO] Pas de user \u2192 d\xe9connexion"),null===r||void 0===r||r())}catch(e){console.error("\u274c [MODE D\xc9MO] Erreur:",e),null===r||void 0===r||r()}finally{c(!1)}})()},[r]);return A?(0,wt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-green-600 mx-auto"}),(0,wt.jsx)("p",{className:"mt-6 text-lg text-gray-600",children:"Chargement..."})]})}):o?(0,wt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,wt.jsx)(Gi,{adminData:o,onDeconnexion:r,onNavigateToProfile:()=>s("profil"),onNavigateToNotifications:()=>s("notifications")}),(0,wt.jsxs)("div",{className:"flex pt-20",children:[(0,wt.jsx)(AN,{currentView:n,onViewChange:s,collapsed:a,onToggle:()=>i(!a)}),(0,wt.jsxs)("main",{className:"flex-1 transition-all duration-300 ".concat(a?"ml-16":"ml-64"," p-8"),children:["dashboard"===n&&(0,wt.jsx)(qf,{data:o}),"signalements"===n&&(0,wt.jsx)(Vw,{data:o}),"AgentReportView"===n&&(0,wt.jsx)(uN,{}),"activites"===n&&(0,wt.jsx)(cN,{data:o}),"notifications"===n&&(0,wt.jsx)(Zw,{data:o}),"profil"===n&&(0,wt.jsx)(xB,{onReturnToDashboard:()=>s("dashboard"),onAvatarUpdate:()=>window.location.reload()})]})]})]}):(0,wt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("p",{className:"text-xl text-red-600",children:"Authentification requise"}),(0,wt.jsx)("button",{onClick:r,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded",children:"Retour au login"})]})})},fN=e=>{let{currentView:t,onViewChange:r,collapsed:n,onToggle:s}=e;const a=[{id:"dashboard",label:"Tableau de bord",icon:(0,wt.jsx)(Wi,{size:20})},{id:"enquetes",label:"Signalements \xe0 enqu\xeater",icon:(0,wt.jsx)(Ns,{size:20})}];return(0,wt.jsxs)("aside",{className:"\n        fixed left-0 top-20 bottom-0 bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out z-30\n        ".concat(n?"w-20":"w-64","\n      "),children:[(0,wt.jsxs)("div",{className:"relative flex items-center justify-end px-4 pt-4 pb-2 h-12 shrink-0",children:[!n&&(0,wt.jsx)("h2",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Menu Invest."}),(0,wt.jsx)("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors relative z-10","aria-label":n?"Agrandir le menu":"R\xe9duire le menu",children:n?(0,wt.jsx)(Is,{size:20}):(0,wt.jsx)(_t,{size:20})})]}),(0,wt.jsx)("nav",{className:"flex-1 overflow-y-auto px-3 space-y-1 mt-2",children:a.map(e=>(0,wt.jsxs)("button",{onClick:()=>r(e.id),className:"\n              w-full flex items-center p-3 rounded-lg transition-colors duration-200 group relative\n              ".concat(t===e.id?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n            "),title:n?e.label:"",children:[(0,wt.jsx)("span",{className:"flex-shrink-0 ".concat(n?"mx-auto":""),children:e.icon}),!n&&(0,wt.jsx)("span",{className:"ml-3 truncate text-sm",children:e.label}),t===e.id&&!n&&(0,wt.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-600"}),n&&(0,wt.jsx)("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:e.label})]},e.id))}),!n&&(0,wt.jsx)("div",{className:"p-4 border-t border-gray-100 text-xs text-center text-gray-400 shrink-0",children:"\xa9 daaq-mesupres 2025"})]})},mN=[{border:"#2B6CB0",background:"rgba(43,108,176,0.08)"},{border:"#6B7280",background:"rgba(107,114,128,0.08)"},{border:"#16A34A",background:"rgba(22,163,74,0.08)"},{border:"#D97706",background:"rgba(217,119,6,0.06)"},{border:"#44403C",background:"rgba(68,64,60,0.06)"},{border:"#475569",background:"rgba(71,85,105,0.06)"}],pN=["#2B6CB0","#6B7280","#16A34A","#D97706","#475569","#94A3B8"],gN=e=>{let{title:t,value:r,subtitle:n,icon:s,color:a,onClick:i,isActive:o}=e;return(0,wt.jsx)("div",{onClick:i,className:"bg-white rounded-xl p-5 shadow-sm border cursor-pointer transition-all duration-200 \n      ".concat(o?"ring-2 ring-blue-500 border-blue-500 bg-blue-50/30":"border-slate-100 hover:shadow-md hover:border-slate-300"),children:(0,wt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide ".concat(o?"text-blue-700":"text-slate-500"),children:t}),(0,wt.jsx)("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:r}),n&&(0,wt.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:n})]}),(0,wt.jsx)("div",{className:"p-3 rounded-lg ".concat(a," bg-opacity-10"),children:(0,wt.jsx)("span",{className:"text-2xl",children:s})})]})})},xN=e=>{let{status:t}=e;const r={En_cours:{label:"En cours",cls:"bg-blue-50 text-blue-700 border-blue-200"},Soumis_BIANCO:{label:"Soumis BIANCO",cls:"bg-purple-50 text-purple-700 border-purple-200"},"Compl\xe9t\xe9":{label:"Compl\xe9t\xe9",cls:"bg-emerald-50 text-emerald-700 border-emerald-200"},Doublon:{label:"Doublon",cls:"bg-slate-50 text-slate-600 border-slate-200"},"Refus\xe9":{label:"Refus\xe9",cls:"bg-red-50 text-red-600 border-red-200"}}[t]||{label:t||"Inconnu",cls:"bg-gray-50 text-gray-600 border-gray-200"};return(0,wt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ".concat(r.cls),children:r.label})},bN=e=>{let{data:r}=e;const n=(0,t.useRef)(null),s=(0,t.useRef)(null),a=(0,t.useRef)(null),i=(0,t.useRef)(null),o=(0,t.useRef)(null),l=(0,t.useRef)(null),[A,c]=(0,t.useState)("year"),[d,u]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!0),[m,p]=(0,t.useState)({dossiersAssignes:0,soumisBianco:0,enquetesCompletees:0,totalDossiers:0}),[g,x]=(0,t.useState)([]),[b,v]=(0,t.useState)([]),[y,w]=(0,t.useState)([]);(0,t.useEffect)(()=>{B()},[]);const B=async()=>{f(!0);try{console.log("\ud83d\udd04 Tentative de r\xe9cup\xe9ration des donn\xe9es r\xe9elles...");try{const e=await as.get("/reports/assigned");if(console.log("\u2705 Donn\xe9es r\xe9elles charg\xe9es:",e.data),e.data.success)return void N(e.data)}catch(e){console.log("\u274c Endpoint /assigned non disponible, tentative avec /reports")}try{const e=await as.get("/reports");if(console.log("\u2705 Tous les rapports charg\xe9s:",e.data),e.data.success){const t=e.data.data||[],r={dossiersAssignes:t.length,soumisBianco:t.filter(e=>"finalise"===e.status).length,enquetesCompletees:t.filter(e=>"classifier"===e.status).length,totalDossiers:t.length,byCategory:{}};return t.forEach(e=>{const t=S(e.category);r.byCategory[t]=(r.byCategory[t]||0)+1}),void N({success:!0,data:t,stats:r})}}catch(t){console.error("\u274c Erreur avec l'endpoint /reports:",t)}throw new Error("Impossible de charger les donn\xe9es depuis l'API")}catch(r){console.error("\u274c Erreur finale:",r),w([]),v([]),x(j()),p({dossiersAssignes:0,soumisBianco:0,enquetesCompletees:0,totalDossiers:0})}finally{f(!1)}},N=e=>{if(e.success){const t=e.data||[],r=e.stats||{};w(t),p({dossiersAssignes:r.dossiersAssignes||t.length,soumisBianco:r.soumisBianco||0,enquetesCompletees:r.enquetesCompletees||0,totalDossiers:r.totalDossiers||t.length});const n=t.slice(0,6).map(e=>({reference:e.reference||"REF-".concat(e.id),categorie:k(e.category)+" "+S(e.category),date:new Date(e.created_at||e.date).toLocaleDateString("fr-FR"),demandeur:e.name||e.demandeur||"Anonyme",statut:F(e.status),rawStatus:e.status}));v(n),C(r,t)}},j=()=>[{id:"faux-diplomes",name:"Faux Dipl\xf4mes",total:0,icon:"\ud83d\udcdc"},{id:"offre-formation-irreguliere",name:"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)",total:0,icon:"\ud83c\udf93"},{id:"recrutements-irreguliers",name:"Recrutements Irr\xe9guliers",total:0,icon:"\ud83d\udcbc"},{id:"harcelement",name:"Harc\xe8lement",total:0,icon:"\u26a0\ufe0f"},{id:"corruption",name:"Corruption",total:0,icon:"\ud83d\udd34"},{id:"divers",name:"Divers",total:0,icon:"\ud83c\udff7\ufe0f"}],C=(e,t)=>{const r=j();e.byCategory?r.forEach(t=>{const r=e.byCategory[t.name]||e.byCategory[t.id]||0;t.total=r}):r.forEach(e=>{const r=t.filter(t=>S(t.category)===e.name).length;e.total=r}),x(r)},k=e=>({"faux-diplomes":"\ud83d\udcdc","Faux Dipl\xf4mes":"\ud83d\udcdc","Offre de formation irr\xe9guli\xe8re ( non habilit\xe9)":"\ud83c\udf93","offre-formation-irreguliere":"\ud83c\udf93","recrutements-irreguliers":"\ud83d\udcbc","Recrutements Irr\xe9guliers":"\ud83d\udcbc",harcelement:"\u26a0\ufe0f","Harc\xe8lement":"\u26a0\ufe0f",corruption:"\ud83d\udd34",Corruption:"\ud83d\udd34",divers:"\ud83c\udff7\ufe0f",Divers:"\ud83c\udff7\ufe0f"}[e]||"\ud83d\udccb"),S=e=>({"faux-diplomes":"Faux Dipl\xf4mes","offre-formation-irreguliere":"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)","Offre de formation irr\xe9guli\xe8re ( non habilit\xe9)":"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)","recrutements-irreguliers":"Recrutements Irr\xe9guliers",harcelement:"Harc\xe8lement",corruption:"Corruption",divers:"Divers"}[e]||e),F=e=>({en_cours:"En cours",finalise:"Soumis BIANCO",classifier:"Compl\xe9t\xe9",doublon:"Doublon",refuse:"Refus\xe9"}[e]||e),E=()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1);t.setMonth(t.getMonth()-11);const r=Array.from({length:12},(e,r)=>new Date(t.getFullYear(),t.getMonth()+r,1)),n={};return g.forEach(e=>{n[e.name]=new Array(12).fill(0)}),y.forEach(e=>{const t=new Date(e.created_at),s=r.findIndex(e=>t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth());if(-1!==s){const t=S(e.category);n[t]&&n[t][s]++}}),{months:r,dataByCategory:n}};(0,t.useEffect)(()=>(!h&&g.length>0&&y.length>=0&&(_(),U(),Q()),()=>{i.current&&i.current.destroy(),o.current&&o.current.destroy(),l.current&&l.current.destroy()}),[A,g,h,y]);const _=()=>{if(!n.current)return;const{labels:e,datasets:t}=(()=>{const e=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"],{months:t,dataByCategory:r}=E(),n=t.map(t=>"".concat(e[t.getMonth()]," ").concat(t.getFullYear().toString().slice(2))),s=g.map((e,t)=>({label:e.name,data:r[e.name]||new Array(12).fill(0),borderColor:mN[t%mN.length].border,backgroundColor:mN[t%mN.length].background,tension:.4,fill:!1,pointRadius:4,pointHoverRadius:6,borderWidth:2}));return{labels:n,datasets:s}})();i.current&&i.current.destroy();try{const r=n.current.getContext("2d");i.current=new Mf(r,{type:"line",data:{labels:e,datasets:t},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"bottom",labels:{usePointStyle:!0,boxWidth:8,padding:12}}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{borderDash:[2,4]},ticks:{font:{size:12},stepSize:1}}}}})}catch(r){console.error("Erreur lors de l'initialisation du graphique:",r)}},U=()=>{if(!s.current)return;const{labels:e,datasets:t}=(()=>{const e=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"],{months:t,dataByCategory:r}=E(),n=t.map(t=>e[t.getMonth()]),s=g.map((e,t)=>({label:e.name,data:r[e.name]||new Array(12).fill(0),backgroundColor:mN[t%mN.length].background,borderColor:mN[t%mN.length].border,borderWidth:1}));return{labels:n,datasets:s}})();o.current&&o.current.destroy();try{const r=s.current.getContext("2d");o.current=new Mf(r,{type:"bar",data:{labels:e,datasets:t},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,boxWidth:8,padding:20}}},scales:{x:{stacked:!1,grid:{display:!1}},y:{stacked:!1,beginAtZero:!0,ticks:{callback:function(e){if(Number.isInteger(e))return e}},title:{display:!0,text:"Nombre de signalements"}}},datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}}})}catch(r){console.error("Erreur lors de l'initialisation du diagramme en barres:",r)}},Q=()=>{if(!a.current)return;const e=g.map(e=>e.total),t=e.reduce((e,t)=>e+t,0),r=g.filter((t,r)=>e[r]>0),n=e.filter(e=>e>0);if(l.current&&l.current.destroy(),0!==n.length&&0!==t)try{const e=a.current.getContext("2d");l.current=new Mf(e,{type:"doughnut",data:{labels:r.map(e=>e.name),datasets:[{data:n,backgroundColor:pN.slice(0,r.length),borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:12}}}}})}catch(s){console.error("Erreur lors de l'initialisation du diagramme circulaire:",s)}},L=()=>(0,wt.jsx)("div",{className:"absolute top-12 right-0 bg-white rounded-lg shadow-xl border border-gray-200 p-4 z-50 min-w-64",children:(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded-md text-gray-700 font-medium",onClick:()=>{c("day"),u(!1)},children:"Jour"}),(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded-md text-gray-700 font-medium",onClick:()=>{c("week"),u(!1)},children:"Semaine"}),(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded-md text-gray-700 font-medium",onClick:()=>{c("month"),u(!1)},children:"Mois"}),(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded-md text-gray-700 font-medium",onClick:()=>{c("year"),u(!1)},children:"Ann\xe9e"})]})});return h?(0,wt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,wt.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-blue-500 border-t-transparent"})}):(0,wt.jsx)("div",{className:"min-h-screen bg-slate-50 pb-12 font-sans text-slate-900",children:(0,wt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(0,wt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Tableau de Bord Investigateur"}),(0,wt.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:"Vue d'ensemble de vos enqu\xeates en cours"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 bg-white",onClick:()=>u(!d),children:[(0,wt.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,wt.jsxs)("span",{children:["P\xe9riode:"," ","day"===A?"Jour":"week"===A?"Semaine":"month"===A?"Mois":"Ann\xe9e"]})]}),d&&(0,wt.jsx)(L,{})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,wt.jsx)(gN,{title:"Dossiers Assign\xe9s",value:m.dossiersAssignes,subtitle:"Affect\xe9s \xe0 votre compte",icon:"\ud83d\udcca",color:"bg-blue-500",onClick:()=>{}}),(0,wt.jsx)(gN,{title:"Soumis BIANCO",value:m.soumisBianco,subtitle:"Transmis pour action",icon:"\u2696\ufe0f",color:"bg-purple-500",onClick:()=>{}}),(0,wt.jsx)(gN,{title:"Enqu\xeates Compl\xe9t\xe9es",value:m.enquetesCompletees,subtitle:"Class\xe9s / Termin\xe9s",icon:"\u2705",color:"bg-emerald-500",onClick:()=>{}}),(0,wt.jsx)(gN,{title:"Total Dossiers",value:m.totalDossiers,subtitle:"Tous les signalements",icon:"\ud83d\udcc1",color:"bg-slate-500",onClick:()=>{}})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,wt.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[(0,wt.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,wt.jsx)("h3",{className:"font-bold text-slate-800",children:"\xc9volution temporelle"})}),(0,wt.jsx)("div",{className:"h-72 w-full",children:(0,wt.jsx)("canvas",{ref:n})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[(0,wt.jsx)("h3",{className:"font-bold text-slate-800 mb-4",children:"R\xe9partition par cat\xe9gorie"}),(0,wt.jsx)("div",{className:"h-72 w-full flex items-center justify-center",children:g.some(e=>e.total>0)?(0,wt.jsx)("canvas",{ref:a}):(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[(0,wt.jsx)("span",{className:"text-4xl mb-2",children:"\ud83d\udcca"}),(0,wt.jsx)("p",{className:"text-sm",children:"Aucune donn\xe9e disponible"})]})})]})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-6",children:[(0,wt.jsx)("h3",{className:"font-bold text-slate-800 mb-4",children:"Analyse mensuelle d\xe9taill\xe9e"}),(0,wt.jsx)("div",{className:"h-72 w-full",children:(0,wt.jsx)("canvas",{ref:s})}),(0,wt.jsx)("p",{className:"text-xs text-slate-500 mt-4 text-center",children:"Chaque cat\xe9gorie est repr\xe9sent\xe9e par des barres individuelles c\xf4te \xe0 c\xf4te pour chaque mois"})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col",children:[(0,wt.jsx)("div",{className:"px-6 py-4 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4 bg-white",children:(0,wt.jsx)("div",{className:"flex items-center gap-3",children:(0,wt.jsx)("h3",{className:"font-bold text-lg text-slate-800",children:"Dossiers assign\xe9s r\xe9cemment"})})}),(0,wt.jsx)("div",{className:"overflow-x-auto",children:(0,wt.jsxs)("table",{className:"min-w-full divide-y divide-slate-100",children:[(0,wt.jsx)("thead",{className:"bg-slate-50/50",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"R\xe9f\xe9rence"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Cat\xe9gorie"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Demandeur"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Statut"})]})}),(0,wt.jsx)("tbody",{className:"bg-white divide-y divide-slate-100",children:b.length>0?b.map((e,t)=>(0,wt.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group cursor-default",children:[(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono font-medium text-blue-600 group-hover:text-blue-700",children:e.reference}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-600",children:e.categorie}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:e.date}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:e.demandeur}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wt.jsx)(xN,{status:e.statut})})]},t)):(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center",children:(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[(0,wt.jsx)("span",{className:"text-4xl mb-2",children:"\ud83d\udd0d"}),(0,wt.jsx)("p",{className:"text-sm",children:"Aucun dossier assign\xe9 pour le moment."})]})})})})]})})]})]})})},vN=()=>{const[e,r]=(0,t.useState)("tous"),[n,s]=(0,t.useState)({search:"",statut:"",dateDebut:"",dateFin:""}),[a,i]=(0,t.useState)(1),[l,A]=(0,t.useState)(10),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!0),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1),[x,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[w,B]=(0,t.useState)(!1),[N,j]=(0,t.useState)(null),[C,k]=(0,t.useState)({key:"date",direction:"desc"}),[S,F]=(0,t.useState)({general:!0,auteur:!0,description:!0,pieces:!0}),[E,_]=(0,t.useState)({status:""}),[U,Q]=(0,t.useState)({type:"quotidien",dateDebut:(new Date).toISOString().split("T")[0],dateFin:(new Date).toISOString().split("T")[0],categories:[],notes:""}),[L,I]=(0,t.useState)(null),M=[{id:"faux-diplomes",emoji:"\ud83d\udcdc",name:"Faux Dipl\xf4mes"},{id:"offre-formation-irreguliere",emoji:"\ud83c\udf93",name:"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)"},{id:"recrutements-irreguliers",emoji:"\ud83d\udcbc",name:"Recrutements Irr\xe9guliers"},{id:"harcelement",emoji:"\u26a0\ufe0f",name:"Harc\xe8lement"},{id:"corruption",emoji:"\ud83d\udd34",name:"Corruption"},{id:"divers",emoji:"\ud83c\udff7\ufe0f",name:"Divers"}];(0,t.useEffect)(()=>{D()},[]);const D=async()=>{h(!0);try{const e=await as.get("/reports/assigned");if(e.data.success)return void P(e.data)}catch(e){try{const e=await as.get("/reports");if(e.data.success){const t=e.data.data||[];return void P({success:!0,data:t})}}catch(t){d([])}}finally{h(!1)}},P=e=>{if(e.success){const t=(e.data||[]).map(e=>({id:e.id,reference:e.reference||"REF-".concat(e.id),date:new Date(e.created_at||e.date).toLocaleDateString("fr-FR"),rawDate:new Date(e.created_at||e.date),nom_prenom:e.name||e.demandeur||"Anonyme",categorie:T(e.category),demandeur:O(e.assigned_to),statut:R(e.status),province:e.province||"Non sp\xe9cifi\xe9",region:e.region||"Non sp\xe9cifi\xe9",rawData:e,email:e.email||"N/A",telephone:e.phone||"N/A",explication:e.description||"Aucune description",files:e.files||[],type_signalement:e.is_anonymous?"Anonyme":"Non-Anonyme",assigned_to:e.assigned_to||"Non assign\xe9",status:e.status||"en_cours"}));d(t)}},T=e=>({"faux-diplomes":"Faux Dipl\xf4mes","offre-formation-irreguliere":"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)","Offre de formation irr\xe9guli\xe8re ( non habilit\xe9)":"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)","recrutements-irreguliers":"Recrutements Irr\xe9guliers",harcelement:"Harc\xe8lement",corruption:"Corruption",divers:"Divers"}[e]||e),O=e=>{if(!e)return"Non assign\xe9";return{1:"Administrateur",2:"Investigateur",3:"Agent",4:"Superviseur"}[e]||"Utilisateur ".concat(e)},R=e=>({en_cours:"En cours",finalise:"Finalis\xe9",classifier:"Compl\xe9t\xe9",investigation:"Investigation",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes"}[e]||e),H=e=>({investigateur:"Investigateur",cac_daj:"DAAQ / CAC / DAJ",autorite_competente:"Autorit\xe9 comp\xe9tente"}[e]||e||"Non assign\xe9"),z=e=>({en_cours:"En cours",investigation:"Investigation",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes",classifier:"Compl\xe9t\xe9",finalise:"Finalis\xe9"}[e]||e),K=(0,t.useMemo)(()=>{return e=[...c],C.key?[...e].sort((e,t)=>{let r=e[C.key],n=t[C.key];return"date"===C.key&&(r=e.rawDate,n=t.rawDate),"reference"===C.key&&(r=r.toLowerCase(),n=n.toLowerCase()),r<n?"asc"===C.direction?-1:1:r>n?"asc"===C.direction?1:-1:0}):e;var e},[c,C]),V=(0,t.useMemo)(()=>{let t=K;return"tous"!==e&&(t=t.filter(t=>t.statut.toLowerCase()===e.toLowerCase())),t.filter(e=>{const t=!n.search||e.reference.toLowerCase().includes(n.search.toLowerCase())||e.nom_prenom.toLowerCase().includes(n.search.toLowerCase())||e.categorie.toLowerCase().includes(n.search.toLowerCase()),r=!n.statut||e.status===n.statut;let s=!0;if(n.dateDebut){const t=new Date(n.dateDebut);t.setHours(0,0,0,0),s=s&&e.rawDate>=t}if(n.dateFin){const t=new Date(n.dateFin);t.setHours(23,59,59,999),s=s&&e.rawDate<=t}return t&&r&&s})},[K,e,n]),q=Math.ceil(V.length/l),G=a*l,W=G-l,J=V.slice(W,G),Y=e=>{k(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})),i(1)},X=e=>C.key!==e?(0,wt.jsx)(Df,{className:"w-3 h-3 text-gray-400"}):"asc"===C.direction?(0,wt.jsx)(Yf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(Ki,{className:"w-3 h-3 text-blue-600"}),Z=(e,t)=>{s(r=>o(o({},r),{},{[e]:t})),i(1)},$=()=>{s({search:"",statut:"",dateDebut:"",dateFin:""}),i(1)},ee=e=>{var t;j(e),_({status:(null===(t=e.rawData)||void 0===t?void 0:t.status)||""}),g(!0)},te=e=>{j(e),B(!0)},re=async e=>{if(e.preventDefault(),N&&E.status)try{(await as.put("/reports/".concat(N.id,"/status"),{status:E.status})).data.success&&(alert("\u2705 Statut mis \xe0 jour avec succ\xe8s !\nNouveau statut: ".concat(z(E.status))),g(!1),_({status:""}),j(null),await D())}catch(n){var t,r;alert("\u274c Erreur: ".concat((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||n.message))}else alert("Veuillez s\xe9lectionner un statut")},ne=()=>{if(!N)return;const e=document.createElement("div");e.innerHTML="\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Dossier - ".concat(N.reference,'</title>\n        <style>\n          body { \n            font-family: \'Arial\', sans-serif; \n            margin: 0;\n            padding: 20px;\n            color: #333;\n            line-height: 1.6;\n          }\n          \n          .print-header {\n            text-align: center;\n            margin-bottom: 30px;\n            border-bottom: 2px solid #2c3e50;\n            padding-bottom: 20px;\n          }\n          \n          .logos {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n          }\n          \n          .logo {\n            height: 60px;\n            width: auto;\n          }\n          \n          .logo-center {\n            text-align: center;\n            flex: 1;\n            padding: 0 20px;\n          }\n          \n          .title {\n            font-size: 24px;\n            font-weight: bold;\n            color: #2c3e50;\n            margin: 20px 0 10px;\n          }\n          \n          .subtitle {\n            font-size: 18px;\n            color: #7f8c8d;\n            margin-bottom: 10px;\n          }\n          \n          .section {\n            margin-bottom: 25px;\n            page-break-inside: avoid;\n          }\n          \n          .section-title {\n            font-size: 18px;\n            font-weight: bold;\n            color: #2c3e50;\n            border-bottom: 1px solid #ddd;\n            padding-bottom: 8px;\n            margin-bottom: 15px;\n          }\n          \n          .info-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n            gap: 15px;\n            margin-bottom: 15px;\n          }\n          \n          .info-item {\n            margin-bottom: 10px;\n          }\n          \n          .info-label {\n            font-weight: bold;\n            color: #555;\n            margin-bottom: 5px;\n            font-size: 14px;\n          }\n          \n          .info-value {\n            color: #333;\n            font-size: 15px;\n          }\n          \n          .status-badge {\n            display: inline-block;\n            padding: 4px 12px;\n            border-radius: 20px;\n            font-size: 12px;\n            font-weight: bold;\n            margin-top: 5px;\n          }\n          \n          .description-box {\n            background-color: #f8f9fa;\n            border: 1px solid #dee2e6;\n            border-radius: 5px;\n            padding: 15px;\n            margin-top: 10px;\n            white-space: pre-wrap;\n            font-size: 14px;\n            line-height: 1.5;\n          }\n          \n          .files-list {\n            list-style-type: none;\n            padding: 0;\n          }\n          \n          .file-item {\n            padding: 8px 12px;\n            background-color: #f8f9fa;\n            border: 1px solid #dee2e6;\n            border-radius: 4px;\n            margin-bottom: 8px;\n            font-size: 14px;\n          }\n          \n          .footer {\n            margin-top: 40px;\n            text-align: center;\n            font-size: 12px;\n            color: #7f8c8d;\n            border-top: 1px solid #ddd;\n            padding-top: 20px;\n          }\n          \n          @page {\n            size: A4;\n            margin: 20mm;\n          }\n          \n          @media print {\n            body {\n              margin: 0;\n              padding: 0;\n            }\n            \n            .no-print {\n              display: none;\n            }\n          }\n        </style>\n      </head>\n      <body>\n        <div class="print-header">\n          <div class="logos">\n            <div>\n              <img src="').concat(is,'" alt="R\xe9publique de Madagascar" class="logo">\n              <p style="font-size: 10px; font-weight: bold; margin-top: 5px; color: #2c3e50;">\n                REPOBLIKAN\'I MADAGASIKARA\n              </p>\n            </div>\n            \n            <div class="logo-center">\n              <img src="').concat(os,'" alt="MESUPRES" class="logo">\n              <p style="font-size: 10px; font-weight: bold; margin-top: 5px; color: #2c3e50;">\n                MINISTERAN\'NY FAMPIANARANA AMBONY SY FIKAROHANA ARA-TSIANSA\n              </p>\n            </div>\n            \n            <div>\n              <img src="').concat(ls,'" alt="FOSIKA" class="logo">\n              <p style="font-size: 10px; font-weight: bold; margin-top: 5px; color: #2c3e50;">\n                FOSIKA\n              </p>\n            </div>\n          </div>\n          \n          <h1 class="title">FICHE DE DOSSIER</h1>\n          <h2 class="subtitle">Syst\xe8me de Gestion des Signalements</h2>\n          <p style="color: #7f8c8d; font-size: 14px;">\n            Document g\xe9n\xe9r\xe9 le ').concat((new Date).toLocaleDateString("fr-FR")," \xe0 ").concat((new Date).toLocaleTimeString("fr-FR"),'\n          </p>\n        </div>\n        \n        <div class="section">\n          <h3 class="section-title">INFORMATIONS G\xc9N\xc9RALES</h3>\n          <div class="info-grid">\n            <div class="info-item">\n              <div class="info-label">R\xe9f\xe9rence du dossier</div>\n              <div class="info-value">').concat(N.reference,'</div>\n            </div>\n            \n            <div class="info-item">\n              <div class="info-label">Date de cr\xe9ation</div>\n              <div class="info-value">').concat(N.date,'</div>\n            </div>\n            \n            <div class="info-item">\n              <div class="info-label">Cat\xe9gorie</div>\n              <div class="info-value">').concat(N.categorie,'</div>\n            </div>\n            \n            <div class="info-item">\n              <div class="info-label">Statut</div>\n              <div class="info-value">\n                ').concat(z(N.status),'\n                <span class="status-badge" style="background-color: ').concat("en_cours"===N.status?"#fef3c7":"finalise"===N.status?"#d1fae5":"classifier"===N.status?"#dbeafe":"investigation"===N.status?"#f3e8ff":"transmis_autorite"===N.status?"#e0e7ff":"#f3f4f6","; color: ").concat("en_cours"===N.status?"#92400e":"finalise"===N.status?"#065f46":"classifier"===N.status?"#1e40af":"investigation"===N.status?"#6b21a8":"transmis_autorite"===N.status?"#3730a3":"#374151",';">\n                  ').concat(z(N.status),'\n                </span>\n              </div>\n            </div>\n            \n            <div class="info-item">\n              <div class="info-label">Assign\xe9 \xe0</div>\n              <div class="info-value">').concat(H(N.assigned_to),'</div>\n            </div>\n            \n            <div class="info-item">\n              <div class="info-label">Type de signalement</div>\n              <div class="info-value">').concat(N.type_signalement,'</div>\n            </div>\n          </div>\n        </div>\n        \n        <div class="section">\n          <h3 class="section-title">INFORMATIONS DE L\'AUTEUR</h3>\n          ').concat("Anonyme"===N.type_signalement?"<p><em>Signalement anonyme</em></p>":'\n                <div class="info-grid">\n                  <div class="info-item">\n                    <div class="info-label">Nom / Pr\xe9nom</div>\n                    <div class="info-value">'.concat(N.nom_prenom,'</div>\n                  </div>\n                  \n                  <div class="info-item">\n                    <div class="info-label">Email</div>\n                    <div class="info-value">').concat(N.email,'</div>\n                  </div>\n                  \n                  <div class="info-item">\n                    <div class="info-label">T\xe9l\xe9phone</div>\n                    <div class="info-value">').concat(N.telephone,"</div>\n                  </div>\n                </div>\n              "),'\n        </div>\n        \n        <div class="section">\n          <h3 class="section-title">DESCRIPTION DU SIGNALEMENT</h3>\n          <div class="description-box">\n            ').concat(N.explication||"Aucune description fournie",'\n          </div>\n        </div>\n        \n        <div class="section">\n          <h3 class="section-title">INFORMATIONS G\xc9OGRAPHIQUES</h3>\n          <div class="info-grid">\n            <div class="info-item">\n              <div class="info-label">R\xe9gion</div>\n              <div class="info-value">').concat(N.region,'</div>\n            </div>\n            \n            <div class="info-item">\n              <div class="info-label">Province</div>\n              <div class="info-value">').concat(N.province,'</div>\n            </div>\n          </div>\n        </div>\n        \n        <div class="section">\n          <h3 class="section-title">PI\xc8CES JOINTES</h3>\n          ').concat(N.files&&N.files.length>0?'\n                <p style="margin-bottom: 10px; color: #555;">Nombre de fichiers: '.concat(N.files.length,'</p>\n                <ul class="files-list">\n                  ').concat(N.files.map((e,t)=>{const r="string"===typeof e?e:e.name||"";return'\n                      <li class="file-item">\n                        Fichier '.concat(t+1,": ").concat(r,"\n                      </li>\n                    ")}).join(""),"\n                </ul>\n              "):"<p><em>Aucun fichier joint</em></p>",'\n        </div>\n        \n        <div class="footer">\n          <p><strong>\xa9 DAAQ-MESUPRES - Syst\xe8me FOSIKA</strong></p>\n          <p>\xc0 usage officiel - Document confidentiel</p>\n          <p>Page 1/1 - R\xe9f\xe9rence: ').concat(N.reference,"</p>\n        </div>\n      </body>\n      </html>\n    ");const t=window.open("","_blank");t.document.write(e.innerHTML),t.document.close(),setTimeout(()=>{t.print(),t.close()},500),B(!1),j(null)},se=e=>{e.preventDefault();const t=U.categories.length>0?M.filter(e=>U.categories.includes(e.id)).map(e=>e.name):["Toutes les cat\xe9gories"],r={total:V.length,en_cours:V.filter(e=>"en_cours"===e.status).length,finalise:V.filter(e=>"finalise"===e.status).length,investigation:V.filter(e=>"investigation"===e.status).length,transmis_autorite:V.filter(e=>"transmis_autorite"===e.status).length,classifier:V.filter(e=>"classifier"===e.status).length},n={type:U.type,periode:"".concat(ie(U.dateDebut)," - ").concat(ie(U.dateFin)),categories:t,notes:U.notes,stats:r,dateGeneration:(new Date).toLocaleDateString("fr-FR"),heureGeneration:(new Date).toLocaleTimeString("fr-FR")};I(n),y(!0)},ae=()=>{const e=document.getElementById("report-preview");Rw()(e,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}).then(e=>{const t=210*e.height/e.width;let r=t,n=0;const s=new qv("p","mm","a4");let a=e.toDataURL("image/jpeg",.98);for(s.addImage(a,"JPEG",0,n,210,t),r-=297;r>=0;)n=r-t,s.addPage(),s.addImage(a,"JPEG",0,n,210,t),r-=297;s.save("rapport_dossiers_".concat(L.dateGeneration,".pdf"))}).catch(e=>{console.error("Erreur lors de la g\xe9n\xe9ration du PDF:",e)})},ie=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(QN){return e}},oe=e=>{F(t=>o(o({},t),{},{[e]:!t[e]}))},le={tous:K.length,"en cours":K.filter(e=>"en_cours"===e.status).length,"finalis\xe9":K.filter(e=>"finalise"===e.status).length,"compl\xe9t\xe9":K.filter(e=>"classifier"===e.status).length,investigation:K.filter(e=>"investigation"===e.status).length,"transmis aux autorit\xe9s comp\xe9tentes":K.filter(e=>"transmis_autorite"===e.status).length};return f&&!L?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"p-4 bg-white min-h-screen",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h1",{className:"text-lg font-bold text-gray-900",children:["D\xe9tail du Dossier - ",f.reference]}),(0,wt.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[f.date," \u2022 ",f.categorie]})]}),(0,wt.jsxs)("button",{onClick:()=>m(null),className:"flex items-center gap-2 px-3 py-2 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,wt.jsx)(_t,{className:"w-3 h-3"}),"Retour \xe0 la liste"]})]}),(0,wt.jsxs)("div",{className:"space-y-3",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>oe("general"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations G\xe9n\xe9rales"})]}),S.general?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),S.general&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:(0,wt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-xs",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"R\xe9f\xe9rence:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.reference})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Date:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.date})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Cat\xe9gorie:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.categorie})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Statut:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===f.status?"bg-yellow-100 text-yellow-800":"finalise"===f.status?"bg-green-100 text-green-800":"classifier"===f.status?"bg-blue-100 text-blue-800":"investigation"===f.status?"bg-purple-100 text-purple-800":"transmis_autorite"===f.status?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:z(f.status)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Assign\xe9 \xe0:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("investigateur"===f.assigned_to?"bg-indigo-100 text-indigo-800":"cac_daj"===f.assigned_to?"bg-blue-100 text-blue-800":"autorite_competente"===f.assigned_to?"bg-cyan-100 text-cyan-800":"bg-gray-100 text-gray-800"),children:H(f.assigned_to)})]})]})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>oe("auteur"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations de l'Auteur"})]}),S.auteur?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),S.auteur&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:"Anonyme"===f.type_signalement?(0,wt.jsxs)("div",{className:"text-center py-3",children:[(0,wt.jsx)(Yi,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Signalement anonyme"})]}):(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Nom / Pr\xe9nom:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.nom_prenom})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Email:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.email})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"T\xe9l\xe9phone:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.telephone})]})]})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>oe("description"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Description du Signalement"})]}),S.description?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),S.description&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:(0,wt.jsx)("div",{className:"bg-gray-50 rounded-md p-3 text-xs leading-relaxed",children:f.explication})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>oe("pieces"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Pi\xe8ces Jointes"})]}),S.pieces?(0,wt.jsx)(Yf,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Ki,{className:"w-4 h-4 text-gray-500"})]}),S.pieces&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:f.files&&f.files.length>0?(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:f.files.map((e,t)=>{var r;const n="string"===typeof e?e:e.name||"",s=null===(r=n.split(".").pop())||void 0===r?void 0:r.toLowerCase(),a=["jpg","jpeg","png","gif","webp"].includes(s),i="pdf"===s;return(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg border overflow-hidden",children:[(0,wt.jsx)("div",{className:"aspect-video bg-white flex items-center justify-center",children:a?(0,wt.jsx)("img",{src:"".concat(as.defaults.baseURL,"/files/").concat(encodeURIComponent(n)),alt:n,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='120'%3E%3Crect width='100%25' height='100%25' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%239ca3af' font-size='12'%3EImpossible de charger l'image%3C/text%3E%3C/svg%3E"}}):i?(0,wt.jsxs)("div",{className:"text-center p-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,wt.jsx)("span",{className:"text-red-600 font-bold text-xs",children:"PDF"})}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Document PDF"})]}):(0,wt.jsxs)("div",{className:"text-center p-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,wt.jsx)("span",{className:"text-gray-600 font-bold text-xs",children:null===s||void 0===s?void 0:s.toUpperCase()})}),(0,wt.jsxs)("p",{className:"text-xs text-gray-600",children:["Fichier ",s]})]})}),(0,wt.jsxs)("div",{className:"p-2",children:[(0,wt.jsx)("p",{className:"text-xs font-medium truncate mb-1",title:n,children:n}),(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{const t=encodeURIComponent(e),r="".concat(as.defaults.baseURL,"/files/").concat(t);window.open(r,"_blank")})(n),className:"flex-1 bg-blue-50 text-blue-600 py-1 px-1 rounded text-xs hover:bg-blue-100 transition-colors",children:"Voir"}),(0,wt.jsx)("button",{onClick:()=>(async e=>{try{const t=encodeURIComponent(e),r=await as.get("/files/".concat(t,"/download"),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([r.data])),s=document.createElement("a");s.href=n,s.setAttribute("download",e),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(n)}catch(t){alert("Erreur lors du t\xe9l\xe9chargement du fichier")}})(n),className:"flex-1 bg-gray-100 text-gray-700 py-1 px-1 rounded text-xs hover:bg-gray-200 transition-colors",children:"T\xe9l\xe9charger"})]})]})]},t)})}):(0,wt.jsxs)("div",{className:"text-center py-4",children:[(0,wt.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,wt.jsx)(Us,{className:"w-6 h-6 text-gray-400"})}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Aucun fichier joint"})]})})]})]}),(0,wt.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t",children:[(0,wt.jsx)("div",{className:"flex gap-2",children:(0,wt.jsxs)("button",{onClick:()=>te(f),className:"flex items-center gap-1 px-3 py-1 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,wt.jsx)($f,{className:"w-3 h-3"}),"Imprimer"]})}),(0,wt.jsx)("div",{className:"flex gap-2",children:(0,wt.jsxs)("button",{onClick:()=>ee(f),className:"flex items-center gap-1 px-3 py-1 text-xs bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[(0,wt.jsx)(Ci,{className:"w-3 h-3"}),"Statut"]})})]})]}),p&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Mettre \xe0 jour le statut"}),(0,wt.jsx)("button",{onClick:()=>g(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:re,className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nouveau statut ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsxs)("select",{value:E.status,onChange:e=>_(t=>o(o({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner un statut"}),(0,wt.jsx)("option",{value:"classifier",children:"Compl\xe9t\xe9"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"})]})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-amber-600 text-white rounded-md hover:bg-amber-700",children:"Mettre \xe0 jour le statut"})]})]})]})}),w&&(0,wt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 transform transition-all",children:[(0,wt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4 rounded-t-xl",children:(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)("div",{className:"p-2 bg-white/20 rounded-full",children:(0,wt.jsx)($f,{className:"w-6 h-6 text-white"})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{className:"text-xl font-bold text-white",children:"Impression du dossier"}),(0,wt.jsx)("p",{className:"text-blue-100 text-sm",children:"G\xe9n\xe9ration du document"})]})]})}),(0,wt.jsxs)("div",{className:"p-6",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-4 mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,wt.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(Ts,{className:"w-5 h-5 text-blue-600"})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{className:"font-semibold text-blue-800 text-sm",children:"Dossier \xe0 imprimer"}),(0,wt.jsxs)("p",{className:"text-blue-600 text-xs",children:[null===N||void 0===N?void 0:N.reference," -"," ",null===N||void 0===N?void 0:N.nom_prenom]})]})]}),(0,wt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)(ys,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h4",{className:"font-semibold text-green-800 text-sm mb-1",children:"Document professionnel"}),(0,wt.jsx)("p",{className:"text-green-700 text-xs leading-relaxed",children:"Le document g\xe9n\xe9r\xe9 inclura les logos officiels, toutes les informations du dossier et sera format\xe9 pour une impression professionnelle."})]})]})}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 bg-gray-50 p-3 rounded-lg",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4 text-gray-400"}),(0,wt.jsx)("span",{children:"Le document s'ouvrira dans une nouvelle fen\xeatre pour impression"})]})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 px-6 py-4 border-t bg-gray-50 rounded-b-xl",children:[(0,wt.jsx)("button",{onClick:()=>B(!1),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Annuler"}),(0,wt.jsxs)("button",{onClick:ne,className:"px-6 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-sm hover:shadow-md flex items-center gap-2",children:[(0,wt.jsx)($f,{className:"w-4 h-4"}),"Imprimer le dossier"]})]})]})})]}):x?(0,wt.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"G\xe9n\xe9ration de Rapport - Dossiers Assign\xe9s"}),(0,wt.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Configurez et pr\xe9visualisez votre rapport des dossiers assign\xe9s"})]}),(0,wt.jsxs)("div",{className:"flex gap-3",children:[(0,wt.jsxs)("button",{onClick:()=>{b(!1),y(!1),I(null)},className:"flex items-center gap-2 px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:[(0,wt.jsx)(_t,{className:"w-4 h-4"}),"Retour \xe0 la liste"]}),L&&(0,wt.jsxs)("button",{onClick:ae,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[(0,wt.jsx)(Us,{className:"w-4 h-4"}),"Exporter PDF"]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,wt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Configuration du Rapport"}),(0,wt.jsxs)("form",{onSubmit:se,className:"space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de rapport *"}),(0,wt.jsxs)("select",{value:U.type,onChange:e=>Q(o(o({},U),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"quotidien",children:"Quotidien"}),(0,wt.jsx)("option",{value:"hebdomadaire",children:"Hebdomadaire"}),(0,wt.jsx)("option",{value:"mensuel",children:"Mensuel"}),(0,wt.jsx)("option",{value:"annuel",children:"Annuel"})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de d\xe9but *"}),(0,wt.jsx)("input",{type:"date",value:U.dateDebut,onChange:e=>Q(o(o({},U),{},{dateDebut:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin *"}),(0,wt.jsx)("input",{type:"date",value:U.dateFin,onChange:e=>Q(o(o({},U),{},{dateFin:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cat\xe9gories \xe0 inclure"}),(0,wt.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-200 rounded-md p-3",children:M.map(e=>(0,wt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,wt.jsx)("input",{type:"checkbox",checked:U.categories.includes(e.id),onChange:t=>{const r=t.target.checked?[...U.categories,e.id]:U.categories.filter(t=>t!==e.id);Q(o(o({},U),{},{categories:r}))},className:"w-4 h-4"}),(0,wt.jsxs)("span",{className:"text-sm",children:[e.emoji," ",e.name]})]},e.id))}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour inclure toutes les cat\xe9gories"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes et observations"}),(0,wt.jsx)("textarea",{value:U.notes,onChange:e=>Q(o(o({},U),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ajoutez des commentaires ou observations..."})]}),(0,wt.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium",children:"G\xe9n\xe9rer le Rapport"})]})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,wt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Pr\xe9visualisation du Rapport"}),v&&L?(0,wt.jsxs)("div",{id:"report-preview",className:"pdf-export bg-white p-8",children:[(0,wt.jsxs)("div",{className:"text-center border-b-2 border-gray-800 pb-6 mb-6",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,wt.jsxs)("div",{className:"text-left",children:[(0,wt.jsx)("img",{src:is,alt:"R\xe9publique de Madagascar",className:"h-16 object-contain"}),(0,wt.jsx)("p",{className:"text-xs font-bold text-gray-800 mt-1",children:"REPOBLIKAN'I MADAGASIKARA"})]}),(0,wt.jsx)("div",{className:"text-center flex-1 mx-8",children:(0,wt.jsxs)("div",{className:"border-l border-r border-gray-400 px-8",children:[(0,wt.jsx)("img",{src:os,alt:"MESUPRES",className:"h-16 object-contain mx-auto"}),(0,wt.jsx)("p",{className:"text-xs font-bold text-gray-800 mt-1 uppercase",children:"MINISTERAN'NY FAMPIANARANA AMBONY SY FIKAROHANA ARA-TSIANSA"})]})}),(0,wt.jsxs)("div",{className:"text-right",children:[(0,wt.jsx)("img",{src:ls,alt:"FOSIKA",className:"h-16 object-contain ml-auto"}),(0,wt.jsx)("p",{className:"text-xs font-bold text-gray-800 mt-1",children:"FOSIKA"})]})]}),(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2 uppercase",children:"Rapport des Dossiers Assign\xe9s"}),(0,wt.jsxs)("p",{className:"text-lg font-semibold text-gray-700",children:[L.type.charAt(0).toUpperCase()+L.type.slice(1)," ","- ",L.periode]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"Informations G\xe9n\xe9rales"}),(0,wt.jsxs)("div",{className:"space-y-3",children:[(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Type de rapport:"}),(0,wt.jsx)("span",{className:"capitalize",children:L.type})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"P\xe9riode couverte:"}),(0,wt.jsx)("span",{children:L.periode})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Cat\xe9gories incluses:"}),(0,wt.jsx)("span",{className:"text-right",children:L.categories.length>0?L.categories.join(", "):"Toutes les cat\xe9gories"})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Date de g\xe9n\xe9ration:"}),(0,wt.jsxs)("span",{children:[L.dateGeneration," \xe0"," ",L.heureGeneration]})]})]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"Statistiques des Dossiers Assign\xe9s"}),(0,wt.jsxs)("div",{className:"space-y-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Total des dossiers assign\xe9s:"}),(0,wt.jsx)("span",{className:"font-bold",children:L.stats.total})]}),(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Dossiers en cours:"}),(0,wt.jsx)("span",{className:"font-bold text-amber-600",children:L.stats.en_cours})]}),(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Dossiers finalis\xe9s:"}),(0,wt.jsx)("span",{className:"font-bold text-green-600",children:L.stats.finalise})]}),(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"En investigation:"}),(0,wt.jsx)("span",{className:"font-bold text-purple-600",children:L.stats.investigation})]}),(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Transmis aux autorit\xe9s comp\xe9tentes:"}),(0,wt.jsx)("span",{className:"font-bold text-indigo-600",children:L.stats.transmis_autorite})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{children:"Dossiers compl\xe9t\xe9s:"}),(0,wt.jsx)("span",{className:"font-bold text-blue-600",children:L.stats.classifier})]})]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"Analyse"}),(0,wt.jsxs)("div",{className:"space-y-4 text-sm leading-relaxed",children:[(0,wt.jsxs)("p",{children:["Le pr\xe9sent rapport d'activit\xe9 du syst\xe8me FOSIKA couvre la p\xe9riode du ",(0,wt.jsxs)("strong",{children:[" ",L.periode," "]}),"et pr\xe9sente une analyse exhaustive des dossiers assign\xe9s concernant les irr\xe9gularit\xe9s dans le secteur de l'enseignement sup\xe9rieur et de la recherche scientifique."]}),(0,wt.jsxs)("p",{children:["Durant cette p\xe9riode,"," ",(0,wt.jsxs)("strong",{children:[L.stats.total," dossiers assign\xe9s"]})," ","ont \xe9t\xe9 trait\xe9s par notre syst\xe8me. La r\xe9partition par statut d\xe9montre l'avancement des investigations :"]}),(0,wt.jsxs)("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[L.stats.en_cours," dossiers"]})," ","sont actuellement en cours d'instruction active"]}),(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[L.stats.finalise," affaires"]})," ","ont \xe9t\xe9 r\xe9solues avec succ\xe8s"]}),(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[L.stats.investigation," cas"]})," ","font l'objet d'une investigation approfondie"]}),(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[L.stats.transmis_autorite," dossiers"]})," ","ont \xe9t\xe9 transmis aux autorit\xe9s comp\xe9tentes"]}),(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[L.stats.classifier," dossiers"]})," ","ont \xe9t\xe9 compl\xe9t\xe9s et class\xe9s"]})]}),(0,wt.jsx)("p",{children:"Le syst\xe8me FOSIKA continue de d\xe9montrer son efficacit\xe9 dans le traitement des dossiers assign\xe9s et le suivi des investigations. Notre plateforme assure un suivi rigoureux de chaque dossier depuis son assignation jusqu'\xe0 sa r\xe9solution d\xe9finitive."}),L.notes&&(0,wt.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mt-4",children:[(0,wt.jsx)("h3",{className:"font-bold text-blue-900 mb-2",children:"Observations particuli\xe8res :"}),(0,wt.jsx)("p",{className:"text-blue-800 whitespace-pre-wrap text-sm",children:L.notes})]})]})]}),(0,wt.jsxs)("div",{className:"mt-8 pt-6 border-t-2 border-gray-800 text-center text-xs text-gray-600",children:[(0,wt.jsx)("p",{className:"font-bold",children:"\xa9 DAAQ-MESUPRES 2025 - Tous droits r\xe9serv\xe9s"}),(0,wt.jsx)("p",{className:"mt-1",children:"Syst\xe8me FOSIKA - Plateforme de gestion des dossiers assign\xe9s"}),(0,wt.jsxs)("p",{className:"mt-2",children:["Document g\xe9n\xe9r\xe9 le ",L.dateGeneration," \xe0"," ",L.heureGeneration]}),(0,wt.jsx)("p",{className:"mt-1 font-semibold",children:"\xc0 usage officiel - Confidentiel"})]})]}):(0,wt.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[(0,wt.jsx)(Ts,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-gray-500",children:"Le rapport appara\xeetra ici apr\xe8s g\xe9n\xe9ration"}),(0,wt.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:'Configurez les param\xe8tres et cliquez sur "G\xe9n\xe9rer le Rapport"'})]})]})]})]}):(0,wt.jsxs)("div",{className:"p-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-base font-semibold",children:"classifier"===e?"Dossiers compl\xe9t\xe9s":"Dossiers \xe0 enqu\xeater"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:"classifier"===e?"Dossiers ayant d\xe9j\xe0 \xe9t\xe9 compl\xe9t\xe9s.":"G\xe9rez et suivez vos dossiers d'enqu\xeate assign\xe9s"})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsxs)("button",{onClick:()=>{const e=[["R\xc9F\xc9RENCE","DATE","Nom/Pr\xe9nom","Cat\xe9gorie","Statut","Assign\xe9 \xe0"],...V.map(e=>[e.reference,e.date,e.nom_prenom,e.categorie,z(e.status),H(e.assigned_to)])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),n=URL.createObjectURL(t);r.setAttribute("href",n),r.setAttribute("download","dossiers_assignes_".concat((new Date).toISOString().split("T")[0],".csv")),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Us,{className:"w-3 h-3"}),"Exporter CSV"]}),(0,wt.jsxs)("button",{onClick:()=>b(!0),className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Ts,{className:"w-3 h-3"}),"G\xe9n\xe9rer rapport"]})]})]}),(0,wt.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,wt.jsxs)("button",{className:"tous"===e?"px-3 py-1 text-xs rounded-full bg-blue-600 text-white":"px-3 py-1 text-xs rounded-full bg-gray-100 text-gray-700",onClick:()=>{r("tous"),i(1)},children:["Tous (",le.tous,")"]}),(0,wt.jsxs)("button",{className:"en cours"===e?"px-3 py-1 text-xs rounded-full bg-blue-600 text-white":"px-3 py-1 text-xs rounded-full bg-gray-100 text-gray-700",onClick:()=>{r("en cours"),i(1)},children:["En cours (",le["en cours"],")"]}),(0,wt.jsxs)("button",{className:"finalis\xe9"===e?"px-3 py-1 text-xs rounded-full bg-blue-600 text-white":"px-3 py-1 text-xs rounded-full bg-gray-100 text-gray-700",onClick:()=>{r("finalis\xe9"),i(1)},children:["Finalis\xe9 (",le["finalis\xe9"],")"]}),(0,wt.jsxs)("button",{className:"compl\xe9t\xe9"===e?"px-3 py-1 text-xs rounded-full bg-blue-600 text-white":"px-3 py-1 text-xs rounded-full bg-gray-100 text-gray-700",onClick:()=>{r("compl\xe9t\xe9"),i(1)},children:["Compl\xe9t\xe9 (",le["compl\xe9t\xe9"],")"]}),(0,wt.jsxs)("button",{className:"investigation"===e?"px-3 py-1 text-xs rounded-full bg-blue-600 text-white":"px-3 py-1 text-xs rounded-full bg-gray-100 text-gray-700",onClick:()=>{r("investigation"),i(1)},children:["Investigation (",le.investigation,")"]}),(0,wt.jsxs)("button",{className:"transmis aux autorit\xe9s comp\xe9tentes"===e?"px-3 py-1 text-xs rounded-full bg-blue-600 text-white":"px-3 py-1 text-xs rounded-full bg-gray-100 text-gray-700",onClick:()=>{r("transmis aux autorit\xe9s comp\xe9tentes"),i(1)},children:["Transmis (",le["transmis aux autorit\xe9s comp\xe9tentes"],")"]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-3",children:[(0,wt.jsx)("div",{className:"md:col-span-2",children:(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Ns,{className:"w-4 h-4 absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,wt.jsx)("input",{type:"text",value:n.search,onChange:e=>Z("search",e.target.value),placeholder:"Rechercher par r\xe9f\xe9rence, nom...",className:"w-full pl-8 pr-2 py-1 text-xs border rounded-md"})]})}),(0,wt.jsx)("div",{children:(0,wt.jsxs)("select",{value:n.statut,onChange:e=>Z("statut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",children:[(0,wt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,wt.jsx)("option",{value:"en_cours",children:"En cours"}),(0,wt.jsx)("option",{value:"finalise",children:"Finalis\xe9"}),(0,wt.jsx)("option",{value:"classifier",children:"Compl\xe9t\xe9"}),(0,wt.jsx)("option",{value:"investigation",children:"Investigation"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s"})]})}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsxs)("div",{className:"relative flex-1",children:[(0,wt.jsx)(ks,{className:"w-3 h-3 absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,wt.jsx)("input",{type:"date",value:n.dateDebut,onChange:e=>Z("dateDebut",e.target.value),className:"w-full pl-7 pr-2 py-1 text-xs border rounded-md",placeholder:"Date d\xe9but",title:"Filtrer par date de d\xe9but"})]}),(0,wt.jsx)("span",{className:"text-xs text-gray-400",children:"\xe0"}),(0,wt.jsxs)("div",{className:"relative flex-1",children:[(0,wt.jsx)(ks,{className:"w-3 h-3 absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,wt.jsx)("input",{type:"date",value:n.dateFin,onChange:e=>Z("dateFin",e.target.value),className:"w-full pl-7 pr-2 py-1 text-xs border rounded-md",placeholder:"Date fin",title:"Filtrer par date de fin"})]})]})]}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-2 text-xs",children:[(0,wt.jsxs)("button",{onClick:$,className:"flex items-center gap-1 px-2 py-1 border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Lt,{className:"w-3 h-3"}),"R\xe9initialiser les filtres"]}),(0,wt.jsxs)("div",{className:"text-gray-500",children:[V.length," dossiers trouv\xe9s",(n.dateDebut||n.dateFin)&&(0,wt.jsxs)("span",{className:"ml-2 text-blue-600",children:[n.dateDebut&&"Depuis: ".concat(ie(n.dateDebut)),n.dateDebut&&n.dateFin&&" - ",n.dateFin&&"Jusqu'\xe0: ".concat(ie(n.dateFin))]})]})]}),(0,wt.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,wt.jsx)("div",{className:"overflow-x-auto",children:u?(0,wt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Chargement en cours..."}):0===V.length?(0,wt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,wt.jsx)(Ns,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,wt.jsx)("p",{children:"Aucun dossier trouv\xe9 avec les filtres actuels"}),(n.search||n.statut||n.dateDebut||n.dateFin)&&(0,wt.jsx)("button",{onClick:$,className:"mt-3 px-3 py-1 text-xs bg-blue-50 text-blue-700 hover:bg-blue-100 rounded-md transition",children:"R\xe9initialiser les filtres"})]})}):(0,wt.jsxs)("table",{className:"min-w-full text-xs",children:[(0,wt.jsx)("thead",{className:"bg-gray-50",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>Y("reference"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors",children:[(0,wt.jsx)("span",{children:"R\xc9F\xc9RENCE"}),X("reference")]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>Y("date"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors",children:[(0,wt.jsx)("span",{children:"DATE"}),X("date")]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"NOM / PR\xc9NOM"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"CAT\xc9GORIE"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"STATUT"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"ACTIONS"})]})}),(0,wt.jsx)("tbody",{children:J.map(e=>(0,wt.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,wt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.reference}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.date}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.nom_prenom}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.categorie}),(0,wt.jsx)("td",{className:"px-2 py-2",children:(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-yellow-100 text-yellow-800":"finalise"===e.status?"bg-green-100 text-green-800":"classifier"===e.status?"bg-blue-100 text-blue-800":"investigation"===e.status?"bg-purple-100 text-purple-800":"transmis_autorite"===e.status?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:z(e.status)})}),(0,wt.jsx)("td",{className:"px-2 py-2",children:(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{m((null===f||void 0===f?void 0:f.id)===e.id?null:e),F({general:!0,auteur:!0,description:!0,pieces:!0})})(e),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Voir d\xe9tails",children:(0,wt.jsx)(_s,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>te(e),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Imprimer",children:(0,wt.jsx)($f,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>ee(e),className:"p-1 text-amber-600 hover:bg-amber-100 rounded transition-colors",title:"Mettre \xe0 jour statut",children:(0,wt.jsx)(Ci,{className:"w-3 h-3"})})]})})]},e.id))})]})}),V.length>0&&(0,wt.jsxs)("div",{className:"flex items-center justify-between px-2 py-2 border-t bg-gray-50",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,wt.jsx)("span",{children:"\xc9l\xe9ments par page :"}),(0,wt.jsxs)("select",{value:l,onChange:e=>{A(Number(e.target.value)),i(1)},className:"px-2 py-1 border rounded-md text-xs",children:[(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:30,children:"30"}),(0,wt.jsx)("option",{value:50,children:"50"}),(0,wt.jsx)("option",{value:100,children:"100"})]}),(0,wt.jsxs)("span",{className:"text-gray-500",children:[W+1,"-",Math.min(G,V.length)," sur"," ",V.length]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>i(e=>Math.max(1,e-1)),disabled:1===a,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(_t,{className:"w-4 h-4"})}),(()=>{const e=[];if(q<=7)for(let t=1;t<=q;t++)e.push(t);else{e.push(1);let t=Math.max(2,a-2),r=Math.min(q-1,a+2);a<=3&&(r=5),a>=q-2&&(t=q-5+1),t>2&&e.push("...");for(let n=t;n<=r;n++)e.push(n);r<q-1&&e.push("..."),e.push(q)}return e})().map((e,t)=>"..."===e?(0,wt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,wt.jsx)("button",{onClick:()=>i(e),className:"px-2 py-1 text-xs border rounded-md ".concat(a===e?"bg-blue-600 text-white":"bg-white"),children:e},e)),(0,wt.jsx)("button",{onClick:()=>i(e=>Math.min(q,e+1)),disabled:a===q||0===q,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(Is,{className:"w-4 h-4"})})]})]})]}),p&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Mettre \xe0 jour le statut"}),(0,wt.jsx)("button",{onClick:()=>g(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:re,className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nouveau statut ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsxs)("select",{value:E.status,onChange:e=>_(t=>o(o({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner un statut"}),(0,wt.jsx)("option",{value:"classifier",children:"Compl\xe9t\xe9"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"})]})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>g(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-amber-600 text-white rounded-md hover:bg-amber-700",children:"Mettre \xe0 jour le statut"})]})]})]})}),w&&(0,wt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 transform transition-all",children:[(0,wt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4 rounded-t-xl",children:(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)("div",{className:"p-2 bg-white/20 rounded-full",children:(0,wt.jsx)($f,{className:"w-6 h-6 text-white"})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{className:"text-xl font-bold text-white",children:"Impression du dossier"}),(0,wt.jsx)("p",{className:"text-blue-100 text-sm",children:"G\xe9n\xe9ration du document"})]})]})}),(0,wt.jsxs)("div",{className:"p-6",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-4 mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,wt.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(Ts,{className:"w-5 h-5 text-blue-600"})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{className:"font-semibold text-blue-800 text-sm",children:"Dossier \xe0 imprimer"}),(0,wt.jsxs)("p",{className:"text-blue-600 text-xs",children:[null===N||void 0===N?void 0:N.reference," -"," ",null===N||void 0===N?void 0:N.nom_prenom]})]})]}),(0,wt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)(ys,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h4",{className:"font-semibold text-green-800 text-sm mb-1",children:"Document professionnel"}),(0,wt.jsx)("p",{className:"text-green-700 text-xs leading-relaxed",children:"Le document g\xe9n\xe9r\xe9 inclura les logos officiels, toutes les informations du dossier et sera format\xe9 pour une impression professionnelle."})]})]})}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 bg-gray-50 p-3 rounded-lg",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4 text-gray-400"}),(0,wt.jsx)("span",{children:"Le document s'ouvrira dans une nouvelle fen\xeatre pour impression"})]})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 px-6 py-4 border-t bg-gray-50 rounded-b-xl",children:[(0,wt.jsx)("button",{onClick:()=>B(!1),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Annuler"}),(0,wt.jsxs)("button",{onClick:ne,className:"px-6 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-sm hover:shadow-md flex items-center gap-2",children:[(0,wt.jsx)($f,{className:"w-4 h-4"}),"Imprimer le dossier"]})]})]})})]})},yN={login:async e=>{try{if(!e.email||!e.password)throw{message:"Email et mot de passe sont requis",status:400,code:"MISSING_CREDENTIALS"};const t=await Ni.login(e.email,e.password,e.remember||!1);if(t.success)return{success:!0,data:{user:t.user}};throw{message:t.message||"Email ou mot de passe incorrect",status:401,code:"INVALID_CREDENTIALS"}}catch(t){if(t.message&&t.status)throw t;if(t.response){const{status:e,data:r}=t.response;let n="Erreur de connexion au serveur";throw null!==r&&void 0!==r&&r.message?n=r.message:null!==r&&void 0!==r&&r.error&&(n=r.error),{message:n,status:e,code:"SERVER_ERROR",data:r}}throw t.request?{message:"Impossible de joindre le serveur",status:0,code:"NETWORK_ERROR"}:{message:t.message||"Erreur inconnue",status:-1,code:"UNKNOWN_ERROR"}}},logout:async()=>{try{return await Ni.logout(),{success:!0,message:"D\xe9connexion r\xe9ussie"}}catch(e){throw Ni.clearAuthData(),e}},checkSession:async()=>{try{return(await as.get("/team/check-session")).data}catch(t){var e;throw 401===(null===(e=t.response)||void 0===e?void 0:e.status)&&Ni.clearAuthData(),t}},getProfile:async()=>{try{return(await as.get("/agent/profile")).data}catch(e){throw console.error("Erreur getProfile:",e),e}}},wN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=Ni.getUser();return t&&t.role?e&&t.role.toLowerCase()!==e.toLowerCase()?null:"authenticated":null},BN=function(){Ni.clearAuthData(),console.log("TeamUtils: D\xe9connexion effectu\xe9e")},NN=e=>{let{onReturnToDashboard:r,onAvatarUpdate:n,userRole:s,userData:a}=e;const[i,l]=(0,t.useState)({name:"",email:"",phone:"",adresse:"",departement:"",username:"",responsabilites:"",current_password:"",new_password:"",new_password_confirmation:""}),[A,c]=(0,t.useState)({}),[d,u]=(0,t.useState)(""),[h,f]=(0,t.useState)("informations"),[m,p]=(0,t.useState)(""),[g,x]=(0,t.useState)(!1),[b,v]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),B={admin:{bg:"bg-blue-600",gradient:"from-blue-600 to-blue-700",text:"text-blue-600",light:"bg-blue-50"},agent:{bg:"bg-green-600",gradient:"from-green-600 to-green-700",text:"text-green-600",light:"bg-green-50"},investigateur:{bg:"bg-purple-600",gradient:"from-purple-600 to-purple-700",text:"text-purple-600",light:"bg-purple-50"}},N=B[s]||B.admin;(0,t.useEffect)(()=>{C()},[s,a]);const j=e=>new Promise(t=>{const r=new Image;r.onload=()=>t(!0),r.onerror=()=>t(!1),r.src=e}),C=async()=>{if(wN(s))try{x(!0);const e=await yN.getProfile(s);if(e.success){const{data:t}=e;if(l(e=>o(o({},e),{},{name:t.name||"",email:t.email||"",phone:t.phone||"",adresse:t.adresse||"",departement:t.departement||"",username:t.username||"",responsabilites:t.responsabilites||""})),t.avatar){let e=t.avatar;if(e.includes("storage/avatars/")){const t=e.split("/").pop();e="/api/file/avatar/".concat(t)}if(!e.startsWith("http")){e="".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000").concat(e.startsWith("/")?"":"/").concat(e)}const r=await j(e);w(r),p(r?"".concat(e,"?t=").concat((new Date).getTime()):"")}else p(""),w(!1);c({})}else c({submit:e.message||"Erreur lors du chargement du profil"})}catch(e){k(e,"Erreur lors du chargement du profil")}finally{x(!1)}else c({submit:"Session expir\xe9e. Veuillez vous reconnecter."})},k=(e,t)=>{var r,n,a,i,o;let l=t;if(401===(null===(r=e.response)||void 0===r?void 0:r.status))l="Session expir\xe9e. Veuillez vous reconnecter.",BN(s);else if(null!==(n=e.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.message)l=e.response.data.message;else{if(null!==(i=e.response)&&void 0!==i&&null!==(o=i.data)&&void 0!==o&&o.errors){const t=e.response.data.errors;return void c(t)}e.message&&(l=e.message)}c({submit:l})},S=e=>{const{name:t,value:r}=e.target;l(e=>o(o({},e),{},{[t]:r})),A[t]&&c(e=>o(o({},e),{},{[t]:""})),A.submit&&c(e=>o(o({},e),{},{submit:""}))},F=()=>({admin:"Administrateur",agent:"Agent",investigateur:"Investigateur"}[s]||"Utilisateur");return(0,t.useEffect)(()=>{u(""),c({})},[h]),wN(s)?g&&!i.name?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,wt.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement du profil..."})]})}):(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,wt.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,wt.jsx)("div",{className:"mb-6",children:(0,wt.jsxs)("button",{onClick:r,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors font-medium",disabled:g,children:[(0,wt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour au tableau de bord"]})}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,wt.jsx)("div",{className:"bg-gradient-to-r ".concat(N.gradient," px-6 py-8"),children:(0,wt.jsxs)("div",{className:"flex items-center gap-6",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center ".concat(N.text," text-2xl font-bold border-4 border-white shadow-lg overflow-hidden"),children:[m&&y?(0,wt.jsx)("img",{src:m,alt:"Avatar",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none";const t=e.target.nextSibling;t&&(t.style.display="flex",t.classList.remove("hidden"))}}):null,(0,wt.jsx)("span",{className:"flex items-center justify-center w-full h-full ".concat(m&&y?"hidden":""),children:i.name?i.name.substring(0,2).toUpperCase():F().substring(0,2).toUpperCase()})]}),(0,wt.jsxs)("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-white text-gray-700 p-2 rounded-full cursor-pointer shadow-lg hover:bg-gray-100 transition-colors ".concat(b?"opacity-50 cursor-not-allowed":""),children:[b?(0,wt.jsx)("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):(0,wt.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,wt.jsx)("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;if(["image/jpeg","image/png","image/gif","image/webp"].includes(t.type))if(t.size>5242880)c(e=>o(o({},e),{},{avatar:"La taille du fichier ne doit pas d\xe9passer 5MB."}));else try{v(!0);const e=new FileReader;e.onload=e=>{p(e.target.result),w(!0)},e.readAsDataURL(t);const a=await yN.updateAvatar(s,t);if(a.success){var r;const e=(null===(r=a.data)||void 0===r?void 0:r.avatar_url)||a.avatar_url;if(e){const t=await j(e);w(t),t&&p("".concat(e,"?t=").concat((new Date).getTime()))}u("Avatar mis \xe0 jour avec succ\xe8s"),setTimeout(()=>u(""),3e3),c({}),n&&n(e),setTimeout(()=>{C()},500)}}catch(a){k(a,"Erreur lors du t\xe9l\xe9chargement de l'avatar"),C()}finally{v(!1),e.target.value=""}else c(e=>o(o({},e),{},{avatar:"Format de fichier non support\xe9. Utilisez JPEG, PNG, GIF ou WebP."}))},className:"hidden",disabled:b||g})]})]}),(0,wt.jsxs)("div",{className:"text-white",children:[(0,wt.jsx)("h1",{className:"text-2xl font-bold",children:i.name||F()}),(0,wt.jsx)("p",{className:"text-blue-100",children:i.email}),(0,wt.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:F()}),(0,wt.jsxs)("p",{className:"text-blue-100 text-sm",children:["@",i.username]})]})]})}),A.avatar&&(0,wt.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-6 py-3 text-sm",children:Array.isArray(A.avatar)?A.avatar[0]:A.avatar}),(0,wt.jsx)("div",{className:"border-b border-gray-200 bg-white",children:(0,wt.jsxs)("nav",{className:"flex -mb-px",children:[(0,wt.jsx)("button",{onClick:()=>f("informations"),className:"px-6 py-4 font-medium text-sm border-b-2 transition-colors ".concat("informations"===h?"".concat(N.text," border-current"):"border-transparent text-gray-500 hover:text-gray-700"),children:"Informations personnelles"}),(0,wt.jsx)("button",{onClick:()=>f("password"),className:"px-6 py-4 font-medium text-sm border-b-2 transition-colors ".concat("password"===h?"".concat(N.text," border-current"):"border-transparent text-gray-500 hover:text-gray-700"),children:"Mot de passe"})]})}),(d||A.submit)&&(0,wt.jsx)("div",{className:"px-6 py-3 text-sm ".concat(d?"bg-green-50 border border-green-200 text-green-600":"bg-red-50 border border-red-200 text-red-600"),children:d||A.submit}),(0,wt.jsxs)("div",{className:"p-6",children:["informations"===h&&(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.name.trim()&&i.email.trim()){x(!0);try{const e={name:i.name.trim(),email:i.email.trim(),phone:i.phone.trim(),adresse:i.adresse.trim()},t=await yN.updateProfile(s,e);t.success&&(u("Informations mises \xe0 jour avec succ\xe8s"),setTimeout(()=>u(""),3e3),c({}),t.data&&l(e=>o(o({},e),t.data)))}catch(t){k(t,"Erreur lors de la mise \xe0 jour des informations")}finally{x(!1)}}else c({submit:"Le nom et l'email sont obligatoires"})},className:"space-y-6",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[["name","email","phone","adresse"].map(e=>(0,wt.jsxs)("div",{className:"adresse"===e||"phone"===e?"md:col-span-2":"",children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["name"===e&&"Nom et pr\xe9nom *","email"===e&&"Email *","phone"===e&&"T\xe9l\xe9phone","adresse"===e&&"Adresse"]}),(0,wt.jsx)("input",{type:"email"===e?"email":"text",name:e,value:i[e],onChange:S,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(A[e]?"border-red-300":"border-gray-300"),disabled:g,required:"name"===e||"email"===e}),A[e]&&(0,wt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(A[e])?A[e][0]:A[e]})]},e)),(0,wt.jsx)("div",{className:"md:col-span-2",children:(0,wt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4 border-b pb-2",children:"Informations syst\xe8me"})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"D\xe9partement"}),(0,wt.jsx)("input",{type:"text",value:i.departement||"Non sp\xe9cifi\xe9",className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500",disabled:!0}),(0,wt.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Cette information ne peut pas \xeatre modifi\xe9e"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom d'utilisateur"}),(0,wt.jsx)("input",{type:"text",value:i.username||"Non sp\xe9cifi\xe9",className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500",disabled:!0}),(0,wt.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Cette information ne peut pas \xeatre modifi\xe9e"})]}),(0,wt.jsxs)("div",{className:"md:col-span-2",children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"R\xf4le"}),(0,wt.jsx)("input",{type:"text",value:F(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500",disabled:!0})]}),(0,wt.jsxs)("div",{className:"md:col-span-2",children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsabilit\xe9s"}),(0,wt.jsx)("textarea",{value:i.responsabilites||"Aucune responsabilit\xe9 sp\xe9cifi\xe9e",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 resize-none",disabled:!0}),(0,wt.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Ces informations sont g\xe9r\xe9es par l'administrateur"})]})]}),(0,wt.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:(0,wt.jsx)("button",{type:"submit",disabled:g,className:"px-6 py-2 ".concat(N.bg," text-white rounded-lg hover:opacity-90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"),children:g?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enregistrement..."]}):"Enregistrer les modifications"})})]}),"password"===h&&(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.new_password===i.new_password_confirmation)if(i.new_password.length<8)c({submit:"Le mot de passe doit contenir au moins 8 caract\xe8res"});else{x(!0);try{const e={current_password:i.current_password,new_password:i.new_password,new_password_confirmation:i.new_password_confirmation};(await yN.updatePassword(s,e)).success&&(u("Mot de passe chang\xe9 avec succ\xe8s"),setTimeout(()=>u(""),3e3),l(e=>o(o({},e),{},{current_password:"",new_password:"",new_password_confirmation:""})),c({}))}catch(t){k(t,"Erreur lors du changement de mot de passe")}finally{x(!1)}}else c({submit:"Les mots de passe ne correspondent pas"})},className:"space-y-6 max-w-md",children:[["current_password","new_password","new_password_confirmation"].map(e=>(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["current_password"===e&&"Mot de passe actuel *","new_password"===e&&"Nouveau mot de passe *","new_password_confirmation"===e&&"Confirmer le nouveau mot de passe *"]}),(0,wt.jsx)("input",{type:"password",name:e,value:i[e],onChange:S,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(A[e]?"border-red-300":"border-gray-300"),disabled:g,required:!0}),A[e]&&(0,wt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:Array.isArray(A[e])?A[e][0]:A[e]}),"new_password"===e&&(0,wt.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Le mot de passe doit contenir au moins 8 caract\xe8res."})]},e)),(0,wt.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:(0,wt.jsx)("button",{type:"submit",disabled:g,className:"px-6 py-2 ".concat(N.bg," text-white rounded-lg hover:opacity-90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"),children:g?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Changement..."]}):"Changer le mot de passe"})})]})]})]})]})}):(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[(0,wt.jsx)("h2",{className:"font-bold text-lg",children:"Session expir\xe9e"}),(0,wt.jsx)("p",{children:"Votre session a expir\xe9 ou vous n'\xeates pas connect\xe9."}),(0,wt.jsx)("p",{className:"text-sm mt-2",children:"Veuillez vous reconnecter."})]}),(0,wt.jsx)("button",{onClick:r,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retour au tableau de bord"})]})})},jN=e=>{let{onDeconnexion:r}=e;const[n,s]=(0,t.useState)("dashboard"),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[A,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(0);(0,t.useEffect)(()=>{(()=>{try{console.log("\ud83c\udfad [MODE D\xc9MO] Investigateur - Chargement depuis localStorage...");const e=Ni.getUser();e&&e.email?(console.log("\u2705 [MODE D\xc9MO] Investigateur charg\xe9:",e.email),l(e)):(console.warn("\u26a0\ufe0f [MODE D\xc9MO] Pas de user \u2192 d\xe9connexion"),null===r||void 0===r||r())}catch(e){console.error("\u274c [MODE D\xc9MO] Erreur:",e),null===r||void 0===r||r()}finally{c(!1)}})()},[r]);const h=()=>{u(e=>e+1),window.location.reload()};if(A)return(0,wt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mx-auto"}),(0,wt.jsx)("p",{className:"mt-6 text-lg text-gray-600",children:"Chargement..."})]})});if(!o)return(0,wt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("p",{className:"text-xl text-red-600",children:"Authentification requise"}),(0,wt.jsx)("button",{onClick:r,className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded",children:"Retour au login"})]})});return(0,wt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,wt.jsx)(Gi,{adminData:o,onNavigateToProfile:()=>s("profil"),onNavigateToNotifications:()=>s("notifications"),onDeconnexion:r,onAvatarUpdate:h,userRole:"investigateur"}),(0,wt.jsxs)("div",{className:"flex pt-20",children:[(0,wt.jsx)(fN,{currentView:n,onViewChange:s,collapsed:a,onToggle:()=>i(!a)}),(0,wt.jsx)("main",{className:"flex-1 transition-all duration-300 ".concat(a?"ml-16":"ml-64"),children:(0,wt.jsx)("div",{className:"p-6",children:(()=>{const e=o;switch(n){case"dashboard":default:return(0,wt.jsx)(bN,{data:e});case"enquetes":return(0,wt.jsx)(vN,{});case"notifications":return(0,wt.jsx)(Zw,{});case"profil":return(0,wt.jsx)(NN,{onReturnToDashboard:()=>s("dashboard"),onAvatarUpdate:h,userRole:"investigateur",userData:o})}})()})})]})]})},CN=Et("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),kN=()=>{const[e,r]=(0,t.useState)(""),[n,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[A,c]=(0,t.useState)(900),[d,u]=(0,t.useState)(""),h=(0,t.useRef)(null),f=ue();(0,t.useEffect)(()=>{if(!Ni.isAuthenticated())return void f("/login",{replace:!0});const e=Ni.getUser();null!==e&&void 0!==e&&e.email&&u(g(e.email)),m();const t=setInterval(()=>{c(e=>e>0?e-1:0)},1e3);return()=>clearInterval(t)},[f]),(0,t.useEffect)(()=>{h.current&&h.current.focus()},[]);const m=async()=>{try{const e=await as.get("/auth/check-2fa-required");e.data.two_factor_verified&&!e.data.requires_2fa&&p()}catch(t){var e;401===(null===(e=t.response)||void 0===e?void 0:e.status)&&(Ni.clearAuthData(),f("/login",{replace:!0}))}},p=()=>{const e=sessionStorage.getItem("redirect_after_2fa");if(sessionStorage.removeItem("redirect_after_2fa"),e)window.location.href=e;else{const e=Ni.getRole(),t={admin:"/admin",agent:"/agent",investigateur:"/investigateur"};window.location.href=t[e]||"/admin"}},g=e=>{if(!e||!e.includes("@"))return e;const[t,r]=e.split("@"),n=t.slice(0,2)+"\u2022\u2022\u2022"+t.slice(-1);return"".concat(n,"@").concat(r)},x=async t=>{if(null===t||void 0===t||t.preventDefault(),6===e.length){s(!0),i(""),l("");try{const t=await as.post("/auth/verify-2fa",{code:e.trim()});l("Code v\xe9rifi\xe9 !"),t.data.user&&Ni.setUser(t.data.user,Ni.isRemembered()),setTimeout(()=>p(),800)}catch(o){var n,a;i((null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Code incorrect"),r(""),s(!1),h.current&&h.current.focus()}}};(0,t.useEffect)(()=>{6===e.length&&x()},[e]);const b=e=>{const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(r.toString().padStart(2,"0"))};return(0,wt.jsxs)("div",{className:"min-h-screen w-full flex items-center justify-center bg-white relative overflow-hidden px-4",children:[(0,wt.jsxs)("div",{className:"absolute inset-0 bg-white overflow-hidden",children:[(0,wt.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03]"}),(0,wt.jsx)("div",{className:"absolute -top-[20%] -left-[10%] w-[70%] h-[70%] bg-[#09407e] rounded-full blur-[120px] opacity-[0.08]"}),(0,wt.jsx)("div",{className:"absolute -bottom-[20%] -right-[10%] w-[70%] h-[70%] bg-[#4c7026] rounded-full blur-[120px] opacity-[0.08]"})]}),(0,wt.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-2xl shadow-[0_20px_50px_rgba(12,40,68,0.1)] border border-slate-100 overflow-hidden",children:[(0,wt.jsxs)("div",{className:"bg-slate-50/50 border-b border-slate-100 p-6 text-center relative",children:[(0,wt.jsx)("div",{className:"mx-auto w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-100 mb-4 transform rotate-3 hover:rotate-0 transition-all duration-500",children:(0,wt.jsx)(CN,{className:"w-8 h-8 text-[#0c2844]"})}),(0,wt.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Double Authentification"}),(0,wt.jsxs)("p",{className:"text-slate-500 text-sm mt-2 flex items-center justify-center gap-2",children:[(0,wt.jsx)(uB,{className:"w-4 h-4"}),"Code envoy\xe9 au"," ",(0,wt.jsx)("span",{className:"font-semibold text-slate-700",children:d})]})]}),(0,wt.jsxs)("div",{className:"p-8",children:[a&&(0,wt.jsxs)("div",{className:"mb-6 p-4 bg-red-50/80 border border-red-100 rounded-xl flex items-center gap-3 text-red-700 animate-shake",children:[(0,wt.jsx)(Ut,{className:"w-5 h-5 flex-shrink-0"}),(0,wt.jsx)("span",{className:"text-sm font-medium",children:a})]}),o&&(0,wt.jsxs)("div",{className:"mb-6 p-4 bg-emerald-50/80 border border-emerald-100 rounded-xl flex items-center gap-3 text-emerald-700 animate-fade-in",children:[(0,wt.jsx)(lB,{className:"w-5 h-5 flex-shrink-0"}),(0,wt.jsx)("span",{className:"text-sm font-medium",children:o})]}),(0,wt.jsxs)("div",{className:"relative mb-8 group",children:[(0,wt.jsx)("input",{ref:h,type:"text",value:e,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);r(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",autoComplete:"one-time-code",inputMode:"numeric",maxLength:6,disabled:n}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-2 relative z-10 pointer-events-none",children:[...Array(6)].map((t,r)=>(0,wt.jsx)("div",{className:"\n                      w-12 h-14 sm:w-14 sm:h-16 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-all duration-200\n                      ".concat(e[r]?"border-[#0c2844] bg-slate-50 text-[#0c2844] scale-105 shadow-sm":"border-slate-200 bg-white text-slate-300","\n                      ").concat(r!==e.length||n?"":"border-[#4c7026] ring-4 ring-[#4c7026]/10 z-10 scale-110","\n                    "),children:e[r]||(0,wt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(r===e.length?"bg-[#4c7026] animate-pulse":"bg-slate-200")})},r))})]}),(0,wt.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-8 text-sm text-slate-500 bg-slate-50 py-2 rounded-full border border-slate-100 w-fit mx-auto px-4",children:[(0,wt.jsx)(ws,{className:"w-4 h-4"}),(0,wt.jsx)("span",{children:"Expire dans"}),(0,wt.jsx)("span",{className:"font-mono font-bold ".concat(A<60?"text-red-600":"text-[#0c2844]"),children:b(A)})]}),(0,wt.jsx)("button",{onClick:x,disabled:n||6!==e.length,className:"w-full bg-[#0c2844] hover:bg-[#09407e] text-white py-4 rounded-xl font-semibold shadow-lg shadow-blue-900/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-2 group",children:n?(0,wt.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("span",{children:"V\xe9rifier l'identit\xe9"}),(0,wt.jsx)(AB,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})}),(0,wt.jsxs)("div",{className:"mt-6 flex flex-col items-center gap-4",children:[(0,wt.jsxs)("button",{onClick:async()=>{s(!0),i("");try{await as.post("/auth/resend-2fa-code"),l("Nouveau code envoy\xe9 !"),c(900),r(""),s(!1),h.current&&h.current.focus()}catch(e){i("Impossible de renvoyer le code"),s(!1)}},disabled:n||A>840,className:"text-sm font-medium text-slate-600 hover:text-[#4c7026] transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,wt.jsx)(Jw,{className:"w-4 h-4 ".concat(n?"animate-spin":"")}),A>840?"Renvoyer disponible dans ".concat(b(A-840)):"Je n'ai pas re\xe7u le code"]}),(0,wt.jsxs)("button",{onClick:()=>Ni.logout(),className:"text-xs text-slate-400 hover:text-red-500 transition-colors flex items-center gap-1.5 mt-2",children:[(0,wt.jsx)(qi,{className:"w-3 h-3"}),"Annuler et se d\xe9connecter"]})]})]})]}),(0,wt.jsx)("div",{className:"mt-8 text-center",children:(0,wt.jsxs)("p",{className:"text-slate-400 text-xs flex items-center justify-center gap-1",children:[(0,wt.jsx)(oB,{className:"w-3 h-3"}),"Connexion chiffr\xe9e de bout en bout"]})})]}),(0,wt.jsx)("style",{jsx:!0,children:"\n        @keyframes shake {\n          0%,\n          100% {\n            transform: translateX(0);\n          }\n          25% {\n            transform: translateX(-4px);\n          }\n          75% {\n            transform: translateX(4px);\n          }\n        }\n        .animate-shake {\n          animation: shake 0.4s ease-in-out;\n        }\n      "})]})},SN=()=>!!(localStorage.getItem("user")||localStorage.getItem("user_data")||sessionStorage.getItem("user")||sessionStorage.getItem("user_data")),FN=()=>{const e=localStorage.getItem("user")||localStorage.getItem("user_data")||sessionStorage.getItem("user")||sessionStorage.getItem("user_data");if(e)try{const t=JSON.parse(e),r=t.role||t.user_type||t.type;return r?r.toLowerCase():null}catch(r){console.error("Erreur parsing user data:",r)}const t=localStorage.getItem("user_type")||sessionStorage.getItem("user_type");return t?t.toLowerCase():null},EN=e=>{let{children:r,allowedRoles:n}=e;const[s,a]=t.useState(!1),[i,o]=t.useState(null),[l,A]=t.useState(!0);if(t.useEffect(()=>{(()=>{const e=SN(),t=FN();a(e),o(t),A(!1)})()},[]),l)return(0,wt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,wt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})});if(!s)return(0,wt.jsx)(Fe,{to:"/login",replace:!0});if(i&&!n.includes(i)){const e={admin:"/admin",agent:"/agent",investigateur:"/investigateur"};return(0,wt.jsx)(Fe,{to:e[i]||"/login",replace:!0})}return i?r:(0,wt.jsx)(Fe,{to:"/login",replace:!0})};const _N=function(){return(0,wt.jsx)(dt,{children:(0,wt.jsxs)(Ue,{children:[(0,wt.jsx)(Ee,{path:"/",element:(0,wt.jsx)(Bt,{})}),(0,wt.jsx)(Ee,{path:"/signalement",element:(0,wt.jsx)(vs,{})}),(0,wt.jsx)(Ee,{path:"/suivi",element:(0,wt.jsx)(wi,{})}),(0,wt.jsx)(Ee,{path:"/enseignants",element:(0,wt.jsx)(Oi,{})}),(0,wt.jsx)(Ee,{path:"/login",element:(0,wt.jsx)(ji,{})}),(0,wt.jsx)(Ee,{path:"/two-factor-verify",element:(0,wt.jsx)(kN,{})}),(0,wt.jsx)(Ee,{path:"/admin/*",element:(0,wt.jsx)(EN,{allowedRoles:["admin"],children:(0,wt.jsx)(lN,{})})}),(0,wt.jsx)(Ee,{path:"/agent/*",element:(0,wt.jsx)(EN,{allowedRoles:["agent"],children:(0,wt.jsx)(hN,{})})}),(0,wt.jsx)(Ee,{path:"/investigateur/*",element:(0,wt.jsx)(EN,{allowedRoles:["investigateur"],children:(0,wt.jsx)(jN,{})})}),(0,wt.jsx)(Ee,{path:"*",element:(0,wt.jsx)(Ri,{})})]})})},UN=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then(t=>{let{getCLS:r,getFID:n,getFCP:s,getLCP:a,getTTFB:i}=t;r(e),n(e),s(e),a(e),i(e)})};n.createRoot(document.getElementById("root")).render((0,wt.jsx)(t.StrictMode,{children:(0,wt.jsx)(_N,{})})),UN()})()})();
//# sourceMappingURL=main.b513baa9.js.map