/*! For license information please see main.c621e44c.js.LICENSE.txt */
(()=>{var e={4:(e,t,s)=>{"use strict";var n=s(853),r=s(43),a=s(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(i(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case x:return"Portal";case w:return e.displayName||"Context";case y:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return T(e(t))}catch(s){}}return null}var R=Array.isArray,P=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},I=[],z=-1;function F(e){return{current:e}}function U(e){0>z||(e.current=I[z],I[z]=null,z--)}function B(e,t){z++,I[z]=e.current,e.current=t}var V,H,W=F(null),q=F(null),Y=F(null),J=F(null);function K(e,t){switch(B(Y,t),B(q,e),B(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bu(t=gu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(W),B(W,e)}function G(){U(W),U(q),U(Y)}function X(e){null!==e.memoizedState&&B(J,e);var t=W.current,s=bu(t,e.type);t!==s&&(B(q,e),B(W,s))}function Q(e){q.current===e&&(U(W),U(q)),J.current===e&&(U(J),dh._currentValue=L)}function Z(e){if(void 0===V)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",H=-1<s.stack.indexOf("\n    at")?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+H}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(r){var n=r}Reflect.construct(e,[],s)}else{try{s.call()}catch(a){n=a}e.call(s.prototype)}}else{try{throw Error()}catch(i){n=i}(s=e())&&"function"===typeof s.catch&&s.catch(function(){})}}catch(l){if(l&&n&&"string"===typeof l.stack)return[l.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),i=a[0],l=a[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(r=n=0;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(n===o.length||r===c.length)for(n=o.length-1,r=c.length-1;1<=n&&0<=r&&o[n]!==c[r];)r--;for(;1<=n&&0<=r;n--,r--)if(o[n]!==c[r]){if(1!==n||1!==r)do{if(n--,0>--r||o[n]!==c[r]){var d="\n"+o[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=r);break}}}finally{$=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Z(s):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Z("Activity");default:return""}}function se(e){try{var t="",s=null;do{t+=te(e,s),s=e,e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}var ne=Object.prototype.hasOwnProperty,re=n.unstable_scheduleCallback,ae=n.unstable_cancelCallback,ie=n.unstable_shouldYield,le=n.unstable_requestPaint,oe=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,de=n.unstable_ImmediatePriority,ue=n.unstable_UserBlockingPriority,he=n.unstable_NormalPriority,me=n.unstable_LowPriority,pe=n.unstable_IdlePriority,fe=n.log,xe=n.unstable_setDisableYieldValue,ge=null,be=null;function ve(e){if("function"===typeof fe&&xe(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ge,e)}catch(t){}}var ye=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/je|0)|0},we=Math.log,je=Math.LN2;var Ne=256,ke=262144,Se=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,s){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=134217727&n;return 0!==l?0!==(n=l&~a)?r=Ee(n):0!==(i&=l)?r=Ee(i):s||0!==(s=l&~e)&&(r=Ee(s)):0!==(l=n&~a)?r=Ee(l):0!==i?r=Ee(i):s||0!==(s=n&~e)&&(r=Ee(s)),0===r?0:0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||32===a&&0!==(4194048&s))?t:r}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Me(){var e=Se;return 0===(62914560&(Se<<=1))&&(Se=4194304),e}function De(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ye(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|261930&s}function Pe(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-ye(s),r=1<<n;r&t|e[n]&t&&(e[n]|=t),s&=~r}}function Oe(e,t){var s=t&-t;return 0!==((s=0!==(42&s)?1:Le(s))&(e.suspendedLanes|t))?0:s}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Eh(e.type)}function Fe(e,t){var s=O.p;try{return O.p=e,t()}finally{O.p=s}}var Ue=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ue,Ve="__reactProps$"+Ue,He="__reactContainer$"+Ue,We="__reactEvents$"+Ue,qe="__reactListeners$"+Ue,Ye="__reactHandles$"+Ue,Je="__reactResources$"+Ue,Ke="__reactMarker$"+Ue;function Ge(e){delete e[Be],delete e[Ve],delete e[We],delete e[qe],delete e[Ye]}function Xe(e){var t=e[Be];if(t)return t;for(var s=e.parentNode;s;){if(t=s[He]||s[Be]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=Lu(e);null!==e;){if(s=e[Be])return s;e=Lu(e)}return t}s=(e=s).parentNode}return null}function Qe(e){if(e=e[Be]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function $e(e){var t=e[Je];return t||(t=e[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,st={};function nt(e,t){rt(e,t),rt(e+"Capture",t)}function rt(e,t){for(st[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},lt={};function ot(e,t,s){if(r=t,ne.call(lt,r)||!ne.call(it,r)&&(at.test(r)?lt[r]=!0:(it[r]=!0,0)))if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+s)}var r}function ct(e,t,s){if(null===s)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+s)}}function dt(e,t,s,n){if(null===n)e.removeAttribute(s);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(s)}e.setAttributeNS(t,s,""+n)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,s){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){s=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=ht(e)?e.checked?"true":"false":e.value),(e=n)!==s&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xt=/[\n"\\]/g;function gt(e){return e.replace(xt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,s,n,r,a,i,l){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?yt(e,i,ut(t)):null!=s?yt(e,i,ut(s)):null!=n&&e.removeAttribute("value"),null==r&&null!=a&&(e.defaultChecked=!!a),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.name=""+ut(l):e.removeAttribute("name")}function vt(e,t,s,n,r,a,i,l){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=s){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void mt(e);s=null!=s?""+ut(s):"",t=null!=t?""+ut(t):s,l||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:r)&&"symbol"!==typeof n&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),mt(e)}function yt(e,t,s){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function wt(e,t,s,n){if(e=e.options,t){t={};for(var r=0;r<s.length;r++)t["$"+s[r]]=!0;for(s=0;s<e.length;s++)r=t.hasOwnProperty("$"+e[s].value),e[s].selected!==r&&(e[s].selected=r),r&&n&&(e[s].defaultSelected=!0)}else{for(s=""+ut(s),t=null,r=0;r<e.length;r++){if(e[r].value===s)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function jt(e,t,s){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=s)?e.defaultValue=null!=s?""+ut(s):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,s,n){if(null==t){if(null!=n){if(null!=s)throw Error(i(92));if(R(n)){if(1<n.length)throw Error(i(93));n=n[0]}s=n}null==s&&(s=""),t=s}s=ut(t),e.defaultValue=s,(n=e.textContent)===s&&""!==n&&null!==n&&(e.value=n),mt(e)}function kt(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,s){var n=0===t.indexOf("--");null==s||"boolean"===typeof s||""===s?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,s):"number"!==typeof s||0===s||St.has(t)?"float"===t?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function Ct(e,t,s){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=s){for(var n in s)!s.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&s[r]!==n&&Et(e,r,n)}else for(var a in t)t.hasOwnProperty(a)&&Et(e,a,t[a])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return Mt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tt(){}var Rt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Lt=null;function It(e){var t=Qe(e);if(t&&(e=t.stateNode)){var s=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var r=n[Ve]||null;if(!r)throw Error(i(90));bt(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<s.length;t++)(n=s[t]).form===e.form&&pt(n)}break e;case"textarea":jt(e,s.value,s.defaultValue);break e;case"select":null!=(t=s.value)&&wt(e,!!s.multiple,t,!1)}}}var zt=!1;function Ft(e,t,s){if(zt)return e(t,s);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Ot||null!==Lt)&&($c(),Ot&&(t=Ot,e=Lt,Lt=Ot=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function Ut(e,t){var s=e.stateNode;if(null===s)return null;var n=s[Ve]||null;if(null===n)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(i(231,t,typeof s));return s}var Bt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(Bt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Qh){Vt=!1}var Wt=null,qt=null,Yt=null;function Jt(){if(Yt)return Yt;var e,t,s=qt,n=s.length,r="value"in Wt?Wt.value:Wt.textContent,a=r.length;for(e=0;e<n&&s[e]===r[e];e++);var i=n-e;for(t=1;t<=i&&s[n-t]===r[a-t];t++);return Yt=r.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Xt(){return!1}function Qt(e){function t(t,s,n,r,a){for(var i in this._reactName=t,this._targetInst=n,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Gt:Xt,this.isPropagationStopped=Xt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Zt,$t,es,ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ss=Qt(ts),ns=m({},ts,{view:0,detail:0}),rs=Qt(ns),as=m({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xs,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==es&&(es&&"mousemove"===e.type?(Zt=e.screenX-es.screenX,$t=e.screenY-es.screenY):$t=Zt=0,es=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),is=Qt(as),ls=Qt(m({},as,{dataTransfer:0})),os=Qt(m({},ns,{relatedTarget:0})),cs=Qt(m({},ts,{animationName:0,elapsedTime:0,pseudoElement:0})),ds=Qt(m({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),us=Qt(m({},ts,{data:0})),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ms={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ps={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fs(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ps[e])&&!!t[e]}function xs(){return fs}var gs=Qt(m({},ns,{key:function(e){if(e.key){var t=hs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ms[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xs,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bs=Qt(m({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vs=Qt(m({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xs})),ys=Qt(m({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0})),ws=Qt(m({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),js=Qt(m({},ts,{newState:0,oldState:0})),Ns=[9,13,27,32],ks=Bt&&"CompositionEvent"in window,Ss=null;Bt&&"documentMode"in document&&(Ss=document.documentMode);var Es=Bt&&"TextEvent"in window&&!Ss,Cs=Bt&&(!ks||Ss&&8<Ss&&11>=Ss),_s=String.fromCharCode(32),As=!1;function Ms(e,t){switch(e){case"keyup":return-1!==Ns.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ds(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ts=!1;var Rs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ps(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rs[e.type]:"textarea"===t}function Os(e,t,s,n){Ot?Lt?Lt.push(n):Lt=[n]:Ot=n,0<(t=nu(t,"onChange")).length&&(s=new ss("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Ls=null,Is=null;function zs(e){Gd(e,0)}function Fs(e){if(pt(Ze(e)))return e}function Us(e,t){if("change"===e)return t}var Bs=!1;if(Bt){var Vs;if(Bt){var Hs="oninput"in document;if(!Hs){var Ws=document.createElement("div");Ws.setAttribute("oninput","return;"),Hs="function"===typeof Ws.oninput}Vs=Hs}else Vs=!1;Bs=Vs&&(!document.documentMode||9<document.documentMode)}function qs(){Ls&&(Ls.detachEvent("onpropertychange",Ys),Is=Ls=null)}function Ys(e){if("value"===e.propertyName&&Fs(Is)){var t=[];Os(t,Is,e,Pt(e)),Ft(zs,t)}}function Js(e,t,s){"focusin"===e?(qs(),Is=s,(Ls=t).attachEvent("onpropertychange",Ys)):"focusout"===e&&qs()}function Ks(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fs(Is)}function Gs(e,t){if("click"===e)return Fs(t)}function Xs(e,t){if("input"===e||"change"===e)return Fs(t)}var Qs="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zs(e,t){if(Qs(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var r=s[n];if(!ne.call(t,r)||!Qs(e[r],t[r]))return!1}return!0}function $s(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function en(e,t){var s,n=$s(e);for(e=0;n;){if(3===n.nodeType){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$s(n)}}function tn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function sn(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(n){s=!1}if(!s)break;t=ft((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var rn=Bt&&"documentMode"in document&&11>=document.documentMode,an=null,ln=null,on=null,cn=!1;function dn(e,t,s){var n=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;cn||null==an||an!==ft(n)||("selectionStart"in(n=an)&&nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},on&&Zs(on,n)||(on=n,0<(n=nu(ln,"onSelect")).length&&(t=new ss("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=an)))}function un(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var hn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},mn={},pn={};function fn(e){if(mn[e])return mn[e];if(!hn[e])return e;var t,s=hn[e];for(t in s)if(s.hasOwnProperty(t)&&t in pn)return mn[e]=s[t];return e}Bt&&(pn=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);var xn=fn("animationend"),gn=fn("animationiteration"),bn=fn("animationstart"),vn=fn("transitionrun"),yn=fn("transitionstart"),wn=fn("transitioncancel"),jn=fn("transitionend"),Nn=new Map,kn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Nn.set(e,t),nt(t,[e])}kn.push("scrollEnd");var En="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cn=[],_n=0,An=0;function Mn(){for(var e=_n,t=An=_n=0;t<e;){var s=Cn[t];Cn[t++]=null;var n=Cn[t];Cn[t++]=null;var r=Cn[t];Cn[t++]=null;var a=Cn[t];if(Cn[t++]=null,null!==n&&null!==r){var i=n.pending;null===i?r.next=r:(r.next=i.next,i.next=r),n.pending=r}0!==a&&Pn(s,r,a)}}function Dn(e,t,s,n){Cn[_n++]=e,Cn[_n++]=t,Cn[_n++]=s,Cn[_n++]=n,An|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Tn(e,t,s,n){return Dn(e,t,s,n),On(e)}function Rn(e,t){return Dn(e,null,null,t),On(e)}function Pn(e,t,s){e.lanes|=s;var n=e.alternate;null!==n&&(n.lanes|=s);for(var r=!1,a=e.return;null!==a;)a.childLanes|=s,null!==(n=a.alternate)&&(n.childLanes|=s),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,r&&null!==t&&(r=31-ye(s),null===(n=(e=a.hiddenUpdates)[r])?e[r]=[t]:n.push(t),t.lane=536870912|s),a):null}function On(e){if(50<Wc)throw Wc=0,qc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ln={};function In(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,s,n){return new In(e,t,s,n)}function Fn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Un(e,t){var s=e.alternate;return null===s?((s=zn(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=65011712&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Bn(e,t){e.flags&=65011714;var s=e.alternate;return null===s?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vn(e,t,s,n,r,a){var l=0;if(n=e,"function"===typeof e)Fn(e)&&(l=1);else if("string"===typeof e)l=function(e,t,s){if(1===s||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,s,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=zn(31,s,t,r)).elementType=C,e.lanes=a,e;case g:return Hn(s.children,r,a,t);case b:l=8,r|=24;break;case v:return(e=zn(12,s,t,2|r)).elementType=v,e.lanes=a,e;case N:return(e=zn(13,s,t,r)).elementType=N,e.lanes=a,e;case k:return(e=zn(19,s,t,r)).elementType=k,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:l=10;break e;case y:l=9;break e;case j:l=11;break e;case S:l=14;break e;case E:l=16,n=null;break e}l=29,s=Error(i(130,null===e?"null":typeof e,"")),n=null}return(t=zn(l,s,t,r)).elementType=e,t.type=n,t.lanes=a,t}function Hn(e,t,s,n){return(e=zn(7,e,n,t)).lanes=s,e}function Wn(e,t,s){return(e=zn(6,e,null,t)).lanes=s,e}function qn(e){var t=zn(18,null,null,0);return t.stateNode=e,t}function Yn(e,t,s){return(t=zn(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Jn=new WeakMap;function Kn(e,t){if("object"===typeof e&&null!==e){var s=Jn.get(e);return void 0!==s?s:(t={value:e,source:t,stack:se(t)},Jn.set(e,t),t)}return{value:e,source:t,stack:se(t)}}var Gn=[],Xn=0,Qn=null,Zn=0,$n=[],er=0,tr=null,sr=1,nr="";function rr(e,t){Gn[Xn++]=Zn,Gn[Xn++]=Qn,Qn=e,Zn=t}function ar(e,t,s){$n[er++]=sr,$n[er++]=nr,$n[er++]=tr,tr=e;var n=sr;e=nr;var r=32-ye(n)-1;n&=~(1<<r),s+=1;var a=32-ye(t)+r;if(30<a){var i=r-r%5;a=(n&(1<<i)-1).toString(32),n>>=i,r-=i,sr=1<<32-ye(t)+r|s<<r|n,nr=a+e}else sr=1<<a|s<<r|n,nr=e}function ir(e){null!==e.return&&(rr(e,1),ar(e,1,0))}function lr(e){for(;e===Qn;)Qn=Gn[--Xn],Gn[Xn]=null,Zn=Gn[--Xn],Gn[Xn]=null;for(;e===tr;)tr=$n[--er],$n[er]=null,nr=$n[--er],$n[er]=null,sr=$n[--er],$n[er]=null}function or(e,t){$n[er++]=sr,$n[er++]=nr,$n[er++]=tr,sr=t.id,nr=t.overflow,tr=e}var cr=null,dr=null,ur=!1,hr=null,mr=!1,pr=Error(i(519));function fr(e){throw wr(Kn(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pr}function xr(e){var t=e.stateNode,s=e.type,n=e.memoizedProps;switch(t[Be]=e,t[Ve]=n,s){case"dialog":Xd("cancel",t),Xd("close",t);break;case"iframe":case"object":case"embed":Xd("load",t);break;case"video":case"audio":for(s=0;s<Jd.length;s++)Xd(Jd[s],t);break;case"source":Xd("error",t);break;case"img":case"image":case"link":Xd("error",t),Xd("load",t);break;case"details":Xd("toggle",t);break;case"input":Xd("invalid",t),vt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Xd("invalid",t);break;case"textarea":Xd("invalid",t),Nt(t,n.value,n.defaultValue,n.children)}"string"!==typeof(s=n.children)&&"number"!==typeof s&&"bigint"!==typeof s||t.textContent===""+s||!0===n.suppressHydrationWarning||cu(t.textContent,s)?(null!=n.popover&&(Xd("beforetoggle",t),Xd("toggle",t)),null!=n.onScroll&&Xd("scroll",t),null!=n.onScrollEnd&&Xd("scrollend",t),null!=n.onClick&&(t.onclick=Tt),t=!0):t=!1,t||fr(e,!0)}function gr(e){for(cr=e.return;cr;)switch(cr.tag){case 5:case 31:case 13:return void(mr=!1);case 27:case 3:return void(mr=!0);default:cr=cr.return}}function br(e){if(e!==cr)return!1;if(!ur)return gr(e),ur=!0,!1;var t,s=e.tag;if((t=3!==s&&27!==s)&&((t=5===s)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vu(e.type,e.memoizedProps)),t=!t),t&&dr&&fr(e),gr(e),13===s){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));dr=Ou(e)}else if(31===s){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));dr=Ou(e)}else 27===s?(s=dr,Eu(e.type)?(e=Pu,Pu=null,dr=e):dr=s):dr=cr?Ru(e.stateNode.nextSibling):null;return!0}function vr(){dr=cr=null,ur=!1}function yr(){var e=hr;return null!==e&&(null===Mc?Mc=e:Mc.push.apply(Mc,e),hr=null),e}function wr(e){null===hr?hr=[e]:hr.push(e)}var jr=F(null),Nr=null,kr=null;function Sr(e,t,s){B(jr,t._currentValue),t._currentValue=s}function Er(e){e._currentValue=jr.current,U(jr)}function Cr(e,t,s){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function _r(e,t,s,n){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var a=r.dependencies;if(null!==a){var l=r.child;a=a.firstContext;e:for(;null!==a;){var o=a;a=r;for(var c=0;c<t.length;c++)if(o.context===t[c]){a.lanes|=s,null!==(o=a.alternate)&&(o.lanes|=s),Cr(a.return,s,e),n||(l=null);break e}a=o.next}}else if(18===r.tag){if(null===(l=r.return))throw Error(i(341));l.lanes|=s,null!==(a=l.alternate)&&(a.lanes|=s),Cr(l,s,e),l=null}else l=r.child;if(null!==l)l.return=r;else for(l=r;null!==l;){if(l===e){l=null;break}if(null!==(r=l.sibling)){r.return=l.return,l=r;break}l=l.return}r=l}}function Ar(e,t,s,n){e=null;for(var r=t,a=!1;null!==r;){if(!a)if(0!==(524288&r.flags))a=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var l=r.alternate;if(null===l)throw Error(i(387));if(null!==(l=l.memoizedProps)){var o=r.type;Qs(r.pendingProps.value,l.value)||(null!==e?e.push(o):e=[o])}}else if(r===J.current){if(null===(l=r.alternate))throw Error(i(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}r=r.return}null!==e&&_r(t,e,s,n),t.flags|=262144}function Mr(e){for(e=e.firstContext;null!==e;){if(!Qs(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Nr=e,kr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Tr(e){return Pr(Nr,e)}function Rr(e,t){return null===Nr&&Dr(e),Pr(e,t)}function Pr(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},null===kr){if(null===e)throw Error(i(308));kr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else kr=kr.next=t;return s}var Or="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Lr=n.unstable_scheduleCallback,Ir=n.unstable_NormalPriority,zr={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fr(){return{controller:new Or,data:new Map,refCount:0}}function Ur(e){e.refCount--,0===e.refCount&&Lr(Ir,function(){e.controller.abort()})}var Br=null,Vr=0,Hr=0,Wr=null;function qr(){if(0===--Vr&&null!==Br){null!==Wr&&(Wr.status="fulfilled");var e=Br;Br=null,Hr=0,Wr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Yr=P.S;P.S=function(e,t){Rc=oe(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Br){var s=Br=[];Vr=0,Hr=Vd(),Wr={status:"pending",value:void 0,then:function(e){s.push(e)}}}Vr++,t.then(qr,qr)}(0,t),null!==Yr&&Yr(e,t)};var Jr=F(null);function Kr(){var e=Jr.current;return null!==e?e:pc.pooledCache}function Gr(e,t){B(Jr,null===t?Jr.current:t.pool)}function Xr(){var e=Kr();return null===e?null:{parent:zr._currentValue,pool:e}}var Qr=Error(i(460)),Zr=Error(i(474)),$r=Error(i(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function sa(e,t,s){switch(void 0===(s=e[s])?e.push(t):s!==t&&(t.then(Tt,Tt),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e;default:if("string"===typeof t.status)t.then(Tt,Tt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var s=t;s.status="fulfilled",s.value=e}},function(e){if("pending"===t.status){var s=t;s.status="rejected",s.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e}throw ra=t,Qr}}function na(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ra=t,Qr;throw t}}var ra=null;function aa(){if(null===ra)throw Error(i(459));var e=ra;return ra=null,e}function ia(e){if(e===Qr||e===$r)throw Error(i(483))}var la=null,oa=0;function ca(e){var t=oa;return oa+=1,null===la&&(la=[]),sa(la,e,t)}function da(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ua(e,t){if(t.$$typeof===p)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){function t(t,s){if(e){var n=t.deletions;null===n?(t.deletions=[s],t.flags|=16):n.push(s)}}function s(s,n){if(!e)return null;for(;null!==n;)t(s,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Un(e,t)).index=0,e.sibling=null,e}function a(t,s,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<s?(t.flags|=67108866,s):n:(t.flags|=67108866,s):(t.flags|=1048576,s)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,s,n){return null===t||6!==t.tag?((t=Wn(s,e.mode,n)).return=e,t):((t=r(t,s)).return=e,t)}function c(e,t,s,n){var a=s.type;return a===g?u(e,t,s.props.children,n,s.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===E&&na(a)===t.type)?(da(t=r(t,s.props),s),t.return=e,t):(da(t=Vn(s.type,s.key,s.props,null,e.mode,n),s),t.return=e,t)}function d(e,t,s,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Yn(s,e.mode,n)).return=e,t):((t=r(t,s.children||[])).return=e,t)}function u(e,t,s,n,a){return null===t||7!==t.tag?((t=Hn(s,e.mode,n,a)).return=e,t):((t=r(t,s)).return=e,t)}function h(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wn(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return da(s=Vn(t.type,t.key,t.props,null,e.mode,s),t),s.return=e,s;case x:return(t=Yn(t,e.mode,s)).return=e,t;case E:return h(e,t=na(t),s)}if(R(t)||M(t))return(t=Hn(t,e.mode,s,null)).return=e,t;if("function"===typeof t.then)return h(e,ca(t),s);if(t.$$typeof===w)return h(e,Rr(e,t),s);ua(e,t)}return null}function m(e,t,s,n){var r=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return null!==r?null:o(e,t,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case f:return s.key===r?c(e,t,s,n):null;case x:return s.key===r?d(e,t,s,n):null;case E:return m(e,t,s=na(s),n)}if(R(s)||M(s))return null!==r?null:u(e,t,s,n,null);if("function"===typeof s.then)return m(e,t,ca(s),n);if(s.$$typeof===w)return m(e,t,Rr(e,s),n);ua(e,s)}return null}function p(e,t,s,n,r){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return o(t,e=e.get(s)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return c(t,e=e.get(null===n.key?s:n.key)||null,n,r);case x:return d(t,e=e.get(null===n.key?s:n.key)||null,n,r);case E:return p(e,t,s,n=na(n),r)}if(R(n)||M(n))return u(t,e=e.get(s)||null,n,r,null);if("function"===typeof n.then)return p(e,t,s,ca(n),r);if(n.$$typeof===w)return p(e,t,s,Rr(t,n),r);ua(t,n)}return null}function b(o,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var v=d.key;null!==c;){if(c.key===v){if((v=d.type)===g){if(7===c.tag){s(o,c.sibling),(u=r(c,d.props.children)).return=o,o=u;break e}}else if(c.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===E&&na(v)===c.type){s(o,c.sibling),da(u=r(c,d.props),d),u.return=o,o=u;break e}s(o,c);break}t(o,c),c=c.sibling}d.type===g?((u=Hn(d.props.children,o.mode,u,d.key)).return=o,o=u):(da(u=Vn(d.type,d.key,d.props,null,o.mode,u),d),u.return=o,o=u)}return l(o);case x:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){s(o,c.sibling),(u=r(c,d.children||[])).return=o,o=u;break e}s(o,c);break}t(o,c),c=c.sibling}(u=Yn(d,o.mode,u)).return=o,o=u}return l(o);case E:return b(o,c,d=na(d),u)}if(R(d))return function(r,i,l,o){for(var c=null,d=null,u=i,f=i=0,x=null;null!==u&&f<l.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=m(r,u,l[f],o);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(r,u),i=a(g,i,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===l.length)return s(r,u),ur&&rr(r,f),c;if(null===u){for(;f<l.length;f++)null!==(u=h(r,l[f],o))&&(i=a(u,i,f),null===d?c=u:d.sibling=u,d=u);return ur&&rr(r,f),c}for(u=n(u);f<l.length;f++)null!==(x=p(u,r,f,l[f],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),i=a(x,i,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(r,e)}),ur&&rr(r,f),c}(o,c,d,u);if(M(d)){if("function"!==typeof(v=M(d)))throw Error(i(150));return function(r,l,o,c){if(null==o)throw Error(i(151));for(var d=null,u=null,f=l,x=l=0,g=null,b=o.next();null!==f&&!b.done;x++,b=o.next()){f.index>x?(g=f,f=null):g=f.sibling;var v=m(r,f,b.value,c);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(r,f),l=a(v,l,x),null===u?d=v:u.sibling=v,u=v,f=g}if(b.done)return s(r,f),ur&&rr(r,x),d;if(null===f){for(;!b.done;x++,b=o.next())null!==(b=h(r,b.value,c))&&(l=a(b,l,x),null===u?d=b:u.sibling=b,u=b);return ur&&rr(r,x),d}for(f=n(f);!b.done;x++,b=o.next())null!==(b=p(f,r,x,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?x:b.key),l=a(b,l,x),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(r,e)}),ur&&rr(r,x),d}(o,c,d=v.call(d),u)}if("function"===typeof d.then)return b(o,c,ca(d),u);if(d.$$typeof===w)return b(o,c,Rr(o,d),u);ua(o,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(s(o,c.sibling),(u=r(c,d)).return=o,o=u):(s(o,c),(u=Wn(d,o.mode,u)).return=o,o=u),l(o)):s(o,c)}return function(e,t,s,n){try{oa=0;var r=b(e,t,s,n);return la=null,r}catch(i){if(i===Qr||i===$r)throw i;var a=zn(29,i,null,e.mode);return a.lanes=n,a.return=e,a}}}var ma=ha(!0),pa=ha(!1),fa=!1;function xa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ga(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function va(e,t,s){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&mc)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=On(e),Pn(e,null,s),t}return Dn(e,n,t,s),On(e)}function ya(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&s))){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,Pe(e,s)}}function wa(e,t){var s=e.updateQueue,n=e.alternate;if(null!==n&&s===(n=n.updateQueue)){var r=null,a=null;if(null!==(s=s.firstBaseUpdate)){do{var i={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};null===a?r=a=i:a=a.next=i,s=s.next}while(null!==s);null===a?r=a=t:a=a.next=t}else r=a=t;return s={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var ja=!1;function Na(){if(ja){if(null!==Wr)throw Wr}}function ka(e,t,s,n){ja=!1;var r=e.updateQueue;fa=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?a=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==a){var u=r.baseState;for(i=0,d=c=o=null,l=a;;){var h=-536870913&l.lane,p=h!==l.lane;if(p?(xc&h)===h:(n&h)===h){0!==h&&h===Hr&&(ja=!0),null!==d&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var f=e,x=l;h=t;var g=s;switch(x.tag){case 1:if("function"===typeof(f=x.payload)){u=f.call(g,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=x.payload)?f.call(g,u,h):f)||void 0===h)break e;u=m({},u,h);break e;case 2:fa=!0}}null!==(h=l.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[h]:p.push(h))}else p={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,i|=h;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(p=l).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===a&&(r.shared.lanes=0),kc|=i,e.lanes=i,e.memoizedState=u}}function Sa(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Ea(e,t){var s=e.callbacks;if(null!==s)for(e.callbacks=null,e=0;e<s.length;e++)Sa(s[e],t)}var Ca=F(null),_a=F(0);function Aa(e,t){B(_a,e=jc),B(Ca,t),jc=e|t.baseLanes}function Ma(){B(_a,jc),B(Ca,Ca.current)}function Da(){jc=_a.current,U(Ca),U(_a)}var Ta=F(null),Ra=null;function Pa(e){var t=e.alternate;B(Fa,1&Fa.current),B(Ta,e),null===Ra&&(null===t||null!==Ca.current||null!==t.memoizedState)&&(Ra=e)}function Oa(e){B(Fa,Fa.current),B(Ta,e),null===Ra&&(Ra=e)}function La(e){22===e.tag?(B(Fa,Fa.current),B(Ta,e),null===Ra&&(Ra=e)):Ia()}function Ia(){B(Fa,Fa.current),B(Ta,Ta.current)}function za(e){U(Ta),Ra===e&&(Ra=null),U(Fa)}var Fa=F(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||Du(s)||Tu(s)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=0,Va=null,Ha=null,Wa=null,qa=!1,Ya=!1,Ja=!1,Ka=0,Ga=0,Xa=null,Qa=0;function Za(){throw Error(i(321))}function $a(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Qs(e[s],t[s]))return!1;return!0}function ei(e,t,s,n,r,a){return Ba=a,Va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?fl:xl,Ja=!1,a=s(n,r),Ja=!1,Ya&&(a=si(t,s,n,r)),ti(e),a}function ti(e){P.H=pl;var t=null!==Ha&&null!==Ha.next;if(Ba=0,Wa=Ha=Va=null,qa=!1,Ga=0,Xa=null,t)throw Error(i(300));null===e||Tl||null!==(e=e.dependencies)&&Mr(e)&&(Tl=!0)}function si(e,t,s,n){Va=e;var r=0;do{if(Ya&&(Xa=null),Ga=0,Ya=!1,25<=r)throw Error(i(301));if(r+=1,Wa=Ha=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}P.H=gl,a=t(s,n)}while(Ya);return a}function ni(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?ci(t):t,e=e.useState()[0],(null!==Ha?Ha.memoizedState:null)!==e&&(Va.flags|=1024),t}function ri(){var e=0!==Ka;return Ka=0,e}function ai(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function ii(e){if(qa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}qa=!1}Ba=0,Wa=Ha=Va=null,Ya=!1,Ga=Ka=0,Xa=null}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wa?Va.memoizedState=Wa=e:Wa=Wa.next=e,Wa}function oi(){if(null===Ha){var e=Va.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Wa?Va.memoizedState:Wa.next;if(null!==t)Wa=t,Ha=e;else{if(null===e){if(null===Va.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Wa?Va.memoizedState=Wa=e:Wa=Wa.next=e}return Wa}function ci(e){var t=Ga;return Ga+=1,null===Xa&&(Xa=[]),e=sa(Xa,e,t),t=Va,null===(null===Wa?t.memoizedState:Wa.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?fl:xl),e}function di(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ci(e);if(e.$$typeof===w)return Tr(e)}throw Error(i(438,String(e)))}function ui(e){var t=null,s=Va.updateQueue;if(null!==s&&(t=s.memoCache),null==t){var n=Va.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===s&&(s={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=s),s.memoCache=t,void 0===(s=t.data[t.index]))for(s=t.data[t.index]=Array(e),n=0;n<e;n++)s[n]=_;return t.index++,s}function hi(e,t){return"function"===typeof t?t(e):t}function mi(e){return pi(oi(),Ha,e)}function pi(e,t,s){var n=e.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=s;var r=e.baseQueue,a=n.pending;if(null!==a){if(null!==r){var l=r.next;r.next=a.next,a.next=l}t.baseQueue=r=a,n.pending=null}if(a=e.baseState,null===r)e.memoizedState=a;else{var o=l=null,c=null,d=t=r.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(xc&h)===h:(Ba&h)===h){var m=d.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Hr&&(u=!0);else{if((Ba&m)===m){d=d.next,m===Hr&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=h,l=a):c=c.next=h,Va.lanes|=m,kc|=m}h=d.action,Ja&&s(a,h),a=d.hasEagerState?d.eagerState:s(a,h)}else m={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,l=a):c=c.next=m,Va.lanes|=h,kc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?l=a:c.next=o,!Qs(a,e.memoizedState)&&(Tl=!0,u&&null!==(s=Wr)))throw s;e.memoizedState=a,e.baseState=l,e.baseQueue=c,n.lastRenderedState=a}return null===r&&(n.lanes=0),[e.memoizedState,n.dispatch]}function fi(e){var t=oi(),s=t.queue;if(null===s)throw Error(i(311));s.lastRenderedReducer=e;var n=s.dispatch,r=s.pending,a=t.memoizedState;if(null!==r){s.pending=null;var l=r=r.next;do{a=e(a,l.action),l=l.next}while(l!==r);Qs(a,t.memoizedState)||(Tl=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function xi(e,t,s){var n=Va,r=oi(),a=ur;if(a){if(void 0===s)throw Error(i(407));s=s()}else s=t();var l=!Qs((Ha||r).memoizedState,s);if(l&&(r.memoizedState=s,Tl=!0),r=r.queue,Bi(vi.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==Wa&&1&Wa.memoizedState.tag){if(n.flags|=2048,Li(9,{destroy:void 0},bi.bind(null,n,r,s,t),null),null===pc)throw Error(i(349));a||0!==(127&Ba)||gi(n,t,s)}return s}function gi(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=Va.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function bi(e,t,s,n){t.value=s,t.getSnapshot=n,yi(t)&&wi(e)}function vi(e,t,s){return s(function(){yi(t)&&wi(e)})}function yi(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Qs(e,s)}catch(n){return!0}}function wi(e){var t=Rn(e,2);null!==t&&Kc(t,e,2)}function ji(e){var t=li();if("function"===typeof e){var s=e;if(e=s(),Ja){ve(!0);try{s()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t}function Ni(e,t,s,n){return e.baseState=s,pi(e,Ha,"function"===typeof n?n:hi)}function ki(e,t,s,n,r){if(ul(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==P.T?s(!0):a.isTransition=!1,n(a),null===(s=t.pending)?(a.next=t.pending=a,Si(t,a)):(a.next=s.next,t.pending=s.next=a)}}function Si(e,t){var s=t.action,n=t.payload,r=e.state;if(t.isTransition){var a=P.T,i={};P.T=i;try{var l=s(r,n),o=P.S;null!==o&&o(i,l),Ei(e,t,l)}catch(c){_i(e,t,c)}finally{null!==a&&null!==i.types&&(a.types=i.types),P.T=a}}else try{Ei(e,t,a=s(r,n))}catch(d){_i(e,t,d)}}function Ei(e,t,s){null!==s&&"object"===typeof s&&"function"===typeof s.then?s.then(function(s){Ci(e,t,s)},function(s){return _i(e,t,s)}):Ci(e,t,s)}function Ci(e,t,s){t.status="fulfilled",t.value=s,Ai(t),e.state=s,null!==(t=e.pending)&&((s=t.next)===t?e.pending=null:(s=s.next,t.next=s,Si(e,s)))}function _i(e,t,s){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=s,Ai(t),t=t.next}while(t!==n)}e.action=null}function Ai(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Mi(e,t){return t}function Di(e,t){if(ur){var s=pc.formState;if(null!==s){e:{var n=Va;if(ur){if(dr){t:{for(var r=dr,a=mr;8!==r.nodeType;){if(!a){r=null;break t}if(null===(r=Ru(r.nextSibling))){r=null;break t}}r="F!"===(a=r.data)||"F"===a?r:null}if(r){dr=Ru(r.nextSibling),n="F!"===r.data;break e}}fr(n)}n=!1}n&&(t=s[0])}}return(s=li()).memoizedState=s.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},s.queue=n,s=ol.bind(null,Va,n),n.dispatch=s,n=ji(!1),a=dl.bind(null,Va,!1,n.queue),r={state:t,dispatch:null,action:e,pending:null},(n=li()).queue=r,s=ki.bind(null,Va,r,a,s),r.dispatch=s,n.memoizedState=e,[t,s,!1]}function Ti(e){return Ri(oi(),Ha,e)}function Ri(e,t,s){if(t=pi(e,t,Mi)[0],e=mi(hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=ci(t)}catch(i){if(i===Qr)throw $r;throw i}else n=t;var r=(t=oi()).queue,a=r.dispatch;return s!==t.memoizedState&&(Va.flags|=2048,Li(9,{destroy:void 0},Pi.bind(null,r,s),null)),[n,a,e]}function Pi(e,t){e.action=t}function Oi(e){var t=oi(),s=Ha;if(null!==s)return Ri(t,s,e);oi(),t=t.memoizedState;var n=(s=oi()).queue.dispatch;return s.memoizedState=e,[t,n,!1]}function Li(e,t,s,n){return e={tag:e,create:s,deps:n,inst:t,next:null},null===(t=Va.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t),null===(s=t.lastEffect)?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function Ii(){return oi().memoizedState}function zi(e,t,s,n){var r=li();Va.flags|=e,r.memoizedState=Li(1|t,{destroy:void 0},s,void 0===n?null:n)}function Fi(e,t,s,n){var r=oi();n=void 0===n?null:n;var a=r.memoizedState.inst;null!==Ha&&null!==n&&$a(n,Ha.memoizedState.deps)?r.memoizedState=Li(t,a,s,n):(Va.flags|=e,r.memoizedState=Li(1|t,a,s,n))}function Ui(e,t){zi(8390656,8,e,t)}function Bi(e,t){Fi(2048,8,e,t)}function Vi(e){var t=oi().memoizedState;return function(e){Va.flags|=4;var t=Va.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.events=[e];else{var s=t.events;null===s?t.events=[e]:s.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&mc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Hi(e,t){return Fi(4,2,e,t)}function Wi(e,t){return Fi(4,4,e,t)}function qi(e,t){if("function"===typeof t){e=e();var s=t(e);return function(){"function"===typeof s?s():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Yi(e,t,s){s=null!==s&&void 0!==s?s.concat([e]):null,Fi(4,4,qi.bind(null,t,e),s)}function Ji(){}function Ki(e,t){var s=oi();t=void 0===t?null:t;var n=s.memoizedState;return null!==t&&$a(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Gi(e,t){var s=oi();t=void 0===t?null:t;var n=s.memoizedState;if(null!==t&&$a(t,n[1]))return n[0];if(n=e(),Ja){ve(!0);try{e()}finally{ve(!1)}}return s.memoizedState=[n,t],n}function Xi(e,t,s){return void 0===s||0!==(1073741824&Ba)&&0===(261930&xc)?e.memoizedState=t:(e.memoizedState=s,e=Jc(),Va.lanes|=e,kc|=e,s)}function Qi(e,t,s,n){return Qs(s,t)?s:null!==Ca.current?(e=Xi(e,s,n),Qs(e,t)||(Tl=!0),e):0===(42&Ba)||0!==(1073741824&Ba)&&0===(261930&xc)?(Tl=!0,e.memoizedState=s):(e=Jc(),Va.lanes|=e,kc|=e,t)}function Zi(e,t,s,n,r){var a=O.p;O.p=0!==a&&8>a?a:8;var i=P.T,l={};P.T=l,dl(e,!1,t,s);try{var o=r(),c=P.S;if(null!==c&&c(l,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)cl(e,t,function(e,t){var s=[],n={status:"pending",value:null,reason:null,then:function(e){s.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<s.length;e++)(0,s[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),n}(o,n),Yc());else cl(e,t,n,Yc())}catch(d){cl(e,t,{then:function(){},status:"rejected",reason:d},Yc())}finally{O.p=a,null!==i&&null!==l.types&&(i.types=l.types),P.T=i}}function $i(){}function el(e,t,s,n){if(5!==e.tag)throw Error(i(476));var r=tl(e).queue;Zi(e,r,t,L,null===s?$i:function(){return sl(e),s(n)})}function tl(e){var t=e.memoizedState;if(null!==t)return t;var s={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:L},next:null}).next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:s},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function sl(e){var t=tl(e);null===t.next&&(t=e.alternate.memoizedState),cl(e,t.next.queue,{},Yc())}function nl(){return Tr(dh)}function rl(){return oi().memoizedState}function al(){return oi().memoizedState}function il(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var s=Yc(),n=va(t,e=ba(s),s);return null!==n&&(Kc(n,t,s),ya(n,t,s)),t={cache:Fr()},void(e.payload=t)}t=t.return}}function ll(e,t,s){var n=Yc();s={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ul(e)?hl(t,s):null!==(s=Tn(e,t,s,n))&&(Kc(s,e,n),ml(s,t,n))}function ol(e,t,s){cl(e,t,s,Yc())}function cl(e,t,s,n){var r={lane:n,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ul(e))hl(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,s);if(r.hasEagerState=!0,r.eagerState=l,Qs(l,i))return Dn(e,t,r,0),null===pc&&Mn(),!1}catch(o){}if(null!==(s=Tn(e,t,r,n)))return Kc(s,e,n),ml(s,t,n),!0}return!1}function dl(e,t,s,n){if(n={lane:2,revertLane:Vd(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ul(e)){if(t)throw Error(i(479))}else null!==(t=Tn(e,s,n,2))&&Kc(t,e,2)}function ul(e){var t=e.alternate;return e===Va||null!==t&&t===Va}function hl(e,t){Ya=qa=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function ml(e,t,s){if(0!==(4194048&s)){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,Pe(e,s)}}var pl={readContext:Tr,use:di,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};pl.useEffectEvent=Za;var fl={readContext:Tr,use:di,useCallback:function(e,t){return li().memoizedState=[e,void 0===t?null:t],e},useContext:Tr,useEffect:Ui,useImperativeHandle:function(e,t,s){s=null!==s&&void 0!==s?s.concat([e]):null,zi(4194308,4,qi.bind(null,t,e),s)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){zi(4,2,e,t)},useMemo:function(e,t){var s=li();t=void 0===t?null:t;var n=e();if(Ja){ve(!0);try{e()}finally{ve(!1)}}return s.memoizedState=[n,t],n},useReducer:function(e,t,s){var n=li();if(void 0!==s){var r=s(t);if(Ja){ve(!0);try{s(t)}finally{ve(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=ll.bind(null,Va,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},li().memoizedState=e},useState:function(e){var t=(e=ji(e)).queue,s=ol.bind(null,Va,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:Ji,useDeferredValue:function(e,t){return Xi(li(),e,t)},useTransition:function(){var e=ji(!1);return e=Zi.bind(null,Va,e.queue,!0,!1),li().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var n=Va,r=li();if(ur){if(void 0===s)throw Error(i(407));s=s()}else{if(s=t(),null===pc)throw Error(i(349));0!==(127&xc)||gi(n,t,s)}r.memoizedState=s;var a={value:s,getSnapshot:t};return r.queue=a,Ui(vi.bind(null,n,a,e),[e]),n.flags|=2048,Li(9,{destroy:void 0},bi.bind(null,n,a,s,t),null),s},useId:function(){var e=li(),t=pc.identifierPrefix;if(ur){var s=nr;t="_"+t+"R_"+(s=(sr&~(1<<32-ye(sr)-1)).toString(32)+s),0<(s=Ka++)&&(t+="H"+s.toString(32)),t+="_"}else t="_"+t+"r_"+(s=Qa++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:nl,useFormState:Di,useActionState:Di,useOptimistic:function(e){var t=li();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=dl.bind(null,Va,!0,s),s.dispatch=t,[e,t]},useMemoCache:ui,useCacheRefresh:function(){return li().memoizedState=il.bind(null,Va)},useEffectEvent:function(e){var t=li(),s={impl:e};return t.memoizedState=s,function(){if(0!==(2&mc))throw Error(i(440));return s.impl.apply(void 0,arguments)}}},xl={readContext:Tr,use:di,useCallback:Ki,useContext:Tr,useEffect:Bi,useImperativeHandle:Yi,useInsertionEffect:Hi,useLayoutEffect:Wi,useMemo:Gi,useReducer:mi,useRef:Ii,useState:function(){return mi(hi)},useDebugValue:Ji,useDeferredValue:function(e,t){return Qi(oi(),Ha.memoizedState,e,t)},useTransition:function(){var e=mi(hi)[0],t=oi().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:xi,useId:rl,useHostTransitionStatus:nl,useFormState:Ti,useActionState:Ti,useOptimistic:function(e,t){return Ni(oi(),0,e,t)},useMemoCache:ui,useCacheRefresh:al};xl.useEffectEvent=Vi;var gl={readContext:Tr,use:di,useCallback:Ki,useContext:Tr,useEffect:Bi,useImperativeHandle:Yi,useInsertionEffect:Hi,useLayoutEffect:Wi,useMemo:Gi,useReducer:fi,useRef:Ii,useState:function(){return fi(hi)},useDebugValue:Ji,useDeferredValue:function(e,t){var s=oi();return null===Ha?Xi(s,e,t):Qi(s,Ha.memoizedState,e,t)},useTransition:function(){var e=fi(hi)[0],t=oi().memoizedState;return["boolean"===typeof e?e:ci(e),t]},useSyncExternalStore:xi,useId:rl,useHostTransitionStatus:nl,useFormState:Oi,useActionState:Oi,useOptimistic:function(e,t){var s=oi();return null!==Ha?Ni(s,0,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ui,useCacheRefresh:al};function bl(e,t,s,n){s=null===(s=s(n,t=e.memoizedState))||void 0===s?t:m({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}gl.useEffectEvent=Vi;var vl={enqueueSetState:function(e,t,s){e=e._reactInternals;var n=Yc(),r=ba(n);r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=va(e,r,n))&&(Kc(t,e,n),ya(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=Yc(),r=ba(n);r.tag=1,r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=va(e,r,n))&&(Kc(t,e,n),ya(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Yc(),n=ba(s);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=va(e,n,s))&&(Kc(t,e,s),ya(t,e,s))}};function yl(e,t,s,n,r,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zs(s,n)||!Zs(r,a))}function wl(e,t,s,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&vl.enqueueReplaceState(t,t.state,null)}function jl(e,t){var s=t;if("ref"in t)for(var n in s={},t)"ref"!==n&&(s[n]=t[n]);if(e=e.defaultProps)for(var r in s===t&&(s=m({},s)),e)void 0===s[r]&&(s[r]=e[r]);return s}function Nl(e){En(e)}function kl(e){console.error(e)}function Sl(e){En(e)}function El(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Cl(e,t,s){try{(0,e.onCaughtError)(s.value,{componentStack:s.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function _l(e,t,s){return(s=ba(s)).tag=3,s.payload={element:null},s.callback=function(){El(e,t)},s}function Al(e){return(e=ba(e)).tag=3,e}function Ml(e,t,s,n){var r=s.type.getDerivedStateFromError;if("function"===typeof r){var a=n.value;e.payload=function(){return r(a)},e.callback=function(){Cl(t,s,n)}}var i=s.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Cl(t,s,n),"function"!==typeof r&&(null===Lc?Lc=new Set([this]):Lc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Dl=Error(i(461)),Tl=!1;function Rl(e,t,s,n){t.child=null===e?pa(t,null,s,n):ma(t,e.child,s,n)}function Pl(e,t,s,n,r){s=s.render;var a=t.ref;if("ref"in n){var i={};for(var l in n)"ref"!==l&&(i[l]=n[l])}else i=n;return Dr(t),n=ei(e,t,s,i,a,r),l=ri(),null===e||Tl?(ur&&l&&ir(t),t.flags|=1,Rl(e,t,n,r),t.child):(ai(e,t,r),no(e,t,r))}function Ol(e,t,s,n,r){if(null===e){var a=s.type;return"function"!==typeof a||Fn(a)||void 0!==a.defaultProps||null!==s.compare?((e=Vn(s.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ll(e,t,a,n,r))}if(a=e.child,!ro(e,r)){var i=a.memoizedProps;if((s=null!==(s=s.compare)?s:Zs)(i,n)&&e.ref===t.ref)return no(e,t,r)}return t.flags|=1,(e=Un(a,n)).ref=t.ref,e.return=t,t.child=e}function Ll(e,t,s,n,r){if(null!==e){var a=e.memoizedProps;if(Zs(a,n)&&e.ref===t.ref){if(Tl=!1,t.pendingProps=n=a,!ro(e,r))return t.lanes=e.lanes,no(e,t,r);0!==(131072&e.flags)&&(Tl=!0)}}return Hl(e,t,s,n,r)}function Il(e,t,s,n){var r=n.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===n.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|s:s,null!==e){for(n=t.child=e.child,r=0;null!==n;)r=r|n.lanes|n.childLanes,n=n.sibling;n=r&~a}else n=0,t.child=null;return Fl(e,t,a,s,n)}if(0===(536870912&s))return n=t.lanes=536870912,Fl(e,t,null!==a?a.baseLanes|s:s,s,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gr(0,null!==a?a.cachePool:null),null!==a?Aa(t,a):Ma(),La(t)}else null!==a?(Gr(0,a.cachePool),Aa(t,a),Ia(),t.memoizedState=null):(null!==e&&Gr(0,null),Ma(),Ia());return Rl(e,t,r,s),t.child}function zl(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fl(e,t,s,n,r){var a=Kr();return a=null===a?null:{parent:zr._currentValue,pool:a},t.memoizedState={baseLanes:s,cachePool:a},null!==e&&Gr(0,null),Ma(),La(t),null!==e&&Ar(e,t,n,!0),t.childLanes=r,null}function Ul(e,t){return(t=Zl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bl(e,t,s){return ma(t,e.child,null,s),(e=Ul(t,t.pendingProps)).flags|=2,za(t),t.memoizedState=null,e}function Vl(e,t){var s=t.ref;if(null===s)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof s&&"object"!==typeof s)throw Error(i(284));null!==e&&e.ref===s||(t.flags|=4194816)}}function Hl(e,t,s,n,r){return Dr(t),s=ei(e,t,s,n,void 0,r),n=ri(),null===e||Tl?(ur&&n&&ir(t),t.flags|=1,Rl(e,t,s,r),t.child):(ai(e,t,r),no(e,t,r))}function Wl(e,t,s,n,r,a){return Dr(t),t.updateQueue=null,s=si(t,n,s,r),ti(e),n=ri(),null===e||Tl?(ur&&n&&ir(t),t.flags|=1,Rl(e,t,s,a),t.child):(ai(e,t,a),no(e,t,a))}function ql(e,t,s,n,r){if(Dr(t),null===t.stateNode){var a=Ln,i=s.contextType;"object"===typeof i&&null!==i&&(a=Tr(i)),a=new s(n,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=vl,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=n,a.state=t.memoizedState,a.refs={},xa(t),i=s.contextType,a.context="object"===typeof i&&null!==i?Tr(i):Ln,a.state=t.memoizedState,"function"===typeof(i=s.getDerivedStateFromProps)&&(bl(t,s,i,n),a.state=t.memoizedState),"function"===typeof s.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&vl.enqueueReplaceState(a,a.state,null),ka(t,n,a,r),Na(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){a=t.stateNode;var l=t.memoizedProps,o=jl(s,l);a.props=o;var c=a.context,d=s.contextType;i=Ln,"object"===typeof d&&null!==d&&(i=Tr(d));var u=s.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate,l=t.pendingProps!==l,d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l||c!==i)&&wl(t,a,n,i),fa=!1;var h=t.memoizedState;a.state=h,ka(t,n,a,r),Na(),c=t.memoizedState,l||h!==c||fa?("function"===typeof u&&(bl(t,s,u,n),c=t.memoizedState),(o=fa||yl(t,s,o,n,h,c,i))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=i,n=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,ga(e,t),d=jl(s,i=t.memoizedProps),a.props=d,u=t.pendingProps,h=a.context,c=s.contextType,o=Ln,"object"===typeof c&&null!==c&&(o=Tr(c)),(c="function"===typeof(l=s.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==u||h!==o)&&wl(t,a,n,o),fa=!1,h=t.memoizedState,a.state=h,ka(t,n,a,r),Na();var m=t.memoizedState;i!==u||h!==m||fa||null!==e&&null!==e.dependencies&&Mr(e.dependencies)?("function"===typeof l&&(bl(t,s,l,n),m=t.memoizedState),(d=fa||yl(t,s,d,n,h,m,o)||null!==e&&null!==e.dependencies&&Mr(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,m,o),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,m,o)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),a.props=n,a.state=m,a.context=o,n=d):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return a=n,Vl(e,t),n=0!==(128&t.flags),a||n?(a=t.stateNode,s=n&&"function"!==typeof s.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&n?(t.child=ma(t,e.child,null,r),t.child=ma(t,null,s,r)):Rl(e,t,s,r),t.memoizedState=a.state,e=t.child):e=no(e,t,r),e}function Yl(e,t,s,n){return vr(),t.flags|=256,Rl(e,t,s,n),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kl(e){return{baseLanes:e,cachePool:Xr()}}function Gl(e,t,s){return e=null!==e?e.childLanes&~s:0,t&&(e|=Cc),e}function Xl(e,t,s){var n,r=t.pendingProps,a=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&Fa.current)),n&&(a=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ur){if(a?Pa(t):Ia(),(e=dr)?null!==(e=null!==(e=Mu(e,mr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:sr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},(s=qn(e)).return=t,t.child=s,cr=t,dr=null):e=null,null===e)throw fr(t);return Tu(e)?t.lanes=32:t.lanes=536870912,null}var o=r.children;return r=r.fallback,a?(Ia(),o=Zl({mode:"hidden",children:o},a=t.mode),r=Hn(r,a,s,null),o.return=t,r.return=t,o.sibling=r,t.child=o,(r=t.child).memoizedState=Kl(s),r.childLanes=Gl(e,n,s),t.memoizedState=Jl,zl(null,r)):(Pa(t),Ql(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(l)256&t.flags?(Pa(t),t.flags&=-257,t=$l(e,t,s)):null!==t.memoizedState?(Ia(),t.child=e.child,t.flags|=128,t=null):(Ia(),o=r.fallback,a=t.mode,r=Zl({mode:"visible",children:r.children},a),(o=Hn(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,ma(t,e.child,null,s),(r=t.child).memoizedState=Kl(s),r.childLanes=Gl(e,n,s),t.memoizedState=Jl,t=zl(null,r));else if(Pa(t),Tu(o)){if(n=o.nextSibling&&o.nextSibling.dataset)var d=n.dgst;n=d,(r=Error(i(419))).stack="",r.digest=n,wr({value:r,source:null,stack:null}),t=$l(e,t,s)}else if(Tl||Ar(e,t,s,!1),n=0!==(s&e.childLanes),Tl||n){if(null!==(n=pc)&&(0!==(r=Oe(n,s))&&r!==c.retryLane))throw c.retryLane=r,Rn(e,r),Kc(n,e,r),Dl;Du(o)||id(),t=$l(e,t,s)}else Du(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,dr=Ru(o.nextSibling),cr=t,ur=!0,hr=null,mr=!1,null!==e&&or(t,e),(t=Ql(t,r.children)).flags|=4096);return t}return a?(Ia(),o=r.fallback,a=t.mode,d=(c=e.child).sibling,(r=Un(c,{mode:"hidden",children:r.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?o=Un(d,o):(o=Hn(o,a,s,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,zl(null,r),r=t.child,null===(o=e.child.memoizedState)?o=Kl(s):(null!==(a=o.cachePool)?(c=zr._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Xr(),o={baseLanes:o.baseLanes|s,cachePool:a}),r.memoizedState=o,r.childLanes=Gl(e,n,s),t.memoizedState=Jl,zl(e.child,r)):(Pa(t),e=(s=e.child).sibling,(s=Un(s,{mode:"visible",children:r.children})).return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s)}function Ql(e,t){return(t=Zl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zl(e,t){return(e=zn(22,e,null,t)).lanes=0,e}function $l(e,t,s){return ma(t,e.child,null,s),(e=Ql(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,s){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Cr(e.return,t,s)}function to(e,t,s,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:r,treeForkCount:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=r,i.treeForkCount=a)}function so(e,t,s){var n=t.pendingProps,r=n.revealOrder,a=n.tail;n=n.children;var i=Fa.current,l=0!==(2&i);if(l?(i=1&i|2,t.flags|=128):i&=1,B(Fa,i),Rl(e,t,n,s),n=ur?Zn:0,!l&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,s,t);else if(19===e.tag)eo(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(s=t.child,r=null;null!==s;)null!==(e=s.alternate)&&null===Ua(e)&&(r=s),s=s.sibling;null===(s=r)?(r=t.child,t.child=null):(r=s.sibling,s.sibling=null),to(t,!1,r,s,a,n);break;case"backwards":case"unstable_legacy-backwards":for(s=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Ua(e)){t.child=r;break}e=r.sibling,r.sibling=s,s=r,r=e}to(t,!0,s,null,a,n);break;case"together":to(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function no(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(s&t.childLanes)){if(null===e)return null;if(Ar(e,t,s,!1),0===(s&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(s=Un(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Un(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function ro(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Mr(e))}function ao(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps)Tl=!0;else{if(!ro(e,s)&&0===(128&t.flags))return Tl=!1,function(e,t,s){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Sr(0,zr,e.memoizedState.cache),vr();break;case 27:case 5:X(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Sr(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Oa(t),null;break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Pa(t),t.flags|=128,null):0!==(s&t.child.childLanes)?Xl(e,t,s):(Pa(t),null!==(e=no(e,t,s))?e.sibling:null);Pa(t);break;case 19:var r=0!==(128&e.flags);if((n=0!==(s&t.childLanes))||(Ar(e,t,s,!1),n=0!==(s&t.childLanes)),r){if(n)return so(e,t,s);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),B(Fa,Fa.current),n)break;return null;case 22:return t.lanes=0,Il(e,t,s,t.pendingProps);case 24:Sr(0,zr,e.memoizedState.cache)}return no(e,t,s)}(e,t,s);Tl=0!==(131072&e.flags)}else Tl=!1,ur&&0!==(1048576&t.flags)&&ar(t,Zn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=na(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var r=e.$$typeof;if(r===j){t.tag=11,t=Pl(null,t,e,n,s);break e}if(r===S){t.tag=14,t=Ol(null,t,e,n,s);break e}}throw t=T(e)||e,Error(i(306,t,""))}Fn(e)?(n=jl(e,n),t.tag=1,t=ql(null,t,e,n,s)):(t.tag=0,t=Hl(null,t,e,n,s))}return t;case 0:return Hl(e,t,t.type,t.pendingProps,s);case 1:return ql(e,t,n=t.type,r=jl(n,t.pendingProps),s);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(i(387));n=t.pendingProps;var a=t.memoizedState;r=a.element,ga(e,t),ka(t,n,null,s);var l=t.memoizedState;if(n=l.cache,Sr(0,zr,n),n!==a.cache&&_r(t,[zr],s,!0),Na(),n=l.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Yl(e,t,n,s);break e}if(n!==r){wr(r=Kn(Error(i(424)),t)),t=Yl(e,t,n,s);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(dr=Ru(e.firstChild),cr=t,ur=!0,hr=null,mr=!0,s=pa(t,null,n,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(vr(),n===r){t=no(e,t,s);break e}Rl(e,t,n,s)}t=t.child}return t;case 26:return Vl(e,t),null===e?(s=qu(t.type,null,t.pendingProps,null))?t.memoizedState=s:ur||(s=t.type,e=t.pendingProps,(n=xu(Y.current).createElement(s))[Be]=t,n[Ve]=e,hu(n,s,e),et(n),t.stateNode=n):t.memoizedState=qu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&ur&&(n=t.stateNode=Iu(t.type,t.pendingProps,Y.current),cr=t,mr=!0,r=dr,Eu(t.type)?(Pu=r,dr=Ru(n.firstChild)):dr=r),Rl(e,t,t.pendingProps.children,s),Vl(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ur&&((r=n=dr)&&(null!==(n=function(e,t,s,n){for(;1===e.nodeType;){var r=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===a)return e}if(null===(e=Ru(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,mr))?(t.stateNode=n,cr=t,dr=Ru(n.firstChild),mr=!1,r=!0):r=!1),r||fr(t)),X(t),r=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,n=a.children,vu(r,a)?n=null:null!==l&&vu(r,l)&&(t.flags|=32),null!==t.memoizedState&&(r=ei(e,t,ni,null,null,s),dh._currentValue=r),Vl(e,t),Rl(e,t,n,s),t.child;case 6:return null===e&&ur&&((e=s=dr)&&(null!==(s=function(e,t,s){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!s)return null;if(null===(e=Ru(e.nextSibling)))return null}return e}(s,t.pendingProps,mr))?(t.stateNode=s,cr=t,dr=null,e=!0):e=!1),e||fr(t)),null;case 13:return Xl(e,t,s);case 4:return K(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ma(t,null,n,s):Rl(e,t,n,s),t.child;case 11:return Pl(e,t,t.type,t.pendingProps,s);case 7:return Rl(e,t,t.pendingProps,s),t.child;case 8:case 12:return Rl(e,t,t.pendingProps.children,s),t.child;case 10:return n=t.pendingProps,Sr(0,t.type,n.value),Rl(e,t,n.children,s),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,Dr(t),n=n(r=Tr(r)),t.flags|=1,Rl(e,t,n,s),t.child;case 14:return Ol(e,t,t.type,t.pendingProps,s);case 15:return Ll(e,t,t.type,t.pendingProps,s);case 19:return so(e,t,s);case 31:return function(e,t,s){var n=t.pendingProps,r=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ur){if("hidden"===n.mode)return e=Ul(t,n),t.lanes=536870912,zl(null,e);if(Oa(t),(e=dr)?null!==(e=null!==(e=Mu(e,mr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==tr?{id:sr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},(s=qn(e)).return=t,t.child=s,cr=t,dr=null):e=null,null===e)throw fr(t);return t.lanes=536870912,null}return Ul(t,n)}var a=e.memoizedState;if(null!==a){var l=a.dehydrated;if(Oa(t),r)if(256&t.flags)t.flags&=-257,t=Bl(e,t,s);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Tl||Ar(e,t,s,!1),r=0!==(s&e.childLanes),Tl||r){if(null!==(n=pc)&&0!==(l=Oe(n,s))&&l!==a.retryLane)throw a.retryLane=l,Rn(e,l),Kc(n,e,l),Dl;id(),t=Bl(e,t,s)}else e=a.treeContext,dr=Ru(l.nextSibling),cr=t,ur=!0,hr=null,mr=!1,null!==e&&or(t,e),(t=Ul(t,n)).flags|=4096;return t}return(e=Un(e.child,{mode:n.mode,children:n.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,s);case 22:return Il(e,t,s,t.pendingProps);case 24:return Dr(t),n=Tr(zr),null===e?(null===(r=Kr())&&(r=pc,a=Fr(),r.pooledCache=a,a.refCount++,null!==a&&(r.pooledCacheLanes|=s),r=a),t.memoizedState={parent:n,cache:r},xa(t),Sr(0,zr,r)):(0!==(e.lanes&s)&&(ga(e,t),ka(t,null,null,s),Na()),r=e.memoizedState,a=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),Sr(0,zr,n)):(n=a.cache,Sr(0,zr,n),n!==r.cache&&_r(t,[zr],s,!0))),Rl(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function io(e){e.flags|=4}function lo(e,t,s,n,r){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!nd())throw ra=ea,Zr;e.flags|=8192}}else e.flags&=-16777217}function oo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!rh(t)){if(!nd())throw ra=ea,Zr;e.flags|=8192}}function co(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Me():536870912,e.lanes|=t,_c|=t)}function uo(e,t){if(!ur)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;null!==s;)null!==s.alternate&&(n=s),s=s.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,n=0;if(t)for(var r=e.child;null!==r;)s|=r.lanes|r.childLanes,n|=65011712&r.subtreeFlags,n|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)s|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function mo(e,t,s){var n=t.pendingProps;switch(lr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ho(t),null;case 3:return s=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Er(zr),G(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(br(t)?io(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,yr())),ho(t),null;case 26:var r=t.type,a=t.memoizedState;return null===e?(io(t),null!==a?(ho(t),oo(t,a)):(ho(t),lo(t,r,0,0,s))):a?a!==e.memoizedState?(io(t),ho(t),oo(t,a)):(ho(t),t.flags&=-16777217):((e=e.memoizedProps)!==n&&io(t),ho(t),lo(t,r,0,0,s)),null;case 27:if(Q(t),s=Y.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&io(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return ho(t),null}e=W.current,br(t)?xr(t):(e=Iu(r,n,s),t.stateNode=e,io(t))}return ho(t),null;case 5:if(Q(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&io(t);else{if(!n){if(null===t.stateNode)throw Error(i(166));return ho(t),null}if(a=W.current,br(t))xr(t);else{var l=xu(Y.current);switch(a){case 1:a=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(a=l.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof n.is?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?a.multiple=!0:n.size&&(a.size=n.size);break;default:a="string"===typeof n.is?l.createElement(r,{is:n.is}):l.createElement(r)}}a[Be]=t,a[Ve]=n;e:for(l=t.child;null!==l;){if(5===l.tag||6===l.tag)a.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;null===l.sibling;){if(null===l.return||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=a;e:switch(hu(a,r,n),r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&io(t)}}return ho(t),lo(t,t.type,null===e||e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&io(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(i(166));if(e=Y.current,br(t)){if(e=t.stateNode,s=t.memoizedProps,n=null,null!==(r=cr))switch(r.tag){case 27:case 5:n=r.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===s||null!==n&&!0===n.suppressHydrationWarning||cu(e.nodeValue,s)))||fr(t,!0)}else(e=xu(e).createTextNode(n))[Be]=t,t.stateNode=e}return ho(t),null;case 31:if(s=t.memoizedState,null===e||null!==e.memoizedState){if(n=br(t),null!==s){if(null===e){if(!n)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Be]=t}else vr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ho(t),e=!1}else s=yr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return 256&t.flags?(za(t),t):(za(t),null);if(0!==(128&t.flags))throw Error(i(558))}return ho(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=br(t),null!==n&&null!==n.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));r[Be]=t}else vr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ho(t),r=!1}else r=yr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(za(t),t):(za(t),null)}return za(t),0!==(128&t.flags)?(t.lanes=s,t):(s=null!==n,e=null!==e&&null!==e.memoizedState,s&&(r=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(r=n.alternate.memoizedState.cachePool.pool),a=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(a=n.memoizedState.cachePool.pool),a!==r&&(n.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),co(t,t.updateQueue),ho(t),null);case 4:return G(),null===e&&$d(t.stateNode.containerInfo),ho(t),null;case 10:return Er(t.type),ho(t),null;case 19:if(U(Fa),null===(n=t.memoizedState))return ho(t),null;if(r=0!==(128&t.flags),null===(a=n.rendering))if(r)uo(n,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Ua(e))){for(t.flags|=128,uo(n,!1),e=a.updateQueue,t.updateQueue=e,co(t,e),t.subtreeFlags=0,e=s,s=t.child;null!==s;)Bn(s,e),s=s.sibling;return B(Fa,1&Fa.current|2),ur&&rr(t,n.treeForkCount),t.child}e=e.sibling}null!==n.tail&&oe()>Pc&&(t.flags|=128,r=!0,uo(n,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Ua(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,co(t,e),uo(n,!0),null===n.tail&&"hidden"===n.tailMode&&!a.alternate&&!ur)return ho(t),null}else 2*oe()-n.renderingStartTime>Pc&&536870912!==s&&(t.flags|=128,r=!0,uo(n,!1),t.lanes=4194304);n.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=n.last)?e.sibling=a:t.child=a,n.last=a)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=oe(),e.sibling=null,s=Fa.current,B(Fa,r?1&s|2:1&s),ur&&rr(t,n.treeForkCount),e):(ho(t),null);case 22:case 23:return za(t),Da(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&s)&&0===(128&t.flags)&&(ho(t),6&t.subtreeFlags&&(t.flags|=8192)):ho(t),null!==(s=t.updateQueue)&&co(t,s.retryQueue),s=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==s&&(t.flags|=2048),null!==e&&U(Jr),null;case 24:return s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Er(zr),ho(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function po(e,t){switch(lr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Er(zr),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(za(t),null===t.alternate)throw Error(i(340));vr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(za(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));vr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Fa),null;case 4:return G(),null;case 10:return Er(t.type),null;case 22:case 23:return za(t),Da(),null!==e&&U(Jr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Er(zr),null;default:return null}}function fo(e,t){switch(lr(t),t.tag){case 3:Er(zr),G();break;case 26:case 27:case 5:Q(t);break;case 4:G();break;case 31:null!==t.memoizedState&&za(t);break;case 13:za(t);break;case 19:U(Fa);break;case 10:Er(t.type);break;case 22:case 23:za(t),Da(),null!==e&&U(Jr);break;case 24:Er(zr)}}function xo(e,t){try{var s=t.updateQueue,n=null!==s?s.lastEffect:null;if(null!==n){var r=n.next;s=r;do{if((s.tag&e)===e){n=void 0;var a=s.create,i=s.inst;n=a(),i.destroy=n}s=s.next}while(s!==r)}}catch(l){Nd(t,t.return,l)}}function go(e,t,s){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){var i=n.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,r=t;var o=s,c=l;try{c()}catch(d){Nd(r,o,d)}}}n=n.next}while(n!==a)}}catch(d){Nd(t,t.return,d)}}function bo(e){var t=e.updateQueue;if(null!==t){var s=e.stateNode;try{Ea(t,s)}catch(n){Nd(e,e.return,n)}}}function vo(e,t,s){s.props=jl(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(n){Nd(e,t,n)}}function yo(e,t){try{var s=e.ref;if(null!==s){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof s?e.refCleanup=s(n):s.current=n}}catch(r){Nd(e,t,r)}}function wo(e,t){var s=e.ref,n=e.refCleanup;if(null!==s)if("function"===typeof n)try{n()}catch(r){Nd(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof s)try{s(null)}catch(a){Nd(e,t,a)}else s.current=null}function jo(e){var t=e.type,s=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break e;case"img":s.src?n.src=s.src:s.srcSet&&(n.srcset=s.srcSet)}}catch(r){Nd(e,e.return,r)}}function No(e,t,s){try{var n=e.stateNode;!function(e,t,s,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,l=null,o=null,c=null,d=null,u=null;for(p in s){var h=s[p];if(s.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(p)||du(e,t,p,null,n,h)}}for(var m in n){var p=n[m];if(h=s[m],n.hasOwnProperty(m)&&(null!=p||null!=h))switch(m){case"type":a=p;break;case"name":r=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":l=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==h&&du(e,t,m,p,n,h)}}return void bt(e,l,o,c,d,u,a,r);case"select":for(a in p=l=o=m=null,s)if(c=s[a],s.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(a)||du(e,t,a,null,n,c)}for(r in n)if(a=n[r],c=s[r],n.hasOwnProperty(r)&&(null!=a||null!=c))switch(r){case"value":m=a;break;case"defaultValue":o=a;break;case"multiple":l=a;default:a!==c&&du(e,t,r,a,n,c)}return t=o,s=l,n=p,void(null!=m?wt(e,!!s,m,!1):!!n!==!!s&&(null!=t?wt(e,!!s,t,!0):wt(e,!!s,s?[]:"",!1)));case"textarea":for(o in p=m=null,s)if(r=s[o],s.hasOwnProperty(o)&&null!=r&&!n.hasOwnProperty(o))switch(o){case"value":case"children":break;default:du(e,t,o,null,n,r)}for(l in n)if(r=n[l],a=s[l],n.hasOwnProperty(l)&&(null!=r||null!=a))switch(l){case"value":m=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(i(91));break;default:r!==a&&du(e,t,l,r,n,a)}return void jt(e,m,p);case"option":for(var f in s)if(m=s[f],s.hasOwnProperty(f)&&null!=m&&!n.hasOwnProperty(f))if("selected"===f)e.selected=!1;else du(e,t,f,null,n,m);for(c in n)if(m=n[c],p=s[c],n.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else du(e,t,c,m,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in s)m=s[x],s.hasOwnProperty(x)&&null!=m&&!n.hasOwnProperty(x)&&du(e,t,x,null,n,m);for(d in n)if(m=n[d],p=s[d],n.hasOwnProperty(d)&&m!==p&&(null!=m||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:du(e,t,d,m,n,p)}return;default:if(_t(t)){for(var g in s)m=s[g],s.hasOwnProperty(g)&&void 0!==m&&!n.hasOwnProperty(g)&&uu(e,t,g,void 0,n,m);for(u in n)m=n[u],p=s[u],!n.hasOwnProperty(u)||m===p||void 0===m&&void 0===p||uu(e,t,u,m,n,p);return}}for(var b in s)m=s[b],s.hasOwnProperty(b)&&null!=m&&!n.hasOwnProperty(b)&&du(e,t,b,null,n,m);for(h in n)m=n[h],p=s[h],!n.hasOwnProperty(h)||m===p||null==m&&null==p||du(e,t,h,m,n,p)}(n,e.type,s,t),n[Ve]=t}catch(r){Nd(e,e.return,r)}}function ko(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Eu(e.type)||4===e.tag}function So(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ko(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Eu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Eo(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===s.nodeType?s.body:"HTML"===s.nodeName?s.ownerDocument.body:s).insertBefore(e,t):((t=9===s.nodeType?s.body:"HTML"===s.nodeName?s.ownerDocument.body:s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Tt));else if(4!==n&&(27===n&&Eu(e.type)&&(s=e.stateNode,t=null),null!==(e=e.child)))for(Eo(e,t,s),e=e.sibling;null!==e;)Eo(e,t,s),e=e.sibling}function Co(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==n&&(27===n&&Eu(e.type)&&(s=e.stateNode),null!==(e=e.child)))for(Co(e,t,s),e=e.sibling;null!==e;)Co(e,t,s),e=e.sibling}function _o(e){var t=e.stateNode,s=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hu(t,n,s),t[Be]=e,t[Ve]=s}catch(a){Nd(e,e.return,a)}}var Ao=!1,Mo=!1,Do=!1,To="function"===typeof WeakSet?WeakSet:Set,Ro=null;function Po(e,t,s){var n=s.flags;switch(s.tag){case 0:case 11:case 15:Ko(e,s),4&n&&xo(5,s);break;case 1:if(Ko(e,s),4&n)if(e=s.stateNode,null===t)try{e.componentDidMount()}catch(i){Nd(s,s.return,i)}else{var r=jl(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){Nd(s,s.return,l)}}64&n&&bo(s),512&n&&yo(s,s.return);break;case 3:if(Ko(e,s),64&n&&null!==(e=s.updateQueue)){if(t=null,null!==s.child)switch(s.child.tag){case 27:case 5:case 1:t=s.child.stateNode}try{Ea(e,t)}catch(i){Nd(s,s.return,i)}}break;case 27:null===t&&4&n&&_o(s);case 26:case 5:Ko(e,s),null===t&&4&n&&jo(s),512&n&&yo(s,s.return);break;case 12:Ko(e,s);break;case 31:Ko(e,s),4&n&&Uo(e,s);break;case 13:Ko(e,s),4&n&&Bo(e,s),64&n&&(null!==(e=s.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var s=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==s.readyState)t();else{var n=function(){t(),s.removeEventListener("DOMContentLoaded",n)};s.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,s=Cd.bind(null,s))));break;case 22:if(!(n=null!==s.memoizedState||Ao)){t=null!==t&&null!==t.memoizedState||Mo,r=Ao;var a=Mo;Ao=n,(Mo=t)&&!a?Xo(e,s,0!==(8772&s.subtreeFlags)):Ko(e,s),Ao=r,Mo=a}break;case 30:break;default:Ko(e,s)}}function Oo(e){var t=e.alternate;null!==t&&(e.alternate=null,Oo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Lo=null,Io=!1;function zo(e,t,s){for(s=s.child;null!==s;)Fo(e,t,s),s=s.sibling}function Fo(e,t,s){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ge,s)}catch(a){}switch(s.tag){case 26:Mo||wo(s,t),zo(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode).parentNode.removeChild(s);break;case 27:Mo||wo(s,t);var n=Lo,r=Io;Eu(s.type)&&(Lo=s.stateNode,Io=!1),zo(e,t,s),zu(s.stateNode),Lo=n,Io=r;break;case 5:Mo||wo(s,t);case 6:if(n=Lo,r=Io,Lo=null,zo(e,t,s),Io=r,null!==(Lo=n))if(Io)try{(9===Lo.nodeType?Lo.body:"HTML"===Lo.nodeName?Lo.ownerDocument.body:Lo).removeChild(s.stateNode)}catch(i){Nd(s,t,i)}else try{Lo.removeChild(s.stateNode)}catch(i){Nd(s,t,i)}break;case 18:null!==Lo&&(Io?(Cu(9===(e=Lo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,s.stateNode),Wh(e)):Cu(Lo,s.stateNode));break;case 4:n=Lo,r=Io,Lo=s.stateNode.containerInfo,Io=!0,zo(e,t,s),Lo=n,Io=r;break;case 0:case 11:case 14:case 15:go(2,s,t),Mo||go(4,s,t),zo(e,t,s);break;case 1:Mo||(wo(s,t),"function"===typeof(n=s.stateNode).componentWillUnmount&&vo(s,t,n)),zo(e,t,s);break;case 21:zo(e,t,s);break;case 22:Mo=(n=Mo)||null!==s.memoizedState,zo(e,t,s),Mo=n;break;default:zo(e,t,s)}}function Uo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(s){Nd(t,t.return,s)}}}function Bo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(s){Nd(t,t.return,s)}}function Vo(e,t){var s=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new To),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new To),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!s.has(t)){s.add(t);var n=_d.bind(null,e,t);t.then(n,n)}})}function Ho(e,t){var s=t.deletions;if(null!==s)for(var n=0;n<s.length;n++){var r=s[n],a=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 27:if(Eu(o.type)){Lo=o.stateNode,Io=!1;break e}break;case 5:Lo=o.stateNode,Io=!1;break e;case 3:case 4:Lo=o.stateNode.containerInfo,Io=!0;break e}o=o.return}if(null===Lo)throw Error(i(160));Fo(a,l,r),Lo=null,Io=!1,null!==(a=r.alternate)&&(a.return=null),r.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)qo(t,e),t=t.sibling}var Wo=null;function qo(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ho(t,e),Yo(e),4&n&&(go(3,e,e.return),xo(3,e),go(5,e,e.return));break;case 1:Ho(t,e),Yo(e),512&n&&(Mo||null===s||wo(s,s.return)),64&n&&Ao&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===s?n:s.concat(n))));break;case 26:var r=Wo;if(Ho(t,e),Yo(e),512&n&&(Mo||null===s||wo(s,s.return)),4&n){var a=null!==s?s.memoizedState:null;if(n=e.memoizedState,null===s)if(null===n)if(null===e.stateNode){e:{n=e.type,s=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":(!(a=r.getElementsByTagName("title")[0])||a[Ke]||a[Be]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=r.createElement(n),r.head.insertBefore(a,r.querySelector("head > title"))),hu(a,n,s),a[Be]=e,et(a),n=a;break e;case"link":var l=sh("link","href",r).get(n+(s.href||""));if(l)for(var o=0;o<l.length;o++)if((a=l[o]).getAttribute("href")===(null==s.href||""===s.href?null:s.href)&&a.getAttribute("rel")===(null==s.rel?null:s.rel)&&a.getAttribute("title")===(null==s.title?null:s.title)&&a.getAttribute("crossorigin")===(null==s.crossOrigin?null:s.crossOrigin)){l.splice(o,1);break t}hu(a=r.createElement(n),n,s),r.head.appendChild(a);break;case"meta":if(l=sh("meta","content",r).get(n+(s.content||"")))for(o=0;o<l.length;o++)if((a=l[o]).getAttribute("content")===(null==s.content?null:""+s.content)&&a.getAttribute("name")===(null==s.name?null:s.name)&&a.getAttribute("property")===(null==s.property?null:s.property)&&a.getAttribute("http-equiv")===(null==s.httpEquiv?null:s.httpEquiv)&&a.getAttribute("charset")===(null==s.charSet?null:s.charSet)){l.splice(o,1);break t}hu(a=r.createElement(n),n,s),r.head.appendChild(a);break;default:throw Error(i(468,n))}a[Be]=e,et(a),n=a}e.stateNode=n}else nh(r,e.type,e.stateNode);else e.stateNode=Qu(r,n,e.memoizedProps);else a!==n?(null===a?null!==s.stateNode&&(s=s.stateNode).parentNode.removeChild(s):a.count--,null===n?nh(r,e.type,e.stateNode):Qu(r,n,e.memoizedProps)):null===n&&null!==e.stateNode&&No(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ho(t,e),Yo(e),512&n&&(Mo||null===s||wo(s,s.return)),null!==s&&4&n&&No(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ho(t,e),Yo(e),512&n&&(Mo||null===s||wo(s,s.return)),32&e.flags){r=e.stateNode;try{kt(r,"")}catch(f){Nd(e,e.return,f)}}4&n&&null!=e.stateNode&&No(e,r=e.memoizedProps,null!==s?s.memoizedProps:r),1024&n&&(Do=!0);break;case 6:if(Ho(t,e),Yo(e),4&n){if(null===e.stateNode)throw Error(i(162));n=e.memoizedProps,s=e.stateNode;try{s.nodeValue=n}catch(f){Nd(e,e.return,f)}}break;case 3:if(th=null,r=Wo,Wo=Bu(t.containerInfo),Ho(t,e),Wo=r,Yo(e),4&n&&null!==s&&s.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(f){Nd(e,e.return,f)}Do&&(Do=!1,Jo(e));break;case 4:n=Wo,Wo=Bu(e.stateNode.containerInfo),Ho(t,e),Yo(e),Wo=n;break;case 12:default:Ho(t,e),Yo(e);break;case 31:case 19:Ho(t,e),Yo(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Vo(e,n)));break;case 13:Ho(t,e),Yo(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==s&&null!==s.memoizedState)&&(Tc=oe()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Vo(e,n)));break;case 22:r=null!==e.memoizedState;var c=null!==s&&null!==s.memoizedState,d=Ao,u=Mo;if(Ao=d||r,Mo=u||c,Ho(t,e),Mo=u,Ao=d,Yo(e),8192&n)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===s||c||Ao||Mo||Go(e)),s=null,t=e;;){if(5===t.tag||26===t.tag){if(null===s){c=s=t;try{if(a=c.stateNode,r)"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var h=c.memoizedProps.style,m=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;o.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){Nd(c,c.return,f)}}}else if(6===t.tag){if(null===s){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){Nd(c,c.return,f)}}}else if(18===t.tag){if(null===s){c=t;try{var p=c.stateNode;r?_u(p,!0):_u(c.stateNode,!1)}catch(f){Nd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(s=n.retryQueue)&&(n.retryQueue=null,Vo(e,s))));case 30:case 21:}}function Yo(e){var t=e.flags;if(2&t){try{for(var s,n=e.return;null!==n;){if(ko(n)){s=n;break}n=n.return}if(null==s)throw Error(i(160));switch(s.tag){case 27:var r=s.stateNode;Co(e,So(e),r);break;case 5:var a=s.stateNode;32&s.flags&&(kt(a,""),s.flags&=-33),Co(e,So(e),a);break;case 3:case 4:var l=s.stateNode.containerInfo;Eo(e,So(e),l);break;default:throw Error(i(161))}}catch(o){Nd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Jo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Jo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ko(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Po(e,t.alternate,t),t=t.sibling}function Go(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:go(4,t,t.return),Go(t);break;case 1:wo(t,t.return);var s=t.stateNode;"function"===typeof s.componentWillUnmount&&vo(t,t.return,s),Go(t);break;case 27:zu(t.stateNode);case 26:case 5:wo(t,t.return),Go(t);break;case 22:null===t.memoizedState&&Go(t);break;default:Go(t)}e=e.sibling}}function Xo(e,t,s){for(s=s&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,r=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Xo(r,a,s),xo(4,a);break;case 1:if(Xo(r,a,s),"function"===typeof(r=(n=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){Nd(n,n.return,c)}if(null!==(r=(n=a).updateQueue)){var l=n.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Sa(o[r],l)}catch(c){Nd(n,n.return,c)}}s&&64&i&&bo(a),yo(a,a.return);break;case 27:_o(a);case 26:case 5:Xo(r,a,s),s&&null===n&&4&i&&jo(a),yo(a,a.return);break;case 12:Xo(r,a,s);break;case 31:Xo(r,a,s),s&&4&i&&Uo(r,a);break;case 13:Xo(r,a,s),s&&4&i&&Bo(r,a);break;case 22:null===a.memoizedState&&Xo(r,a,s),yo(a,a.return);break;case 30:break;default:Xo(r,a,s)}t=t.sibling}}function Qo(e,t){var s=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(s=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==s&&(null!=e&&e.refCount++,null!=s&&Ur(s))}function Zo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ur(e))}function $o(e,t,s,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,s,n),t=t.sibling}function ec(e,t,s,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:$o(e,t,s,n),2048&r&&xo(9,t);break;case 1:case 31:case 13:default:$o(e,t,s,n);break;case 3:$o(e,t,s,n),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ur(e)));break;case 12:if(2048&r){$o(e,t,s,n),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,l=a.onPostCommit;"function"===typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Nd(t,t.return,o)}}else $o(e,t,s,n);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?$o(e,t,s,n):sc(e,t):2&a._visibility?$o(e,t,s,n):(a._visibility|=2,tc(e,t,s,n,0!==(10256&t.subtreeFlags)||!1)),2048&r&&Qo(i,t);break;case 24:$o(e,t,s,n),2048&r&&Zo(t.alternate,t)}}function tc(e,t,s,n,r){for(r=r&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,i=t,l=s,o=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:tc(a,i,l,o,r),xo(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?tc(a,i,l,o,r):sc(a,i):(d._visibility|=2,tc(a,i,l,o,r)),r&&2048&c&&Qo(i.alternate,i);break;case 24:tc(a,i,l,o,r),r&&2048&c&&Zo(i.alternate,i);break;default:tc(a,i,l,o,r)}t=t.sibling}}function sc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var s=e,n=t,r=n.flags;switch(n.tag){case 22:sc(s,n),2048&r&&Qo(n.alternate,n);break;case 24:sc(s,n),2048&r&&Zo(n.alternate,n);break;default:sc(s,n)}t=t.sibling}}var nc=8192;function rc(e,t,s){if(e.subtreeFlags&nc)for(e=e.child;null!==e;)ac(e,t,s),e=e.sibling}function ac(e,t,s){switch(e.tag){case 26:rc(e,t,s),e.flags&nc&&null!==e.memoizedState&&function(e,t,s,n){if("stylesheet"===s.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&s.state.loading)){if(null===s.instance){var r=Yu(n.href),a=t.querySelector(Ju(r));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=ih.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=a,void et(a);a=t.ownerDocument||t,n=Ku(n),(r=Fu.get(r))&&$u(n,r),et(a=a.createElement("link"));var i=a;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),hu(a,"link",n),s.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&0===(3&s.state.loading)&&(e.count++,s=ih.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}(s,Wo,e.memoizedState,e.memoizedProps);break;case 5:default:rc(e,t,s);break;case 3:case 4:var n=Wo;Wo=Bu(e.stateNode.containerInfo),rc(e,t,s),Wo=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=nc,nc=16777216,rc(e,t,s),nc=n):rc(e,t,s))}}function ic(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var s=0;s<t.length;s++){var n=t[s];Ro=n,dc(n,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oc(e),e=e.sibling}function oc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&go(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):lc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var s=0;s<t.length;s++){var n=t[s];Ro=n,dc(n,e)}ic(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:go(8,t,t.return),cc(t);break;case 22:2&(s=t.stateNode)._visibility&&(s._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Ro;){var s=Ro;switch(s.tag){case 0:case 11:case 15:go(8,s,t);break;case 23:case 22:if(null!==s.memoizedState&&null!==s.memoizedState.cachePool){var n=s.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Ur(s.memoizedState.cache)}if(null!==(n=s.child))n.return=s,Ro=n;else e:for(s=e;null!==Ro;){var r=(n=Ro).sibling,a=n.return;if(Oo(n),n===s){Ro=null;break e}if(null!==r){r.return=a,Ro=r;break e}Ro=a}}}var uc={getCacheForType:function(e){var t=Tr(zr),s=t.data.get(e);return void 0===s&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return Tr(zr).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,mc=0,pc=null,fc=null,xc=0,gc=0,bc=null,vc=!1,yc=!1,wc=!1,jc=0,Nc=0,kc=0,Sc=0,Ec=0,Cc=0,_c=0,Ac=null,Mc=null,Dc=!1,Tc=0,Rc=0,Pc=1/0,Oc=null,Lc=null,Ic=0,zc=null,Fc=null,Uc=0,Bc=0,Vc=null,Hc=null,Wc=0,qc=null;function Yc(){return 0!==(2&mc)&&0!==xc?xc&-xc:null!==P.T?Vd():ze()}function Jc(){if(0===Cc)if(0===(536870912&xc)||ur){var e=ke;0===(3932160&(ke<<=1))&&(ke=262144),Cc=e}else Cc=536870912;return null!==(e=Ta.current)&&(e.flags|=32),Cc}function Kc(e,t,s){(e!==pc||2!==gc&&9!==gc)&&null===e.cancelPendingCommit||(td(e,0),Zc(e,xc,Cc,!1)),Te(e,s),0!==(2&mc)&&e===pc||(e===pc&&(0===(2&mc)&&(Sc|=s),4===Nc&&Zc(e,xc,Cc,!1)),Od(e))}function Gc(e,t,s){if(0!==(6&mc))throw Error(i(327));for(var n=!s&&0===(127&t)&&0===(t&e.expiredLanes)||_e(e,t),r=n?function(e,t){var s=mc;mc|=2;var n=rd(),r=ad();pc!==e||xc!==t?(Oc=null,Pc=oe()+500,td(e,t)):yc=_e(e,t);e:for(;;)try{if(0!==gc&&null!==fc){t=fc;var a=bc;t:switch(gc){case 1:gc=0,bc=null,hd(e,t,a,1);break;case 2:case 9:if(ta(a)){gc=0,bc=null,ud(t);break}t=function(){2!==gc&&9!==gc||pc!==e||(gc=7),Od(e)},a.then(t,t);break e;case 3:gc=7;break e;case 4:gc=5;break e;case 7:ta(a)?(gc=0,bc=null,ud(t)):(gc=0,bc=null,hd(e,t,a,7));break;case 5:var l=null;switch(fc.tag){case 26:l=fc.memoizedState;case 5:case 27:var o=fc;if(l?rh(l):o.stateNode.complete){gc=0,bc=null;var c=o.sibling;if(null!==c)fc=c;else{var d=o.return;null!==d?(fc=d,md(d)):fc=null}break t}}gc=0,bc=null,hd(e,t,a,5);break;case 6:gc=0,bc=null,hd(e,t,a,6);break;case 8:ed(),Nc=6;break e;default:throw Error(i(462))}}cd();break}catch(u){sd(e,u)}return kr=Nr=null,P.H=n,P.A=r,mc=s,null!==fc?0:(pc=null,xc=0,Mn(),Nc)}(e,t):ld(e,t,!0),a=n;;){if(0===r){yc&&!n&&Zc(e,t,0,!1);break}if(s=e.current.alternate,!a||Qc(s)){if(2===r){if(a=t,e.errorRecoveryDisabledLanes&a)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var o=e;r=Ac;var c=o.current.memoizedState.isDehydrated;if(c&&(td(o,l).flags|=256),2!==(l=ld(o,l,!1))){if(wc&&!c){o.errorRecoveryDisabledLanes|=a,Sc|=a,r=4;break e}a=Mc,Mc=r,null!==a&&(null===Mc?Mc=a:Mc.push.apply(Mc,a))}r=l}if(a=!1,2!==r)continue}}if(1===r){td(e,0),Zc(e,t,0,!0);break}e:{switch(n=e,a=r){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Zc(n,t,Cc,!vc);break e;case 2:Mc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(r=Tc+300-oe())){if(Zc(n,t,Cc,!vc),0!==Ce(n,0,!0))break e;Uc=t,n.timeoutHandle=wu(Xc.bind(null,n,s,Mc,Oc,Dc,t,Cc,Sc,_c,vc,a,"Throttled",-0,0),r)}else Xc(n,s,Mc,Oc,Dc,t,Cc,Sc,_c,vc,a,null,-0,0)}break}r=ld(e,t,!1),a=!1}Od(e)}function Xc(e,t,s,n,r,a,i,l,o,c,d,u,h,m){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){ac(t,a,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tt});var p=(62914560&a)===a?Tc-oe():(4194048&a)===a?Rc-oe():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&oh(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var n=setTimeout(function(){if(e.stylesheets&&oh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ah&&(ah=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,s=performance.getEntriesByType("resource"),n=0;n<s.length;n++){var r=s[n],a=r.transferSize,i=r.initiatorType,l=r.duration;if(a&&l&&mu(i)){for(i=0,l=r.responseEnd,n+=1;n<s.length;n++){var o=s[n],c=o.startTime;if(c>l)break;var d=o.transferSize,u=o.initiatorType;d&&mu(u)&&(i+=d*((o=o.responseEnd)<l?1:(l-c)/(o-c)))}if(--n,t+=8*(a+i)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&oh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ah?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(r)}}:null}(u,p)))return Uc=a,e.cancelPendingCommit=p(fd.bind(null,e,t,a,s,n,r,i,l,o,d,u,null,h,m)),void Zc(e,a,i,!c)}fd(e,t,a,s,n,r,i,l,o)}function Qc(e){for(var t=e;;){var s=t.tag;if((0===s||11===s||15===s)&&16384&t.flags&&(null!==(s=t.updateQueue)&&null!==(s=s.stores)))for(var n=0;n<s.length;n++){var r=s[n],a=r.getSnapshot;r=r.value;try{if(!Qs(a(),r))return!1}catch(i){return!1}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,s,n){t&=~Ec,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var a=31-ye(r),i=1<<a;n[a]=-1,r&=~i}0!==s&&Re(e,s,t)}function $c(){return 0!==(6&mc)||(Ld(0,!1),!1)}function ed(){if(null!==fc){if(0===gc)var e=fc.return;else kr=Nr=null,ii(e=fc),la=null,oa=0,e=fc;for(;null!==e;)fo(e.alternate,e),e=e.return;fc=null}}function td(e,t){var s=e.timeoutHandle;-1!==s&&(e.timeoutHandle=-1,ju(s)),null!==(s=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,s()),Uc=0,ed(),pc=e,fc=s=Un(e.current,null),xc=t,gc=0,bc=null,vc=!1,yc=_e(e,t),wc=!1,_c=Cc=Ec=Sc=kc=Nc=0,Mc=Ac=null,Dc=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var r=31-ye(n),a=1<<r;t|=e[r],n&=~a}return jc=t,Mn(),s}function sd(e,t){Va=null,P.H=pl,t===Qr||t===$r?(t=aa(),gc=3):t===Zr?(t=aa(),gc=4):gc=t===Dl?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===fc&&(Nc=1,El(e,Kn(t,e.current)))}function nd(){var e=Ta.current;return null===e||((4194048&xc)===xc?null===Ra:((62914560&xc)===xc||0!==(536870912&xc))&&e===Ra)}function rd(){var e=P.H;return P.H=pl,null===e?pl:e}function ad(){var e=P.A;return P.A=uc,e}function id(){Nc=4,vc||(4194048&xc)!==xc&&null!==Ta.current||(yc=!0),0===(134217727&kc)&&0===(134217727&Sc)||null===pc||Zc(pc,xc,Cc,!1)}function ld(e,t,s){var n=mc;mc|=2;var r=rd(),a=ad();pc===e&&xc===t||(Oc=null,td(e,t)),t=!1;var i=Nc;e:for(;;)try{if(0!==gc&&null!==fc){var l=fc,o=bc;switch(gc){case 8:ed(),i=6;break e;case 3:case 2:case 9:case 6:null===Ta.current&&(t=!0);var c=gc;if(gc=0,bc=null,hd(e,l,o,c),s&&yc){i=0;break e}break;default:c=gc,gc=0,bc=null,hd(e,l,o,c)}}od(),i=Nc;break}catch(d){sd(e,d)}return t&&e.shellSuspendCounter++,kr=Nr=null,mc=n,P.H=r,P.A=a,null===fc&&(pc=null,xc=0,Mn()),i}function od(){for(;null!==fc;)dd(fc)}function cd(){for(;null!==fc&&!ie();)dd(fc)}function dd(e){var t=ao(e.alternate,e,jc);e.memoizedProps=e.pendingProps,null===t?md(e):fc=t}function ud(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Wl(s,t,t.pendingProps,t.type,void 0,xc);break;case 11:t=Wl(s,t,t.pendingProps,t.type.render,t.ref,xc);break;case 5:ii(t);default:fo(s,t),t=ao(s,t=fc=Bn(t,jc),jc)}e.memoizedProps=e.pendingProps,null===t?md(e):fc=t}function hd(e,t,s,n){kr=Nr=null,ii(t),la=null,oa=0;var r=t.return;try{if(function(e,t,s,n,r){if(s.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=s.alternate)&&Ar(t,s,r,!0),null!==(s=Ta.current)){switch(s.tag){case 31:case 13:return null===Ra?id():null===s.alternate&&0===Nc&&(Nc=3),s.flags&=-257,s.flags|=65536,s.lanes=r,n===ea?s.flags|=16384:(null===(t=s.updateQueue)?s.updateQueue=new Set([n]):t.add(n),kd(e,n,r)),!1;case 22:return s.flags|=65536,n===ea?s.flags|=16384:(null===(t=s.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},s.updateQueue=t):null===(s=t.retryQueue)?t.retryQueue=new Set([n]):s.add(n),kd(e,n,r)),!1}throw Error(i(435,s.tag))}return kd(e,n,r),id(),!1}if(ur)return null!==(t=Ta.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==pr&&wr(Kn(e=Error(i(422),{cause:n}),s))):(n!==pr&&wr(Kn(t=Error(i(423),{cause:n}),s)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,n=Kn(n,s),wa(e,r=_l(e.stateNode,n,r)),4!==Nc&&(Nc=2)),!1;var a=Error(i(520),{cause:n});if(a=Kn(a,s),null===Ac?Ac=[a]:Ac.push(a),4!==Nc&&(Nc=2),null===t)return!0;n=Kn(n,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=r&-r,s.lanes|=e,wa(s,e=_l(s.stateNode,n,e)),!1;case 1:if(t=s.type,a=s.stateNode,0===(128&s.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Lc||!Lc.has(a))))return s.flags|=65536,r&=-r,s.lanes|=r,Ml(r=Al(r),e,s,n),wa(s,r),!1}s=s.return}while(null!==s);return!1}(e,r,t,s,xc))return Nc=1,El(e,Kn(s,e.current)),void(fc=null)}catch(a){if(null!==r)throw fc=r,a;return Nc=1,El(e,Kn(s,e.current)),void(fc=null)}32768&t.flags?(ur||1===n?e=!0:yc||0!==(536870912&xc)?e=!1:(vc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=Ta.current)&&13===n.tag&&(n.flags|=16384))),pd(t,e)):md(t)}function md(e){var t=e;do{if(0!==(32768&t.flags))return void pd(t,vc);e=t.return;var s=mo(t.alternate,t,jc);if(null!==s)return void(fc=s);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===Nc&&(Nc=5)}function pd(e,t){do{var s=po(e.alternate,e);if(null!==s)return s.flags&=32767,void(fc=s);if(null!==(s=e.return)&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=s}while(null!==e);Nc=6,fc=null}function fd(e,t,s,n,r,a,l,o,c){e.cancelPendingCommit=null;do{yd()}while(0!==Ic);if(0!==(6&mc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,s,n,r,a){var i=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(s=i&~s;0<s;){var d=31-ye(s),u=1<<d;l[d]=0,o[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];null!==m&&(m.lane&=-536870913)}s&=~u}0!==n&&Re(e,n,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,s,a|=An,l,o,c),e===pc&&(fc=pc=null,xc=0),Fc=t,zc=e,Uc=s,Bc=a,Vc=r,Hc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,re(he,function(){return wd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=P.T,P.T=null,r=O.p,O.p=2,l=mc,mc|=4;try{!function(e,t){if(e=e.containerInfo,pu=vh,nn(e=sn(e))){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(n&&0!==n.rangeCount){s=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch(x){s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==s||0!==r&&3!==h.nodeType||(o=l+r),h!==a||0!==n&&3!==h.nodeType||(c=l+n),3===h.nodeType&&(l+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===s&&++d===r&&(o=l),m===a&&++u===n&&(c=l),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}s=-1===o||-1===c?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(fu={focusedElem:e,selectionRange:s},vh=!1,Ro=t;null!==Ro;)if(e=(t=Ro).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ro=e;else for(;null!==Ro;){switch(a=(t=Ro).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(s=0;s<e.length;s++)(r=e[s]).ref.impl=r.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,s=t,r=a.memoizedProps,a=a.memoizedState,n=s.stateNode;try{var f=jl(s.type,r);e=n.getSnapshotBeforeUpdate(f,a),n.__reactInternalSnapshotBeforeUpdate=e}catch(g){Nd(s,s.return,g)}}break;case 3:if(0!==(1024&e))if(9===(s=(e=t.stateNode.containerInfo).nodeType))Au(e);else if(1===s)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Au(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Ro=e;break}Ro=t.return}}(e,t)}finally{mc=l,O.p=r,P.T=n}}Ic=1,xd(),gd(),bd()}}function xd(){if(1===Ic){Ic=0;var e=zc,t=Fc,s=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||s){s=P.T,P.T=null;var n=O.p;O.p=2;var r=mc;mc|=4;try{qo(t,e);var a=fu,i=sn(e.containerInfo),l=a.focusedElem,o=a.selectionRange;if(i!==l&&l&&l.ownerDocument&&tn(l.ownerDocument.documentElement,l)){if(null!==o&&nn(l)){var c=o.start,d=o.end;if(void 0===d&&(d=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(d,l.value.length);else{var u=l.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=l.textContent.length,f=Math.min(o.start,p),x=void 0===o.end?f:Math.min(o.end,p);!m.extend&&f>x&&(i=x,x=f,f=i);var g=en(l,f),b=en(l,x);if(g&&b&&(1!==m.rangeCount||m.anchorNode!==g.node||m.anchorOffset!==g.offset||m.focusNode!==b.node||m.focusOffset!==b.offset)){var v=u.createRange();v.setStart(g.node,g.offset),m.removeAllRanges(),f>x?(m.addRange(v),m.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),m.addRange(v))}}}}for(u=[],m=l;m=m.parentNode;)1===m.nodeType&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof l.focus&&l.focus(),l=0;l<u.length;l++){var y=u[l];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}vh=!!pu,fu=pu=null}finally{mc=r,O.p=n,P.T=s}}e.current=t,Ic=2}}function gd(){if(2===Ic){Ic=0;var e=zc,t=Fc,s=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||s){s=P.T,P.T=null;var n=O.p;O.p=2;var r=mc;mc|=4;try{Po(e,t.alternate,t)}finally{mc=r,O.p=n,P.T=s}}Ic=3}}function bd(){if(4===Ic||3===Ic){Ic=0,le();var e=zc,t=Fc,s=Uc,n=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ic=5:(Ic=0,Fc=zc=null,vd(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Lc=null),Ie(s),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ge,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==n){t=P.T,r=O.p,O.p=2,P.T=null;try{for(var a=e.onRecoverableError,i=0;i<n.length;i++){var l=n[i];a(l.value,{componentStack:l.stack})}}finally{P.T=t,O.p=r}}0!==(3&Uc)&&yd(),Od(e),r=e.pendingLanes,0!==(261930&s)&&0!==(42&r)?e===qc?Wc++:(Wc=0,qc=e):Wc=0,Ld(0,!1)}}function vd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ur(t)))}function yd(){return xd(),gd(),bd(),wd()}function wd(){if(5!==Ic)return!1;var e=zc,t=Bc;Bc=0;var s=Ie(Uc),n=P.T,r=O.p;try{O.p=32>s?32:s,P.T=null,s=Vc,Vc=null;var a=zc,l=Uc;if(Ic=0,Fc=zc=null,Uc=0,0!==(6&mc))throw Error(i(331));var o=mc;if(mc|=4,oc(a.current),ec(a,a.current,l,s),mc=o,Ld(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ge,a)}catch(c){}return!0}finally{O.p=r,P.T=n,vd(e,t)}}function jd(e,t,s){t=Kn(s,t),null!==(e=va(e,t=_l(e.stateNode,t,2),2))&&(Te(e,2),Od(e))}function Nd(e,t,s){if(3===e.tag)jd(e,e,s);else for(;null!==t;){if(3===t.tag){jd(t,e,s);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Lc||!Lc.has(n))){e=Kn(s,e),null!==(n=va(t,s=Al(2),2))&&(Ml(s,n,t,e),Te(n,2),Od(n));break}}t=t.return}}function kd(e,t,s){var n=e.pingCache;if(null===n){n=e.pingCache=new hc;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(s)||(wc=!0,r.add(s),e=Sd.bind(null,e,t,s),t.then(e,e))}function Sd(e,t,s){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,pc===e&&(xc&s)===s&&(4===Nc||3===Nc&&(62914560&xc)===xc&&300>oe()-Tc?0===(2&mc)&&td(e,0):Ec|=s,_c===xc&&(_c=0)),Od(e)}function Ed(e,t){0===t&&(t=Me()),null!==(e=Rn(e,t))&&(Te(e,t),Od(e))}function Cd(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Ed(e,s)}function _d(e,t){var s=0;switch(e.tag){case 31:case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(s=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==n&&n.delete(t),Ed(e,s)}var Ad=null,Md=null,Dd=!1,Td=!1,Rd=!1,Pd=0;function Od(e){e!==Md&&null===e.next&&(null===Md?Ad=Md=e:Md=Md.next=e),Td=!0,Dd||(Dd=!0,ku(function(){0!==(6&mc)?re(de,Id):zd()}))}function Ld(e,t){if(!Rd&&Td){Rd=!0;do{for(var s=!1,n=Ad;null!==n;){if(!t)if(0!==e){var r=n.pendingLanes;if(0===r)var a=0;else{var i=n.suspendedLanes,l=n.pingedLanes;a=(1<<31-ye(42|e)+1)-1,a=201326741&(a&=r&~(i&~l))?201326741&a|1:a?2|a:0}0!==a&&(s=!0,Bd(n,a))}else a=xc,0===(3&(a=Ce(n,n===pc?a:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||_e(n,a)||(s=!0,Bd(n,a));n=n.next}}while(s);Rd=!1}}function Id(){zd()}function zd(){Td=Dd=!1;var e=0;0!==Pd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==yu&&(yu=e,!0);return yu=null,!1}()&&(e=Pd);for(var t=oe(),s=null,n=Ad;null!==n;){var r=n.next,a=Fd(n,t);0===a?(n.next=null,null===s?Ad=r:s.next=r,null===r&&(Md=s)):(s=n,(0!==e||0!==(3&a))&&(Td=!0)),n=r}0!==Ic&&5!==Ic||Ld(e,!1),0!==Pd&&(Pd=0)}function Fd(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-ye(a),l=1<<i,o=r[i];-1===o?0!==(l&s)&&0===(l&n)||(r[i]=Ae(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}if(s=xc,s=Ce(e,e===(t=pc)?s:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===s||e===t&&(2===gc||9===gc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&ae(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&s)||_e(e,s)){if((t=s&-s)===e.callbackPriority)return t;switch(null!==n&&ae(n),Ie(s)){case 2:case 8:s=ue;break;case 32:default:s=he;break;case 268435456:s=pe}return n=Ud.bind(null,e),s=re(s,n),e.callbackPriority=t,e.callbackNode=s,t}return null!==n&&null!==n&&ae(n),e.callbackPriority=2,e.callbackNode=null,2}function Ud(e,t){if(0!==Ic&&5!==Ic)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(yd()&&e.callbackNode!==s)return null;var n=xc;return 0===(n=Ce(e,e===pc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Gc(e,n,t),Fd(e,oe()),null!=e.callbackNode&&e.callbackNode===s?Ud.bind(null,e):null)}function Bd(e,t){if(yd())return null;Gc(e,t,!0)}function Vd(){if(0===Pd){var e=Hr;0===e&&(e=Ne,0===(261888&(Ne<<=1))&&(Ne=256)),Pd=e}return Pd}function Hd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function Wd(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}for(var qd=0;qd<kn.length;qd++){var Yd=kn[qd];Sn(Yd.toLowerCase(),"on"+(Yd[0].toUpperCase()+Yd.slice(1)))}Sn(xn,"onAnimationEnd"),Sn(gn,"onAnimationIteration"),Sn(bn,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(vn,"onTransitionRun"),Sn(yn,"onTransitionStart"),Sn(wn,"onTransitionCancel"),Sn(jn,"onTransitionEnd"),rt("onMouseEnter",["mouseout","mouseover"]),rt("onMouseLeave",["mouseout","mouseover"]),rt("onPointerEnter",["pointerout","pointerover"]),rt("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jd));function Gd(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var n=e[s],r=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&r.isPropagationStopped())break e;a=l,r.currentTarget=c;try{a(r)}catch(d){En(d)}r.currentTarget=null,a=o}else for(i=0;i<n.length;i++){if(o=(l=n[i]).instance,c=l.currentTarget,l=l.listener,o!==a&&r.isPropagationStopped())break e;a=l,r.currentTarget=c;try{a(r)}catch(d){En(d)}r.currentTarget=null,a=o}}}}function Xd(e,t){var s=t[We];void 0===s&&(s=t[We]=new Set);var n=e+"__bubble";s.has(n)||(eu(t,e,2,!1),s.add(n))}function Qd(e,t,s){var n=0;t&&(n|=4),eu(s,e,n,t)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function $d(e){if(!e[Zd]){e[Zd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Kd.has(t)||Qd(t,!1,e),Qd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zd]||(t[Zd]=!0,Qd("selectionchange",!1,t))}}function eu(e,t,s,n){switch(Eh(t)){case 2:var r=yh;break;case 8:r=wh;break;default:r=jh}s=r.bind(null,t,s,e),r=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,s,{capture:!0,passive:r}):e.addEventListener(t,s,!0):void 0!==r?e.addEventListener(t,s,{passive:r}):e.addEventListener(t,s,!1)}function tu(e,t,s,n,r){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var l=n.stateNode.containerInfo;if(l===r)break;if(4===i)for(i=n.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===r)return;i=i.return}for(;null!==l;){if(null===(i=Xe(l)))return;if(5===(c=i.tag)||6===c||26===c||27===c){n=a=i;continue e}l=l.parentNode}}n=n.return}Ft(function(){var n=a,r=Pt(s),i=[];e:{var l=Nn.get(e);if(void 0!==l){var c=ss,d=e;switch(e){case"keypress":if(0===Kt(s))break e;case"keydown":case"keyup":c=gs;break;case"focusin":d="focus",c=os;break;case"focusout":d="blur",c=os;break;case"beforeblur":case"afterblur":c=os;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ls;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vs;break;case xn:case gn:case bn:c=cs;break;case jn:c=ys;break;case"scroll":case"scrollend":c=rs;break;case"wheel":c=ws;break;case"copy":case"cut":case"paste":c=ds;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bs;break;case"toggle":case"beforetoggle":c=js}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),m=u?null!==l?l+"Capture":null:l;u=[];for(var p,f=n;null!==f;){var x=f;if(p=x.stateNode,5!==(x=x.tag)&&26!==x&&27!==x||null===p||null===m||null!=(x=Ut(f,m))&&u.push(su(f,x,p)),h)break;f=f.return}0<u.length&&(l=new c(l,d,null,s,r),i.push({event:l,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||s===Rt||!(d=s.relatedTarget||s.fromElement)||!Xe(d)&&!d[He])&&(c||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=n,null!==(d=(d=s.relatedTarget||s.toElement)?Xe(d):null)&&(h=o(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=n),c!==d)){if(u=is,x="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=bs,x="onPointerLeave",m="onPointerEnter",f="pointer"),h=null==c?l:Ze(c),p=null==d?l:Ze(d),(l=new u(x,f+"leave",c,s,r)).target=h,l.relatedTarget=p,x=null,Xe(r)===n&&((u=new u(m,f+"enter",d,s,r)).target=p,u.relatedTarget=h,x=u),h=x,c&&d)e:{for(u=ru,f=d,p=0,x=m=c;x;x=u(x))p++;x=0;for(var g=f;g;g=u(g))x++;for(;0<p-x;)m=u(m),p--;for(;0<x-p;)f=u(f),x--;for(;p--;){if(m===f||null!==f&&m===f.alternate){u=m;break e}m=u(m),f=u(f)}u=null}else u=null;null!==c&&au(i,l,c,u,!1),null!==d&&null!==h&&au(i,h,d,u,!0)}if("select"===(c=(l=n?Ze(n):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var b=Us;else if(Ps(l))if(Bs)b=Xs;else{b=Ks;var v=Js}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?n&&_t(n.elementType)&&(b=Us):b=Gs;switch(b&&(b=b(e,n))?Os(i,b,s,r):(v&&v(e,l,n),"focusout"===e&&n&&"number"===l.type&&null!=n.memoizedProps.value&&yt(l,"number",l.value)),v=n?Ze(n):window,e){case"focusin":(Ps(v)||"true"===v.contentEditable)&&(an=v,ln=n,on=null);break;case"focusout":on=ln=an=null;break;case"mousedown":cn=!0;break;case"contextmenu":case"mouseup":case"dragend":cn=!1,dn(i,s,r);break;case"selectionchange":if(rn)break;case"keydown":case"keyup":dn(i,s,r)}var y;if(ks)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ts?Ms(e,s)&&(w="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(w="onCompositionStart");w&&(Cs&&"ko"!==s.locale&&(Ts||"onCompositionStart"!==w?"onCompositionEnd"===w&&Ts&&(y=Jt()):(qt="value"in(Wt=r)?Wt.value:Wt.textContent,Ts=!0)),0<(v=nu(n,w)).length&&(w=new us(w,e,null,s,r),i.push({event:w,listeners:v}),y?w.data=y:null!==(y=Ds(s))&&(w.data=y))),(y=Es?function(e,t){switch(e){case"compositionend":return Ds(t);case"keypress":return 32!==t.which?null:(As=!0,_s);case"textInput":return(e=t.data)===_s&&As?null:e;default:return null}}(e,s):function(e,t){if(Ts)return"compositionend"===e||!ks&&Ms(e,t)?(e=Jt(),Yt=qt=Wt=null,Ts=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cs&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(w=nu(n,"onBeforeInput")).length&&(v=new us("onBeforeInput","beforeinput",null,s,r),i.push({event:v,listeners:w}),v.data=y)),function(e,t,s,n,r){if("submit"===t&&s&&s.stateNode===r){var a=Hd((r[Ve]||null).action),i=n.submitter;i&&null!==(t=(t=i[Ve]||null)?Hd(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var l=new ss("action","action",null,n,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Pd){var e=i?Wd(r,i):new FormData(r);el(s,{pending:!0,data:e,method:r.method,action:a},null,e)}}else"function"===typeof a&&(l.preventDefault(),e=i?Wd(r,i):new FormData(r),el(s,{pending:!0,data:e,method:r.method,action:a},a,e))},currentTarget:r}]})}}(i,e,n,s,r)}Gd(i,t)})}function su(e,t,s){return{instance:e,listener:t,currentTarget:s}}function nu(e,t){for(var s=t+"Capture",n=[];null!==e;){var r=e,a=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===a||(null!=(r=Ut(e,s))&&n.unshift(su(e,r,a)),null!=(r=Ut(e,t))&&n.push(su(e,r,a))),3===e.tag)return n;e=e.return}return[]}function ru(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function au(e,t,s,n,r){for(var a=t._reactName,i=[];null!==s&&s!==n;){var l=s,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===n)break;5!==l&&26!==l&&27!==l||null===c||(o=c,r?null!=(c=Ut(s,a))&&i.unshift(su(s,c,o)):r||null!=(c=Ut(s,a))&&i.push(su(s,c,o))),s=s.return}0!==i.length&&e.push({event:t,listeners:i})}var iu=/\r\n?/g,lu=/\u0000|\uFFFD/g;function ou(e){return("string"===typeof e?e:""+e).replace(iu,"\n").replace(lu,"")}function cu(e,t){return t=ou(t),ou(e)===t}function du(e,t,s,n,r,a){switch(s){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||kt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&kt(e,""+n);break;case"className":ct(e,"class",n);break;case"tabIndex":ct(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,s,n);break;case"style":Ct(e,n,a);break;case"data":if("object"!==t){ct(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==s)){e.removeAttribute(s);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(s);break}n=Dt(""+n),e.setAttribute(s,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===s?("input"!==t&&du(e,t,"name",r.name,r,null),du(e,t,"formEncType",r.formEncType,r,null),du(e,t,"formMethod",r.formMethod,r,null),du(e,t,"formTarget",r.formTarget,r,null)):(du(e,t,"encType",r.encType,r,null),du(e,t,"method",r.method,r,null),du(e,t,"target",r.target,r,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(s);break}n=Dt(""+n),e.setAttribute(s,n);break;case"onClick":null!=n&&(e.onclick=Tt);break;case"onScroll":null!=n&&Xd("scroll",e);break;case"onScrollEnd":null!=n&&Xd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(s=n.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}s=Dt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(s,""+n):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":!0===n?e.setAttribute(s,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(s,n):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(s,n):e.removeAttribute(s);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(s):e.setAttribute(s,n);break;case"popover":Xd("beforetoggle",e),Xd("toggle",e),ot(e,"popover",n);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ot(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<s.length)||"o"!==s[0]&&"O"!==s[0]||"n"!==s[1]&&"N"!==s[1])&&ot(e,s=At.get(s)||s,n)}}function uu(e,t,s,n,r,a){switch(s){case"style":Ct(e,n,a);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(i(61));if(null!=(s=n.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=s}}break;case"children":"string"===typeof n?kt(e,n):("number"===typeof n||"bigint"===typeof n)&&kt(e,""+n);break;case"onScroll":null!=n&&Xd("scroll",e);break;case"onScrollEnd":null!=n&&Xd("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Tt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:st.hasOwnProperty(s)||("o"!==s[0]||"n"!==s[1]||(r=s.endsWith("Capture"),t=s.slice(2,r?s.length-7:void 0),"function"===typeof(a=null!=(a=e[Ve]||null)?a[s]:null)&&e.removeEventListener(t,a,r),"function"!==typeof n)?s in e?e[s]=n:!0===n?e.setAttribute(s,""):ot(e,s,n):("function"!==typeof a&&null!==a&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,n,r)))}}function hu(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xd("error",e),Xd("load",e);var n,r=!1,a=!1;for(n in s)if(s.hasOwnProperty(n)){var l=s[n];if(null!=l)switch(n){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:du(e,t,n,l,s,null)}}return a&&du(e,t,"srcSet",s.srcSet,s,null),void(r&&du(e,t,"src",s.src,s,null));case"input":Xd("invalid",e);var o=n=l=a=null,c=null,d=null;for(r in s)if(s.hasOwnProperty(r)){var u=s[r];if(null!=u)switch(r){case"name":a=u;break;case"type":l=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":n=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:du(e,t,r,u,s,null)}}return void vt(e,n,o,c,d,l,a,!1);case"select":for(a in Xd("invalid",e),r=l=n=null,s)if(s.hasOwnProperty(a)&&null!=(o=s[a]))switch(a){case"value":n=o;break;case"defaultValue":l=o;break;case"multiple":r=o;default:du(e,t,a,o,s,null)}return t=n,s=l,e.multiple=!!r,void(null!=t?wt(e,!!r,t,!1):null!=s&&wt(e,!!r,s,!0));case"textarea":for(l in Xd("invalid",e),n=a=r=null,s)if(s.hasOwnProperty(l)&&null!=(o=s[l]))switch(l){case"value":r=o;break;case"defaultValue":a=o;break;case"children":n=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:du(e,t,l,o,s,null)}return void Nt(e,r,a,n);case"option":for(c in s)if(s.hasOwnProperty(c)&&null!=(r=s[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else du(e,t,c,r,s,null);return;case"dialog":Xd("beforetoggle",e),Xd("toggle",e),Xd("cancel",e),Xd("close",e);break;case"iframe":case"object":Xd("load",e);break;case"video":case"audio":for(r=0;r<Jd.length;r++)Xd(Jd[r],e);break;case"image":Xd("error",e),Xd("load",e);break;case"details":Xd("toggle",e);break;case"embed":case"source":case"link":Xd("error",e),Xd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in s)if(s.hasOwnProperty(d)&&null!=(r=s[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:du(e,t,d,r,s,null)}return;default:if(_t(t)){for(u in s)s.hasOwnProperty(u)&&(void 0!==(r=s[u])&&uu(e,t,u,r,s,void 0));return}}for(o in s)s.hasOwnProperty(o)&&(null!=(r=s[o])&&du(e,t,o,r,s,null))}function mu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pu=null,fu=null;function xu(e){return 9===e.nodeType?e:e.ownerDocument}function gu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yu=null;var wu="function"===typeof setTimeout?setTimeout:void 0,ju="function"===typeof clearTimeout?clearTimeout:void 0,Nu="function"===typeof Promise?Promise:void 0,ku="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Nu?function(e){return Nu.resolve(null).then(e).catch(Su)}:wu;function Su(e){setTimeout(function(){throw e})}function Eu(e){return"head"===e}function Cu(e,t){var s=t,n=0;do{var r=s.nextSibling;if(e.removeChild(s),r&&8===r.nodeType)if("/$"===(s=r.data)||"/&"===s){if(0===n)return e.removeChild(r),void Wh(t);n--}else if("$"===s||"$?"===s||"$~"===s||"$!"===s||"&"===s)n++;else if("html"===s)zu(e.ownerDocument.documentElement);else if("head"===s){zu(s=e.ownerDocument.head);for(var a=s.firstChild;a;){var i=a.nextSibling,l=a.nodeName;a[Ke]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||s.removeChild(a),a=i}}else"body"===s&&zu(e.ownerDocument.body);s=r}while(s);Wh(t)}function _u(e,t){var s=e;e=0;do{var n=s.nextSibling;if(1===s.nodeType?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",""===s.getAttribute("style")&&s.removeAttribute("style")):3===s.nodeType&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),n&&8===n.nodeType)if("/$"===(s=n.data)){if(0===e)break;e--}else"$"!==s&&"$?"!==s&&"$~"!==s&&"$!"!==s||e++;s=n}while(s)}function Au(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Au(s),Ge(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===s.rel.toLowerCase())continue}e.removeChild(s)}}function Mu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Ru(e.nextSibling)))return null}return e}function Du(e){return"$?"===e.data||"$~"===e.data}function Tu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Ru(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Pu=null;function Ou(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s||"/&"===s){if(0===t)return Ru(e.nextSibling);t--}else"$"!==s&&"$!"!==s&&"$?"!==s&&"$~"!==s&&"&"!==s||t++}e=e.nextSibling}return null}function Lu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s||"$~"===s||"&"===s){if(0===t)return e;t--}else"/$"!==s&&"/&"!==s||t++}e=e.previousSibling}return null}function Iu(e,t,s){switch(t=xu(s),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function zu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ge(e)}var Fu=new Map,Uu=new Set;function Bu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vu=O.d;O.d={f:function(){var e=Vu.f(),t=$c();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?sl(t):Vu.r(e)},D:function(e){Vu.D(e),Wu("dns-prefetch",e,null)},C:function(e,t){Vu.C(e,t),Wu("preconnect",e,t)},L:function(e,t,s){Vu.L(e,t,s);var n=Hu;if(n&&e&&t){var r='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&s&&s.imageSrcSet?(r+='[imagesrcset="'+gt(s.imageSrcSet)+'"]',"string"===typeof s.imageSizes&&(r+='[imagesizes="'+gt(s.imageSizes)+'"]')):r+='[href="'+gt(e)+'"]';var a=r;switch(t){case"style":a=Yu(e);break;case"script":a=Gu(e)}Fu.has(a)||(e=m({rel:"preload",href:"image"===t&&s&&s.imageSrcSet?void 0:e,as:t},s),Fu.set(a,e),null!==n.querySelector(r)||"style"===t&&n.querySelector(Ju(a))||"script"===t&&n.querySelector(Xu(a))||(hu(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}},m:function(e,t){Vu.m(e,t);var s=Hu;if(s&&e){var n=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+gt(n)+'"][href="'+gt(e)+'"]',a=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Gu(e)}if(!Fu.has(a)&&(e=m({rel:"modulepreload",href:e},t),Fu.set(a,e),null===s.querySelector(r))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Xu(a)))return}hu(n=s.createElement("link"),"link",e),et(n),s.head.appendChild(n)}}},X:function(e,t){Vu.X(e,t);var s=Hu;if(s&&e){var n=$e(s).hoistableScripts,r=Gu(e),a=n.get(r);a||((a=s.querySelector(Xu(r)))||(e=m({src:e,async:!0},t),(t=Fu.get(r))&&eh(e,t),et(a=s.createElement("script")),hu(a,"link",e),s.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(r,a))}},S:function(e,t,s){Vu.S(e,t,s);var n=Hu;if(n&&e){var r=$e(n).hoistableStyles,a=Yu(e);t=t||"default";var i=r.get(a);if(!i){var l={loading:0,preload:null};if(i=n.querySelector(Ju(a)))l.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Fu.get(a))&&$u(e,s);var o=i=n.createElement("link");et(o),hu(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Zu(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:l},r.set(a,i)}}},M:function(e,t){Vu.M(e,t);var s=Hu;if(s&&e){var n=$e(s).hoistableScripts,r=Gu(e),a=n.get(r);a||((a=s.querySelector(Xu(r)))||(e=m({src:e,async:!0,type:"module"},t),(t=Fu.get(r))&&eh(e,t),et(a=s.createElement("script")),hu(a,"link",e),s.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(r,a))}}};var Hu="undefined"===typeof document?null:document;function Wu(e,t,s){var n=Hu;if(n&&"string"===typeof t&&t){var r=gt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof s&&(r+='[crossorigin="'+s+'"]'),Uu.has(r)||(Uu.add(r),e={rel:e,crossOrigin:s,href:t},null===n.querySelector(r)&&(hu(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}}function qu(e,t,s,n){var r,a,l,o,c=(c=Y.current)?Bu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof s.precedence&&"string"===typeof s.href?(t=Yu(s.href),(n=(s=$e(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===s.rel&&"string"===typeof s.href&&"string"===typeof s.precedence){e=Yu(s.href);var d=$e(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Ju(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Fu.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Fu.set(e,s),d||(r=c,a=e,l=s,o=u.state,r.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=r.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),hu(a,"link",l),et(a),r.head.appendChild(a))))),t&&null===n)throw Error(i(528,""));return u}if(t&&null!==n)throw Error(i(529,""));return null;case"script":return t=s.async,"string"===typeof(s=s.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Gu(s),(n=(s=$e(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},s.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Yu(e){return'href="'+gt(e)+'"'}function Ju(e){return'link[rel="stylesheet"]['+e+"]"}function Ku(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Gu(e){return'[src="'+gt(e)+'"]'}function Xu(e){return"script[async]"+e}function Qu(e,t,s){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+gt(s.href)+'"]');if(n)return t.instance=n,et(n),n;var r=m({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return et(n=(e.ownerDocument||e).createElement("style")),hu(n,"style",r),Zu(n,s.precedence,e),t.instance=n;case"stylesheet":r=Yu(s.href);var a=e.querySelector(Ju(r));if(a)return t.state.loading|=4,t.instance=a,et(a),a;n=Ku(s),(r=Fu.get(r))&&$u(n,r),et(a=(e.ownerDocument||e).createElement("link"));var l=a;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),hu(a,"link",n),t.state.loading|=4,Zu(a,s.precedence,e),t.instance=a;case"script":return a=Gu(s.src),(r=e.querySelector(Xu(a)))?(t.instance=r,et(r),r):(n=s,(r=Fu.get(a))&&eh(n=m({},s),r),et(r=(e=e.ownerDocument||e).createElement("script")),hu(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Zu(n,s.precedence,e));return t.instance}function Zu(e,t,s){for(var n=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,a=r,i=0;i<n.length;i++){var l=n[i];if(l.dataset.precedence===t)a=l;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===s.nodeType?s.head:s).insertBefore(e,t.firstChild)}function $u(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function sh(e,t,s){if(null===th){var n=new Map,r=th=new Map;r.set(s,n)}else(n=(r=th).get(s))||(n=new Map,r.set(s,n));if(n.has(e))return n;for(n.set(e,null),s=s.getElementsByTagName(e),r=0;r<s.length;r++){var a=s[r];if(!(a[Ke]||a[Be]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var l=n.get(i);l?l.push(a):n.set(i,[a])}}return n}function nh(e,t,s){(e=e.ownerDocument||e).head.insertBefore(s,"title"===t?e.querySelector("head > title"):null)}function rh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ah=0;function ih(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function oh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(ch,e),lh=null,ih.call(e))}function ch(e,t){if(!(4&t.state.loading)){var s=lh.get(e);if(s)var n=s.get(null);else{s=new Map,lh.set(e,s);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var i=r[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(s.set(i.dataset.precedence,i),n=i)}n&&s.set(null,n)}i=(r=t.instance).getAttribute("data-precedence"),(a=s.get(i)||n)===n&&s.set(null,r),s.set(i,r),this.count++,n=ih.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),a?a.parentNode.insertBefore(r,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var dh={$$typeof:w,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function uh(e,t,s,n,r,a,i,l,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function hh(e,t,s,n,r,a,i,l,o,c,d,u){return e=new uh(e,t,s,i,o,c,d,u,l),t=1,!0===a&&(t|=24),a=zn(3,null,null,t),e.current=a,a.stateNode=e,(t=Fr()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:n,isDehydrated:s,cache:t},xa(a),e}function mh(e){return e?e=Ln:Ln}function ph(e,t,s,n,r,a){r=mh(r),null===n.context?n.context=r:n.pendingContext=r,(n=ba(t)).payload={element:s},null!==(a=void 0===a?null:a)&&(n.callback=a),null!==(s=va(e,n,t))&&(Kc(s,0,t),ya(s,e,t))}function fh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function xh(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function gh(e){if(13===e.tag||31===e.tag){var t=Rn(e,67108864);null!==t&&Kc(t,0,67108864),xh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Yc(),s=Rn(e,t=Le(t));null!==s&&Kc(s,0,t),xh(e,t)}}var vh=!0;function yh(e,t,s,n){var r=P.T;P.T=null;var a=O.p;try{O.p=2,jh(e,t,s,n)}finally{O.p=a,P.T=r}}function wh(e,t,s,n){var r=P.T;P.T=null;var a=O.p;try{O.p=8,jh(e,t,s,n)}finally{O.p=a,P.T=r}}function jh(e,t,s,n){if(vh){var r=Nh(n);if(null===r)tu(e,t,n,kh,s),Oh(e,n);else if(function(e,t,s,n,r){switch(t){case"focusin":return _h=Lh(_h,e,t,s,n,r),!0;case"dragenter":return Ah=Lh(Ah,e,t,s,n,r),!0;case"mouseover":return Mh=Lh(Mh,e,t,s,n,r),!0;case"pointerover":var a=r.pointerId;return Dh.set(a,Lh(Dh.get(a)||null,e,t,s,n,r)),!0;case"gotpointercapture":return a=r.pointerId,Th.set(a,Lh(Th.get(a)||null,e,t,s,n,r)),!0}return!1}(r,e,t,s,n))n.stopPropagation();else if(Oh(e,n),4&t&&-1<Ph.indexOf(e)){for(;null!==r;){var a=Qe(r);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=Ee(a.pendingLanes);if(0!==i){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var o=1<<31-ye(i);l.entanglements[1]|=o,i&=~o}Od(a),0===(6&mc)&&(Pc=oe()+500,Ld(0,!1))}}break;case 31:case 13:null!==(l=Rn(a,2))&&Kc(l,0,2),$c(),xh(a,2)}if(null===(a=Nh(n))&&tu(e,t,n,kh,s),a===r)break;r=a}null!==r&&n.stopPropagation()}else tu(e,t,n,null,s)}}function Nh(e){return Sh(e=Pt(e))}var kh=null;function Sh(e){if(kh=null,null!==(e=Xe(e))){var t=o(e);if(null===t)e=null;else{var s=t.tag;if(13===s){if(null!==(e=c(t)))return e;e=null}else if(31===s){if(null!==(e=d(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return kh=e,null}function Eh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case he:case me:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ch=!1,_h=null,Ah=null,Mh=null,Dh=new Map,Th=new Map,Rh=[],Ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oh(e,t){switch(e){case"focusin":case"focusout":_h=null;break;case"dragenter":case"dragleave":Ah=null;break;case"mouseover":case"mouseout":Mh=null;break;case"pointerover":case"pointerout":Dh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(t.pointerId)}}function Lh(e,t,s,n,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=Qe(t))&&gh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ih(e){var t=Xe(e.target);if(null!==t){var s=o(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=c(s)))return e.blockedOn=t,void Fe(e.priority,function(){bh(s)})}else if(31===t){if(null!==(t=d(s)))return e.blockedOn=t,void Fe(e.priority,function(){bh(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Nh(e.nativeEvent);if(null!==s)return null!==(t=Qe(s))&&gh(t),e.blockedOn=s,!1;var n=new(s=e.nativeEvent).constructor(s.type,s);Rt=n,s.target.dispatchEvent(n),Rt=null,t.shift()}return!0}function Fh(e,t,s){zh(e)&&s.delete(t)}function Uh(){Ch=!1,null!==_h&&zh(_h)&&(_h=null),null!==Ah&&zh(Ah)&&(Ah=null),null!==Mh&&zh(Mh)&&(Mh=null),Dh.forEach(Fh),Th.forEach(Fh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ch||(Ch=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Uh)))}var Vh=null;function Hh(e){Vh!==e&&(Vh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vh===e&&(Vh=null);for(var t=0;t<e.length;t+=3){var s=e[t],n=e[t+1],r=e[t+2];if("function"!==typeof n){if(null===Sh(n||s))continue;break}var a=Qe(s);null!==a&&(e.splice(t,3),t-=3,el(a,{pending:!0,data:r,method:s.method,action:n},n,r))}}))}function Wh(e){function t(t){return Bh(t,e)}null!==_h&&Bh(_h,e),null!==Ah&&Bh(Ah,e),null!==Mh&&Bh(Mh,e),Dh.forEach(t),Th.forEach(t);for(var s=0;s<Rh.length;s++){var n=Rh[s];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Rh.length&&null===(s=Rh[0]).blockedOn;)Ih(s),null===s.blockedOn&&Rh.shift();if(null!=(s=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<s.length;n+=3){var r=s[n],a=s[n+1],i=r[Ve]||null;if("function"===typeof a)i||Hh(s);else if(i){var l=null;if(a&&a.hasAttribute("formAction")){if(r=a,i=a[Ve]||null)l=i.formAction;else if(null!==Sh(r))continue}else l=i.action;"function"===typeof l?s[n+1]=l:(s.splice(n,3),n-=3),Hh(s)}}}function qh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),n||setTimeout(s,20)}function s(){if(!n&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var n=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Yh(e){this._internalRoot=e}function Jh(e){this._internalRoot=e}Jh.prototype.render=Yh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));ph(t.current,Yc(),e,t,null,null)},Jh.prototype.unmount=Yh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),$c(),t[He]=null}},Jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Rh.length&&0!==t&&t<Rh[s].priority;s++);Rh.splice(s,0,e),0===s&&Ih(e)}};var Kh=r.version;if("19.2.0"!==Kh)throw Error(i(527,Kh,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(i(188));return t!==e?null:e}for(var s=e,n=t;;){var r=s.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(n=r.return)){s=n;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===s)return u(r),e;if(a===n)return u(r),t;a=a.sibling}throw Error(i(188))}if(s.return!==n.return)s=r,n=a;else{for(var l=!1,c=r.child;c;){if(c===s){l=!0,s=r,n=a;break}if(c===n){l=!0,n=r,s=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===s){l=!0,s=a,n=r;break}if(c===n){l=!0,n=a,s=r;break}c=c.sibling}if(!l)throw Error(i(189))}}if(s.alternate!==n)throw Error(i(190))}if(3!==s.tag)throw Error(i(188));return s.stateNode.current===s?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Gh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ge=Xh.inject(Gh),be=Xh}catch(Zh){}}t.createRoot=function(e,t){if(!l(e))throw Error(i(299));var s=!1,n="",r=Nl,a=kl,o=Sl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=hh(e,1,!1,null,0,s,n,null,r,a,o,qh),e[He]=t.current,$d(e),new Yh(t)},t.hydrateRoot=function(e,t,s){if(!l(e))throw Error(i(299));var n=!1,r="",a=Nl,o=kl,c=Sl,d=null;return null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(r=s.identifierPrefix),void 0!==s.onUncaughtError&&(a=s.onUncaughtError),void 0!==s.onCaughtError&&(o=s.onCaughtError),void 0!==s.onRecoverableError&&(c=s.onRecoverableError),void 0!==s.formState&&(d=s.formState)),(t=hh(e,1,!0,t,0,n,r,d,a,o,c,qh)).context=mh(null),s=t.current,(r=ba(n=Le(n=Yc()))).callback=null,va(s,r,n),s=n,t.current.lanes=s,Te(t,s),Od(t),e[He]=t.current,$d(e),new Jh(t)},t.version="19.2.0"},26:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAABxCAYAAADifkzQAAAACXBIWXMAAAsSAAALEgHS3X78AAAJc0lEQVR4nO2dT27jNhTGXwfdxxco4kUBL+MbjHsAY7wo0GWcdRdjH6CIcwKrm26rHKCAAl/AQQ9QZ5kCLTw3cLbdTEHh4wxFSzJJkRRp8wcY8ye2I+nje3x8fCS/+fz5MyXi5ttYr366HA2IaIwX+/sEPxoS0fWJjz/jzwMR7Yhoz16b9evW8WU7IRpLnC5HYwg1gXDXEGOP1w6iUJsYgvgkNQAu/gu+i33HdrN+3Xu7SUOCFnG6HM2IiL8YBX/Am/XrzsHv4wLzxvIeojJBcxe/0wbBiThdjtjDm0O4PYQr+nqAUkNilp5D0GAsNAgRYQHsIa3g3vIQWz4EZQ3sAxE9EVEWQj/aq4gQb4HXDsLlvV2QItPlaAgxF/AWWZ/X3YuINeKtYo0Mp8vRHB6EMe/jPryLiJvOYhdPZrocLSAmu6+Fz67Am4gYImQI5dlNFl5+sUfgYZiQH4noAW724PoKvIg4XY7Yjd0T0a+wPuc31idSg3XuYp2KiACAW9w81HGWK+Bi18wqN+vXlavf40xEhOM5XmdvfU3AKnnkOnHxHJyICPe5QN8X/JDBNegrM4yFJ7Y9klURhYtlWZfZpbnPUwju9c5m47YmIgTkHbgTt3EOCN2MNS9lRURBwD0CmCRgC+gnt8gJz7t+X2cRBQF3Ni7oUrAp5LsuH04CmoN4oYwdpstR1uW7jEUUXWgS0AxByDnSkUZ0sUTeepKAHRCEzEyFNBIR48BJikLtACEXEHKs+6XagY0QIlsftF46MA5mjWMd49CyRORCc99TLZcC8qs7IU2nhK47LWKZfY+Y0hKR3VFCWUSYOgmz2AkHwI2W1QKq/aOSiPiy+5SN8QPmH3NhBNCKqiVmmBNL/aA/mMcbqrjVkyJi7DJUbRUJO0hudWAsojC1tEhu1D9wq9tTBnTKEhfIi55dUZNNWNU6Xq0WYwjT4BbDu1oaB/u4oD0md8+irNA2QgXDlfDVj7Y913Q5Kod0TTnqNkvkVpgErAEP9l4SkHHLXKBlq1y1WWOtiEKFdhoT1oBg77blLTd4flbA4p3HJj2aLHGerLAerNr6XeGttmd3Gq2xScSFbv7uEkDSQzXIO7VaWQtY41Nd4zgSEbMUlPKjVdDFFDV9YBOfHFxGriQiaiPTkOKYraZ1We+K+FCPGxqnIiJa223KzlRBJHqj8ZE3m4GNRCEsfy+Rd89gP3yJYbMBX2As2BaJyrw5rnjIZSuX3ekkBTRfwVDiXvNjTifM8d0H0aXKIs5c+PIYEZan6fDgKSAshH17voqIiz6k6aZKOaZqJMp4dLl8TaLSL4qWmKzQXMAXn7W3SMJc84G/KOIkiViiG4l+El2bR575zliiiGNUWl0sKKf/oHH/b5jl6WOudcsbTykizPLqkvtDRKIfNT/W5xrMnWyJQ2HnwYtDI6ktctfzBMGRiBNMAF8cmkltzmPfuWUkZK5YIMZFHFyiiIhEc81I9CmgVWBsB8gxF/FSg5qtZiT6EtgqMBZQDd5J/3ExGCa1+4pEmyj7RZ4AH/typ4iExaTyG/okb2WRKMg1SWqH1uWUz4tb4pWPC0QQsZMe4BX+vW8ry7N4DXNsQ6JD0KvAOq3ZN6AtiLhyPYMSeFLbhL0Y2DgHD/BUH/ReZ0mXDhEktU3Yy4GNa1TrMNcmS57bME1qO5ydt4pvd6qKbfdllNSOZf2JTxF1AoMbYVFrJyJLahvhTUQ8lAeNj9x3dauGSe2Y9mUth4Ze3SmChBeNjxi71Q5J7ZjKNQeiiJ9w0z7QSVvdmGyZFWtS2xQuordMBFyVjlv9qNPADJPaz5FubcaSI4d30n94AW5VZ/4y11gqVhgktWcK7wsRptmOi7j1KSKYIxJU4VplmR2S2u81riG6SFSiUih1EI6j8wJytTrDiFa3apDUpkCT2jpcs+oCLuKuB0tkQmaabrWoc6uohtZNat/FXFOEBl2uvBJF1OlHbKLjVo+S5NKRBaqEnNRWZcgTKKWI6BN8DjO+AHemk6P8wNchnGlSW5VxRUSw9d0vcmAVTxofYdHq9TkntRX4Uuwti9hHJTNH163+ec5J7TbggW54yWQwIgrbYKnyncZ7Yx9KyMzEgPCLiOibDvJSYp8gb6njVlU5t8PGKutm5AR40bNLJVijzU0LYktqq1DZV0EWMe87BWXgVtuINqndBDxlZR1pRUT+gz6GGtJ1bHFgZhdiTWqf4mh3k7r5xCKQKudVB7cac1K7EeEo+8r0XJ2IGbafcrHtozId3OrbGW9zPcOJQJV875GIeMNzCNYIt6oz90hnfl7Hqq5utqk8Iwsls4EU2d+Kb486qd0G4pRBXaBWK6Kw/VQogcFPCu/548z3o6u1QjpR7bYKZb9TWNfPLW/5Z7N+/dHjJXkFVti4BKFRRN6qQ7HGzfr1NyL6gYj+IqL/8N//EtEvm/Xr9z1fnmtKK2wK1loP/IKAK90DqBL2gBWy7m3YpEFr3SmsUXe+L2EXpsGqzYhUiofLHed9rB1MVMFShgPKWBo5KaJwblHafdEjMJqFihdULeNf6R4Hl+hMjmMOT+6VoySidG5RcquOgbEMVYd4ygtqkADI0/7gbkH13lon/6u7KqpsGV3PhU/UI+z4/6Cz5ZiWiGgZs67nwicaKXCojFamTHt9ImY5mJC/215bf8lgHcnAZPbIaJEpTP0OB1slITsCrzYzrcgzXimMbE4OIVPEaggEzLos7mnNnaoANzA+l8Jcn0gCGs+Ddl6zj2KkXXKtetgSkGztnpGE1MOmgGRzCxQImUHIvguQgwXdjzUByUafKINWxrYeWZ7Kvl8SwkB+YHtZgXUR6WvqaOt7H9NQEbZk2bkop3QiIlVb3rDnowd6BcnsNVJpTmqWnInIwcTmvcubCBGMnXM04rnL4xeci0jH6+oX537gtHD+/snSCht4EbHm5grc3Fkd44ConDdWp9Yn4lVEqm7kzheGNJbixQLEWyFztfIdlXsXkSPdeIZShKgss+YeemmQvYnIwYOYYzeoR9W6kr4QlpfxEorevUnvInKE6q45tiljD6cIxTqxQpe/9sL19d4VBCOiCB7YHNs+vyAQKnyONWFxE0G4A64jD23MG6SIHOlBTpCy2iEbtEUpgxVLwDCIvybYI6eXBqRL0CLKwOVOhIfNt8V8hqXwB31o2Dh+IOyaxf8+gGBvQgMp/4wlao5KxDogrPhi8H/XUZ5Tjx+Uf486+UBE/wP7fbuJiHkt0AAAAABJRU5ErkJggg=="},43:(e,t,s)=>{"use strict";e.exports=s(288)},224:()=>{},288:(e,t)=>{"use strict";var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function b(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||f}function v(){}function y(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var w=y.prototype=new v;w.constructor=y,x(w,b.prototype),w.isPureReactComponent=!0;var j=Array.isArray;function N(){}var k={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function E(e,t,n){var r=n.ref;return{$$typeof:s,type:e,key:t,ref:void 0!==r?r:null,props:n}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var _=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,r,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o,c,d=!1;if(null===e)d=!0;else switch(l){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case s:case n:d=!0;break;case h:return M((d=e._init)(e._payload),t,r,a,i)}}if(d)return i=i(e),d=""===a?"."+A(e,0):a,j(i)?(r="",null!=d&&(r=d.replace(_,"$&/")+"/"),M(i,t,r,"",function(e){return e})):null!=i&&(C(i)&&(o=i,c=r+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+d,i=E(o.type,c,o.props)),t.push(i)),1;d=0;var u,m=""===a?".":a+":";if(j(e))for(var f=0;f<e.length;f++)d+=M(a=e[f],t,r,l=m+A(a,f),i);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(a=e.next()).done;)d+=M(a=a.value,t,r,l=m+A(a,f++),i);else if("object"===l){if("function"===typeof e.then)return M(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(N,N):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function D(e,t,s){if(null==e)return e;var n=[],r=0;return M(e,n,"","",function(e){return t.call(s,e,r++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},P={map:D,forEach:function(e,t,s){D(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=m,t.Children=P,t.Component=b,t.Fragment=r,t.Profiler=i,t.PureComponent=y,t.StrictMode=a,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=x({},e.props),r=e.key;if(null!=t)for(a in void 0!==t.key&&(r=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(n[a]=t[a]);var a=arguments.length-2;if(1===a)n.children=s;else if(1<a){for(var i=Array(a),l=0;l<a;l++)i[l]=arguments[l+2];n.children=i}return E(e.type,r,n)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},t.createElement=function(e,t,s){var n,r={},a=null;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)S.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(r[n]=t[n]);var i=arguments.length-2;if(1===i)r.children=s;else if(1<i){for(var l=Array(i),o=0;o<i;o++)l[o]=arguments[o+2];r.children=l}if(e&&e.defaultProps)for(n in i=e.defaultProps)void 0===r[n]&&(r[n]=i[n]);return E(e,a,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,s={};k.T=s;try{var n=e(),r=k.S;null!==r&&r(s,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(N,R)}catch(a){R(a)}finally{null!==t&&null!==s.types&&(t.types=s.types),k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,s){return k.H.useActionState(e,t,s)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return k.H.useEffect(e,t)},t.useEffectEvent=function(e){return k.H.useEffectEvent(e)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,s){return k.H.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,s){return k.H.useReducer(e,t,s)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,s){return k.H.useSyncExternalStore(e,t,s)},t.useTransition=function(){return k.H.useTransition()},t.version="19.2.0"},391:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(4)},531:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/Asset 8.40d1b49e7f0d3fc98ca3.png"},579:(e,t,s)=>{"use strict";e.exports=s(799)},672:(e,t,s)=>{"use strict";var n=s(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,s){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==n?null:""+n,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.flushSync=function(e){var t=o.T,s=i.p;try{if(o.T=null,i.p=2,e)return e()}finally{o.T=t,i.p=s,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var s=t.as,n=c(s,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===s?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:r,fetchPriority:a}):"script"===s&&i.d.X(e,{crossOrigin:n,integrity:r,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var s=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var s=t.as,n=c(s,t.crossOrigin);i.d.L(e,s,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var s=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,s){return o.H.useFormState(e,t,s)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{"use strict";var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(e,t,n){var r=null;if(void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),"key"in t)for(var a in n={},t)"key"!==a&&(n[a]=t[a]);else n=t;return t=n.ref,{$$typeof:s,type:e,key:r,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=r,t.jsxs=r},853:(e,t,s)=>{"use strict";e.exports=s(896)},896:(e,t)=>{"use strict";function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var n=s-1>>>1,r=e[n];if(!(0<a(r,t)))break e;e[n]=t,e[s]=r,s=n}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var n=0,r=e.length,i=r>>>1;n<i;){var l=2*(n+1)-1,o=e[l],c=l+1,d=e[c];if(0>a(o,s))c<r&&0>a(d,o)?(e[n]=d,e[c]=s,n=c):(e[n]=o,e[l]=s,n=l);else{if(!(c<r&&0>a(d,s)))break e;e[n]=d,e[c]=s,n=c}}}return t}function a(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,p=!1,f=!1,x=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,s(c,t)}t=n(d)}}function j(e){if(x=!1,w(e),!f)if(null!==n(c))f=!0,k||(k=!0,N());else{var t=n(d);null!==t&&T(j,t.startTime-e)}}var N,k=!1,S=-1,E=5,C=-1;function _(){return!!g||!(t.unstable_now()-C<E)}function A(){if(g=!1,k){var e=t.unstable_now();C=e;var s=!0;try{e:{f=!1,x&&(x=!1,v(S),S=-1),p=!0;var a=m;try{t:{for(w(e),h=n(c);null!==h&&!(h.expirationTime>e&&_());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var l=i(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof l){h.callback=l,w(e),s=!0;break t}h===n(c)&&r(c),w(e)}else r(c);h=n(c)}if(null!==h)s=!0;else{var o=n(d);null!==o&&T(j,o.startTime-e),s=!1}}break e}finally{h=null,m=a,p=!1}s=void 0}}finally{s?N():k=!1}}}if("function"===typeof y)N=function(){y(A)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,D=M.port2;M.port1.onmessage=A,N=function(){D.postMessage(null)}}else N=function(){b(A,0)};function T(e,s){S=b(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var s=m;m=t;try{return e()}finally{m=s}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=m;m=e;try{return t()}finally{m=s}},t.unstable_scheduleCallback=function(e,r,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,s(d,e),null===n(c)&&e===n(d)&&(x?(v(S),S=-1):x=!0,T(j,a-i))):(e.sortIndex=l,s(c,e),f||p||(f=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=m;return function(){var s=m;m=t;try{return e.apply(this,arguments)}finally{m=s}}}},950:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(672)}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,s),a.exports}s.m=e,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce((t,n)=>(s.f[n](e,t),t),[])),s.u=e=>"static/js/"+e+".4c40f731.chunk.js",s.miniCssF=e=>{},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="fosikafront:";s.l=(n,r,a,i)=>{if(e[n])e[n].push(r);else{var l,o;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){l=u;break}}l||(o=!0,(l=document.createElement("script")).charset="utf-8",s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",t+a),l.src=n),e[n]=[r];var h=(t,s)=>{l.onerror=l.onload=null,clearTimeout(m);var r=e[n];if(delete e[n],l.parentNode&&l.parentNode.removeChild(l),r&&r.forEach(e=>e(s)),t)return t(s)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),o&&document.head.appendChild(l)}}})(),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",(()=>{s.b="undefined"!==typeof document&&document.baseURI||self.location.href;var e={792:0};s.f.j=(t,n)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((s,n)=>r=e[t]=[s,n]);n.push(r[2]=a);var i=s.p+s.u(t),l=new Error;s.l(i,n=>{if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,r[1](l)}},"chunk-"+t,t)}};var t=(t,n)=>{var r,a,[i,l,o]=n,c=0;if(i.some(t=>0!==e[t])){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(o)o(s)}for(t&&t(n);c<i.length;c++)a=i[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkfosikafront=self.webpackChunkfosikafront||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};s.r(e),s.d(e,{hasBrowserEnv:()=>Vs,hasStandardBrowserEnv:()=>Ws,hasStandardBrowserWebWorkerEnv:()=>qs,navigator:()=>Hs,origin:()=>Ys});var t=s(43),n=s(391);function r(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function l(e,t,s){return(t=i(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach(function(t){l(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}const d=["sri"],u=["page"],h=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var x="popstate";function g(){return k(function(e,t){let{pathname:s,search:n,hash:r}=e.location;return w("",{pathname:s,search:n,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:j(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function v(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function y(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return c(c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t),{},{state:s,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function j(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function N(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function k(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:r=document.defaultView,v5Compat:a=!1}=n,i=r.history,l="POP",o=null,d=u();function u(){return(i.state||{idx:null}).idx}function h(){l="POP";let e=u(),t=null==e?null:e-d;d=e,o&&o({action:l,location:p.location,delta:t})}function m(e){return S(e)}null==d&&(d=0,i.replaceState(c(c({},i.state),{},{idx:d}),""));let p={get action(){return l},get location(){return e(r,i)},listen(e){if(o)throw new Error("A history only accepts one active listener");return r.addEventListener(x,h),o=e,()=>{r.removeEventListener(x,h),o=null}},createHref:e=>t(r,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let n=w(p.location,e,t);s&&s(n,e),d=u()+1;let c=y(n,d),h=p.createHref(n);try{i.pushState(c,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;r.location.assign(h)}a&&o&&o({action:l,location:p.location,delta:1})},replace:function(e,t){l="REPLACE";let n=w(p.location,e,t);s&&s(n,e),d=u();let r=y(n,d),c=p.createHref(n);i.replaceState(r,"",c),a&&o&&o({action:l,location:p.location,delta:0})},go:e=>i.go(e)};return p}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s="http://localhost";"undefined"!==typeof window&&(s="null"!==window.location.origin?window.location.origin:window.location.href),b(s,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:j(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=s+n),new URL(n,s)}new WeakMap;function E(e,t){return C(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function C(e,t,s,n){let r=V(("string"===typeof t?N(t):t).pathname||"/",s);if(null==r)return null;let a=_(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let l=0;null==i&&l<a.length;++l){let e=B(r);i=z(a[l],e,n)}return i}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,l=arguments.length>3?arguments[3]:void 0,o={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(o.relativePath.startsWith("/")){if(!o.relativePath.startsWith(n)&&i)return;b(o.relativePath.startsWith(n),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(n.length)}let c=J([n,o.relativePath]),d=s.concat(o);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),_(e.children,t,d,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:I(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!==(s=e.path)&&void 0!==s&&s.includes("?"))for(let n of A(e.path))a(e,t,!0,n);else a(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[s,...n]=t,r=s.endsWith("?"),a=s.replace(/\?$/,"");if(0===n.length)return r?[a,""]:[a];let i=A(n.join("/")),l=[];return l.push(...i.map(e=>""===e?a:[a,e].join("/"))),r&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}var M=/^:[\w-]+$/,D=3,T=2,R=1,P=10,O=-2,L=e=>"*"===e;function I(e,t){let s=e.split("/"),n=s.length;return s.some(L)&&(n+=O),t&&(n+=T),s.filter(e=>!L(e)).reduce((e,t)=>e+(M.test(t)?D:""===t?R:P),n)}function z(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,r={},a="/",i=[];for(let l=0;l<n.length;++l){let e=n[l],o=l===n.length-1,c="/"===a?t:t.slice(a.length)||"/",d=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&s&&!n[n.length-1].route.index&&(d=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:J([a,d.pathname]),pathnameBase:K(J([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=J([a,d.pathnameBase]))}return i}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=U(e.path,e.caseSensitive,e.end),r=t.match(s);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),l=r.slice(1),o=n.reduce((e,t,s)=>{let{paramName:n,isOptional:r}=t;if("*"===n){let e=l[s]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[s];return e[n]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{});return{params:o,pathname:a,pathnameBase:i,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(n.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),n]}function B(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return v(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&"/"!==n?null:e.slice(s)||"/"}function H(e,t,s,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(s,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function q(e){let t=W(e);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function Y(e,t,s){let n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=N(e):(n=c({},e),b(!n.pathname||!n.pathname.includes("?"),H("?","pathname","search",n)),b(!n.pathname||!n.pathname.includes("#"),H("#","pathname","hash",n)),b(!n.search||!n.search.includes("#"),H("#","search","hash",n)));let a,i=""===e||""===n.pathname,l=i?"/":n.pathname;if(null==l)a=s;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}a=e>=0?t[e]:"/"}let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:s,search:n="",hash:r=""}="string"===typeof e?N(e):e,a=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:a,search:G(n),hash:X(r)}}(n,a),d=l&&"/"!==l&&l.endsWith("/"),u=(i||"."===l)&&s.endsWith("/");return o.pathname.endsWith("/")||!d&&!u||(o.pathname+="/"),o}var J=e=>e.join("/").replace(/\/\/+/g,"/"),K=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z=["POST","PUT","PATCH","DELETE"],$=(new Set(Z),["GET",...Z]);new Set($),Symbol("ResetLoaderData");var ee=t.createContext(null);ee.displayName="DataRouter";var te=t.createContext(null);te.displayName="DataRouterState";var se=t.createContext(!1);var ne=t.createContext({isTransitioning:!1});ne.displayName="ViewTransition";var re=t.createContext(new Map);re.displayName="Fetchers";var ae=t.createContext(null);ae.displayName="Await";var ie=t.createContext(null);ie.displayName="Navigation";var le=t.createContext(null);le.displayName="Location";var oe=t.createContext({outlet:null,matches:[],isDataRoute:!1});oe.displayName="Route";var ce=t.createContext(null);ce.displayName="RouteError";function de(){return null!=t.useContext(le)}function ue(){return b(de(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(le).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function me(e){t.useContext(ie).static||t.useLayoutEffect(e)}function pe(){let{isDataRoute:e}=t.useContext(oe);return e?function(){let{router:e}=Ne("useNavigate"),s=Se("useNavigate"),n=t.useRef(!1);me(()=>{n.current=!0});let r=t.useCallback(async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(n.current,he),n.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,c({fromRouteId:s},r)))},[e,s]);return r}():function(){b(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(ee),{basename:s,navigator:n}=t.useContext(ie),{matches:r}=t.useContext(oe),{pathname:a}=ue(),i=JSON.stringify(q(r)),l=t.useRef(!1);me(()=>{l.current=!0});let o=t.useCallback(function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(l.current,he),!l.current)return;if("number"===typeof t)return void n.go(t);let o=Y(t,JSON.parse(i),a,"path"===r.relative);null==e&&"/"!==s&&(o.pathname="/"===o.pathname?s:J([s,o.pathname])),(r.replace?n.replace:n.push)(o,r.state,r)},[s,n,i,a,e]);return o}()}t.createContext(null);function fe(e){let{relative:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=t.useContext(oe),{pathname:r}=ue(),a=JSON.stringify(q(n));return t.useMemo(()=>Y(e,JSON.parse(a),r,"path"===s),[e,a,r,s])}function xe(e,s,n,r,a){b(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(ie),{matches:l}=t.useContext(oe),o=l[l.length-1],d=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let e=m&&m.path||"";_e(u,!m||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,f=ue();if(s){var x;let e="string"===typeof s?N(s):s;b("/"===h||(null===(x=e.pathname)||void 0===x?void 0:x.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=f;let g=p.pathname||"/",y=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=E(e,{pathname:y});v(m||null!=w,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),v(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let j=we(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:J([h,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:J([h,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,n,r,a);return s&&j?t.createElement(le.Provider,{value:{location:c({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},j):j}function ge(){let e=Ee(),s=Q(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:i},"ErrorBoundary")," or"," ",t.createElement("code",{style:i},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},s),n?t.createElement("pre",{style:a},n):null,l)}var be=t.createElement(ge,null),ve=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(oe.Provider,{value:this.props.routeContext},t.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ye(e){let{routeContext:s,match:n,children:r}=e,a=t.useContext(ee);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(oe.Provider,{value:s},r)}function we(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==s.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,o=-1;if(n)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=t),e.route.id){let{loaderData:t,errors:s}=n,r=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!s||void 0===s[e.route.id]);if(e.route.lazy||r){l=!0,a=o>=0?a.slice(0,o+1):[a[0]];break}}}return a.reduceRight((e,c,d)=>{let u,h=!1,m=null,p=null;n&&(u=i&&c.route.id?i[c.route.id]:void 0,m=c.route.errorElement||be,l&&(o<0&&0===d?(_e("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):o===d&&(h=!0,p=c.route.hydrateFallbackElement||null)));let f=s.concat(a.slice(0,d+1)),x=()=>{let s;return s=u?m:h?p:c.route.Component?t.createElement(c.route.Component,null):c.route.element?c.route.element:e,t.createElement(ye,{match:c,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:s})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?t.createElement(ve,{location:n.location,revalidation:n.revalidation,component:m,error:u,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:r}):x()},null)}function je(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ne(e){let s=t.useContext(ee);return b(s,je(e)),s}function ke(e){let s=t.useContext(te);return b(s,je(e)),s}function Se(e){let s=function(e){let s=t.useContext(oe);return b(s,je(e)),s}(e),n=s.matches[s.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ee(){var e;let s=t.useContext(ce),n=ke("useRouteError"),r=Se("useRouteError");return void 0!==s?s:null===(e=n.errors)||void 0===e?void 0:e[r]}var Ce={};function _e(e,t,s){t||Ce[e]||(Ce[e]=!0,v(!1,s))}var Ae={};function Me(e,t){e||Ae[t]||(Ae[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:s,state:n,unstable_onError:r}=e;return xe(t,void 0,n,r,s)});function De(e){let{to:s,replace:n,state:r,relative:a}=e;b(de(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=t.useContext(ie);v(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=t.useContext(oe),{pathname:o}=ue(),c=pe(),d=Y(s,q(l),o,"path"===a),u=JSON.stringify(d);return t.useEffect(()=>{c(JSON.parse(u),{replace:n,state:r,relative:a})},[c,u,a,n,r]),null}function Te(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Re(e){let{basename:s="/",children:n=null,location:r,navigationType:a="POP",navigator:i,static:l=!1}=e;b(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=s.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:o,navigator:i,static:l,future:{}}),[o,i,l]);"string"===typeof r&&(r=N(r));let{pathname:d="/",search:u="",hash:h="",state:m=null,key:p="default"}=r,f=t.useMemo(()=>{let e=V(d,o);return null==e?null:{location:{pathname:e,search:u,hash:h,state:m,key:p},navigationType:a}},[o,d,u,h,m,p,a]);return v(null!=f,'<Router basename="'.concat(o,'"> is not able to match the URL "').concat(d).concat(u).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:t.createElement(ie.Provider,{value:c},t.createElement(le.Provider,{children:n,value:f}))}function Pe(e){let{children:t,location:s}=e;return xe(Oe(t),s)}t.Component;function Oe(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.Children.forEach(e,(e,r)=>{if(!t.isValidElement(e))return;let a=[...s,r];if(e.type===t.Fragment)return void n.push.apply(n,Oe(e.props.children,a));b(e.type===Te,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Oe(e.props.children,a)),n.push(i)}),n}var Le="get",Ie="application/x-www-form-urlencoded";function ze(e){return null!=e&&"string"===typeof e.tagName}var Fe=null;var Ue=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||Ue.has(e)?e:(v(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ie,'"')),null)}function Ve(e,t){let s,n,r,a,i;if(ze(l=e)&&"form"===l.tagName.toLowerCase()){let i=e.getAttribute("action");n=i?V(i,t):null,s=e.getAttribute("method")||Le,r=Be(e.getAttribute("enctype"))||Ie,a=new FormData(e)}else if(function(e){return ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||i.getAttribute("action");if(n=l?V(l,t):null,s=e.getAttribute("formmethod")||i.getAttribute("method")||Le,r=Be(e.getAttribute("formenctype"))||Be(i.getAttribute("enctype"))||Ie,a=new FormData(i,e),!function(){if(null===Fe)try{new FormData(document.createElement("form"),0),Fe=!1}catch(e){Fe=!0}return Fe}()){let{name:t,type:s,value:n}=e;if("image"===s){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,n)}}else{if(ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Le,n=null,r=Ie,i=e}var l;return a&&"text/plain"===r&&(i=a,a=void 0),{action:n,method:s.toLowerCase(),encType:r,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function We(e,t,s){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.".concat(s):t&&"/"===V(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(s):n.pathname="".concat(n.pathname.replace(/\/$/,""),".").concat(s),n}async function qe(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ye(e){return null!=e&&"string"===typeof e.page}function Je(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ke(e,t,s,n,r,a){let i=(e,t)=>!s[t]||e.route.id!==s[t].route.id,l=(e,t)=>{var n;return s[t].pathname!==e.pathname||(null===(n=s[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&s[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>i(e,t)||l(e,t)):"data"===a?t.filter((t,a)=>{let o=n.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(i(t,a)||l(t,a))return!0;if(t.route.shouldRevalidate){var c;let n=t.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:(null===(c=s[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function Ge(e,t){let{includeHydrateFallback:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.clientActionModule&&(r=r.concat(n.clientActionModule)),n.clientLoaderModule&&(r=r.concat(n.clientLoaderModule)),s&&n.hydrateFallbackModule&&(r=r.concat(n.hydrateFallbackModule)),n.imports&&(r=r.concat(n.imports)),r}).flat(1),[...new Set(n)];var n}function Xe(e,t){let s=new Set,n=new Set(t);return e.reduce((e,r)=>{if(t&&!Ye(r)&&"script"===r.as&&r.href&&n.has(r.href))return e;let a=JSON.stringify(function(e){let t={},s=Object.keys(e).sort();for(let n of s)t[n]=e[n];return t}(r));return s.has(a)||(s.add(a),e.push({key:a,link:r})),e},[])}function Qe(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=t.useContext(ee);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $e(){let e=t.useContext(te);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var et=t.createContext(void 0);function tt(){let e=t.useContext(et);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function st(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function nt(e,t,s){if(s&&!lt)return[e[0]];if(t){let s=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,s+1)}return e}et.displayName="FrameworkContext";function rt(e){let{page:s}=e,n=r(e,u),{router:a}=Ze(),i=t.useMemo(()=>E(a.routes,s,a.basename),[a.routes,s,a.basename]);return i?t.createElement(it,c({page:s,matches:i},n)):null}function at(e){let{manifest:s,routeModules:n}=tt(),[r,a]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,s){let n=await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await qe(n,s);return e.links?e.links():[]}return[]}));return Xe(n.flat(1).filter(Je).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?c(c({},e),{},{rel:"prefetch",as:"style"}):c(c({},e),{},{rel:"prefetch"})))}(e,s,n).then(e=>{t||a(e)}),()=>{t=!0}},[e,s,n]),r}function it(e){let{page:s,matches:n}=e,a=r(e,h),i=ue(),{manifest:l,routeModules:o}=tt(),{basename:d}=Ze(),{loaderData:u,matches:m}=$e(),p=t.useMemo(()=>Ke(s,n,m,l,i,"data"),[s,n,m,l,i]),f=t.useMemo(()=>Ke(s,n,m,l,i,"assets"),[s,n,m,l,i]),x=t.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(n.forEach(s=>{var n;let r=l.routes[s.route.id];r&&r.hasLoader&&(!p.some(e=>e.route.id===s.route.id)&&s.route.id in u&&null!==(n=o[s.route.id])&&void 0!==n&&n.shouldRevalidate||r.hasClientLoader?t=!0:e.add(s.route.id))}),0===e.size)return[];let r=We(s,d,"data");return t&&e.size>0&&r.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[r.pathname+r.search]},[d,u,i,l,p,n,s,o]),g=t.useMemo(()=>Ge(f,l),[f,l]),b=at(f);return t.createElement(t.Fragment,null,x.map(e=>t.createElement("link",c({key:e,rel:"prefetch",as:"fetch",href:e},a))),g.map(e=>t.createElement("link",c({key:e,rel:"modulepreload",href:e},a))),b.map(e=>{let{key:s,link:n}=e;return t.createElement("link",c({key:s,nonce:a.nonce},n))}))}var lt=!1;function ot(e){let{manifest:s,serverHandoffString:n,isSpaMode:a,renderMeta:i,routeDiscovery:l,ssr:o}=tt(),{router:u,static:h,staticContext:m}=Ze(),{matches:p}=$e(),f=t.useContext(se),x=Qe(l,o);i&&(i.didRenderScripts=!0);let g=nt(p,null,a);t.useEffect(()=>{0},[]);let b=t.useMemo(()=>{var a;if(f)return null;let i=m?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",l=h?"".concat(null!==s.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(s.hmr.runtime),";"):"").concat(x?"":"import ".concat(JSON.stringify(s.url)),";\n").concat(g.map((e,t)=>{let n="route".concat(t),r=s.routes[e.route.id];He(r,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:l,hydrateFallbackModule:o,module:c}=r,d=[...a?[{module:a,varName:"".concat(n,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(n,"_clientLoader")}]:[],...l?[{module:l,varName:"".concat(n,"_clientMiddleware")}]:[],...o?[{module:o,varName:"".concat(n,"_HydrateFallback")}]:[],{module:c,varName:"".concat(n,"_main")}];return 1===d.length?"import * as ".concat(n," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(n," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(x?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:s}=e,n=r(e,d),a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),l=["/"];for(i.pop();i.length>0;)l.push("/".concat(i.join("/"))),i.pop();l.forEach(e=>{let s=E(t.routes,e,t.basename);s&&s.forEach(e=>a.add(e.route.id))});let o=[...a].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return c(c({},n),{},{routes:o,sri:!!s||void 0})}(s,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(s.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:void 0})),t.createElement("script",c(c({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:"module",async:!0})))},[]),v=lt||f?[]:(s.entry.imports.concat(Ge(g,s,{includeHydrateFallback:!0})),[...new Set(y)]);var y;let w="object"===typeof s.sri?s.sri:{};return Me(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),lt||f?null:t.createElement(t.Fragment,null,"object"===typeof s.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,x?null:t.createElement("link",{rel:"modulepreload",href:s.url,crossOrigin:e.crossOrigin,integrity:w[s.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:s.entry.module,crossOrigin:e.crossOrigin,integrity:w[s.entry.module],suppressHydrationWarning:!0}),v.map(s=>t.createElement("link",{key:s,rel:"modulepreload",href:s,crossOrigin:e.crossOrigin,integrity:w[s],suppressHydrationWarning:!0})),b)}function ct(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function dt(e){let{error:s,isOutsideRemixApp:n}=e;console.error(s);let r,a=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Q(s))return t.createElement(ut,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},s.status," ",s.statusText),a);if(s instanceof Error)0;else{let e=null==s?"Unknown Error":"object"===typeof s&&"toString"in s?s.toString():JSON.stringify(s);new Error(e)}return t.createElement(ut,{title:"Application Error!",isOutsideRemixApp:n},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),a)}function ut(e){var s;let{title:n,renderScripts:r,isOutsideRemixApp:a,children:i}=e,{routeModules:l}=tt();return null!==l.root&&void 0!==s&&s.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?t.createElement(ot,null):null)))}var ht="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ht&&(window.__reactRouterVersion="7.9.5")}catch(qx){}function mt(e){let{basename:s,children:n,window:r}=e,a=t.useRef();null==a.current&&(a.current=g({window:r,v5Compat:!0}));let i=a.current,[l,o]=t.useState({action:i.action,location:i.location}),c=t.useCallback(e=>{t.startTransition(()=>o(e))},[o]);return t.useLayoutEffect(()=>i.listen(c),[i,c]),t.createElement(Re,{basename:s,children:n,location:l.location,navigationType:l.action,navigator:i})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=t.forwardRef(function(e,s){let n,{onClick:a,discover:i="render",prefetch:l="none",relative:o,reloadDocument:d,replace:u,state:h,target:p,to:f,preventScrollReset:x,viewTransition:g}=e,y=r(e,m),{basename:w}=t.useContext(ie),N="string"===typeof f&&pt.test(f),k=!1;if("string"===typeof f&&N&&(n=f,ht))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),s=V(t.pathname,w);t.origin===e.origin&&null!=s?f=s+t.search+t.hash:k=!0}catch(qx){v(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=t.useContext(ie),{hash:a,pathname:i,search:l}=fe(e,{relative:s}),o=i;return"/"!==n&&(o="/"===i?n:J([n,i])),r.createHref({pathname:o,search:l,hash:a})}(f,{relative:o}),[E,C,_]=function(e,s){let n=t.useContext(et),[r,a]=t.useState(!1),[i,l]=t.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=s,m=t.useRef(null);t.useEffect(()=>{if("render"===e&&l(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{l(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(r){let e=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{a(!0)},f=()=>{a(!1),l(!1)};return n?"intent"!==e?[i,m,{}]:[i,m,{onFocus:st(o,p),onBlur:st(c,f),onMouseEnter:st(d,p),onMouseLeave:st(u,f),onTouchStart:st(h,p)}]:[!1,m,{}]}(l,y),A=function(e){let{target:s,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=pe(),c=ue(),d=fe(e,{relative:i});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==n?n:j(c)===j(d);o(e,{replace:s,state:r,preventScrollReset:a,relative:i,viewTransition:l})}},[c,o,d,n,r,s,e,a,i,l])}(f,{replace:u,state:h,target:p,preventScrollReset:x,relative:o,viewTransition:g});let M=t.createElement("a",c(c(c({},y),_),{},{href:n||S,onClick:k||d?a:function(e){a&&a(e),e.defaultPrevented||A(e)},ref:ct(s,C),target:p,"data-discover":N||"render"!==i?void 0:"true"}));return E&&!N?t.createElement(t.Fragment,null,M,t.createElement(rt,{page:S})):M});ft.displayName="Link";var xt=t.forwardRef(function(e,s){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:l=!1,style:o,to:d,viewTransition:u,children:h}=e,m=r(e,p),f=fe(d,{relative:m.relative}),x=ue(),g=t.useContext(te),{navigator:v,basename:y}=t.useContext(ie),w=null!=g&&function(e){let{relative:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useContext(ne);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vt("useViewTransitionState"),a=fe(e,{relative:s});if(!n.isTransitioning)return!1;let i=V(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=V(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=F(a.pathname,l)||null!=F(a.pathname,i)}(f)&&!0===u,j=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,N=x.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(N=N.toLowerCase(),k=k?k.toLowerCase():null,j=j.toLowerCase()),k&&y&&(k=V(k,y)||k);const S="/"!==j&&j.endsWith("/")?j.length-1:j.length;let E,C=N===j||!l&&N.startsWith(j)&&"/"===N.charAt(S),_=null!=k&&(k===j||!l&&k.startsWith(j)&&"/"===k.charAt(j.length)),A={isActive:C,isPending:_,isTransitioning:w},M=C?n:void 0;E="function"===typeof i?i(A):[i,C?"active":null,_?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof o?o(A):o;return t.createElement(ft,c(c({},m),{},{"aria-current":M,className:E,ref:s,style:D,to:d,viewTransition:u}),"function"===typeof h?h(A):h)});xt.displayName="NavLink";var gt=t.forwardRef((e,s)=>{let{discover:n="render",fetcherKey:a,navigate:i,reloadDocument:l,replace:o,state:d,method:u=Le,action:h,onSubmit:m,relative:p,preventScrollReset:x,viewTransition:g}=e,v=r(e,f),y=jt(),w=function(e){let{relative:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=t.useContext(ie),r=t.useContext(oe);b(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i=c({},fe(e||".",{relative:s})),l=ue();if(null==e){i.search=l.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let s=e.toString();i.search=s?"?".concat(s):""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:J([n,i.pathname]));return j(i)}(h,{relative:p}),N="get"===u.toLowerCase()?"get":"post",k="string"===typeof h&&pt.test(h);return t.createElement("form",c(c({ref:s,method:N,action:w,onSubmit:l?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,s=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;y(t||e.currentTarget,{fetcherKey:a,method:s,navigate:i,replace:o,state:d,relative:p,preventScrollReset:x,viewTransition:g})}},v),{},{"data-discover":k||"render"!==n?void 0:"true"}))});function bt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function vt(e){let s=t.useContext(ee);return b(s,bt(e)),s}gt.displayName="Form";var yt=0,wt=()=>"__".concat(String(++yt),"__");function jt(){let{router:e}=vt("useSubmit"),{basename:s}=t.useContext(ie),n=Se("useRouteId");return t.useCallback(async function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:i,encType:l,formData:o,body:c}=Ve(t,s);if(!1===r.navigate){let t=r.fetcherKey||wt();await e.fetch(t,n,r.action||a,{preventScrollReset:r.preventScrollReset,formData:o,body:c,formMethod:r.method||i,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||a,{preventScrollReset:r.preventScrollReset,formData:o,body:c,formMethod:r.method||i,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,s,n])}const Nt=s.p+"static/media/Asset 10.08d5c67998f7ebd7e92f.png";var kt=s(579);const St=()=>{const[e,s]=(0,t.useState)(0),n=pe();return(0,t.useEffect)(()=>{let e=0;const t=()=>{e+=1,s(e),e>=100?n("/signalement"):setTimeout(t,30)};t()},[n]),(0,kt.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,kt.jsx)("img",{src:Nt,alt:"Background",className:"fixed inset-0 w-full h-full object-contain object-center pointer-events-none",style:{width:"60vw",margin:"0 auto"}}),(0,kt.jsxs)("div",{className:"absolute left-1/2 bottom-16 transform -translate-x-1/2 flex flex-col items-center z-10",children:[(0,kt.jsx)("div",{className:"text-[#0e224f] font-bold text-2xl mb-2",children:"FOSIKA"}),(0,kt.jsx)("div",{className:"w-56 h-3 bg-[#c5cad5] rounded-lg overflow-hidden mb-2 shadow-lg",children:(0,kt.jsx)("div",{className:"h-full bg-[#203355] rounded-l-lg transition-all duration-300 ease-in-out",style:{width:"".concat(e,"%")}})}),(0,kt.jsxs)("div",{className:"text-[#d32c2c] font-bold text-xl",children:[e,"%"]})]})]})},Et=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ct=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>Boolean(e)&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var _t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const At=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Mt=(0,t.forwardRef)((e,s)=>{let{color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:d,iconNode:u}=e,h=r(e,At);return(0,t.createElement)("svg",c(c(c({ref:s},_t),{},{width:a,height:a,stroke:n,strokeWidth:l?24*Number(i)/Number(a):i,className:Ct("lucide",o)},!d&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...u.map(e=>{let[s,n]=e;return(0,t.createElement)(s,n)}),...Array.isArray(d)?d:[d]])}),Dt=["className"],Tt=(e,s)=>{const n=(0,t.forwardRef)((n,a)=>{let{className:i}=n,l=r(n,Dt);return(0,t.createElement)(Mt,c({ref:a,iconNode:s,className:Ct("lucide-".concat((o=Et(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},l));var o});return n.displayName=Et(e),n},Rt=Tt("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Pt=Tt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Ot=Tt("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Lt=Tt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function It(e,t){return function(){return e.apply(t,arguments)}}const{toString:zt}=Object.prototype,{getPrototypeOf:Ft}=Object,{iterator:Ut,toStringTag:Bt}=Symbol,Vt=(Ht=Object.create(null),e=>{const t=zt.call(e);return Ht[t]||(Ht[t]=t.slice(8,-1).toLowerCase())});var Ht;const Wt=e=>(e=e.toLowerCase(),t=>Vt(t)===e),qt=e=>t=>typeof t===e,{isArray:Yt}=Array,Jt=qt("undefined");function Kt(e){return null!==e&&!Jt(e)&&null!==e.constructor&&!Jt(e.constructor)&&Qt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gt=Wt("ArrayBuffer");const Xt=qt("string"),Qt=qt("function"),Zt=qt("number"),$t=e=>null!==e&&"object"===typeof e,es=e=>{if("object"!==Vt(e))return!1;const t=Ft(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Bt in e)&&!(Ut in e)},ts=Wt("Date"),ss=Wt("File"),ns=Wt("Blob"),rs=Wt("FileList"),as=Wt("URLSearchParams"),[is,ls,os,cs]=["ReadableStream","Request","Response","Headers"].map(Wt);function ds(e,t){let s,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Yt(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(Kt(e))return;const n=r?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let i;for(s=0;s<a;s++)i=n[s],t.call(null,e[i],i,e)}}function us(e,t){if(Kt(e))return null;t=t.toLowerCase();const s=Object.keys(e);let n,r=s.length;for(;r-- >0;)if(n=s[r],t===n.toLowerCase())return n;return null}const hs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ms=e=>!Jt(e)&&e!==hs;const ps=(fs="undefined"!==typeof Uint8Array&&Ft(Uint8Array),e=>fs&&e instanceof fs);var fs;const xs=Wt("HTMLFormElement"),gs=(e=>{let{hasOwnProperty:t}=e;return(e,s)=>t.call(e,s)})(Object.prototype),bs=Wt("RegExp"),vs=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),n={};ds(s,(s,r)=>{let a;!1!==(a=t(s,r,e))&&(n[r]=a||s)}),Object.defineProperties(e,n)};const ys=Wt("AsyncFunction"),ws=((e,t)=>{return e?setImmediate:t?(s="axios@".concat(Math.random()),n=[],hs.addEventListener("message",e=>{let{source:t,data:r}=e;t===hs&&r===s&&n.length&&n.shift()()},!1),e=>{n.push(e),hs.postMessage(s,"*")}):e=>setTimeout(e);var s,n})("function"===typeof setImmediate,Qt(hs.postMessage)),js="undefined"!==typeof queueMicrotask?queueMicrotask.bind(hs):"undefined"!==typeof process&&process.nextTick||ws,Ns={isArray:Yt,isArrayBuffer:Gt,isBuffer:Kt,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Qt(e.append)&&("formdata"===(t=Vt(e))||"object"===t&&Qt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Gt(e.buffer),t},isString:Xt,isNumber:Zt,isBoolean:e=>!0===e||!1===e,isObject:$t,isPlainObject:es,isEmptyObject:e=>{if(!$t(e)||Kt(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(qx){return!1}},isReadableStream:is,isRequest:ls,isResponse:os,isHeaders:cs,isUndefined:Jt,isDate:ts,isFile:ss,isBlob:ns,isRegExp:bs,isFunction:Qt,isStream:e=>$t(e)&&Qt(e.pipe),isURLSearchParams:as,isTypedArray:ps,isFileList:rs,forEach:ds,merge:function e(){const{caseless:t,skipUndefined:s}=ms(this)&&this||{},n={},r=(r,a)=>{const i=t&&us(n,a)||a;es(n[i])&&es(r)?n[i]=e(n[i],r):es(r)?n[i]=e({},r):Yt(r)?n[i]=r.slice():s&&Jt(r)||(n[i]=r)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&ds(arguments[a],r);return n},extend:function(e,t,s){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ds(t,(t,n)=>{s&&Qt(t)?e[n]=It(t,s):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,n)=>{let r,a,i;const l={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)i=r[a],n&&!n(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==s&&Ft(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:Vt,kindOfTest:Wt,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const n=e.indexOf(t,s);return-1!==n&&n===s},toArray:e=>{if(!e)return null;if(Yt(e))return e;let t=e.length;if(!Zt(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Ut]).call(e);let n;for(;(n=s.next())&&!n.done;){const s=n.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const n=[];for(;null!==(s=e.exec(t));)n.push(s);return n},isHTMLForm:xs,hasOwnProperty:gs,hasOwnProp:gs,reduceDescriptors:vs,freezeMethods:e=>{vs(e,(t,s)=>{if(Qt(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const n=e[s];Qt(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))})},toObjectSet:(e,t)=>{const s={},n=e=>{e.forEach(e=>{s[e]=!0})};return Yt(e)?n(e):n(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,s){return t.toUpperCase()+s}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:us,global:hs,isContextDefined:ms,isSpecCompliantForm:function(e){return!!(e&&Qt(e.append)&&"FormData"===e[Bt]&&e[Ut])},toJSONObject:e=>{const t=new Array(10),s=(e,n)=>{if($t(e)){if(t.indexOf(e)>=0)return;if(Kt(e))return e;if(!("toJSON"in e)){t[n]=e;const r=Yt(e)?[]:{};return ds(e,(e,t)=>{const a=s(e,n+1);!Jt(a)&&(r[t]=a)}),t[n]=void 0,r}}return e};return s(e,0)},isAsyncFn:ys,isThenable:e=>e&&($t(e)||Qt(e))&&Qt(e.then)&&Qt(e.catch),setImmediate:ws,asap:js,isIterable:e=>null!=e&&Qt(e[Ut])};function ks(e,t,s,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}Ns.inherits(ks,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ns.toJSONObject(this.config),code:this.code,status:this.status}}});const Ss=ks.prototype,Es={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Es[e]={value:e}}),Object.defineProperties(ks,Es),Object.defineProperty(Ss,"isAxiosError",{value:!0}),ks.from=(e,t,s,n,r,a)=>{const i=Object.create(Ss);Ns.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const l=e&&e.message?e.message:"Error",o=null==t&&e?e.code:t;return ks.call(i,l,o,s,n,r),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const Cs=ks;function _s(e){return Ns.isPlainObject(e)||Ns.isArray(e)}function As(e){return Ns.endsWith(e,"[]")?e.slice(0,-2):e}function Ms(e,t,s){return e?e.concat(t).map(function(e,t){return e=As(e),!s&&t?"["+e+"]":e}).join(s?".":""):t}const Ds=Ns.toFlatObject(Ns,{},null,function(e){return/^is[A-Z]/.test(e)});const Ts=function(e,t,s){if(!Ns.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(s=Ns.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Ns.isUndefined(t[e])})).metaTokens,r=s.visitor||c,a=s.dots,i=s.indexes,l=(s.Blob||"undefined"!==typeof Blob&&Blob)&&Ns.isSpecCompliantForm(t);if(!Ns.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(Ns.isDate(e))return e.toISOString();if(Ns.isBoolean(e))return e.toString();if(!l&&Ns.isBlob(e))throw new Cs("Blob is not supported. Use a Buffer instead.");return Ns.isArrayBuffer(e)||Ns.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,r){let l=e;if(e&&!r&&"object"===typeof e)if(Ns.endsWith(s,"{}"))s=n?s:s.slice(0,-2),e=JSON.stringify(e);else if(Ns.isArray(e)&&function(e){return Ns.isArray(e)&&!e.some(_s)}(e)||(Ns.isFileList(e)||Ns.endsWith(s,"[]"))&&(l=Ns.toArray(e)))return s=As(s),l.forEach(function(e,n){!Ns.isUndefined(e)&&null!==e&&t.append(!0===i?Ms([s],n,a):null===i?s:s+"[]",o(e))}),!1;return!!_s(e)||(t.append(Ms(r,s,a),o(e)),!1)}const d=[],u=Object.assign(Ds,{defaultVisitor:c,convertValue:o,isVisitable:_s});if(!Ns.isObject(e))throw new TypeError("data must be an object");return function e(s,n){if(!Ns.isUndefined(s)){if(-1!==d.indexOf(s))throw Error("Circular reference detected in "+n.join("."));d.push(s),Ns.forEach(s,function(s,a){!0===(!(Ns.isUndefined(s)||null===s)&&r.call(t,s,Ns.isString(a)?a.trim():a,n,u))&&e(s,n?n.concat(a):[a])}),d.pop()}}(e),t};function Rs(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Ps(e,t){this._pairs=[],e&&Ts(e,this,t)}const Os=Ps.prototype;Os.append=function(e,t){this._pairs.push([e,t])},Os.toString=function(e){const t=e?function(t){return e.call(this,t,Rs)}:Rs;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Ls=Ps;function Is(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function zs(e,t,s){if(!t)return e;const n=s&&s.encode||Is;Ns.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let a;if(a=r?r(t,s):Ns.isURLSearchParams(t)?t.toString():new Ls(t,s).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Fs=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ns.forEach(this.handlers,function(t){null!==t&&e(t)})}},Us={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bs={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ls,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Vs="undefined"!==typeof window&&"undefined"!==typeof document,Hs="object"===typeof navigator&&navigator||void 0,Ws=Vs&&(!Hs||["ReactNative","NativeScript","NS"].indexOf(Hs.product)<0),qs="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ys=Vs&&window.location.href||"http://localhost",Js=c(c({},e),Bs);const Ks=function(e){function t(e,s,n,r){let a=e[r++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),l=r>=e.length;if(a=!a&&Ns.isArray(n)?n.length:a,l)return Ns.hasOwnProp(n,a)?n[a]=[n[a],s]:n[a]=s,!i;n[a]&&Ns.isObject(n[a])||(n[a]=[]);return t(e,s,n[a],r)&&Ns.isArray(n[a])&&(n[a]=function(e){const t={},s=Object.keys(e);let n;const r=s.length;let a;for(n=0;n<r;n++)a=s[n],t[a]=e[a];return t}(n[a])),!i}if(Ns.isFormData(e)&&Ns.isFunction(e.entries)){const s={};return Ns.forEachEntry(e,(e,n)=>{t(function(e){return Ns.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,s,0)}),s}return null};const Gs={transitional:Us,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",n=s.indexOf("application/json")>-1,r=Ns.isObject(e);r&&Ns.isHTMLForm(e)&&(e=new FormData(e));if(Ns.isFormData(e))return n?JSON.stringify(Ks(e)):e;if(Ns.isArrayBuffer(e)||Ns.isBuffer(e)||Ns.isStream(e)||Ns.isFile(e)||Ns.isBlob(e)||Ns.isReadableStream(e))return e;if(Ns.isArrayBufferView(e))return e.buffer;if(Ns.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ts(e,new Js.classes.URLSearchParams,c({visitor:function(e,t,s,n){return Js.isNode&&Ns.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Ns.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ts(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,s){if(Ns.isString(e))try{return(t||JSON.parse)(e),Ns.trim(e)}catch(qx){if("SyntaxError"!==qx.name)throw qx}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Gs.transitional,s=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Ns.isResponse(e)||Ns.isReadableStream(e))return e;if(e&&Ns.isString(e)&&(s&&!this.responseType||n)){const s=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(qx){if(s){if("SyntaxError"===qx.name)throw Cs.from(qx,Cs.ERR_BAD_RESPONSE,this,null,this.response);throw qx}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Js.classes.FormData,Blob:Js.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ns.forEach(["delete","get","head","post","put","patch"],e=>{Gs.headers[e]={}});const Xs=Gs,Qs=Ns.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zs=Symbol("internals");function $s(e){return e&&String(e).trim().toLowerCase()}function en(e){return!1===e||null==e?e:Ns.isArray(e)?e.map(en):String(e)}function tn(e,t,s,n,r){return Ns.isFunction(n)?n.call(this,t,s):(r&&(t=s),Ns.isString(t)?Ns.isString(n)?-1!==t.indexOf(n):Ns.isRegExp(n)?n.test(t):void 0:void 0)}class sn{constructor(e){e&&this.set(e)}set(e,t,s){const n=this;function r(e,t,s){const r=$s(t);if(!r)throw new Error("header name must be a non-empty string");const a=Ns.findKey(n,r);(!a||void 0===n[a]||!0===s||void 0===s&&!1!==n[a])&&(n[a||t]=en(e))}const a=(e,t)=>Ns.forEach(e,(e,s)=>r(e,s,t));if(Ns.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Ns.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let s,n,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),s=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!s||t[s]&&Qs[s]||("set-cookie"===s?t[s]?t[s].push(n):t[s]=[n]:t[s]=t[s]?t[s]+", "+n:n)}),t})(e),t);else if(Ns.isObject(e)&&Ns.isIterable(e)){let s,n,r={};for(const t of e){if(!Ns.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[n=t[0]]=(s=r[n])?Ns.isArray(s)?[...s,t[1]]:[s,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,s);return this}get(e,t){if(e=$s(e)){const s=Ns.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(e);)t[n[1]]=n[2];return t}(e);if(Ns.isFunction(t))return t.call(this,e,s);if(Ns.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=$s(e)){const s=Ns.findKey(this,e);return!(!s||void 0===this[s]||t&&!tn(0,this[s],s,t))}return!1}delete(e,t){const s=this;let n=!1;function r(e){if(e=$s(e)){const r=Ns.findKey(s,e);!r||t&&!tn(0,s[r],r,t)||(delete s[r],n=!0)}}return Ns.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let s=t.length,n=!1;for(;s--;){const r=t[s];e&&!tn(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,s={};return Ns.forEach(this,(n,r)=>{const a=Ns.findKey(s,r);if(a)return t[a]=en(n),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}(r):String(r).trim();i!==r&&delete t[r],t[i]=en(n),s[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ns.forEach(this,(s,n)=>{null!=s&&!1!==s&&(t[n]=e&&Ns.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,s]=e;return t+": "+s}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Zs]=this[Zs]={accessors:{}}).accessors,s=this.prototype;function n(e){const n=$s(e);t[n]||(!function(e,t){const s=Ns.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+s,{value:function(e,s,r){return this[n].call(this,t,e,s,r)},configurable:!0})})}(s,e),t[n]=!0)}return Ns.isArray(e)?e.forEach(n):n(e),this}}sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ns.reduceDescriptors(sn.prototype,(e,t)=>{let{value:s}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(e){this[n]=e}}}),Ns.freezeMethods(sn);const nn=sn;function rn(e,t){const s=this||Xs,n=t||s,r=nn.from(n.headers);let a=n.data;return Ns.forEach(e,function(e){a=e.call(s,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function an(e){return!(!e||!e.__CANCEL__)}function ln(e,t,s){Cs.call(this,null==e?"canceled":e,Cs.ERR_CANCELED,t,s),this.name="CanceledError"}Ns.inherits(ln,Cs,{__CANCEL__:!0});const on=ln;function cn(e,t,s){const n=s.config.validateStatus;s.status&&n&&!n(s.status)?t(new Cs("Request failed with status code "+s.status,[Cs.ERR_BAD_REQUEST,Cs.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const dn=function(e,t){e=e||10;const s=new Array(e),n=new Array(e);let r,a=0,i=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=n[i];r||(r=o),s[a]=l,n[a]=o;let d=i,u=0;for(;d!==a;)u+=s[d++],d%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),o-r<t)return;const h=c&&o-c;return h?Math.round(1e3*u/h):void 0}};const un=function(e,t){let s,n,r=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=a,s=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=a?i(o,e):(s=o,n||(n=setTimeout(()=>{n=null,i(s)},a-t)))},()=>s&&i(s)]},hn=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const r=dn(50,250);return un(s=>{const a=s.loaded,i=s.lengthComputable?s.total:void 0,l=a-n,o=r(l);n=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:l,rate:o||void 0,estimated:o&&i&&a<=i?(i-a)/o:void 0,event:s,lengthComputable:null!=i,[t?"download":"upload"]:!0})},s)},mn=(e,t)=>{const s=null!=e;return[n=>t[0]({lengthComputable:s,total:e,loaded:n}),t[1]]},pn=e=>function(){for(var t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return Ns.asap(()=>e(...s))},fn=Js.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Js.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Js.origin),Js.navigator&&/(msie|trident)/i.test(Js.navigator.userAgent)):()=>!0,xn=Js.hasStandardBrowserEnv?{write(e,t,s,n,r,a,i){if("undefined"===typeof document)return;const l=["".concat(e,"=").concat(encodeURIComponent(t))];Ns.isNumber(s)&&l.push("expires=".concat(new Date(s).toUTCString())),Ns.isString(n)&&l.push("path=".concat(n)),Ns.isString(r)&&l.push("domain=".concat(r)),!0===a&&l.push("secure"),Ns.isString(i)&&l.push("SameSite=".concat(i)),document.cookie=l.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function gn(e,t,s){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==s)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const bn=e=>e instanceof nn?c({},e):e;function vn(e,t){t=t||{};const s={};function n(e,t,s,n){return Ns.isPlainObject(e)&&Ns.isPlainObject(t)?Ns.merge.call({caseless:n},e,t):Ns.isPlainObject(t)?Ns.merge({},t):Ns.isArray(t)?t.slice():t}function r(e,t,s,r){return Ns.isUndefined(t)?Ns.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,t,0,r)}function a(e,t){if(!Ns.isUndefined(t))return n(void 0,t)}function i(e,t){return Ns.isUndefined(t)?Ns.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function l(s,r,a){return a in t?n(s,r):a in e?n(void 0,s):void 0}const o={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,s)=>r(bn(e),bn(t),0,!0)};return Ns.forEach(Object.keys(c(c({},e),t)),function(n){const a=o[n]||r,i=a(e[n],t[n],n);Ns.isUndefined(i)&&a!==l||(s[n]=i)}),s}const yn=e=>{const t=vn({},e);let{data:s,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=nn.from(i),t.url=zs(gn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ns.isFormData(s))if(Js.hasStandardBrowserEnv||Js.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Ns.isFunction(s.getHeaders)){const e=s.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[s,n]=e;t.includes(s.toLowerCase())&&i.set(s,n)})}if(Js.hasStandardBrowserEnv&&(n&&Ns.isFunction(n)&&(n=n(t)),n||!1!==n&&fn(t.url))){const e=r&&a&&xn.read(a);e&&i.set(r,e)}return t},wn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,s){const n=yn(e);let r=n.data;const a=nn.from(n.headers).normalize();let i,l,o,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=n;function p(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function x(){if(!f)return;const n=nn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());cn(function(e){t(e),p()},function(e){s(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(x)},f.onabort=function(){f&&(s(new Cs("Request aborted",Cs.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const n=t&&t.message?t.message:"Network Error",r=new Cs(n,Cs.ERR_NETWORK,e,f);r.event=t||null,s(r),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const r=n.transitional||Us;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),s(new Cs(t,r.clarifyTimeoutError?Cs.ETIMEDOUT:Cs.ECONNABORTED,e,f)),f=null},void 0===r&&a.setContentType(null),"setRequestHeader"in f&&Ns.forEach(a.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Ns.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),u&&"json"!==u&&(f.responseType=n.responseType),m&&([o,d]=hn(m,!0),f.addEventListener("progress",o)),h&&f.upload&&([l,c]=hn(h),f.upload.addEventListener("progress",l),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=t=>{f&&(s(!t||t.type?new on(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===Js.protocols.indexOf(g)?s(new Cs("Unsupported protocol "+g+":",Cs.ERR_BAD_REQUEST,e)):f.send(r||null)})},jn=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,n=new AbortController;const r=function(e){if(!s){s=!0,i();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Cs?t:new on(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new Cs("timeout ".concat(t," of ms exceeded"),Cs.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:l}=n;return l.unsubscribe=()=>Ns.asap(i),l}};function Nn(e,t){this.v=e,this.k=t}function kn(e){return function(){return new Sn(e.apply(this,arguments))}}function Sn(e){var t,s;function n(t,s){try{var a=e[t](s),i=a.value,l=i instanceof Nn;Promise.resolve(l?i.v:i).then(function(s){if(l){var o="return"===t?"return":"next";if(!i.k||s.done)return n(o,s);s=e[o](s).value}r(a.done?"return":"normal",s)},function(e){n("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):s=null}this._invoke=function(e,r){return new Promise(function(a,i){var l={key:e,arg:r,resolve:a,reject:i,next:null};s?s=s.next=l:(t=s=l,n(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function En(e){return new Nn(e,0)}function Cn(e){var t={},s=!1;function n(t,n){return s=!0,n=new Promise(function(s){s(e[t](n))}),{done:!1,value:new Nn(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return s?(s=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(s)throw s=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return s?(s=!1,e):n("return",e)}),t}function _n(e){var t,s,n,r=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,n=Symbol.iterator);r--;){if(s&&null!=(t=e[s]))return t.call(e);if(n&&null!=(t=e[n]))return new An(t.call(e));s="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function An(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return An=function(e){this.s=e,this.n=e.next},An.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new An(e)}Sn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Sn.prototype.next=function(e){return this._invoke("next",e)},Sn.prototype.throw=function(e){return this._invoke("throw",e)},Sn.prototype.return=function(e){return this._invoke("return",e)};const Mn=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let n,r=0;for(;r<s;)n=r+t,yield e.slice(r,n),r=n},Dn=function(){var e=kn(function*(e,t){var s,n=!1,r=!1;try{for(var a,i=_n(Tn(e));n=!(a=yield En(i.next())).done;n=!1){const e=a.value;yield*Cn(_n(Mn(e,t)))}}catch(l){r=!0,s=l}finally{try{n&&null!=i.return&&(yield En(i.return()))}finally{if(r)throw s}}});return function(t,s){return e.apply(this,arguments)}}(),Tn=function(){var e=kn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Cn(_n(e)));const t=e.getReader();try{for(;;){const{done:e,value:s}=yield En(t.read());if(e)break;yield s}}finally{yield En(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Rn=(e,t,s,n)=>{const r=Dn(e,t);let a,i=0,l=e=>{a||(a=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await r.next();if(t)return l(),void e.close();let a=n.byteLength;if(s){let e=i+=a;s(e)}e.enqueue(new Uint8Array(n))}catch(t){throw l(t),t}},cancel:e=>(l(e),r.return())},{highWaterMark:2})},{isFunction:Pn}=Ns,On=(e=>{let{Request:t,Response:s}=e;return{Request:t,Response:s}})(Ns.global),{ReadableStream:Ln,TextEncoder:In}=Ns.global,zn=function(e){try{for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return!!e(...s)}catch(qx){return!1}},Fn=e=>{e=Ns.merge.call({skipUndefined:!0},On,e);const{fetch:t,Request:s,Response:n}=e,r=t?Pn(t):"function"===typeof fetch,a=Pn(s),i=Pn(n);if(!r)return!1;const l=r&&Pn(Ln),o=r&&("function"===typeof In?(d=new In,e=>d.encode(e)):async e=>new Uint8Array(await new s(e).arrayBuffer()));var d;const u=a&&l&&zn(()=>{let e=!1;const t=new s(Js.origin,{body:new Ln,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),h=i&&l&&zn(()=>Ns.isReadableStream(new n("").body)),m={stream:h&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,s)=>{let n=t&&t[e];if(n)return n.call(t);throw new Cs("Response type '".concat(e,"' is not supported"),Cs.ERR_NOT_SUPPORT,s)})});const p=async(e,t)=>{const n=Ns.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Ns.isBlob(e))return e.size;if(Ns.isSpecCompliantForm(e)){const t=new s(Js.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ns.isArrayBufferView(e)||Ns.isArrayBuffer(e)?e.byteLength:(Ns.isURLSearchParams(e)&&(e+=""),Ns.isString(e)?(await o(e)).byteLength:void 0)})(t):n};return async e=>{let{url:r,method:i,data:l,signal:o,cancelToken:d,timeout:f,onDownloadProgress:x,onUploadProgress:g,responseType:b,headers:v,withCredentials:y="same-origin",fetchOptions:w}=yn(e),j=t||fetch;b=b?(b+"").toLowerCase():"text";let N=jn([o,d&&d.toAbortSignal()],f),k=null;const S=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let E;try{if(g&&u&&"get"!==i&&"head"!==i&&0!==(E=await p(v,l))){let e,t=new s(r,{method:"POST",body:l,duplex:"half"});if(Ns.isFormData(l)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,s]=mn(E,hn(pn(g)));l=Rn(t.body,65536,e,s)}}Ns.isString(y)||(y=y?"include":"omit");const t=a&&"credentials"in s.prototype,o=c(c({},w),{},{signal:N,method:i.toUpperCase(),headers:v.normalize().toJSON(),body:l,duplex:"half",credentials:t?y:void 0});k=a&&new s(r,o);let d=await(a?j(k,w):j(r,o));const f=h&&("stream"===b||"response"===b);if(h&&(x||f&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=d[t]});const t=Ns.toFiniteNumber(d.headers.get("content-length")),[s,r]=x&&mn(t,hn(pn(x),!0))||[];d=new n(Rn(d.body,65536,s,()=>{r&&r(),S&&S()}),e)}b=b||"text";let C=await m[Ns.findKey(m,b)||"text"](d,e);return!f&&S&&S(),await new Promise((t,s)=>{cn(t,s,{data:C,headers:nn.from(d.headers),status:d.status,statusText:d.statusText,config:e,request:k})})}catch(C){if(S&&S(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Cs("Network Error",Cs.ERR_NETWORK,e,k),{cause:C.cause||C});throw Cs.from(C,C&&C.code,e,k)}}},Un=new Map,Bn=e=>{let t=e&&e.env||{};const{fetch:s,Request:n,Response:r}=t,a=[n,r,s];let i,l,o=a.length,c=Un;for(;o--;)i=a[o],l=c.get(i),void 0===l&&c.set(i,l=o?new Map:Fn(t)),c=l;return l},Vn=(Bn(),{http:null,xhr:wn,fetch:{get:Bn}});Ns.forEach(Vn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(qx){}Object.defineProperty(e,"adapterName",{value:t})}});const Hn=e=>"- ".concat(e),Wn=e=>Ns.isFunction(e)||null===e||!1===e;const qn={getAdapter:function(e,t){e=Ns.isArray(e)?e:[e];const{length:s}=e;let n,r;const a={};for(let i=0;i<s;i++){let s;if(n=e[i],r=n,!Wn(n)&&(r=Vn[(s=String(n)).toLowerCase()],void 0===r))throw new Cs("Unknown adapter '".concat(s,"'"));if(r&&(Ns.isFunction(r)||(r=r.get(t))))break;a[s||"#"+i]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,s]=e;return"adapter ".concat(t," ")+(!1===s?"is not supported by the environment":"is not available in the build")});let t=s?e.length>1?"since :\n"+e.map(Hn).join("\n"):" "+Hn(e[0]):"as no adapter specified";throw new Cs("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r},adapters:Vn};function Yn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new on(null,e)}function Jn(e){Yn(e),e.headers=nn.from(e.headers),e.data=rn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return qn.getAdapter(e.adapter||Xs.adapter,e)(e).then(function(t){return Yn(e),t.data=rn.call(e,e.transformResponse,t),t.headers=nn.from(t.headers),t},function(t){return an(t)||(Yn(e),t&&t.response&&(t.response.data=rn.call(e,e.transformResponse,t.response),t.response.headers=nn.from(t.response.headers))),Promise.reject(t)})}const Kn="1.13.2",Gn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gn[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Xn={};Gn.transitional=function(e,t,s){function n(e,t){return"[Axios v"+Kn+"] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,r,a)=>{if(!1===e)throw new Cs(n(r," has been removed"+(t?" in "+t:"")),Cs.ERR_DEPRECATED);return t&&!Xn[r]&&(Xn[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,r,a)}},Gn.spelling=function(e){return(t,s)=>(console.warn("".concat(s," is likely a misspelling of ").concat(e)),!0)};const Qn={assertOptions:function(e,t,s){if("object"!==typeof e)throw new Cs("options must be an object",Cs.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const a=n[r],i=t[a];if(i){const t=e[a],s=void 0===t||i(t,a,e);if(!0!==s)throw new Cs("option "+a+" must be "+s,Cs.ERR_BAD_OPTION_VALUE);continue}if(!0!==s)throw new Cs("Unknown option "+a,Cs.ERR_BAD_OPTION)}},validators:Gn},Zn=Qn.validators;class $n{constructor(e){this.defaults=e||{},this.interceptors={request:new Fs,response:new Fs}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{s.stack?t&&!String(s.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+t):s.stack=t}catch(qx){}}throw s}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=vn(this.defaults,t);const{transitional:s,paramsSerializer:n,headers:r}=t;void 0!==s&&Qn.assertOptions(s,{silentJSONParsing:Zn.transitional(Zn.boolean),forcedJSONParsing:Zn.transitional(Zn.boolean),clarifyTimeoutError:Zn.transitional(Zn.boolean)},!1),null!=n&&(Ns.isFunction(n)?t.paramsSerializer={serialize:n}:Qn.assertOptions(n,{encode:Zn.function,serialize:Zn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Qn.assertOptions(t,{baseUrl:Zn.spelling("baseURL"),withXsrfToken:Zn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&Ns.merge(r.common,r[t.method]);r&&Ns.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=nn.concat(a,r);const i=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[Jn.bind(this),void 0];for(e.unshift(...i),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=Jn.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return zs(gn((e=vn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Ns.forEach(["delete","get","head","options"],function(e){$n.prototype[e]=function(t,s){return this.request(vn(s||{},{method:e,url:t,data:(s||{}).data}))}}),Ns.forEach(["post","put","patch"],function(e){function t(t){return function(s,n,r){return this.request(vn(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:n}))}}$n.prototype[e]=t(),$n.prototype[e+"Form"]=t(!0)});const er=$n;class tr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{s.subscribe(e),t=e}).then(e);return n.cancel=function(){s.unsubscribe(t)},n},e(function(e,n,r){s.reason||(s.reason=new on(e,n,r),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new tr(function(t){e=t}),cancel:e}}}const sr=tr;const nr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(nr).forEach(e=>{let[t,s]=e;nr[s]=t});const rr=nr;const ar=function e(t){const s=new er(t),n=It(er.prototype.request,s);return Ns.extend(n,er.prototype,s,{allOwnKeys:!0}),Ns.extend(n,s,null,{allOwnKeys:!0}),n.create=function(s){return e(vn(t,s))},n}(Xs);ar.Axios=er,ar.CanceledError=on,ar.CancelToken=sr,ar.isCancel=an,ar.VERSION=Kn,ar.toFormData=Ts,ar.AxiosError=Cs,ar.Cancel=ar.CanceledError,ar.all=function(e){return Promise.all(e)},ar.spread=function(e){return function(t){return e.apply(null,t)}},ar.isAxiosError=function(e){return Ns.isObject(e)&&!0===e.isAxiosError},ar.mergeConfig=vn,ar.AxiosHeaders=nn,ar.formToJSON=e=>Ks(Ns.isHTMLForm(e)?new FormData(e):e),ar.getAdapter=qn.getAdapter,ar.HttpStatusCode=rr,ar.default=ar;const ir="https://fosika.mesupres.edu.mg",lr=ar.create({baseURL:ir+"/api",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});lr.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),lr.interceptors.response.use(e=>e,e=>{var t,s,n,r,a,i,l,o,d,u,h;401===(null===(t=e.response)||void 0===t?void 0:t.status)&&console.error("\u274c [Axios] 401 d\xe9tect\xe9:",{url:null===(a=e.config)||void 0===a?void 0:a.url,method:null===(i=e.config)||void 0===i||null===(l=i.method)||void 0===l?void 0:l.toUpperCase(),message:null===(o=e.response)||void 0===o||null===(d=o.data)||void 0===d?void 0:d.message,fullUrl:(null===(u=e.config)||void 0===u?void 0:u.baseURL)+(null===(h=e.config)||void 0===h?void 0:h.url)});if(403===(null===(s=e.response)||void 0===s?void 0:s.status)&&null!==(n=e.response.data)&&void 0!==n&&n.requires_2fa){console.log("\ud83d\udd10 [Axios] 2FA Requise -> Redirection");const t=window.location.pathname;return"/two-factor-verify"!==t&&"/login"!==t&&sessionStorage.setItem("redirect_after_2fa",t),window.location.href="/two-factor-verify",Promise.reject(c(c({},e),{},{handled:!0}))}if(401===(null===(r=e.response)||void 0===r?void 0:r.status)){var m;if("/login"===window.location.pathname)return Promise.reject(e);const t=["/check-auth","/auth/check","/auth/user","/debug/token-info"],s=(null===(m=e.config)||void 0===m?void 0:m.url)||"";return t.some(e=>s.includes(e))?(console.warn("\u26a0\ufe0f [Axios] 401 sur route safe:",s,"- pas de logout"),Promise.reject(e)):(console.warn("\u26a0\ufe0f [Axios] Token invalide (401) sur:",s,"-> Logout"),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("just_logged_in"),window.location.href="/login",Promise.reject(e))}return Promise.reject(e)});const or=lr,cr=s.p+"static/media/logo rep.01c5e0826e38a3144f38.png",dr=s.p+"static/media/logo mesupres.a40be1ba808f67aa528a.png",ur=s.p+"static/media/logo fosika.ce51ba6ae78da54e97f1.png",hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAACXBIWXMAAAsSAAALEgHS3X78AAABlUlEQVQ4jWP8//8/AzbQqp6g5xxhlaproWLLyMrCySgkKPb/3ftX/3//+f7/3fsz38tba0SfnHuBTS+GoW3qCfI3WIT2nmKTUN421ZNBxkQdq6UflSxA1EYGBoYC0SfnHiDLMSFz6jWSw9dyqt4HGYjVJEzgz8DAcOG1jFEAVkNBBm7hUFr+lZGVkUgDYYCfgYFh/WsZIwcUQ0Fe3scut4QMA5HBhtcyRgJwQx8z8y58zcTJQoGBDFAXT4AbeoVVxJpCA2Eg4LWMEQ+LhmEXDwPlroQBkGtVQC7loJKBMGAAMpSHyoaCw/THUDD0DtON82UfuP//xl4AkGsoiNT+/fYelQzcCCpkwIaq/nmfQCXXNjDAEn/tzflHHH4+nkehgYWiT85dYEAuUHqvz0jx/nFvLpkGThR9cm4CjINS9IEMDv5+q1D03/c/RBr2kYGBIVD0ybkCFFFQIY0NF2mkzzk/f8uznz9//kfH385eev9K2jDhlbShADa9OKsTZPC5e5oAAwsLP8OfPx95S7M+4FXMwMAAAMHUunTFOiXrAAAAAElFTkSuQmCC",mr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABYUlEQVQ4jWP8//8/Ax7gAMUC790iohkYGN4yyUg+YOTimsQ3pXUbNm24DExgYGBoYGBgkIcJvJYxQlHAoqvxgUVVqZR3UsscfAYKMDAwbGBgYLBHtwHdQBjgCPLawDupJRDGZ0Iz7AA2w/CBH+u2BXxMKjyPzcAFDAwM+qQYBgO/dh00+FLZ1o5sICjg/ckxDAZ+7j5UwoAUhgS9iisMkQFHhP9ckAsVSA03XODv/UfeMAOpAv5cuyXOBA0/qoD/n78yshBrUNksd6LUgVz4gFoupLqBEtyi35mgSeYjNQyU5BG5CUvYE6hjoFgusoEUudJEQud6qLrHEZiBH6BFFlkAFHaSPKKeIL3IyQZUbCUyMDDMJ8VQKR6xX9Hafu5awsoP0Q0EAVCJA4p1EA0vXHEBcyn9e2JcQk4ww7AZCAKgWAdlR1AQBKCXQoIcfH+UBeRuG4prNVlJG65A0cnAwAAAIHdbTEHyUXkAAAAASUVORK5CYII=";var pr=s(531);const fr={fr:{welcome:{title:'Bienvenue sur la plateforme de signalement des fraudes acad\xe9miques, faux dipl\xf4mes et harc\xe8lement - "FOSIKA""',subtitle:"Sous l'\xe9gide du MINISTERE DE L'ENSEIGNEMENT SUPERIER ET DE LA RECHERCHE SCIENTIFIQUE (MESUPRES), en partenariat avec le BIANCO, la plateforme FOSIKA s'inscrit dans la volont\xe9 nationale d'assainir le syst\xe8me d'enseignement sup\xe9rieur et de restaurer la confiance du public.",initiative:"Cette initiative permet de signaler en toute confidentialit\xe9 tout cas de :",cases:["Faux dipl\xf4mes utilis\xe9s lors des recrutements,","Faux dipl\xf4mes dans le but d'obtenir la validation d'une candidature ou une \xe9volution dans une carri\xe8re professionnelle,","Dipl\xf4mes et attestations falsifi\xe9s,","Violence sexuelle constat\xe9e."],contribute:"Par vos signalements, vous contribuez \xe0 :",benefits:["Renforcer l'int\xe9grit\xe9 acad\xe9mique,","Promouvoir la transparence institutionnelle,","D\xe9fendre la valeur du m\xe9rite et du savoir."],vigilance:"Votre vigilance est un acte citoyen. Ensemble, prot\xe9geons la cr\xe9dibilit\xe9 de nos universit\xe9s et la dignit\xe9 de notre syst\xe8me \xe9ducatif.",slogan:"Op\xe9ration FOSIKA : assainir, prot\xe9ger, refonder.",submitBtn:"SOUMETTRE UN SIGNALEMENT"},choice:{title:"CHOISISSEZ",anonymous:"Anonyme",identified:"Je m'identifie",back:"RETOUR"},proof:{title:"PREUVES DISPONIBLES",question:"Avez-vous des preuves \xe0 joindre \xe0 votre signalement ?",description:"Les preuves peuvent inclure : photos, vid\xe9os, documents, captures d'\xe9cran, etc.",yes:"Oui, j'ai des preuves",no:"Non, je n'ai pas de preuves",continueWithoutProof:"SOUMETTRE SANS PREUVES",back:"RETOUR"},personal:{title:"MES INFORMATIONS",name:"Nom complet",email:"Email",phone:"T\xe9l\xe9phone",address:"Adresse",accept:"Je certifie que ces informations sont exactes",continue:"CONTINUER",back:"RETOUR"},category:{title:"SIGNALEMENT",selectLabel:"Cat\xe9gorie de signalement :",selectPlaceholder:"S\xe9lectionnez une cat\xe9gorie...",detailsLabel:"Description d\xe9taill\xe9e de la situation :",detailsPlaceholder:"D\xe9crivez en d\xe9tail la situation que vous souhaitez signaler...",back:"RETOUR",continue:"CONTINUER"},upload:{title:"PI\xc8CES JUSTIFICATIVES",attachments:"Pi\xe8ces jointes (photos, vid\xe9os, documents) - Obligatoire",attachmentsInfo:"Formats accept\xe9s: JPG, JPEG, PNG, MP4, PDF \u2022 Taille max: 8 Mo \u2022 Au moins 1 fichier requis",uploadLabel:"Cliquez pour ajouter des fichiers",uploadSubtext:"ou glissez-d\xe9posez vos fichiers ici",filesAdded:"Fichiers ajout\xe9s",acceptTruth:"Je certifie que les informations fournies sont v\xe9ridiques et exemptes de tout mensonge",submit:"SOUMETTRE LE SIGNALEMENT",submitting:"Envoi en cours...",back:"RETOUR"},success:{title:"Signalement re\xe7u avec succ\xe8s",thanks:"Nous vous remercions pour votre contribution",reference:"R\xe9f\xe9rence de votre dossier",tracking:"Vous pouvez suivre l'\xe9tat de votre dossier via cette r\xe9f\xe9rence.",trackButton:"Suivre mon dossier",home:"Retour \xe0 l'accueil"},categories:{"faux-diplomes":"Faux dipl\xf4mes","Offre de formation irr\xe9guli\xe8re ( non habilit\xe9)":"Offre de formation irr\xe9guli\xe8re ( non habilit\xe9)","recrutements-irreguliers":"Recrutements irr\xe9guliers",harcelement:"Harc\xe8lement",corruption:"Corruption",divers:"Divers"},errors:{required:"Ce champ est obligatoire",emailInvalid:"Email invalide",phoneInvalid:"Num\xe9ro de t\xe9l\xe9phone invalide",categoryRequired:"Veuillez s\xe9lectionner une cat\xe9gorie",descriptionRequired:"Veuillez d\xe9crire la situation",termsRequired:"Veuillez accepter les conditions",truthRequired:"Veuillez certifier la v\xe9racit\xe9 des informations",filesRequired:"Au moins une pi\xe8ce jointe est obligatoire",submission:"Erreur lors de la soumission du signalement",network:"Erreur de connexion au serveur. Veuillez r\xe9essayer.",fillRequired:"Veuillez remplir tous les champs obligatoires"},required:"*"},mg:{welcome:{title:"Tongasoa eto amin'ny tambajotra miady amin'ny trangana HOSOKA sy DIPLAOMA sandoka ary HERISETRA ara-pananahana - \"FOSIKA\"",subtitle:"Eo ambany fiahian'ny MINISTERAN'NY FAMPIANARANA AMBONY SY FIKAROHANA ARA-TSIANSA (MESUPRES), sy ny fiaraha-miasa amin'ny Birao Mahaleo-tena Miady amin'ny Kolikoly \"BIANCO\", dia tafiditra ao anatin'ny ezaka nasionaly hanadiovana ny rafi-pampianarana ambony sy hamerenana ny fitokisan'ny vahoaka ny Tambanjotra \"FOSIKA\".",initiative:"Ity sehatra ity dia natao ahafahana manangom-baovao am-pitokisana momba ireto tranga manaraka ireto :",cases:["Diplaoma sandoka ampiasaina amin'ny fandraisana mpiasa,","Diplaoma sandoka ampiasaina mba hahazoana fanamarinana ny fangatahana na fankatoavana ho amin'ny fisondrotana ara-kasa,","Taratasy fanamarinana sandoka,","Herisetra ara-nofo na ara-pananahana."],contribute:"Amin'ny fanamarihana sy fanairana ataonao, dia mandray anjara amin'ireto manaraka ireto ianao :",benefits:["Fanamafisana ny fahamarinana sy fangaraharana akademika,","Fampiroboroboana ny fahadiovana ara-pitantanana,","Fiarovana ny hasin'ny fahaiza-manao sy ny fahalalana."],vigilance:"Ny fahamalinanao dia adidy amin'ny maha olom-pirenena. Isika miaraka no hiaro ny hasin'ny anjerimanontolo sy ny rafi-pampianarana.",slogan:"HETSIKA FOSIKA : manadio, miaro, manavao.",submitBtn:"HANDEFA FITARAINANA"},choice:{title:"SAFIDIO",anonymous:"Tsy mitonona anarana",identified:"Hilaza ny momba ahy",back:"HIVERINA"},proof:{title:"POROFO MISY",question:"Manana porofo ampiana amin'ny fitarainana ve ianao ?",description:"Afaka misy porofo toy ny : sary, horonantsary, taratasy, capture \xe9cran, sns.",yes:"Eny, manana porofo aho",no:"Tsia, tsy manana porofo aho",continueWithoutProof:"Hanalefa tsy misy porofo",back:"HIVERINA"},personal:{title:"MOMBA AHY",subtitle:"MANAO NY FANAMBARANA",name:"Anarana feno",email:"Mailaka",phone:"Finday",address:"Adiresy",accept:"Ekeko fa marina ireo momba ahy ireo",continue:"TOHINY",back:"HIVERINA"},category:{title:"FITARAINANA",selectLabel:"Karazana fitarainana :",selectPlaceholder:"Safidio ny karazana...",detailsLabel:"Fanazavana ilay tranga :",detailsPlaceholder:"Ampidiro eto ny fanazavana manodidina ilay tranga...",back:"HIVERINA",continue:"TOHINY"},upload:{title:"POROFO",attachments:"Pi\xe8ces jointes (Sary, Horonantsary, Taratasy) - TSY MAINTSY",attachmentsInfo:"Karazana ekena: JPG, JPEG, PNG, MP4, PDF \u2022 Habe fara-tampony: 25 Mo \u2022 Tsy maintsy misy rakitra iray farafahakeliny",uploadLabel:"Tsindrio eto mba hampiditra rakitra",uploadSubtext:"na asio eto ny rakitrao",filesAdded:"Rakitra nampidirina",acceptTruth:"Izaho dia minia marina fa tsy misy fitaka na lainga izay voalaza",submit:"HALEFA NY FITARAINANA",submitting:"Mandefa...",back:"HIVERINA"},success:{title:"Voaray ny Fitarainanao",thanks:"Ankasitrahanay feno ianao",reference:"R\xe9f\xe9rence an'ilay antontataratasy",tracking:"Afaka manaraka ny fivoaran'ny dosierao amin'ity r\xe9f\xe9rence ity.",trackButton:"Hanaraka ny antontataratasy",home:"Hiverina any am-piandohana"},categories:{"faux-diplomes":"Diplaoma sandoka","Offre de formation irr\xe9guli\xe8re ( non habilit\xe9e)":"Tolotra fiofanana tsy ara-dal\xe0na (tsy nahazoana alalana)","recrutements-irreguliers":"Fampidirana mpiasa tsy ara-dal\xe0na",harcelement:"Fanararaotana",corruption:"Kolikoly",divers:"Hafa"},errors:{required:"Tsy maintsy fenoina ity",emailInvalid:"Email tsy mety",phoneInvalid:"Laharana tsy mety",categoryRequired:"Safidio ny karazana",descriptionRequired:"Lazao ny momba ny tranga",termsRequired:"Ekeo ny fepetra",truthRequired:"Marina ve ny voalaza?",filesRequired:"Tsy maintsy misy rakitra iray farafahakeliny",submission:"Nisy olana tamin'ny fandefasana",network:"Tsy afaka mifandray. Andramo indray.",fillRequired:"Fenoy daholo ny saha ilaina"},required:"*"}},xr=e=>{let{language:s,setLanguage:n,setStep:r,navigate:a}=e;const i=fr[s],[l,o]=(0,t.useState)(!1);return(0,kt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill overflow-x-hidden",children:[(0,kt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-3",children:(0,kt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,kt.jsx)("img",{src:cr,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,kt.jsx)("img",{src:dr,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,kt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,kt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,kt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"REPOBLIKAN'I MADAGASIKARA"}),(0,kt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["MINISITERAN'NY FAMPIANARANA AMBONY",(0,kt.jsx)("br",{}),"SY FIKAROHANA ARA-TSIANSA"]})]})]})})}),(0,kt.jsxs)("div",{className:"relative w-full max-w-7xl flex-1 min-h-[70vh] md:min-h-0",children:[(0,kt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,kt.jsxs)("div",{className:"absolute top-4 md:top-8 lg:top-12 right-4 z-50",children:[(0,kt.jsxs)("div",{className:"hidden md:block",children:[(0,kt.jsx)("div",{className:"text-center font-semibold text-gray-800 mb-2 text-xs",children:"fr"===s?"Choisir la langue":"Safidio ny fiteny"}),(0,kt.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,kt.jsxs)("button",{onClick:()=>n("mg"),className:"flex flex-col items-center gap-1 p-1.5 rounded transition-colors ".concat("mg"===s?"bg-gray-100":"hover:bg-gray-50"),children:[(0,kt.jsx)("img",{src:mr,alt:"Malagasy",className:"w-7 h-7 rounded-full border border-gray-300"}),(0,kt.jsx)("span",{className:"text-xs text-gray-700",children:"Malagasy"})]}),(0,kt.jsxs)("button",{onClick:()=>n("fr"),className:"flex flex-col items-center gap-1 p-1.5 rounded transition-colors ".concat("fr"===s?"bg-gray-100":"hover:bg-gray-50"),children:[(0,kt.jsx)("img",{src:hr,alt:"Fran\xe7ais",className:"w-7 h-7 rounded-full border border-gray-300"}),(0,kt.jsx)("span",{className:"text-xs text-gray-700",children:"Fran\xe7ais"})]})]})]}),(0,kt.jsxs)("div",{className:"md:hidden relative",children:[(0,kt.jsx)("button",{onClick:()=>o(!l),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:(0,kt.jsxs)("svg",{className:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,kt.jsx)("circle",{cx:"12",cy:"6",r:"1.5"}),(0,kt.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,kt.jsx)("circle",{cx:"12",cy:"18",r:"1.5"})]})}),l&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),(0,kt.jsxs)("div",{className:"absolute right-0 top-10 z-50 bg-white rounded-lg shadow-lg border border-gray-200 p-3 min-w-[140px]",children:[(0,kt.jsx)("div",{className:"text-xs font-semibold text-gray-800 mb-2 text-center",children:"fr"===s?"Langue":"Fiteny"}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsxs)("button",{onClick:()=>{n("mg"),o(!1)},className:"flex items-center gap-2 w-full p-2 rounded transition-colors ".concat("mg"===s?"bg-green-50 text-green-700":"hover:bg-gray-50"),children:[(0,kt.jsx)("img",{src:mr,alt:"Malagasy",className:"w-5 h-5 rounded-full border border-gray-300"}),(0,kt.jsx)("span",{className:"text-xs font-medium",children:"Malagasy"})]}),(0,kt.jsxs)("button",{onClick:()=>{n("fr"),o(!1)},className:"flex items-center gap-2 w-full p-2 rounded transition-colors ".concat("fr"===s?"bg-blue-50 text-blue-700":"hover:bg-gray-50"),children:[(0,kt.jsx)("img",{src:hr,alt:"Fran\xe7ais",className:"w-5 h-5 rounded-full border border-gray-300"}),(0,kt.jsx)("span",{className:"text-xs font-medium",children:"Fran\xe7ais"})]})]})]})]})]})]}),(0,kt.jsxs)("div",{className:"relative z-10 p-4 md:p-8 lg:p-12 pt-8 md:pt-12 lg:pt-16 h-full flex flex-col justify-center md:justify-start",children:[(0,kt.jsx)("div",{className:"absolute left-1/2 top-4 transform -translate-x-1/2 z-20 pointer-events-none md:hidden",children:(0,kt.jsx)("img",{src:ur,alt:"Logo Fosika",className:"h-20 w-auto object-contain"})}),(0,kt.jsxs)("div",{className:"relative mb-4 md:mb-6 mt-20 md:mt-0 md:-mt-2 lg:-mt-4",children:[(0,kt.jsxs)("div",{className:"pl-2 md:pl-2 text-left",children:[(0,kt.jsx)("span",{className:"text-base sm:text-lg md:text-3xl lg:text-5xl font-bold text-[#5e8f3e] block",children:"fr"===s?"Bonjour":"Miarahaba"}),(0,kt.jsx)("span",{className:"text-base sm:text-lg md:text-3xl lg:text-5xl font-bold text-[#b3d088] inline",children:"fr"===s?"cher visiteur":"tompoko"}),(0,kt.jsx)("span",{className:"text-base sm:text-lg md:text-3xl lg:text-5xl font-bold text-[#223250] inline",children:","})]}),(0,kt.jsx)("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 pointer-events-none hidden md:block",children:(0,kt.jsx)("img",{src:ur,alt:"Logo Fosika",className:"h-24 sm:h-28 md:h-32 lg:h-32 xl:h-48 w-auto object-contain md:translate-y-0 translate-y-2"})})]}),(0,kt.jsx)("div",{className:"mb-6 bg-[#223250] rounded-[15px] md:rounded-[20px] px-3 md:px-4 py-1.5 md:py-2 w-24 inline-block mr-auto hidden md:block",children:(0,kt.jsxs)("svg",{width:"60",height:"20",className:"md:w-80 md:h-26",children:[(0,kt.jsx)("ellipse",{cx:"12",cy:"10",rx:"6",ry:"6",fill:"#ffffff"}),(0,kt.jsx)("ellipse",{cx:"30",cy:"10",rx:"6",ry:"6",fill:"#ffffff"}),(0,kt.jsx)("ellipse",{cx:"48",cy:"10",rx:"6",ry:"6",fill:"#ffffff"})]})}),(0,kt.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-8 lg:gap-16 items-center flex-1",children:[(0,kt.jsxs)("div",{className:"flex-1 pl-2 md:pl-4 pr-1 md:pr-2",children:[(0,kt.jsx)("div",{className:"clear-both"}),(0,kt.jsxs)("div",{className:"text-gray-700 text-xs md:text-sm lg:text-base leading-relaxed mb-4 md:mb-6 max-h-[300px] md:max-h-[250px] lg:max-h-none overflow-y-auto pr-2 md:pr-3 pl-1 md:pl-2 scrollable-text",children:[(0,kt.jsx)("p",{className:"mb-2 md:mb-3 text-justify text-xs md:text-sm",children:i.welcome.title}),(0,kt.jsx)("p",{className:"mb-2 md:mb-3 text-justify text-xs md:text-sm",children:i.welcome.subtitle}),(0,kt.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,kt.jsx)("p",{className:"font-semibold text-gray-800 mb-1 md:mb-2 text-left text-xs md:text-sm",children:i.welcome.initiative}),(0,kt.jsx)("ul",{className:"space-y-0.5 md:space-y-1 text-gray-700 text-xs md:text-sm",children:i.welcome.cases.map((e,t)=>(0,kt.jsxs)("li",{className:"flex items-start",children:[(0,kt.jsx)("span",{className:"text-[#b3d088] mr-1 md:mr-2",children:"\u2713"}),(0,kt.jsx)("span",{className:"text-justify",children:e})]},t))})]}),(0,kt.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,kt.jsx)("p",{className:"font-semibold text-gray-800 mb-1 md:mb-2 text-left text-xs md:text-sm",children:i.welcome.contribute}),(0,kt.jsx)("ul",{className:"space-y-0.5 md:space-y-1 text-gray-700 text-xs md:text-sm",children:i.welcome.benefits.map((e,t)=>(0,kt.jsxs)("li",{className:"flex items-start",children:[(0,kt.jsx)("span",{className:"text-[#b3d088] mr-1 md:mr-2",children:"\u2713"}),(0,kt.jsx)("span",{className:"text-justify",children:e})]},t))})]}),(0,kt.jsx)("p",{className:"mb-2 md:mb-3 text-justify text-xs md:text-sm",children:i.welcome.vigilance}),(0,kt.jsx)("p",{className:"text-center font-bold text-[#5e8f3e] text-xs md:text-base lg:text-lg",children:i.welcome.slogan})]})]}),(0,kt.jsxs)("div",{className:"flex flex-col gap-4 md:gap-6 w-full lg:w-auto items-center",children:[(0,kt.jsx)("button",{onClick:()=>r(1),className:"px-8 py-2 md:px-8 md:py-2 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-sm md:text-lg transition-all shadow-md rounded-none flex items-center justify-center flex-col min-w-[180px] md:min-w-[220px]",children:i.welcome.submitBtn}),(0,kt.jsx)("button",{onClick:()=>a("/suivi"),className:"px-8 py-2 md:px-8 md:py-2 border-2 border-[#b3d088] text-[#277335] hover:text-[#4a7b32] font-bold text-sm md:text-lg transition-all hover:bg-gray-50 shadow-md rounded-none min-w-[180px] md:min-w-[220px]",children:"fr"===s?"SUIVRE UN DOSSIER":"HANARAKA FITARAINANA"}),(0,kt.jsx)("button",{onClick:()=>a("/enseignants"),className:"mt-3 text-[#4c7026] hover:text-[#2d4a12] text-xs md:text-sm font-bold underline underline-offset-4 transition-colors text-center leading-tight",children:"fr"===s?(0,kt.jsxs)(kt.Fragment,{children:["Consulter la liste des ",(0,kt.jsx)("br",{})," enseignants chercheurs permanents"]}):(0,kt.jsxs)(kt.Fragment,{children:["Hijery ny lisitry ny ",(0,kt.jsx)("br",{})," mpampianatra mpikaroka maharitra"]})})]})]})]}),(0,kt.jsx)("div",{className:"absolute bottom-0 right-0 z-10",children:(0,kt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAYAAACJm/9dAAAACXBIWXMAAAsSAAALEgHS3X78AAAgAElEQVR4nO2dCZwU1b3vzzlVvfesioggEBFmBucmiHrBoAnMiAkxJkYwbteFqNct0bjwXnIVN6IxQWMwvlyNC1efXqMRs11fVGDGaHjINRoSiTAoBhVCEGGW3qurzrmfX9ul7TDd00tVd3X3+X4++eTj0NNdM1O/Ov/9T4UQpN5p6JjfHNq8eqDefw+Sj1Hr+XcBQUzlxgMHU9pJCGl3wCVJHAKr1z/EjLaueydz472LtNhCjxBeB1ySxEHU3YlxVFvXtRFCv7tI11oXazEyRCm5n/hCDrg0iYOoG2HMaOv6sk7IPTMMfdw1WtQ9gfPU199gKvEI8WrFL1DiKGpeGA0d8yd3cP3RJkGOuiUe8U7nugOuSuJ0alYYcKw7Df3HYxk7c2k86p5tJB1wVZJqoSaFcURb1y1jKF1yip7wfkOLO+CKJNVGTQkDfsQ+yv7zXF1rgGPdmEeOZoPqIv2UrS7LBUqqhpoQRkPH/BmTuPGr4Y51vuxkbGclr1/iPGrlxGg+2tAnLY+HHXApklqgJhJ8oc2rX3hVUaUqJJZRM5lvQcheJOsKZTtlGiFE1klJPkHNCKNBiBdeVlwFf982pkRDm1dvtOWiJFVLzQhjk6L+x4YihCGRjETNCAN+Rq/qkn6GxBJqqrq2GD8jTGldl95LRqamhFGMnwEx2XZBkqqlpoQh/QyJVdSUMKSfIbGKmuvgKzafIZFkUnPCKMTPQJOSn4gdtl+UpOoomzDQH3FYe/dldn9OIX4GThZFkLfsviZJ9VE2YRwo+F9VQm62+3OknyGxgrII45/b5v3hEi12yDTD8KPV1O7Pg5+xg9XtABSJBdh+92BMzTTDOAaddCfpCX+noV9u92fm62dIJ12SDVuFAZ9CJeTCu+JhN/4bfdchSk+z+6+Rr5+xWVFTr7X7eiTVh23COG7avOMP4fwHT0QHFfNr6KxTCDkIjridvyn4GS+orqidnyGpbWwRBvyIHYw9e2s8Ehzed31WMu6bxo0L7f6t+gTZJf0MSbFYfufgNBgn+Cs/iYX9I81wmq3rcI7Ps/sv5iFiTTH9GRIJsaPn+2DBX74qET0w2xwniGUfpYdZ/bnD2caUe9cprsWLkgl3tte8pLgwW2d7rvdJR9FSkbTxnI9vEXy++W8hSue6Cfnja309i+z7SSSVwFJhTG/rfnaBrrUtSiZyvu4rSc3f3tZ99pa+tY/Z9TOjK++Itq4YISSrMAxC9E5Dv+nYafNIgtKjNEIa8HWd0IYWwVOn6eeFcM/gut/8nln6x4KHyL/qb7LrR5BUEMuE0TVt7g0zOZ+3NBEZ9bULkwnysqpeSgixTRgkZU6R93Yw1pRtnA58oCFKU2bdBGGQQsfu2E1Dx/y5nYZ+Pk4mfFSU0rF+IXa7cVgR8vCrfT13OOqCawhLhIGnv5+y6+5PhLI+nTPBk/YfVPmM3b9GjxDPvqy4OhfxkU+wUufY2lFrBdNtCjceShIyc7GebJplJFNh7owgxiQEFVa5vMsPb+++djdl7XLpjfWU7Hxj2JlOyUO/iA6685n8Z/I5XXPje+384TYp6mPrFJdm1/tbWWuFKYodbd1vzTT0zUsS0XkvRAaacPqeqGv7TVTEyXZlIkruioXHjhP8TbvD3/VISScG/iDjOV97XyxUkCjAAl1zb2PKMkLIyXb93vPxMyoNToiDBX92ghBTrk5E1EKGT+O1X08mDlyruH5MCDnfqT9jNVLSidFp6NedqGutxZgkeBLuZMpcu39naT/D7o8pGDxUZrZ1PTWVG30/ioXbnowOFiQKE5wc/ZTZ9nCpV0q6YzYp6q2/cnlCsLWL4dOGzuwuKkz7Gba8d7G1VjCbxnO+7fRkfOFzkYGSVxQcbSSDdpul9UZJwoDTN5EbJ13lCxZlx5ejqNBOP6PQWiucEsdOm/fbFiF++XhssNWqFQWTBXeP5/wIS95MkqLkqNQftva+NKOta+UKj/9iHOuFAHPqLo8ftvESu/4c2fwMmFc76IdlXHjy4yY3eUFxhZHjwH/2U8ZVIkIIlW4I9xe9xBK1Y+MYe/oUPXGg1Ts7kFtZq7jm2x3+ricsCddu7Ou55PD27lPmJ7WxhfgbcNh9QgRgToU2r86ZgS4FRsjbX/E3fWoXY+6gEHvIhyoJZe7eG/bk3zg8BDqzrev1HYx1FpPrOHbavOVRSi+/PxryyVVn1YFlCb7dlH3xAn/DBtjMhUSoUFT4pMuLkgrbklWv9/XMLPU9IKI3mNo5gedvlcF0msyNns9w44ibE5GCI3eSymFZuAYmyxjO717h9ufx6o+BOVWOosJSwYmSaW6RtMmF02Wkt4YzjBzDZVrsSPSj2CmKdNRtj20fUIdYGsdcv7V3yWrVva2QKBBMkyQhk6sgSbU9LYSPgB8yUtYZUacxgq+/Pxo6cLS6MSvYyRQI9xnbP6iOsDzAv4OxE670BeOFhDLn6cngeM5PKvWz7QxZwgfqp9QY7XVYsC8IeXJVdLBsq5M3MjU6WpWwpDAsFwZuoBYhll7lDeYdnEdRYSPhlxb7mbgZ29u69/qF+KOdJw8lZCCX4NHf3ijE95+ODvrKWZD4DmPczuBFPWJLShhVn39jyqbn1fwqMfBkjRDaWchnpHMC/zGx/YTQAl1b/kx0oPVqLarY2R2IIQuZycwh+rFKZrR19XQa+mJksMvpZEOocjC19dhWK7GdKV3XeQPRfE2qYwy9CWXWo70OoV2UUkzmxnun6InzeiP9QeRPcDPa3R2ItcdYf2xC0yvKMB5ohqHPM4c+lBP4cxBsuT+31rFNGHBKvYL864W+xrwM7fm6htqra7L9OwSBG3Cs4H0XabGFPZGBIBJlmU9nu7sDdzL217Q9b8Imtp/w7mItPqdSG2MxDUVOOrEeW6vr0KEXJ+TZh9yjJ4wRtu2n7LPDv44Izz+1db2Gcuyl8eic9eF+d65Ij9kdWPrV7w9C0rDnzX8QhBzy3UTk0HJEnrLxG5cbOwTliWExtpedblLUc1a6fPvyqXCdxvUGM7KEm7uzrWv7RG48fVs8cuRT0UFvPsV2pTryo5FpzzcKoVRSFPidtgrxdsUuoIaxXRgpk4qI8y7wNY6aMl6ga64xgj86sf2EoaON5EP/NzY06cFYyFVI9and3YEBIrbArsf/jjEqW96B4AZaXCt6ETVKWRoVNvb1/Bch5LcrPLmz4jCnzkomjvh1dKABjmyxIU+7ugMRCRskbNYbyofFh42ksiUe97t92lamPFDRi6hRytbBgxEzT7o8H+Tq3YAjjQhTqTkAdAd2Gvqykt5kGBBFixB/OU2PN28usv/ESvB7bBX8FdnvbQ9lbW3bRdn8K3zBmNXvOzwkbEd3IOZlwdG+IhEjTugIXOn2kiih8SPaum6p+MXUIGX9CyOqQwl5ZJknUPJ7QQyIds0KtsRv9AT281+s7A5EmPhCLfbRvCx8Nsyp8XzUChFbwOdvUFwDlJBZjJCryrFaod4o+6MPvRs9quudYttNcVPAV5kXaAk/7vLet4eycRsVddfw97OqOxAZ7emGMSezuWi6YaTyB5WaQwWnu5Hw+GVaLHhbPBKcxA0ZrrWYitgE7zBl7vXeQKyQQkOYL0u8wZQgfqe6l7y7ZU0DRAYb23y/zNfDnNrLWEmTM1D71Gno+yXvOrhOiu1zt4I7Pf6kS5AWnGCI2HXpyUm41opdUA1SEWGg4E0n5I6RTKDh4Aa8yhvUzvE1vvOi6rocghg+gQ/v5xfiycxEYkZ3YFFFhZis2CLEBSOVeeDE2FkhPwMnY5MQxv9ORD3m167UooiPnSsHIlhHxbzIv/b13PCq4novW6EhboBF/qb4Jb6GbZsUdeGmvp7Jb29Z+9Ns77dJUb89PJFY7MoBJBf3UvadB2JDIx4LpU71KIU7PP5kk+CfGLWDh8DdsbBvnOCr5fA1a6hoeGUHY0cv9QY+0bvxlMtDvhBo1pZ5/eteU9SOzX1rD0/nQXKSDltecaMn8NEdU0x3IIYWeIi4H6Xjuapkx3NedoHgYfE+ZezOeHg/wSKxieFrU7kh8xoWUFFh4GZ2C3IhejcgiK5Ac/gnbv9zbzKl7b/7eo8rtMcAtVlvMvVd0xEvtDsQr3uXKf8PT9/RSscrMdTgAbeXH8WTSjanHzmgBiFOQn1Z2S+uxqh4QB438w6m/OYRl/fh7Uw59I2+tV8spekGHYSZc67y7Q6EKMYKvuX78XAwn5t+eplDtTAR32IqvTmee5r8j+Mhb5KQR6VJVRqOmF2JrPj6rb3nW5HFhajGcP64WX6Sb1FhB9f/6yItNhbmVz4s1izPU+bkGm+D+CxP0tFOMpwm39RiWH3wXFkvsMaoySV1cMSfUj0pRzyf7kDMfTJXLudLObv0YBruoZTcFsuv5wNh3KlcP/L4afP+1faLq1FqUhhmRa/piB9p6L5s3YGwxxOUXlGJ7rt8We7x89OSiYIG5d4VD7t2MrZCZsWLo2bXmiKSZfadp4sK9+sOxE0zROkvsNujMlc5OjgtELW7tEDTDSfailjYO4HzNZW58uqmpvf9bmfKqbd7/GGEVYd3B6ad7Zdx8zh5QuA1viD5t3i0qL8Tfu75ujZFZsULp6aFAUdcIeSxlW7fJ7oDwRRuPA1nu5LJutFACHsc53yeUfywdpkVL46a3xCPeqpHXN7Qp7nh6jT0VC845lBN5MZxVk8dtxKYT8s9frIiHirpbySz4sVR88IArYKf9azqNlBUmNoZSMgtcE4dcGlZwQzgIw09lWEvFZkVLxwq6mQCNyaN7KHsMwEiBh+KhlqcPI4fhZMX+BvE+nB/cSubsvB1f5O+i7Lz7dyvXivUxYlB0gPgBCH0n42ko0UBlnoD4lwtbqkowI/iITVOyc+kSTU6dSMMlIVM5YZIEMvvN0uBwx0tIjybD8iK3xqP+Cdw/kcn/w6cQF0IA09IPCkfjg0xZMOLXSppN7iuH3j84q54yLYLRMnLUUbyUGT7HfODO5C6EMZUbryEJyUiNEvjUZLvsOlyc7U3yOfoOm037C1QxHanPYxdIUO42al5YWCKxnRDn2YWByJvkW+hYDlBhrtPUektCftn4OIB8WA05JYh3OykhJHPlPFqBCUfmKKBJ2Tm5Tst0w0T6jpvwIDDXa5rkyHc3JgnRi+mYVTq6QFhfqq9eye656x8X9QJYYqG05dC3un2Jz2EiIvKXMqOxqYmIb5q1xDsaiYljE5DH7hYi80bI/iuSgzw6uD69y7RYocohDyPBfFWCBQ/xzxDm+Dkkg+SHoXTq7rZHbH921XLAfraZQh3fz7yMVDDvzoy4O3Wk0sPb+/+R7naI2Hu6ISmeiEw0fzcZByLHXehbKOE92yOUbrkmoxJGk4EJtRSb0A/1kgqlcqt4DSVIdz9+YTznYraJCJwzMY2CfGLcphXnYZ+00Va7CMfwBToHD25HGsAiomcYLf2snjE0VWz5MMolB4QQlyXyN2uajcIRsgq3E8yYlQKTy88vcthXu1i7LThOyZMgf6fWHjSTENfj9Vi+QoU9vKnuNHpxMhTJkjkbWVq4juJqMsJAsbvG1W4Vvt51UrOcK3d5hXMpX9JJrLuBjAFitViBwi+czTzKi2eu29ORBxdIIhaqLvd/vAYwT1OEjCqcD+g7FfS30gLI3P76HDsNK/2UHbDwuTopd8Q6NrIgH+WkfxeLvOq09B/vEhPtFZqpmy+XOULJhkhxop4qPL7BDLAg+hKLdoKU9QxF1UhUsIwt4/mwmrzCqfP53TNk+9NDIHeHI94vh+PTJrKjQ3DzSs48XsYOxMhSCeDSe+UkL99TU80OVHAeAh9xtCPqPeSkYIz31aZVwYht5yeTBRcm4Hw63ORAffpyfgnzCvkLO6KOXegAUmHZteorp2CkMlOFjASolFKL69nfyPVjwHzpDcyMKnQb4atfIM3EB+kdP02ppya71yo1K5uQ9+MEyjXe69yeVJzobKFMhHuxGDoPyvqwBjBW5+Ijjxr1gng5znP3xBVCYk9GA0d4PTSd1zvxb6GfTsZm1KPW5tKqpUabl7lm3uYyo07zkjGc+44vt/t1daqrmVLfIF1xwRboph4Prz4D+YVxt7cFo8cFKJUhZnixMpZXBM2SR3C+YtnJBOOFwWR/kZpJ0YmqYUubj/BUphmIc75w9bel0Z6HfyCidzY/kJkoCnXe2EPBkb+Z3zfDOzV28mUz3/a0BUshkFEJzPUiTUAK12+1ACASq4ZHg5EvY0pTycoPRVmoGMuLA/S1373+q29Sxx/sRZiWXVtZu4hV2kHxvJ/TdeyioKk9sv5yBjBb878GtaUrd/ae/K7W9Y0/l51HfGIy3vHiYHm908INAsIAkc/sufPRAdS247O9DdWdLmLCa7tdUXd0E/ZiU73gUaiXv0Ny8vOTfMKpR0j5R72UHbjaHNff6m6B3Ot6cVYHDzBGoT45Yn6h/NcV3h85KRAU+rUgl9yZSJGlvgCpJLmFUrJH3T7PkgS0gSzpBpMqOGYU0bqLb9h2yMVpsyJuua/0+NH7uGb7zDllCncmPA5Q3fnyvQiI+whZM1oDh/+SGMoPe8SLZr645mmE/wQOO1YHonNR/j/4wMtqdOsnOYVOgW/5QtGVUHWzTT0BU4y7QoFgl6aiLR+zxNAPdXh1XX1xWFro5KZezBLO/ZR9vhFWjynOfFzlzf+JlNGdeKRzDsrmdivHgp+B3bmPRMZJIu1eEocE4RB/pc3WDbzCifU+b7G2GRu/Hy2kVzg5Lm4+WLWUyF/VB1XXBop53tmW9frD8aGOu1OOOFpnqsEAqbHv3kDf3q9r2dmrvdJnRaC70I+Jd86IzzB8fmrVXdKLFemTxo7uMDXkHybKW/OMPTDa0EUmWAEzxCl3x2+B7HWSJ0YHiFehW1e7IrhfBmtLugJl0dTCLlhtLebwo3bRzotcgHRwzl/PDqUEoVdfgc2y25jyr5aFAVJ929gYF2tO+OpEwMJtzGCf2ks5wv2Mjb7IM69c41kcJaeLNueOTzRv+pvDiHqNNprJ7afEOqN9DuuMw/+0f1uX+w4PelbWuFScjuBObrY3xDfQ9mxiBbW4s844iRCmCqYw9Qi+BmmUGYaenCW8aFQ7LghsQEJ+7tHO6IR5Vqga8udVlIBUfzQ4+ff0mLsHAfPxLUKiOMcf2O4n9Lja1EceY3oTIfp5nYa+ikhSudSQg7AbjsrhYLs9vYtawOjvW5i+wlDvZH+BiedFrhJvu0Liu8korTL4X0gVmKKYyI3vpQtoVutFD27FgMMOg39fFMoR2WcKIU68XjaYjkl9vDleh0KFjsNfZWTbPd0DRT5YSxCShnXX62k5+xqqiDfqKWZuJYNdYZQpnDjDEbInAQhh2K91xwj6c5HKNjrjRXGo21rxWDme2LhI52SKEvfFOQnsRA52qi+5J1VIJBxmr9Jaxb81p6tL5R9mIYd2DbtPF3bdHaC0i9CKFO44Z9jJF2zdf0T1bKIhGHZPfZ6j/J+kw/jxhtrIgM+238reYCbYbGvkSyLRyqy89tpmJXOrymuXqykrvafp2xrACCUidw4NUBE1xBhHYdzw3u8ofnXKa7ku0w5FTvzcn0/GmfOTcavdUIGGTfB1/1N5KZ4pGxRu2oBQZRVqmfbDsaOruZy9Yrtx8AJMI0bi9xCjM2nctMpTjdEcbq/iVygxRxVwesk4DOucPvRy9FdrRGrqlgcg9Pm83py3crYUNbBCeUAojjD35hKFEpR5Ab+F3pQQpRe+/aWtT918rWORFUMdZ7KjevRf1HJa4AozpSiyBv4XU9HB32TOF/R0dZdddGqqhBGmNLPV3LMjCmKxVIUBQGz98nooDpf186a2t69pZrK1h0vjJQvYhj+SvkWUhSlg/KYqxPRtvGcb6uWGivHCwMOOqJXlfhs2Mkn+ZvJ8lh5ezlqEfz+7ouFWkOUPlfKXOJy4XhhKEScgtxHuUlPycAfU+YpLML0O8Zz4zan93U4XhgDlLWV+8ZE3wbaYqUorCe1zSkWch1nJBce0dalNXTM/7QTr9PxwjiA87JONEjF4D2+VN+GFIV9DBFKuvWka4zgf57e1uW4pidHCwP1V8cYetkiGWgyQocfROH0FQLVDHpv8D845asjA2SsENcc1dbV56SoleNPjEZi/w1qRp4gBphPUhT2ggcQpriQj0O6ZIGuTTuE8/cbOuY7ImrlaGF0GvpJ47m9q33hZEMUGLlTy113TsFsnx5eY4bGs5/FQq7DuPH7zrauH1X6cp1+Yoyxc0ADhqHByZbh2PIB/w271kciHbWiU7hxVXtb91uVNK3qYgH+cGA6IRS7manSyS4jOC3woMv1+4Zp9UAshIEVUyZwvrtSCUFHC6OfstUbVGsnl+CPg6Td/PT8KelPlI+Ub6Hl16uPE/zeWMgdovT3x7R13V3ua3W0MHYythNhPSvAKYE/TCoUGxuUplOZQRi80LZn07Q62kh+a3pb145ymlaOLzuf3N4deSXcX1JJSLo/wHFT0OsJzBVGxK9YnxFJ1+u9Ab1JiK+N1tRmBY73MQ4S/E/FDoLD930h0JzyJTAFXYqiMuDBdKJe+JCMTFBd/XR0UGWE/Gb2tHn/afcP4vgTw+z1Ro1Nvv4ABHGHxx8PUzo0QKlrHOeuk/VEcHi/uaQ84LSwMmmK9tnHXZ6979NU+2zOARrFUhUdfKjGFITc+mBsyJ3tqWPOpn3U5Q37iPjzZqb+i/lLg22KvRwoSIwQ2okJJgt0ze30XeC1AE6LnUwhVg/Iw8PvSl8w6RZksR1je6pCGCQ9U0on5J5mIQ7A+FDz69sp0/6kqDEPIe9RQh7GXo08VghgJtY1mduZipmHJRkdq0+LTBBQudDXKOKEPLNJUc+xcvhC1QjDBKYVfPKMLw2U0nCP9+s09Mv3MHZOQIjGs5JxH04SKZLSwWkB/87uigIkah90+/buouwEq4YvVJ0w7MQ0uQQh5xmETJEiKY1SI1GFkB6+kNAJ+eFf+3pGnZg/GlIYWTBFMkjpteM5b8KW2eHLMCXZgQ+AzVZIopYLmFZXe4P8bab8eTtTukoxraQw8iBtbt3UT9nJRxvJILZCyehWblCYiZqoSvyeYMLd7fYPHCD4V4odNi2FUSDtbd1nU0JuPkjw8dcmol45iXB/ECFElQGc7koB0+pKXxBhx5Ub+3ouKfQypDCKBKdIB9cf9QlyFMwsmTz8GIgCZfxOeGhga+/zqvtvOxmbWYhpJYVRIqZA9lF2zDWJqLveBYLT4kxfE3kp0u+Aq/mQdDlJokmIRfmWk0hhWAQEcijn9ypEzLlMiwXrVSB4Qndw3XHlNxDsld4GMUDps3/p6/nSaK+XwrAYRLOwajlM6UIIpJ4iWcgnIBKFVdJOBeUkT7g8sX9QNju0efVfsl2mFIZNmALZzdjp2DC7WIvVrEAQJsVJAcoZni2WdDkJaRZi5Wt9Pd8Y6W2kMGwGAjlY8JsShF5wbjIerDWBIPqD9mA429+ooqWc13qDxKCEvKi4w2MEv3n4UlQpjDJhJgwjhH53kZ5orQWBmKYTeuarKa8DfwOtzTD5kPP4qdv3p9f7emZmvkYKowKgWhgCOVHXWhcnY1VXcoJTYpnXT6YbRqr5q9oEnhkguMob1DYp6sLh0SopjAoCgeyh7MYuXQviBnO6QOBLrHT7yPOqK5XVrsbkpjlDDKcFTo5zfI3vbOrrmTz8dXU5JcQpwK59d8uahhdV1+Un+5sH8fTCH8uJIBeAGwrgpqrWjD+EvTAdSr7T7deilP5wpNfJE8NBoNxEJeLWGYY+7hotmrUpq5yYZhOupRpOtdE4PtCSanMG8wItYTyYRvoWKQwHYjZlQSCVKljEyYUBEqnEWCJWE9tpM7sJkc/4nepeMjwaZSKF4WBMgYwRYvzViahajpsz04+otS1S+Z4WRAqjOoBAIpTecQjnk+yq6DUF8ZTqIYiUVVNOIh/gI2GSPRKQOAW/7m/SWwTfkDkbIBMpjCoCa507uH4PKnqtFIg5d2uRniC1mqFH4ACiyPSRIJafuX3xfZRuVgi5ITNkK4VRhWSWvJciEAhipdubmvlUyyUrKAHBz4k222z//oTLo21U1F2IUmEvuRRGFWMKpJ+yWfBB8vUH6kUQJvn2h8DEQvLvbab0yjxGFQPb+L/7eo/7B2VTV7q962YFW+K46UcCPgT+DQMKEJlBdx2iM7UuCnN7Uz6nKswsvxBanNAH5YlRQ4zUE5LpVNeyD5ENnBazjGRe0TX8rsxolTwxagicIG/0rf3idqYc+ojL+3BXoDn872lRIBeyMBmvK1HgRof/kK+JiQcIKm2JdL5rm8ymqXmGFtzE1FQNUK0k7EYDSTysqiv0tCCyVqq2QfP/+q295+MEeYW5Ht7OlPgUzskT7g99jWz+SC2Q8qlgPuZ5WiB0O54bq8z/lidGHZHZNHWKngjizHhVUVMRG9xAtWRmFTpMGmYnHiDmJBEpjDoEApnIjasNQi8/WddaKRHkNzXmnBcyTBoius/t693Y19Nlfk0Ko84xm6bQVXig4ORely/lf1RzJS1u9A2KK+/+80X+pvhritqRWRoihSFJYQpktpFsPdpIkl+5PKmnLQoJq81RH6n8IxuIWi3z+tchH5T5EikMyScwuwo/p2vuLkNzv6i4Uwky0w9xOoUOk06fFgtCm1e/kPl1KQzJiBzW3n2ZRuhtc3XNd3Yy7n7C5SVvKErqBHHyrCwMOcj3lJOtrZKCQSHdji1rmjeorkuXeIPv6IRod8bDqUgP9qQjR4CQqJPAjY5rytf0Q2urSsg3R/o3eWJIRsQsUNQJPSZKaNhFxPMGIXNmGvrYi5MxN5KFKEQ0J4U4wVFH+cd8XSP57FaEiL7qbw69u2VN40j/rtpxgZLqxRTEVEKPWRqPuvH0HaK0daXbd8avVXf4Laa+dJG3oX2cEGOXxqOqOShAQSgAAAUXSURBVPIfwqjkhHNcx8sFRKJWubwo/7gl27/LE0OSwixA1CiZl2tqO0Khd3r8WosQbw0QGjhE8LHoCSGpWiNvypQx/ZByUmj5x0n+5n1b+tYekO01Uhh1zvAh1IWUUKD77QPK3lOIUFqEOAQCmSCMVDdgaj6sFi1LJCtzVlQ+YILi4y7vfbkWykhh1CnFCmI4Gd1vewghiQMyBAJzBUMV7G6Iwo0eoqzo8o+RkMKoM6wSxHDMcTsvK67BIBH9XiHGXarFPPA5YH4htzBb14kdI0kLLf+43+1b9Vpfz6Jcr5PCqBPMAkKDkIvtXEtgNkY95vLExwo+tIey1mvTbbdmSy0iWfBDrJiXVegu8c8GW3R0PI40GSQTKYw6ILMeqpxFgrhpl3v8WPGFSRze7ySiHggE5tcKjy/1mlJ7QwrZJZ6t/GMkpDBqmEoJYjgQyM9d3kSE0liIUPe3tagfAskwv4py1Iss/+gY7bQgMvNdm0AQ7W3dexfo2vJnogOtlR56gKf53xlTOCFr/87YdLPt1sw7PB4bTJlDePo/lA755gNOncV5DobDDN73KduZjyiIPDFqC9Q36YTe3qVrDU7IRuNmvMkb0D+g9PXtTDk186YcaVchSfddm5Es9Khn+xnMYdP57hLPtgcjG1IYNQBGeIYpfWC2nmxxwpR0mEioQ8IAM9Qi5boZs+0qNKcjZusNKWSXOK7nNH/T7re2rD04359BCqOKyZyK7gRBZIzq2Rcg4vvZJomPBAQyhRu376Ps7MxdhSM56pmrwvIBQ9TWqa6sk81HQgqjCnGaIMjHEah4oxAP58ooj4YZVlYEOSczaGA62uZinXz6QyBUZOhXuP05yz9GQgqjimjomD93AucPHCz4pHKtBRgN3LBX+4J6gxC/fpMpF+bKJhfKSFE1CAMZ9VxZbjMb/0fFFfYS8YttTLk9X6fbRAqjCkCB32RuPN0qRIddawAKJZdjbTWZAsnlkEMQN3oDmkrEK5uZev3wrrxCkMJwMFZNNbeSQhxrq8m1zDNd9bt7N2WzrRCpFIYDcaIgSnGsrQYC2U3Z9Wi7hY+FkwK7urczpcsqU04Kw0GYPRFJSroLGetvN+kl8WGFkMdKcaytBnkbRsgNeNvdlLVb6d9IYTiAzFj+kkTU6xRBmDY7IeS3VjvWVoLfn9XXJoVRQewqAS8V+BFXexvK4lg7FdnzXSGwT2+M4OvPTcYdc0LAj7jRE/jIsX69jI6105AnRgVBod9Lkf7WSl+HkxxrpyBPjArSIvj/f8rl+XIlT4xMx3pL31rHONaVRpadV5BNivqtZ1RPfo3KFgPH+guBZg1tnuh/dlK0yQlIU6rCTGvv3vNEdPDActU7Scc6P+SJUWEahPgBCt3sBn4EehIwq7Wf0q+93tczU4oiO/LEqDAI2Y4VfPf6cL8t6pCOdXFIYTiAf2rreu2eWPhIK6ZmZOLUjHU1IE0pB5Ak9M5VFi6KlI516cgTwyFMbD8h9Gp4X7CUq5GOtXXIPIZDGM+NF55X3V8uZhiyzFhbjxSGQ9ikqEsfd3m7TtQ1f75XNNyx3iQda8uQppSDQE7jd5GBA/OdwSoda/uQzreDcAnx70+N4oRLx7o8yBPDQSCncRg3/r4mMuAbflXSsS4v8sRwEGi2UQjZhkEDJjJjXRmk8+0wooTevsrleXSCZkjHuoJIU8qBTG7vjjQIwaVjXTnkieFA9lJ20l5KNjq1x7rmIYT8D1wX9utClIARAAAAAElFTkSuQmCC",alt:"Megaphone",className:"w-16 h-16 md:w-20 md:h-20 lg:w-28 lg:h-28"})})]}),(0,kt.jsx)("div",{className:"w-full max-w-7xl text-center mt-4",children:(0,kt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2026"})}),(0,kt.jsx)("style",{jsx:!0,children:"\n        .scrollable-text::-webkit-scrollbar {\n          width: 4px;\n        }\n        .scrollable-text::-webkit-scrollbar-track {\n          background: #f1f1f1;\n          border-radius: 8px;\n        }\n        .scrollable-text::-webkit-scrollbar-thumb {\n          background: #b3d088;\n          border-radius: 8px;\n        }\n        .scrollable-text::-webkit-scrollbar-thumb:hover {\n          background: #5e8f3e;\n        }\n      "})]})},gr=e=>{let{language:t,setStep:s,setIsAnonymous:n}=e;const r=fr[t];return(0,kt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,kt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,kt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,kt.jsx)("img",{src:cr,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,kt.jsx)("img",{src:dr,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,kt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,kt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,kt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikan'i Madagasikara"}),(0,kt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,kt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,kt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1 min-h-[600px]",children:[(0,kt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,kt.jsxs)("div",{className:"relative z-10 h-full flex flex-col lg:block p-8 md:p-12 pt-16 md:pt-20",children:[(0,kt.jsx)("div",{className:"flex-1 flex items-center justify-center lg:h-full lg:flex lg:flex-col lg:items-center lg:justify-center",children:(0,kt.jsxs)("div",{className:"relative bg-transparent rounded-[80px] px-4 lg:px-12 py-8 lg:py-16 max-w-xl w-full",children:[(0,kt.jsx)("div",{className:"hidden lg:flex absolute inset-0 items-center justify-center pointer-events-none z-0",children:(0,kt.jsx)("img",{src:pr,alt:"Fond",className:"max-w-none w-[140%] h-[140%] object-contain scale-130 select-none opacity-100"})}),(0,kt.jsxs)("div",{className:"relative z-20 flex flex-col items-center justify-center w-full text-center",children:[(0,kt.jsx)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-[#5e8f3e] mb-10 lg:mb-12 uppercase tracking-wide lg:tracking-normal",children:r.choice.title}),(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-5 lg:space-y-8 w-full",children:[(0,kt.jsx)("button",{onClick:()=>{n(!0),s(2)},className:"lg:hidden group relative w-full max-w-md bg-white hover:bg-gradient-to-r hover:from-blue-50 hover:to-blue-100 border-2 border-gray-300 hover:border-blue-500 rounded-none shadow-md hover:shadow-lg transition-all duration-300 p-5",children:(0,kt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,kt.jsx)("div",{className:"relative flex-shrink-0",children:(0,kt.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-gray-400 group-hover:border-blue-600 bg-white transition-all duration-300 flex items-center justify-center",children:(0,kt.jsx)("div",{className:"w-3 h-3 rounded-full bg-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})})}),(0,kt.jsxs)("div",{className:"flex-1 text-left",children:[(0,kt.jsx)("span",{className:"block text-lg font-bold text-gray-800 group-hover:text-blue-700 transition-colors",children:r.choice.anonymous}),(0,kt.jsx)("span",{className:"block text-xs text-gray-500 mt-1",children:"fr"===t?"Votre identit\xe9 restera confidentielle":"Ny mombamomba anao dia tsy haseho"})]}),(0,kt.jsx)("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,kt.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),(0,kt.jsx)("div",{className:"hidden lg:flex items-center justify-center w-full",children:(0,kt.jsxs)("label",{className:"flex items-center justify-center space-x-4 cursor-pointer text-gray-700 text-lg w-full max-w-[200px]",children:[(0,kt.jsx)("input",{type:"radio",name:"choix-anonymat",value:"anonyme",className:"w-6 h-6 border-2 border-gray-400 accent-blue-600",onChange:()=>{n(!0),s(2)}}),(0,kt.jsx)("span",{className:"flex-1 text-center",children:r.choice.anonymous})]})}),(0,kt.jsx)("button",{onClick:()=>{n(!1),s(2)},className:"lg:hidden group relative w-full max-w-md bg-white hover:bg-gradient-to-r hover:from-green-50 hover:to-green-100 border-2 border-gray-300 hover:border-green-600 rounded-none shadow-md hover:shadow-lg transition-all duration-300 p-5",children:(0,kt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,kt.jsx)("div",{className:"relative flex-shrink-0",children:(0,kt.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-gray-400 group-hover:border-green-600 bg-white transition-all duration-300 flex items-center justify-center",children:(0,kt.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})})}),(0,kt.jsxs)("div",{className:"flex-1 text-left",children:[(0,kt.jsx)("span",{className:"block text-lg font-bold text-gray-800 group-hover:text-green-700 transition-colors",children:r.choice.identified}),(0,kt.jsx)("span",{className:"block text-xs text-gray-500 mt-1",children:"fr"===t?"Je fournis mes informations personnelles":"Hanome ny mombamomba ahy aho"})]}),(0,kt.jsx)("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,kt.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),(0,kt.jsx)("div",{className:"hidden lg:flex items-center justify-center w-full",children:(0,kt.jsxs)("label",{className:"flex items-center justify-center space-x-4 cursor-pointer text-gray-700 text-lg w-full max-w-[200px]",children:[(0,kt.jsx)("input",{type:"radio",name:"choix-anonymat",value:"non-anonyme",className:"w-6 h-6 border-2 border-red-500 accent-red-600",onChange:()=>{n(!1),s(2)}}),(0,kt.jsx)("span",{className:"flex-1 text-center",children:r.choice.identified})]})})]})]})]})}),(0,kt.jsx)("div",{className:"flex justify-center w-full mt-auto lg:mt-8 p-4 lg:p-0",children:(0,kt.jsxs)("button",{onClick:()=>s(0),className:"px-8 py-3 lg:py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-white hover:bg-[#5e8f3e] lg:hover:text-[#4a7b32] lg:hover:bg-gray-50 hover:border-[#5e8f3e] lg:hover:border-[#b3d088] flex items-center gap-2 font-semibold text-base lg:text-lg transition-all duration-300 rounded-none shadow-sm hover:shadow-md",children:[(0,kt.jsx)(Rt,{size:24}),r.choice.back]})})]})]}),(0,kt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,kt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2026"})})]})},br=e=>{let{language:t,setStep:s,setHasProof:n,isAnonymous:r}=e;const a=fr[t];return(0,kt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,kt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,kt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,kt.jsx)("img",{src:cr,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,kt.jsx)("img",{src:dr,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,kt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,kt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,kt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikan'i Madagasikara"}),(0,kt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,kt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,kt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1 min-h-[600px]",children:[(0,kt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,kt.jsxs)("div",{className:"relative z-10 h-full flex flex-col lg:block p-8 md:p-12 pt-16 md:pt-20",children:[(0,kt.jsx)("div",{className:"flex-1 flex items-center justify-center lg:h-full lg:flex lg:flex-col lg:items-center lg:justify-center",children:(0,kt.jsxs)("div",{className:"relative bg-transparent rounded-[80px] px-4 lg:px-8 py-8 lg:py-12 max-w-xl w-full",children:[(0,kt.jsx)("div",{className:"hidden lg:flex absolute inset-0 items-center justify-center pointer-events-none z-0",children:(0,kt.jsx)("img",{src:pr,alt:"Fond",className:"max-w-none w-[120%] h-[120%] object-contain scale-110 select-none opacity-100"})}),(0,kt.jsxs)("div",{className:"relative z-20 flex flex-col items-center justify-center w-full text-center",children:[(0,kt.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-[#5e8f3e] mb-6 uppercase tracking-wide lg:tracking-normal",children:a.proof.title}),(0,kt.jsx)("p",{className:"text-base md:text-lg font-semibold text-gray-800 mb-3 max-w-md",children:a.proof.question}),(0,kt.jsx)("p",{className:"text-xs md:text-sm text-gray-600 mb-8 max-w-md leading-relaxed",children:a.proof.description}),(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 lg:space-y-4 w-full",children:[(0,kt.jsx)("button",{onClick:()=>{n(!0),s(r?4:3)},className:"lg:hidden group relative w-full max-w-md bg-white hover:bg-gradient-to-r hover:from-green-50 hover:to-green-100 border-2 border-gray-300 hover:border-green-500 rounded-none shadow-md hover:shadow-lg transition-all duration-300 p-5",children:(0,kt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,kt.jsx)("div",{className:"relative flex-shrink-0",children:(0,kt.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-gray-400 group-hover:border-green-600 bg-white transition-all duration-300 flex items-center justify-center",children:(0,kt.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})})}),(0,kt.jsxs)("div",{className:"flex-1 text-left",children:[(0,kt.jsx)("span",{className:"block text-lg font-bold text-gray-800 group-hover:text-green-700 transition-colors",children:a.proof.yes}),(0,kt.jsx)("span",{className:"block text-xs text-gray-500 mt-1",children:"fr"===t?"Photos, documents, vid\xe9os...":"Sary, tahirin-kevitra, horonan-tsary..."})]}),(0,kt.jsx)("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,kt.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),(0,kt.jsx)("div",{className:"hidden lg:flex items-center justify-center w-full",children:(0,kt.jsxs)("label",{className:"flex items-center justify-center space-x-3 cursor-pointer text-gray-700 text-base w-full max-w-[220px]",children:[(0,kt.jsx)("input",{type:"radio",name:"choix-preuve",value:"oui",className:"w-5 h-5 border-2 border-green-500 accent-green-600",onChange:()=>{n(!0),s(r?4:3)}}),(0,kt.jsx)("span",{className:"flex-1 text-center font-medium",children:a.proof.yes})]})}),(0,kt.jsx)("button",{onClick:()=>{n(!1),s(r?4:3)},className:"lg:hidden group relative w-full max-w-md bg-white hover:bg-gradient-to-r hover:from-orange-50 hover:to-orange-100 border-2 border-gray-300 hover:border-orange-500 rounded-none shadow-md hover:shadow-lg transition-all duration-300 p-5",children:(0,kt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,kt.jsx)("div",{className:"relative flex-shrink-0",children:(0,kt.jsx)("div",{className:"w-6 h-6 rounded-full border-2 border-gray-400 group-hover:border-orange-600 bg-white transition-all duration-300 flex items-center justify-center",children:(0,kt.jsx)("div",{className:"w-3 h-3 rounded-full bg-orange-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})})}),(0,kt.jsxs)("div",{className:"flex-1 text-left",children:[(0,kt.jsx)("span",{className:"block text-lg font-bold text-gray-800 group-hover:text-orange-700 transition-colors",children:a.proof.no}),(0,kt.jsx)("span",{className:"block text-xs text-gray-500 mt-1",children:"fr"===t?"Je continuerai sans preuves":"Hanohy tsy misy porofo aho"})]}),(0,kt.jsx)("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,kt.jsx)("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),(0,kt.jsx)("div",{className:"hidden lg:flex items-center justify-center w-full",children:(0,kt.jsxs)("label",{className:"flex items-center justify-center space-x-3 cursor-pointer text-gray-700 text-base w-full max-w-[220px]",children:[(0,kt.jsx)("input",{type:"radio",name:"choix-preuve",value:"non",className:"w-5 h-5 border-2 border-red-500 accent-red-600",onChange:()=>{n(!1),s(r?4:3)}}),(0,kt.jsx)("span",{className:"flex-1 text-center font-medium",children:a.proof.no})]})})]})]})]})}),(0,kt.jsx)("div",{className:"flex justify-center w-full mt-auto lg:mt-6 p-4 lg:p-0",children:(0,kt.jsxs)("button",{onClick:()=>s(1),className:"px-8 py-3 lg:py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-white hover:bg-[#5e8f3e] lg:hover:text-[#4a7b32] lg:hover:bg-gray-50 hover:border-[#5e8f3e] lg:hover:border-[#b3d088] flex items-center gap-2 font-semibold text-base lg:text-base transition-all duration-300 rounded-none shadow-sm hover:shadow-md",children:[(0,kt.jsx)(Rt,{size:20}),a.proof.back]})})]})]}),(0,kt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,kt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2026"})})]})},vr=e=>{let{language:t,formData:s,setFormData:n,errors:r,setErrors:a,setStep:i,hasProof:l}=e;const o=fr[t];return(0,kt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,kt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,kt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,kt.jsx)("img",{src:cr,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,kt.jsx)("img",{src:dr,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,kt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,kt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,kt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikan'i Madagasikara"}),(0,kt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,kt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,kt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1 min-h-[600px]",children:[(0,kt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,kt.jsxs)("div",{className:"relative z-10 h-full flex flex-col p-4 md:p-6 pt-8 md:pt-12",children:[(0,kt.jsx)("h1",{className:"text-center text-2xl md:text-3xl font-bold text-[#5e8f3e] mb-2",children:o.personal.title}),(0,kt.jsx)("p",{className:"text-center text-xs md:text-sm font-semibold text-gray-700 mb-6",children:o.personal.subtitle}),(0,kt.jsx)("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-md mx-auto",children:(0,kt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{var e,t,n,r;const l={};null!==(e=s.name)&&void 0!==e&&e.trim()||(l.name=o.errors.required),null!==(t=s.email)&&void 0!==t&&t.trim()||(l.email=o.errors.required),null!==(n=s.phone)&&void 0!==n&&n.trim()||(l.phone=o.errors.required),null!==(r=s.address)&&void 0!==r&&r.trim()||(l.address=o.errors.required),s.acceptTerms||(l.acceptTerms=o.errors.termsRequired),a(l),0===Object.keys(l).length&&i(4)})()},className:"w-full",children:[(0,kt.jsxs)("div",{className:"mb-3 md:mb-4",children:[(0,kt.jsxs)("label",{className:"block text-xs md:text-sm font-semibold text-gray-800 mb-1",children:[o.personal.name," ",(0,kt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,kt.jsx)("input",{type:"text",value:s.name||"",onChange:e=>n(c(c({},s),{},{name:e.target.value})),className:"w-full px-3 py-2 md:py-2.5 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs md:text-sm transition-all bg-white shadow-sm hover:border-[#b3d088]",required:!0}),r.name&&(0,kt.jsxs)("p",{className:"mt-1 text-rose-600 text-xs flex items-center gap-1",children:[(0,kt.jsx)(Pt,{size:12}),r.name]})]}),(0,kt.jsxs)("div",{className:"mb-3 md:mb-4",children:[(0,kt.jsxs)("label",{className:"block text-xs md:text-sm font-semibold text-gray-800 mb-1",children:[o.personal.email," ",(0,kt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,kt.jsx)("input",{type:"email",value:s.email||"",onChange:e=>n(c(c({},s),{},{email:e.target.value})),className:"w-full px-3 py-2 md:py-2.5 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs md:text-sm transition-all bg-white shadow-sm hover:border-[#b3d088]",required:!0}),r.email&&(0,kt.jsxs)("p",{className:"mt-1 text-rose-600 text-xs flex items-center gap-1",children:[(0,kt.jsx)(Pt,{size:12}),r.email]})]}),(0,kt.jsxs)("div",{className:"mb-3 md:mb-4",children:[(0,kt.jsxs)("label",{className:"block text-xs md:text-sm font-semibold text-gray-800 mb-1",children:[o.personal.phone," ",(0,kt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,kt.jsx)("input",{type:"tel",value:s.phone||"",onChange:e=>n(c(c({},s),{},{phone:e.target.value})),className:"w-full px-3 py-2 md:py-2.5 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs md:text-sm transition-all bg-white shadow-sm hover:border-[#b3d088]",required:!0}),r.phone&&(0,kt.jsxs)("p",{className:"mt-1 text-rose-600 text-xs flex items-center gap-1",children:[(0,kt.jsx)(Pt,{size:12}),r.phone]})]}),(0,kt.jsxs)("div",{className:"mb-4 md:mb-5",children:[(0,kt.jsxs)("label",{className:"block text-xs md:text-sm font-semibold text-gray-800 mb-1",children:[o.personal.address," ",(0,kt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,kt.jsx)("input",{type:"text",value:s.address||"",onChange:e=>n(c(c({},s),{},{address:e.target.value})),className:"w-full px-3 py-2 md:py-2.5 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs md:text-sm transition-all bg-white shadow-sm hover:border-[#b3d088]",required:!0}),r.address&&(0,kt.jsxs)("p",{className:"mt-1 text-rose-600 text-xs flex items-center gap-1",children:[(0,kt.jsx)(Pt,{size:12}),r.address]})]}),(0,kt.jsxs)("div",{className:"mb-4 md:mb-5 p-3 bg-orange-50 border-2 border-orange-200 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("input",{type:"checkbox",id:"acceptTerms",checked:s.acceptTerms||!1,onChange:e=>n(c(c({},s),{},{acceptTerms:e.target.checked})),className:"mt-0.5 h-4 w-4 text-[#b3d088] rounded focus:ring-[#b3d088] cursor-pointer"}),(0,kt.jsxs)("label",{htmlFor:"acceptTerms",className:"text-xs md:text-sm text-gray-700 leading-relaxed cursor-pointer",children:[(0,kt.jsx)("span",{className:"font-semibold text-rose-600",children:"*"})," ",o.personal.accept]})]}),r.acceptTerms&&(0,kt.jsxs)("p",{className:"mt-2 text-rose-600 text-xs flex items-center gap-1",children:[(0,kt.jsx)(Pt,{size:12})," ",r.acceptTerms]})]}),(0,kt.jsxs)("div",{className:"flex justify-center items-center gap-4 md:gap-8 lg:gap-12 pt-4 md:pt-6",children:[(0,kt.jsxs)("button",{type:"button",onClick:()=>i(2),className:"px-4 py-2 md:px-6 md:py-2 lg:px-8 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-white hover:bg-[#5e8f3e] hover:border-[#5e8f3e] flex items-center gap-1 md:gap-2 font-semibold text-sm md:text-base lg:text-lg transition-all rounded-none shadow-sm hover:shadow-md",children:[(0,kt.jsx)(Rt,{size:20,className:"md:w-6 md:h-6"}),(0,kt.jsx)("span",{className:"hidden sm:inline",children:o.personal.back}),(0,kt.jsx)("span",{className:"sm:hidden",children:"Retour"})]}),(0,kt.jsxs)("button",{type:"submit",className:"px-4 py-2 md:px-6 md:py-2 lg:px-8 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-sm md:text-base lg:text-lg transition-all shadow-md hover:shadow-lg rounded-none",children:[(0,kt.jsx)("span",{className:"hidden sm:inline",children:o.personal.continue}),(0,kt.jsx)("span",{className:"sm:hidden",children:"Continuer"})]})]})]})})]})]}),(0,kt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,kt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2026"})})]})},yr=e=>{var s;let{language:n,selectedCategory:r,setSelectedCategory:a,formData:i,setFormData:l,errors:o,setErrors:d,setStep:u,isAnonymous:h,hasProof:m,setReferenceCode:p}=e;const f=fr[n],x=Object.entries(f.categories).map(e=>{let[t,s]=e;return{value:t,label:s}}),[g,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)((null===(s=i.categoryDetails)||void 0===s?void 0:s.length)||0),w=50,j=t.useRef(null),N=()=>{const e=j.current;if(e){e.style.height="auto";const t=Math.min(e.scrollHeight,500);e.style.height=t+"px",e.scrollHeight>500?e.style.overflowY="auto":e.style.overflowY="hidden"}},k=()=>{var e;const t={};r||(t.category=f.errors.categoryRequired),null!==(e=i.categoryDetails)&&void 0!==e&&e.trim()?i.categoryDetails.trim().length<w&&(t.categoryDetails="fr"===n?"Description trop courte. Minimum ".concat(w," caract\xe8res requis."):"Fanazavana fohy loatra. ".concat(w," caract\xe8res farafahakeliny.")):t.categoryDetails=f.errors.descriptionRequired,m||g||(t.acceptTruth=f.errors.truthRequired),d(t),0===Object.keys(t).length&&(m?u(5):S())},S=async()=>{const e={type:h?"anonyme":"identifie",name:h?"Anonyme":i.name,email:h?"":i.email,phone:h?"":i.phone,address:h?"":i.address,category:r,description:i.categoryDetails,accept_terms:!0,accept_truth:!0,has_proof:!1};try{const t=await or.post("/reports",e,{headers:{"Content-Type":"application/json"}});if(!t.data.success)throw new Error(t.data.message||f.errors.submission);p(t.data.reference),u(6)}catch(l){var t,s,n,a;console.error("Erreur soumission sans preuves:",l);let e=f.errors.submission;if(null!==(t=l.response)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.errors){const t=l.response.data.errors;e=Object.entries(t).map(e=>{let[t,s]=e;return"".concat(t,": ").concat(s.join(", "))}).join("\n")}else null!==(n=l.response)&&void 0!==n&&null!==(a=n.data)&&void 0!==a&&a.message&&(e=l.response.data.message);alert("".concat(f.errors.submission,"\n\n").concat(e))}};return t.useEffect(()=>{N()},[]),(0,kt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,kt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,kt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,kt.jsx)("img",{src:cr,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,kt.jsx)("img",{src:dr,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,kt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,kt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,kt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,kt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianaana Ambony",(0,kt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,kt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1 min-h-[600px]",children:[(0,kt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,kt.jsxs)("div",{className:"relative z-10 h-full flex flex-col p-6 md:p-8 pt-12 md:pt-16",children:[(0,kt.jsx)("h1",{className:"text-center text-2xl md:text-3xl lg:text-4xl font-bold text-[#5e8f3e] mb-6 md:mb-8",children:f.category.title}),(0,kt.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2",children:(0,kt.jsx)("div",{className:"w-full max-w-2xl mx-auto",children:(0,kt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),k()},className:"w-full",children:[(0,kt.jsxs)("div",{className:"mb-6",children:[(0,kt.jsxs)("label",{className:"block text-sm md:text-base font-semibold text-gray-800 mb-2",children:[f.category.selectLabel,(0,kt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,kt.jsxs)("select",{value:r,onChange:e=>a(e.target.value),className:"w-full px-3 md:px-4 py-2.5 md:py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-sm md:text-base transition-all bg-white shadow-sm hover:border-[#b3d088] cursor-pointer",required:!0,children:[(0,kt.jsx)("option",{value:"",disabled:!0,children:f.category.selectPlaceholder}),x.map(e=>(0,kt.jsx)("option",{value:e.value,children:e.label},e.value))]}),o.category&&(0,kt.jsxs)("p",{className:"mt-1 text-rose-600 text-xs flex items-center gap-1",children:[(0,kt.jsx)(Pt,{size:12}),o.category]})]}),(0,kt.jsxs)("div",{className:"mb-6",children:[(0,kt.jsxs)("label",{className:"block text-sm md:text-base font-semibold text-gray-800 mb-2",children:[f.category.detailsLabel,(0,kt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,kt.jsx)("textarea",{ref:j,value:i.categoryDetails,onChange:e=>{l(c(c({},i),{},{categoryDetails:e.target.value})),y(e.target.value.length),N()},onInput:N,placeholder:f.category.detailsPlaceholder,minLength:w,className:"w-full px-3 md:px-4 py-2.5 md:py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-sm md:text-base transition-all bg-white shadow-sm hover:border-[#b3d088] resize-y",style:{minHeight:"120px",maxHeight:"500px",overflowY:"hidden"},required:!0}),(0,kt.jsxs)("div",{className:"flex items-center justify-between mt-2 flex-wrap gap-2",children:[(0,kt.jsxs)("p",{className:"text-xs ".concat(v<w?"text-rose-600 font-semibold":"text-gray-500"),children:[v," / ",w," caract\xe8res minimum"]}),v<w&&(0,kt.jsxs)("p",{className:"text-xs text-rose-600 flex items-center gap-1",children:[(0,kt.jsx)(Pt,{size:12}),"Encore ",w-v," caract\xe8res requis"]})]}),o.categoryDetails&&(0,kt.jsxs)("p",{className:"mt-1 text-rose-600 text-xs flex items-center gap-1",children:[(0,kt.jsx)(Pt,{size:12}),o.categoryDetails]})]}),!m&&(0,kt.jsxs)("div",{className:"mb-6 p-3 md:p-4 bg-orange-50 border-2 border-orange-200 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("input",{type:"checkbox",id:"acceptTruthNoProof",checked:g,onChange:e=>b(e.target.checked),className:"mt-0.5 h-4 w-4 text-[#b3d088] rounded focus:ring-[#b3d088] cursor-pointer"}),(0,kt.jsxs)("label",{htmlFor:"acceptTruthNoProof",className:"text-xs md:text-sm text-gray-700 leading-relaxed cursor-pointer",children:[(0,kt.jsx)("span",{className:"font-semibold text-rose-600",children:"*"})," ",f.upload.acceptTruth]})]}),o.acceptTruth&&(0,kt.jsxs)("p",{className:"mt-2 text-rose-600 text-xs flex items-center gap-1",children:[(0,kt.jsx)(Pt,{size:12}),o.acceptTruth]})]})]})})}),(0,kt.jsxs)("div",{className:"flex justify-center items-center gap-4 md:gap-8 lg:gap-12 pt-4 md:pt-6 pb-4",children:[(0,kt.jsxs)("button",{type:"button",onClick:()=>u(h?2:3),className:"px-4 py-2 md:px-6 md:py-2 lg:px-8 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-white hover:bg-[#5e8f3e] hover:border-[#5e8f3e] flex items-center gap-1 md:gap-2 font-semibold text-sm md:text-base lg:text-lg transition-all rounded-none shadow-sm hover:shadow-md",children:[(0,kt.jsx)(Rt,{size:20,className:"md:w-6 md:h-6"}),(0,kt.jsx)("span",{className:"hidden sm:inline",children:f.category.back}),(0,kt.jsx)("span",{className:"sm:hidden",children:"Retour"})]}),(0,kt.jsxs)("button",{type:"submit",onClick:k,className:"px-4 py-2 md:px-6 md:py-2 lg:px-8 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-sm md:text-base lg:text-lg transition-all shadow-md hover:shadow-lg rounded-none",children:[(0,kt.jsx)("span",{className:"hidden sm:inline",children:m?f.category.continue:f.proof.continueWithoutProof}),(0,kt.jsx)("span",{className:"sm:hidden",children:"Continuer"})]})]})]})]}),(0,kt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,kt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2026"})})]})},wr=e=>{let{language:t,formData:s,setFormData:n,errors:r,setErrors:a,fileErrors:i,setFileErrors:l,isSubmitting:o,setStep:d,handleSubmit:u,hasProof:h}=e;const m=fr[t],p=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB"][t]};return(0,kt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,kt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,kt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,kt.jsx)("img",{src:cr,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,kt.jsx)("img",{src:dr,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,kt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,kt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,kt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,kt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianaana Ambony",(0,kt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,kt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1 min-h-[600px]",children:[(0,kt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,kt.jsxs)("div",{className:"relative z-10 h-full flex flex-col p-6 md:p-8 pt-12 md:pt-16",children:[(0,kt.jsx)("h1",{className:"text-center text-2xl md:text-3xl lg:text-4xl font-bold text-[#5e8f3e] mb-6 md:mb-8",children:m.upload.title}),(0,kt.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-2xl mx-auto",children:[(0,kt.jsxs)("p",{className:"text-center text-sm md:text-base font-semibold text-gray-800 mb-2",children:[m.upload.attachments," ",(0,kt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,kt.jsxs)("p",{className:"text-center text-xs md:text-sm text-gray-600 mb-6 leading-relaxed",children:["Formats accept\xe9s: JPG, JPEG, PNG, MP4, PDF \u2022 Taille max:"," ",(0,kt.jsx)("strong",{children:"25 Mo"})," \u2022 Au moins 1 fichier requis"]}),(0,kt.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 md:p-8 text-center hover:border-[#b3d088] transition-all bg-white mb-6 w-full",children:[(0,kt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.mp4,.pdf",onChange:e=>{const t=Array.from(e.target.files),s=[],r=[],i=["image/jpeg","image/jpg","image/png","video/mp4","application/pdf"];t.forEach(e=>{i.includes(e.type)?e.size>26214400?s.push("".concat(e.name,": Taille trop grande (").concat((e.size/1048576).toFixed(2)," Mo > 25 Mo)")):r.push(e):s.push("".concat(e.name,": Type de fichier non support\xe9 (").concat(e.type||"inconnu",")"))}),l(s),r.length>0&&(n(e=>c(c({},e),{},{files:[...e.files,...r]})),a(e=>c(c({},e),{},{files:""}))),e.target.value=""},className:"hidden",id:"file-upload"}),(0,kt.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,kt.jsx)(Ot,{className:"mx-auto mb-3 text-gray-400",size:40}),(0,kt.jsx)("p",{className:"text-sm md:text-base font-medium text-gray-700 mb-1",children:m.upload.uploadLabel}),(0,kt.jsx)("p",{className:"text-xs md:text-sm text-gray-500",children:m.upload.uploadSubtext})]})]}),r.files&&(0,kt.jsxs)("p",{className:"text-rose-600 text-xs text-center mb-4 flex items-center justify-center gap-1",children:[(0,kt.jsx)(Pt,{size:12})," ",r.files]}),i.length>0&&(0,kt.jsx)("div",{className:"mb-4 space-y-1",children:i.map((e,t)=>(0,kt.jsxs)("p",{className:"text-rose-600 text-xs text-center flex items-center justify-center gap-1",children:[(0,kt.jsx)(Lt,{size:12})," ",e]},t))}),s.files.length>0&&(0,kt.jsxs)("div",{className:"mb-6 w-full",children:[(0,kt.jsxs)("p",{className:"text-center font-semibold text-gray-700 mb-3 text-sm",children:[m.upload.filesAdded," (",s.files.length,")"]}),(0,kt.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar pr-2",children:s.files.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-xs font-medium text-gray-800 truncate",children:e.name}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:p(e.size)})]}),(0,kt.jsx)("button",{onClick:()=>(e=>{n(t=>c(c({},t),{},{files:t.files.filter((t,s)=>s!==e)}))})(t),className:"ml-3 text-rose-600 hover:text-rose-800",children:(0,kt.jsx)(Lt,{size:16})})]},t))})]}),(0,kt.jsxs)("div",{className:"mb-6 p-3 md:p-4 bg-orange-50 border-2 border-orange-200 rounded-lg w-full",children:[(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("input",{type:"checkbox",id:"acceptTruth",checked:s.acceptTruth||!1,onChange:e=>n(c(c({},s),{},{acceptTruth:e.target.checked})),className:"mt-0.5 h-4 w-4 text-[#b3d088] rounded focus:ring-[#b3d088] cursor-pointer"}),(0,kt.jsxs)("label",{htmlFor:"acceptTruth",className:"text-xs md:text-sm text-gray-700 leading-relaxed cursor-pointer",children:[(0,kt.jsx)("span",{className:"font-semibold text-rose-600",children:"*"})," ",m.upload.acceptTruth]})]}),r.acceptTruth&&(0,kt.jsxs)("p",{className:"mt-2 text-rose-600 text-xs flex items-center gap-1",children:[(0,kt.jsx)(Pt,{size:12})," ",r.acceptTruth]})]})]}),(0,kt.jsxs)("div",{className:"flex justify-center items-center gap-4 md:gap-8 lg:gap-12 pt-4 md:pt-6 pb-4",children:[(0,kt.jsxs)("button",{type:"button",onClick:()=>d(4),disabled:o,className:"px-4 py-2 md:px-6 md:py-2 lg:px-8 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-white hover:bg-[#5e8f3e] hover:border-[#5e8f3e] flex items-center gap-1 md:gap-2 font-semibold text-sm md:text-base lg:text-lg transition-all rounded-none shadow-sm hover:shadow-md disabled:opacity-50",children:[(0,kt.jsx)(Rt,{size:20,className:"md:w-6 md:h-6"}),(0,kt.jsx)("span",{className:"hidden sm:inline",children:m.upload.back}),(0,kt.jsx)("span",{className:"sm:hidden",children:"Retour"})]}),(0,kt.jsx)("button",{onClick:()=>{const e={};!0===h&&0===s.files.length&&(e.files=m.errors.filesRequired),s.files.length,s.acceptTruth||(e.acceptTruth=m.errors.truthRequired),a(e),0===Object.keys(e).length&&u()},disabled:o||h&&0===s.files.length||!s.acceptTruth,className:"px-4 py-2 md:px-6 md:py-2 lg:px-8 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-sm md:text-base lg:text-lg transition-all shadow-md hover:shadow-lg rounded-none disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,kt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,kt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,kt.jsx)("span",{className:"hidden sm:inline",children:m.upload.submitting}),(0,kt.jsx)("span",{className:"sm:hidden",children:"Envoi..."})]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("span",{className:"hidden sm:inline",children:m.upload.submit}),(0,kt.jsx)("span",{className:"sm:hidden",children:"Soumettre"})]})})]})]})]}),(0,kt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,kt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2026"})})]})},jr=e=>{let{language:t,referenceCode:n,resetForm:r,navigate:a}=e;const i=fr[t],l=new URL(s(531),s.b).href,o=new URL(s(26),s.b).href,c=n||(()=>{const e=(new Date).toISOString().slice(0,10).replace(/-/g,""),t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let s="";for(let n=0;n<6;n++)s+=t.charAt(Math.floor(36*Math.random()));return"REF-".concat(e,"-").concat(s)})();return(0,kt.jsxs)("div",{className:"bg-[#f9faf7] min-h-screen flex flex-col items-center justify-center p-3 overflow-hidden relative font-bill",children:[(0,kt.jsxs)("div",{className:"relative flex flex-col items-center justify-center w-full max-w-2xl",children:[(0,kt.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-0",children:[(0,kt.jsx)("img",{src:l,alt:"Fond d\xe9coratif",className:"w-full max-w-2xl h-auto object-contain opacity-40"}),(0,kt.jsx)("button",{onClick:r,className:"absolute -top-10 -right-1 z-50 bg-white text-red-500\r border-2 border-red-500 rounded-full w-6 h-6\r flex items-center justify-center hover:bg-red-50\r transition-all shadow-md text-lg font-thin pointer-events-auto",children:"\xd7"})]}),(0,kt.jsxs)("div",{className:"relative z-10 text-center space-y-3 px-2 md:px-6",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[(0,kt.jsx)("div",{className:"flex-shrink-0",children:(0,kt.jsx)("img",{src:o,alt:"Validation",className:"w-14 h-14 md:w-20 md:h-20 lg:w-24 lg:h-24 object-contain"})}),(0,kt.jsxs)("div",{className:"text-left space-y-1",children:[(0,kt.jsx)("h1",{className:"text-base md:text-xl lg:text-2xl font-bold text-[#5e8f3e] leading-tight",children:i.success.title}),(0,kt.jsx)("p",{className:"text-gray-700 text-xs md:text-sm lg:text-base",children:i.success.thanks})]})]}),(0,kt.jsxs)("div",{className:"mt-2 md:mt-4 space-y-1 md:space-y-2",children:[(0,kt.jsx)("p",{className:"text-gray-600 text-xs md:text-sm font-medium",children:i.success.reference}),(0,kt.jsxs)("div",{onClick:async()=>{try{await navigator.clipboard.writeText(c),alert("fr"===t?"R\xe9f\xe9rence copi\xe9e !":"Naoty ny r\xe9f\xe9rence !")}catch(e){console.error("Erreur lors de la copie: ",e)}},className:"bg-white border border-[#b3d088] rounded-md p-1 md:p-2 max-w-[240px] md:max-w-sm mx-auto cursor-pointer hover:bg-green-50 transition-colors group",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between gap-0.5 md:gap-2",children:[(0,kt.jsx)("span",{className:"font-mono font-bold text-[10px] md:text-base text-gray-900 tracking-tight flex-1 text-center break-all",children:c}),(0,kt.jsx)("svg",{className:"w-2.5 h-2.5 md:w-4 md:h-4 text-gray-400 group-hover:text-[#5e8f3e] transition-colors flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]}),(0,kt.jsx)("p",{className:"text-[9px] md:text-xs text-gray-500 mt-0.5 text-center",children:"fr"===t?"Cliquez pour copier":"Tsindrio hanonta"})]})]}),(0,kt.jsx)("div",{className:"mt-2 md:mt-4",children:(0,kt.jsxs)("button",{onClick:()=>a("/suivi"),className:"bg-[#5e8f3e] hover:bg-[#4a7b32] text-white font-bold py-1 md:py-2 px-3 md:px-6 rounded md:rounded-lg transition-all duration-300 shadow hover:shadow-lg transform hover:scale-105 flex items-center gap-1 md:gap-2 mx-auto text-[11px] md:text-sm",children:[(0,kt.jsxs)("svg",{className:"w-2.5 h-2.5 md:w-4 md:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),i.success.trackButton]})})]})]}),(0,kt.jsx)("div",{className:"w-full max-w-6xl text-center mt-2 md:mt-4",children:(0,kt.jsx)("div",{className:"text-gray-500 text-[9px] md:text-xs",children:"copyright @ daaq-Mesupres 2026"})})]})},Nr=()=>{const e=pe(),[s,n]=(0,t.useState)(0),[r,a]=(0,t.useState)(null),[i,l]=(0,t.useState)(null),[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)("fr"),[h,m]=(0,t.useState)({name:"",email:"",phone:"",address:"",categoryDetails:"",acceptTerms:!1,acceptTruth:!1,files:[]}),[p,f]=(0,t.useState)(!1),[x,g]=(0,t.useState)(""),[b,v]=(0,t.useState)([]),[y,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)({}),k=async()=>{const e=fr[d];w(!0);try{console.log("\ud83d\udd04 Pr\xe9paration du formulaire...");const t=new FormData;if(t.append("type",r?"anonyme":"identifie"),t.append("name",r?"Anonyme":h.name),t.append("email",r?"":h.email),t.append("phone",r?"":h.phone),t.append("address",r?"":h.address),t.append("category",o),t.append("description",h.categoryDetails),t.append("accept_terms",h.acceptTerms?1:0),t.append("accept_truth",h.acceptTruth?1:0),t.append("has_proof",i?1:0),h.files&&h.files.length>0)for(const e of h.files)t.append("files[]",e),console.log("\ud83d\udcc1 Fichier ajout\xe9: ".concat(e.name," (").concat(e.type,", ").concat(e.size," bytes)"));console.log("\ud83d\udce8 Envoi FormData au serveur...");const s=await or.post("/reports",t,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("\u2705 R\xe9ponse du serveur:",s.data),!s.data.success)throw new Error(s.data.message||e.errors.submission);g(s.data.reference),n(6)}catch(c){var t,s,a,l;console.error("\ud83d\udca5 Erreur lors de l'envoi:",c);let n=e.errors.submission;null!==(t=c.response)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.errors?n=Object.entries(c.response.data.errors).map(e=>{let[t,s]=e;return"".concat(t,": ").concat(s.join(", "))}).join("\n"):null!==(a=c.response)&&void 0!==a&&null!==(l=a.data)&&void 0!==l&&l.message&&(n=c.response.data.message),alert("\u274c ".concat(n))}finally{w(!1)}},S=()=>{f(!1),n(0),m({name:"",email:"",phone:"",address:"",categoryDetails:"",acceptTerms:!1,acceptTruth:!1,files:[]}),c(""),a(null),l(null),N({})};return p?(0,kt.jsx)(jr,{language:d,referenceCode:x,navigate:e,resetForm:S}):0===s?(0,kt.jsx)(xr,{language:d,setLanguage:u,setStep:n,navigate:e}):1===s?(0,kt.jsx)(gr,{language:d,setStep:n,setIsAnonymous:a}):2===s?(0,kt.jsx)(br,{language:d,setStep:n,setHasProof:l,isAnonymous:r}):3===s?(0,kt.jsx)(vr,{language:d,formData:h,setFormData:m,errors:j,setErrors:N,setStep:n,hasProof:i}):4===s?(0,kt.jsx)(yr,{language:d,isAnonymous:r,selectedCategory:o,setSelectedCategory:c,formData:h,setFormData:m,errors:j,setErrors:N,setStep:n,hasProof:i,setReferenceCode:g}):5===s?(0,kt.jsx)(wr,{language:d,formData:h,setFormData:m,errors:j,setErrors:N,fileErrors:b,setFileErrors:v,isSubmitting:y,setStep:n,handleSubmit:k,hasProof:i}):6===s?(0,kt.jsx)(jr,{language:d,referenceCode:x,navigate:e,resetForm:S}):null},kr=Tt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Sr=Tt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Er=Tt("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Cr=Tt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),_r=Tt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ar=Tt("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Mr=Tt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Dr=Tt("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Tr=Tt("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Rr=Tt("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Pr=Tt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Or=Tt("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Lr=Tt("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Ir=Tt("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),zr=Tt("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),Fr=Tt("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),Ur=Tt("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Br=Tt("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Vr=Tt("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Hr=Tt("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),Wr=Tt("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),qr=Tt("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Yr=Tt("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Jr=Tt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Kr=Tt("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Gr=Tt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Xr=new class{_normalizeError(e){var t;return null!==e&&void 0!==e&&e.response?{status:e.response.status,data:e.response.data,message:(null===(t=e.response.data)||void 0===t?void 0:t.message)||e.response.statusText||"Erreur API"}:{status:null,data:null,message:(null===e||void 0===e?void 0:e.message)||"Network Error",code:null===e||void 0===e?void 0:e.code}}async getUserChats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";try{return(await or.get("/chat",{params:{filter:e}})).data}catch(t){throw this._normalizeError(t)}}async getDossierInfo(e){try{return(await or.post("/chats/check-reference",{reference:e})).data}catch(t){throw this._normalizeError(t)}}async checkChatByReference(e){try{return(await or.get("/chats/check-by-reference/".concat(e),{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async createSupportChat(e){try{return(await or.post("/chats/support",e,{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async sendMessageToPublicChat(e,t){try{return(await or.post("/chats/".concat(e,"/messages/public"),t,{headers:{Accept:"application/json"}})).data}catch(s){throw this._normalizeError(s)}}async getPublicConversation(e){try{return(await or.get("/chats/".concat(e,"/public"),{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async markPublicAsRead(e){try{return(await or.post("/chats/public/".concat(e,"/mark-read"),{},{headers:{Accept:"application/json"}})).data}catch(t){throw console.error("Erreur markPublicAsRead:",t),this._normalizeError(t)}}async getRecentPublicChats(){try{return(await or.get("/chats/recent/public",{headers:{Accept:"application/json"}})).data}catch(e){throw this._normalizeError(e)}}async getChatDetails(e){try{return(await or.get("/chat/".concat(e))).data}catch(t){throw this._normalizeError(t)}}async sendMessage(e,t){try{return(await or.post("/chat/".concat(e,"/message"),t,{headers:{Accept:"application/json"}})).data}catch(s){throw this._normalizeError(s)}}async uploadFile(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{const r=new FormData;r.append("file",t),r.append("type",s);return(await or.post("/chat/".concat(e,"/upload"),r,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},onUploadProgress:e=>{if(n&&e.total){const t=Math.round(100*e.loaded/e.total);n(t)}}})).data}catch(r){throw this._normalizeError(r)}}async sendPublicMessageWithFile(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const n=new FormData;t.file&&n.append("file",t.file),n.append("type",t.type||"file"),t.content&&n.append("content",t.content),t.sendername&&n.append("sendername",t.sendername),t.senderemail&&n.append("senderemail",t.senderemail);return(await or.post("/chats/".concat(e,"/messages/public"),n,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},onUploadProgress:e=>{if(s&&e.total){const t=Math.round(100*e.loaded/e.total);s(t)}}})).data}catch(n){throw this._normalizeError(n)}}getChatFileUrl(e){if(!e)return null;const t=e.split("/").pop();return"".concat(ir,"/api/chat-files/public/").concat(t)}async downloadChatFile(e){try{const t=this.getChatFileUrl(e),s=await fetch(t,{method:"GET",headers:{Accept:"*/*"}});if(!s.ok)throw new Error("Erreur t\xe9l\xe9chargement: ".concat(s.status));const n=await s.blob(),r=window.URL.createObjectURL(n),a=document.createElement("a");return a.href=r,a.download=e.split("/").pop(),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r),{success:!0}}catch(t){throw console.error("Erreur downloadChatFile:",t),this._normalizeError(t)}}async toggleImportant(e){try{return(await or.put("/chat/".concat(e,"/toggle-important"),{},{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async markAsRead(e){try{return(await or.put("/chat/".concat(e,"/mark-read"),{},{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async updateVisitorOnlineStatus(e,t,s){try{return(await or.post("/chats/".concat(e,"/visitor/online-status"),{is_online:t,reference:s},{headers:{Accept:"application/json"}})).data}catch(n){throw console.error("Erreur updateVisitorOnlineStatus:",n),this._normalizeError(n)}}async getVisitorOnlineStatus(e){try{return(await or.get("/chats/".concat(e,"/visitor/online-status"),{headers:{Accept:"application/json"}})).data}catch(t){throw console.error("Erreur getVisitorOnlineStatus:",t),this._normalizeError(t)}}async searchChats(e){try{return(await or.get("/chat/search",{params:{q:e}})).data}catch(t){throw this._normalizeError(t)}}async filterChatsByStatus(e){try{return(await or.get("/chat/filter",{params:{status:e}})).data}catch(t){throw this._normalizeError(t)}}async createAdminChat(e){try{return(await or.post("/chats/admin/create",e)).data}catch(t){throw console.error("Erreur cr\xe9ation chat admin:",t),this._normalizeError(t)}}},Qr=(Math.pow(10,8),6048e5),Zr=43200,$r=Symbol.for("constructDateFrom");function ea(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&$r in e?e[$r](t):e instanceof Date?new e.constructor(t):new Date(t)}function ta(e){return ea(e,Date.now())}function sa(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];const r=ea.bind(null,e||s.find(e=>"object"===typeof e));return s.map(r)}function na(e,t){return ea(t||e,e)}function ra(e,t){const s=na(e,null===t||void 0===t?void 0:t.in);return s.setHours(0,0,0,0),s}function aa(e,t,s){const[n,r]=sa(null===s||void 0===s?void 0:s.in,e,t);return+ra(n)===+ra(r)}function ia(e,t){return aa(ea((null===t||void 0===t?void 0:t.in)||e,e),ta((null===t||void 0===t?void 0:t.in)||e))}function la(e,t,s){const n=na(e,null===s||void 0===s?void 0:s.in);return isNaN(t)?ea((null===s||void 0===s?void 0:s.in)||e,NaN):t?(n.setDate(n.getDate()+t),n):n}function oa(e,t,s){return la(e,-t,s)}function ca(e,t){return aa(ea((null===t||void 0===t?void 0:t.in)||e,e),oa(ta((null===t||void 0===t?void 0:t.in)||e),1))}function da(e){const t=na(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function ua(e,t,s){const[n,r]=sa(null===s||void 0===s?void 0:s.in,e,t),a=ra(n),i=ra(r),l=+a-da(a),o=+i-da(i);return Math.round((l-o)/864e5)}const ha={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ma(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const pa={date:ma({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ma({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ma({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},fa={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function xa(e){return(t,s)=>{let n;if("formatting"===(null!==s&&void 0!==s&&s.context?String(s.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=null!==s&&void 0!==s&&s.width?String(s.width):t;n=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=null!==s&&void 0!==s&&s.width?String(s.width):e.defaultWidth;n=e.values[r]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const ga={ordinalNumber:(e,t)=>{const s=Number(e),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},era:xa({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:xa({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:xa({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:xa({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:xa({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function ba(e){return function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=s.width,r=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;const i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(l)?function(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s;return}(l,e=>e.test(i)):function(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s;return}(l,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(o):o,c=s.valueCallback?s.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}function va(e){return function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.match(e.matchPattern);if(!n)return null;const r=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=s.valueCallback?s.valueCallback(i):i;return{value:i,rest:t.slice(r.length)}}}const ya={ordinalNumber:va({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:ba({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ba({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:ba({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ba({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ba({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},wa={code:"en-US",formatDistance:(e,t,s)=>{let n;const r=ha[e];return n="string"===typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),null!==s&&void 0!==s&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n},formatLong:pa,formatRelative:(e,t,s,n)=>fa[e],localize:ga,match:ya,options:{weekStartsOn:0,firstWeekContainsDate:1}};let ja={};function Na(){return ja}function ka(e,t){const s=na(e,null===t||void 0===t?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}function Sa(e,t){const s=na(e,null===t||void 0===t?void 0:t.in);return ua(s,ka(s))+1}function Ea(e,t){var s,n,r,a,i,l;const o=Na(),c=null!==(s=null!==(n=null!==(r=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==r?r:o.weekStartsOn)&&void 0!==n?n:null===(l=o.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==s?s:0,d=na(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),h=(u<c?7:0)+u-c;return d.setDate(d.getDate()-h),d.setHours(0,0,0,0),d}function Ca(e,t){return Ea(e,c(c({},t),{},{weekStartsOn:1}))}function _a(e,t){const s=na(e,null===t||void 0===t?void 0:t.in),n=s.getFullYear(),r=ea(s,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Ca(r),i=ea(s,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Ca(i);return s.getTime()>=a.getTime()?n+1:s.getTime()>=l.getTime()?n:n-1}function Aa(e,t){const s=_a(e,t),n=ea((null===t||void 0===t?void 0:t.in)||e,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),Ca(n)}function Ma(e,t){const s=na(e,null===t||void 0===t?void 0:t.in),n=+Ca(s)-+Aa(s);return Math.round(n/Qr)+1}function Da(e,t){var s,n,r,a,i,l;const o=na(e,null===t||void 0===t?void 0:t.in),c=o.getFullYear(),d=Na(),u=null!==(s=null!==(n=null!==(r=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==r?r:d.firstWeekContainsDate)&&void 0!==n?n:null===(l=d.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:1,h=ea((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,u),h.setHours(0,0,0,0);const m=Ea(h,t),p=ea((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c,0,u),p.setHours(0,0,0,0);const f=Ea(p,t);return+o>=+m?c+1:+o>=+f?c:c-1}function Ta(e,t){var s,n,r,a,i,l;const o=Na(),c=null!==(s=null!==(n=null!==(r=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==r?r:o.firstWeekContainsDate)&&void 0!==n?n:null===(l=o.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:1,d=Da(e,t),u=ea((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(d,0,c),u.setHours(0,0,0,0);return Ea(u,t)}function Ra(e,t){const s=na(e,null===t||void 0===t?void 0:t.in),n=+Ea(s,t)-+Ta(s,t);return Math.round(n/Qr)+1}function Pa(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Oa={y(e,t){const s=e.getFullYear(),n=s>0?s:1-s;return Pa("yy"===t?n%100:n,t.length)},M(e,t){const s=e.getMonth();return"M"===t?String(s+1):Pa(s+1,2)},d:(e,t)=>Pa(e.getDate(),t.length),a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return"am"===s?"a.m.":"p.m."}},h:(e,t)=>Pa(e.getHours()%12||12,t.length),H:(e,t)=>Pa(e.getHours(),t.length),m:(e,t)=>Pa(e.getMinutes(),t.length),s:(e,t)=>Pa(e.getSeconds(),t.length),S(e,t){const s=t.length,n=e.getMilliseconds();return Pa(Math.trunc(n*Math.pow(10,s-3)),t.length)}},La="midnight",Ia="noon",za="morning",Fa="afternoon",Ua="evening",Ba="night",Va={G:function(e,t,s){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});default:return s.era(n,{width:"wide"})}},y:function(e,t,s){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return s.ordinalNumber(n,{unit:"year"})}return Oa.y(e,t)},Y:function(e,t,s,n){const r=Da(e,n),a=r>0?r:1-r;if("YY"===t){return Pa(a%100,2)}return"Yo"===t?s.ordinalNumber(a,{unit:"year"}):Pa(a,t.length)},R:function(e,t){return Pa(_a(e),t.length)},u:function(e,t){return Pa(e.getFullYear(),t.length)},Q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Pa(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,s){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Pa(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,s){const n=e.getMonth();switch(t){case"M":case"MM":return Oa.M(e,t);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,s){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Pa(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,s,n){const r=Ra(e,n);return"wo"===t?s.ordinalNumber(r,{unit:"week"}):Pa(r,t.length)},I:function(e,t,s){const n=Ma(e);return"Io"===t?s.ordinalNumber(n,{unit:"week"}):Pa(n,t.length)},d:function(e,t,s){return"do"===t?s.ordinalNumber(e.getDate(),{unit:"date"}):Oa.d(e,t)},D:function(e,t,s){const n=Sa(e);return"Do"===t?s.ordinalNumber(n,{unit:"dayOfYear"}):Pa(n,t.length)},E:function(e,t,s){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,s,n){const r=e.getDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Pa(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,s,n){const r=e.getDay(),a=(r-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Pa(a,t.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"});default:return s.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,s){const n=e.getDay(),r=0===n?7:n;switch(t){case"i":return String(r);case"ii":return Pa(r,t.length);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,s){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,s){const n=e.getHours();let r;switch(r=12===n?Ia:0===n?La:n/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,s){const n=e.getHours();let r;switch(r=n>=17?Ua:n>=12?Fa:n>=4?za:Ba,t){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});default:return s.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,s){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),s.ordinalNumber(t,{unit:"hour"})}return Oa.h(e,t)},H:function(e,t,s){return"Ho"===t?s.ordinalNumber(e.getHours(),{unit:"hour"}):Oa.H(e,t)},K:function(e,t,s){const n=e.getHours()%12;return"Ko"===t?s.ordinalNumber(n,{unit:"hour"}):Pa(n,t.length)},k:function(e,t,s){let n=e.getHours();return 0===n&&(n=24),"ko"===t?s.ordinalNumber(n,{unit:"hour"}):Pa(n,t.length)},m:function(e,t,s){return"mo"===t?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Oa.m(e,t)},s:function(e,t,s){return"so"===t?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Oa.s(e,t)},S:function(e,t){return Oa.S(e,t)},X:function(e,t,s){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return Wa(n);case"XXXX":case"XX":return qa(n);default:return qa(n,":")}},x:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"x":return Wa(n);case"xxxx":case"xx":return qa(n);default:return qa(n,":")}},O:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ha(n,":");default:return"GMT"+qa(n,":")}},z:function(e,t,s){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ha(n,":");default:return"GMT"+qa(n,":")}},t:function(e,t,s){return Pa(Math.trunc(+e/1e3),t.length)},T:function(e,t,s){return Pa(+e,t.length)}};function Ha(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s=e>0?"-":"+",n=Math.abs(e),r=Math.trunc(n/60),a=n%60;return 0===a?s+String(r):s+String(r)+t+Pa(a,2)}function Wa(e,t){if(e%60===0){return(e>0?"-":"+")+Pa(Math.abs(e)/60,2)}return qa(e,t)}function qa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const s=e>0?"-":"+",n=Math.abs(e);return s+Pa(Math.trunc(n/60),2)+t+Pa(n%60,2)}const Ya=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Ja=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Ka={p:Ja,P:(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],n=s[1],r=s[2];if(!r)return Ya(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",Ya(n,t)).replace("{{time}}",Ja(r,t))}},Ga=/^D+$/,Xa=/^Y+$/,Qa=["D","DD","YY","YYYY"];function Za(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function $a(e){return!(!Za(e)&&"number"!==typeof e||isNaN(+na(e)))}const ei=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ti=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,si=/^'([^]*?)'?$/,ni=/''/g,ri=/[a-zA-Z]/;function ai(e,t,s){var n,r,a,i,l,o,c,d,u,h,m,p,f,x;const g=Na(),b=null!==(n=null!==(r=null===s||void 0===s?void 0:s.locale)&&void 0!==r?r:g.locale)&&void 0!==n?n:wa,v=null!==(a=null!==(i=null!==(l=null!==(o=null===s||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:null===s||void 0===s||null===(c=s.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==l?l:g.firstWeekContainsDate)&&void 0!==i?i:null===(d=g.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==a?a:1,y=null!==(u=null!==(h=null!==(m=null!==(p=null===s||void 0===s?void 0:s.weekStartsOn)&&void 0!==p?p:null===s||void 0===s||null===(f=s.locale)||void 0===f||null===(f=f.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==m?m:g.weekStartsOn)&&void 0!==h?h:null===(x=g.locale)||void 0===x||null===(x=x.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==u?u:0,w=na(e,null===s||void 0===s?void 0:s.in);if(!$a(w))throw new RangeError("Invalid time value");let j=t.match(ti).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,Ka[t])(e,b.formatLong)}return e}).join("").match(ei).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:ii(e)};if(Va[t])return{isToken:!0,value:e};if(t.match(ri))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});b.localize.preprocessor&&(j=b.localize.preprocessor(w,j));const N={firstWeekContainsDate:v,weekStartsOn:y,locale:b};return j.map(n=>{if(!n.isToken)return n.value;const r=n.value;(null!==s&&void 0!==s&&s.useAdditionalWeekYearTokens||!function(e){return Xa.test(e)}(r))&&(null!==s&&void 0!==s&&s.useAdditionalDayOfYearTokens||!function(e){return Ga.test(e)}(r))||function(e,t,s){const n=function(e,t,s){const n="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(n," to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,s);if(console.warn(n),Qa.includes(e))throw new RangeError(n)}(r,t,String(e));return(0,Va[r[0]])(w,r,b.localize,N)}).join("")}function ii(e){const t=e.match(si);return t?t[1].replace(ni,"'"):e}function li(e,t){const s=+na(e)-+na(t);return s<0?-1:s>0?1:s}function oi(e,t,s){const[n,r]=sa(null===s||void 0===s?void 0:s.in,e,t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function ci(e,t){const s=na(e,null===t||void 0===t?void 0:t.in);return s.setHours(23,59,59,999),s}function di(e,t){const s=na(e,null===t||void 0===t?void 0:t.in),n=s.getMonth();return s.setFullYear(s.getFullYear(),n+1,0),s.setHours(23,59,59,999),s}function ui(e,t){const s=na(e,null===t||void 0===t?void 0:t.in);return+ci(s,t)===+di(s,t)}function hi(e,t,s){const[n,r,a]=sa(null===s||void 0===s?void 0:s.in,e,e,t),i=li(r,a),l=Math.abs(oi(r,a));if(l<1)return 0;1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*l);let o=li(r,a)===-i;ui(n)&&1===l&&1===li(n,a)&&(o=!1);const c=i*(l-+o);return 0===c?0:c}function mi(e,t){return+na(e)-+na(t)}function pi(e,t,s){const n=mi(e,t)/1e3;return(r=null===s||void 0===s?void 0:s.roundingMethod,e=>{const t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})(n);var r}function fi(e,t,s){var n,r;const a=Na(),i=null!==(n=null!==(r=null===s||void 0===s?void 0:s.locale)&&void 0!==r?r:a.locale)&&void 0!==n?n:wa,l=li(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const o=Object.assign({},s,{addSuffix:null===s||void 0===s?void 0:s.addSuffix,comparison:l}),[c,d]=sa(null===s||void 0===s?void 0:s.in,...l>0?[t,e]:[e,t]),u=pi(d,c),h=(da(d)-da(c))/1e3,m=Math.round((u-h)/60);let p;if(m<2)return null!==s&&void 0!==s&&s.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,o):u<10?i.formatDistance("lessThanXSeconds",10,o):u<20?i.formatDistance("lessThanXSeconds",20,o):u<40?i.formatDistance("halfAMinute",0,o):u<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):0===m?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",m,o);if(m<45)return i.formatDistance("xMinutes",m,o);if(m<90)return i.formatDistance("aboutXHours",1,o);if(m<1440){const e=Math.round(m/60);return i.formatDistance("aboutXHours",e,o)}if(m<2520)return i.formatDistance("xDays",1,o);if(m<Zr){const e=Math.round(m/1440);return i.formatDistance("xDays",e,o)}if(m<86400)return p=Math.round(m/Zr),i.formatDistance("aboutXMonths",p,o);if(p=hi(d,c),p<12){const e=Math.round(m/Zr);return i.formatDistance("xMonths",e,o)}{const e=p%12,t=Math.trunc(p/12);return e<3?i.formatDistance("aboutXYears",t,o):e<9?i.formatDistance("overXYears",t,o):i.formatDistance("almostXYears",t+1,o)}}function xi(e,t){return fi(e,ta(e),t)}const gi={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}},bi={date:ma({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:ma({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:ma({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},vi={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"},yi=["MMM","MMMM"],wi={preprocessor:(e,t)=>{if(1===e.getDate())return t;return t.some(e=>e.isToken&&yi.includes(e.value))?t.map(e=>e.isToken&&"do"===e.value?{isToken:!0,value:"d"}:e):t},ordinalNumber:(e,t)=>{const s=Number(e),n=null===t||void 0===t?void 0:t.unit;if(0===s)return"0";let r;return r=1===s?n&&["year","week","hour","minute","second"].includes(n)?"\xe8re":"er":"\xe8me",s+r},era:xa({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:xa({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:xa({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:xa({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:xa({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},ji={ordinalNumber:va({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e)}),era:ba({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:ba({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:ba({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ba({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ba({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},Ni={code:"fr",formatDistance:(e,t,s)=>{let n;const r=gi[e];return n="string"===typeof r?r:1===t?r.one:r.other.replace("{{count}}",String(t)),null!==s&&void 0!==s&&s.addSuffix?s.comparison&&s.comparison>0?"dans "+n:"il y a "+n:n},formatLong:bi,formatRelative:(e,t,s,n)=>vi[e],localize:wi,match:ji,options:{weekStartsOn:1,firstWeekContainsDate:4}},ki=t.memo(e=>{var s,n,r,a;let{msg:i,index:l,messages:o,isMe:c,openImageViewer:d,resolveChatFileUrl:u,getVisitorDisplayName:h,formatTime:m,MessageStatusIcon:p}=e;const f=h(i.isanonymous,i.sendername,i.senderreference),x=u(i.fileinfo),g=i.rawDate;let b=!1,v=null;const y=e=>{if(!e)return null;try{let t;if("string"===typeof e){if(e.length<=5)return null;t=new Date(e)}else t=new Date(e);if(isNaN(t.getTime()))return null;if(ia(t))return"Aujourd'hui";if(ca(t))return"Hier";if(ua(new Date,t)<7){const e=ai(t,"EEEE",{locale:Ni});return e.charAt(0).toUpperCase()+e.slice(1)}return ai(t,"dd/MM/yyyy")}catch(qx){return null}};if(g)if(0===l)b=!0,v=y(g);else{const e=o[l-1],t=null===e||void 0===e?void 0:e.rawDate;if(t)try{const e=new Date(g),s=new Date(t);isNaN(e.getTime())||isNaN(s.getTime())||aa(e,s)||(b=!0,v=y(g))}catch(qx){console.error("Erreur date:",qx)}}return(0,kt.jsxs)(t.Fragment,{children:[b&&v&&(0,kt.jsx)("div",{className:"flex justify-center my-3",children:(0,kt.jsx)("span",{className:"bg-white text-gray-500 text-xs font-medium px-3 py-1 rounded-lg shadow-sm border border-gray-200",children:v})}),(0,kt.jsx)("div",{className:"flex ".concat(c?"justify-end":"justify-start"),children:(0,kt.jsxs)("div",{className:"max-w-[80%] ".concat(c?"":"flex gap-2"),children:[!c&&(0,kt.jsx)("div",{className:"flex flex-col items-center flex-shrink-0",children:(0,kt.jsx)("img",{src:i.avatar,alt:"Avatar",className:"w-8 h-8 rounded-full"})}),(0,kt.jsxs)("div",{className:"flex-1",children:[!c&&(0,kt.jsxs)("div",{className:"mb-1 px-2",children:[(0,kt.jsx)("p",{className:"text-[10px] font-semibold text-gray-700",children:i.sendername||"Support FOSIKA"}),(0,kt.jsx)("p",{className:"text-[9px] text-gray-500",children:"\xc9quipe d\\'assistance"})]}),c&&(0,kt.jsxs)("div",{className:"mb-1 px-2 text-right",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[i.isanonymous?(0,kt.jsx)(Lr,{className:"w-3 h-3 text-gray-400"}):(0,kt.jsx)(Ar,{className:"w-3 h-3 text-blue-500"}),(0,kt.jsx)("p",{className:"text-[10px] font-semibold text-gray-700",children:f.mainName})]}),f.subName&&(0,kt.jsx)("p",{className:"text-[9px] text-gray-500",children:f.subName})]}),(0,kt.jsxs)("div",{className:"rounded-2xl shadow-sm overflow-hidden ".concat(c?"bg-green-600 text-white rounded-br-sm":"bg-white text-gray-800 border border-gray-200 rounded-bl-sm"),children:["image"===i.type&&x?(0,kt.jsxs)("div",{className:"relative group",children:[(0,kt.jsx)("img",{src:x,alt:(null===(s=i.fileinfo)||void 0===s?void 0:s.name)||"Image",className:"w-full max-w-xs cursor-pointer rounded-lg",style:{maxHeight:"300px",objectFit:"cover"},onClick:()=>d(x),onError:e=>{e.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"}}),(0,kt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all flex items-center justify-center rounded-lg",children:(0,kt.jsx)("button",{onClick:()=>d(x),className:"opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all bg-white/90 hover:bg-white p-2 rounded-full shadow-lg",children:(0,kt.jsx)(Ir,{className:"w-5 h-5 text-gray-800"})})})]}):"video"===i.type&&x?(0,kt.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden max-w-xs",children:[(0,kt.jsx)("video",{controls:!0,className:"w-full",style:{maxHeight:"250px"},preload:"metadata",children:(0,kt.jsx)("source",{src:x,type:(null===(n=i.fileinfo)||void 0===n?void 0:n.type)||"video/mp4"})}),(0,kt.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,kt.jsx)(zr,{className:"w-3 h-3"}),"Vid\xe9o"]})]}):"file"===i.type&&x?(0,kt.jsx)("div",{className:"p-3 ".concat(c?"bg-green-700":"bg-gray-50"),children:(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"p-2 rounded-lg ".concat(c?"bg-green-800":"bg-white border border-gray-200"),children:(0,kt.jsx)(Fr,{className:"w-5 h-5 ".concat(c?"text-white":"text-gray-600")})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-xs font-medium truncate ".concat(c?"text-white":"text-gray-800"),children:(null===(r=i.fileinfo)||void 0===r?void 0:r.name)||"Fichier"}),(null===(a=i.fileinfo)||void 0===a?void 0:a.size)&&(0,kt.jsxs)("p",{className:"text-[10px] ".concat(c?"text-green-200":"text-gray-500"),children:[(i.fileinfo.size/1024).toFixed(2)," KB"]})]}),(0,kt.jsx)("a",{href:x,download:!0,className:"p-2 rounded-lg transition-colors ".concat(c?"bg-green-800 hover:bg-green-900":"bg-white hover:bg-gray-100 border border-gray-200"),children:(0,kt.jsx)(Or,{className:"w-4 h-4 ".concat(c?"text-white":"text-gray-600")})})]})}):(0,kt.jsx)("div",{className:"p-3",children:(0,kt.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:i.text})}),(0,kt.jsxs)("div",{className:"px-3 pb-2 flex items-center gap-2 justify-end text-[10px] ".concat(c?"text-green-100":"text-gray-500"),children:[(0,kt.jsx)("span",{children:m(i.time)}),c&&(0,kt.jsx)(p,{status:i.status})]})]})]})]})})]})},(e,t)=>e.msg.id===t.msg.id&&e.msg.status===t.msg.status&&e.msg.readat===t.msg.readat&&e.isMe===t.isMe),Si=e=>{var s;let{reference:n,dossierInfo:r,onOpenFullChat:a}=e;const[i,l]=(0,t.useState)(!1),[o,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(""),[m,p]=(0,t.useState)([]),[f,x]=(0,t.useState)(null),[g,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)(null),[w,j]=(0,t.useState)(!1),[N,k]=(0,t.useState)(!1),[S,E]=(0,t.useState)(!1),[C,_]=(0,t.useState)(!1),[A,M]=(0,t.useState)(0),[D,T]=(0,t.useState)(null),[R,P]=(0,t.useState)(null),[O,L]=(0,t.useState)(0),[I,z]=(0,t.useState)({isOpen:!1,currentImage:null,currentIndex:0,images:[]}),[F,U]=(0,t.useState)({isOnline:!1,lastSeen:null}),[B,V]=(0,t.useState)(null),[H,W]=(0,t.useState)(!1),q=(0,t.useRef)(null),Y=(0,t.useRef)(null),J=(0,t.useRef)(null),K=(0,t.useRef)(null),G=(0,t.useRef)(null),X=(0,t.useRef)(null),Q=(0,t.useRef)(0),Z=(0,t.useRef)(0),$=(0,t.useRef)(null),ee=(0,t.useRef)(null),te=(0,t.useRef)((new Date).toISOString()),se=(0,t.useCallback)(()=>{var e;if(f&&(null===(e=$.current)||void 0===e?void 0:e.readyState)!==WebSocket.OPEN)try{const e="ws://localhost:6001/chat/".concat(f),t=new WebSocket(e);t.onopen=()=>{console.log("\u2705 WebSocket connect\xe9"),W(!0),t.send(JSON.stringify({type:"auth",reference:n,chatId:f}))},t.onmessage=e=>{try{const t=JSON.parse(e.data);if("new_message"===t.type){const e={id:t.message.id,text:t.message.text||t.message.content,sender:t.message.sender,time:t.message.time||t.message.createdat,rawDate:t.message.createdat||t.message.created_at||t.message.time,sendername:t.message.sendername,senderreference:t.message.senderreference,isanonymous:t.message.isanonymous,status:t.message.status,readat:t.message.readat,deliveredat:t.message.deliveredat,type:t.message.type,fileinfo:t.message.fileinfo,avatar:"support"===t.message.sender?"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff":ie(t.message.isanonymous,t.message.sendername)};p(t=>t.some(t=>t.id===e.id)?t:[...t,e]),i&&!o||(M(e=>e+1),ne())}else"message_status_update"===t.type?p(e=>e.map(e=>e.id===t.messageId?c(c({},e),{},{status:t.status,readat:t.readat,deliveredat:t.deliveredat}):e)):"support_typing"===t.type&&console.log("Support est en train d'\xe9crire...")}catch(t){console.error("Erreur parsing WebSocket message:",t)}},t.onerror=e=>{console.error("\u274c WebSocket erreur:",e),W(!1)},t.onclose=()=>{console.log("\ud83d\udd0c WebSocket d\xe9connect\xe9"),W(!1),ee.current=setTimeout(()=>{console.log("\ud83d\udd04 Tentative de reconnexion WebSocket..."),se()},3e3)},$.current=t,V(t)}catch(t){console.error("Erreur cr\xe9ation WebSocket:",t),W(!1)}},[f,n,i,o]),ne=()=>{const e=new Audio("/notification.mp3");e.volume=.5,e.play().catch(e=>console.log("Notification sound blocked:",e))},re=(0,t.useCallback)(e=>{if(!e)return null;const t=e.url||e.name||e.filename;return t?Xr.getChatFileUrl(t):null},[]),ae=(0,t.useCallback)(()=>({id:"auto-welcome",text:"Salama tompoko,\n\nVoaray soamantsara ny fitarainanao laharana: ".concat(n,".\n\nRaha mbola misy zavatra tianao ampiana, na raha manana fanontaniana ianao, dia afaka manoratra ato amin'ity resaka ity foana.\n\nHamaly anao haingana araka izay tratra."),sender:"support",sendername:"Support FOSIKA",time:te.current,rawDate:te.current,avatar:"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff",status:"read",readat:(new Date).toISOString(),type:"text",isVirtual:!0}),[n]),ie=(0,t.useCallback)((e,t)=>{if(e)return"https://ui-avatars.com/api?name=Anonyme&background=94a3b8&color=fff";return"https://ui-avatars.com/api?name=".concat(encodeURIComponent(t||"Visiteur"),"&background=3b82f6&color=fff")},[]),le=(0,t.useCallback)((e,t,s)=>e?{mainName:"Anonyme",subName:s||"Visiteur anonyme"}:{mainName:t||"Visiteur",subName:s||null},[]),oe=(0,t.useCallback)(e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?"":xi(t,{addSuffix:!0,locale:Ni})}catch(qx){return e}},[]),ce=(0,t.useCallback)(e=>{if(!e)return"";try{if("string"===typeof e&&e.includes(":"))return e;const t=new Date(e);return isNaN(t.getTime())?"":ai(t,"HH:mm",{locale:Ni})}catch(qx){return e}},[]),de=(0,t.useCallback)(e=>{let{status:t}=e;return t&&"sent"!==t?"delivered"===t?(0,kt.jsx)(Br,{className:"w-3.5 h-3.5 text-gray-400"}):"read"===t?(0,kt.jsx)(Br,{className:"w-3.5 h-3.5 text-blue-500"}):null:(0,kt.jsx)(Ur,{className:"w-3.5 h-3.5 text-gray-400"})},[]);(0,t.useEffect)(()=>{const e=()=>_(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{n&&i&&!f&&!g&&me()},[n,i,f]),(0,t.useEffect)(()=>(f&&i&&!o&&se(),()=>{$.current&&$.current.close(),ee.current&&clearTimeout(ee.current)}),[f,i,o,se]),(0,t.useEffect)(()=>{if(f&&i&&!o&&!H){const e=setInterval(()=>{fe(f)},2e3);return()=>clearInterval(e)}},[f,i,o,H]),(0,t.useEffect)(()=>{const e=setInterval(()=>pe(!0),15e3);return pe(!0),()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{if(f&&i&&!o)return he(),X.current=setInterval(()=>he(),3e4),()=>{X.current&&clearInterval(X.current)}},[f,i,o]),(0,t.useEffect)(()=>{q.current&&(q.current.style.height="auto",q.current.style.height="".concat(Math.min(q.current.scrollHeight,120),"px"))},[u]),(0,t.useEffect)(()=>{if(f&&n&&i&&!o)return Xr.updateVisitorOnlineStatus(f,!0,n).catch(e=>console.error("Erreur statut online",e)),G.current=setInterval(()=>{Xr.updateVisitorOnlineStatus(f,!0,n).catch(e=>console.error("Erreur statut online",e))},3e4),()=>{G.current&&clearInterval(G.current),Xr.updateVisitorOnlineStatus(f,!1,n).catch(e=>console.error("Erreur statut offline",e))}},[f,n,i,o]),(0,t.useEffect)(()=>{ue()},[m]);const ue=()=>{var e;null===(e=K.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},he=async()=>{if(f)try{const e=await Xr.getVisitorOnlineStatus(f);e.success&&U({isOnline:e.isonline,lastSeen:e.lastseen})}catch(e){console.error("Erreur v\xe9rification statut support",e)}},me=async()=>{if(n)try{b(!0),y(null);const e=await Xr.checkChatByReference(n);e.success&&e.exists&&e.chatid?(x(e.chatid),E(!0),await fe(e.chatid),await he()):p([ae()])}catch(e){console.error("Erreur v\xe9rification chat existant",e),p([ae()])}finally{b(!1)}},pe=async function(){if(f)try{const e=await Xr.getPublicConversation(f);if(e.success&&e.chat){const t=e.chat.messages||[],s=t.filter(e=>"support"===e.sender&&!e.readat).length;if(Z.current=s,i&&!o||M(s>0?1:0),!i){const e=t.map(e=>({id:e.id,text:e.text||e.content,sender:e.sender,time:e.time||e.createdat,rawDate:e.createdat||e.created_at||e.time,sendername:e.sendername,senderreference:e.senderreference,isanonymous:e.isanonymous,status:e.status,readat:e.readat,deliveredat:e.deliveredat,type:e.type,fileinfo:e.fileinfo,avatar:"support"===e.sender?"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff":ie(e.isanonymous,e.sendername)}));p(e),Q.current=e.length}}}catch(e){console.error("Erreur chargement messages arri\xe8re-plan",e)}},fe=async e=>{try{const t=await Xr.getPublicConversation(e);if(t.success&&t.chat){const s=t.chat.messages||[];if(0===s.length)p([ae()]),Q.current=1;else{const t=s.map(e=>({id:e.id,text:e.text||e.content,sender:e.sender,time:e.time||e.createdat,rawDate:e.createdat||e.created_at||e.time,sendername:e.sendername,senderreference:e.senderreference,isanonymous:e.isanonymous,status:e.status,readat:e.readat,deliveredat:e.deliveredat,type:e.type,fileinfo:e.fileinfo,avatar:"support"===e.sender?"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff":ie(e.isanonymous,e.sendername)}));p(t),Q.current=t.length,await Xr.markPublicAsRead(e),M(0),Z.current=0}}}catch(t){console.error("Erreur chargement messages",t)}},xe=async()=>{if(!u||!u.trim())return void h("");const e=u.trim(),t="temp-".concat(Date.now()),s={id:t,text:e,sender:"visitor",sendername:(null===r||void 0===r?void 0:r.name)||"Visiteur",time:(new Date).toISOString(),rawDate:(new Date).toISOString(),status:"sending",type:"text",isanonymous:!1,avatar:ie(!1,(null===r||void 0===r?void 0:r.name)||"Visiteur")};p(e=>[...e,s]),h("");try{j(!0),y(null);const s=await Xr.createSupportChat({reference:n,message:e,name:(null===r||void 0===r?void 0:r.name)||"Visiteur"});var a,i;if(!f&&s.chatid&&(x(s.chatid),E(!0)),s.success)if(p(e=>e.map(e=>{var n,r;return e.id===t?c(c({},e),{},{id:(null===(n=s.message)||void 0===n?void 0:n.id)||e.id,status:"sent",time:(null===(r=s.message)||void 0===r?void 0:r.createdat)||e.time}):e})),(null===(a=$.current)||void 0===a?void 0:a.readyState)===WebSocket.OPEN)$.current.send(JSON.stringify({type:"message_sent",messageId:null===(i=s.message)||void 0===i?void 0:i.id,chatId:f||s.chatid}))}catch(l){console.error("Erreur envoi message",l),y(l.message||"Erreur lors de l'envoi du message"),p(e=>e.map(e=>e.id===t?c(c({},e),{},{status:"failed"}):e))}finally{j(!1)}},ge=(0,t.useCallback)(e=>{const t=m.filter(e=>"image"===e.type&&re(e.fileinfo)).map(e=>{var t;return{url:re(e.fileinfo),name:null===(t=e.fileinfo)||void 0===t?void 0:t.name,originalIndex:m.indexOf(e)}}),s=t.findIndex(t=>t.url===e);z({isOpen:!0,currentImage:e,currentIndex:s>=0?s:0,images:t})},[m,re]),be=e=>{const t="next"===e?(I.currentIndex+1)%I.images.length:(I.currentIndex-1+I.images.length)%I.images.length;z(e=>c(c({},e),{},{currentIndex:t,currentImage:e.images[t].url}))},ve=()=>{l(!1),d(!1)};return n?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("input",{ref:Y,type:"file",className:"hidden",onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;if(!f)return void y("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation");if(s.size>26214400)return void y("Le fichier ne doit pas d\xe9passer 25 MB");if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","video/mp4","video/quicktime","video/x-msvideo","video/x-ms-wmv"].includes(s.type))return void y("Format non support\xe9. Utilisez JPG, JPEG, PNG, MP4 ou PDF");if(s.type.startsWith("video/")){const e=new FileReader;e.onloadend=()=>{P(e.result),T(s),y(null)},e.readAsDataURL(s)}else T(s),P(null),y(null)},accept:".pdf,.doc,.docx,.txt,.xlsx,.xls,.mp4,.mov,.avi,.wmv,video/*"}),(0,kt.jsx)("input",{ref:J,type:"file",className:"hidden",onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;if(!f)return void y("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation");if(s.size>26214400)return void y("L'image ne doit pas d\xe9passer 25 MB");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(s.type))return void y("Format d'image non support\xe9. Utilisez JPG, JPEG, PNG, GIF ou WEBP");const n=new FileReader;n.onloadend=()=>{P(n.result),T(s),y(null)},n.readAsDataURL(s)},accept:".jpg,.jpeg,.png,.gif,.webp,image/*"}),I.isOpen&&(0,kt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-[9999] flex items-center justify-center",children:[(0,kt.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent z-10",children:[(0,kt.jsxs)("div",{className:"text-white",children:[(0,kt.jsx)("p",{className:"text-sm font-medium",children:(null===(s=I.images[I.currentIndex])||void 0===s?void 0:s.name)||"Image"}),(0,kt.jsxs)("p",{className:"text-xs text-gray-300",children:[I.currentIndex+1," / ",I.images.length]})]}),(0,kt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),z({isOpen:!1,currentImage:null,currentIndex:0,images:[]})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",title:"Fermer",type:"button",children:(0,kt.jsx)(Lt,{className:"w-6 h-6 text-white"})})]}),(0,kt.jsx)("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:(0,kt.jsx)("img",{src:I.currentImage,alt:"Aper\xe7u",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.src="https://via.placeholder.com/400x300?text=Image+non+disponible"}})}),I.images.length>1&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),be("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image pr\xe9c\xe9dente",type:"button",children:(0,kt.jsx)(Rt,{className:"w-6 h-6 text-white"})}),(0,kt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),be("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image suivante",type:"button",children:(0,kt.jsx)(Vr,{className:"w-6 h-6 text-white"})})]}),(0,kt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 flex items-center justify-center gap-4 bg-gradient-to-t from-black/50 to-transparent z-10",children:(0,kt.jsx)("button",{onClick:async e=>{var t;e.preventDefault(),e.stopPropagation();const s=I.currentImage,n=(null===(t=I.images[I.currentIndex])||void 0===t?void 0:t.name)||"image.jpg";try{const e=await fetch(s),t=await e.blob(),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}catch(v){console.error("Erreur t\xe9l\xe9chargement:",v),window.open(s,"_blank")}},className:"p-3 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors",title:"T\xe9l\xe9charger l\\'image",type:"button",children:(0,kt.jsx)(Or,{className:"w-5 h-5"})})})]}),!i&&(0,kt.jsxs)("button",{onClick:()=>{l(!0),d(!1),y(null),M(0),Z.current=0},className:"fixed bottom-6 right-6 bg-green-600 hover:bg-green-700 text-white rounded-full p-4 shadow-2xl transition-all duration-300 hover:scale-110 z-50 group",title:"Ouvrir le support",children:[(0,kt.jsx)(Hr,{className:"w-7 h-7"}),A>0&&(0,kt.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:A}),(0,kt.jsxs)("div",{className:"absolute -top-2 -left-2 opacity-0 group-hover:opacity-100 transition-opacity bg-white text-gray-800 text-xs rounded-lg px-3 py-2 shadow-lg whitespace-nowrap",children:[(0,kt.jsx)("p",{className:"font-semibold",children:"Support dossier"}),(0,kt.jsx)("p",{className:"text-[10px] text-gray-600",children:n})]})]}),i&&!o&&(0,kt.jsxs)("div",{className:"".concat(C?"fixed inset-0 w-full h-full rounded-none":"fixed bottom-6 right-6 w-96 h-[32rem] rounded-xl"," bg-white shadow-2xl flex flex-col overflow-hidden z-50 border border-gray-200"),children:[(0,kt.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-4 flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,kt.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,kt.jsx)("img",{src:"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff",alt:"Support",className:"w-10 h-10 rounded-full border-2 border-white"}),F.isOnline&&(0,kt.jsx)("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 border-2 border-white rounded-full"}),H&&(0,kt.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-400 rounded-full animate-pulse",title:"Connexion temps r\xe9el active"})]}),(0,kt.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,kt.jsx)("h3",{className:"font-bold text-sm truncate",children:"Support FOSIKA"}),F.isOnline?(0,kt.jsxs)("p",{className:"text-xs opacity-90 flex items-center gap-1",children:[(0,kt.jsx)("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"En ligne"]}):(0,kt.jsx)("p",{className:"text-xs opacity-90",children:F.lastSeen?"Vu ".concat(oe(F.lastSeen)):"Hors ligne"})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!C&&f&&a&&(0,kt.jsx)("button",{onClick:()=>{a&&f&&(a(f),ve())},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Agrandir",children:(0,kt.jsx)(Wr,{className:"w-5 h-5"})}),!C&&(0,kt.jsx)("button",{onClick:()=>{d(!0)},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"R\xe9duire",children:(0,kt.jsx)(qr,{className:"w-5 h-5"})}),(0,kt.jsx)("button",{onClick:ve,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Fermer",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})})]})]}),(0,kt.jsxs)("div",{className:"bg-green-50 border-b border-green-100 px-4 py-2.5",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)(Yr,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),(0,kt.jsxs)("p",{className:"text-xs text-gray-700 truncate",children:[(0,kt.jsx)("span",{className:"font-semibold",children:"Dossier:"})," ",(null===r||void 0===r?void 0:r.titre)||"Signalement"]})]}),(0,kt.jsxs)("p",{className:"text-[10px] text-gray-600 mt-0.5 font-mono",children:["R\xe9f: ",n]})]}),(0,kt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-3",children:[g?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,kt.jsx)(Jr,{className:"w-8 h-8 text-green-600 animate-spin mb-3"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Chargement de l\\'historique..."})]}):v&&!D?(0,kt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm flex items-start gap-2",children:[(0,kt.jsx)(Pt,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,kt.jsx)("p",{children:v})]}):0===m.length?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,kt.jsx)(Hr,{className:"w-16 h-16 mb-3"}),(0,kt.jsx)("p",{className:"text-sm font-medium",children:"Bienvenue sur le support FOSIKA"}),(0,kt.jsx)("p",{className:"text-xs mt-1 text-center px-4",children:"Envoyez votre premier message pour commencer la conversation avec notre \xe9quipe"})]}):m.map((e,t)=>{const s="visitor"===e.sender;return(0,kt.jsx)(ki,{msg:e,index:t,messages:m,isMe:s,openImageViewer:ge,resolveChatFileUrl:re,getVisitorDisplayName:le,formatTime:ce,MessageStatusIcon:de},e.id||t)}),(0,kt.jsx)("div",{ref:K})]}),D&&(0,kt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[R?(0,kt.jsx)("img",{src:R,alt:"Preview",className:"w-16 h-16 object-cover rounded-lg"}):(0,kt.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,kt.jsx)(Fr,{className:"w-8 h-8 text-gray-400"})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-sm font-medium truncate",children:D.name}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(D.size)}),N&&(0,kt.jsx)("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1.5",children:(0,kt.jsx)("div",{className:"bg-green-600 h-1.5 rounded-full transition-all",style:{width:"".concat(O,"%")}})})]}),(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsx)("button",{onClick:async()=>{if(D&&f)try{k(!0),y(null);let t="file";D.type.startsWith("image/")?t="image":D.type.startsWith("video/")&&(t="video");var e;if((await Xr.sendPublicMessageWithFile(f,{file:D,type:t,sendername:(null===r||void 0===r?void 0:r.name)||"Visiteur",senderemail:(null===r||void 0===r?void 0:r.email)||null,content:null},e=>L(e))).success)T(null),P(null),L(0),(null===(e=$.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&$.current.send(JSON.stringify({type:"file_sent",chatId:f})),await fe(f)}catch(t){console.error("Erreur envoi fichier:",t),y(t.message||"Erreur lors de l'envoi du fichier")}finally{k(!1)}},disabled:N,className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50",children:N?(0,kt.jsx)(Jr,{className:"w-4 h-4 animate-spin"}):(0,kt.jsx)(Kr,{className:"w-4 h-4"})}),(0,kt.jsx)("button",{onClick:()=>{T(null),P(null),L(0),y(null)},disabled:N,className:"p-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors disabled:opacity-50",children:(0,kt.jsx)(Lt,{className:"w-4 h-4"})})]})]})}),(0,kt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,kt.jsxs)("div",{className:"flex items-end gap-2",children:[(0,kt.jsxs)("div",{className:"flex gap-1",children:[(0,kt.jsx)("button",{onClick:()=>{var e;f?null===(e=J.current)||void 0===e||e.click():y("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation")},className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Joindre une image",disabled:!f,children:(0,kt.jsx)(Gr,{className:"w-5 h-5"})}),(0,kt.jsx)("button",{onClick:()=>{var e;f?null===(e=Y.current)||void 0===e||e.click():y("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation")},className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Joindre un fichier",disabled:!f,children:(0,kt.jsx)(Fr,{className:"w-5 h-5"})})]}),(0,kt.jsx)("textarea",{ref:q,value:u,onChange:e=>h(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),xe())},placeholder:"\xc9crivez votre message...",className:"flex-1 resize-none border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm max-h-[120px]",rows:"1",disabled:w}),(0,kt.jsx)("button",{onClick:xe,disabled:!u.trim()||w,className:"p-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Envoyer",children:w?(0,kt.jsx)(Jr,{className:"w-5 h-5 animate-spin"}):(0,kt.jsx)(Kr,{className:"w-5 h-5"})})]})})]})]}):null},Ei={"faux-diplomes":"\ud83d\udcdc","offre-formation-irreguliere":"\ud83c\udf93","recrutements-irreguliers":"\ud83d\udcbc",harcelement:"\u26a0\ufe0f",corruption:"\ud83d\udd34",divers:"\ud83d\udccb"},Ci={"faux-diplomes":"Faux Dipl\xf4mes","offre-formation-irreguliere":"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)","recrutements-irreguliers":"Recrutements Irr\xe9guliers",harcelement:"Harc\xe8lement",corruption:"Corruption",divers:"Divers"},_i={"faux-diplomes":"Signalement de faux dipl\xf4me","offre-formation-irreguliere":"Signalement d'offre de formation irr\xe9guli\xe8re (non habilit\xe9)","recrutements-irreguliers":"Signalement de recrutement irr\xe9gulier",harcelement:"Signalement de harc\xe8lement",corruption:"Signalement de corruption",divers:"Signalement divers"},Ai={en_cours:"En cours",finalise:"Finalis\xe9",doublon:"Doublon",refuse:"Refus\xe9",traitement_classification:"Traitement et classification",investigation:"Investigation",transmis_autorite:"Transmis aux autorit\xe9s",classifier:"Classifi\xe9"},Mi={completed:"Compl\xe9t\xe9",in_progress:"En cours",pending:"En attente",rejected:"Rejet\xe9",duplicate:"Doublon",not_required:"Non requis"};function Di(){var e,s,n,r,a,i,l,o,c,d,u,h,m,p,f,x,g,b,v,y,w,j,N,k,S,E,C,_,A,M,D,T;const R=pe(),[P,O]=(0,t.useState)("recherche"),[L,I]=(0,t.useState)(""),[z,F]=(0,t.useState)(null),[U,B]=(0,t.useState)(""),[V,H]=(0,t.useState)(!1),[W,q]=(0,t.useState)(null),[,Y]=(0,t.useState)(null),J=e=>e.replace(/\s+/g,""),K=async()=>{const e=J(L);if(e.trim())try{H(!0),B(""),q(null);const t=(await or.get("/reports/tracking/".concat(e))).data;if(!t.success||!t.data)return void B("Aucun dossier trouv\xe9 avec cette r\xe9f\xe9rence");const s=t.data;let n=[];if(s.files&&Array.isArray(s.files))n=s.files;else if(s.files&&"string"===typeof s.files)try{const e=JSON.parse(s.files);Array.isArray(e)&&(n=e)}catch(qx){console.error("Erreur parsing JSON files:",qx)}const r="anonyme"===s.type||s.name&&"anonyme"===s.name.toLowerCase(),a=((e,t)=>{var s,n,r,a,i,l,o,c,d,u,h,m;if(!e)return{drse:{date:null===t||void 0===t?void 0:t.created_at,status:"in_progress",progress:33,agent:"DAAQ / DRSE"},cac:{date:null,status:"pending",progress:0,agent:"DAAQ / CAC / DAJ"},bianco:{date:null,status:"pending",progress:0,agent:"DAAQ / BIANCO"}};if("string"===typeof e)try{e=JSON.parse(e)}catch(qx){console.error("Erreur parsing workflow:",qx)}return{drse:{date:(null===(s=e.drse)||void 0===s?void 0:s.date)||(null===t||void 0===t?void 0:t.created_at),status:(null===(n=e.drse)||void 0===n?void 0:n.status)||"in_progress",progress:(null===(r=e.drse)||void 0===r?void 0:r.progress)||33,agent:(null===(a=e.drse)||void 0===a?void 0:a.agent)||"DAAQ / DRSE"},cac:{date:(null===(i=e.cac)||void 0===i?void 0:i.date)||null,status:(null===(l=e.cac)||void 0===l?void 0:l.status)||"pending",progress:(null===(o=e.cac)||void 0===o?void 0:o.progress)||0,agent:(null===(c=e.cac)||void 0===c?void 0:c.agent)||"DAAQ / CAC / DAJ"},bianco:{date:(null===(d=e.bianco)||void 0===d?void 0:d.date)||null,status:(null===(u=e.bianco)||void 0===u?void 0:u.status)||"pending",progress:(null===(h=e.bianco)||void 0===h?void 0:h.progress)||0,agent:(null===(m=e.bianco)||void 0===m?void 0:m.agent)||"DAAQ / BIANCO"}}})(s.workflow,s),i={reference:s.reference,statut:s.status||"en_cours",titre:_i[s.category]||"Signalement",dateCreation:s.created_at,dateMiseAJour:s.updated_at,category:s.category,hasProof:s.has_proof||n.length>0,workflow:a,isAnonymous:r,name:r?"Anonyme":s.name||"Non renseign\xe9",email:r?"":s.email||"",phone:r?"":s.phone||"",description:s.description||"Aucune description disponible pour ce signalement.",region:s.region||"",city:s.city||"",province:s.province||"",address:s.address||"",files:n,type:s.type||(r?"anonyme":"identifie"),accept_terms:s.accept_terms||!0,accept_truth:s.accept_truth||!0};console.log("Dossier construit:",i),F(i),O("details")}catch(qx){var t;console.error("Erreur lors de la recherche:",qx),404===(null===(t=qx.response)||void 0===t?void 0:t.status)?B("Aucun dossier trouv\xe9 avec cette r\xe9f\xe9rence"):B("Erreur lors de la consultation du dossier"),q(qx.message)}finally{H(!1)}else B("Veuillez saisir une r\xe9f\xe9rence")},G=e=>{const t=e.target.value,s=J(t);I(s),U&&B("")},X=()=>{O("recherche"),I(""),F(null),B("")},Q=()=>{R("/")},Z=e=>"string"===typeof e?e.includes("http://")||e.includes("https://")||e.includes("/")?e.split("/").pop():e:"object"===typeof e&&null!==e?e.file_name||e.filename||Z(e.path||e.url||""):e,$=e=>{switch(e){case"completed":return(0,kt.jsx)(kr,{className:"text-green-600",size:20});case"in_progress":return(0,kt.jsx)(Sr,{className:"text-blue-600",size:20});case"rejected":return(0,kt.jsx)(Er,{className:"text-red-600",size:20});case"duplicate":return(0,kt.jsx)(Sr,{className:"text-yellow-600",size:20});default:return(0,kt.jsx)(Sr,{className:"text-gray-400",size:20})}},ee=e=>{switch(e){case"completed":return"bg-green-50 border-green-200";case"in_progress":return"bg-blue-50 border-blue-200";case"rejected":return"bg-red-50 border-red-200";case"duplicate":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}},te=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(qx){return e}};return W&&"recherche"===P?(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex flex-col font-bill",children:[(0,kt.jsx)("div",{className:"w-full bg-white border-b-2 border-gray-200 py-4 shadow-sm",children:(0,kt.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,kt.jsx)("img",{src:cr,alt:"Logo R\xe9publique",className:"h-12 w-12 object-contain"}),(0,kt.jsx)("img",{src:dr,alt:"Logo MESUPRES",className:"h-12 w-12 object-contain"})]}),(0,kt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,kt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,kt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,kt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministre de l'Enseignement Sup\xe9rieur",(0,kt.jsx)("br",{}),"et de la Recherche Scientifique"]})]})]})})}),(0,kt.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,kt.jsx)("div",{className:"w-full max-w-lg",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-8 border border-gray-200 text-center",children:[(0,kt.jsx)("div",{className:"w-16 h-16 bg-red-100 flex items-center justify-center mx-auto mb-4",children:(0,kt.jsx)(Pt,{className:"text-red-600",size:32})}),(0,kt.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erreur de chargement"}),(0,kt.jsx)("p",{className:"text-gray-600 mb-4",children:W}),(0,kt.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded transition-colors",children:"R\xe9essayer"})]})})}),(0,kt.jsx)("div",{className:"w-full text-center py-4 mt-auto",children:(0,kt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2026"})})]}):"recherche"===P?(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex flex-col font-bill",children:[(0,kt.jsx)("div",{className:"w-full bg-white border-b-2 border-gray-200 py-4 shadow-sm",children:(0,kt.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,kt.jsx)("img",{src:cr,alt:"Logo R\xe9publique",className:"h-12 w-12 object-contain"}),(0,kt.jsx)("img",{src:dr,alt:"Logo MESUPRES",className:"h-12 w-12 object-contain"})]}),(0,kt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,kt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,kt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,kt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministre de l'Enseignement Sup\xe9rieur",(0,kt.jsx)("br",{}),"et de la Recherche Scientifique"]})]})]})})}),(0,kt.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,kt.jsx)("div",{className:"w-full max-w-lg",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-8 border border-gray-200",children:[(0,kt.jsxs)("div",{className:"text-center mb-8",children:[(0,kt.jsx)("div",{className:"flex justify-center mb-3",children:(0,kt.jsx)("img",{src:ur,alt:"FOSIKA",className:"h-16 object-contain"})}),(0,kt.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Suivi de Dossier"}),(0,kt.jsx)("p",{className:"text-gray-600",children:"Consultez l'\xe9tat d'avancement de votre signalement"})]}),(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"R\xe9f\xe9rence du dossier"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("input",{type:"text",value:L,onChange:G,placeholder:"Ex: REF-20261119-6AB2BF",className:"w-full px-4 py-3.5 pl-12 text-lg border-2 border-gray-300 rounded focus:ring-2 focus:ring-[#5e8f3e] focus:border-[#5e8f3e] transition-all outline-none font-bill",onKeyPress:e=>{"Enter"===e.key&&K()}}),(0,kt.jsx)(Cr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),U&&(0,kt.jsx)("p",{className:"text-red-500 text-sm mt-2",children:U})]}),(0,kt.jsx)("button",{onClick:K,disabled:V,className:"w-full bg-[#5e8f3e] text-white py-4 rounded font-semibold text-lg hover:bg-[#4a7b32] transition-all transform hover:scale-[1.02] shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:V?"Recherche en cours...":"Rechercher le dossier"})]}),(0,kt.jsx)("div",{className:"mt-6 text-center",children:(0,kt.jsxs)("button",{onClick:Q,className:"inline-flex items-center gap-2 px-6 py-3 bg-white hover:bg-gray-50 text-gray-700 font-medium rounded transition-all shadow-md border-2 border-gray-200 hover:border-[#b3d088]",children:[(0,kt.jsx)(_r,{size:20}),"Retour \xe0 l'accueil"]})})]})})}),(0,kt.jsx)("div",{className:"w-full text-center py-4 mt-auto",children:(0,kt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2026"})})]}):z?(0,kt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 font-bill",children:[(0,kt.jsx)("div",{className:"w-full bg-white border-b-2 border-gray-200 py-4 shadow-sm",children:(0,kt.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,kt.jsx)("img",{src:cr,alt:"Logo R\xe9publique",className:"h-12 w-12 object-contain"}),(0,kt.jsx)("img",{src:dr,alt:"Logo MESUPRES",className:"h-12 w-12 object-contain"})]}),(0,kt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,kt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,kt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,kt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministre de l'Enseignement Sup\xe9rieur",(0,kt.jsx)("br",{}),"et de la Recherche Scientifique"]})]})]})})}),(0,kt.jsx)("div",{className:"max-w-4xl mx-auto p-4 md:p-6",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl overflow-hidden border border-gray-200",children:[(0,kt.jsx)("div",{className:"bg-gradient-to-r from-[#0c2844] to-[#09407e] p-6",children:(0,kt.jsxs)("div",{className:"flex items-start justify-between flex-wrap gap-3",children:[(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,kt.jsx)("span",{className:"text-2xl",children:Ei[z.category]||"\ud83d\udccb"}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-xl font-bold text-white",children:z.titre}),(0,kt.jsx)("p",{className:"text-white/90 text-sm mt-1",children:Ci[z.category]||"Signalement"})]})]}),(0,kt.jsx)("div",{className:"inline-block bg-white/20 backdrop-blur-sm px-3 py-1.5 rounded",children:(0,kt.jsxs)("p",{className:"text-white font-mono font-semibold text-sm",children:["R\xe9f\xe9rence : ",z.reference]})}),(0,kt.jsx)("div",{className:"mt-2",children:(0,kt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium "+(z.hasProof?"bg-green-100 text-green-800 border border-green-200":"bg-gray-100 text-gray-600 border border-gray-200"),children:z.hasProof?"Avec preuves":"Sans preuves"})})]}),(0,kt.jsx)("div",{children:(0,kt.jsx)("span",{className:"px-4 py-2 rounded text-sm font-bold border-2 shadow-lg "+(e=>{switch(e){case"en_cours":case"traitement_classification":return"bg-blue-100 text-blue-800 border-blue-200";case"finalise":case"classifier":return"bg-green-100 text-green-800 border-green-200";case"doublon":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"refuse":case"rejected":return"bg-red-100 text-red-800 border-red-200";case"investigation":return"bg-purple-100 text-purple-800 border-purple-200";case"transmis_autorite":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(z.statut),children:Ai[z.statut]||z.statut||"En cours"})})]})}),(0,kt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,kt.jsxs)("div",{className:"mb-6",children:[(0,kt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,kt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),z.isAnonymous?"Signalement anonyme":"Informations de l'\xe9metteur"]}),z.isAnonymous?(0,kt.jsxs)("div",{className:"bg-gray-50 border-2 border-gray-200 rounded p-5 text-center",children:[(0,kt.jsx)(Ar,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),(0,kt.jsx)("p",{className:"text-gray-600 font-semibold text-sm",children:"Ce signalement a \xe9t\xe9 effectu\xe9 de mani\xe8re anonyme."}),(0,kt.jsx)("div",{className:"mt-3 bg-white rounded p-3 border border-gray-200 inline-block",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)(Mr,{className:"w-4 h-4 text-[#4c7026]"}),(0,kt.jsxs)("div",{className:"text-left",children:[(0,kt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Date de cr\xe9ation"}),(0,kt.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:te(z.dateCreation)})]})]})})]}):(0,kt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,kt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,kt.jsx)(Ar,{className:"w-4 h-4 text-white"})}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Nom complet"}),(0,kt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:z.name})]})]})}),(0,kt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,kt.jsx)(Dr,{className:"w-4 h-4 text-white"})}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"T\xe9l\xe9phone"}),(0,kt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:z.phone||"Non renseign\xe9"})]})]})}),(0,kt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,kt.jsx)(Tr,{className:"w-4 h-4 text-white"})}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Email"}),(0,kt.jsx)("p",{className:"font-semibold text-gray-800 text-sm break-all",children:z.email||"Non renseign\xe9"})]})]})}),(0,kt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,kt.jsx)(Rr,{className:"w-4 h-4 text-white"})}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Localisation"}),(0,kt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:z.address||(z.city||z.province||z.region?"".concat(z.city||"").concat(z.city&&z.province?", ":"").concat(z.province||"").concat((z.city||z.province)&&z.region?" - ":"").concat(z.region||""):"Non renseign\xe9")})]})]})}),(0,kt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200 md:col-span-2",children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,kt.jsx)(Mr,{className:"w-4 h-4 text-white"})}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Date de cr\xe9ation"}),(0,kt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:te(z.dateCreation)})]})]})})]})]}),(0,kt.jsxs)("div",{className:"mb-6",children:[(0,kt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,kt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),"Description du signalement"]}),(0,kt.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded p-4",children:(0,kt.jsx)("p",{className:"text-gray-700 leading-relaxed text-sm whitespace-pre-wrap",children:z.description})})]}),(0,kt.jsxs)("div",{className:"mb-6",children:[(0,kt.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,kt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,kt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),"Pi\xe8ces jointes",(0,kt.jsxs)("span",{className:"ml-3 text-sm font-normal text-gray-500",children:[(null===(e=z.files)||void 0===e?void 0:e.length)||0," fichier",1!==(null===(s=z.files)||void 0===s?void 0:s.length)?"s":""]})]})}),z.files&&z.files.length>0?(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:z.files.map((e,t)=>{var s;const n=Z(e),r=(null===(s=n.split(".").pop())||void 0===s?void 0:s.toUpperCase())||"FILE";return(0,kt.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded p-3 hover:bg-gray-100 transition-colors",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-[#4c7026] to-[#b4cd7b] flex items-center justify-center flex-shrink-0 shadow-sm rounded",children:(0,kt.jsx)("span",{className:"text-white text-xs font-bold",children:r})}),(0,kt.jsx)("div",{className:"truncate",children:(0,kt.jsxs)("span",{className:"text-gray-800 font-medium text-sm block",children:["Preuve ",t+1]})})]}),(0,kt.jsxs)("div",{className:"flex gap-1",children:[(0,kt.jsx)("button",{onClick:()=>(async e=>{try{const t=Z(e),s="".concat(or.defaults.baseURL,"/files/public/").concat(t);window.open(s,"_blank")||alert("Veuillez autoriser les pop-ups pour visualiser les fichiers")}catch(W){alert("Erreur lors de l'ouverture du fichier: "+W.message)}})(e),className:"p-1.5 text-blue-600 hover:text-blue-800",title:"Voir",children:(0,kt.jsx)(Pr,{size:14})}),(0,kt.jsx)("button",{onClick:()=>(async e=>{try{const t=Z(e),s="".concat(or.defaults.baseURL,"/files/public/").concat(t,"/download"),n=document.createElement("a");n.href=s,n.setAttribute("download",t),n.setAttribute("target","_blank"),document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(W){alert("Erreur lors du t\xe9l\xe9chargement: "+W.message)}})(e),className:"p-1.5 text-green-600 hover:text-green-800",title:"T\xe9l\xe9charger",children:(0,kt.jsx)(Or,{size:14})})]})]}),(0,kt.jsx)("div",{className:"text-xs text-gray-500 truncate",title:n,children:n})]},t)})}):(0,kt.jsx)("div",{className:"text-center py-5 bg-gray-50 border border-gray-200 rounded",children:(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:z.hasProof?"Aucun fichier joint \xe0 ce dossier":"Signalement soumis sans pi\xe8ces jointes"})})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,kt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),"Suivi du traitement"]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-px bg-gray-300"}),(0,kt.jsxs)("div",{className:"space-y-5 pl-10",children:[(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute -left-4 top-2 w-3 h-3 bg-[#4c7026] border-2 border-white shadow"}),(0,kt.jsx)("div",{className:"border rounded px-4 py-3 bg-white shadow-sm hover:shadow-md transition-all "+ee((null===(n=z.workflow)||void 0===n||null===(r=n.drse)||void 0===r?void 0:r.status)||"pending"),children:(0,kt.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"mt-0.5",children:$((null===(a=z.workflow)||void 0===a||null===(i=a.drse)||void 0===i?void 0:i.status)||"pending")}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"\xc9tape 1"}),(0,kt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Traitement et classification"}),(0,kt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:(null===(l=z.workflow)||void 0===l||null===(o=l.drse)||void 0===o?void 0:o.agent)||"DAAQ / DRSE"})]})]}),(0,kt.jsxs)("div",{className:"text-right",children:[(0,kt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 text-[11px] font-semibold bg-white border border-gray-200 text-gray-800",children:Mi[(null===(c=z.workflow)||void 0===c||null===(d=c.drse)||void 0===d?void 0:d.status)||"pending"]||"En attente"}),(null===(u=z.workflow)||void 0===u||null===(h=u.drse)||void 0===h?void 0:h.date)&&(0,kt.jsxs)("p",{className:"text-[11px] text-gray-500 mt-1 flex items-center justify-end gap-1.5",children:[(0,kt.jsx)(Mr,{size:12}),te(z.workflow.drse.date)]})]})]})})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute -left-4 top-2 w-3 h-3 bg-gray-300 border-2 border-white shadow"}),(0,kt.jsx)("div",{className:"border rounded px-4 py-3 bg-white shadow-sm hover:shadow-md transition-all "+ee((null===(m=z.workflow)||void 0===m||null===(p=m.cac)||void 0===p?void 0:p.status)||"pending"),children:(0,kt.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"mt-0.5",children:$((null===(f=z.workflow)||void 0===f||null===(x=f.cac)||void 0===x?void 0:x.status)||"pending")}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"\xc9tape 2"}),(0,kt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Ouverture d'enqu\xeates"}),(0,kt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:(null===(g=z.workflow)||void 0===g||null===(b=g.cac)||void 0===b?void 0:b.agent)||"DAAQ / CAC / DAJ"})]})]}),(0,kt.jsxs)("div",{className:"text-right",children:[(0,kt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 text-[11px] font-semibold bg-white border border-gray-200 text-gray-800",children:Mi[(null===(v=z.workflow)||void 0===v||null===(y=v.cac)||void 0===y?void 0:y.status)||"pending"]||"En attente"}),(null===(w=z.workflow)||void 0===w||null===(j=w.cac)||void 0===j?void 0:j.date)&&(0,kt.jsxs)("p",{className:"text-[11px] text-gray-500 mt-1 flex items-center justify-end gap-1.5",children:[(0,kt.jsx)(Mr,{size:12}),te(z.workflow.cac.date)]})]})]})})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute -left-4 top-2 w-3 h-3 bg-gray-300 border-2 border-white shadow"}),(0,kt.jsx)("div",{className:"border rounded px-4 py-3 bg-white shadow-sm hover:shadow-md transition-all "+ee((null===(N=z.workflow)||void 0===N||null===(k=N.bianco)||void 0===k?void 0:k.status)||"pending"),children:(0,kt.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"mt-0.5",children:$((null===(S=z.workflow)||void 0===S||null===(E=S.bianco)||void 0===E?void 0:E.status)||"pending")}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"\xc9tape 3"}),(0,kt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,kt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:(null===(C=z.workflow)||void 0===C||null===(_=C.bianco)||void 0===_?void 0:_.agent)||"DAAQ / BIANCO"})]})]}),(0,kt.jsxs)("div",{className:"text-right",children:[(0,kt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 text-[11px] font-semibold bg-white border border-gray-200 text-gray-800",children:Mi[(null===(A=z.workflow)||void 0===A||null===(M=A.bianco)||void 0===M?void 0:M.status)||"pending"]||"En attente"}),(null===(D=z.workflow)||void 0===D||null===(T=D.bianco)||void 0===T?void 0:T.date)&&(0,kt.jsxs)("p",{className:"text-[11px] text-gray-500 mt-1 flex items-center justify-end gap-1.5",children:[(0,kt.jsx)(Mr,{size:12}),te(z.workflow.bianco.date)]})]})]})})]})]})]})]}),(0,kt.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3 justify-center",children:[(0,kt.jsxs)("button",{onClick:X,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-white hover:bg-gray-50 text-gray-700 font-semibold transition-all shadow-md border-2 border-[#b4cd7b] hover:border-[#4c7026]",children:[(0,kt.jsx)(Cr,{size:18}),"Nouvelle recherche"]}),(0,kt.jsxs)("button",{onClick:Q,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-[#4c7026] hover:bg-[#3a5a1d] text-white font-semibold transition-all shadow-md",children:[(0,kt.jsx)(_r,{size:18}),"Retour \xe0 l'accueil"]})]})]})]})}),(0,kt.jsx)("div",{className:"w-full text-center py-4 mt-6",children:(0,kt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-mesupres 2026"})}),z&&(0,kt.jsx)(Si,{reference:z.reference,dossierInfo:z})]}):(0,kt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center font-bill",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("p",{className:"text-gray-600 mb-4",children:"Aucun dossier s\xe9lectionn\xe9"}),(0,kt.jsx)("button",{onClick:X,className:"bg-[#5e8f3e] text-white px-6 py-3 rounded hover:bg-[#4a7b32] transition-colors",children:"Retour \xe0 la recherche"})]})})}const Ti={async login(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var n;const r=await or.post("/auth/login",{login:e,password:t,remember:s}),a=r.data.user||(null===(n=r.data.data)||void 0===n?void 0:n.user)||r.data,i=r.data.token;if(!a)throw new Error("Donn\xe9es utilisateur introuvables");if(!i)throw new Error("Token manquant");return a.role=(a.role||"agent").toString().toLowerCase().trim(),this.setUser(a,s),this.setUserToken(i,s),{success:!0,user:a,token:i,requires_2fa:!0===r.data.requires_2fa,two_factor_enabled:!0===r.data.two_factor_enabled,message:r.data.message||"Connexion r\xe9ussie"}}catch(i){var r,a;return{success:!1,message:(null===(r=i.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Erreur de connexion",error:i.message}}},async logout(){try{await or.post("/auth/logout")}catch(qx){}finally{this.clearAuthData(),window.location.href="/login"}},clientExpireSession(){this.clearAuthData()},async checkAuth(){const e=this.getUser(),t=this.getUserToken();if(!e||!t)return{success:!1,authenticated:!1,message:"Aucune session locale"};try{var s;const e=await or.get("/check-auth");return null!==(s=e.data)&&void 0!==s&&s.authenticated?(e.data.user&&this.setUser(e.data.user,this.isRemembered()),{success:!0,authenticated:!0,user:e.data.user,requires_2fa:e.data.requires_2fa||!1,two_factor_verified:e.data.two_factor_verified||!1,message:"Session valide"}):(this.clearAuthData(),{success:!1,authenticated:!1,message:"Session expir\xe9e"})}catch(r){var n;return 401===(null===(n=r.response)||void 0===n?void 0:n.status)?(this.clearAuthData(),{success:!1,authenticated:!1,message:"Token invalide"}):{success:!0,authenticated:!0,user:e,offline:!0,message:"Mode hors ligne - session locale conserv\xe9e"}}},setUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=t?localStorage:sessionStorage;localStorage.removeItem("user_data"),sessionStorage.removeItem("user_data"),localStorage.removeItem("remember_me"),s.setItem("user_data",JSON.stringify(e)),t&&localStorage.setItem("remember_me","true")},getUser(){try{const e=localStorage.getItem("user_data")||sessionStorage.getItem("user_data");return e?JSON.parse(e):null}catch(e){return null}},setUserToken(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?localStorage:sessionStorage;localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),t.setItem("auth_token",e)},getUserToken:()=>localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),getRole(){var e,t;return(null===(e=this.getUser())||void 0===e||null===(t=e.role)||void 0===t?void 0:t.toLowerCase())||null},isAuthenticated(){return!(!this.getUser()||!this.getUserToken())},isRemembered:()=>"true"===localStorage.getItem("remember_me"),clearAuthData(){const e=localStorage.getItem("remember_me"),t=sessionStorage.getItem("redirect_after_2fa");localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("just_logged_in"),e&&localStorage.setItem("remember_me",e),t&&sessionStorage.setItem("redirect_after_2fa",t)}},Ri=Ti,Pi=()=>{const[e,s]=(0,t.useState)(""),[n,r]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),[f,x]=(0,t.useState)(!1),g=pe();return(0,t.useEffect)(()=>{(async()=>{const e=Number(sessionStorage.getItem("last_check_auth_ts")||0),t=Date.now();if(t-e<3e3)return void p(!0);sessionStorage.setItem("last_check_auth_ts",String(t));const s=localStorage.getItem("user_data")||sessionStorage.getItem("user_data"),n=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(s&&n)try{const e=JSON.parse(s);if(!e||!e.id)return localStorage.removeItem("user_data"),localStorage.removeItem("auth_token"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("auth_token"),void p(!0);try{var r;const t=await or.get("/check-auth");if(200!==t.status||null===(r=t.data)||void 0===r||!r.authenticated)throw new Error("Session invalid");if(!0===t.data.requires_2fa)return void g("/two-factor-verify",{replace:!0});(e=>{const t=null===e||void 0===e?void 0:e.toLowerCase();g({admin:"/admin",agent:"/agent",investigateur:"/investigateur",investigator:"/investigateur"}[t]||"/admin",{replace:!0})})(e.role)}catch(c){var a;const t=null===(a=c.response)||void 0===a?void 0:a.status;if(401===t||419===t)return localStorage.removeItem("user_data"),localStorage.removeItem("auth_token"),localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("just_logged_in"),void p(!0);if(429===t)return d("Trop de requ\xeates. Veuillez patienter quelques secondes."),void p(!0);p(!0)}}catch(i){localStorage.removeItem("user_data"),localStorage.removeItem("auth_token"),localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("just_logged_in"),p(!0)}else p(!0)})();const e=setTimeout(()=>{localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("just_logged_in")},5e3);return()=>clearTimeout(e)},[g]),m?(0,kt.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4 overflow-hidden relative",children:[(0,kt.jsx)("div",{className:"fixed top-5 right-5 z-50 transition-all duration-500 transform ".concat(f?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,kt.jsxs)("div",{className:"bg-white border-l-4 border-[#b4cd7b] rounded shadow-2xl p-4 w-80 flex items-start",children:[(0,kt.jsx)("div",{className:"flex-shrink-0",children:(0,kt.jsx)("svg",{className:"h-6 w-6 text-[#b4cd7b]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,kt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,kt.jsx)("p",{className:"text-sm font-bold text-gray-900 leading-5",children:"Mot de passe oubli\xe9 ?"}),(0,kt.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-600",children:"Contactez l'administrateur pour r\xe9initialiser votre mot de passe."})]}),(0,kt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,kt.jsx)("button",{onClick:()=>x(!1),className:"inline-flex text-gray-400 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",children:(0,kt.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,kt.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L10 10 5.707 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),(0,kt.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-sm border border-gray-200",children:[(0,kt.jsxs)("div",{className:"text-center mb-8",children:[(0,kt.jsx)("div",{className:"mx-auto w-40 h-40 rounded-full flex items-center justify-center overflow-hidden mb-4",children:(0,kt.jsx)("img",{src:ur,alt:"Fosika Logo",className:"w-full h-full object-contain"})}),(0,kt.jsx)("h2",{className:"text-2xl font-extrabold text-gray-900 tracking-tight",children:"Connexion"}),(0,kt.jsxs)("p",{className:"mt-2 text-sm font-medium text-gray-500",children:["Portail ",(0,kt.jsx)("span",{className:"text-[#b4cd7b] font-bold",children:"Admin"})," ou"," ",(0,kt.jsx)("span",{className:"text-[#b4cd7b] font-bold",children:"Agent"})]})]}),(0,kt.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),h(!0),d("");try{const t=await Ri.login(e,n,l);if(t.success){const e=l?localStorage:sessionStorage;if(e.setItem("user_data",JSON.stringify(t.user)),e.setItem("auth_token",t.token),e.setItem("just_logged_in","true"),window.__userData=t.user,window.dispatchEvent(new CustomEvent("userLoggedIn",{detail:t.user})),!0===t.requires_2fa){const e=t.user.role.toLowerCase(),s={admin:"/admin",agent:"/agent",investigateur:"/investigateur",investigator:"/investigateur"}[e]||"/admin";return sessionStorage.setItem("redirect_after_2fa",s),void g("/two-factor-verify",{replace:!0})}const s=t.user.role.toLowerCase();g({admin:"/admin",agent:"/agent",investigateur:"/investigateur",investigator:"/investigateur"}[s]||"/admin",{replace:!0})}else d(t.message||"Identifiant ou mot de passe incorrect")}catch(c){d(c.message||"Erreur de connexion")}finally{h(!1)}},className:"space-y-6",children:[c&&(0,kt.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg flex items-center text-xs",children:[(0,kt.jsx)("svg",{className:"w-4 h-4 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,kt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,kt.jsx)("span",{children:c})]}),(0,kt.jsxs)("div",{className:"relative group",children:[(0,kt.jsx)("input",{type:"text",id:"login_field",value:e,onChange:e=>s(e.target.value),autoComplete:"username",className:"block px-3 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-[#b4cd7b] peer",placeholder:" ",required:!0,disabled:u}),(0,kt.jsx)("label",{htmlFor:"login_field",className:"absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-[#b4cd7b] peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1",children:"Email ou Nom d'utilisateur"}),(0,kt.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,kt.jsx)("svg",{className:"w-4 h-4 text-gray-400 group-focus-within:text-[#b4cd7b] transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})]}),(0,kt.jsxs)("div",{className:"relative group",children:[(0,kt.jsx)("input",{type:a?"text":"password",id:"password_field",value:n,onChange:e=>r(e.target.value),autoComplete:"current-password",className:"block px-3 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-[#b4cd7b] peer",placeholder:" ",required:!0,disabled:u}),(0,kt.jsx)("label",{htmlFor:"password_field",className:"absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-[#b4cd7b] peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1",children:"Mot de passe"}),(0,kt.jsx)("button",{type:"button",onClick:()=>i(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",disabled:u,children:a?(0,kt.jsxs)("svg",{className:"w-4 h-4 group-focus-within:text-[#b4cd7b] transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):(0,kt.jsx)("svg",{className:"w-4 h-4 group-focus-within:text-[#b4cd7b] transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]}),(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("input",{type:"checkbox",checked:l,onChange:e=>o(e.target.checked),className:"sr-only",disabled:u}),(0,kt.jsx)("div",{className:"w-4 h-4 border-2 rounded transition duration-200 ".concat(l?"bg-[#b4cd7b] border-[#b4cd7b]":"bg-white border-gray-300"),children:l&&(0,kt.jsx)("svg",{className:"w-2.5 h-2.5 text-white mx-auto mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),(0,kt.jsx)("span",{className:"text-xs text-gray-700 font-medium",children:"Rester connect\xe9"})]}),(0,kt.jsx)("button",{type:"button",className:"text-xs text-[#b4cd7b] hover:text-[#9ab567] font-medium focus:outline-none",disabled:u,onClick:()=>{x(!0),setTimeout(()=>x(!1),5e3)},children:"Mot de passe oubli\xe9 ?"})]}),(0,kt.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-[#b4cd7b] to-[#9ab567] text-white p-3 rounded-lg hover:from-[#a0bd6d] hover:to-[#8aa35c] transition duration-200 font-semibold shadow disabled:opacity-50 transform hover:scale-[1.02] active:scale-[0.98] text-sm",children:u?(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,kt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,kt.jsx)("span",{children:"Connexion..."})]}):(0,kt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,kt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),(0,kt.jsx)("span",{children:"Se connecter"})]})})]}),(0,kt.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,kt.jsxs)("div",{className:"text-center text-xs text-gray-500 space-y-1",children:[(0,kt.jsxs)("p",{children:["Mode : ",l?"Session persistante":"Session temporaire"]}),(0,kt.jsx)("p",{children:"\xa9 daaq-mesupres 2025"})]})})]})]}):(0,kt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-[#b4cd7b] border-t-transparent rounded-full animate-spin"}),(0,kt.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"V\xe9rification de la session..."})]})})},Oi=Tt("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Li=Tt("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Ii=Tt("school",[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),zi=Tt("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),Fi=Tt("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Ui=Tt("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),Bi={getAllPublic:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await or.get("/enseignants",{params:e})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des enseignants:",t),t}},getAllWithoutPagination:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await or.get("/enseignants",{params:c(c({},e),{},{per_page:1e4})})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration sans pagination:",t),t}},searchGlobal:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await or.get("/enseignants",{params:e})).data}catch(t){throw console.error("Erreur lors de la recherche globale:",t),t}},count:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,s;const n=await or.get("/enseignants",{params:c(c({},e),{},{per_page:1,page:1})});return{count:(null===(t=n.data)||void 0===t?void 0:t.total)||0,total:(null===(s=n.data)||void 0===s?void 0:s.total)||0,data:n.data}}catch(n){throw console.error("Erreur lors du comptage des enseignants:",n),n}},getMetadata:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,s;const n=await or.get("/enseignants",{params:c(c({},e),{},{per_page:1e3})}),r=(null===(t=n.data)||void 0===t?void 0:t.data)||[],a=[...new Set(r.map(e=>e.corps).filter(Boolean))],i=[...new Set(r.map(e=>e.categorie).filter(Boolean))];return{corps:a,categories:i,diplomes:[...new Set(r.map(e=>e.diplome).filter(Boolean))],total:(null===(s=n.data)||void 0===s?void 0:s.total)||0}}catch(n){throw console.error("Erreur lors de la r\xe9cup\xe9ration des m\xe9tadonn\xe9es:",n),n}},getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await or.get("/enseignants",{params:e})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des enseignants:",t),t}},getByIdPublic:async e=>{try{return(await or.get("/enseignants/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'enseignant:",t),t}},getById:async e=>{try{return(await or.get("/enseignants/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'enseignant:",t),t}},getStatistiquesGlobal:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await or.get("/enseignants/statistiques/global",{params:e})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques:",t),t}},getStats:async e=>{try{const t=e?{universite_id:e}:{};return(await or.get("/enseignants/statistiques/global",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques:",t),t}},getStatistiquesParEtablissement:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?{universite_id:e}:{};return(await or.get("/enseignants/statistiques/par-etablissement",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques par \xe9tablissement:",t),t}},search:async e=>{try{return(await or.get("/enseignants",{params:{search:e}})).data}catch(t){throw console.error("Erreur lors de la recherche d'enseignants:",t),t}},advancedSearch:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const s=c({search:e},t);return(await or.get("/enseignants",{params:s})).data}catch(s){throw console.error("Erreur lors de la recherche avanc\xe9e:",s),s}},create:async e=>{try{return(await or.post("/admin/enseignants",e)).data}catch(s){if(console.error("Erreur lors de la cr\xe9ation de l'enseignant:",s),s.response){var t;const e=(null===(t=s.response.data)||void 0===t?void 0:t.message)||"Erreur lors de la cr\xe9ation";throw new Error(e)}throw s.request?new Error("Aucune r\xe9ponse du serveur"):s}},update:async(e,t)=>{try{return(await or.put("/admin/enseignants/".concat(e),t)).data}catch(n){if(console.error("Erreur lors de la modification de l'enseignant:",n),n.response){var s;const e=(null===(s=n.response.data)||void 0===s?void 0:s.message)||"Erreur lors de la modification";throw new Error(e)}throw n.request?new Error("Aucune r\xe9ponse du serveur"):n}},delete:async e=>{try{return(await or.delete("/admin/enseignants/".concat(e))).data}catch(s){if(console.error("Erreur lors de la suppression de l'enseignant:",s),s.response){var t;const e=(null===(t=s.response.data)||void 0===t?void 0:t.message)||"Erreur lors de la suppression";throw new Error(e)}throw s.request?new Error("Aucune r\xe9ponse du serveur"):s}},import:async e=>{try{const t=new FormData;t.append("file",e);return(await or.post("/admin/enseignants/import",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){if(console.error("Erreur lors de l'import:",s),s.response){var t;const e=(null===(t=s.response.data)||void 0===t?void 0:t.message)||"Erreur lors de l'import";throw new Error(e)}throw s.request?new Error("Aucune r\xe9ponse du serveur"):s}},export:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await or.get("/admin/enseignants/export",{params:e,responseType:"blob"})).data}catch(t){throw console.error("Erreur lors de l'export:",t),t}},getByUniversite:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await or.get("/enseignants",{params:c(c({},t),{},{universite_id:e})})).data}catch(s){throw console.error("Erreur lors de la r\xe9cup\xe9ration par universit\xe9:",s),s}},getByEtablissement:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await or.get("/enseignants",{params:c(c({},t),{},{etablissement_id:e})})).data}catch(s){throw console.error("Erreur lors de la r\xe9cup\xe9ration par \xe9tablissement:",s),s}},getByCategorie:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await or.get("/enseignants",{params:c(c({},t),{},{categorie:e})})).data}catch(s){throw console.error("Erreur lors de la r\xe9cup\xe9ration par cat\xe9gorie:",s),s}},getByCorps:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await or.get("/enseignants",{params:c(c({},t),{},{corps:e})})).data}catch(s){throw console.error("Erreur lors de la r\xe9cup\xe9ration par corps:",s),s}},getByDiplome:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await or.get("/enseignants",{params:c(c({},t),{},{diplome:e})})).data}catch(s){throw console.error("Erreur lors de la r\xe9cup\xe9ration par dipl\xf4me:",s),s}},validateImport:async e=>{try{const t=new FormData;t.append("file",e);return(await or.post("/admin/enseignants/validate-import",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Erreur lors de la validation de l'import:",t),t}},downloadTemplate:async()=>{try{const e=await or.get("/admin/enseignants/template",{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data])),s=document.createElement("a");return s.href=t,s.setAttribute("download","template_enseignants.xlsx"),document.body.appendChild(s),s.click(),s.remove(),e.data}catch(e){throw console.error("Erreur lors du t\xe9l\xe9chargement du template:",e),e}},getStatsByCorps:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?{universite_id:e}:{};return(await or.get("/enseignants/statistiques/global",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques par corps:",t),t}},getStatsByGenre:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?{universite_id:e}:{};return(await or.get("/enseignants/statistiques/global",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques par genre:",t),t}},generateReport:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await or.get("/enseignants/report",{params:e,responseType:"blob"})).data}catch(t){throw console.error("Erreur lors de la g\xe9n\xe9ration du rapport:",t),t}},checkIMAvailability:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var s;const n=await or.get("/enseignants",{params:{per_page:1e4}}),r=((null===(s=n.data)||void 0===s?void 0:s.data)||[]).some(s=>s.im===e&&(!t||s.id!==t));return{available:!r,exists:r}}catch(n){throw console.error("Erreur lors de la v\xe9rification de l'IM:",n),n}},searchByName:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await or.get("/enseignants",{params:c({search:e},t)})).data}catch(s){throw console.error("Erreur lors de la recherche par nom:",s),s}},searchByIM:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await or.get("/enseignants",{params:c({search:e},t)})).data}catch(s){throw console.error("Erreur lors de la recherche par IM:",s),s}},getAdvanced:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const{universite_id:t,etablissement_id:s,corps:n,categorie:r,diplome:a,sexe:i,search:l,page:o=1,per_page:c=100,sort_by:d="nom",sort_order:u="asc",include_inactive:h=!1}=e,m={universite_id:t,etablissement_id:s,corps:n,categorie:r,diplome:a,sexe:i,search:l,page:o,per_page:c,sort_by:d,sort_order:u,include_inactive:h};Object.keys(m).forEach(e=>void 0===m[e]&&delete m[e]);return(await or.get("/enseignants",{params:m})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration avanc\xe9e:",t),t}},bulkUpdate:async(e,t)=>{try{return(await or.put("/admin/enseignants/bulk-update",{ids:e,data:t})).data}catch(s){throw console.error("Erreur lors de la mise \xe0 jour en masse:",s),s}},bulkDelete:async e=>{try{return(await or.post("/admin/enseignants/bulk-delete",{ids:e})).data}catch(t){throw console.error("Erreur lors de la suppression en masse:",t),t}}},Vi=Bi,Hi={getAll:async()=>{try{return(await or.get("/universites")).data}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration des universit\xe9s:",e),e}},getById:async e=>{try{return(await or.get("/universites/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'universit\xe9:",t),t}},create:async e=>{try{return(await or.post("/admin/universites",e)).data}catch(t){throw console.error("Erreur lors de la cr\xe9ation de l'universit\xe9:",t),t}},update:async(e,t)=>{try{return(await or.put("/admin/universites/".concat(e),t)).data}catch(s){throw console.error("Erreur lors de la modification de l'universit\xe9:",s),s}},delete:async e=>{try{return(await or.delete("/admin/universites/".concat(e))).data}catch(t){throw console.error("Erreur lors de la suppression de l'universit\xe9:",t),t}}},Wi=Hi,qi={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?{universite_id:e}:{};return(await or.get("/etablissements",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des \xe9tablissements:",t),t}},getById:async e=>{try{return(await or.get("/etablissements/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'\xe9tablissement:",t),t}},create:async e=>{try{return(await or.post("/admin/etablissements",e)).data}catch(t){throw console.error("Erreur lors de la cr\xe9ation de l'\xe9tablissement:",t),t}},update:async(e,t)=>{try{return(await or.put("/admin/etablissements/".concat(e),t)).data}catch(s){throw console.error("Erreur lors de la modification de l'\xe9tablissement:",s),s}},delete:async e=>{try{return(await or.delete("/admin/etablissements/".concat(e))).data}catch(t){throw console.error("Erreur lors de la suppression de l'\xe9tablissement:",t),t}}},Yi=qi,Ji=["PROFESSEUR TITULAIRE","PROFESSEUR D'ENSEIGNEMENT SUPERIEUR","MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR","ASSITANT D'ENSEIGNEMENT SUPERIEUR"],Ki=["Docteur d'\xc9tat","HDR","Doctorat","Agr\xe9gation","Master","DEA","Ing\xe9niorat","DOCTEUR D'ETAT"],Gi=e=>String(null!==e&&void 0!==e?e:"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().replace(/\s+/g," ").toUpperCase(),Xi=e=>e?String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():"",Qi=e=>{var t;return e?Array.isArray(e)?e:Array.isArray(e.data)?e.data:e.data&&Array.isArray(e.data.data)?e.data.data:Array.isArray(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.enseignants)?e.data.enseignants:[]:[]},Zi=()=>{const e=pe(),[s,n]=(0,t.useState)(!1),[r,a]=(0,t.useState)([]),[i,l]=(0,t.useState)([]),[o,c]=(0,t.useState)([]),[d,u]=(0,t.useState)([]),[h,m]=(0,t.useState)(!0),[p,f]=(0,t.useState)(null),[x,g]=(0,t.useState)("Tous"),[b,v]=(0,t.useState)("Tous"),[y,w]=(0,t.useState)("Tous"),[j,N]=(0,t.useState)("Tous"),[k,S]=(0,t.useState)(""),[E,C]=(0,t.useState)(1),[_,A]=(0,t.useState)(10),[M,D]=(0,t.useState)(0);(0,t.useEffect)(()=>{(async()=>{try{m(!0);const e=await Wi.getAll(),t=Qi(e);a(Array.isArray(t)?t:[]),f(null)}catch(e){console.error("Erreur lors du chargement des universit\xe9s:",e),f("Impossible de charger les universit\xe9s")}finally{m(!1)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(0!==r.length)try{let e;if("Tous"===x)e=await Yi.getAll();else{const t=r.find(e=>e.nom===x);e=t?await Yi.getAll(t.id):[]}const t=Qi(e);l(Array.isArray(t)?t:[])}catch(e){console.error("Erreur lors du chargement des \xe9tablissements:",e),l([])}})()},[x,r]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{(async()=>{if(0!==r.length)try{m(!0);const e={per_page:1e5},t=await Vi.getAllPublic(e),s=(Qi(t)||[]).map(e=>{var t,s,n,r;return{id:e.id,nom:e.nom||"",grade:Gi(e.categorie||e.corps||""),etablissement:(null===(t=e.etablissement)||void 0===t?void 0:t.nom)||"N/A",univ:(null===(s=e.universite)||void 0===s?void 0:s.nom)||"N/A",specialite:e.specialite||"N/A",diplome:e.diplome||"N/A",normalized:{nom:Xi(e.nom||""),grade:Xi(e.categorie||e.corps||""),etablissement:Xi((null===(n=e.etablissement)||void 0===n?void 0:n.nom)||""),univ:Xi((null===(r=e.universite)||void 0===r?void 0:r.nom)||""),specialite:Xi(e.specialite||""),diplome:Xi(e.diplome||"")}}});u(s),D(s.length)}catch(e){console.error("Erreur lors du chargement des enseignants:",e),f("Impossible de charger les enseignants"),u([]),D(0)}finally{m(!1)}})()},300);return()=>clearTimeout(e)},[r]);const T=(0,t.useMemo)(()=>Array.isArray(d)?d.filter(e=>{const t=((e,t)=>{if(!t)return!0;const s=Xi(t);return e.normalized.nom.includes(s)||e.normalized.grade.includes(s)||e.normalized.etablissement.includes(s)||e.normalized.univ.includes(s)||e.normalized.specialite.includes(s)||e.normalized.diplome.includes(s)})(e,k),s="Tous"===x||Gi(e.univ)===Gi(x),n="Tous"===b||Gi(e.etablissement)===Gi(b),r="Tous"===y||Gi(e.grade)===Gi(y),a="Tous"===j||Gi(e.diplome)===Gi(j);return t&&s&&n&&r&&a}):[],[d,k,x,b,y,j]),R=(0,t.useMemo)(()=>Array.from(new Set(i.map(e=>e.nom))).sort(),[i]);(0,t.useEffect)(()=>{"Tous"===b||R.includes(b)||v("Tous")},[R,b]),(0,t.useEffect)(()=>{if(0===T.length)return c([]),void D(0);D(T.length);const e=(E-1)*_,t=e+_,s=T.slice(e,t).sort((e,t)=>(e.nom||"").localeCompare(t.nom||"","fr",{sensitivity:"base"}));c(s)},[T,E,_]);const P=(0,t.useMemo)(()=>r.map(e=>e.nom),[r]),O=Math.ceil(M/_)||1;(0,t.useEffect)(()=>{O>0&&E>O&&C(O)},[E,O]);const L="Tous"!==x?x.toUpperCase():"TOUTES LES UNIVERSIT\xc9S",I="Tous"!==b?b.toUpperCase():"TOUS LES \xc9TABLISSEMENTS";return h&&0===r.length?(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)(Jr,{className:"w-16 h-16 text-[#4c7026] animate-spin mx-auto mb-4"}),(0,kt.jsx)("p",{className:"text-xl text-gray-700",children:"Chargement des donn\xe9es..."})]})}):p&&0===r.length?(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)(Pt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,kt.jsx)("p",{className:"text-xl text-gray-700 mb-4",children:p}),(0,kt.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-[#4c7026] text-white rounded-lg hover:bg-[#3a5a1d]",children:"R\xe9essayer"})]})}):(0,kt.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col font-bill text-gray-800 overflow-x-hidden",children:[(0,kt.jsx)("div",{className:"w-full bg-white border-b border-gray-200 py-4 shadow-sm relative z-20",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,kt.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 md:gap-0",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-4 md:gap-6",children:[(0,kt.jsx)("img",{src:cr,alt:"Logo R\xe9publique",className:"h-12 w-auto object-contain md:h-16"}),(0,kt.jsx)("img",{src:dr,alt:"Logo MESUPRES",className:"h-12 w-auto object-contain md:h-16"})]}),(0,kt.jsx)("div",{className:"flex-1 text-center px-2 hidden md:block",children:(0,kt.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-1",children:[(0,kt.jsxs)("span",{className:"font-bold text-sm lg:text-base uppercase text-[#4c7026] leading-tight",children:["MINISTERE DE L'ENSEIGNEMENT SUPERIEUR ",(0,kt.jsx)("br",{})," ET DE LA RECHERCHE SCIENTIFIQUE"]}),(0,kt.jsx)("span",{className:"font-bold text-xs lg:text-sm uppercase text-gray-700",children:"SECRETARIAT GENERAL"}),(0,kt.jsx)("span",{className:"font-bold text-xs lg:text-sm uppercase text-gray-600",children:"DIRECTION DES RESSOURCES HUMAINES"})]})}),(0,kt.jsx)("div",{children:(0,kt.jsx)("img",{src:ur,alt:"FOSIKA",className:"h-20 w-auto object-contain md:h-28"})})]}),(0,kt.jsxs)("div",{className:"md:hidden text-center mt-4 border-t border-gray-100 pt-3",children:[(0,kt.jsxs)("p",{className:"font-bold text-xs uppercase text-[#4c7026] leading-tight mb-1",children:["MINISTERE DE L'ENSEIGNEMENT SUPERIEUR ",(0,kt.jsx)("br",{})," ET DE LA RECHERCHE SCIENTIFIQUE"]}),(0,kt.jsx)("p",{className:"font-bold text-[10px] uppercase text-gray-600",children:"DIRECTION DES RESSOURCES HUMAINES"})]})]})}),(0,kt.jsx)("div",{className:"bg-white border-b border-gray-200 pt-6 pb-6",children:(0,kt.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,kt.jsxs)("div",{className:"border-l-4 border-[#4c7026] pl-4 md:pl-6 py-1",children:[(0,kt.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-[#4c7026] uppercase mb-3 leading-snug",children:"LISTE DES ENSEIGNANTS CHERCHEURS PERMANENTS"}),(0,kt.jsxs)("div",{className:"grid gap-1 text-xs md:text-sm font-bold text-gray-500 uppercase",children:[(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-2",children:[(0,kt.jsx)("span",{className:"w-32 shrink-0",children:"UNIVERSITE:"}),(0,kt.jsx)("span",{className:"text-gray-900 break-words",children:L})]}),(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-2",children:[(0,kt.jsx)("span",{className:"w-32 shrink-0",children:"ETABLISSEMENT:"}),(0,kt.jsx)("span",{className:"text-gray-900 break-words",children:I})]}),(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsx)("span",{className:"w-32 shrink-0",children:"ANNEE:"}),(0,kt.jsx)("span",{className:"text-gray-900",children:"2025"})]})]})]})})}),(0,kt.jsxs)("main",{className:"flex-1 max-w-7xl mx-auto px-4 py-6 md:py-8 w-full",children:[(0,kt.jsx)("div",{className:"lg:hidden mb-4",children:(0,kt.jsxs)("button",{onClick:()=>n(!s),className:"w-full flex items-center justify-between px-4 py-3 bg-white border border-gray-300 rounded shadow-sm text-[#4c7026] font-bold uppercase text-xs",children:[(0,kt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,kt.jsx)(Oi,{size:16})," Afficher les filtres"]}),s?(0,kt.jsx)(Lt,{size:16}):(0,kt.jsx)(Li,{size:16})]})}),(0,kt.jsxs)("div",{className:"".concat(s?"block":"hidden"," lg:block bg-white p-4 md:p-5 rounded-lg shadow-sm border border-gray-200 mb-6 transition-all"),children:[(0,kt.jsxs)("div",{className:"hidden lg:flex items-center gap-2 mb-4 text-[#4c7026] font-bold uppercase text-sm border-b border-gray-100 pb-2",children:[(0,kt.jsx)(Oi,{size:16})," Filtres de recherche"]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[(0,kt.jsxs)("div",{className:"lg:col-span-1",children:[(0,kt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Recherche Rapide"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("input",{type:"text",placeholder:"Nom, dipl\xf4me, sp\xe9cialit\xe9, grade...",className:"w-full pl-9 pr-3 py-2.5 bg-gray-50 border border-gray-300 rounded text-sm focus:border-[#4c7026] focus:ring-1 focus:ring-[#4c7026] outline-none transition-all placeholder:text-gray-400",value:k,onChange:e=>{S(e.target.value),C(1)}}),(0,kt.jsx)(Cr,{className:"absolute left-3 top-3 text-gray-400",size:16})]})]}),(0,kt.jsxs)("div",{className:"lg:col-span-1",children:[(0,kt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Universit\xe9"}),(0,kt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer truncate",value:x,onChange:e=>{g(e.target.value),C(1)},children:[(0,kt.jsx)("option",{value:"Tous",children:"Toutes les Universit\xe9s"}),P.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))]})]}),(0,kt.jsxs)("div",{className:"lg:col-span-1",children:[(0,kt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"\xc9tablissement"}),(0,kt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer disabled:bg-gray-100 disabled:text-gray-400 truncate",value:b,onChange:e=>{v(e.target.value),C(1)},disabled:0===R.length,children:[(0,kt.jsx)("option",{value:"Tous",children:"Tous les \xc9tablissements"}),R.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))]})]}),(0,kt.jsxs)("div",{className:"lg:col-span-1",children:[(0,kt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Grade"}),(0,kt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer truncate",value:y,onChange:e=>{w(e.target.value),C(1)},children:[(0,kt.jsx)("option",{value:"Tous",children:"Tous les Grades"}),Ji.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))]})]}),(0,kt.jsxs)("div",{className:"lg:col-span-1",children:[(0,kt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Dipl\xf4me"}),(0,kt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer truncate",value:j,onChange:e=>{N(e.target.value),C(1)},children:[(0,kt.jsx)("option",{value:"Tous",children:"Tous les Dipl\xf4mes"}),Ki.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))]})]})]}),(0,kt.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-4 border-t border-gray-100",children:[(0,kt.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,kt.jsx)("span",{className:"font-bold text-[#4c7026]",children:M})," ","enseignants trouv\xe9s"]}),(0,kt.jsx)("button",{onClick:()=>{g("Tous"),v("Tous"),w("Tous"),N("Tous"),S(""),n(!1),C(1)},className:"px-4 py-2 text-xs font-bold uppercase bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-[#ea1b31] rounded transition-colors",children:"Effacer tous les filtres"})]})]}),(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 px-1",children:[(0,kt.jsx)("div",{className:"text-sm font-bold text-gray-700 bg-white px-3 py-1.5 rounded shadow-sm border border-gray-200",children:h?(0,kt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,kt.jsx)(Jr,{className:"animate-spin",size:16}),"Chargement..."]}):(0,kt.jsxs)(kt.Fragment,{children:["Affichage de"," ",(0,kt.jsx)("span",{className:"text-[#4c7026]",children:o.length>0?(E-1)*_+1:0})," ","\xe0"," ",(0,kt.jsx)("span",{className:"text-[#4c7026]",children:Math.min(E*_,M)})," ","sur ",(0,kt.jsx)("span",{className:"text-[#4c7026]",children:M})," ","enseignants"]})}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Afficher par :"}),(0,kt.jsxs)("select",{className:"px-2 py-1.5 bg-white border border-gray-300 rounded text-sm font-semibold focus:border-[#4c7026] outline-none cursor-pointer",value:_,onChange:e=>{A(Number(e.target.value)),C(1)},children:[(0,kt.jsx)("option",{value:10,children:"10"}),(0,kt.jsx)("option",{value:20,children:"20"}),(0,kt.jsx)("option",{value:30,children:"30"}),(0,kt.jsx)("option",{value:50,children:"50"}),(0,kt.jsx)("option",{value:100,children:"100"})]})]})]}),(0,kt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden border border-gray-200",children:[(0,kt.jsxs)("div",{className:"hidden md:grid grid-cols-12 gap-4 p-4 bg-[#f4f7f0] border-b border-gray-200",children:[(0,kt.jsx)("div",{className:"col-span-4 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"Nom et Pr\xe9noms"}),(0,kt.jsx)("div",{className:"col-span-3 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"\xc9tablissement d'Origine"}),(0,kt.jsx)("div",{className:"col-span-2 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"Grade"}),(0,kt.jsx)("div",{className:"col-span-3 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"Dipl\xf4me & Sp\xe9cialit\xe9"})]}),(0,kt.jsx)("div",{className:"divide-y divide-gray-100",children:h?(0,kt.jsx)("div",{className:"py-20 flex justify-center",children:(0,kt.jsx)(Jr,{className:"animate-spin text-[#4c7026]",size:48})}):o.length>0?o.map(e=>(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 md:gap-4 p-4 hover:bg-gray-50 transition-all duration-200 group",children:[(0,kt.jsxs)("div",{className:"col-span-12 md:col-span-4 flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 md:w-9 md:h-9 rounded bg-[#b4cd7b]/20 text-[#4c7026] flex items-center justify-center shrink-0 border border-[#b4cd7b]/30",children:(0,kt.jsx)(Ar,{size:18})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Identit\xe9"}),(0,kt.jsx)("h3",{className:"font-bold text-gray-800 text-sm group-hover:text-[#4c7026] transition-colors capitalize leading-tight",children:e.nom}),(0,kt.jsx)("p",{className:"md:hidden text-xs text-gray-500 mt-1 capitalize",children:e.univ})]})]}),(0,kt.jsxs)("div",{className:"col-span-12 md:col-span-3 pl-14 md:pl-0",children:[(0,kt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"\xc9tablissement"}),(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-800 font-medium capitalize",children:[(0,kt.jsx)(Ii,{size:15,className:"text-[#b4cd7b]"}),e.etablissement]}),(0,kt.jsx)("div",{className:"hidden md:block text-[11px] text-gray-500 ml-6 mt-0.5 truncate capitalize",children:e.univ})]}),(0,kt.jsxs)("div",{className:"col-span-6 md:col-span-2 pl-14 md:pl-0 mt-2 md:mt-0",children:[(0,kt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Grade"}),(0,kt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded bg-gray-100 text-gray-700 text-xs font-medium border border-gray-200 capitalize",children:e.grade})]}),(0,kt.jsxs)("div",{className:"col-span-6 md:col-span-3 pl-14 md:pl-0 mt-2 md:mt-0",children:[(0,kt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Qualification"}),(0,kt.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-[#4c7026] capitalize",children:[(0,kt.jsx)(zi,{size:15}),e.diplome]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 capitalize",children:[(0,kt.jsx)(Fi,{size:15,className:"text-gray-400"}),e.specialite]})]})]})]},e.id)):(0,kt.jsxs)("div",{className:"py-16 text-center text-gray-500 bg-white",children:[(0,kt.jsx)(Ui,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,kt.jsx)("p",{className:"text-lg font-medium text-gray-600",children:k||"Tous"!==x||"Tous"!==b||"Tous"!==y||"Tous"!==j?"Aucun r\xe9sultat trouv\xe9 avec les filtres s\xe9lectionn\xe9s":"Aucun enseignant trouv\xe9"}),(0,kt.jsx)("p",{className:"text-sm px-4 mt-2",children:k?'Aucun r\xe9sultat pour "'.concat(k,'"'):"Modifiez vos crit\xe8res de recherche pour voir plus de r\xe9sultats."})]})}),O>1&&(0,kt.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex flex-col sm:flex-row justify-between items-center gap-4 text-xs text-gray-600",children:[(0,kt.jsxs)("span",{className:"font-medium",children:["Page ",E," sur ",O]}),(0,kt.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,kt.jsxs)("button",{onClick:()=>C(e=>Math.max(e-1,1)),disabled:1===E||h,className:"px-3 py-1.5 border rounded bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[(0,kt.jsx)(Rt,{size:14})," Pr\xe9c\xe9dent"]}),(0,kt.jsx)("div",{className:"px-2 font-bold text-gray-800",children:E}),(0,kt.jsxs)("button",{onClick:()=>C(e=>Math.min(e+1,O)),disabled:E===O||h,className:"px-3 py-1.5 border rounded bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Suivant ",(0,kt.jsx)(Vr,{size:14})]})]})]})]}),(0,kt.jsx)("div",{className:"mt-8 flex justify-center pb-8",children:(0,kt.jsxs)("button",{onClick:()=>e("/signalement"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#4c7026] hover:bg-[#3a5a1d] text-white font-bold uppercase rounded shadow-lg transition-all transform hover:-translate-y-0.5",children:[(0,kt.jsx)(_r,{size:18})," Retour \xe0 l'accueil"]})})]}),(0,kt.jsx)("footer",{className:"w-full text-center py-6 mt-auto border-t border-gray-200 bg-white",children:(0,kt.jsx)("div",{className:"text-gray-500 text-xs font-medium",children:"\xa9 daaq-mesupres 2026"})})]})},$i=()=>(0,kt.jsx)("section",{className:"page_404 min-h-screen flex items-center justify-center",children:(0,kt.jsx)("div",{className:"container mx-auto",children:(0,kt.jsx)("div",{className:"flex justify-center",children:(0,kt.jsxs)("div",{className:"w-full text-center",children:[(0,kt.jsx)("div",{className:"four_zero_four_bg",children:(0,kt.jsx)("h1",{className:"text-center text-gray-800",children:"404"})}),(0,kt.jsxs)("div",{className:"content_box_404",children:[(0,kt.jsx)("h3",{className:"h2 text-3xl font-bold mb-4",children:"On dirait que vous \xeates perdu"}),(0,kt.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"La page que vous recherchez n'est pas disponible !"}),(0,kt.jsx)(ft,{to:"/",className:"link_404",children:"Retour \xe0 l'accueil"})]})]})})})}),el=Tt("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),tl=Tt("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),sl=Tt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),nl=e=>{let{onNavigateToNotifications:s,onDeconnexion:n,onNavigateToProfile:r,adminData:a,userRole:i="admin",onToggleSidebar:l,sidebarCollapsed:o}=e;const[d,u]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[x,g]=(0,t.useState)([]),[b,v]=(0,t.useState)(0),[y,w]=(0,t.useState)(null),[j,N]=(0,t.useState)(!1),[k,S]=(0,t.useState)(a||{}),E=(0,t.useRef)(null),C=(0,t.useRef)(null);(0,t.useEffect)(()=>{const e=()=>{N(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{const e=e=>{E.current&&!E.current.contains(e.target)&&u(!1),C.current&&!C.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const _=(0,t.useCallback)(async()=>{try{const e=await or.get("/profile");if(e.data.success){S(e.data.data);const t=A(e.data.data.avatar_url||e.data.data.avatar);t&&w(t)}}catch(e){}},[]);(0,t.useEffect)(()=>{_();const e=()=>{_()};return window.addEventListener("profileUpdated",e),()=>{window.removeEventListener("profileUpdated",e)}},[_]);const A=(0,t.useCallback)(e=>{if(!e)return null;let t=e;return t.startsWith("http")?"".concat(t,"?t=").concat(Date.now()):t.includes("storage/avatars/")?t.startsWith("/")?"".concat(ir).concat(t):"".concat(ir,"/").concat(t):(t.startsWith("/")||(t="/".concat(t)),t.startsWith("/storage")||(t="/storage".concat(t)),"".concat(ir).concat(t,"?t=").concat(Date.now()))},[ir]),M=(()=>{if(k.name&&""!==k.name.trim())return k.name.trim();const e=k.lastname||k.last_name||"",t=k.firstname||k.first_name||"";return e||t?"".concat(t," ").concat(e).trim():k.name||"Utilisateur"})();(0,t.useEffect)(()=>{const e=async()=>{try{const e=await or.get("/notifications/recent");if(e.data.success){const t=e.data.data||[];g(t),v(t.filter(e=>"active"===e.status).length)}}catch(e){}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[]);return(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("header",{className:"fixed top-0 right-0 h-16 md:h-20 bg-white shadow-sm z-30 flex items-center justify-between px-4 md:px-8 border-b border-gray-200 transition-all duration-300",style:{left:j?"0":o?"5rem":"18rem"},children:[(0,kt.jsx)("div",{className:"absolute inset-0 pointer-events-none lg:hidden"}),j&&(0,kt.jsx)("div",{className:"flex items-center",children:(0,kt.jsx)("button",{onClick:l,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg xl:hidden",children:(0,kt.jsx)(Li,{className:"text-xl"})})}),!j&&(0,kt.jsx)("div",{className:"w-10"}),(0,kt.jsxs)("div",{className:"flex items-center space-x-3 md:space-x-6",children:[(0,kt.jsxs)("div",{className:"relative",ref:E,children:[(0,kt.jsxs)("button",{onClick:()=>u(!d),className:"relative p-2 text-gray-500 hover:text-blue-600 rounded-full hover:bg-gray-50 transition-colors",children:[(0,kt.jsx)(el,{className:"text-lg md:text-xl"}),b>0&&(0,kt.jsx)("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full border-2 border-white",children:b})]}),d&&(0,kt.jsxs)("div",{className:"absolute right-0 top-12 w-80 sm:w-96 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[(0,kt.jsx)("h3",{className:"font-bold text-gray-800",children:"Notifications"}),b>0&&(0,kt.jsx)("button",{onClick:()=>{g(e=>e.map(e=>c(c({},e),{},{status:"read"}))),v(0)},className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Tout marquer comme lu"})]}),(0,kt.jsx)("div",{className:"max-h-96 overflow-y-auto",children:x.length>0?x.map(e=>(0,kt.jsx)("div",{className:"p-4 border-b border-gray-50 hover:bg-gray-50 transition-colors ".concat("active"===e.status?"bg-blue-50/50":""),children:(0,kt.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-800",children:e.title||"Notification"}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.message}),(0,kt.jsx)("p",{className:"text-[10px] text-gray-400 mt-2",children:new Date(e.created_at).toLocaleString()})]}),(0,kt.jsx)("div",{className:"flex items-center gap-2",children:"active"===e.status&&(0,kt.jsx)("button",{onClick:()=>(async e=>{try{await or.post("/notifications/".concat(e,"/read")),g(t=>t.map(t=>t.id===e?c(c({},t),{},{status:"read"}):t)),v(e=>Math.max(0,e-1))}catch(t){}})(e.id),className:"text-blue-500 hover:text-blue-700",title:"Marquer comme lu",children:(0,kt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})})})]})},e.id)):(0,kt.jsxs)("div",{className:"p-8 text-center text-sm text-gray-400",children:[(0,kt.jsx)(el,{className:"mx-auto text-3xl mb-2 opacity-30"}),(0,kt.jsx)("p",{children:"Aucune notification"})]})})]})]}),(0,kt.jsxs)("div",{className:"relative",ref:C,children:[(0,kt.jsxs)("button",{onClick:()=>m(!h),className:"flex items-center space-x-2 md:space-x-3 p-1.5 pr-2 rounded-full hover:bg-gray-50 border border-transparent hover:border-gray-200 transition-all",children:[(0,kt.jsx)("div",{className:"w-8 h-8 md:w-9 md:h-9 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white shadow-sm overflow-hidden",children:y?(0,kt.jsx)("img",{src:y,alt:"Profil",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}}):(0,kt.jsx)("span",{className:"font-bold text-xs",children:(()=>{const e=k.lastname||k.last_name||"",t=k.firstname||k.first_name||"",s=k.name||"";return e&&t?"".concat(e[0]).concat(t[0]).toUpperCase():s?s.substring(0,2).toUpperCase():"U"})()})}),(0,kt.jsxs)("div",{className:"text-left hidden md:block",children:[(0,kt.jsx)("div",{className:"text-sm font-semibold text-gray-700",children:M.split(" ")[0]||"Utilisateur"}),(0,kt.jsx)("div",{className:"text-[10px] text-gray-500",children:(()=>{if(k.formattedrole)return k.formattedrole;const e=k.role||i||"admin";return e.charAt(0).toUpperCase()+e.slice(1)})()})]}),(0,kt.jsx)(tl,{className:"text-gray-400 text-xs hidden md:block"})]}),h&&(0,kt.jsxs)("div",{className:"absolute right-0 top-12 w-56 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden py-2",children:[(0,kt.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100 mb-1",children:[(0,kt.jsx)("p",{className:"font-semibold text-sm text-gray-800",children:M}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 truncate",children:k.email||"Email non disponible"})]}),(0,kt.jsxs)("button",{onClick:()=>{r&&r(),m(!1)},className:"flex items-center space-x-3 px-4 py-2.5 text-sm text-gray-600 hover:bg-blue-50 hover:text-blue-600 transition-colors w-full",children:[(0,kt.jsx)(Ar,{className:"w-4 h-4"}),(0,kt.jsx)("span",{children:"Mon Profil"})]}),(0,kt.jsx)("div",{className:"border-t border-gray-100 mt-1 pt-1",children:(0,kt.jsxs)("button",{onClick:()=>{m(!1),f(!0)},className:"w-full flex items-center space-x-3 px-4 py-2.5 text-sm text-red-500 hover:bg-red-50 transition-colors",children:[(0,kt.jsx)(sl,{className:"w-4 h-4"}),(0,kt.jsx)("span",{children:"D\xe9connexion"})]})})]})]})]})]}),p&&(0,kt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-gray-900/60 backdrop-blur-sm transition-opacity duration-300",children:(0,kt.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden transform transition-all scale-100 animate-[fadeIn_0.2s_ease-out]",role:"dialog","aria-modal":"true",children:(0,kt.jsxs)("div",{className:"p-6 text-center",children:[(0,kt.jsx)("div",{className:"mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-red-50 mb-6 ring-4 ring-red-50/50",children:(0,kt.jsx)(sl,{className:"text-red-500 text-2xl"})}),(0,kt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"D\xe9connexion"}),(0,kt.jsxs)("p",{className:"text-gray-500 text-sm leading-relaxed mb-6",children:["Voulez-vous vraiment quitter ? ",(0,kt.jsx)("br",{}),"Vous devrez vous reconnecter pour acc\xe9der au tableau de bord."]}),(0,kt.jsxs)("div",{className:"flex gap-3",children:[(0,kt.jsx)("button",{onClick:()=>f(!1),className:"flex-1 px-5 py-2.5 text-sm font-semibold text-gray-700 bg-white border border-gray-300 rounded-xl hover:bg-gray-50 hover:text-gray-900 focus:ring-4 focus:ring-gray-100 transition-all duration-200",children:"Annuler"}),(0,kt.jsx)("button",{onClick:()=>{f(!1),(async()=>{try{await or.post("/auth/logout").catch(()=>{})}catch(e){}finally{localStorage.clear(),sessionStorage.clear(),"function"===typeof n?n():window.location.href="/login"}})()},className:"flex-1 px-5 py-2.5 text-sm font-semibold text-white bg-red-600 border border-transparent rounded-xl hover:bg-red-700 focus:ring-4 focus:ring-red-100 shadow-lg shadow-red-500/30 transition-all duration-200",children:"Se d\xe9connecter"})]})]})})})]})},rl=Tt("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),al=Tt("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),il=Tt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),ll=e=>{let{currentView:s,onViewChange:n,collapsed:r,onToggle:a}=e;const[i,l]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=()=>{l(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const o=e=>{n(e),i&&a()},c=[{id:"dashboard",label:"Tableau de bord",icon:rl,section:"vue"},{id:"chat",label:"Messagerie",icon:al,section:"vue"},{id:"reports",label:"Gestion des signalements",icon:Yr,section:"gestion"},{id:"enseignants",label:"Enseignants",icon:zi,section:"gestion"},{id:"equipe",label:"Utilisateurs",icon:il,section:"gestion"},{id:"audit",label:"Log / Audit",icon:Fi,section:"gestion"}],d=e=>s===e,u="group flex items-center justify-between px-4 py-3 mx-3 mb-1 rounded-xl transition-all duration-200 cursor-pointer text-sm font-medium",h="bg-blue-50 text-blue-600",m="text-gray-500 hover:bg-gray-50 hover:text-gray-900",p=c.filter(e=>"vue"===e.section),f=c.filter(e=>"gestion"===e.section),x=i?"fixed top-0 left-0 h-full bg-white z-50 border-r border-gray-100 shadow-xl\n       transition-all duration-300 ease-in-out flex flex-col w-72\n       ".concat(r?"-translate-x-full":"translate-x-0"):"fixed top-0 left-0 h-full bg-white z-30 border-r border-gray-100\n       transition-all duration-300 ease-in-out flex flex-col\n       ".concat(r?"w-20":"w-72");return(0,kt.jsxs)(kt.Fragment,{children:[i&&!r&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm z-40 lg:hidden",onClick:a}),(0,kt.jsxs)("aside",{className:x,children:[(0,kt.jsxs)("div",{className:"h-20 flex items-center justify-center px-6 border-b border-gray-50 mb-4 relative",children:[(!r||i&&!r)&&(0,kt.jsx)("div",{className:"flex items-center justify-center absolute left-1/2 transform -translate-x-1/2",children:(0,kt.jsx)("img",{src:ur,alt:"FOSIKA",className:"h-24 object-contain"})}),!i&&(0,kt.jsx)("button",{onClick:a,className:"p-2 rounded-lg text-gray-400 hover:text-blue-600 hover:bg-gray-100 transition-colors ".concat(r?"mx-auto":"absolute right-4"),title:r?"Ouvrir le menu":"Fermer le menu",children:r?(0,kt.jsx)(Li,{size:20}):(0,kt.jsx)(Lt,{size:20})}),i&&!r&&(0,kt.jsx)("button",{onClick:a,className:"p-2 text-gray-400 hover:text-red-500 absolute right-4",title:"Fermer le menu",children:(0,kt.jsx)(Lt,{size:20})})]}),(0,kt.jsxs)("nav",{className:"flex-1 overflow-y-auto custom-scrollbar pb-6",children:[(0,kt.jsxs)("div",{className:"mb-6",children:[!r&&(0,kt.jsx)("div",{className:"px-6 mb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Vue d'ensemble"}),p.map(e=>(0,kt.jsxs)("div",{onClick:()=>o(e.id),className:"".concat(u," ").concat(d(e.id)?h:m),title:r?e.label:"",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)(e.icon,{className:"text-lg flex-shrink-0 ".concat(d(e.id)?"text-blue-600":"text-gray-400 group-hover:text-gray-600"),size:20}),!r&&(0,kt.jsx)("span",{children:e.label})]}),d(e.id)&&!r&&(0,kt.jsx)(Vr,{className:"text-xs text-blue-600",size:14})]},e.id))]}),(0,kt.jsxs)("div",{className:"mb-6",children:[!r&&(0,kt.jsx)("div",{className:"px-6 mb-2 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Gestion"}),f.map(e=>(0,kt.jsxs)("div",{onClick:()=>o(e.id),className:"".concat(u," ").concat(d(e.id)?h:m),title:r?e.label:"",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)(e.icon,{className:"text-lg flex-shrink-0 ".concat(d(e.id)?"text-blue-600":"text-gray-400 group-hover:text-gray-600"),size:20}),!r&&(0,kt.jsx)("span",{children:e.label})]}),d(e.id)&&!r&&(0,kt.jsx)(Vr,{className:"text-xs text-blue-600",size:14})]},e.id))]})]}),!r&&!i&&(0,kt.jsx)("div",{className:"p-4 border-t border-gray-100 text-xs text-center text-gray-400",children:"\xa9 daaq-mesupres 2026"})]})]})};function ol(e){return e+.5|0}const cl=(e,t,s)=>Math.max(Math.min(e,s),t);function dl(e){return cl(ol(2.55*e),0,255)}function ul(e){return cl(ol(255*e),0,255)}function hl(e){return cl(ol(e/2.55)/100,0,1)}function ml(e){return cl(ol(100*e),0,100)}const pl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fl=[..."0123456789ABCDEF"],xl=e=>fl[15&e],gl=e=>fl[(240&e)>>4]+fl[15&e],bl=e=>(240&e)>>4===(15&e);function vl(e){var t=(e=>bl(e.r)&&bl(e.g)&&bl(e.b)&&bl(e.a))(e)?xl:gl;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const yl=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function wl(e,t,s){const n=t*Math.min(s,1-s),r=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return s-n*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function jl(e,t,s){const n=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(n+e/60)%6;return s-s*t*Math.max(Math.min(r,4-r,1),0)};return[n(5),n(3),n(1)]}function Nl(e,t,s){const n=wl(e,1,.5);let r;for(t+s>1&&(r=1/(t+s),t*=r,s*=r),r=0;r<3;r++)n[r]*=1-t-s,n[r]+=t;return n}function kl(e){const t=e.r/255,s=e.g/255,n=e.b/255,r=Math.max(t,s,n),a=Math.min(t,s,n),i=(r+a)/2;let l,o,c;return r!==a&&(c=r-a,o=i>.5?c/(2-r-a):c/(r+a),l=function(e,t,s,n,r){return e===r?(t-s)/n+(t<s?6:0):t===r?(s-e)/n+2:(e-t)/n+4}(t,s,n,c,r),l=60*l+.5),[0|l,o||0,i]}function Sl(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(ul)}function El(e,t,s){return Sl(wl,e,t,s)}function Cl(e){return(e%360+360)%360}function _l(e){const t=yl.exec(e);let s,n=255;if(!t)return;t[5]!==s&&(n=t[6]?dl(+t[5]):ul(+t[5]));const r=Cl(+t[2]),a=+t[3]/100,i=+t[4]/100;return s="hwb"===t[1]?function(e,t,s){return Sl(Nl,e,t,s)}(r,a,i):"hsv"===t[1]?function(e,t,s){return Sl(jl,e,t,s)}(r,a,i):El(r,a,i),{r:s[0],g:s[1],b:s[2],a:n}}const Al={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ml={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Dl;function Tl(e){Dl||(Dl=function(){const e={},t=Object.keys(Ml),s=Object.keys(Al);let n,r,a,i,l;for(n=0;n<t.length;n++){for(i=l=t[n],r=0;r<s.length;r++)a=s[r],l=l.replace(a,Al[a]);a=parseInt(Ml[i],16),e[l]=[a>>16&255,a>>8&255,255&a]}return e}(),Dl.transparent=[0,0,0,0]);const t=Dl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Rl=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Pl=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Ol=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ll(e,t,s){if(e){let n=kl(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,0===t?360:1)),n=El(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Il(e,t){return e?Object.assign(t||{},e):e}function zl(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ul(e[3]))):(t=Il(e,{r:0,g:0,b:0,a:1})).a=ul(t.a),t}function Fl(e){return"r"===e.charAt(0)?function(e){const t=Rl.exec(e);let s,n,r,a=255;if(t){if(t[7]!==s){const e=+t[7];a=t[8]?dl(e):cl(255*e,0,255)}return s=+t[1],n=+t[3],r=+t[5],s=255&(t[2]?dl(s):cl(s,0,255)),n=255&(t[4]?dl(n):cl(n,0,255)),r=255&(t[6]?dl(r):cl(r,0,255)),{r:s,g:n,b:r,a:a}}}(e):_l(e)}class Ul{constructor(e){if(e instanceof Ul)return e;const t=typeof e;let s;"object"===t?s=zl(e):"string"===t&&(s=function(e){var t,s=e.length;return"#"===e[0]&&(4===s||5===s?t={r:255&17*pl[e[1]],g:255&17*pl[e[2]],b:255&17*pl[e[3]],a:5===s?17*pl[e[4]]:255}:7!==s&&9!==s||(t={r:pl[e[1]]<<4|pl[e[2]],g:pl[e[3]]<<4|pl[e[4]],b:pl[e[5]]<<4|pl[e[6]],a:9===s?pl[e[7]]<<4|pl[e[8]]:255})),t}(e)||Tl(e)||Fl(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Il(this._rgb);return e&&(e.a=hl(e.a)),e}set rgb(e){this._rgb=zl(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(hl(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?vl(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=kl(e),s=t[0],n=ml(t[1]),r=ml(t[2]);return e.a<255?"hsla(".concat(s,", ").concat(n,"%, ").concat(r,"%, ").concat(hl(e.a),")"):"hsl(".concat(s,", ").concat(n,"%, ").concat(r,"%)")}(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,n=e.rgb;let r;const a=t===r?.5:t,i=2*a-1,l=s.a-n.a,o=((i*l===-1?i:(i+l)/(1+i*l))+1)/2;r=1-o,s.r=255&o*s.r+r*n.r+.5,s.g=255&o*s.g+r*n.g+.5,s.b=255&o*s.b+r*n.b+.5,s.a=a*s.a+(1-a)*n.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,s){const n=Ol(hl(e.r)),r=Ol(hl(e.g)),a=Ol(hl(e.b));return{r:ul(Pl(n+s*(Ol(hl(t.r))-n))),g:ul(Pl(r+s*(Ol(hl(t.g))-r))),b:ul(Pl(a+s*(Ol(hl(t.b))-a))),a:e.a+s*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Ul(this.rgb)}alpha(e){return this._rgb.a=ul(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ol(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ll(this._rgb,2,e),this}darken(e){return Ll(this._rgb,2,-e),this}saturate(e){return Ll(this._rgb,1,e),this}desaturate(e){return Ll(this._rgb,1,-e),this}rotate(e){return function(e,t){var s=kl(e);s[0]=Cl(s[0]+t),s=El(s),e.r=s[0],e.g=s[1],e.b=s[2]}(this._rgb,e),this}}function Bl(){}const Vl=(()=>{let e=0;return()=>e++})();function Hl(e){return null===e||void 0===e}function Wl(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ql(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Yl(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Jl(e,t){return Yl(e)?e:t}function Kl(e,t){return"undefined"===typeof e?t:e}const Gl=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Xl(e,t,s){if(e&&"function"===typeof e.call)return e.apply(s,t)}function Ql(e,t,s,n){let r,a,i;if(Wl(e))if(a=e.length,n)for(r=a-1;r>=0;r--)t.call(s,e[r],r);else for(r=0;r<a;r++)t.call(s,e[r],r);else if(ql(e))for(i=Object.keys(e),a=i.length,r=0;r<a;r++)t.call(s,e[i[r]],i[r])}function Zl(e,t){let s,n,r,a;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(r=e[s],a=t[s],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function $l(e){if(Wl(e))return e.map($l);if(ql(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let r=0;for(;r<n;++r)t[s[r]]=$l(e[s[r]]);return t}return e}function eo(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function to(e,t,s,n){if(!eo(e))return;const r=t[e],a=s[e];ql(r)&&ql(a)?so(r,a,n):t[e]=$l(a)}function so(e,t,s){const n=Wl(t)?t:[t],r=n.length;if(!ql(e))return e;const a=(s=s||{}).merger||to;let i;for(let l=0;l<r;++l){if(i=n[l],!ql(i))continue;const t=Object.keys(i);for(let n=0,r=t.length;n<r;++n)a(t[n],e,i,s)}return e}function no(e,t){return so(e,t,{merger:ro})}function ro(e,t,s){if(!eo(e))return;const n=t[e],r=s[e];ql(n)&&ql(r)?no(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=$l(r))}const ao={"":e=>e,x:e=>e.x,y:e=>e.y};function io(e,t){const s=ao[t]||(ao[t]=function(e){const t=function(e){const t=e.split("."),s=[];let n="";for(const r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}(e);return e=>{for(const s of t){if(""===s)break;e=e&&e[s]}return e}}(t));return s(e)}function lo(e){return e.charAt(0).toUpperCase()+e.slice(1)}const oo=e=>"undefined"!==typeof e,co=e=>"function"===typeof e,uo=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};const ho=Math.PI,mo=2*ho,po=mo+ho,fo=Number.POSITIVE_INFINITY,xo=ho/180,go=ho/2,bo=ho/4,vo=2*ho/3,yo=Math.log10,wo=Math.sign;function jo(e,t,s){return Math.abs(e-t)<s}function No(e){const t=Math.round(e);e=jo(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(yo(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function ko(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function So(e,t,s){let n,r,a;for(n=0,r=e.length;n<r;n++)a=e[n][s],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Eo(e){return e*(ho/180)}function Co(e){return e*(180/ho)}function _o(e){if(!Yl(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function Ao(e,t){const s=t.x-e.x,n=t.y-e.y,r=Math.sqrt(s*s+n*n);let a=Math.atan2(n,s);return a<-.5*ho&&(a+=mo),{angle:a,distance:r}}function Mo(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Do(e,t){return(e-t+po)%mo-ho}function To(e){return(e%mo+mo)%mo}function Ro(e,t,s,n){const r=To(e),a=To(t),i=To(s),l=To(a-r),o=To(i-r),c=To(r-a),d=To(r-i);return r===a||r===i||n&&a===i||l>o&&c<d}function Po(e,t,s){return Math.max(t,Math.min(s,e))}function Oo(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function Lo(e,t,s){s=s||(s=>e[s]<t);let n,r=e.length-1,a=0;for(;r-a>1;)n=a+r>>1,s(n)?a=n:r=n;return{lo:a,hi:r}}const Io=(e,t,s,n)=>Lo(e,s,n?n=>{const r=e[n][t];return r<s||r===s&&e[n+1][t]===s}:n=>e[n][t]<s),zo=(e,t,s)=>Lo(e,s,n=>e[n][t]>=s);const Fo=["push","pop","shift","splice","unshift"];function Uo(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,r=n.indexOf(t);-1!==r&&n.splice(r,1),n.length>0||(Fo.forEach(t=>{delete e[t]}),delete e._chartjs)}function Bo(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Vo="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Ho(e,t){let s=[],n=!1;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];s=a,n||(n=!0,Vo.call(window,()=>{n=!1,e.apply(t,s)}))}}const Wo=e=>"start"===e?"left":"end"===e?"right":"center",qo=(e,t,s)=>"start"===e?t:"end"===e?s:(t+s)/2;function Yo(e,t,s){const n=t.length;let r=0,a=n;if(e._sorted){const{iScale:i,vScale:l,_parsed:o}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:h,minDefined:m,maxDefined:p}=i.getUserBounds();if(m){if(r=Math.min(Io(o,d,u).lo,s?n:Io(t,d,i.getPixelForValue(u)).lo),c){const e=o.slice(0,r+1).reverse().findIndex(e=>!Hl(e[l.axis]));r-=Math.max(0,e)}r=Po(r,0,n-1)}if(p){let e=Math.max(Io(o,i.axis,h,!0).hi+1,s?0:Io(t,d,i.getPixelForValue(h),!0).hi+1);if(c){const t=o.slice(e-1).findIndex(e=>!Hl(e[l.axis]));e+=Math.max(0,t)}a=Po(e,r,n)-r}else a=n-r}return{start:r,count:a}}function Jo(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,r={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=r,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,r),a}const Ko=e=>0===e||1===e,Go=(e,t,s)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*mo/s),Xo=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*mo/s)+1,Qo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*go),easeOutSine:e=>Math.sin(e*go),easeInOutSine:e=>-.5*(Math.cos(ho*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Ko(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ko(e)?e:Go(e,.075,.3),easeOutElastic:e=>Ko(e)?e:Xo(e,.075,.3),easeInOutElastic(e){const t=.1125;return Ko(e)?e:e<.5?.5*Go(2*e,t,.45):.5+.5*Xo(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Qo.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},easeInOutBounce:e=>e<.5?.5*Qo.easeInBounce(2*e):.5*Qo.easeOutBounce(2*e-1)+.5};function Zo(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function $o(e){return Zo(e)?e:new Ul(e)}function ec(e){return Zo(e)?e:new Ul(e).saturate(.5).darken(.1).hexString()}const tc=["x","y","borderWidth","radius","tension"],sc=["color","borderColor","backgroundColor"];const nc=new Map;function rc(e,t,s){return function(e,t){t=t||{};const s=e+JSON.stringify(t);let n=nc.get(s);return n||(n=new Intl.NumberFormat(e,t),nc.set(s,n)),n}(t,s).format(e)}const ac={values:e=>Wl(e)?e:""+e,numeric(e,t,s){if(0===e)return"0";const n=this.chart.options.locale;let r,a=e;if(s.length>1){const t=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),a=function(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e));return s}(e,s)}const i=yo(Math.abs(a)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),o={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(o,this.options.ticks.format),rc(e,n,o)},logarithmic(e,t,s){if(0===e)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(yo(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?ac.numeric.call(this,e,t,s):""}};var ic={formatters:ac};const lc=Object.create(null),oc=Object.create(null);function cc(e,t){if(!t)return e;const s=t.split(".");for(let n=0,r=s.length;n<r;++n){const t=s[n];e=e[t]||(e[t]=Object.create(null))}return e}function dc(e,t,s){return"string"===typeof t?so(cc(e,t),s):so(cc(e,""),t)}class uc{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>ec(t.backgroundColor),this.hoverBorderColor=(e,t)=>ec(t.borderColor),this.hoverColor=(e,t)=>ec(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return dc(this,e,t)}get(e){return cc(this,e)}describe(e,t){return dc(oc,e,t)}override(e,t){return dc(lc,e,t)}route(e,t,s,n){const r=cc(this,e),a=cc(this,s),i="_"+t;Object.defineProperties(r,{[i]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=a[n];return ql(e)?Object.assign({},t,e):Kl(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach(e=>e(this))}}var hc=new uc({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:sc},numbers:{type:"number",properties:tc}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ic.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function mc(e,t,s,n,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,s.push(r)),a>n&&(n=a),n}function pc(e,t,s,n){let r=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},a=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let i=0;const l=s.length;let o,c,d,u,h;for(o=0;o<l;o++)if(u=s[o],void 0===u||null===u||Wl(u)){if(Wl(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||Wl(h)||(i=mc(e,r,a,i,h))}else i=mc(e,r,a,i,u);e.restore();const m=a.length/2;if(m>s.length){for(o=0;o<m;o++)delete r[a[o]];a.splice(0,m)}return i}function fc(e,t,s){const n=e.currentDevicePixelRatio,r=0!==s?Math.max(s/2,.5):0;return Math.round((t-r)*n)/n+r}function xc(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function gc(e,t,s,n){bc(e,t,s,n,null)}function bc(e,t,s,n,r){let a,i,l,o,c,d,u,h;const m=t.pointStyle,p=t.rotation,f=t.radius;let x=(p||0)*xo;if(m&&"object"===typeof m&&(a=m.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(s,n),e.rotate(x),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),m){default:r?e.ellipse(s,n,r/2,f,0,0,mo):e.arc(s,n,f,0,mo),e.closePath();break;case"triangle":d=r?r/2:f,e.moveTo(s+Math.sin(x)*d,n-Math.cos(x)*f),x+=vo,e.lineTo(s+Math.sin(x)*d,n-Math.cos(x)*f),x+=vo,e.lineTo(s+Math.sin(x)*d,n-Math.cos(x)*f),e.closePath();break;case"rectRounded":c=.516*f,o=f-c,i=Math.cos(x+bo)*o,u=Math.cos(x+bo)*(r?r/2-c:o),l=Math.sin(x+bo)*o,h=Math.sin(x+bo)*(r?r/2-c:o),e.arc(s-u,n-l,c,x-ho,x-go),e.arc(s+h,n-i,c,x-go,x),e.arc(s+u,n+l,c,x,x+go),e.arc(s-h,n+i,c,x+go,x+ho),e.closePath();break;case"rect":if(!p){o=Math.SQRT1_2*f,d=r?r/2:o,e.rect(s-d,n-o,2*d,2*o);break}x+=bo;case"rectRot":u=Math.cos(x)*(r?r/2:f),i=Math.cos(x)*f,l=Math.sin(x)*f,h=Math.sin(x)*(r?r/2:f),e.moveTo(s-u,n-l),e.lineTo(s+h,n-i),e.lineTo(s+u,n+l),e.lineTo(s-h,n+i),e.closePath();break;case"crossRot":x+=bo;case"cross":u=Math.cos(x)*(r?r/2:f),i=Math.cos(x)*f,l=Math.sin(x)*f,h=Math.sin(x)*(r?r/2:f),e.moveTo(s-u,n-l),e.lineTo(s+u,n+l),e.moveTo(s+h,n-i),e.lineTo(s-h,n+i);break;case"star":u=Math.cos(x)*(r?r/2:f),i=Math.cos(x)*f,l=Math.sin(x)*f,h=Math.sin(x)*(r?r/2:f),e.moveTo(s-u,n-l),e.lineTo(s+u,n+l),e.moveTo(s+h,n-i),e.lineTo(s-h,n+i),x+=bo,u=Math.cos(x)*(r?r/2:f),i=Math.cos(x)*f,l=Math.sin(x)*f,h=Math.sin(x)*(r?r/2:f),e.moveTo(s-u,n-l),e.lineTo(s+u,n+l),e.moveTo(s+h,n-i),e.lineTo(s-h,n+i);break;case"line":i=r?r/2:Math.cos(x)*f,l=Math.sin(x)*f,e.moveTo(s-i,n-l),e.lineTo(s+i,n+l);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(x)*(r?r/2:f),n+Math.sin(x)*f);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function vc(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function yc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function wc(e){e.restore()}function jc(e,t,s,n,r){if(!t)return e.lineTo(s.x,s.y);if("middle"===r){const n=(t.x+s.x)/2;e.lineTo(n,t.y),e.lineTo(n,s.y)}else"after"===r!==!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function Nc(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function kc(e,t,s,n,r){if(r.strikethrough||r.underline){const a=e.measureText(n),i=t-a.actualBoundingBoxLeft,l=t+a.actualBoundingBoxRight,o=s-a.actualBoundingBoxAscent,c=s+a.actualBoundingBoxDescent,d=r.strikethrough?(o+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(i,d),e.lineTo(l,d),e.stroke()}}function Sc(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function Ec(e,t,s,n,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=Wl(t)?t:[t],l=a.strokeWidth>0&&""!==a.strokeColor;let o,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Hl(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),o=0;o<i.length;++o)c=i[o],a.backdrop&&Sc(e,a.backdrop),l&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Hl(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,s,n,a.maxWidth)),e.fillText(c,s,n,a.maxWidth),kc(e,s,n,c,a),n+=Number(r.lineHeight);e.restore()}function Cc(e,t){const{x:s,y:n,w:r,h:a,radius:i}=t;e.arc(s+i.topLeft,n+i.topLeft,i.topLeft,1.5*ho,ho,!0),e.lineTo(s,n+a-i.bottomLeft),e.arc(s+i.bottomLeft,n+a-i.bottomLeft,i.bottomLeft,ho,go,!0),e.lineTo(s+r-i.bottomRight,n+a),e.arc(s+r-i.bottomRight,n+a-i.bottomRight,i.bottomRight,go,0,!0),e.lineTo(s+r,n+i.topRight),e.arc(s+r-i.topRight,n+i.topRight,i.topRight,0,-go,!0),e.lineTo(s+i.topLeft,n)}const _c=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ac=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Mc(e,t){const s=(""+e).match(_c);if(!s||"normal"===s[1])return 1.2*t;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100}return t*e}const Dc=e=>+e||0;function Tc(e,t){const s={},n=ql(t),r=n?Object.keys(t):t,a=ql(e)?n?s=>Kl(e[s],e[t[s]]):t=>e[t]:()=>e;for(const i of r)s[i]=Dc(a(i));return s}function Rc(e){return Tc(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Pc(e){return Tc(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Oc(e){const t=Rc(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Lc(e,t){e=e||{},t=t||hc.font;let s=Kl(e.size,t.size);"string"===typeof s&&(s=parseInt(s,10));let n=Kl(e.style,t.style);n&&!(""+n).match(Ac)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Kl(e.family,t.family),lineHeight:Mc(Kl(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:Kl(e.weight,t.weight),string:""};return r.string=function(e){return!e||Hl(e.size)||Hl(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function Ic(e,t,s,n){let r,a,i,l=!0;for(r=0,a=e.length;r<a;++r)if(i=e[r],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),l=!1),void 0!==s&&Wl(i)&&(i=i[s%i.length],l=!1),void 0!==i))return n&&!l&&(n.cacheable=!1),i}function zc(e,t){return Object.assign(Object.create(e),t)}function Fc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const r=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof s&&(s=Xc("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:s,_getTarget:n,override:n=>Fc([n,...e],t,r,s)};return new Proxy(a,{deleteProperty:(t,s)=>(delete t[s],delete t._keys,delete e[0][s],!0),get:(s,n)=>Wc(s,n,()=>function(e,t,s,n){let r;for(const a of t)if(r=Xc(Vc(a,e),s),"undefined"!==typeof r)return Hc(e,r)?Kc(s,n,e,r):r}(n,t,e,s)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Qc(e).includes(t),ownKeys:e=>Qc(e),set(e,t,s){const r=e._storage||(e._storage=n());return e[t]=r[t]=s,delete e._keys,!0}})}function Uc(e,t,s,n){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:Bc(e,n),setContext:t=>Uc(e,t,s,n),override:r=>Uc(e.override(r),t,s,n)};return new Proxy(r,{deleteProperty:(t,s)=>(delete t[s],delete e[s],!0),get:(e,t,s)=>Wc(e,t,()=>function(e,t,s){const{_proxy:n,_context:r,_subProxy:a,_descriptors:i}=e;let l=n[t];co(l)&&i.isScriptable(t)&&(l=function(e,t,s,n){const{_proxy:r,_context:a,_subProxy:i,_stack:l}=s;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let o=t(a,i||n);l.delete(e),Hc(e,o)&&(o=Kc(r._scopes,r,e,o));return o}(t,l,e,s));Wl(l)&&l.length&&(l=function(e,t,s,n){const{_proxy:r,_context:a,_subProxy:i,_descriptors:l}=s;if("undefined"!==typeof a.index&&n(e))return t[a.index%t.length];if(ql(t[0])){const s=t,n=r._scopes.filter(e=>e!==s);t=[];for(const o of s){const s=Kc(n,r,e,o);t.push(Uc(s,a,i&&i[e],l))}}return t}(t,l,e,i.isIndexable));Hc(t,l)&&(l=Uc(l,r,a&&a[t],i));return l}(e,t,s)),getOwnPropertyDescriptor:(t,s)=>t._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,s)=>Reflect.has(e,s),ownKeys:()=>Reflect.ownKeys(e),set:(t,s,n)=>(e[s]=n,delete t[s],!0)})}function Bc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:s,indexable:n,isScriptable:co(s)?s:()=>s,isIndexable:co(n)?n:()=>n}}const Vc=(e,t)=>e?e+lo(t):t,Hc=(e,t)=>ql(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Wc(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const n=s();return e[t]=n,n}function qc(e,t,s){return co(e)?e(t,s):e}const Yc=(e,t)=>!0===e?t:"string"===typeof e?io(t,e):void 0;function Jc(e,t,s,n,r){for(const a of t){const t=Yc(s,a);if(t){e.add(t);const a=qc(t._fallback,s,r);if("undefined"!==typeof a&&a!==s&&a!==n)return a}else if(!1===t&&"undefined"!==typeof n&&s!==n)return null}return!1}function Kc(e,t,s,n){const r=t._rootScopes,a=qc(t._fallback,s,n),i=[...e,...r],l=new Set;l.add(n);let o=Gc(l,i,s,a||s,n);return null!==o&&(("undefined"===typeof a||a===s||(o=Gc(l,i,a,o,n),null!==o))&&Fc(Array.from(l),[""],r,a,()=>function(e,t,s){const n=e._getTarget();t in n||(n[t]={});const r=n[t];if(Wl(r)&&ql(s))return s;return r||{}}(t,s,n)))}function Gc(e,t,s,n,r){for(;s;)s=Jc(e,t,s,n,r);return s}function Xc(e,t){for(const s of t){if(!s)continue;const t=s[e];if("undefined"!==typeof t)return t}}function Qc(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const s of e)for(const e of Object.keys(s).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function Zc(e,t,s,n){const{iScale:r}=e,{key:a="r"}=this._parsing,i=new Array(n);let l,o,c,d;for(l=0,o=n;l<o;++l)c=l+s,d=t[c],i[l]={r:r.parse(io(d,a),c)};return i}const $c=Number.EPSILON||1e-14,ed=(e,t)=>t<e.length&&!e[t].skip&&e[t],td=e=>"x"===e?"y":"x";function sd(e,t,s,n){const r=e.skip?t:e,a=t,i=s.skip?t:s,l=Mo(a,r),o=Mo(i,a);let c=l/(l+o),d=o/(l+o);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,h=n*d;return{previous:{x:a.x-u*(i.x-r.x),y:a.y-u*(i.y-r.y)},next:{x:a.x+h*(i.x-r.x),y:a.y+h*(i.y-r.y)}}}function nd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const s=td(t),n=e.length,r=Array(n).fill(0),a=Array(n);let i,l,o,c=ed(e,0);for(i=0;i<n;++i)if(l=o,o=c,c=ed(e,i+1),o){if(c){const e=c[t]-o[t];r[i]=0!==e?(c[s]-o[s])/e:0}a[i]=l?c?wo(r[i-1])!==wo(r[i])?0:(r[i-1]+r[i])/2:r[i-1]:r[i]}!function(e,t,s){const n=e.length;let r,a,i,l,o,c=ed(e,0);for(let d=0;d<n-1;++d)o=c,c=ed(e,d+1),o&&c&&(jo(t[d],0,$c)?s[d]=s[d+1]=0:(r=s[d]/t[d],a=s[d+1]/t[d],l=Math.pow(r,2)+Math.pow(a,2),l<=9||(i=3/Math.sqrt(l),s[d]=r*i*t[d],s[d+1]=a*i*t[d])))}(e,r,a),function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const n=td(s),r=e.length;let a,i,l,o=ed(e,0);for(let c=0;c<r;++c){if(i=l,l=o,o=ed(e,c+1),!l)continue;const r=l[s],d=l[n];i&&(a=(r-i[s])/3,l["cp1".concat(s)]=r-a,l["cp1".concat(n)]=d-a*t[c]),o&&(a=(o[s]-r)/3,l["cp2".concat(s)]=r+a,l["cp2".concat(n)]=d+a*t[c])}}(e,a,t)}function rd(e,t,s){return Math.max(Math.min(e,s),t)}function ad(e,t,s,n,r){let a,i,l,o;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)nd(e,r);else{let s=n?e[e.length-1]:e[0];for(a=0,i=e.length;a<i;++a)l=e[a],o=sd(s,l,e[Math.min(a+1,i-(n?0:1))%i],t.tension),l.cp1x=o.previous.x,l.cp1y=o.previous.y,l.cp2x=o.next.x,l.cp2y=o.next.y,s=l}t.capBezierPoints&&function(e,t){let s,n,r,a,i,l=vc(e[0],t);for(s=0,n=e.length;s<n;++s)i=a,a=l,l=s<n-1&&vc(e[s+1],t),a&&(r=e[s],i&&(r.cp1x=rd(r.cp1x,t.left,t.right),r.cp1y=rd(r.cp1y,t.top,t.bottom)),l&&(r.cp2x=rd(r.cp2x,t.left,t.right),r.cp2y=rd(r.cp2y,t.top,t.bottom)))}(e,s)}function id(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ld(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function od(e,t,s){let n;return"string"===typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[s])):n=e,n}const cd=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const dd=["top","right","bottom","left"];function ud(e,t,s){const n={};s=s?"-"+s:"";for(let r=0;r<4;r++){const a=dd[r];n[a]=parseFloat(e[t+"-"+a+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function hd(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,r=cd(s),a="border-box"===r.boxSizing,i=ud(r,"padding"),l=ud(r,"border","width"),{x:o,y:c,box:d}=function(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:r,offsetY:a}=n;let i,l,o=!1;if(((e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot))(r,a,e.target))i=r,l=a;else{const e=t.getBoundingClientRect();i=n.clientX-e.left,l=n.clientY-e.top,o=!0}return{x:i,y:l,box:o}}(e,s),u=i.left+(d&&l.left),h=i.top+(d&&l.top);let{width:m,height:p}=t;return a&&(m-=i.width+l.width,p-=i.height+l.height),{x:Math.round((o-u)/m*s.width/n),y:Math.round((c-h)/p*s.height/n)}}const md=e=>Math.round(10*e)/10;function pd(e,t,s,n){const r=cd(e),a=ud(r,"margin"),i=od(r.maxWidth,e,"clientWidth")||fo,l=od(r.maxHeight,e,"clientHeight")||fo,o=function(e,t,s){let n,r;if(void 0===t||void 0===s){const a=e&&ld(e);if(a){const e=a.getBoundingClientRect(),i=cd(a),l=ud(i,"border","width"),o=ud(i,"padding");t=e.width-o.width-l.width,s=e.height-o.height-l.height,n=od(i.maxWidth,a,"clientWidth"),r=od(i.maxHeight,a,"clientHeight")}else t=e.clientWidth,s=e.clientHeight}return{width:t,height:s,maxWidth:n||fo,maxHeight:r||fo}}(e,t,s);let{width:c,height:d}=o;if("content-box"===r.boxSizing){const e=ud(r,"border","width"),t=ud(r,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-a.width),d=Math.max(0,n?c/n:d-a.height),c=md(Math.min(c,i,o.maxWidth)),d=md(Math.min(d,l,o.maxHeight)),c&&!d&&(d=md(c/2));return(void 0!==t||void 0!==s)&&n&&o.height&&d>o.height&&(d=o.height,c=md(Math.floor(d*n))),{width:c,height:d}}function fd(e,t,s){const n=t||1,r=md(e.height*n),a=md(e.width*n);e.height=md(e.height),e.width=md(e.width);const i=e.canvas;return i.style&&(s||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==n||i.height!==r||i.width!==a)&&(e.currentDevicePixelRatio=n,i.height=r,i.width=a,e.ctx.setTransform(n,0,0,n,0,0),!0)}const xd=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};id()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(qx){}return e}();function gd(e,t){const s=function(e,t){return cd(e).getPropertyValue(t)}(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function bd(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function vd(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:"middle"===n?s<.5?e.y:t.y:"after"===n?s<1?e.y:t.y:s>0?t.y:e.y}}function yd(e,t,s,n){const r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},i=bd(e,r,s),l=bd(r,a,s),o=bd(a,t,s),c=bd(i,l,s),d=bd(l,o,s);return bd(c,d,s)}function wd(e,t,s){return e?function(e,t){return{x:s=>e+e+t-s,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,s):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function jd(e,t){let s,n;"ltr"!==t&&"rtl"!==t||(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function Nd(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function kd(e){return"angle"===e?{between:Ro,compare:Do,normalize:To}:{between:Oo,compare:(e,t)=>e-t,normalize:e=>e}}function Sd(e){let{start:t,end:s,count:n,loop:r,style:a}=e;return{start:t%n,end:s%n,loop:r&&(s-t+1)%n===0,style:a}}function Ed(e,t,s){if(!s)return[e];const{property:n,start:r,end:a}=s,i=t.length,{compare:l,between:o,normalize:c}=kd(n),{start:d,end:u,loop:h,style:m}=function(e,t,s){const{property:n,start:r,end:a}=s,{between:i,normalize:l}=kd(n),o=t.length;let c,d,{start:u,end:h,loop:m}=e;if(m){for(u+=o,h+=o,c=0,d=o;c<d&&i(l(t[u%o][n]),r,a);++c)u--,h--;u%=o,h%=o}return h<u&&(h+=o),{start:u,end:h,loop:m,style:e.style}}(e,t,s),p=[];let f,x,g,b=!1,v=null;const y=()=>b||o(r,g,f)&&0!==l(r,g),w=()=>!b||0===l(a,f)||o(a,g,f);for(let j=d,N=d;j<=u;++j)x=t[j%i],x.skip||(f=c(x[n]),f!==g&&(b=o(f,r,a),null===v&&y()&&(v=0===l(f,r)?j:N),null!==v&&w()&&(p.push(Sd({start:v,end:j,loop:h,count:i,style:m})),v=null),N=j,g=f));return null!==v&&p.push(Sd({start:v,end:u,loop:h,count:i,style:m})),p}function Cd(e,t){const s=[],n=e.segments;for(let r=0;r<n.length;r++){const a=Ed(n[r],e.points,t);a.length&&s.push(...a)}return s}function _d(e,t,s,n){return n&&n.setContext&&s?function(e,t,s,n){const r=e._chart.getContext(),a=Ad(e.options),{_datasetIndex:i,options:{spanGaps:l}}=e,o=s.length,c=[];let d=a,u=t[0].start,h=u;function m(e,t,n,r){const a=l?-1:1;if(e!==t){for(e+=o;s[e%o].skip;)e-=a;for(;s[t%o].skip;)t+=a;e%o!==t%o&&(c.push({start:e%o,end:t%o,loop:n,style:r}),d=r,u=t%o)}}for(const p of t){u=l?u:p.start;let e,t=s[u%o];for(h=u+1;h<=p.end;h++){const a=s[h%o];e=Ad(n.setContext(zc(r,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%o,p1DataIndex:h%o,datasetIndex:i}))),Md(e,d)&&m(u,h-1,p.loop,d),t=a,d=e}u<h-1&&m(u,h-1,p.loop,d)}return c}(e,t,s,n):t}function Ad(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Md(e,t){if(!t)return!1;const s=[],n=function(e,t){return Zo(t)?(s.includes(t)||s.push(t),s.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Dd(e,t,s){return e.options.clip?e[s]:t[s]}function Td(e,t){const s=t._clip;if(s.disabled)return!1;const n=function(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:Dd(s,t,"left"),right:Dd(s,t,"right"),top:Dd(n,t,"top"),bottom:Dd(n,t,"bottom")}:t}(t,e.chartArea);return{left:!1===s.left?0:n.left-(!0===s.left?0:s.left),right:!1===s.right?e.width:n.right+(!0===s.right?0:s.right),top:!1===s.top?0:n.top-(!0===s.top?0:s.top),bottom:!1===s.bottom?e.height:n.bottom+(!0===s.bottom?0:s.bottom)}}class Rd{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,n){const r=t.listeners[n],a=t.duration;r.forEach(n=>n({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(s-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Vo.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((s,n)=>{if(!s.running||!s.items.length)return;const r=s.items;let a,i=r.length-1,l=!1;for(;i>=0;--i)a=r[i],a._active?(a._total>s.duration&&(s.duration=a._total),a.tick(e),l=!0):(r[i]=r[r.length-1],r.pop());l&&(n.draw(),this._notify(n,s,e,"progress")),r.length||(s.running=!1,this._notify(n,s,e,"complete"),s.initial=!1),t+=r.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let n=s.length-1;for(;n>=0;--n)s[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Pd=new Rd;const Od="transparent",Ld={boolean:(e,t,s)=>s>.5?t:e,color(e,t,s){const n=$o(e||Od),r=n.valid&&$o(t||Od);return r&&r.valid?r.mix(n,s).hexString():t},number:(e,t,s)=>e+(t-e)*s};class Id{constructor(e,t,s,n){const r=t[s];n=Ic([e.to,n,r,e.from]);const a=Ic([e.from,r,n]);this._active=!0,this._fn=e.fn||Ld[e.type||typeof a],this._easing=Qo[e.easing]||Qo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=a,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const n=this._target[this._prop],r=s-this._start,a=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Ic([e.to,t,n,e.from]),this._from=Ic([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,n=this._prop,r=this._from,a=this._loop,i=this._to;let l;if(this._active=r!==i&&(a||t<s),!this._active)return this._target[n]=i,void this._notify(!0);t<0?this._target[n]=r:(l=t/s%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(r,i,l))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let n=0;n<s.length;n++)s[n][t]()}}class zd{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ql(e))return;const t=Object.keys(hc.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const r=e[n];if(!ql(r))return;const a={};for(const e of t)a[e]=r[e];(Wl(r.properties)&&r.properties||[n]).forEach(e=>{e!==n&&s.has(e)||s.set(e,a)})})}_animateOptions(e,t){const s=t.options,n=function(e,t){if(!t)return;let s=e.options;if(!s)return void(e.options=t);s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}}));return s}(e,s);if(!n)return[];const r=this._createAnimations(n,s);return s.$shared&&function(e,t){const s=[],n=Object.keys(t);for(let r=0;r<n.length;r++){const t=e[n[r]];t&&t.active()&&s.push(t.wait())}return Promise.all(s)}(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,t){const s=this._properties,n=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),i=Date.now();let l;for(l=a.length-1;l>=0;--l){const o=a[l];if("$"===o.charAt(0))continue;if("options"===o){n.push(...this._animateOptions(e,t));continue}const c=t[o];let d=r[o];const u=s.get(o);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(r[o]=d=new Id(u,e,o,c),n.push(d)):e[o]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const s=this._createAnimations(e,t);return s.length?(Pd.add(this._chart,s),!0):void 0}}function Fd(e,t){const s=e&&e.options||{},n=s.reverse,r=void 0===s.min?t:0,a=void 0===s.max?t:0;return{start:n?a:r,end:n?r:a}}function Ud(e,t){const s=[],n=e._getSortedDatasetMetas(t);let r,a;for(r=0,a=n.length;r<a;++r)s.push(n[r].index);return s}function Bd(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=e.keys,a="single"===n.mode;let i,l,o,c;if(null===t)return;let d=!1;for(i=0,l=r.length;i<l;++i){if(o=+r[i],o===s){if(d=!0,n.all)continue;break}c=e.values[o],Yl(c)&&(a||0===t||wo(t)===wo(c))&&(t+=c)}return d||n.all?t:0}function Vd(e,t){const s=e&&e.options.stacked;return s||void 0===s&&void 0!==t.stack}function Hd(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function Wd(e,t,s,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const t=e[r.index];if(s&&t>0||!s&&t<0)return r.index}return null}function qd(e,t){const{chart:s,_cachedMeta:n}=e,r=s._stacks||(s._stacks={}),{iScale:a,vScale:i,index:l}=n,o=a.axis,c=i.axis,d=function(e,t,s){return"".concat(e.id,".").concat(t.id,".").concat(s.stack||s.type)}(a,i,n),u=t.length;let h;for(let m=0;m<u;++m){const e=t[m],{[o]:s,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=Hd(r,d,s),h[l]=a,h._top=Wd(h,i,!0,n.type),h._bottom=Wd(h,i,!1,n.type);(h._visualValues||(h._visualValues={}))[l]=a}}function Yd(e,t){const s=e.scales;return Object.keys(s).filter(e=>s[e].axis===t).shift()}function Jd(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][s])return;delete t[n][s],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[s]&&delete t[n]._visualValues[s]}}}const Kd=e=>"reset"===e||"none"===e,Gd=(e,t)=>t?e:Object.assign({},e);class Xd{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Vd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),n=(e,t,s,n)=>"x"===e?t:"r"===e?n:s,r=t.xAxisID=Kl(s.xAxisID,Yd(e,"x")),a=t.yAxisID=Kl(s.yAxisID,Yd(e,"y")),i=t.rAxisID=Kl(s.rAxisID,Yd(e,"r")),l=t.indexAxis,o=t.iAxisID=n(l,r,a,i),c=t.vAxisID=n(l,a,r,i);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(o),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Uo(this._data,this),e._stacked&&Jd(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(ql(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:s,vScale:n}=t,r="x"===s.axis?"x":"y",a="x"===n.axis?"x":"y",i=Object.keys(e),l=new Array(i.length);let o,c,d;for(o=0,c=i.length;o<c;++o)d=i[o],l[o]={[r]:d,[a]:e[d]};return l}(t,e)}else if(s!==t){if(s){Uo(s,this);const e=this._cachedMeta;Jd(e),e._parsed=[]}t&&Object.isExtensible(t)&&(r=this,(n=t)._chartjs?n._chartjs.listeners.push(r):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[r]}}),Fo.forEach(e=>{const t="_onData"+lo(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];const i=s.apply(this,r);return n._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...r)}),i}})}))),this._syncList=[],this._data=t}var n,r}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let n=!1;this._dataCheck();const r=t._stacked;t._stacked=Vd(t.vScale,t),t.stack!==s.stack&&(n=!0,Jd(t),t.stack=s.stack),this._resyncElements(e),(n||r!==t._stacked)&&(qd(this,t._parsed),t._stacked=Vd(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:n}=this,{iScale:r,_stacked:a}=s,i=r.axis;let l,o,c,d=0===e&&t===n.length||s._sorted,u=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=n,s._sorted=!0,c=n;else{c=Wl(n[e])?this.parseArrayData(s,n,e,t):ql(n[e])?this.parseObjectData(s,n,e,t):this.parsePrimitiveData(s,n,e,t);const r=()=>null===o[i]||u&&o[i]<u[i];for(l=0;l<t;++l)s._parsed[l+e]=o=c[l],d&&(r()&&(d=!1),u=o);s._sorted=d}a&&qd(this,c)}parsePrimitiveData(e,t,s,n){const{iScale:r,vScale:a}=e,i=r.axis,l=a.axis,o=r.getLabels(),c=r===a,d=new Array(n);let u,h,m;for(u=0,h=n;u<h;++u)m=u+s,d[u]={[i]:c||r.parse(o[m],m),[l]:a.parse(t[m],m)};return d}parseArrayData(e,t,s,n){const{xScale:r,yScale:a}=e,i=new Array(n);let l,o,c,d;for(l=0,o=n;l<o;++l)c=l+s,d=t[c],i[l]={x:r.parse(d[0],c),y:a.parse(d[1],c)};return i}parseObjectData(e,t,s,n){const{xScale:r,yScale:a}=e,{xAxisKey:i="x",yAxisKey:l="y"}=this._parsing,o=new Array(n);let c,d,u,h;for(c=0,d=n;c<d;++c)u=c+s,h=t[u],o[c]={x:r.parse(io(h,i),u),y:a.parse(io(h,l),u)};return o}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const n=this.chart,r=this._cachedMeta,a=t[e.axis];return Bd({keys:Ud(n,!0),values:t._stacks[e.axis]._visualValues},a,r.index,{mode:s})}updateRangeFromParsed(e,t,s,n){const r=s[t.axis];let a=null===r?NaN:r;const i=n&&s._stacks[t.axis];n&&i&&(n.values=i,a=Bd(n,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const s=this._cachedMeta,n=s._parsed,r=s._sorted&&e===s.iScale,a=n.length,i=this._getOtherScale(e),l=((e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Ud(s,!0),values:null})(t,s,this.chart),o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:s,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?s:Number.POSITIVE_INFINITY}}(i);let u,h;function m(){h=n[u];const t=h[i.axis];return!Yl(h[e.axis])||c>t||d<t}for(u=0;u<a&&(m()||(this.updateRangeFromParsed(o,e,h,l),!r));++u);if(r)for(u=a-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(o,e,h,l);break}return o}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let n,r,a;for(n=0,r=t.length;n<r;++n)a=t[n][e.axis],Yl(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,n=t.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,s,n,r;return ql(e)?(t=e.top,s=e.right,n=e.bottom,r=e.left):t=s=n=r=e,{top:t,right:s,bottom:n,left:r,disabled:!1===e}}(Kl(this.options.clip,function(e,t,s){if(!1===s)return!1;const n=Fd(e,s),r=Fd(t,s);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,n=s.data||[],r=t.chartArea,a=[],i=this._drawStart||0,l=this._drawCount||n.length-i,o=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(e,r,i,l),c=i;c<i+l;++c){const t=n[c];t.hidden||(t.active&&o?a.push(t):t.draw(e,r))}for(c=0;c<a.length;++c)a[c].draw(e,r)}getStyle(e,t){const s=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const n=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,s){return zc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=n.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return zc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2?arguments[2]:void 0;const n="active"===t,r=this._cachedDataOpts,a=e+"-"+t,i=r[a],l=this.enableOptionSharing&&oo(s);if(i)return Gd(i,l);const o=this.chart.config,c=o.datasetElementScopeKeys(this._type,e),d=n?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=o.getOptionScopes(this.getDataset(),c),h=Object.keys(hc.elements[e]),m=o.resolveNamedOptions(u,h,()=>this.getContext(s,n,t),d);return m.$shared&&(m.$shared=l,r[a]=Object.freeze(Gd(m,l))),m}_resolveAnimations(e,t,s){const n=this.chart,r=this._cachedDataOpts,a="animation-".concat(t),i=r[a];if(i)return i;let l;if(!1!==n.options.animation){const n=this.chart.config,r=n.datasetAnimationScopeKeys(this._type,t),a=n.getOptionScopes(this.getDataset(),r);l=n.createResolver(a,this.getContext(e,s,t))}const o=new zd(n,l&&l.animations);return l&&l._cacheable&&(r[a]=Object.freeze(o)),o}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Kd(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),n=this._sharedOptions,r=this.getSharedOptions(s),a=this.includeOptions(t,r)||r!==n;return this.updateSharedOptions(r,t,s),{sharedOptions:r,includeOptions:a}}updateElement(e,t,s,n){Kd(n)?Object.assign(e,s):this._resolveAnimations(t,n).update(e,s)}updateSharedOptions(e,t,s){e&&!Kd(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,n){e.active=n;const r=this.getStyle(t,n);this._resolveAnimations(t,s,n).update(e,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[i,l,o]of this._syncList)this[i](l,o);this._syncList=[];const n=s.length,r=t.length,a=Math.min(r,n);a&&this.parse(0,a),r>n?this._insertElements(n,r-n,e):r<n&&this._removeElements(r,n-r)}_insertElements(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=this._cachedMeta,r=n.data,a=e+t;let i;const l=e=>{for(e.length+=t,i=e.length-1;i>=a;i--)e[i]=e[i-t]};for(l(r),i=e;i<a;++i)r[i]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(e,t),s&&this.updateElements(r,e,t,"reset")}updateElements(e,t,s,n){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const n=s._parsed.splice(e,t);s._stacked&&Jd(s,n)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,n]=e;this[t](s,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Qd(e){const t=e.iScale,s=function(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,r=s.length;t<r;t++)n=n.concat(s[t].controller.getAllParsedValues(e));e._cache.$bar=Bo(n.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let n,r,a,i,l=t._length;const o=()=>{32767!==a&&-32768!==a&&(oo(i)&&(l=Math.min(l,Math.abs(a-i)||l)),i=a)};for(n=0,r=s.length;n<r;++n)a=t.getPixelForValue(s[n]),o();for(i=void 0,n=0,r=t.ticks.length;n<r;++n)a=t.getPixelForTick(n),o();return l}function Zd(e,t,s,n){return Wl(e)?function(e,t,s,n){const r=s.parse(e[0],n),a=s.parse(e[1],n),i=Math.min(r,a),l=Math.max(r,a);let o=i,c=l;Math.abs(i)>Math.abs(l)&&(o=l,c=i),t[s.axis]=c,t._custom={barStart:o,barEnd:c,start:r,end:a,min:i,max:l}}(e,t,s,n):t[s.axis]=s.parse(e,n),t}function $d(e,t,s,n){const r=e.iScale,a=e.vScale,i=r.getLabels(),l=r===a,o=[];let c,d,u,h;for(c=s,d=s+n;c<d;++c)h=t[c],u={},u[r.axis]=l||r.parse(i[c],c),o.push(Zd(h,u,a,c));return o}function eu(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function tu(e,t,s,n){let r=t.borderSkipped;const a={};if(!r)return void(e.borderSkipped=a);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:l,reverse:o,top:c,bottom:d}=function(e){let t,s,n,r,a;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(r="end",a="start"):(r="start",a="end"),{start:s,end:n,reverse:t,top:r,bottom:a}}(e);"middle"===r&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?r=c:(s._bottom||0)===n?r=d:(a[su(d,i,l,o)]=!0,r=c)),a[su(r,i,l,o)]=!0,e.borderSkipped=a}function su(e,t,s,n){var r,a,i;return n?(i=s,e=nu(e=(r=e)===(a=t)?i:r===i?a:r,s,t)):e=nu(e,t,s),e}function nu(e,t,s){return"start"===e?t:"end"===e?s:e}function ru(e,t,s){let{inflateAmount:n}=t;e.inflateAmount="auto"===n?1===s?.33:0:n}l(Xd,"defaults",{}),l(Xd,"datasetElementType",null),l(Xd,"dataElementType",null);class au extends Xd{parsePrimitiveData(e,t,s,n){return $d(e,t,s,n)}parseArrayData(e,t,s,n){return $d(e,t,s,n)}parseObjectData(e,t,s,n){const{iScale:r,vScale:a}=e,{xAxisKey:i="x",yAxisKey:l="y"}=this._parsing,o="x"===r.axis?i:l,c="x"===a.axis?i:l,d=[];let u,h,m,p;for(u=s,h=s+n;u<h;++u)p=t[u],m={},m[r.axis]=r.parse(io(p,o),u),d.push(Zd(io(p,c),m,a,u));return d}updateRangeFromParsed(e,t,s,n){super.updateRangeFromParsed(e,t,s,n);const r=s._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:n}=t,r=this.getParsed(e),a=r._custom,i=eu(a)?"["+a.start+", "+a.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,n){const r="reset"===n,{index:a,_cachedMeta:{vScale:i}}=this,l=i.getBasePixel(),o=i.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let h=t;h<t+s;h++){const t=this.getParsed(h),s=r||Hl(t[i.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,c),p=(t._stacks||{})[i.axis],f={horizontal:o,base:s.base,enableBorderRadius:!p||eu(t._custom)||a===p._top||a===p._bottom,x:o?s.head:m.center,y:o?m.center:s.head,height:o?m.size:Math.abs(s.size),width:o?Math.abs(s.size):m.size};u&&(f.options=d||this.resolveDataElementOptions(h,e[h].active?"active":n));const x=f.options||e[h].options;tu(f,x,p,a),ru(f,x,c.ratio),this.updateElement(e[h],h,f,n)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,n=s.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),r=s.options.stacked,a=[],i=this._cachedMeta.controller.getParsed(t),l=i&&i[s.axis],o=e=>{const t=e._parsed.find(e=>e[s.axis]===l),n=t&&t[e.vScale.axis];if(Hl(n)||isNaN(n))return!0};for(const c of n)if((void 0===t||!o(c))&&((!1===r||-1===a.indexOf(c.stack)||void 0===r&&void 0===c.stack)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Kl("x"===this.chart.options.indexAxis?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const n=this._getStacks(e,s),r=void 0!==t?n.indexOf(t):-1;return-1===r?n.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,n=[];let r,a;for(r=0,a=t.data.length;r<a;++r)n.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const i=e.barThickness;return{min:i||Qd(t),pixels:n,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:n},options:{base:r,minBarLength:a}}=this,i=r||0,l=this.getParsed(e),o=l._custom,c=eu(o);let d,u,h=l[t.axis],m=0,p=s?this.applyStack(t,l,s):h;p!==h&&(m=p-h,p=h),c&&(h=o.barStart,p=o.barEnd-o.barStart,0!==h&&wo(h)!==wo(o.barEnd)&&(m=0),m+=h);const f=Hl(r)||c?m:r;let x=t.getPixelForValue(f);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(m+p):x,u=d-x,Math.abs(u)<a){u=function(e,t,s){return 0!==e?wo(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}(u,t,i)*a,h===i&&(x-=u/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),o=Math.min(e,r),m=Math.max(e,r);x=Math.max(Math.min(x,m),o),d=x+u,s&&!c&&(l._stacks[t.axis]._visualValues[n]=t.getValueForPixel(d)-t.getValueForPixel(x))}if(x===t.getPixelForValue(i)){const e=wo(u)*t.getLineWidthForValue(i)/2;x+=e,u-=e}return{size:u,base:x,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const s=t.scale,n=this.options,r=n.skipNull,a=Kl(n.maxBarThickness,1/0);let i,l;const o=this._getAxisCount();if(t.grouped){const s=r?this._getStackCount(e):t.stackCount,c="flex"===n.barThickness?function(e,t,s,n){const r=t.pixels,a=r[e];let i=e>0?r[e-1]:null,l=e<r.length-1?r[e+1]:null;const o=s.categoryPercentage;null===i&&(i=a-(null===l?t.end-t.start:l-a)),null===l&&(l=a+a-i);const c=a-(a-Math.min(i,l))/2*o;return{chunk:Math.abs(l-i)/2*o/n,ratio:s.barPercentage,start:c}}(e,t,n,s*o):function(e,t,s,n){const r=s.barThickness;let a,i;return Hl(r)?(a=t.min*s.categoryPercentage,i=s.barPercentage):(a=r*n,i=1),{chunk:a/n,ratio:i,start:t.pixels[e]-a/2}}(e,t,n,s*o),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(Kl(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+u;i=c.start+c.chunk*h+c.chunk/2,l=Math.min(a,c.chunk*c.ratio)}else i=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(a,t.min*t.ratio);return{base:i-l/2,head:i+l/2,center:i,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,n=s.length;let r=0;for(;r<n;++r)null===this.getParsed(r)[t.axis]||s[r].hidden||s[r].draw(this._ctx)}}l(au,"id","bar"),l(au,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),l(au,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class iu extends Xd{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,s,n){const r=super.parsePrimitiveData(e,t,s,n);for(let a=0;a<r.length;a++)r[a]._custom=this.resolveDataElementOptions(a+s).radius;return r}parseArrayData(e,t,s,n){const r=super.parseArrayData(e,t,s,n);for(let a=0;a<r.length;a++){const e=t[s+a];r[a]._custom=Kl(e[2],this.resolveDataElementOptions(a+s).radius)}return r}parseObjectData(e,t,s,n){const r=super.parseObjectData(e,t,s,n);for(let a=0;a<r.length;a++){const e=t[s+a];r[a]._custom=Kl(e&&e.r&&+e.r,this.resolveDataElementOptions(a+s).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:r}=t,a=this.getParsed(e),i=n.getLabelForValue(a.x),l=r.getLabelForValue(a.y),o=a._custom;return{label:s[e]||"",value:"("+i+", "+l+(o?", "+o:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,s,n){const r="reset"===n,{iScale:a,vScale:i}=this._cachedMeta,{sharedOptions:l,includeOptions:o}=this._getSharedOptions(t,n),c=a.axis,d=i.axis;for(let u=t;u<t+s;u++){const t=e[u],s=!r&&this.getParsed(u),h={},m=h[c]=r?a.getPixelForDecimal(.5):a.getPixelForValue(s[c]),p=h[d]=r?i.getBasePixel():i.getPixelForValue(s[d]);h.skip=isNaN(m)||isNaN(p),o&&(h.options=l||this.resolveDataElementOptions(u,t.active?"active":n),r&&(h.options.radius=0)),this.updateElement(t,u,h,n)}}resolveDataElementOptions(e,t){const s=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const r=n.radius;return"active"!==t&&(n.radius=0),n.radius+=Kl(s&&s._custom,r),n}}l(iu,"id","bubble"),l(iu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),l(iu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class lu extends Xd{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=s;else{let r,a,i=e=>+s[e];if(ql(s[e])){const{key:e="value"}=this._parsing;i=t=>+io(s[t],e)}for(r=e,a=e+t;r<a;++r)n._parsed[r]=i(r)}}_getRotation(){return Eo(this.options.rotation-90)}_getCircumference(){return Eo(this.options.circumference)}_getRotationExtents(){let e=mo,t=-mo;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const n=this.chart.getDatasetMeta(s).controller,r=n._getRotation(),a=n._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,n=this._cachedMeta,r=n.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,i=Math.max((Math.min(s.width,s.height)-a)/2,0),l=Math.min((o=this.options.cutout,c=i,"string"===typeof o&&o.endsWith("%")?parseFloat(o)/100:+o/c),1);var o,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:p,offsetX:f,offsetY:x}=function(e,t,s){let n=1,r=1,a=0,i=0;if(t<mo){const l=e,o=l+t,c=Math.cos(l),d=Math.sin(l),u=Math.cos(o),h=Math.sin(o),m=(e,t,n)=>Ro(e,l,o,!0)?1:Math.max(t,t*s,n,n*s),p=(e,t,n)=>Ro(e,l,o,!0)?-1:Math.min(t,t*s,n,n*s),f=m(0,c,u),x=m(go,d,h),g=p(ho,c,u),b=p(ho+go,d,h);n=(f-g)/2,r=(x-b)/2,a=-(f+g)/2,i=-(x+b)/2}return{ratioX:n,ratioY:r,offsetX:a,offsetY:i}}(h,u,l),g=(s.width-a)/m,b=(s.height-a)/p,v=Math.max(Math.min(g,b)/2,0),y=Gl(this.options.radius,v),w=(y-Math.max(y*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=x*y,n.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const s=this.options,n=this._cachedMeta,r=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*r/mo)}updateElements(e,t,s,n){const r="reset"===n,a=this.chart,i=a.chartArea,l=a.options.animation,o=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=r&&l.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(t,n);let f,x=this._getRotation();for(f=0;f<t;++f)x+=this._circumference(f,r);for(f=t;f<t+s;++f){const t=this._circumference(f,r),s=e[f],a={x:o+this.offsetX,y:c+this.offsetY,startAngle:x,endAngle:x+t,circumference:t,outerRadius:h,innerRadius:u};p&&(a.options=m||this.resolveDataElementOptions(f,s.active?"active":n)),x+=t,this.updateElement(s,f,a,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s,n=0;for(s=0;s<t.length;s++){const r=e._parsed[s];null===r||isNaN(r)||!this.chart.getDataVisibility(s)||t[s].hidden||(n+=Math.abs(r))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?mo*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,n=s.data.labels||[],r=rc(t._parsed[e],s.options.locale);return{label:n[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const s=this.chart;let n,r,a,i,l;if(!e)for(n=0,r=s.data.datasets.length;n<r;++n)if(s.isDatasetVisible(n)){a=s.getDatasetMeta(n),e=a.data,i=a.controller;break}if(!e)return 0;for(n=0,r=e.length;n<r;++n)l=i.resolveDataElementOptions(n),"inner"!==l.borderAlign&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,n=e.length;s<n;++s){const e=this.resolveDataElementOptions(s);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(Kl(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}l(lu,"id","doughnut"),l(lu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),l(lu,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),l(lu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:s,textAlign:n,color:r,useBorderRadius:a,borderRadius:i}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,l)=>{const o=e.getDatasetMeta(0).controller.getStyle(l);return{text:t,fillStyle:o.backgroundColor,fontColor:r,hidden:!e.getDataVisibility(l),lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:o.borderWidth,strokeStyle:o.borderColor,textAlign:n,pointStyle:s,borderRadius:a&&(i||o.borderRadius),index:l}}):[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}});class ou extends Xd{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:n=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:i,count:l}=Yo(t,n,a);this._drawStart=i,this._drawCount=l,Jo(t)&&(i=0,l=n.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=n;const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0),o.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:o},e),this.updateElements(n,i,l,e)}updateElements(e,t,s,n){const r="reset"===n,{iScale:a,vScale:i,_stacked:l,_dataset:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=a.axis,h=i.axis,{spanGaps:m,segment:p}=this.options,f=ko(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||r||"none"===n,g=t+s,b=e.length;let v=t>0&&this.getParsed(t-1);for(let y=0;y<b;++y){const s=e[y],m=x?s:{};if(y<t||y>=g){m.skip=!0;continue}const b=this.getParsed(y),w=Hl(b[h]),j=m[u]=a.getPixelForValue(b[u],y),N=m[h]=r||w?i.getBasePixel():i.getPixelForValue(l?this.applyStack(i,b,l):b[h],y);m.skip=isNaN(j)||isNaN(N)||w,m.stop=y>0&&Math.abs(b[u]-v[u])>f,p&&(m.parsed=b,m.raw=o.data[y]),d&&(m.options=c||this.resolveDataElementOptions(y,s.active?"active":n)),x||this.updateElement(s,y,m,n),v=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}l(ou,"id","line"),l(ou,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),l(ou,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class cu extends Xd{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,n=s.data.labels||[],r=rc(t._parsed[e].r,s.options.locale);return{label:n[e]||"",value:r}}parseObjectData(e,t,s,n){return Zc.bind(this)(e,t,s,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,s)=>{const n=this.getParsed(s).r;!isNaN(n)&&this.chart.getDataVisibility(s)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,s=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(n/2,0),a=(r-Math.max(s.cutoutPercentage?r/100*s.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,s,n){const r="reset"===n,a=this.chart,i=a.options.animation,l=this._cachedMeta.rScale,o=l.xCenter,c=l.yCenter,d=l.getIndexAngle(0)-.5*ho;let u,h=d;const m=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,n,m);for(u=t;u<t+s;u++){const t=e[u];let s=h,p=h+this._computeAngle(u,n,m),f=a.getDataVisibility(u)?l.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=p,r&&(i.animateScale&&(f=0),i.animateRotate&&(s=p=d));const x={x:o,y:c,innerRadius:0,outerRadius:f,startAngle:s,endAngle:p,options:this.resolveDataElementOptions(u,t.active?"active":n)};this.updateElement(t,u,x,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,s){return this.chart.getDataVisibility(e)?Eo(this.resolveDataElementOptions(e,t).angle||s):0}}l(cu,"id","polarArea"),l(cu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),l(cu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:n}}=e.legend.options;return t.labels.map((t,r)=>{const a=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:n,lineWidth:a.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class du extends lu{}l(du,"id","pie"),l(du,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class uu extends Xd{getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,n){return Zc.bind(this)(e,t,s,n)}update(e){const t=this._cachedMeta,s=t.dataset,n=t.data||[],r=t.iScale.getLabels();if(s.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===n.length,options:t};this.updateElement(s,void 0,a,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,s,n){const r=this._cachedMeta.rScale,a="reset"===n;for(let i=t;i<t+s;i++){const t=e[i],s=this.resolveDataElementOptions(i,t.active?"active":n),l=r.getPointPositionForValue(i,this.getParsed(i).r),o=a?r.xCenter:l.x,c=a?r.yCenter:l.y,d={x:o,y:c,angle:l.angle,skip:isNaN(o)||isNaN(c),options:s};this.updateElement(t,i,d,n)}}}l(uu,"id","radar"),l(uu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),l(uu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class hu extends Xd{getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:n,yScale:r}=t,a=this.getParsed(e),i=n.getLabelForValue(a.x),l=r.getLabelForValue(a.y);return{label:s[e]||"",value:"("+i+", "+l+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,n=this.chart._animationsDisabled;let{start:r,count:a}=Yo(t,s,n);if(this._drawStart=r,this._drawCount=a,Jo(t)&&(r=0,a=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:a}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const i=this.resolveDatasetElementOptions(e);i.segment=this.options.segment,this.updateElement(r,void 0,{animated:!n,options:i},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,r,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,n){const r="reset"===n,{iScale:a,vScale:i,_stacked:l,_dataset:o}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),h=a.axis,m=i.axis,{spanGaps:p,segment:f}=this.options,x=ko(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||"none"===n;let b=t>0&&this.getParsed(t-1);for(let v=t;v<t+s;++v){const t=e[v],s=this.getParsed(v),c=g?t:{},p=Hl(s[m]),y=c[h]=a.getPixelForValue(s[h],v),w=c[m]=r||p?i.getBasePixel():i.getPixelForValue(l?this.applyStack(i,s,l):s[m],v);c.skip=isNaN(y)||isNaN(w)||p,c.stop=v>0&&Math.abs(s[h]-b[h])>x,f&&(c.parsed=s,c.raw=o.data[v]),u&&(c.options=d||this.resolveDataElementOptions(v,t.active?"active":n)),g||this.updateElement(t,v,c,n),b=s}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}const s=e.dataset,n=s.options&&s.options.borderWidth||0;if(!t.length)return n;const r=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,r,a)/2}}l(hu,"id","scatter"),l(hu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),l(hu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var mu=Object.freeze({__proto__:null,BarController:au,BubbleController:iu,DoughnutController:lu,LineController:ou,PieController:du,PolarAreaController:cu,RadarController:uu,ScatterController:hu});function pu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class fu{static override(e){Object.assign(fu.prototype,e)}constructor(e){l(this,"options",void 0),this.options=e||{}}init(){}formats(){return pu()}parse(){return pu()}format(){return pu()}add(){return pu()}diff(){return pu()}startOf(){return pu()}endOf(){return pu()}}var xu=fu;function gu(e,t,s,n){const{controller:r,data:a,_sorted:i}=e,l=r._cachedMeta.iScale,o=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&"r"!==t&&i&&a.length){const i=l._reversePixels?zo:Io;if(!n){const n=i(a,t,s);if(o){const{vScale:t}=r._cachedMeta,{_parsed:s}=e,a=s.slice(0,n.lo+1).reverse().findIndex(e=>!Hl(e[t.axis]));n.lo-=Math.max(0,a);const i=s.slice(n.hi).findIndex(e=>!Hl(e[t.axis]));n.hi+=Math.max(0,i)}return n}if(r._sharedOptions){const e=a[0],n="function"===typeof e.getRange&&e.getRange(t);if(n){const e=i(a,t,s-n),r=i(a,t,s+n);return{lo:e.lo,hi:r.hi}}}}return{lo:0,hi:a.length-1}}function bu(e,t,s,n,r){const a=e.getSortedVisibleDatasetMetas(),i=s[t];for(let l=0,o=a.length;l<o;++l){const{index:e,data:s}=a[l],{lo:o,hi:c}=gu(a[l],t,i,r);for(let t=o;t<=c;++t){const r=s[t];r.skip||n(r,e,t)}}}function vu(e,t,s,n,r){const a=[];if(!r&&!e.isPointInArea(t))return a;return bu(e,s,t,function(s,i,l){(r||vc(s,e.chartArea,0))&&s.inRange(t.x,t.y,n)&&a.push({element:s,datasetIndex:i,index:l})},!0),a}function yu(e,t,s,n,r,a){let i=[];const l=function(e){const t=-1!==e.indexOf("x"),s=-1!==e.indexOf("y");return function(e,n){const r=t?Math.abs(e.x-n.x):0,a=s?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(s);let o=Number.POSITIVE_INFINITY;return bu(e,s,t,function(s,c,d){const u=s.inRange(t.x,t.y,r);if(n&&!u)return;const h=s.getCenterPoint(r);if(!(!!a||e.isPointInArea(h))&&!u)return;const m=l(t,h);m<o?(i=[{element:s,datasetIndex:c,index:d}],o=m):m===o&&i.push({element:s,datasetIndex:c,index:d})}),i}function wu(e,t,s,n,r,a){return a||e.isPointInArea(t)?"r"!==s||n?yu(e,t,s,n,r,a):function(e,t,s,n){let r=[];return bu(e,s,t,function(e,s,a){const{startAngle:i,endAngle:l}=e.getProps(["startAngle","endAngle"],n),{angle:o}=Ao(e,{x:t.x,y:t.y});Ro(o,i,l)&&r.push({element:e,datasetIndex:s,index:a})}),r}(e,t,s,r):[]}function ju(e,t,s,n,r){const a=[],i="x"===s?"inXRange":"inYRange";let l=!1;return bu(e,s,t,(e,n,o)=>{e[i]&&e[i](t[s],r)&&(a.push({element:e,datasetIndex:n,index:o}),l=l||e.inRange(t.x,t.y,r))}),n&&!l?[]:a}var Nu={evaluateInteractionItems:bu,modes:{index(e,t,s,n){const r=hd(t,e),a=s.axis||"x",i=s.includeInvisible||!1,l=s.intersect?vu(e,r,a,n,i):wu(e,r,a,!1,n,i),o=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=l[0].index,s=e.data[t];s&&!s.skip&&o.push({element:s,datasetIndex:e.index,index:t})}),o):[]},dataset(e,t,s,n){const r=hd(t,e),a=s.axis||"xy",i=s.includeInvisible||!1;let l=s.intersect?vu(e,r,a,n,i):wu(e,r,a,!1,n,i);if(l.length>0){const t=l[0].datasetIndex,s=e.getDatasetMeta(t).data;l=[];for(let e=0;e<s.length;++e)l.push({element:s[e],datasetIndex:t,index:e})}return l},point:(e,t,s,n)=>vu(e,hd(t,e),s.axis||"xy",n,s.includeInvisible||!1),nearest(e,t,s,n){const r=hd(t,e),a=s.axis||"xy",i=s.includeInvisible||!1;return wu(e,r,a,s.intersect,n,i)},x:(e,t,s,n)=>ju(e,hd(t,e),"x",s.intersect,n),y:(e,t,s,n)=>ju(e,hd(t,e),"y",s.intersect,n)}};const ku=["left","top","right","bottom"];function Su(e,t){return e.filter(e=>e.pos===t)}function Eu(e,t){return e.filter(e=>-1===ku.indexOf(e.pos)&&e.box.axis===t)}function Cu(e,t){return e.sort((e,s)=>{const n=t?s:e,r=t?e:s;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function _u(e,t){const s=function(e){const t={};for(const s of e){const{stack:e,pos:n,stackWeight:r}=s;if(!e||!ku.includes(n))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let a,i,l;for(a=0,i=e.length;a<i;++a){l=e[a];const{fullSize:i}=l.box,o=s[l.stack],c=o&&l.stackWeight/o.weight;l.horizontal?(l.width=c?c*n:i&&t.availableWidth,l.height=r):(l.width=n,l.height=c?c*r:i&&t.availableHeight)}return s}function Au(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function Mu(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Du(e,t,s,n){const{pos:r,box:a}=s,i=e.maxPadding;if(!ql(r)){s.size&&(e[r]-=s.size);const t=n[s.stack]||{size:0,count:1};t.size=Math.max(t.size,s.horizontal?a.height:a.width),s.size=t.size/t.count,e[r]+=s.size}a.getPadding&&Mu(i,a.getPadding());const l=Math.max(0,t.outerWidth-Au(i,e,"left","right")),o=Math.max(0,t.outerHeight-Au(i,e,"top","bottom")),c=l!==e.w,d=o!==e.h;return e.w=l,e.h=o,s.horizontal?{same:c,other:d}:{same:d,other:c}}function Tu(e,t){const s=t.maxPadding;function n(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{n[e]=Math.max(t[e],s[e])}),n}return n(e?["left","right"]:["top","bottom"])}function Ru(e,t,s,n){const r=[];let a,i,l,o,c,d;for(a=0,i=e.length,c=0;a<i;++a){l=e[a],o=l.box,o.update(l.width||t.w,l.height||t.h,Tu(l.horizontal,t));const{same:i,other:u}=Du(t,s,l,n);c|=i&&r.length,d=d||u,o.fullSize||r.push(l)}return c&&Ru(r,t,s,n)||d}function Pu(e,t,s,n,r){e.top=s,e.left=t,e.right=t+n,e.bottom=s+r,e.width=n,e.height=r}function Ou(e,t,s,n){const r=s.padding;let{x:a,y:i}=t;for(const l of e){const e=l.box,o=n[l.stack]||{count:1,placed:0,weight:1},c=l.stackWeight/o.weight||1;if(l.horizontal){const n=t.w*c,a=o.size||e.height;oo(o.start)&&(i=o.start),e.fullSize?Pu(e,r.left,i,s.outerWidth-r.right-r.left,a):Pu(e,t.left+o.placed,i,n,a),o.start=i,o.placed+=n,i=e.bottom}else{const n=t.h*c,i=o.size||e.width;oo(o.start)&&(a=o.start),e.fullSize?Pu(e,a,r.top,i,s.outerHeight-r.bottom-r.top):Pu(e,a,t.top+o.placed,i,n),o.start=a,o.placed+=n,a=e.right}}t.x=a,t.y=i}var Lu={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;-1!==s&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const r=Oc(e.options.layout.padding),a=Math.max(t-r.width,0),i=Math.max(s-r.height,0),l=function(e){const t=function(e){const t=[];let s,n,r,a,i,l;for(s=0,n=(e||[]).length;s<n;++s)r=e[s],({position:a,options:{stack:i,stackWeight:l=1}}=r),t.push({index:s,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:i&&a+i,stackWeight:l});return t}(e),s=Cu(t.filter(e=>e.box.fullSize),!0),n=Cu(Su(t,"left"),!0),r=Cu(Su(t,"right")),a=Cu(Su(t,"top"),!0),i=Cu(Su(t,"bottom")),l=Eu(t,"x"),o=Eu(t,"y");return{fullSize:s,leftAndTop:n.concat(a),rightAndBottom:r.concat(o).concat(i).concat(l),chartArea:Su(t,"chartArea"),vertical:n.concat(r).concat(o),horizontal:a.concat(i).concat(l)}}(e.boxes),o=l.vertical,c=l.horizontal;Ql(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=o.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:s,padding:r,availableWidth:a,availableHeight:i,vBoxMaxWidth:a/2/d,hBoxMaxHeight:i/2}),h=Object.assign({},r);Mu(h,Oc(n));const m=Object.assign({maxPadding:h,w:a,h:i,x:r.left,y:r.top},r),p=_u(o.concat(c),u);Ru(l.fullSize,m,u,p),Ru(o,m,u,p),Ru(c,m,u,p)&&Ru(o,m,u,p),function(e){const t=e.maxPadding;function s(s){const n=Math.max(t[s]-e[s],0);return e[s]+=n,n}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}(m),Ou(l.leftAndTop,m,u,p),m.x+=m.w,m.y+=m.h,Ou(l.rightAndBottom,m,u,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Ql(l.chartArea,t=>{const s=t.box;Object.assign(s,e.chartArea),s.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class Iu{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,n){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):s)}}isAttached(e){return!0}updateConfig(e){}}class zu extends Iu{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fu="$chartjs",Uu={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bu=e=>null===e||""===e;const Vu=!!xd&&{passive:!0};function Hu(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,Vu)}function Wu(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function qu(e,t,s){const n=e.canvas,r=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||Wu(s.addedNodes,n),t=t&&!Wu(s.removedNodes,n);t&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}function Yu(e,t,s){const n=e.canvas,r=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||Wu(s.removedNodes,n),t=t&&!Wu(s.addedNodes,n);t&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ju=new Map;let Ku=0;function Gu(){const e=window.devicePixelRatio;e!==Ku&&(Ku=e,Ju.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function Xu(e,t,s){const n=e.canvas,r=n&&ld(n);if(!r)return;const a=Ho((e,t)=>{const n=r.clientWidth;s(e,t),n<r.clientWidth&&s()},window),i=new ResizeObserver(e=>{const t=e[0],s=t.contentRect.width,n=t.contentRect.height;0===s&&0===n||a(s,n)});return i.observe(r),function(e,t){Ju.size||window.addEventListener("resize",Gu),Ju.set(e,t)}(e,a),i}function Qu(e,t,s){s&&s.disconnect(),"resize"===t&&function(e){Ju.delete(e),Ju.size||window.removeEventListener("resize",Gu)}(e)}function Zu(e,t,s){const n=e.canvas,r=Ho(t=>{null!==e.ctx&&s(function(e,t){const s=Uu[e.type]||e.type,{x:n,y:r}=hd(e,t);return{type:s,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==r?r:null}}(t,e))},e);return function(e,t,s){e&&e.addEventListener(t,s,Vu)}(n,t,r),r}class $u extends Iu{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(function(e,t){const s=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[Fu]={initial:{height:n,width:r,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Bu(r)){const t=gd(e,"width");void 0!==t&&(e.width=t)}if(Bu(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=gd(e,"height");void 0!==t&&(e.height=t)}}(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[Fu])return!1;const s=t[Fu].initial;["height","width"].forEach(e=>{const n=s[e];Hl(n)?t.removeAttribute(e):t.setAttribute(e,n)});const n=s.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[Fu],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),r={attach:qu,detach:Yu,resize:Xu}[t]||Zu;n[t]=r(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),n=s[t];if(!n)return;({attach:Qu,detach:Qu,resize:Qu}[t]||Hu)(e,t,n),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,n){return pd(e,t,s,n)}isAttached(e){const t=e&&ld(e);return!(!t||!t.isConnected)}}class eh{constructor(){l(this,"x",void 0),l(this,"y",void 0),l(this,"active",!1),l(this,"options",void 0),l(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return ko(this.x)&&ko(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const n={};return e.forEach(e=>{n[e]=s[e]&&s[e].active()?s[e]._to:this[e]}),n}}function th(e,t){const s=e.options.ticks,n=function(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),r=e._maxLength/s;return Math.floor(Math.min(n,r))}(e),r=Math.min(s.maxTicksLimit||n,n),a=s.major.enabled?function(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}(t):[],i=a.length,l=a[0],o=a[i-1],c=[];if(i>r)return function(e,t,s,n){let r,a=0,i=s[0];for(n=Math.ceil(n),r=0;r<e.length;r++)r===i&&(t.push(e[r]),a++,i=s[a*n])}(t,c,a,i/r),c;const d=function(e,t,s){const n=function(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}(e),r=t.length/s;if(!n)return Math.max(r,1);const a=function(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(0|s)&&t.push(s),t.sort((e,t)=>e-t).pop(),t}(n);for(let i=0,l=a.length-1;i<l;i++){const e=a[i];if(e>r)return e}return Math.max(r,1)}(a,t,r);if(i>0){let e,s;const n=i>1?Math.round((o-l)/(i-1)):null;for(sh(t,c,d,Hl(n)?0:l-n,l),e=0,s=i-1;e<s;e++)sh(t,c,d,a[e],a[e+1]);return sh(t,c,d,o,Hl(n)?t.length:o+n),c}return sh(t,c,d),c}function sh(e,t,s,n,r){const a=Kl(n,0),i=Math.min(Kl(r,e.length),e.length);let l,o,c,d=0;for(s=Math.ceil(s),r&&(l=r-n,s=l/Math.floor(l/s)),c=a;c<0;)d++,c=Math.round(a+d*s);for(o=Math.max(a,0);o<i;o++)o===c&&(t.push(e[o]),d++,c=Math.round(a+d*s))}l(eh,"defaults",{}),l(eh,"defaultRoutes",void 0);const nh=(e,t,s)=>"top"===t||"left"===t?e[t]+s:e[t]-s,rh=(e,t)=>Math.min(t||e,e);function ah(e,t){const s=[],n=e.length/t,r=e.length;let a=0;for(;a<r;a+=n)s.push(e[Math.floor(a)]);return s}function ih(e,t,s){const n=e.ticks.length,r=Math.min(t,n-1),a=e._startPixel,i=e._endPixel,l=1e-6;let o,c=e.getPixelForTick(r);if(!(s&&(o=1===n?Math.max(c-a,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?o:-o,c<a-l||c>i+l)))return c}function lh(e){return e.drawTicks?e.tickLength:0}function oh(e,t){if(!e.display)return 0;const s=Lc(e.font,t),n=Oc(e.padding);return(Wl(e.text)?e.text.length:1)*s.lineHeight+n.height}function ch(e,t,s){let n=Wo(e);return(s&&"right"!==t||!s&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class dh extends eh{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:n}=this;return e=Jl(e,Number.POSITIVE_INFINITY),t=Jl(t,Number.NEGATIVE_INFINITY),s=Jl(s,Number.POSITIVE_INFINITY),n=Jl(n,Number.NEGATIVE_INFINITY),{min:Jl(e,s),max:Jl(t,n),minDefined:Yl(e),maxDefined:Yl(t)}}getMinMax(e){let t,{min:s,max:n,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:s,max:n};const i=this.getMatchingVisibleMetas();for(let l=0,o=i.length;l<o;++l)t=i[l].controller.getMinMax(this,e),r||(s=Math.min(s,t.min)),a||(n=Math.max(n,t.max));return s=a&&s>n?n:s,n=r&&s>n?s:n,{min:Jl(s,Jl(n,s)),max:Jl(n,Jl(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Xl(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:n,grace:r,ticks:a}=this.options,i=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,s){const{min:n,max:r}=e,a=Gl(t,(r-n)/2),i=(e,t)=>s&&0===e?0:e+t;return{min:i(n,-Math.abs(a)),max:i(r,a)}}(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=i<this.ticks.length;this._convertTicksToLabels(l?ah(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=th(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,s=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,s=!s),this._startPixel=e,this._endPixel=t,this._reversePixels=s,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Xl(this.options.afterUpdate,[this])}beforeSetDimensions(){Xl(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Xl(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Xl(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Xl(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,n,r;for(s=0,n=e.length;s<n;s++)r=e[s],r.label=Xl(t.callback,[r.value,s,e],this)}afterTickToLabelConversion(){Xl(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Xl(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=rh(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,r=t.maxRotation;let a,i,l,o=n;if(!this._isVisible()||!t.display||n>=r||s<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Po(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:h/(s-1),d+6>a&&(a=h/(s-(e.offset?.5:1)),i=this.maxHeight-lh(e.grid)-t.padding-oh(e.title,this.chart.options.font),l=Math.sqrt(d*d+u*u),o=Co(Math.min(Math.asin(Po((c.highest.height+6)/a,-1,1)),Math.asin(Po(i/l,-1,1))-Math.asin(Po(u/l,-1,1)))),o=Math.max(n,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Xl(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Xl(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:n,grid:r}}=this,a=this._isVisible(),i=this.isHorizontal();if(a){const a=oh(n,t.options.font);if(i?(e.width=this.maxWidth,e.height=lh(r)+a):(e.height=this.maxHeight,e.width=lh(r)+a),s.display&&this.ticks.length){const{first:t,last:n,widest:r,highest:a}=this._getLabelSizes(),l=2*s.padding,o=Eo(this.labelRotation),c=Math.cos(o),d=Math.sin(o);if(i){const t=s.mirror?0:d*r.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+l)}else{const t=s.mirror?0:c*r.width+d*a.height;e.width=Math.min(this.maxWidth,e.width+t+l)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,n){const{ticks:{align:r,padding:a},position:i}=this.options,l=0!==this.labelRotation,o="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;l?o?(d=n*e.width,u=s*t.height):(d=s*e.height,u=n*t.width):"start"===r?u=t.width:"end"===r?d=e.width:"inner"!==r&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+a)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+a)*this.width/(this.width-c),0)}else{let s=t.height/2,n=e.height/2;"start"===r?(s=0,n=e.height):"end"===r&&(s=t.height,n=0),this.paddingTop=s+a,this.paddingBottom=n+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Xl(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,s=e.length;t<s;t++)Hl(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=ah(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:n,_longestTextCache:r}=this,a=[],i=[],l=Math.floor(t/rh(t,s));let o,c,d,u,h,m,p,f,x,g,b,v=0,y=0;for(o=0;o<t;o+=l){if(u=e[o].label,h=this._resolveTickFontOptions(o),n.font=m=h.string,p=r[m]=r[m]||{data:{},gc:[]},f=h.lineHeight,x=g=0,Hl(u)||Wl(u)){if(Wl(u))for(c=0,d=u.length;c<d;++c)b=u[c],Hl(b)||Wl(b)||(x=mc(n,p.data,p.gc,x,b),g+=f)}else x=mc(n,p.data,p.gc,x,u),g=f;a.push(x),i.push(g),v=Math.max(x,v),y=Math.max(g,y)}!function(e,t){Ql(e,e=>{const s=e.gc,n=s.length/2;let r;if(n>t){for(r=0;r<n;++r)delete e.data[s[r]];s.splice(0,n)}})}(r,t);const w=a.indexOf(v),j=i.indexOf(y),N=e=>({width:a[e]||0,height:i[e]||0});return{first:N(0),last:N(t-1),widest:N(w),highest:N(j),widths:a,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Po(this._alignToPixels?fc(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=function(e,t,s){return zc(e,{tick:s,index:t,type:"tick"})}(this.getContext(),e,s))}return this.$context||(this.$context=zc(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Eo(this.labelRotation),s=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,i=r?r.widest.width+a:0,l=r?r.highest.height+a:0;return this.isHorizontal()?l*s>i*n?i/s:l/n:l*n<i*s?l/s:i/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,n=this.options,{grid:r,position:a,border:i}=n,l=r.offset,o=this.isHorizontal(),c=this.ticks.length+(l?1:0),d=lh(r),u=[],h=i.setContext(this.getContext()),m=h.display?h.width:0,p=m/2,f=function(e){return fc(s,e,m)};let x,g,b,v,y,w,j,N,k,S,E,C;if("top"===a)x=f(this.bottom),w=this.bottom-d,N=x-p,S=f(e.top)+p,C=e.bottom;else if("bottom"===a)x=f(this.top),S=e.top,C=f(e.bottom)-p,w=x+p,N=this.top+d;else if("left"===a)x=f(this.right),y=this.right-d,j=x-p,k=f(e.left)+p,E=e.right;else if("right"===a)x=f(this.left),k=e.left,E=f(e.right)-p,y=x+p,j=this.left+d;else if("x"===t){if("center"===a)x=f((e.top+e.bottom)/2+.5);else if(ql(a)){const e=Object.keys(a)[0],t=a[e];x=f(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,w=x+p,N=w+d}else if("y"===t){if("center"===a)x=f((e.left+e.right)/2);else if(ql(a)){const e=Object.keys(a)[0],t=a[e];x=f(this.chart.scales[e].getPixelForValue(t))}y=x-p,j=y-d,k=e.left,E=e.right}const _=Kl(n.ticks.maxTicksLimit,c),A=Math.max(1,Math.ceil(c/_));for(g=0;g<c;g+=A){const e=this.getContext(g),t=r.setContext(e),n=i.setContext(e),a=t.lineWidth,c=t.color,d=n.dash||[],h=n.dashOffset,m=t.tickWidth,p=t.tickColor,f=t.tickBorderDash||[],x=t.tickBorderDashOffset;b=ih(this,g,l),void 0!==b&&(v=fc(s,b,a),o?y=j=k=E=v:w=N=S=C=v,u.push({tx1:y,ty1:w,tx2:j,ty2:N,x1:k,y1:S,x2:E,y2:C,width:a,color:c,borderDash:d,borderDashOffset:h,tickWidth:m,tickColor:p,tickBorderDash:f,tickBorderDashOffset:x}))}return this._ticksLength=c,this._borderValue=x,u}_computeLabelItems(e){const t=this.axis,s=this.options,{position:n,ticks:r}=s,a=this.isHorizontal(),i=this.ticks,{align:l,crossAlign:o,padding:c,mirror:d}=r,u=lh(s.grid),h=u+c,m=d?-c:h,p=-Eo(this.labelRotation),f=[];let x,g,b,v,y,w,j,N,k,S,E,C,_="middle";if("top"===n)w=this.bottom-m,j=this._getXAxisLabelAlignment();else if("bottom"===n)w=this.top+m,j=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,y=e.x}else if("x"===t){if("center"===n)w=(e.top+e.bottom)/2+h;else if(ql(n)){const e=Object.keys(n)[0],t=n[e];w=this.chart.scales[e].getPixelForValue(t)+h}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)y=(e.left+e.right)/2-h;else if(ql(n)){const e=Object.keys(n)[0],t=n[e];y=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===l?_="top":"end"===l&&(_="bottom"));const A=this._getLabelSizes();for(x=0,g=i.length;x<g;++x){b=i[x],v=b.label;const e=r.setContext(this.getContext(x));N=this.getPixelForTick(x)+r.labelOffset,k=this._resolveTickFontOptions(x),S=k.lineHeight,E=Wl(v)?v.length:1;const t=E/2,s=e.color,l=e.textStrokeColor,c=e.textStrokeWidth;let u,h=j;if(a?(y=N,"inner"===j&&(h=x===g-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),C="top"===n?"near"===o||0!==p?-E*S+S/2:"center"===o?-A.highest.height/2-t*S+S:-A.highest.height+S/2:"near"===o||0!==p?S/2:"center"===o?A.highest.height/2-t*S:A.highest.height-E*S,d&&(C*=-1),0===p||e.showLabelBackdrop||(y+=S/2*Math.sin(p))):(w=N,C=(1-E)*S/2),e.showLabelBackdrop){const t=Oc(e.backdropPadding),s=A.heights[x],n=A.widths[x];let r=C-t.top,a=0-t.left;switch(_){case"middle":r-=s/2;break;case"bottom":r-=s}switch(j){case"center":a-=n/2;break;case"right":a-=n;break;case"inner":x===g-1?a-=n:x>0&&(a-=n/2)}u={left:a,top:r,width:n+t.width,height:s+t.height,color:e.backdropColor}}f.push({label:v,font:k,textOffset:C,options:{rotation:p,color:s,strokeColor:l,strokeWidth:c,textAlign:h,textBaseline:_,translation:[y,w],backdrop:u}})}return f}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Eo(this.labelRotation))return"top"===e?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:n,padding:r}}=this.options,a=e+r,i=this._getLabelSizes().widest.width;let l,o;return"left"===t?n?(o=this.right+r,"near"===s?l="left":"center"===s?(l="center",o+=i/2):(l="right",o+=i)):(o=this.right-a,"near"===s?l="right":"center"===s?(l="center",o-=i/2):(l="left",o=this.left)):"right"===t?n?(o=this.left+r,"near"===s?l="right":"center"===s?(l="center",o-=i/2):(l="left",o-=i)):(o=this.left+a,"near"===s?l="left":"center"===s?(l="center",o+=i/2):(l="right",o=this.right)):l="right",{textAlign:l,x:o}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:n,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,n,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(t=>t.value===e);if(s>=0){return t.setContext(this.getContext(s)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,s=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const i=(e,t,n)=>{n.width&&n.color&&(s.save(),s.lineWidth=n.width,s.strokeStyle=n.color,s.setLineDash(n.borderDash||[]),s.lineDashOffset=n.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(t.display)for(r=0,a=n.length;r<a;++r){const e=n[r];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:n}}=this,r=s.setContext(this.getContext()),a=s.display?r.width:0;if(!a)return;const i=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let o,c,d,u;this.isHorizontal()?(o=fc(e,this.left,a)-a/2,c=fc(e,this.right,i)+i/2,d=u=l):(d=fc(e,this.top,a)-a/2,u=fc(e,this.bottom,i)+i/2,o=c=l),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(o,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,s=this._computeLabelArea();s&&yc(t,s);const n=this.getLabelItems(e);for(const r of n){const e=r.options,s=r.font;Ec(t,r.label,0,r.textOffset,s,e)}s&&wc(t)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:n}}=this;if(!s.display)return;const r=Lc(s.font),a=Oc(s.padding),i=s.align;let l=r.lineHeight/2;"bottom"===t||"center"===t||ql(t)?(l+=a.bottom,Wl(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=a.top;const{titleX:o,titleY:c,maxWidth:d,rotation:u}=function(e,t,s,n){const{top:r,left:a,bottom:i,right:l,chart:o}=e,{chartArea:c,scales:d}=o;let u,h,m,p=0;const f=i-r,x=l-a;if(e.isHorizontal()){if(h=qo(n,a,l),ql(s)){const e=Object.keys(s)[0],n=s[e];m=d[e].getPixelForValue(n)+f-t}else m="center"===s?(c.bottom+c.top)/2+f-t:nh(e,s,t);u=l-a}else{if(ql(s)){const e=Object.keys(s)[0],n=s[e];h=d[e].getPixelForValue(n)-x+t}else h="center"===s?(c.left+c.right)/2-x+t:nh(e,s,t);m=qo(n,i,r),p="left"===s?-go:go}return{titleX:h,titleY:m,maxWidth:u,rotation:p}}(this,l,t,i);Ec(e,s.text,0,0,r,{color:s.color,maxWidth:d,rotation:u,textAlign:ch(i,t,n),textBaseline:"middle",translation:[o,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=Kl(e.grid&&e.grid.z,-1),n=Kl(e.border&&e.border.z,0);return this._isVisible()&&this.draw===dh.prototype.draw?[{z:s,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",n=[];let r,a;for(r=0,a=t.length;r<a;++r){const a=t[r];a[s]!==this.id||e&&a.type!==e||n.push(a)}return n}_resolveTickFontOptions(e){return Lc(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class uh{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;(function(e){return"id"in e&&"defaults"in e})(t)&&(s=this.register(t));const n=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in n||(n[r]=e,function(e,t,s){const n=so(Object.create(null),[s?hc.get(s):{},hc.get(t),e.defaults]);hc.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),r=n.pop(),a=[e].concat(n).join("."),i=t[s].split("."),l=i.pop(),o=i.join(".");hc.route(a,r,o,l)})}(t,e.defaultRoutes);e.descriptors&&hc.describe(t,e.descriptors)}(e,a,s),this.override&&hc.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,n=this.scope;s in t&&delete t[s],n&&s in hc[n]&&(delete hc[n][s],this.override&&delete lc[s])}}class hh{constructor(){this.controllers=new uh(Xd,"datasets",!0),this.elements=new uh(eh,"elements"),this.plugins=new uh(Object,"plugins"),this.scales=new uh(dh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.scales)}_each(e,t,s){[...t].forEach(t=>{const n=s||this._getRegistryForType(t);s||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):Ql(t,t=>{const n=s||this._getRegistryForType(t);this._exec(e,n,t)})})}_exec(e,t,s){const n=lo(e);Xl(s["before"+n],[],s),t[e](s),Xl(s["after"+n],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+s+".");return n}}var mh=new hh;class ph{constructor(){this._init=void 0}notify(e,t,s,n){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const r=n?this._descriptors(e).filter(n):this._descriptors(e),a=this._notify(r,e,t,s);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,s,n){n=n||{};for(const r of e){const e=r.plugin;if(!1===Xl(e[s],[t,n,r.options],e)&&n.cancelable)return!1}return!0}invalidate(){Hl(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,n=Kl(s.options&&s.options.plugins,{}),r=function(e){const t={},s=[],n=Object.keys(mh.plugins.items);for(let a=0;a<n.length;a++)s.push(mh.getPlugin(n[a]));const r=e.plugins||[];for(let a=0;a<r.length;a++){const e=r[a];-1===s.indexOf(e)&&(s.push(e),t[e.id]=!0)}return{plugins:s,localIds:t}}(s);return!1!==n||t?function(e,t,s,n){let{plugins:r,localIds:a}=t;const i=[],l=e.getContext();for(const o of r){const t=o.id,r=fh(s[t],n);null!==r&&i.push({plugin:o,options:xh(e.config,{plugin:o,local:a[t]},r,l)})}return i}(e,r,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,n=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(n(t,s),e,"stop"),this._notify(n(s,t),e,"start")}}function fh(e,t){return t||!1!==e?!0===e?{}:e:null}function xh(e,t,s,n){let{plugin:r,local:a}=t;const i=e.pluginScopeKeys(r),l=e.getOptionScopes(s,i);return a&&r.defaults&&l.push(r.defaults),e.createResolver(l,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function gh(e,t){const s=hc.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function bh(e){if("x"===e||"y"===e||"r"===e)return e}function vh(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function yh(e){if(bh(e))return e;for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];for(const r of s){const t=r.axis||vh(r.position)||e.length>1&&bh(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function wh(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function jh(e,t){const s=lc[e.type]||{scales:{}},n=t.scales||{},r=gh(e.type,t),a=Object.create(null);return Object.keys(n).forEach(t=>{const i=n[t];if(!ql(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const l=yh(t,i,function(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(s.length)return wh(e,"x",s[0])||wh(e,"y",s[0])}return{}}(t,e),hc.scales[i.type]),o=function(e,t){return e===t?"_index_":"_value_"}(l,r),c=s.scales||{};a[t]=no(Object.create(null),[{axis:l},i,c[l],c[o]])}),e.data.datasets.forEach(s=>{const r=s.type||e.type,i=s.indexAxis||gh(r,t),l=(lc[r]||{}).scales||{};Object.keys(l).forEach(e=>{const t=function(e,t){let s=e;return"_index_"===e?s=t:"_value_"===e&&(s="x"===t?"y":"x"),s}(e,i),r=s[t+"AxisID"]||t;a[r]=a[r]||Object.create(null),no(a[r],[{axis:t},n[r],l[e]])})}),Object.keys(a).forEach(e=>{const t=a[e];no(t,[hc.scales[t.type],hc.scale])}),a}function Nh(e){const t=e.options||(e.options={});t.plugins=Kl(t.plugins,{}),t.scales=jh(e,t)}function kh(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Sh=new Map,Eh=new Set;function Ch(e,t){let s=Sh.get(e);return s||(s=t(),Sh.set(e,s),Eh.add(s)),s}const _h=(e,t,s)=>{const n=io(t,s);void 0!==n&&e.add(n)};class Ah{constructor(e){this._config=function(e){return(e=e||{}).data=kh(e.data),Nh(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=kh(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Nh(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ch(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return Ch("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return Ch("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return Ch("".concat(s,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let n=s.get(e);return n&&!t||(n=new Map,s.set(e,n)),n}getOptionScopes(e,t,s){const{options:n,type:r}=this,a=this._cachedScopes(e,s),i=a.get(t);if(i)return i;const l=new Set;t.forEach(t=>{e&&(l.add(e),t.forEach(t=>_h(l,e,t))),t.forEach(e=>_h(l,n,e)),t.forEach(e=>_h(l,lc[r]||{},e)),t.forEach(e=>_h(l,hc,e)),t.forEach(e=>_h(l,oc,e))});const o=Array.from(l);return 0===o.length&&o.push(Object.create(null)),Eh.has(t)&&a.set(t,o),o}chartOptionScopes(){const{options:e,type:t}=this;return[e,lc[t]||{},hc.datasets[t]||{},{type:t},hc,oc]}resolveNamedOptions(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const r={$shared:!0},{resolver:a,subPrefixes:i}=Mh(this._resolverCache,e,n);let l=a;if(function(e,t){const{isScriptable:s,isIndexable:n}=Bc(e);for(const r of t){const t=s(r),a=n(r),i=(a||t)&&e[r];if(t&&(co(i)||Dh(i))||a&&Wl(i))return!0}return!1}(a,t)){r.$shared=!1;l=Uc(a,s=co(s)?s():s,this.createResolver(e,s,i))}for(const o of t)r[o]=l[o];return r}createResolver(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],n=arguments.length>3?arguments[3]:void 0;const{resolver:r}=Mh(this._resolverCache,e,s);return ql(t)?Uc(r,t,void 0,n):r}}function Mh(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const r=s.join();let a=n.get(r);if(!a){a={resolver:Fc(t,s),subPrefixes:s.filter(e=>!e.toLowerCase().includes("hover"))},n.set(r,a)}return a}const Dh=e=>ql(e)&&Object.getOwnPropertyNames(e).some(t=>co(e[t]));const Th=["top","bottom","left","right","chartArea"];function Rh(e,t){return"top"===e||"bottom"===e||-1===Th.indexOf(e)&&"x"===t}function Ph(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Oh(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Xl(s&&s.onComplete,[e],t)}function Lh(e){const t=e.chart,s=t.options.animation;Xl(s&&s.onProgress,[e],t)}function Ih(e){return id()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const zh={},Fh=e=>{const t=Ih(e);return Object.values(zh).filter(e=>e.canvas===t).pop()};function Uh(e,t,s){const n=Object.keys(e);for(const r of n){const n=+r;if(n>=t){const a=e[r];delete e[r],(s>0||n>t)&&(e[n+s]=a)}}}class Bh{static register(){mh.add(...arguments),Vh()}static unregister(){mh.remove(...arguments),Vh()}constructor(e,t){const s=this.config=new Ah(t),n=Ih(e),r=Fh(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(e){return!id()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?zu:$u}(n)),this.platform.updateConfig(s);const i=this.platform.acquireContext(n,a.aspectRatio),l=i&&i.canvas,o=l&&l.height,c=l&&l.width;this.id=Vl(),this.ctx=i,this.canvas=l,this.width=c,this.height=o,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ph,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let s;return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t?(clearTimeout(s),s=setTimeout(e,t,r)):e.apply(this,r),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],zh[this.id]=this,i&&l?(Pd.listen(this,"complete",Oh),Pd.listen(this,"progress",Lh),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:n,_aspectRatio:r}=this;return Hl(e)?t&&r?r:n?s/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return mh}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xc(this.canvas,this.ctx),this}stop(){return Pd.stop(this),this}resize(e,t){Pd.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,n=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(n,e,t,r),i=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,fd(this,i,!0)&&(this.notifyPlugins("resize",{size:a}),Xl(s.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){Ql(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,n=Object.keys(s).reduce((e,t)=>(e[t]=!1,e),{});let r=[];t&&(r=r.concat(Object.keys(t).map(e=>{const s=t[e],n=yh(e,s),r="r"===n,a="x"===n;return{options:s,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}}))),Ql(r,t=>{const r=t.options,a=r.id,i=yh(a,r),l=Kl(r.type,t.dtype);void 0!==r.position&&Rh(r.position,i)===Rh(t.dposition)||(r.position=t.dposition),n[a]=!0;let o=null;if(a in s&&s[a].type===l)o=s[a];else{o=new(mh.getScale(l))({id:a,type:l,ctx:this.ctx,chart:this}),s[o.id]=o}o.init(r,e)}),Ql(n,(e,t)=>{e||delete s[t]}),Ql(s,e=>{Lu.configure(this,e,e.options),Lu.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((e,t)=>e.index-t.index),s>t){for(let e=t;e<s;++e)this._destroyDatasetMeta(e);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(Ph("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,s)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,n;for(this._removeUnreferencedMetasets(),s=0,n=t.length;s<n;s++){const n=t[s];let r=this.getDatasetMeta(s);const a=n.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(s),r=this.getDatasetMeta(s)),r.type=a,r.indexAxis=n.indexAxis||gh(a,this.options),r.order=n.order||0,r.index=s,r.label=""+n.label,r.visible=this.isDatasetVisible(s),r.controller)r.controller.updateIndex(s),r.controller.linkScales();else{const t=mh.getController(a),{datasetElementType:n,dataElementType:i}=hc.datasets[a];Object.assign(t,{dataElementType:mh.getElement(i),datasetElementType:n&&mh.getElement(n)}),r.controller=new t(this,s),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Ql(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let o=0,c=this.data.datasets.length;o<c;o++){const{controller:e}=this.getDatasetMeta(o),t=!n&&-1===r.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=s.layout.autoPadding?a:0,this._updateLayout(a),n||Ql(r,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ph("z","_idx"));const{_active:i,_lastEvent:l}=this;l?this._eventHandler(l,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){Ql(this.scales,e=>{Lu.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);uo(t,s)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:n,count:r}of t){Uh(e,n,"_removeElements"===s?-r:r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),n=s(0);for(let r=1;r<t;r++)if(!uo(n,s(r)))return;return Array.from(n).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Lu.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Ql(this.boxes,e=>{s&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,co(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),n={meta:s,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(s.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Pd.has(this)?this.attached&&!Pd.running(this)&&Pd.start(this):(this.draw(),Oh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let n,r;for(n=0,r=t.length;n<r;++n){const r=t[n];e&&!r.visible||s.push(r)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},n=Td(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(n&&yc(t,n),e.controller.draw(),n&&wc(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return vc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,n){const r=Nu.modes[t];return"function"===typeof r?r(this,e,s,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let n=s.filter(e=>e&&e._dataset===t).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(n)),n}getContext(){return this.$context||(this.$context=zc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return"boolean"===typeof s.hidden?!s.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const n=s?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,n);oo(t)?(r.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),a.update(r,{visible:s}),this.update(t=>t.datasetIndex===e?n:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Pd.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),xc(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete zh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(e,t,s)=>{e.offsetX=t,e.offsetY=s,this._eventHandler(e)};Ql(this.options.events,e=>s(e,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(s,n)=>{t.addEventListener(this,s,n),e[s]=n},n=(s,n)=>{e[s]&&(t.removeEventListener(this,s,n),delete e[s])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const i=()=>{n("attach",i),this.attached=!0,this.resize(),s("resize",r),s("detach",a)};a=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),s("attach",i)},t.isAttached(this.canvas)?i():a()}unbindEvents(){Ql(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ql(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const n=s?"set":"remove";let r,a,i,l;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),i=0,l=e.length;i<l;++i){a=e[i];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[n+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(e=>{let{datasetIndex:t,index:s}=e;const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[s],index:s}});!Zl(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,s){const n=this.options.hover,r=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=r(t,e),i=s?e:r(e,t);a.length&&this.updateHoverStyle(a,n.mode,!1),i.length&&n.mode&&this.updateHoverStyle(i,n.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",s,n))return;const r=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(r||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:n=[],options:r}=this,a=t,i=this._getActiveElements(e,n,s,a),l=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),o=function(e,t,s,n){return s&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,s,l);s&&(this._lastEvent=null,Xl(r.onHover,[e,i,this],this),l&&Xl(r.onClick,[e,i,this],this));const c=!Zl(i,n);return(c||t)&&(this._active=i,this._updateHoverStyles(i,n,t)),this._lastEvent=o,c}_getActiveElements(e,t,s,n){if("mouseout"===e.type)return[];if(!s)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,n)}}function Vh(){return Ql(Bh.instances,e=>e._plugins.invalidate())}function Hh(e,t,s,n){const r=Tc(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(s-t)/2,i=Math.min(a,n*t/2),l=e=>{const t=(s-Math.min(a,e))*n/2;return Po(e,0,Math.min(a,t))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:Po(r.innerStart,0,i),innerEnd:Po(r.innerEnd,0,i)}}function Wh(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function qh(e,t,s,n,r,a){const{x:i,y:l,startAngle:o,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+s-c,0),h=d>0?d+n+s+c:0;let m=0;const p=r-o;if(n){const e=((d>0?d-n:0)+(u>0?u-n:0))/2;m=(p-(0!==e?p*e/(e+n):p))/2}const f=(p-Math.max(.001,p*u-s/ho)/u)/2,x=o+f+m,g=r-f-m,{outerStart:b,outerEnd:v,innerStart:y,innerEnd:w}=Hh(t,h,u,g-x),j=u-b,N=u-v,k=x+b/j,S=g-v/N,E=h+y,C=h+w,_=x+y/E,A=g-w/C;if(e.beginPath(),a){const t=(k+S)/2;if(e.arc(i,l,u,k,t),e.arc(i,l,u,t,S),v>0){const t=Wh(N,S,i,l);e.arc(t.x,t.y,v,S,g+go)}const s=Wh(C,g,i,l);if(e.lineTo(s.x,s.y),w>0){const t=Wh(C,A,i,l);e.arc(t.x,t.y,w,g+go,A+Math.PI)}const n=(g-w/h+(x+y/h))/2;if(e.arc(i,l,h,g-w/h,n,!0),e.arc(i,l,h,n,x+y/h,!0),y>0){const t=Wh(E,_,i,l);e.arc(t.x,t.y,y,_+Math.PI,x-go)}const r=Wh(j,x,i,l);if(e.lineTo(r.x,r.y),b>0){const t=Wh(j,k,i,l);e.arc(t.x,t.y,b,x-go,k)}}else{e.moveTo(i,l);const t=Math.cos(k)*u+i,s=Math.sin(k)*u+l;e.lineTo(t,s);const n=Math.cos(S)*u+i,r=Math.sin(S)*u+l;e.lineTo(n,r)}e.closePath()}function Yh(e,t,s,n,r){const{fullCircles:a,startAngle:i,circumference:l,options:o}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=o,p="inner"===o.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let f=t.endAngle;if(a){qh(e,t,s,n,f,r);for(let t=0;t<a;++t)e.stroke();isNaN(l)||(f=i+(l%mo||mo))}p&&function(e,t,s){const{startAngle:n,pixelMargin:r,x:a,y:i,outerRadius:l,innerRadius:o}=t;let c=r/l;e.beginPath(),e.arc(a,i,l,n-c,s+c),o>r?(c=r/o,e.arc(a,i,o,s+c,n-c,!0)):e.arc(a,i,r,s+go,n-go),e.closePath(),e.clip()}(e,t,f),o.selfJoin&&f-i>=ho&&0===m&&"miter"!==d&&function(e,t,s){const{startAngle:n,x:r,y:a,outerRadius:i,innerRadius:l,options:o}=t,{borderWidth:c,borderJoinStyle:d}=o,u=Math.min(c/i,To(n-s));if(e.beginPath(),e.arc(r,a,i-c/2,n+u/2,s-u/2),l>0){const t=Math.min(c/l,To(n-s));e.arc(r,a,l+c/2,s-t/2,n+t/2,!0)}else{const t=Math.min(c/2,i*To(n-s));if("round"===d)e.arc(r,a,t,s-ho/2,n+ho/2,!0);else if("bevel"===d){const i=2*t*t,l=-i*Math.cos(s+ho/2)+r,o=-i*Math.sin(s+ho/2)+a,c=i*Math.cos(n+ho/2)+r,d=i*Math.sin(n+ho/2)+a;e.lineTo(l,o),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,f),a||(qh(e,t,s,n,f,r),e.stroke())}l(Bh,"defaults",hc),l(Bh,"instances",zh),l(Bh,"overrides",lc),l(Bh,"registry",mh),l(Bh,"version","4.5.1"),l(Bh,"getChart",Fh);class Jh extends eh{constructor(e){super(),l(this,"circumference",void 0),l(this,"endAngle",void 0),l(this,"fullCircles",void 0),l(this,"innerRadius",void 0),l(this,"outerRadius",void 0),l(this,"pixelMargin",void 0),l(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.getProps(["x","y"],s),{angle:r,distance:a}=Ao(n,{x:e,y:t}),{startAngle:i,endAngle:l,innerRadius:o,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),u=(this.options.spacing+this.options.borderWidth)/2,h=Kl(d,l-i),m=Ro(r,i,l)&&i!==l,p=h>=mo||m,f=Oo(a,o+u,c+u);return p&&f}getCenterPoint(e){const{x:t,y:s,startAngle:n,endAngle:r,innerRadius:a,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:o}=this.options,c=(n+r)/2,d=(a+i+o+l)/2;return{x:t+Math.cos(c)*d,y:s+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,n=(t.offset||0)/4,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=s>mo?Math.floor(s/mo):0,0===s||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*n,Math.sin(i)*n);const l=n*(1-Math.sin(Math.min(ho,s||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,s,n,r){const{fullCircles:a,startAngle:i,circumference:l}=t;let o=t.endAngle;if(a){qh(e,t,s,n,o,r);for(let t=0;t<a;++t)e.fill();isNaN(l)||(o=i+(l%mo||mo))}qh(e,t,s,n,o,r),e.fill()}(e,this,l,r,a),Yh(e,this,l,r,a),e.restore()}}function Kh(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Kl(s.borderCapStyle,t.borderCapStyle),e.setLineDash(Kl(s.borderDash,t.borderDash)),e.lineDashOffset=Kl(s.borderDashOffset,t.borderDashOffset),e.lineJoin=Kl(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Kl(s.borderWidth,t.borderWidth),e.strokeStyle=Kl(s.borderColor,t.borderColor)}function Gh(e,t,s){e.lineTo(s.x,s.y)}function Xh(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.length,{start:r=0,end:a=n-1}=s,{start:i,end:l}=t,o=Math.max(r,i),c=Math.min(a,l),d=r<i&&a<i||r>l&&a>l;return{count:n,start:o,loop:t.loop,ilen:c<o&&!d?n+c-o:c-o}}function Qh(e,t,s,n){const{points:r,options:a}=t,{count:i,start:l,loop:o,ilen:c}=Xh(r,s,n),d=function(e){return e.stepped?jc:e.tension||"monotone"===e.cubicInterpolationMode?Nc:Gh}(a);let u,h,m,{move:p=!0,reverse:f}=n||{};for(u=0;u<=c;++u)h=r[(l+(f?c-u:u))%i],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):d(e,m,h,f,a.stepped),m=h);return o&&(h=r[(l+(f?c:0))%i],d(e,m,h,f,a.stepped)),!!o}function Zh(e,t,s,n){const r=t.points,{count:a,start:i,ilen:l}=Xh(r,s,n),{move:o=!0,reverse:c}=n||{};let d,u,h,m,p,f,x=0,g=0;const b=e=>(i+(c?l-e:e))%a,v=()=>{m!==p&&(e.lineTo(x,p),e.lineTo(x,m),e.lineTo(x,f))};for(o&&(u=r[b(0)],e.moveTo(u.x,u.y)),d=0;d<=l;++d){if(u=r[b(d)],u.skip)continue;const t=u.x,s=u.y,n=0|t;n===h?(s<m?m=s:s>p&&(p=s),x=(g*x+t)/++g):(v(),e.lineTo(t,s),h=n,g=0,m=p=s),f=s}v()}function $h(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!s?Zh:Qh}l(Jh,"id","arc"),l(Jh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),l(Jh,"defaultRoutes",{backgroundColor:"backgroundColor"}),l(Jh,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const em="function"===typeof Path2D;function tm(e,t,s,n){em&&!t.options.segment?function(e,t,s,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,s,n)&&r.closePath()),Kh(e,t.options),e.stroke(r)}(e,t,s,n):function(e,t,s,n){const{segments:r,options:a}=t,i=$h(t);for(const l of r)Kh(e,a,l.style),e.beginPath(),i(e,t,l,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}(e,t,s,n)}class sm extends eh{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||"monotone"===s.cubicInterpolationMode)&&!s.stepped&&!this._pointsUpdated){const n=s.spanGaps?this._loop:this._fullLoop;ad(this._points,s,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const s=e.points,n=e.options.spanGaps,r=s.length;if(!r)return[];const a=!!e._loop,{start:i,end:l}=function(e,t,s,n){let r=0,a=t-1;if(s&&!n)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,s&&(a+=r);a>r&&e[a%t].skip;)a--;return a%=t,{start:r,end:a}}(s,r,a,n);return _d(e,!0===n?[{start:i,end:l,loop:a}]:function(e,t,s,n){const r=e.length,a=[];let i,l=t,o=e[t];for(i=t+1;i<=s;++i){const s=e[i%r];s.skip||s.stop?o.skip||(n=!1,a.push({start:t%r,end:(i-1)%r,loop:n}),t=l=s.stop?i:null):(l=i,o.skip&&(t=i)),o=s}return null!==l&&a.push({start:t%r,end:l%r,loop:n}),a}(s,i,l<i?l+r:l,!!e._fullLoop&&0===i&&l===r-1),s,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,n=e[t],r=this.points,a=Cd(this,{property:t,start:n,end:n});if(!a.length)return;const i=[],l=function(e){return e.stepped?vd:e.tension||"monotone"===e.cubicInterpolationMode?yd:bd}(s);let o,c;for(o=0,c=a.length;o<c;++o){const{start:c,end:d}=a[o],u=r[c],h=r[d];if(u===h){i.push(u);continue}const m=l(u,h,Math.abs((n-u[t])/(h[t]-u[t])),s.stepped);m[t]=e[t],i.push(m)}return 1===i.length?i[0]:i}pathSegment(e,t,s){return $h(this)(e,this,t,s)}path(e,t,s){const n=this.segments,r=$h(this);let a=this._loop;t=t||0,s=s||this.points.length-t;for(const i of n)a&=r(e,this,i,{start:t,end:t+s-1});return!!a}draw(e,t,s,n){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),tm(e,this,s,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function nm(e,t,s,n){const r=e.options,{[s]:a}=e.getProps([s],n);return Math.abs(t-a)<r.radius+r.hitRadius}l(sm,"id","line"),l(sm,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),l(sm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),l(sm,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class rm extends eh{constructor(e){super(),l(this,"parsed",void 0),l(this,"skip",void 0),l(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const n=this.options,{x:r,y:a}=this.getProps(["x","y"],s);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return nm(this,e,"x",t)}inYRange(e,t){return nm(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const s=this.options;this.skip||s.radius<.1||!vc(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,gc(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function am(e,t){const{x:s,y:n,base:r,width:a,height:i}=e.getProps(["x","y","base","width","height"],t);let l,o,c,d,u;return e.horizontal?(u=i/2,l=Math.min(s,r),o=Math.max(s,r),c=n-u,d=n+u):(u=a/2,l=s-u,o=s+u,c=Math.min(n,r),d=Math.max(n,r)),{left:l,top:c,right:o,bottom:d}}function im(e,t,s,n){return e?0:Po(t,s,n)}function lm(e){const t=am(e),s=t.right-t.left,n=t.bottom-t.top,r=function(e,t,s){const n=e.options.borderWidth,r=e.borderSkipped,a=Rc(n);return{t:im(r.top,a.top,0,s),r:im(r.right,a.right,0,t),b:im(r.bottom,a.bottom,0,s),l:im(r.left,a.left,0,t)}}(e,s/2,n/2),a=function(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=Pc(r),i=Math.min(t,s),l=e.borderSkipped,o=n||ql(r);return{topLeft:im(!o||l.top||l.left,a.topLeft,0,i),topRight:im(!o||l.top||l.right,a.topRight,0,i),bottomLeft:im(!o||l.bottom||l.left,a.bottomLeft,0,i),bottomRight:im(!o||l.bottom||l.right,a.bottomRight,0,i)}}(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:s-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function om(e,t,s,n){const r=null===t,a=null===s,i=e&&!(r&&a)&&am(e,n);return i&&(r||Oo(t,i.left,i.right))&&(a||Oo(s,i.top,i.bottom))}function cm(e,t){e.rect(t.x,t.y,t.w,t.h)}function dm(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=e.x!==s.x?-t:0,r=e.y!==s.y?-t:0,a=(e.x+e.w!==s.x+s.w?t:0)-n,i=(e.y+e.h!==s.y+s.h?t:0)-r;return{x:e.x+n,y:e.y+r,w:e.w+a,h:e.h+i,radius:e.radius}}l(rm,"id","point"),l(rm,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),l(rm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class um extends eh{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:n}}=this,{inner:r,outer:a}=lm(this),i=(l=a.radius).topLeft||l.topRight||l.bottomLeft||l.bottomRight?Cc:cm;var l;e.save(),a.w===r.w&&a.h===r.h||(e.beginPath(),i(e,dm(a,t,r)),e.clip(),i(e,dm(r,-t,a)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),i(e,dm(r,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,s){return om(this,e,t,s)}inXRange(e,t){return om(this,e,null,t)}inYRange(e,t){return om(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+n)/2:t,y:r?s:(s+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}l(um,"id","bar"),l(um,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),l(um,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var hm=Object.freeze({__proto__:null,ArcElement:Jh,BarElement:um,LineElement:sm,PointElement:rm});const mm=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],pm=mm.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function fm(e){return mm[e%mm.length]}function xm(e){return pm[e%pm.length]}function gm(e){let t=0;return(s,n)=>{const r=e.getDatasetMeta(n).controller;r instanceof lu?t=function(e,t){return e.backgroundColor=e.data.map(()=>fm(t++)),t}(s,t):r instanceof cu?t=function(e,t){return e.backgroundColor=e.data.map(()=>xm(t++)),t}(s,t):r&&(t=function(e,t){return e.borderColor=fm(t),e.backgroundColor=xm(t),++t}(s,t))}}function bm(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var vm={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,s){if(!s.enabled)return;const{data:{datasets:n},options:r}=e.config,{elements:a}=r,i=bm(n)||(l=r)&&(l.borderColor||l.backgroundColor)||a&&bm(a)||"rgba(0,0,0,0.1)"!==hc.borderColor||"rgba(0,0,0,0.1)"!==hc.backgroundColor;var l;if(!s.forceOverride&&i)return;const o=gm(e);n.forEach(o)}};function ym(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function wm(e){e.data.datasets.forEach(e=>{ym(e)})}var jm={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,s)=>{if(!s.enabled)return void wm(e);const n=e.width;e.data.datasets.forEach((t,r)=>{const{_data:a,indexAxis:i}=t,l=e.getDatasetMeta(r),o=a||t.data;if("y"===Ic([i,e.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const d=e.scales[l.xAxisID];if("linear"!==d.type&&"time"!==d.type)return;if(e.options.parsing)return;let{start:u,count:h}=function(e,t){const s=t.length;let n,r=0;const{iScale:a}=e,{min:i,max:l,minDefined:o,maxDefined:c}=a.getUserBounds();return o&&(r=Po(Io(t,a.axis,i).lo,0,s-1)),n=c?Po(Io(t,a.axis,l).hi+1,r,s)-r:s-r,{start:r,count:n}}(l,o);if(h<=(s.threshold||4*n))return void ym(t);let m;switch(Hl(a)&&(t._data=o,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),s.algorithm){case"lttb":m=function(e,t,s,n,r){const a=r.samples||n;if(a>=s)return e.slice(t,t+s);const i=[],l=(s-2)/(a-2);let o=0;const c=t+s-1;let d,u,h,m,p,f=t;for(i[o++]=e[f],d=0;d<a-2;d++){let n,r=0,a=0;const c=Math.floor((d+1)*l)+1+t,x=Math.min(Math.floor((d+2)*l)+1,s)+t,g=x-c;for(n=c;n<x;n++)r+=e[n].x,a+=e[n].y;r/=g,a/=g;const b=Math.floor(d*l)+1+t,v=Math.min(Math.floor((d+1)*l)+1,s)+t,{x:y,y:w}=e[f];for(h=m=-1,n=b;n<v;n++)m=.5*Math.abs((y-r)*(e[n].y-w)-(y-e[n].x)*(a-w)),m>h&&(h=m,u=e[n],p=n);i[o++]=u,f=p}return i[o++]=e[c],i}(o,u,h,n,s);break;case"min-max":m=function(e,t,s,n){let r,a,i,l,o,d,u,h,m,p,f=0,x=0;const g=[],b=t+s-1,v=e[t].x,y=e[b].x-v;for(r=t;r<t+s;++r){a=e[r],i=(a.x-v)/y*n,l=a.y;const t=0|i;if(t===o)l<m?(m=l,d=r):l>p&&(p=l,u=r),f=(x*f+a.x)/++x;else{const s=r-1;if(!Hl(d)&&!Hl(u)){const t=Math.min(d,u),n=Math.max(d,u);t!==h&&t!==s&&g.push(c(c({},e[t]),{},{x:f})),n!==h&&n!==s&&g.push(c(c({},e[n]),{},{x:f}))}r>0&&s!==h&&g.push(e[s]),g.push(a),o=t,x=0,m=p=l,d=u=h=r}}return g}(o,u,h,n);break;default:throw new Error("Unsupported decimation algorithm '".concat(s.algorithm,"'"))}t._decimated=m})},destroy(e){wm(e)}};function Nm(e,t,s,n){if(n)return;let r=t[e],a=s[e];return"angle"===e&&(r=To(r),a=To(a)),{property:e,start:r,end:a}}function km(e,t,s){for(;t>e;t--){const e=s[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Sm(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function Em(e,t){let s=[],n=!1;return Wl(e)?(n=!0,s=e):s=function(e,t){const{x:s=null,y:n=null}=e||{},r=t.points,a=[];return t.segments.forEach(e=>{let{start:t,end:i}=e;i=km(t,i,r);const l=r[t],o=r[i];null!==n?(a.push({x:l.x,y:n}),a.push({x:o.x,y:n})):null!==s&&(a.push({x:s,y:l.y}),a.push({x:s,y:o.y}))}),a}(e,t),s.length?new sm({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function Cm(e){return e&&!1!==e.fill}function _m(e,t,s){let n=e[t].fill;const r=[t];let a;if(!s)return n;for(;!1!==n&&-1===r.indexOf(n);){if(!Yl(n))return n;if(a=e[n],!a)return!1;if(a.visible)return n;r.push(n),n=a.fill}return!1}function Am(e,t,s){const n=function(e){const t=e.options,s=t.fill;let n=Kl(s&&s.target,s);void 0===n&&(n=!!t.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(e);if(ql(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return Yl(r)&&Math.floor(r)===r?function(e,t,s,n){"-"!==e&&"+"!==e||(s=t+s);if(s===t||s<0||s>=n)return!1;return s}(n[0],t,r,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Mm(e,t,s){const n=[];for(let r=0;r<s.length;r++){const a=s[r],{first:i,last:l,point:o}=Dm(a,t,"x");if(!(!o||i&&l))if(i)n.unshift(o);else if(e.push(o),!l)break}e.push(...n)}function Dm(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const r=n[s],a=e.segments,i=e.points;let l=!1,o=!1;for(let c=0;c<a.length;c++){const e=a[c],t=i[e.start][s],n=i[e.end][s];if(Oo(r,t,n)){l=r===t,o=r===n;break}}return{first:l,last:o,point:n}}class Tm{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:n,y:r,radius:a}=this;return t=t||{start:0,end:mo},e.arc(n,r,a,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:n}=this,r=e.angle;return{x:t+Math.cos(r)*n,y:s+Math.sin(r)*n,angle:r}}}function Rm(e){const{chart:t,fill:s,line:n}=e;if(Yl(s))return function(e,t){const s=e.getDatasetMeta(t),n=s&&e.isDatasetVisible(t);return n?s.dataset:null}(t,s);if("stack"===s)return function(e){const{scale:t,index:s,line:n}=e,r=[],a=n.segments,i=n.points,l=function(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const e=n[r];if(e.index===t)break;e.hidden||s.unshift(e.dataset)}return s}(t,s);l.push(Em({x:null,y:t.bottom},n));for(let o=0;o<a.length;o++){const e=a[o];for(let t=e.start;t<=e.end;t++)Mm(r,i[t],l)}return new sm({points:r,options:{}})}(e);if("shape"===s)return!0;const r=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:s}=e,n=t.options,r=t.getLabels().length,a=n.reverse?t.max:t.min,i=function(e,t,s){let n;return n="start"===e?s:"end"===e?t.options.reverse?t.min:t.max:ql(e)?e.value:t.getBaseValue(),n}(s,t,a),l=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,a);return new Tm({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let o=0;o<r;++o)l.push(t.getPointPositionForValue(o,i));return l}(e);return function(e){const{scale:t={},fill:s}=e,n=function(e,t){let s=null;return"start"===e?s=t.bottom:"end"===e?s=t.top:ql(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}(s,t);if(Yl(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return r instanceof Tm?r:Em(r,n)}function Pm(e,t,s){const n=Rm(t),{chart:r,index:a,line:i,scale:l,axis:o}=t,c=i.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:m=u}=d||{},p=r.getDatasetMeta(a),f=Td(r,p);n&&i.points.length&&(yc(e,s),function(e,t){const{line:s,target:n,above:r,below:a,area:i,scale:l,clip:o}=t,c=s._loop?"angle":t.axis;e.save();let d=a;a!==r&&("x"===c?(Om(e,n,i.top),Im(e,{line:s,target:n,color:r,scale:l,property:c,clip:o}),e.restore(),e.save(),Om(e,n,i.bottom)):"y"===c&&(Lm(e,n,i.left),Im(e,{line:s,target:n,color:a,scale:l,property:c,clip:o}),e.restore(),e.save(),Lm(e,n,i.right),d=r));Im(e,{line:s,target:n,color:d,scale:l,property:c,clip:o}),e.restore()}(e,{line:i,target:n,above:h,below:m,area:s,scale:l,axis:o,clip:f}),wc(e))}function Om(e,t,s){const{segments:n,points:r}=t;let a=!0,i=!1;e.beginPath();for(const l of n){const{start:n,end:o}=l,c=r[n],d=r[km(n,o,r)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,s),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,l,{move:i}),i?e.closePath():e.lineTo(d.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function Lm(e,t,s){const{segments:n,points:r}=t;let a=!0,i=!1;e.beginPath();for(const l of n){const{start:n,end:o}=l,c=r[n],d=r[km(n,o,r)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(s,c.y),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,l,{move:i}),i?e.closePath():e.lineTo(s,d.y)}e.lineTo(s,t.first().y),e.closePath(),e.clip()}function Im(e,t){const{line:s,target:n,property:r,color:a,scale:i,clip:l}=t,o=function(e,t,s){const n=e.segments,r=e.points,a=t.points,i=[];for(const l of n){let{start:e,end:n}=l;n=km(e,n,r);const o=Nm(s,r[e],r[n],l.loop);if(!t.segments){i.push({source:l,target:o,start:r[e],end:r[n]});continue}const c=Cd(t,o);for(const t of c){const e=Nm(s,a[t.start],a[t.end],t.loop),n=Ed(l,r,e);for(const r of n)i.push({source:r,target:t,start:{[s]:Sm(o,e,"start",Math.max)},end:{[s]:Sm(o,e,"end",Math.min)}})}}return i}(s,n,r);for(const{source:c,target:d,start:u,end:h}of o){const{style:{backgroundColor:t=a}={}}=c,o=!0!==n;e.save(),e.fillStyle=t,zm(e,i,l,o&&Nm(r,u,h)),e.beginPath();const m=!!s.pathSegment(e,c);let p;if(o){m?e.closePath():Fm(e,n,h,r);const t=!!n.pathSegment(e,d,{move:m,reverse:!0});p=m&&t,p||Fm(e,n,u,r)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function zm(e,t,s,n){const r=t.chart.chartArea,{property:a,start:i,end:l}=n||{};if("x"===a||"y"===a){let t,n,o,c;"x"===a?(t=i,n=r.top,o=l,c=r.bottom):(t=r.left,n=i,o=r.right,c=l),e.beginPath(),s&&(t=Math.max(t,s.left),o=Math.min(o,s.right),n=Math.max(n,s.top),c=Math.min(c,s.bottom)),e.rect(t,n,o-t,c-n),e.clip()}}function Fm(e,t,s,n){const r=t.interpolate(s,n);r&&e.lineTo(r.x,r.y)}var Um={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,r=[];let a,i,l,o;for(i=0;i<n;++i)a=e.getDatasetMeta(i),l=a.dataset,o=null,l&&l.options&&l instanceof sm&&(o={visible:e.isDatasetVisible(i),index:i,fill:Am(l,i,n),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:l}),a.$filler=o,r.push(o);for(i=0;i<n;++i)o=r[i],o&&!1!==o.fill&&(o.fill=_m(r,i,s.propagate))},beforeDraw(e,t,s){const n="beforeDraw"===s.drawTime,r=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let i=r.length-1;i>=0;--i){const t=r[i].$filler;t&&(t.line.updateControlPoints(a,t.axis),n&&t.fill&&Pm(e.ctx,t,a))}},beforeDatasetsDraw(e,t,s){if("beforeDatasetsDraw"!==s.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const t=n[r].$filler;Cm(t)&&Pm(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;Cm(n)&&"beforeDatasetDraw"===s.drawTime&&Pm(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Bm=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}};class Vm extends eh{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Xl(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,s)=>e.sort(t,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const s=e.labels,n=Lc(s.font),r=n.size,a=this._computeTitleHeight(),{boxWidth:i,itemHeight:l}=Bm(s,r);let o,c;t.font=n.string,this.isHorizontal()?(o=this.maxWidth,c=this._fitRows(a,r,i,l)+10):(c=this.maxHeight,o=this._fitCols(a,n,i,l)+10),this.width=Math.min(o,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,n){const{ctx:r,maxWidth:a,options:{labels:{padding:i}}}=this,l=this.legendHitBoxes=[],o=this.lineWidths=[0],c=n+i;let d=e;r.textAlign="left",r.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,m)=>{const p=s+t/2+r.measureText(e.text).width;(0===m||o[o.length-1]+p+2*i>a)&&(d+=c,o[o.length-(m>0?0:1)]=0,h+=c,u++),l[m]={left:0,top:h,row:u,width:p,height:n},o[o.length-1]+=p+i}),d}_fitCols(e,t,s,n){const{ctx:r,maxHeight:a,options:{labels:{padding:i}}}=this,l=this.legendHitBoxes=[],o=this.columnSizes=[],c=a-e;let d=i,u=0,h=0,m=0,p=0;return this.legendItems.forEach((e,a)=>{const{itemWidth:f,itemHeight:x}=function(e,t,s,n,r){const a=function(e,t,s,n){let r=e.text;r&&"string"!==typeof r&&(r=r.reduce((e,t)=>e.length>t.length?e:t));return t+s.size/2+n.measureText(r).width}(n,e,t,s),i=function(e,t,s){let n=e;"string"!==typeof t.text&&(n=Hm(t,s));return n}(r,n,t.lineHeight);return{itemWidth:a,itemHeight:i}}(s,t,r,e,n);a>0&&h+x+2*i>c&&(d+=u+i,o.push({width:u,height:h}),m+=u+i,p++,u=h=0),l[a]={left:m,top:h,col:p,width:f,height:x},u=Math.max(u,f),h+=x+i}),d+=u,o.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:n},rtl:r}}=this,a=wd(r,this.left,this.width);if(this.isHorizontal()){let r=0,i=qo(s,this.left+n,this.right-this.lineWidths[r]);for(const l of t)r!==l.row&&(r=l.row,i=qo(s,this.left+n,this.right-this.lineWidths[r])),l.top+=this.top+e+n,l.left=a.leftForLtr(a.x(i),l.width),i+=l.width+n}else{let r=0,i=qo(s,this.top+e+n,this.bottom-this.columnSizes[r].height);for(const l of t)l.col!==r&&(r=l.col,i=qo(s,this.top+e+n,this.bottom-this.columnSizes[r].height)),l.top=i,l.left+=this.left+n,l.left=a.leftForLtr(a.x(l.left),l.width),i+=l.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;yc(e,this),this._draw(),wc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:n}=this,{align:r,labels:a}=e,i=hc.color,l=wd(e.rtl,this.left,this.width),o=Lc(a.font),{padding:c}=a,d=o.size,u=d/2;let h;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=o.string;const{boxWidth:m,boxHeight:p,itemHeight:f}=Bm(a,d),x=this.isHorizontal(),g=this._computeTitleHeight();h=x?{x:qo(r,this.left+c,this.right-s[0]),y:this.top+c+g,line:0}:{x:this.left+c,y:qo(r,this.top+g+c,this.bottom-t[0].height),line:0},jd(this.ctx,e.textDirection);const b=f+c;this.legendItems.forEach((v,y)=>{n.strokeStyle=v.fontColor,n.fillStyle=v.fontColor;const w=n.measureText(v.text).width,j=l.textAlign(v.textAlign||(v.textAlign=a.textAlign)),N=m+u+w;let k=h.x,S=h.y;l.setWidth(this.width),x?y>0&&k+N+c>this.right&&(S=h.y+=b,h.line++,k=h.x=qo(r,this.left+c,this.right-s[h.line])):y>0&&S+b>this.bottom&&(k=h.x=k+t[h.line].width+c,h.line++,S=h.y=qo(r,this.top+g+c,this.bottom-t[h.line].height));if(function(e,t,s){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;n.save();const r=Kl(s.lineWidth,1);if(n.fillStyle=Kl(s.fillStyle,i),n.lineCap=Kl(s.lineCap,"butt"),n.lineDashOffset=Kl(s.lineDashOffset,0),n.lineJoin=Kl(s.lineJoin,"miter"),n.lineWidth=r,n.strokeStyle=Kl(s.strokeStyle,i),n.setLineDash(Kl(s.lineDash,[])),a.usePointStyle){const i={radius:p*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:r},o=l.xPlus(e,m/2);bc(n,i,o,t+u,a.pointStyleWidth&&m)}else{const a=t+Math.max((d-p)/2,0),i=l.leftForLtr(e,m),o=Pc(s.borderRadius);n.beginPath(),Object.values(o).some(e=>0!==e)?Cc(n,{x:i,y:a,w:m,h:p,radius:o}):n.rect(i,a,m,p),n.fill(),0!==r&&n.stroke()}n.restore()}(l.x(k),S,v),k=((e,t,s,n)=>e===(n?"left":"right")?s:"center"===e?(t+s)/2:t)(j,k+m+u,x?k+N:this.right,e.rtl),function(e,t,s){Ec(n,s.text,e,t+f/2,o,{strikethrough:s.hidden,textAlign:l.textAlign(s.textAlign)})}(l.x(k),S,v),x)h.x+=N+c;else if("string"!==typeof v.text){const e=o.lineHeight;h.y+=Hm(v,e)+c}else h.y+=b}),Nd(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=Lc(t.font),n=Oc(t.padding);if(!t.display)return;const r=wd(e.rtl,this.left,this.width),a=this.ctx,i=t.position,l=s.size/2,o=n.top+l;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+o,d=qo(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=o+qo(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=qo(i,d,d+u);a.textAlign=r.textAlign(Wo(i)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=s.string,Ec(a,t.text,h,c,s)}_computeTitleHeight(){const e=this.options.title,t=Lc(e.font),s=Oc(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,n,r;if(Oo(e,this.left,this.right)&&Oo(t,this.top,this.bottom))for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(n=r[s],Oo(e,n.left,n.left+n.width)&&Oo(t,n.top,n.top+n.height))return this.legendItems[s];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,i=(r=s,null!==(n=a)&&null!==r&&n.datasetIndex===r.datasetIndex&&n.index===r.index);a&&!i&&Xl(t.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!i&&Xl(t.onHover,[e,s,this],this)}else s&&Xl(t.onClick,[e,s,this],this);var n,r}}function Hm(e,t){return t*(e.text?e.text.length:0)}var Wm={id:"legend",_element:Vm,start(e,t,s){const n=e.legend=new Vm({ctx:e.ctx,options:s,chart:e});Lu.configure(e,n,s),Lu.addBox(e,n)},stop(e){Lu.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;Lu.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,r=s.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:r,color:a,useBorderRadius:i,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const o=e.controller.getStyle(s?0:void 0),c=Oc(o.borderWidth);return{text:t[e.index].label,fillStyle:o.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:o.borderColor,pointStyle:n||o.pointStyle,rotation:o.rotation,textAlign:r||o.textAlign,borderRadius:i&&(l||o.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class qm extends eh{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=Wl(s.text)?s.text.length:1;this._padding=Oc(s.padding);const r=n*Lc(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:s,bottom:n,right:r,options:a}=this,i=a.align;let l,o,c,d=0;return this.isHorizontal()?(o=qo(i,s,r),c=t+e,l=r-s):("left"===a.position?(o=s+e,c=qo(i,n,t),d=-.5*ho):(o=r-e,c=qo(i,t,n),d=.5*ho),l=n-t),{titleX:o,titleY:c,maxWidth:l,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=Lc(t.font),n=s.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:i,rotation:l}=this._drawArgs(n);Ec(e,t.text,0,0,s,{color:t.color,maxWidth:i,rotation:l,textAlign:Wo(t.align),textBaseline:"middle",translation:[r,a]})}}var Ym={id:"title",_element:qm,start(e,t,s){!function(e,t){const s=new qm({ctx:e.ctx,options:t,chart:e});Lu.configure(e,s,t),Lu.addBox(e,s),e.titleBlock=s}(e,s)},stop(e){const t=e.titleBlock;Lu.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;Lu.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jm=new WeakMap;var Km={id:"subtitle",start(e,t,s){const n=new qm({ctx:e.ctx,options:s,chart:e});Lu.configure(e,n,s),Lu.addBox(e,n),Jm.set(e,n)},stop(e){Lu.removeBox(e,Jm.get(e)),Jm.delete(e)},beforeUpdate(e,t,s){const n=Jm.get(e);Lu.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Gm={average(e){if(!e.length)return!1;let t,s,n=new Set,r=0,a=0;for(t=0,s=e.length;t<s;++t){const s=e[t].element;if(s&&s.hasValue()){const e=s.tooltipPosition();n.add(e.x),r+=e.y,++a}}if(0===a||0===n.size)return!1;return{x:[...n].reduce((e,t)=>e+t)/n.size,y:r/a}},nearest(e,t){if(!e.length)return!1;let s,n,r,a=t.x,i=t.y,l=Number.POSITIVE_INFINITY;for(s=0,n=e.length;s<n;++s){const n=e[s].element;if(n&&n.hasValue()){const e=Mo(t,n.getCenterPoint());e<l&&(l=e,r=n)}}if(r){const e=r.tooltipPosition();a=e.x,i=e.y}return{x:a,y:i}}};function Xm(e,t){return t&&(Wl(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Qm(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Zm(e,t){const{element:s,datasetIndex:n,index:r}=t,a=e.getDatasetMeta(n).controller,{label:i,value:l}=a.getLabelAndValue(r);return{chart:e,label:i,parsed:a.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:l,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:s}}function $m(e,t){const s=e.chart.ctx,{body:n,footer:r,title:a}=e,{boxWidth:i,boxHeight:l}=t,o=Lc(t.bodyFont),c=Lc(t.titleFont),d=Lc(t.footerFont),u=a.length,h=r.length,m=n.length,p=Oc(t.padding);let f=p.height,x=0,g=n.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(g+=e.beforeBody.length+e.afterBody.length,u&&(f+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){f+=m*(t.displayColors?Math.max(l,o.lineHeight):o.lineHeight)+(g-m)*o.lineHeight+(g-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let b=0;const v=function(e){x=Math.max(x,s.measureText(e).width+b)};return s.save(),s.font=c.string,Ql(e.title,v),s.font=o.string,Ql(e.beforeBody.concat(e.afterBody),v),b=t.displayColors?i+2+t.boxPadding:0,Ql(n,e=>{Ql(e.before,v),Ql(e.lines,v),Ql(e.after,v)}),b=0,s.font=d.string,Ql(e.footer,v),s.restore(),x+=p.width,{width:x,height:f}}function ep(e,t,s,n){const{x:r,width:a}=s,{width:i,chartArea:{left:l,right:o}}=e;let c="center";return"center"===n?c=r<=(l+o)/2?"left":"right":r<=a/2?c="left":r>=i-a/2&&(c="right"),function(e,t,s,n){const{x:r,width:a}=n,i=s.caretSize+s.caretPadding;return"left"===e&&r+a+i>t.width||"right"===e&&r-a-i<0||void 0}(c,e,t,s)&&(c="center"),c}function tp(e,t,s){const n=s.yAlign||t.yAlign||function(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}(e,s);return{xAlign:s.xAlign||t.xAlign||ep(e,t,s,n),yAlign:n}}function sp(e,t,s,n){const{caretSize:r,caretPadding:a,cornerRadius:i}=e,{xAlign:l,yAlign:o}=s,c=r+a,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Pc(i);let p=function(e,t){let{x:s,width:n}=e;return"right"===t?s-=n:"center"===t&&(s-=n/2),s}(t,l);const f=function(e,t,s){let{y:n,height:r}=e;return"top"===t?n+=s:n-="bottom"===t?r+s:r/2,n}(t,o,c);return"center"===o?"left"===l?p+=c:"right"===l&&(p-=c):"left"===l?p-=Math.max(d,h)+r:"right"===l&&(p+=Math.max(u,m)+r),{x:Po(p,0,n.width-t.width),y:Po(f,0,n.height-t.height)}}function np(e,t,s){const n=Oc(s.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function rp(e){return Xm([],Qm(e))}function ap(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const ip={beforeTitle:Bl,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:Bl,beforeBody:Bl,beforeLabel:Bl,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Hl(s)||(t+=s),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Bl,afterBody:Bl,beforeFooter:Bl,footer:Bl,afterFooter:Bl};function lp(e,t,s,n){const r=e[t].call(s,n);return"undefined"===typeof r?ip[t].call(s,n):r}class op extends eh{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),n=s.enabled&&t.options.animation&&s.animations,r=new zd(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,s=this._tooltipItems,zc(e,{tooltip:t,tooltipItems:s,type:"tooltip"})));var e,t,s}getTitle(e,t){const{callbacks:s}=t,n=lp(s,"beforeTitle",this,e),r=lp(s,"title",this,e),a=lp(s,"afterTitle",this,e);let i=[];return i=Xm(i,Qm(n)),i=Xm(i,Qm(r)),i=Xm(i,Qm(a)),i}getBeforeBody(e,t){return rp(lp(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,n=[];return Ql(e,e=>{const t={before:[],lines:[],after:[]},r=ap(s,e);Xm(t.before,Qm(lp(r,"beforeLabel",this,e))),Xm(t.lines,lp(r,"label",this,e)),Xm(t.after,Qm(lp(r,"afterLabel",this,e))),n.push(t)}),n}getAfterBody(e,t){return rp(lp(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,n=lp(s,"beforeFooter",this,e),r=lp(s,"footer",this,e),a=lp(s,"afterFooter",this,e);let i=[];return i=Xm(i,Qm(n)),i=Xm(i,Qm(r)),i=Xm(i,Qm(a)),i}_createItems(e){const t=this._active,s=this.chart.data,n=[],r=[],a=[];let i,l,o=[];for(i=0,l=t.length;i<l;++i)o.push(Zm(this.chart,t[i]));return e.filter&&(o=o.filter((t,n,r)=>e.filter(t,n,r,s))),e.itemSort&&(o=o.sort((t,n)=>e.itemSort(t,n,s))),Ql(o,t=>{const s=ap(e.callbacks,t);n.push(lp(s,"labelColor",this,t)),r.push(lp(s,"labelPointStyle",this,t)),a.push(lp(s,"labelTextColor",this,t))}),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=o,o}update(e,t){const s=this.options.setContext(this.getContext()),n=this._active;let r,a=[];if(n.length){const e=Gm[s.position].call(this,n,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const t=this._size=$m(this,s),i=Object.assign({},e,t),l=tp(this.chart,s,i),o=sp(s,i,l,this.chart);this.xAlign=l.xAlign,this.yAlign=l.yAlign,r={opacity:1,x:o.x,y:o.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,n){const r=this.getCaretPosition(e,s,n);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,s){const{xAlign:n,yAlign:r}=this,{caretSize:a,cornerRadius:i}=s,{topLeft:l,topRight:o,bottomLeft:c,bottomRight:d}=Pc(i),{x:u,y:h}=e,{width:m,height:p}=t;let f,x,g,b,v,y;return"center"===r?(v=h+p/2,"left"===n?(f=u,x=f-a,b=v+a,y=v-a):(f=u+m,x=f+a,b=v-a,y=v+a),g=f):(x="left"===n?u+Math.max(l,c)+a:"right"===n?u+m-Math.max(o,d)-a:this.caretX,"top"===r?(b=h,v=b-a,f=x-a,g=x+a):(b=h+p,v=b+a,f=x+a,g=x-a),y=b),{x1:f,x2:x,x3:g,y1:b,y2:v,y3:y}}drawTitle(e,t,s){const n=this.title,r=n.length;let a,i,l;if(r){const o=wd(s.rtl,this.x,this.width);for(e.x=np(this,s.titleAlign,s),t.textAlign=o.textAlign(s.titleAlign),t.textBaseline="middle",a=Lc(s.titleFont),i=s.titleSpacing,t.fillStyle=s.titleColor,t.font=a.string,l=0;l<r;++l)t.fillText(n[l],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i,l+1===r&&(e.y+=s.titleMarginBottom-i)}}_drawColorBox(e,t,s,n,r){const a=this.labelColors[s],i=this.labelPointStyles[s],{boxHeight:l,boxWidth:o}=r,c=Lc(r.bodyFont),d=np(this,"left",r),u=n.x(d),h=l<c.lineHeight?(c.lineHeight-l)/2:0,m=t.y+h;if(r.usePointStyle){const t={radius:Math.min(o,l)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},s=n.leftForLtr(u,o)+o/2,c=m+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,gc(e,t,s,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,gc(e,t,s,c)}else{e.lineWidth=ql(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=n.leftForLtr(u,o),s=n.leftForLtr(n.xPlus(u,1),o-2),i=Pc(a.borderRadius);Object.values(i).some(e=>0!==e)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Cc(e,{x:t,y:m,w:o,h:l,radius:i}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Cc(e,{x:s,y:m+1,w:o-2,h:l-2,radius:i}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,m,o,l),e.strokeRect(t,m,o,l),e.fillStyle=a.backgroundColor,e.fillRect(s,m+1,o-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:n}=this,{bodySpacing:r,bodyAlign:a,displayColors:i,boxHeight:l,boxWidth:o,boxPadding:c}=s,d=Lc(s.bodyFont);let u=d.lineHeight,h=0;const m=wd(s.rtl,this.x,this.width),p=function(s){t.fillText(s,m.x(e.x+h),e.y+u/2),e.y+=u+r},f=m.textAlign(a);let x,g,b,v,y,w,j;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=np(this,f,s),t.fillStyle=s.bodyColor,Ql(this.beforeBody,p),h=i&&"right"!==f?"center"===a?o/2+c:o+2+c:0,v=0,w=n.length;v<w;++v){for(x=n[v],g=this.labelTextColors[v],t.fillStyle=g,Ql(x.before,p),b=x.lines,i&&b.length&&(this._drawColorBox(t,e,v,m,s),u=Math.max(d.lineHeight,l)),y=0,j=b.length;y<j;++y)p(b[y]),u=d.lineHeight;Ql(x.after,p)}h=0,u=d.lineHeight,Ql(this.afterBody,p),e.y-=r}drawFooter(e,t,s){const n=this.footer,r=n.length;let a,i;if(r){const l=wd(s.rtl,this.x,this.width);for(e.x=np(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=l.textAlign(s.footerAlign),t.textBaseline="middle",a=Lc(s.footerFont),t.fillStyle=s.footerColor,t.font=a.string,i=0;i<r;++i)t.fillText(n[i],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,t,s,n){const{xAlign:r,yAlign:a}=this,{x:i,y:l}=e,{width:o,height:c}=s,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Pc(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(i+d,l),"top"===a&&this.drawCaret(e,t,s,n),t.lineTo(i+o-u,l),t.quadraticCurveTo(i+o,l,i+o,l+u),"center"===a&&"right"===r&&this.drawCaret(e,t,s,n),t.lineTo(i+o,l+c-m),t.quadraticCurveTo(i+o,l+c,i+o-m,l+c),"bottom"===a&&this.drawCaret(e,t,s,n),t.lineTo(i+h,l+c),t.quadraticCurveTo(i,l+c,i,l+c-h),"center"===a&&"left"===r&&this.drawCaret(e,t,s,n),t.lineTo(i,l+d),t.quadraticCurveTo(i,l,i+d,l),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,n=s&&s.x,r=s&&s.y;if(n||r){const s=Gm[e.position].call(this,this._active,this._eventPosition);if(!s)return;const a=this._size=$m(this,e),i=Object.assign({},s,this._size),l=tp(t,e,i),o=sp(e,i,l,t);n._to===o.x&&r._to===o.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=a.width,this.height=a.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,o))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=Oc(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,n,t),jd(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),Nd(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,n=e.map(e=>{let{datasetIndex:t,index:s}=e;const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[s],index:s}}),r=!Zl(s,n),a=this._positionChanged(n,t);(r||a)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,s),i=this._positionChanged(a,e),l=t||!Zl(a,r)||i;return l&&(this._active=a,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,s,n){const r=this.options;if("mouseout"===e.type)return[];if(!n)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const a=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:s,caretY:n,options:r}=this,a=Gm[r.position].call(this,e,t);return!1!==a&&(s!==a.x||n!==a.y)}}l(op,"positioners",Gm);var cp={id:"tooltip",_element:op,positioners:Gm,afterInit(e,t,s){s&&(e.tooltip=new op({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",c(c({},s),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ip},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},dp=Object.freeze({__proto__:null,Colors:vm,Decimation:jm,Filler:Um,Legend:Wm,SubTitle:Km,Title:Ym,Tooltip:cp});function up(e,t,s,n){const r=e.indexOf(t);if(-1===r)return((e,t,s,n)=>("string"===typeof t?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s))(e,t,s,n);return r!==e.lastIndexOf(t)?s:r}function hp(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class mp extends dh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:s,label:n}of t)e[s]===n&&e.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Hl(e))return null;const s=this.getLabels();return((e,t)=>null===e?null:Po(Math.round(e),0,t))(t=isFinite(t)&&s[t]===e?t:up(s,e,Kl(t,e),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(s=0),t||(n=this.getLabels().length-1)),this.min=s,this.max=n}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,n=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let a=e;a<=t;a++)n.push({value:a});return n}getLabelForValue(e){return hp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function pp(e,t){const s=[],{bounds:n,step:r,min:a,max:i,precision:l,count:o,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=r||1,m=c-1,{min:p,max:f}=t,x=!Hl(a),g=!Hl(i),b=!Hl(o),v=(f-p)/(d+1);let y,w,j,N,k=No((f-p)/m/h)*h;if(k<1e-14&&!x&&!g)return[{value:p},{value:f}];N=Math.ceil(f/k)-Math.floor(p/k),N>m&&(k=No(N*k/m/h)*h),Hl(l)||(y=Math.pow(10,l),k=Math.ceil(k*y)/y),"ticks"===n?(w=Math.floor(p/k)*k,j=Math.ceil(f/k)*k):(w=p,j=f),x&&g&&r&&function(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}((i-a)/r,k/1e3)?(N=Math.round(Math.min((i-a)/k,c)),k=(i-a)/N,w=a,j=i):b?(w=x?a:w,j=g?i:j,N=o-1,k=(j-w)/N):(N=(j-w)/k,N=jo(N,Math.round(N),k/1e3)?Math.round(N):Math.ceil(N));const S=Math.max(_o(k),_o(w));y=Math.pow(10,Hl(l)?S:l),w=Math.round(w*y)/y,j=Math.round(j*y)/y;let E=0;for(x&&(u&&w!==a?(s.push({value:a}),w<a&&E++,jo(Math.round((w+E*k)*y)/y,a,fp(a,v,e))&&E++):w<a&&E++);E<N;++E){const e=Math.round((w+E*k)*y)/y;if(g&&e>i)break;s.push({value:e})}return g&&u&&j!==i?s.length&&jo(s[s.length-1].value,i,fp(i,v,e))?s[s.length-1].value=i:s.push({value:i}):g&&j!==i||s.push({value:j}),s}function fp(e,t,s){let{horizontal:n,minRotation:r}=s;const a=Eo(r),i=(n?Math.sin(a):Math.cos(a))||.001,l=.75*t*(""+e).length;return Math.min(t/i,l)}l(mp,"id","category"),l(mp,"defaults",{ticks:{callback:hp}});class xp extends dh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Hl(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:r}=this;const a=e=>n=t?n:e,i=e=>r=s?r:e;if(e){const e=wo(n),t=wo(r);e<0&&t<0?i(0):e>0&&t>0&&a(0)}if(n===r){let t=0===r?1:Math.abs(.05*r);i(r+t),e||a(n-t)}this.min=n,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:s,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(n," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const n=pp({maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&So(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const n=(s-t)/Math.max(e.length-1,1)/2;t-=n,s+=n}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return rc(e,this.chart.options.locale,this.options.ticks.format)}}class gp extends xp{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Yl(e)?e:0,this.max=Yl(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=Eo(this.options.ticks.minRotation),n=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}l(gp,"id","linear"),l(gp,"defaults",{ticks:{callback:ic.formatters.numeric}});const bp=e=>Math.floor(yo(e)),vp=(e,t)=>Math.pow(10,bp(e)+t);function yp(e){return 1===e/Math.pow(10,bp(e))}function wp(e,t,s){const n=Math.pow(10,s),r=Math.floor(e/n);return Math.ceil(t/n)-r}function jp(e,t){let{min:s,max:n}=t;s=Jl(e.min,s);const r=[],a=bp(s);let i=function(e,t){let s=bp(t-e);for(;wp(e,t,s)>10;)s++;for(;wp(e,t,s)<10;)s--;return Math.min(s,bp(e))}(s,n),l=i<0?Math.pow(10,Math.abs(i)):1;const o=Math.pow(10,i),c=a>i?Math.pow(10,a):0,d=Math.round((s-c)*l)/l,u=Math.floor((s-c)/o/10)*o*10;let h=Math.floor((d-u)/Math.pow(10,i)),m=Jl(e.min,Math.round((c+u+h*Math.pow(10,i))*l)/l);for(;m<n;)r.push({value:m,major:yp(m),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,l=i>=0?1:l),m=Math.round((c+u+h*Math.pow(10,i))*l)/l;const p=Jl(e.max,m);return r.push({value:p,major:yp(p),significand:h}),r}class Np extends dh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=xp.prototype.parse.apply(this,[e,t]);if(0!==s)return Yl(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Yl(e)?Math.max(0,e):null,this.max=Yl(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Yl(this._userMin)&&(this.min=e===vp(this.min,0)?vp(this.min,-1):vp(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,n=this.max;const r=t=>s=e?s:t,a=e=>n=t?n:e;s===n&&(s<=0?(r(1),a(10)):(r(vp(s,-1)),a(vp(n,1)))),s<=0&&r(vp(n,-1)),n<=0&&a(vp(s,1)),this.min=s,this.max=n}buildTicks(){const e=this.options,t=jp({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&So(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":rc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=yo(e),this._valueRange=yo(this.max)-yo(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(yo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function kp(e){const t=e.ticks;if(t.display&&e.display){const e=Oc(t.backdropPadding);return Kl(t.font&&t.font.size,hc.font.size)+e.height}return 0}function Sp(e,t,s){return s=Wl(s)?s:[s],{w:pc(e,t.string,s),h:s.length*t.lineHeight}}function Ep(e,t,s,n,r){return e===n||e===r?{start:t-s/2,end:t+s/2}:e<n||e>r?{start:t-s,end:t}:{start:t,end:t+s}}function Cp(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],r=[],a=e._pointLabels.length,i=e.options.pointLabels,l=i.centerPointLabels?ho/a:0;for(let o=0;o<a;o++){const a=i.setContext(e.getPointLabelContext(o));r[o]=a.padding;const c=e.getPointPosition(o,e.drawingArea+r[o],l),d=Lc(a.font),u=Sp(e.ctx,d,e._pointLabels[o]);n[o]=u;const h=To(e.getIndexAngle(o)+l),m=Math.round(Co(h));_p(s,t,h,Ep(m,c.x,u.w,0,180),Ep(m,c.y,u.h,90,270))}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=function(e,t,s){const n=[],r=e._pointLabels.length,a=e.options,{centerPointLabels:i,display:l}=a.pointLabels,o={extra:kp(a)/2,additionalAngle:i?ho/r:0};let c;for(let d=0;d<r;d++){o.padding=s[d],o.size=t[d];const r=Ap(e,d,o);n.push(r),"auto"===l&&(r.visible=Mp(r,c),r.visible&&(c=r))}return n}(e,n,r)}function _p(e,t,s,n,r){const a=Math.abs(Math.sin(s)),i=Math.abs(Math.cos(s));let l=0,o=0;n.start<t.l?(l=(t.l-n.start)/a,e.l=Math.min(e.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/a,e.r=Math.max(e.r,t.r+l)),r.start<t.t?(o=(t.t-r.start)/i,e.t=Math.min(e.t,t.t-o)):r.end>t.b&&(o=(r.end-t.b)/i,e.b=Math.max(e.b,t.b+o))}function Ap(e,t,s){const n=e.drawingArea,{extra:r,additionalAngle:a,padding:i,size:l}=s,o=e.getPointPosition(t,n+r+i,a),c=Math.round(Co(To(o.angle+go))),d=function(e,t,s){90===s||270===s?e-=t/2:(s>270||s<90)&&(e-=t);return e}(o.y,l.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,s){"right"===s?e-=t:"center"===s&&(e-=t/2);return e}(o.x,l.w,u);return{visible:!0,x:o.x,y:d,textAlign:u,left:h,top:d,right:h+l.w,bottom:d+l.h}}function Mp(e,t){if(!t)return!0;const{left:s,top:n,right:r,bottom:a}=e;return!(vc({x:s,y:n},t)||vc({x:s,y:a},t)||vc({x:r,y:n},t)||vc({x:r,y:a},t))}function Dp(e,t,s){const{left:n,top:r,right:a,bottom:i}=s,{backdropColor:l}=t;if(!Hl(l)){const s=Pc(t.borderRadius),o=Oc(t.backdropPadding);e.fillStyle=l;const c=n-o.left,d=r-o.top,u=a-n+o.width,h=i-r+o.height;Object.values(s).some(e=>0!==e)?(e.beginPath(),Cc(e,{x:c,y:d,w:u,h:h,radius:s}),e.fill()):e.fillRect(c,d,u,h)}}function Tp(e,t,s,n){const{ctx:r}=e;if(s)r.arc(e.xCenter,e.yCenter,t,0,mo);else{let s=e.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<n;a++)s=e.getPointPosition(a,t),r.lineTo(s.x,s.y)}}l(Np,"id","logarithmic"),l(Np,"defaults",{ticks:{callback:ic.formatters.logarithmic,major:{enabled:!0}}});class Rp extends xp{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Oc(kp(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Yl(e)&&!isNaN(e)?e:0,this.max=Yl(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/kp(this.options))}generateTickLabels(e){xp.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const s=Xl(this.options.pointLabels.callback,[e,t],this);return s||0===s?s:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?Cp(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,n))}getIndexAngle(e){return To(e*(mo/(this._pointLabels.length||1))+Eo(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Hl(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Hl(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return function(e,t,s){return zc(e,{label:s,index:t,type:"pointLabel"})}(this.getContext(),e,s)}}getPointPosition(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getIndexAngle(e)-go+s;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:n,bottom:r}=this._pointLabelItems[e];return{left:t,top:s,right:n,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),Tp(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:n,border:r}=t,a=this._pointLabels.length;let i,l,o;if(t.pointLabels.display&&function(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let r=t-1;r>=0;r--){const t=e._pointLabelItems[r];if(!t.visible)continue;const a=n.setContext(e.getPointLabelContext(r));Dp(s,a,t);const i=Lc(a.font),{x:l,y:o,textAlign:c}=t;Ec(s,e._pointLabels[r],l,o+i.lineHeight/2,i,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),n.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){l=this.getDistanceFromCenterForValue(e.value);const s=this.getContext(t),i=n.setContext(s),o=r.setContext(s);!function(e,t,s,n,r){const a=e.ctx,i=t.circular,{color:l,lineWidth:o}=t;!i&&!n||!l||!o||s<0||(a.save(),a.strokeStyle=l,a.lineWidth=o,a.setLineDash(r.dash||[]),a.lineDashOffset=r.dashOffset,a.beginPath(),Tp(e,s,i,n),a.closePath(),a.stroke(),a.restore())}(this,i,l,a,o)}}),s.display){for(e.save(),i=a-1;i>=0;i--){const n=s.setContext(this.getPointLabelContext(i)),{color:r,lineWidth:a}=n;a&&r&&(e.lineWidth=a,e.strokeStyle=r,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),o=this.getPointPosition(i,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(o.x,o.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const n=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((n,i)=>{if(0===i&&this.min>=0&&!t.reverse)return;const l=s.setContext(this.getContext(i)),o=Lc(l.font);if(r=this.getDistanceFromCenterForValue(this.ticks[i].value),l.showLabelBackdrop){e.font=o.string,a=e.measureText(n.label).width,e.fillStyle=l.backdropColor;const t=Oc(l.backdropPadding);e.fillRect(-a/2-t.left,-r-o.size/2-t.top,a+t.width,o.size+t.height)}Ec(e,n.label,0,-r,o,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}}l(Rp,"id","radialLinear"),l(Rp,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ic.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),l(Rp,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),l(Rp,"descriptors",{angleLines:{_fallback:"grid"}});const Pp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Op=Object.keys(Pp);function Lp(e,t){return e-t}function Ip(e,t){if(Hl(t))return null;const s=e._adapter,{parser:n,round:r,isoWeekday:a}=e._parseOpts;let i=t;return"function"===typeof n&&(i=n(i)),Yl(i)||(i="string"===typeof n?s.parse(i,n):s.parse(i)),null===i?null:(r&&(i="week"!==r||!ko(a)&&!0!==a?s.startOf(i,r):s.startOf(i,"isoWeek",a)),+i)}function zp(e,t,s,n){const r=Op.length;for(let a=Op.indexOf(e);a<r-1;++a){const e=Pp[Op[a]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((s-t)/(r*e.size))<=n)return Op[a]}return Op[r-1]}function Fp(e,t,s){if(s){if(s.length){const{lo:n,hi:r}=Lo(s,t);e[s[n]>=t?s[n]:s[r]]=!0}}else e[t]=!0}function Up(e,t,s){const n=[],r={},a=t.length;let i,l;for(i=0;i<a;++i)l=t[i],r[l]=i,n.push({value:l,major:!1});return 0!==a&&s?function(e,t,s,n){const r=e._adapter,a=+r.startOf(t[0].value,n),i=t[t.length-1].value;let l,o;for(l=a;l<=i;l=+r.add(l,1,n))o=s[l],o>=0&&(t[o].major=!0);return t}(e,n,r,s):n}class Bp extends dh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.time||(e.time={}),n=this._adapter=new xu(e.adapters.date);n.init(t),no(s.displayFormats,n.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Ip(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:n,max:r,minDefined:a,maxDefined:i}=this.getUserBounds();function l(e){a||isNaN(e.min)||(n=Math.min(n,e.min)),i||isNaN(e.max)||(r=Math.max(r,e.max))}a&&i||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),n=Yl(n)&&!isNaN(n)?n:+t.startOf(Date.now(),s),r=Yl(r)&&!isNaN(r)?r:+t.endOf(Date.now(),s)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,n="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,a=function(e,t,s){let n=0,r=e.length;for(;n<r&&e[n]<t;)n++;for(;r>n&&e[r-1]>s;)r--;return n>0||r<e.length?e.slice(n,r):e}(n,r,this.max);return this._unit=t.unit||(s.autoSkip?zp(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,s,n,r){for(let a=Op.length-1;a>=Op.indexOf(s);a--){const s=Op[a];if(Pp[s].common&&e._adapter.diff(r,n,s)>=t-1)return s}return Op[s?Op.indexOf(s):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function(e){for(let t=Op.indexOf(e)+1,s=Op.length;t<s;++t)if(Pp[Op[t]].common)return Op[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&a.reverse(),Up(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0,r=0;this.options.offset&&s.length&&(e=this.getDecimalForValue(s[0]),n=1===s.length?1-e:(this.getDecimalForValue(s[1])-e)/2,t=this.getDecimalForValue(s[s.length-1]),r=1===s.length?t:(t-this.getDecimalForValue(s[s.length-2]))/2);const a=s.length<3?.5:.25;n=Po(n,0,a),r=Po(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,t=this.min,s=this.max,n=this.options,r=n.time,a=r.unit||zp(r.minUnit,t,s,this._getLabelCapacity(t)),i=Kl(n.ticks.stepSize,1),l="week"===a&&r.isoWeekday,o=ko(l)||!0===l,c={};let d,u,h=t;if(o&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,o?"day":a),e.diff(s,t,a)>1e5*i)throw new Error(t+" and "+s+" are too far apart with stepSize of "+i+" "+a);const m="data"===n.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<s;d=+e.add(d,i,a),u++)Fp(c,d,m);return d!==s&&"ticks"!==n.bounds&&1!==u||Fp(c,d,m),Object.keys(c).sort(Lp).map(e=>+e)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,n=this._unit,r=t||s[n];return this._adapter.format(e,r)}_tickFormatFunction(e,t,s,n){const r=this.options,a=r.ticks.callback;if(a)return Xl(a,[e,t,s],this);const i=r.time.displayFormats,l=this._unit,o=this._majorUnit,c=l&&i[l],d=o&&i[o],u=s[t],h=o&&d&&u&&u.major;return this._adapter.format(e,n||(h?d:c))}generateTickLabels(e){let t,s,n;for(t=0,s=e.length;t<s;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,n=Eo(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(n),a=Math.sin(n),i=this._resolveTickFontOptions(0).size;return{w:s*r+i*a,h:s*a+i*r}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,n=s[t.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Up(this,[e],this._majorUnit),n),a=this._getLabelSize(r),i=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,s=this._cache.data||[];if(s.length)return s;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)s=s.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const n=this.getLabels();for(t=0,s=n.length;t<s;++t)e.push(Ip(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Bo(e.sort(Lp))}}function Vp(e,t,s){let n,r,a,i,l=0,o=e.length-1;s?(t>=e[l].pos&&t<=e[o].pos&&({lo:l,hi:o}=Io(e,"pos",t)),({pos:n,time:a}=e[l]),({pos:r,time:i}=e[o])):(t>=e[l].time&&t<=e[o].time&&({lo:l,hi:o}=Io(e,"time",t)),({time:n,pos:a}=e[l]),({time:r,pos:i}=e[o]));const c=r-n;return c?a+(i-a)*(t-n)/c:a}l(Bp,"id","time"),l(Bp,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Hp extends Bp{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Vp(t,this.min),this._tableRange=Vp(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,n=[],r=[];let a,i,l,o,c;for(a=0,i=e.length;a<i;++a)o=e[a],o>=t&&o<=s&&n.push(o);if(n.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(a=0,i=n.length;a<i;++a)c=n[a+1],l=n[a-1],o=n[a],Math.round((c+l)/2)!==o&&r.push({time:o,pos:a/(i-1)});return r}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return s.includes(e)&&s.length||s.splice(0,0,e),s.includes(t)&&1!==s.length||s.push(t),s.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return e=t.length&&s.length?this.normalize(t.concat(s)):t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Vp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return Vp(this._table,s*this._tableRange+this._minPos,!0)}}l(Hp,"id","timeseries"),l(Hp,"defaults",Bp.defaults);const Wp=[mu,hm,dp,Object.freeze({__proto__:null,CategoryScale:mp,LinearScale:gp,LogarithmicScale:Np,RadialLinearScale:Rp,TimeScale:Bp,TimeSeriesScale:Hp})];Bh.register(...Wp);const qp=Bh,Yp=Tt("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Jp=Tt("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Kp=Tt("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Gp=[{border:"#2B6CB0",background:"rgba(43,108,176,0.08)"},{border:"#6B7280",background:"rgba(107,114,128,0.08)"},{border:"#16A34A",background:"rgba(22,163,74,0.08)"},{border:"#D97706",background:"rgba(217,119,6,0.06)"},{border:"#44403C",background:"rgba(68,64,60,0.06)"},{border:"#475569",background:"rgba(71,85,105,0.06)"}],Xp=["#2B6CB0","#6B7280","#16A34A","#D97706","#475569","#94A3B8","#CBD5E1","#9CA3AF"],Qp=[{id:"faux-diplomes",name:"Faux dipl\xf4mes",subtitle:"D\xe9livrance ill\xe9gale",icon:"\ud83d\udcdc"},{id:"offre-formation-irreguliere",name:"Offre de formation\nirr\xe9guli\xe8re (non habilit\xe9)",subtitle:"Offre irr\xe9guli\xe8re",icon:"\ud83c\udf93"},{id:"recrutements-irreguliers",name:"Recrutements",subtitle:"Irr\xe9gularit\xe9s RH",icon:"\ud83d\udc65"},{id:"harcelement",name:"Harc\xe8lement",subtitle:"Signalements",icon:"\u26a0\ufe0f"},{id:"corruption",name:"Corruption",subtitle:"Malversations",icon:"\ud83d\udd34"},{id:"divers",name:"Divers",subtitle:"Autres",icon:"\ud83c\udff7\ufe0f"}],Zp=e=>{let{title:t,value:s,subtitle:n,icon:r,color:a,onClick:i,isActive:l}=e;return(0,kt.jsx)("div",{onClick:i,className:"bg-white rounded-xl p-4 shadow-sm border cursor-pointer transition-all duration-200 \n      ".concat(l?"ring-2 ring-blue-500 border-blue-500 bg-blue-50/30":"border-slate-100 hover:shadow-md hover:border-slate-200"),children:(0,kt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,kt.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,kt.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide truncate ".concat(l?"text-blue-700":"text-slate-500"),children:t}),(0,kt.jsx)("p",{className:"mt-1 text-2xl font-bold text-slate-900 truncate",children:s}),n&&(0,kt.jsx)("p",{className:"text-xs text-slate-400 mt-0.5 truncate",children:n})]}),(0,kt.jsx)("div",{className:"p-2 rounded-lg ".concat(a," bg-opacity-10 flex-shrink-0 ml-2"),children:(0,kt.jsx)("span",{className:"text-xl",children:r})})]})})},$p=e=>({en_cours:"En cours",investigation:"Ouverture d'enqu\xeates",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes",classifier:"Dossier class\xe9 sans suite"}[e]||e||"Statut inconnu"),ef=e=>{let{isSorted:t,isAsc:s}=e;return t?s?(0,kt.jsx)(Jp,{className:"w-3 h-3 text-blue-600"}):(0,kt.jsx)(Kp,{className:"w-3 h-3 text-blue-600"}):(0,kt.jsx)(Yp,{className:"w-3 h-3 text-gray-400"})},tf=e=>e.toISOString().split("T")[0];function sf(){const e=(0,t.useRef)(null),s=(0,t.useRef)(null),n=(0,t.useRef)(null),r=(0,t.useRef)(null),a=(0,t.useRef)(null),i=(0,t.useRef)(null),[l,o]=(pe(),(0,t.useState)([])),[d,u]=(0,t.useState)([]),[h,m]=(0,t.useState)([]),[p,f]=(0,t.useState)({total:0,en_cours:0,investigation:0,transmis_autorite:0,classifier:0}),[x,g]=(0,t.useState)(!0),[b,v]=(0,t.useState)(""),[y,w]=(0,t.useState)({startDate:null,endDate:null}),[j,N]=(0,t.useState)(!1),[k,S]=(0,t.useState)("presets"),[E,C]=(0,t.useState)("all"),[_,A]=(0,t.useState)(1),[M,D]=(0,t.useState)(10),[T,R]=(0,t.useState)([]),[P,O]=(0,t.useState)(0),[L,I]=(0,t.useState)({key:"date",direction:"desc"}),z=(0,t.useCallback)((e,t,s)=>{if(!e||0===e.length)return[];if(!t&&!s)return e;const n=t?new Date(t):null,r=s?new Date(s):null;return r&&r.setHours(23,59,59,999),e.filter(e=>{if(!e.created_at)return!1;const t=new Date(e.created_at);return n&&r?t>=n&&t<=r:n?t>=n:!r||t<=r})},[]),F=(0,t.useCallback)(e=>{const t={total:e.length,en_cours:e.filter(e=>"en_cours"===e.status).length,investigation:e.filter(e=>"investigation"===e.status).length,transmis_autorite:e.filter(e=>"transmis_autorite"===e.status).length,classifier:e.filter(e=>"classifier"===e.status).length},s=Qp.map((t,s)=>{const n=e.filter(e=>e.category===t.id),r=n.filter(e=>"en_cours"===e.status).length,a=n.filter(e=>"investigation"===e.status).length,i=n.filter(e=>"transmis_autorite"===e.status).length,l=n.filter(e=>"classifier"===e.status).length;return c(c({},t),{},{total:n.length,encours:r,investigation:a,transmis_autorite:i,classifier:l,color:Gp[s]})});return{stats:t,categories:s}},[]);(0,t.useEffect)(()=>((()=>{const e=Qp.map((e,t)=>c(c({},e),{},{total:0,encours:0,investigation:0,transmis_autorite:0,classifier:0,color:Gp[t]}));m(e)})(),U(),()=>{r.current&&r.current.destroy(),a.current&&a.current.destroy(),i.current&&i.current.destroy()}),[]),(0,t.useEffect)(()=>{if(l.length>0){const e=z(l,y.startDate,y.endDate);u(e)}},[l,y,z]),(0,t.useEffect)(()=>{if(d.length>0){const{stats:e,categories:t}=F(d);f(e),m(t)}else{f({total:0,en_cours:0,investigation:0,transmis_autorite:0,classifier:0});const e=Qp.map((e,t)=>c(c({},e),{},{total:0,encours:0,investigation:0,transmis_autorite:0,classifier:0,color:Gp[t]}));m(e)}},[d,F]),(0,t.useEffect)(()=>{d.length>0&&h.length>0&&(q(),Y(),J())},[d,h]),(0,t.useEffect)(()=>{B()},[d,_,M,E,L]);const U=async()=>{try{var e;g(!0),v("");const t=await or.get("/reports?per_page=5000"),s=Array.isArray(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)?t.data.data:[];o(s)}catch(t){console.error("Erreur dashboard:",t),v("Erreur lors du chargement des donn\xe9es")}finally{g(!1)}},B=()=>{let e=[...d];"all"!==E&&(e="en_cours"===E?e.filter(e=>"en_cours"===e.status||"investigation"===e.status):e.filter(e=>e.status===E)),e.sort((e,t)=>{if(!L.key)return 0;let s=e[L.key],n=t[L.key];return"date"===L.key&&(s=new Date(e.created_at||0),n=new Date(t.created_at||0)),"reference"===L.key&&(s=(e.reference||"REF-".concat(e.id)).toLowerCase(),n=(t.reference||"REF-".concat(t.id)).toLowerCase()),"description"===L.key&&(s=(e.description||"").toLowerCase(),n=(t.description||"").toLowerCase()),s<n?"asc"===L.direction?-1:1:s>n?"asc"===L.direction?1:-1:0}),O(e.length);const t=(_-1)*M,s=t+M,n=e.slice(t,s).map(e=>{const t=e.description||"Aucune description",s=t.length>80?t.substring(0,80)+"...":t,n=h.find(t=>t.id===e.category),r=n?n.name:e.category;return{id:e.id,reference:e.reference||"REF-".concat(e.id),date:e.created_at?new Date(e.created_at).toLocaleDateString("fr-FR"):"-",name:e.is_anonymous?"Anonyme":e.name||"Non sp\xe9cifi\xe9",category:r,regionprovince:e.region||"-",status:e.status,displayStatus:$p(e.status),description:e.description||"Aucune description",shortDescription:s,rawStatus:e.status}});R(n)},V=e=>{I(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})),A(1)},H=e=>{let t;t="en_cours"===e?"en_cours"===E?"all":"en_cours":E===e?"all":e,C(t),A(1)},W=()=>{let e=[],t=[];new Date;const s=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"];let n=new Date,r=new Date;y.startDate&&(n=new Date(y.startDate)),y.endDate&&(r=new Date(y.endDate));const a=Math.abs(r-n),i=Math.ceil(a/864e5),l=(e,t)=>h.map(s=>{const n=e.map((e,n)=>{const r=t[n];return d.filter(e=>{if(!e.created_at)return!1;const t=new Date(e.created_at);return r(t)&&e.category===s.id}).length});return{label:s.name.replace(/\n/g," "),data:n,borderColor:s.color.border,backgroundColor:s.color.background,tension:.4,fill:!1,pointRadius:3,borderWidth:2}});if(i<=1){const s=Array.from({length:24},(e,t)=>{const s=new Date(n);return s.setHours(t,0,0,0),s});e=s.map(e=>"".concat(e.getHours(),"h"));t=l(e,s.map(e=>t=>t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()&&t.getHours()===e.getHours()))}else if(i<=7){const s=Array.from({length:i+1},(e,t)=>{const s=new Date(n);return s.setDate(n.getDate()+t),s});e=s.map(e=>"".concat(e.getDate(),"/").concat(e.getMonth()+1));t=l(e,s.map(e=>t=>t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()))}else if(i<=30){const s=Math.ceil(i/7);e=Array.from({length:s},(e,t)=>"Sem ".concat(t+1));t=l(e,Array.from({length:s},(e,t)=>{const s=new Date(n);s.setDate(n.getDate()+7*t);const r=new Date(s);return r.setDate(s.getDate()+6),e=>e>=s&&e<=r}))}else{const a=n.getMonth(),i=n.getFullYear(),o=r.getMonth(),c=12*(r.getFullYear()-i)+(o-a)+1,d=Array.from({length:c},(e,t)=>new Date(i,a+t,1));e=d.map(e=>"".concat(s[e.getMonth()]," ").concat(e.getFullYear()));t=l(e,d.map(e=>t=>t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()))}return{labels:e,datasets:t}},q=()=>{if(!e.current)return;const{labels:t,datasets:s}=W();r.current&&r.current.destroy();const n=e.current.getContext("2d");r.current=new qp(n,{type:"line",data:{labels:t,datasets:s},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:window.innerWidth<768?"top":"bottom",labels:{usePointStyle:!0,boxWidth:8,font:{size:window.innerWidth<768?8:9},padding:15}}},scales:{x:{grid:{display:!1},ticks:{font:{size:window.innerWidth<768?9:10},maxRotation:window.innerWidth<768?45:0}},y:{beginAtZero:!0,grid:{borderDash:[2,4]},ticks:{font:{size:window.innerWidth<768?9:10}}}}}})},Y=()=>{if(!s.current)return;a.current&&a.current.destroy();const{labels:e,datasets:t}=(()=>{let e=[],t=[];if(y.startDate||y.endDate){const{labels:s}=W();e=s;const n=y.startDate?new Date(y.startDate):new Date,r=y.endDate?new Date(y.endDate):new Date,a=Math.abs(r-n),i=Math.ceil(a/864e5);let l=[];if(i<=1)l=Array.from({length:24},(e,t)=>{const s=new Date(n);return s.setHours(t,0,0,0),s});else if(i<=7)l=Array.from({length:i+1},(e,t)=>{const s=new Date(n);return s.setDate(n.getDate()+t),s});else if(i<=30){const e=Math.ceil(i/7);l=Array.from({length:e},(e,t)=>{const s=new Date(n);return s.setDate(n.getDate()+7*t),s})}else{const e=n.getMonth(),t=n.getFullYear(),s=r.getMonth(),a=12*(r.getFullYear()-t)+(s-e)+1;l=Array.from({length:a},(s,n)=>new Date(t,e+n,1))}t=h.map(e=>({label:e.name.replace(/\n/g," "),data:l.map(t=>{if(i<=1)return d.filter(s=>{if(!s.created_at)return!1;const n=new Date(s.created_at);return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()&&n.getHours()===t.getHours()&&s.category===e.id}).length;if(i<=7)return d.filter(s=>{if(!s.created_at)return!1;const n=new Date(s.created_at);return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()&&s.category===e.id}).length;if(i<=30){const s=new Date(t);return s.setDate(t.getDate()+6),d.filter(n=>{if(!n.created_at)return!1;const r=new Date(n.created_at);return r>=t&&r<=s&&n.category===e.id}).length}return d.filter(s=>{if(!s.created_at)return!1;const n=new Date(s.created_at);return n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()&&s.category===e.id}).length}),backgroundColor:e.color.border,borderColor:e.color.border,borderWidth:1}))}else{const s=new Date,n=new Date(s.getFullYear(),s.getMonth()-11,1),r=Array.from({length:12},(e,t)=>new Date(n.getFullYear(),n.getMonth()+t,1)),a=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"];e=r.map(e=>"".concat(a[e.getMonth()]," ").concat(e.getFullYear())),t=h.map(e=>({label:e.name.replace(/\n/g," "),data:r.map(t=>d.filter(s=>{if(!s.created_at)return!1;const n=new Date(s.created_at);return n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()&&s.category===e.id}).length),backgroundColor:e.color.border,borderColor:e.color.border,borderWidth:1}))}return{labels:e,datasets:t}})(),n=s.current.getContext("2d");a.current=new qp(n,{type:"bar",data:{labels:e,datasets:t},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:window.innerWidth>=768,position:"top",labels:{usePointStyle:!0,boxWidth:8,padding:10,font:{size:window.innerWidth<768?8:9}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:window.innerWidth<768?9:10},maxRotation:window.innerWidth<768?45:0}},y:{beginAtZero:!0,ticks:{callback:function(e){if(Number.isInteger(e))return e},font:{size:window.innerWidth<768?9:10}},title:{display:window.innerWidth>=768,text:"Nombre de signalements",font:{size:window.innerWidth<768?10:11}}}},datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}}})},J=()=>{if(!n.current)return;i.current&&i.current.destroy();const e=h.filter(e=>e.total>0),t=e.reduce((e,t)=>e+t.total,0);if(0===t)return;const s=e.map(e=>t>0?(e.total/t*100).toFixed(1):0),r=e.map((e,t)=>"".concat(e.name.replace(/\n/g," ")," (").concat(s[t],"%)")),a=n.current.getContext("2d");i.current=new qp(a,{type:"doughnut",data:{labels:r,datasets:[{data:e.map(e=>e.total),backgroundColor:Xp,borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:window.innerWidth<768?"bottom":"right",labels:{boxWidth:10,font:{size:window.innerWidth<768?8:9},padding:12}},tooltip:{callbacks:{label:function(e){const t=e.label||"",s=e.raw||0,n=e.dataset.data.reduce((e,t)=>e+t,0),r=n>0?Math.round(s/n*100):0;return"".concat(t.split(" (")[0],": ").concat(s," (").concat(r,"%)")}}}}}})},K=()=>{if(y.startDate&&y.endDate){const e=new Date(y.startDate),t=new Date(y.endDate);return"".concat(e.toLocaleDateString("fr-FR")," - ").concat(t.toLocaleDateString("fr-FR"))}if(y.startDate){const e=new Date(y.startDate);return"\xc0 partir du ".concat(e.toLocaleDateString("fr-FR"))}if(y.endDate){const e=new Date(y.endDate);return"Jusqu'au ".concat(e.toLocaleDateString("fr-FR"))}return"Toutes les p\xe9riodes"},G=e=>{const t=new Date,s=new Date(t.getFullYear(),t.getMonth(),t.getDate());let n=null,r=tf(t);switch(e){case"today":n=tf(s);break;case"yesterday":const e=new Date(s);e.setDate(e.getDate()-1),n=tf(e),r=tf(e);break;case"week":const t=new Date(s);t.setDate(s.getDate()-7),n=tf(t);break;case"month":const a=new Date(s.getFullYear(),s.getMonth(),1);n=tf(a);break;case"year":const i=new Date(s.getFullYear(),0,1);n=tf(i);break;case"all":n=null,r=null}w({startDate:n,endDate:r}),N(!1),S("presets")},X=()=>{N(!1),S("presets")},Q=()=>{w({startDate:null,endDate:null}),N(!1)},Z=()=>(0,kt.jsx)("div",{className:"absolute top-10 right-0 bg-white rounded-lg shadow-xl border border-gray-200 p-4 z-50 min-w-72 md:min-w-80",children:"presets"===k?(0,kt.jsxs)("div",{className:"space-y-3",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,kt.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:"Filtrer par p\xe9riode"}),(0,kt.jsx)("button",{onClick:()=>S("custom"),className:"text-xs text-blue-600 hover:text-blue-800",children:"P\xe9riode personnalis\xe9e"})]}),(0,kt.jsxs)("div",{className:"space-y-1",children:[(0,kt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>G("today"),children:"Aujourd'hui"}),(0,kt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>G("yesterday"),children:"Hier"}),(0,kt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>G("week"),children:"7 derniers jours"}),(0,kt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>G("month"),children:"Ce mois-ci"}),(0,kt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>G("year"),children:"Cette ann\xe9e"}),(0,kt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>G("all"),children:"Toutes les p\xe9riodes"})]}),(y.startDate||y.endDate)&&(0,kt.jsx)("button",{onClick:Q,className:"w-full mt-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-sm",children:"Effacer le filtre"})]}):(0,kt.jsxs)("div",{className:"space-y-3",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,kt.jsx)("h4",{className:"font-medium text-gray-900 text-sm",children:"P\xe9riode personnalis\xe9e"}),(0,kt.jsx)("button",{onClick:()=>S("presets"),className:"text-xs text-blue-600 hover:text-blue-800",children:"\u2190 Retour"})]}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Date de d\xe9but"}),(0,kt.jsx)("input",{type:"date",value:y.startDate||"",onChange:e=>w(t=>c(c({},t),{},{startDate:e.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm",max:y.endDate||tf(new Date)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Date de fin"}),(0,kt.jsx)("input",{type:"date",value:y.endDate||"",onChange:e=>w(t=>c(c({},t),{},{endDate:e.target.value})),className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm",min:y.startDate,max:tf(new Date)})]})]}),(0,kt.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,kt.jsx)("button",{onClick:X,className:"flex-1 px-3 py-1.5 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Appliquer"}),(0,kt.jsx)("button",{onClick:()=>N(!1),className:"flex-1 px-3 py-1.5 bg-gray-200 text-gray-700 rounded text-sm hover:bg-gray-300",children:"Annuler"})]})]})}),$=0===P?1:Math.ceil(P/M);return x?(0,kt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,kt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"})}):b?(0,kt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,kt.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-red-500",children:[(0,kt.jsx)("h3",{className:"text-red-600 font-bold text-sm",children:"Erreur"}),(0,kt.jsx)("p",{className:"text-slate-600 mt-1 text-sm",children:b}),(0,kt.jsx)("button",{type:"button",onClick:U,className:"mt-3 px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded text-xs",children:"R\xe9essayer"})]})}):(0,kt.jsx)("div",{className:"min-h-screen bg-slate-50 pb-8 font-sans text-slate-900",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 py-5 space-y-5",children:[(0,kt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"Tableau de bord"}),(0,kt.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:"Vue d'ensemble synchronis\xe9e"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsxs)("button",{className:"flex items-center space-x-2 px-3 py-1.5 border border-gray-300 rounded text-sm hover:bg-gray-50 bg-white w-full md:w-auto justify-center",onClick:()=>{N(!j),S("presets")},children:[(0,kt.jsx)(Mr,{className:"w-4 h-4 text-gray-500"}),(0,kt.jsx)("span",{className:"text-sm",children:K()}),(y.startDate||y.endDate)&&(0,kt.jsx)("span",{className:"ml-1 w-2 h-2 bg-blue-500 rounded-full"})]}),j&&(0,kt.jsx)(Z,{})]})]}),(y.startDate||y.endDate)&&(0,kt.jsx)("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsx)("div",{className:"flex items-center gap-2",children:(0,kt.jsxs)("span",{className:"text-blue-600 text-sm",children:["Filtre actif : ",K()]})}),(0,kt.jsx)("button",{onClick:Q,className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Effacer le filtre"})]})}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:[(0,kt.jsx)(Zp,{title:"Total",value:p.total,subtitle:"Tous les signalements",icon:"\ud83d\udcca",color:"bg-blue-500",isActive:"all"===E,onClick:()=>H("all")}),(0,kt.jsx)(Zp,{title:"En cours",value:p.en_cours,subtitle:"Signalements en cours",icon:"\u23f3",color:"bg-yellow-500",isActive:"en_cours"===E,onClick:()=>H("en_cours")}),(0,kt.jsx)(Zp,{title:"Enqu\xeates",value:p.investigation,subtitle:"Investigation en cours",icon:"\ud83d\udd0d",color:"bg-purple-500",isActive:"investigation"===E,onClick:()=>H("investigation")}),(0,kt.jsx)(Zp,{title:"Transmis",value:p.transmis_autorite,subtitle:"Transmis pour action",icon:"\u2696\ufe0f",color:"bg-indigo-500",isActive:"transmis_autorite"===E,onClick:()=>H("transmis_autorite")}),(0,kt.jsx)(Zp,{title:"Class\xe9s",value:p.classifier,subtitle:"Class\xe9s sans suite",icon:"\ud83d\udccb",color:"bg-emerald-500",isActive:"classifier"===E,onClick:()=>H("classifier")})]}),(0,kt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:h.map(e=>(0,kt.jsxs)("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-slate-100 hover:shadow-md transition",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-lg",children:e.icon}),(0,kt.jsxs)("div",{className:"min-w-0",children:[(0,kt.jsx)("p",{className:"text-xs font-semibold text-slate-800 whitespace-pre-line leading-tight",children:e.name}),(0,kt.jsx)("p",{className:"text-xs text-slate-400",children:e.subtitle})]})]}),(0,kt.jsx)("p",{className:"text-xl font-bold text-slate-900",children:e.total})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-4 gap-1.5 text-xs text-slate-500 border-t border-slate-100 pt-2",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"En cours"}),(0,kt.jsx)("p",{className:"font-semibold text-amber-600",children:e.encours})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"Enqu\xeates"}),(0,kt.jsx)("p",{className:"font-semibold text-purple-600",children:e.investigation})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"Transmis"}),(0,kt.jsx)("p",{className:"font-semibold text-indigo-600",children:e.transmis_autorite})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"Class\xe9s"}),(0,kt.jsx)("p",{className:"font-semibold text-emerald-600",children:e.classifier})]})]})]},e.id))}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,kt.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-slate-100 p-4",children:[(0,kt.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,kt.jsx)("h3",{className:"font-bold text-slate-800 text-sm",children:"\xc9volution temporelle"})}),(0,kt.jsx)("div",{className:"h-64 md:h-72 w-full",children:(0,kt.jsx)("canvas",{ref:e})})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-4",children:[(0,kt.jsx)("h3",{className:"font-bold text-slate-800 mb-3 text-sm",children:"R\xe9partition par type"}),(0,kt.jsx)("div",{className:"h-64 md:h-72 w-full flex items-center justify-center",children:(0,kt.jsx)("canvas",{ref:n})})]})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-4 w-full",children:[(0,kt.jsx)("h3",{className:"font-bold text-slate-800 mb-3 text-sm",children:"D\xe9tails par cat\xe9gorie"}),(0,kt.jsx)("div",{className:"h-64 md:h-72 w-full",children:(0,kt.jsx)("canvas",{ref:s})}),(0,kt.jsx)("p",{className:"text-xs text-slate-500 mt-3 text-center",children:"Chaque cat\xe9gorie est repr\xe9sent\xe9e par des barres individuelles"})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col",children:[(0,kt.jsxs)("div",{className:"px-4 py-3 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-3 bg-white",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("h3",{className:"font-bold text-slate-800 text-base",children:"Liste des dossiers"}),"all"!==E&&(0,kt.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-semibold border border-blue-100",children:["Filtre : ",$p(E),(0,kt.jsx)("button",{type:"button",onClick:()=>H("all"),className:"ml-0.5 p-0.5 hover:bg-blue-100 rounded-full",children:(0,kt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:(0,kt.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,kt.jsx)("span",{className:"text-slate-500 text-xs",children:"Lignes :"}),(0,kt.jsxs)("select",{value:M,onChange:e=>{D(Number(e.target.value)),A(1)},className:"form-select text-xs border-slate-300 rounded focus:ring-blue-500 focus:border-blue-500 py-1 px-2 bg-slate-50",children:[(0,kt.jsx)("option",{value:5,children:"5"}),(0,kt.jsx)("option",{value:10,children:"10"}),(0,kt.jsx)("option",{value:20,children:"20"}),(0,kt.jsx)("option",{value:50,children:"50"})]})]})]}),(0,kt.jsx)("div",{className:"w-full",children:(0,kt.jsxs)("table",{className:"w-full divide-y divide-slate-100 text-xs",children:[(0,kt.jsx)("thead",{className:"bg-slate-50/50",children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider hidden sm:table-cell",children:(0,kt.jsxs)("button",{onClick:()=>V("id"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,kt.jsx)("span",{children:"ID"}),(0,kt.jsx)(ef,{isSorted:"id"===L.key,isAsc:"asc"===L.direction})]})}),(0,kt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:(0,kt.jsxs)("button",{onClick:()=>V("reference"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,kt.jsx)("span",{children:"R\xc9F\xc9RENCE"}),(0,kt.jsx)(ef,{isSorted:"reference"===L.key,isAsc:"asc"===L.direction})]})}),(0,kt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider hidden sm:table-cell",children:(0,kt.jsxs)("button",{onClick:()=>V("date"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,kt.jsx)("span",{children:"DATE"}),(0,kt.jsx)(ef,{isSorted:"date"===L.key,isAsc:"asc"===L.direction})]})}),(0,kt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider hidden sm:table-cell",children:"NOM / PR\xc9NOM"}),(0,kt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider hidden sm:table-cell",children:"CAT\xc9GORIE"}),(0,kt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:(0,kt.jsxs)("button",{onClick:()=>V("description"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,kt.jsx)("span",{children:"DESCRIPTION"}),(0,kt.jsx)(ef,{isSorted:"description"===L.key,isAsc:"asc"===L.direction})]})}),(0,kt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"STATUT"})]})}),(0,kt.jsx)("tbody",{className:"bg-white divide-y divide-slate-100",children:0===T.length?(0,kt.jsx)("tr",{children:(0,kt.jsx)("td",{colSpan:"7",className:"px-4 py-8 text-center",children:(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[(0,kt.jsx)("span",{className:"text-3xl mb-1",children:"\ud83d\udd0d"}),(0,kt.jsx)("p",{className:"text-xs",children:"Aucun dossier trouv\xe9 pour ce filtre."})]})})}):T.map(e=>(0,kt.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group cursor-default",children:[(0,kt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs font-mono font-medium text-slate-700 hidden sm:table-cell",children:e.id}),(0,kt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs font-mono font-medium text-blue-600 group-hover:text-blue-700",children:e.reference}),(0,kt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-slate-500 hidden sm:table-cell",children:e.date}),(0,kt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs font-medium text-slate-900 hidden sm:table-cell",children:e.name}),(0,kt.jsx)("td",{className:"px-4 py-3 text-xs text-slate-600 whitespace-pre-line leading-tight hidden sm:table-cell",children:e.category}),(0,kt.jsx)("td",{className:"px-4 py-3",children:(0,kt.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2 max-w-[180px] sm:max-w-none",children:e.shortDescription})}),(0,kt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-yellow-100 text-yellow-800":"transmis_autorite"===e.status?"bg-indigo-100 text-indigo-800":"classifier"===e.status?"bg-blue-100 text-blue-800":"investigation"===e.status?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:e.displayStatus})})]},e.id))})]})}),(0,kt.jsxs)("div",{className:"bg-white px-4 py-3 border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-3",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-xs order-2 sm:order-1",children:[(0,kt.jsx)("span",{className:"text-slate-500",children:"\xc9l\xe9ments par page :"}),(0,kt.jsxs)("select",{value:M,onChange:e=>{D(Number(e.target.value)),A(1)},className:"px-2 py-1 border rounded text-xs",children:[(0,kt.jsx)("option",{value:5,children:"5"}),(0,kt.jsx)("option",{value:10,children:"10"}),(0,kt.jsx)("option",{value:20,children:"20"}),(0,kt.jsx)("option",{value:50,children:"50"})]}),(0,kt.jsxs)("span",{className:"text-gray-500 hidden sm:inline",children:[0===P?0:(_-1)*M+1,"-",Math.min(_*M,P)," sur"," ",P]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-1 order-1 sm:order-2",children:[(0,kt.jsx)("button",{onClick:()=>A(e=>Math.max(1,e-1)),disabled:1===_,className:"p-1 border rounded disabled:opacity-50 hover:bg-gray-50",children:(0,kt.jsx)(Rt,{className:"w-3 h-3"})}),(()=>{const e=[],t=window.innerWidth<768?3:5;if($<=t+2)for(let s=1;s<=$;s++)e.push(s);else{e.push(1);let s=Math.max(2,_-2),n=Math.min($-1,_+2);_<=3&&(n=t),_>=$-2&&(s=$-t+1),s>2&&e.push("...");for(let t=s;t<=n;t++)e.push(t);n<$-1&&e.push("..."),e.push($)}return e})().map((e,t)=>"..."===e?(0,kt.jsx)("span",{className:"px-1.5 text-xs text-gray-500 hidden sm:inline",children:"..."},"ellipsis-".concat(t)):(0,kt.jsx)("button",{onClick:()=>A(e),className:"px-2 py-0.5 text-xs border rounded hidden sm:inline-block ".concat(_===e?"bg-blue-600 text-white":"bg-white hover:bg-gray-50"),children:e},e)),(0,kt.jsxs)("span",{className:"text-xs text-gray-700 sm:hidden",children:["Page ",_," / ",$]}),(0,kt.jsx)("button",{onClick:()=>A(e=>Math.min($,e+1)),disabled:_===$||0===$,className:"p-1 border rounded disabled:opacity-50 hover:bg-gray-50",children:(0,kt.jsx)(Vr,{className:"w-3 h-3"})})]})]})]})]})})}const nf=Tt("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),rf=Tt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),af=Tt("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),lf=Tt("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),of=Tt("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),cf=Tt("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),df=Tt("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),uf=Tt("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),hf=Tt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),mf=Tt("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]]);function pf(e){let{message:t,type:s="error",show:n,onClose:r}=e;return(0,kt.jsx)("div",{className:"fixed top-5 right-5 z-[9999] transition-all duration-500 transform ".concat(n?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,kt.jsxs)("div",{className:"bg-white border-l-4 ".concat((()=>{switch(s){case"success":return"border-green-500";case"warning":return"border-yellow-500";case"info":return"border-blue-500";default:return"border-red-500"}})()," rounded shadow-2xl p-4 w-80 flex items-start"),children:[(0,kt.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(s){case"success":return(0,kt.jsx)("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return(0,kt.jsx)("svg",{className:"h-6 w-6 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.998-.833-2.732 0L4.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":return(0,kt.jsx)("svg",{className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,kt.jsx)("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})()}),(0,kt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,kt.jsx)("p",{className:"text-sm font-bold text-gray-900 leading-5",children:"success"===s?"Succ\xe8s":"warning"===s?"Avertissement":"info"===s?"Information":"Erreur"}),(0,kt.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-600",children:t})]}),(0,kt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,kt.jsx)("button",{onClick:r,className:"inline-flex text-gray-400 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",children:(0,kt.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,kt.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L10 10 5.707 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})})}function ff(e){let{show:t,title:s,message:n,onConfirm:r,onCancel:a,confirmText:i="Confirmer",cancelText:l="Annuler"}=e;return t?(0,kt.jsx)("div",{className:"fixed inset-0 z-[10000] overflow-y-auto",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center",children:[(0,kt.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:a}),(0,kt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,kt.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,kt.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,kt.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,kt.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,kt.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,kt.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,kt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:s}),(0,kt.jsx)("div",{className:"mt-2",children:(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:n})})]})]})}),(0,kt.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,kt.jsx)("button",{type:"button",onClick:r,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:i}),(0,kt.jsx)("button",{type:"button",onClick:a,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:l})]})]})]})}):null}const xf=e=>{let{isSorted:t,isAsc:s}=e;return t?s?(0,kt.jsx)(Jp,{className:"w-3 h-3 text-blue-600"}):(0,kt.jsx)(Kp,{className:"w-3 h-3 text-blue-600"}):(0,kt.jsx)(Yp,{className:"w-3 h-3 text-gray-400"})},gf=e=>{let{onContactReference:s}=e;const[]=(0,t.useState)("tous"),[n,r]=(0,t.useState)({search:"",statut:"",dateDebut:"",dateFin:""}),[a,i]=(0,t.useState)(1),[l,o]=(0,t.useState)(10),[d,u]=(0,t.useState)([]),[h,m]=(0,t.useState)(!0),[p,f]=(0,t.useState)(null),[x,g]=(0,t.useState)(null),[b,v]=(0,t.useState)("tous"),[y,w]=(0,t.useState)(!1),[]=(0,t.useState)(!1),[j,N]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),[E,C]=(0,t.useState)(!1),[_,A]=(0,t.useState)(!1),[,M]=(0,t.useState)(!1),[D,T]=(0,t.useState)(null),[R,P]=(0,t.useState)({general:!0,auteur:!0,description:!0,pieces:!0}),[O,L]=(0,t.useState)({key:"date",direction:"desc"}),[I,z]=(0,t.useState)({category:"",description:"",files:[],name:"",email:"",phone:"",address:"",type:"identifie"}),[F,U]=(0,t.useState)({status:""}),[B,V]=(0,t.useState)({}),[H,W]=(0,t.useState)({show:!1,message:"",type:"error"}),[q,Y]=(0,t.useState)({show:!1,title:"",message:"",reportId:null,action:null}),J=[{id:"faux-diplomes",icon:Yr,name:"Faux Dipl\xf4mes"},{id:"offre-formation-irreguliere",icon:zi,name:"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)"},{id:"recrutements-irreguliers",icon:nf,name:"Recrutements Irr\xe9guliers"},{id:"harcelement",icon:rf,name:"Harc\xe8lement"},{id:"corruption",icon:af,name:"Corruption"},{id:"divers",icon:lf,name:"Divers"}],K=function(e){W({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error"}),setTimeout(()=>{W(e=>c(c({},e),{},{show:!1}))},5e3)},G=()=>{Y({show:!1,title:"",message:"",reportId:null,action:null})},X=async()=>{const{reportId:e,action:t}=q;if(e){try{"delete"===t&&(await or.delete("/reports/".concat(e)),K("Signalement supprim\xe9 avec succ\xe8s","success"),M(!1),(null===x||void 0===x?void 0:x.id)===e&&g(null),await Q())}catch(p){var s,n;if(404===(null===(s=p.response)||void 0===s?void 0:s.status))await Q(),K("Signalement supprim\xe9","info");else if(403===(null===(n=p.response)||void 0===n?void 0:n.status))K("Vous n'avez pas les droits pour supprimer ce signalement","error");else{var r,a;K("Erreur: ".concat((null===(r=p.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||p.message),"error")}}G()}else G()},Q=async()=>{m(!0),f(null);try{const e=(await or.get("/reports?per_page=1000")).data;if(e.success&&Array.isArray(e.data)){const t=e.data.map(e=>{let t=[];try{e.files&&("string"===typeof e.files?t=JSON.parse(e.files):Array.isArray(e.files)&&(t=e.files))}catch(qx){}const s=e.description||"Aucune description",n=s.length>80?s.substring(0,80)+"...":s;return{id:e.id,reference:e.reference,date:e.created_at,nom_prenom:e.is_anonymous?"Anonyme":e.name||"Non sp\xe9cifi\xe9",telephone:e.phone||"N/A",email:e.email||"N/A",categorie:e.category,categorieLabel:e.category,raison:e.title||"Non sp\xe9cifi\xe9",type_signalement:e.is_anonymous?"Anonyme":"Non-Anonyme",explication:e.description||"Aucune description",shortDescription:n,files:t,status:e.status||"en_cours",assigned_to:e.assigned_to||"Non assign\xe9",city:e.city,province:e.province,region:e.region,has_proof:e.has_proof||!1}});u(t)}else u([])}catch(p){var e,t;f((null===(e=p.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||p.message),K("Erreur lors du chargement des signalements","error")}finally{m(!1)}};(0,t.useEffect)(()=>{Q()},[]);const Z=e=>{if("tous"===e){return{total:d.length,encours:d.filter(e=>"en_cours"===e.status).length,resolus:d.filter(e=>"classifier"===e.status).length}}const t=d.filter(t=>t.categorie===e);return{total:t.length,encours:t.filter(e=>"en_cours"===e.status).length,resolus:t.filter(e=>"classifier"===e.status).length}},$=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(qx){return e}},ee=e=>({en_cours:"En cours",investigation:"Ouverture d'enqu\xeates",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes",classifier:"Dossier class\xe9 sans suite"}[e]||e),te=(0,t.useMemo)(()=>[...d].sort((e,t)=>{if(!O.key)return 0;let s=e[O.key],n=t[O.key];return"date"===O.key&&(s=new Date(s),n=new Date(n)),"reference"===O.key&&(s=s.toLowerCase(),n=n.toLowerCase()),s<n?"asc"===O.direction?-1:1:s>n?"asc"===O.direction?1:-1:0}),[d,O]),se=(0,t.useMemo)(()=>{let e=te;return"tous"!==b&&(e=e.filter(e=>e.categorie===b)),(n.dateDebut||n.dateFin)&&(e=e.filter(e=>{const t=new Date(e.date),s=n.dateDebut?new Date(n.dateDebut):null,r=n.dateFin?new Date(n.dateFin):null;let a=!0;if(s&&(a=a&&t>=s),r){const e=new Date(r);e.setDate(e.getDate()+1),a=a&&t<e}return a})),e.filter(e=>{const t=!n.search||e.reference.toLowerCase().includes(n.search.toLowerCase())||e.nom_prenom.toLowerCase().includes(n.search.toLowerCase())||e.categorieLabel&&e.categorieLabel.toLowerCase().includes(n.search.toLowerCase())||e.explication.toLowerCase().includes(n.search.toLowerCase()),s=!n.statut||e.status===n.statut;return t&&s})},[te,n,b]),ne=Math.ceil(se.length/l),re=a*l,ae=re-l,ie=se.slice(ae,re),le=e=>{L(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})),i(1)},oe=(e,t)=>{r(s=>c(c({},s),{},{[e]:t})),i(1)},ce=e=>{g(e),setTimeout(()=>{const e=document.querySelector(".print-section");if(e){const t=document.body.innerHTML,s=e.innerHTML;document.body.innerHTML=s,window.print(),document.body.innerHTML=t,window.location.reload()}},500)},de=e=>{T(e),U({status:"en_cours"===e.status?"":e.status||""}),N(!0)},ue=e=>{T(e),V({category:e.categorie,description:e.explication,nom_prenom:e.nom_prenom,email:e.email,telephone:e.telephone,city:e.city,province:e.province,region:e.region}),S(!0)},he=e=>{T(e),((e,t,s,n)=>{Y({show:!0,title:e,message:t,reportId:s,action:n})})("Supprimer ce signalement ?","Cette action est irr\xe9versible. Le signalement sera d\xe9finitivement supprim\xe9.",e.id,"delete")},me=e=>{P(t=>c(c({},t),{},{[e]:!t[e]}))},pe=async e=>{if(e.preventDefault(),D)try{const e="Anonyme"===D.type_signalement,a=c(c({category:B.category,description:B.description},!e&&{nom_prenom:B.nom_prenom,email:B.email,telephone:B.telephone}),{},{city:B.city,province:B.province,region:B.region,type_signalement:e?"anonyme":"non-anonyme"}),i=D.files&&0===D.files.length,l=B.newFiles&&B.newFiles.length>0;if(i&&l)return void K("\u26a0\ufe0f Vous ne pouvez pas ajouter des preuves \xe0 un signalement qui n'en avait pas initialement. Veuillez cr\xe9er un nouveau signalement avec les preuves n\xe9cessaires.","warning");if(B.newFiles&&B.newFiles.length>0||B.filesToRemove&&B.filesToRemove.length>0)try{const e=new FormData;B.filesToRemove&&B.filesToRemove.length>0&&B.filesToRemove.forEach((t,s)=>{e.append("files_to_remove[".concat(s,"]"),t)}),B.newFiles&&B.newFiles.length>0&&B.newFiles.forEach((t,s)=>{e.append("new_files[".concat(s,"]"),t)});(await or.post("/reports/".concat(D.id,"/files"),e,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&K("Fichiers mis \xe0 jour avec succ\xe8s","success")}catch(f){var t,s,n,r;403===(null===(t=f.response)||void 0===t?void 0:t.status)&&"Ce signalement ne peut plus \xeatre modifi\xe9"===(null===(s=f.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)?K("\u274c Impossible d'ajouter des preuves : Ce signalement ne peut plus \xeatre modifi\xe9. Pour ajouter des preuves, cr\xe9ez un nouveau signalement.","error"):403===(null===(r=f.response)||void 0===r?void 0:r.status)&&K("\u274c Permission refus\xe9e pour modifier les pi\xe8ces jointes. Ce signalement a peut-\xeatre d\xe9j\xe0 \xe9t\xe9 trait\xe9 ou class\xe9.","error")}await Q(),S(!1),T(null),(null===x||void 0===x?void 0:x.id)===D.id&&g(e=>c(c({},e),a)),K("Signalement modifi\xe9 avec succ\xe8s","success")}catch(p){var a,i,l,o,d,u;if(403===(null===(a=p.response)||void 0===a?void 0:a.status)&&null!==(i=p.response)&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&l.message){const t=p.response.data.message;t.includes("ne peut plus \xeatre modifi\xe9")?K("\u274c Modification impossible : ".concat(t,"\n\n")+"\u2022 Pour ajouter des preuves, cr\xe9ez un nouveau signalement\n\u2022 Pour modifier les informations, contactez l'administrateur\n\u2022 Ce signalement a probablement \xe9t\xe9 trait\xe9 ou archiv\xe9","error"):K("Permission refus\xe9e : ".concat(t),"error")}else if(422===(null===(o=p.response)||void 0===o?void 0:o.status)&&null!==(d=p.response)&&void 0!==d&&null!==(u=d.data)&&void 0!==u&&u.errors){const t=Object.entries(p.response.data.errors).map(e=>{let[t,s]=e;return"\u2022 ".concat(t,": ").concat(Array.isArray(s)?s.join(", "):s)}).join("\n");K("Erreurs de validation:\n".concat(t),"error")}else{var h,m;K("Erreur lors de la modification: "+((null===(h=p.response)||void 0===h||null===(m=h.data)||void 0===m?void 0:m.message)||p.message),"error")}}},fe=async e=>{if(e.preventDefault(),D&&F.status)try{(await or.put("/reports/".concat(D.id,"/status"),{status:F.status})).data.success&&(K("Statut mis \xe0 jour avec succ\xe8s !\nNouveau statut: ".concat(ee(F.status)),"success"),N(!1),U({status:""}),T(null),await Q())}catch(p){var t,s;K("Erreur: ".concat((null===(t=p.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||p.message),"error")}else K("Veuillez s\xe9lectionner un statut","error")},xe=J.find(e=>e.id===b),ge=Z(b);return x?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("style",{children:"\n            @media print {\n              body * {\n                visibility: hidden;\n              }\n              \n              .print-section,\n              .print-section * {\n                visibility: visible;\n              }\n              \n              .print-section {\n                position: absolute;\n                left: 0;\n                top: 0;\n                width: 100%;\n                background: white;\n                padding: 20px;\n              }\n              \n              .no-print {\n                display: none !important;\n              }\n              \n              .print-actions {\n                display: none !important;\n              }\n            }\n          "}),(0,kt.jsx)(pf,{message:H.message,type:H.type,show:H.show,onClose:()=>W(e=>c(c({},e),{},{show:!1}))}),(0,kt.jsx)(ff,{show:q.show,title:q.title,message:q.message,onConfirm:X,onCancel:G,confirmText:"Supprimer",cancelText:"Annuler"}),(0,kt.jsxs)("div",{className:"print-section p-4 bg-white min-h-screen",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4 no-print",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h1",{className:"text-lg font-bold text-gray-900",children:["D\xe9tail du Signalement - ",x.reference]}),(0,kt.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[$(x.date)," \u2022"," ",x.categorieLabel]})]}),(0,kt.jsxs)("button",{onClick:()=>g(null),className:"flex items-center gap-2 px-3 py-2 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,kt.jsx)(Rt,{className:"w-3 h-3"}),"Retour \xe0 la liste"]})]}),(0,kt.jsxs)("div",{className:"space-y-3",children:[(0,kt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,kt.jsxs)("button",{onClick:()=>me("general"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,kt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations G\xe9n\xe9rales"})]}),R.general?(0,kt.jsx)(of,{className:"w-4 h-4 text-gray-500"}):(0,kt.jsx)(tl,{className:"w-4 h-4 text-gray-500"})]}),R.general&&(0,kt.jsx)("div",{className:"px-3 pb-3",children:(0,kt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-xs",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"R\xe9f\xe9rence:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:x.reference})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Date:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:$(x.date)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Cat\xe9gorie:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:x.categorieLabel})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Statut:"}),(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===x.status?"bg-yellow-100 text-yellow-800":"transmis_autorite"===x.status?"bg-indigo-100 text-indigo-800":"classifier"===x.status?"bg-blue-100 text-blue-800":"investigation"===x.status?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:ee(x.status)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Assign\xe9 \xe0:"}),(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("investigateur"===x.assigned_to?"bg-indigo-100 text-indigo-800":"cac_daj"===x.assigned_to?"bg-blue-100 text-blue-800":"autorite_competente"===x.assigned_to?"bg-cyan-100 text-cyan-800":"bg-gray-100 text-gray-800"),children:(be=x.assigned_to,{investigateur:"Investigateur",cac_daj:"DAAQ / CAC / DAJ",autorite_competente:"Autorit\xe9 comp\xe9tente"}[be]||be||"Non assign\xe9")})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Type:"}),(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:x.type_signalement})]})]})})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,kt.jsxs)("button",{onClick:()=>me("auteur"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,kt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations de l'Auteur"})]}),R.auteur?(0,kt.jsx)(of,{className:"w-4 h-4 text-gray-500"}):(0,kt.jsx)(tl,{className:"w-4 h-4 text-gray-500"})]}),R.auteur&&(0,kt.jsx)("div",{className:"px-3 pb-3",children:"Anonyme"===x.type_signalement?(0,kt.jsxs)("div",{className:"text-center py-3",children:[(0,kt.jsx)(il,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,kt.jsx)("p",{className:"text-xs text-gray-600",children:"Signalement anonyme"})]}):(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Nom / Pr\xe9nom:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:x.nom_prenom})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Email:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:x.email})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"T\xe9l\xe9phone:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:x.telephone})]})]})})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,kt.jsxs)("button",{onClick:()=>me("description"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,kt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Description du Signalement"})]}),R.description?(0,kt.jsx)(of,{className:"w-4 h-4 text-gray-500"}):(0,kt.jsx)(tl,{className:"w-4 h-4 text-gray-500"})]}),R.description&&(0,kt.jsx)("div",{className:"px-3 pb-3",children:(0,kt.jsx)("div",{className:"bg-gray-50 rounded-md p-3 text-xs leading-relaxed",children:x.explication})})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,kt.jsxs)("button",{onClick:()=>me("pieces"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,kt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Pi\xe8ces Jointes"})]}),R.pieces?(0,kt.jsx)(of,{className:"w-4 h-4 text-gray-500"}):(0,kt.jsx)(tl,{className:"w-4 h-4 text-gray-500"})]}),R.pieces&&(0,kt.jsx)("div",{className:"px-3 pb-3",children:x.files&&x.files.length>0?(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:x.files.map((e,t)=>{var s;const n="string"===typeof e?e:e.name||"",r=null===(s=n.split(".").pop())||void 0===s?void 0:s.toLowerCase(),a=["jpg","jpeg","png","gif","webp"].includes(r),i="pdf"===r;return(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg border overflow-hidden",children:[(0,kt.jsx)("div",{className:"aspect-video bg-white flex items-center justify-center",children:a?(0,kt.jsx)("img",{src:"".concat(or.defaults.baseURL,"/files/public/").concat(encodeURIComponent(n.replace(/^admin\//,"").replace(/^\//,"").split("/").pop())),alt:n,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='120'%3E%3Crect width='100%25' height='100%25' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%239ca3af' font-size='12'%3EImpossible de charger l'image%3C/text%3E%3C/svg%3E"}}):i?(0,kt.jsxs)("div",{className:"text-center p-2",children:[(0,kt.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,kt.jsx)("span",{className:"text-red-600 font-bold text-xs",children:"PDF"})}),(0,kt.jsx)("p",{className:"text-xs text-gray-600",children:"Document PDF"})]}):(0,kt.jsxs)("div",{className:"text-center p-2",children:[(0,kt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,kt.jsx)("span",{className:"text-gray-600 font-bold text-xs",children:null===r||void 0===r?void 0:r.toUpperCase()})}),(0,kt.jsxs)("p",{className:"text-xs text-gray-600",children:["Fichier ",r]})]})}),(0,kt.jsxs)("div",{className:"p-2",children:[(0,kt.jsx)("p",{className:"text-xs font-medium truncate mb-1",title:n,children:n}),(0,kt.jsxs)("div",{className:"flex gap-1",children:[(0,kt.jsx)("button",{onClick:()=>(e=>{const t=e.replace(/^admin\//,"").replace(/^\//,"").split("/").pop(),s=encodeURIComponent(t);console.log("\ud83d\udc41\ufe0f Ouverture fichier:",t);const n="".concat(or.defaults.baseURL,"/files/public/").concat(s);window.open(n,"_blank")})(n),className:"flex-1 bg-blue-50 text-blue-600 py-1 px-1 rounded text-xs hover:bg-blue-100 transition-colors",children:"Voir"}),(0,kt.jsx)("button",{onClick:()=>(async e=>{try{const t=e.replace(/^admin\//,"").replace(/^\//,"").split("/").pop(),s=encodeURIComponent(t);console.log("\ud83d\udce5 T\xe9l\xe9chargement fichier:",t);const n=await or.get("/files/public/".concat(s,"/download"),{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([n.data])),a=document.createElement("a");a.href=r,a.setAttribute("download",t),document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(r),console.log("\u2705 T\xe9l\xe9chargement r\xe9ussi"),K("Fichier t\xe9l\xe9charg\xe9 avec succ\xe8s","success")}catch(p){console.error("\u274c Erreur t\xe9l\xe9chargement:",p),K("Erreur lors du t\xe9l\xe9chargement du fichier","error")}})(n),className:"flex-1 bg-gray-100 text-gray-700 py-1 px-1 rounded text-xs hover:bg-gray-200 transition-colors",children:"T\xe9l\xe9charger"})]})]})]},t)})}):(0,kt.jsxs)("div",{className:"text-center py-4",children:[(0,kt.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,kt.jsx)(Or,{className:"w-6 h-6 text-gray-400"})}),(0,kt.jsx)("p",{className:"text-xs text-gray-600",children:"Aucun fichier joint"})]})})]})]}),(0,kt.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t no-print",children:[(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsxs)("button",{onClick:()=>ue(x),className:"flex items-center gap-1 px-3 py-1 text-xs border border-indigo-300 text-indigo-700 rounded-lg hover:bg-indigo-50 transition-colors",children:[(0,kt.jsx)(cf,{className:"w-3 h-3"}),"Modifier"]}),(0,kt.jsxs)("button",{onClick:()=>he(x),className:"flex items-center gap-1 px-3 py-1 text-xs border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors",children:[(0,kt.jsx)(df,{className:"w-3 h-3"}),"Supprimer"]})]}),(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsxs)("button",{onClick:()=>ce(x),className:"flex items-center gap-1 px-3 py-1 text-xs bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,kt.jsx)(uf,{className:"w-3 h-3"}),"Imprimer"]}),(0,kt.jsxs)("button",{onClick:()=>de(x),className:"flex items-center gap-1 px-3 py-1 text-xs bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[(0,kt.jsx)(Oi,{className:"w-3 h-3"}),"Statut"]})]})]})]}),j&&(0,kt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold",children:"Mettre \xe0 jour le statut"}),(0,kt.jsx)("button",{onClick:()=>N(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,kt.jsxs)("form",{onSubmit:fe,className:"p-4 space-y-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nouveau statut ",(0,kt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,kt.jsxs)("select",{value:F.status,onChange:e=>U(t=>c(c({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,kt.jsx)("option",{value:"",children:"S\xe9lectionner un statut"}),(0,kt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,kt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,kt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"})]})]}),(0,kt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,kt.jsx)("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,kt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-amber-600 text-white rounded-md hover:bg-amber-700",children:"Mettre \xe0 jour le statut"})]})]})]})}),k&&(0,kt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold",children:"Modifier le signalement"}),(0,kt.jsx)("button",{onClick:()=>S(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,kt.jsxs)("form",{onSubmit:pe,className:"p-4 space-y-4",children:[(0,kt.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,kt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,kt.jsx)("span",{className:"font-semibold",children:"Type:"})," ",(0,kt.jsx)("span",{className:"Anonyme"===(null===D||void 0===D?void 0:D.type_signalement)?"text-blue-600":"text-green-600",children:null===D||void 0===D?void 0:D.type_signalement})]}),"Anonyme"===(null===D||void 0===D?void 0:D.type_signalement)&&(0,kt.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"\u26a0\ufe0f Seuls la description et les pi\xe8ces jointes peuvent \xeatre modifi\xe9s pour un signalement anonyme"})]}),"Anonyme"!==(null===D||void 0===D?void 0:D.type_signalement)&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom et Pr\xe9nom"}),(0,kt.jsx)("input",{type:"text",value:B.nom_prenom,onChange:e=>V(c(c({},B),{},{nom_prenom:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Nom complet"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,kt.jsx)("input",{type:"email",value:B.email,onChange:e=>V(c(c({},B),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"email@exemple.com"})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,kt.jsx)("input",{type:"text",value:B.telephone,onChange:e=>V(c(c({},B),{},{telephone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+261 XX XX XXX XX"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),(0,kt.jsx)("input",{type:"text",value:B.city,onChange:e=>V(c(c({},B),{},{city:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ville"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Province"}),(0,kt.jsx)("input",{type:"text",value:B.province,onChange:e=>V(c(c({},B),{},{province:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Province"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cat\xe9gorie"}),(0,kt.jsxs)("select",{value:B.category,onChange:e=>V(c(c({},B),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,kt.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),J.map(e=>(0,kt.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",(0,kt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,kt.jsx)("textarea",{value:B.description,onChange:e=>V(c(c({},B),{},{description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]}),(null===D||void 0===D?void 0:D.files)&&D.files.length>0&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pi\xe8ces jointes actuelles"}),(0,kt.jsx)("div",{className:"space-y-2",children:D.files.map((e,t)=>{const s="string"===typeof e?e:e.name;return(0,kt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[(0,kt.jsx)("span",{className:"text-sm truncate flex-1",children:s}),(0,kt.jsx)("button",{type:"button",onClick:()=>{const e=D.files.filter((e,s)=>s!==t);T(c(c({},D),{},{files:e})),V(c(c({},B),{},{filesToRemove:[...B.filesToRemove||[],s]}))},className:"ml-2 text-red-600 hover:text-red-800",title:"Supprimer ce fichier",children:(0,kt.jsx)(Lt,{className:"w-4 h-4"})})]},t)})})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajouter de nouvelles pi\xe8ces jointes"}),(0,kt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.pdf,.mp4",onChange:e=>{const t=Array.from(e.target.files);V(c(c({},B),{},{newFiles:t}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formats: JPG, PNG, PDF, MP4 - Max 25 Mo/fichier"})]}),B.newFiles&&B.newFiles.length>0&&(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Nouveaux fichiers \xe0 ajouter (",B.newFiles.length,")"]}),(0,kt.jsx)("div",{className:"space-y-2",children:B.newFiles.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-2 rounded border border-blue-200",children:[(0,kt.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,kt.jsx)("button",{type:"button",onClick:()=>{const e=B.newFiles.filter((e,s)=>s!==t);V(c(c({},B),{},{newFiles:e}))},className:"ml-2 text-red-600 hover:text-red-800",children:(0,kt.jsx)(Lt,{className:"w-4 h-4"})})]},t))})]}),(0,kt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,kt.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,kt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Modifier"})]})]})]})})]}):(0,kt.jsxs)("div",{className:"p-4",children:[(0,kt.jsx)(pf,{message:H.message,type:H.type,show:H.show,onClose:()=>W(e=>c(c({},e),{},{show:!1}))}),(0,kt.jsx)(ff,{show:q.show,title:q.title,message:q.message,onConfirm:X,onCancel:G,confirmText:"Supprimer",cancelText:"Annuler"}),(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-base font-semibold",children:"Liste compl\xe8te des signalements"}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:"Gestion et suivi des dossiers avec filtres avanc\xe9s."})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsxs)("button",{onClick:()=>w(!0),className:"flex items-center gap-1 px-3 py-1 text-xs rounded-md bg-blue-600 text-white hover:bg-blue-700",children:[(0,kt.jsx)(hf,{className:"w-3 h-3"}),"Nouveau signalement"]}),(0,kt.jsxs)("button",{onClick:()=>{const e=[["ID","R\xc9F\xc9RENCE","DATE","NOM / PR\xc9NOM","CAT\xc9GORIE","STATUT","DESCRIPTION"],...se.map(e=>[e.id,e.reference,$(e.date),e.nom_prenom,e.categorieLabel||"N/A",ee(e.status),e.explication])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),n=URL.createObjectURL(t);s.setAttribute("href",n),s.setAttribute("download","signalements_".concat((new Date).toISOString().split("T")[0],".csv")),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s),K("Export CSV r\xe9alis\xe9 avec succ\xe8s","success")},className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-md hover:bg-gray-50",children:[(0,kt.jsx)(Or,{className:"w-3 h-3"}),"Exporter CSV"]})]})]}),(0,kt.jsxs)("div",{className:"mb-6 bg-white rounded-lg border p-4",children:[(0,kt.jsxs)("div",{className:"mb-4",children:[(0,kt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Analyse D\xe9taill\xe9e par Cat\xe9gories"}),(0,kt.jsx)("p",{className:"text-sm text-gray-600",children:"Visualisation et analyse approfondie des signalements par cat\xe9gorie"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-2 mb-4",children:[(0,kt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat("tous"===b?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>v("tous"),children:[(0,kt.jsx)(mf,{className:"w-5 h-5 mb-1"}),(0,kt.jsx)("span",{className:"text-xs font-medium",children:"Toutes"})]}),J.map(e=>{const t=Z(e.id),s=e.icon;return(0,kt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat(b===e.id?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>v(e.id),title:e.name,children:[(0,kt.jsx)(s,{className:"w-5 h-5 mb-1"}),(0,kt.jsx)("span",{className:"text-xs font-medium truncate w-full text-center",children:e.name.split(" ")[0]}),(0,kt.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:t.total})]},e.id)})]}),(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,kt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"tous"===b?"Synth\xe8se - Toutes cat\xe9gories":"Synth\xe8se - ".concat(null===xe||void 0===xe?void 0:xe.name)}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,kt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,kt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"tous"===b?te.length:ge.total}),(0,kt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"Signalements totaux"})]}),(0,kt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,kt.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:"tous"===b?d.filter(e=>"en_cours"===e.status).length:ge.encours}),(0,kt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"En cours"})]}),(0,kt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,kt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"tous"===b?d.filter(e=>"classifier"===e.status).length:ge.resolus}),(0,kt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"R\xe9solus"})]})]})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-3",children:[(0,kt.jsx)("div",{className:"md:col-span-2",children:(0,kt.jsx)("input",{type:"text",value:n.search,onChange:e=>oe("search",e.target.value),placeholder:"Rechercher par r\xe9f\xe9rence, nom, description...",className:"w-full px-2 py-1 text-xs border rounded-md"})}),(0,kt.jsx)("div",{children:(0,kt.jsx)("input",{type:"date",value:n.dateDebut,onChange:e=>oe("dateDebut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date d\xe9but"})}),(0,kt.jsx)("div",{children:(0,kt.jsx)("input",{type:"date",value:n.dateFin,onChange:e=>oe("dateFin",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date fin"})}),(0,kt.jsx)("div",{children:(0,kt.jsxs)("select",{value:n.statut,onChange:e=>oe("statut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",children:[(0,kt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,kt.jsx)("option",{value:"en_cours",children:"En cours"}),(0,kt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"}),(0,kt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,kt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s"})]})})]}),(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-2 text-xs",children:[(0,kt.jsxs)("button",{onClick:()=>{r({search:"",statut:"",dateDebut:"",dateFin:""}),i(1)},className:"flex items-center gap-1 px-2 py-1 border rounded-md hover:bg-gray-50",children:[(0,kt.jsx)(Lt,{className:"w-3 h-3"}),"R\xe9initialiser les filtres"]}),(0,kt.jsxs)("div",{className:"text-gray-500",children:[se.length," signalements trouv\xe9s"]})]}),p&&(0,kt.jsxs)("div",{className:"flex items-center gap-2 p-2 mb-2 text-xs text-red-700 bg-red-50 border border-red-200 rounded-md",children:[(0,kt.jsx)(Pt,{className:"w-4 h-4"}),(0,kt.jsxs)("span",{children:["Erreur lors du chargement des donn\xe9es : ",p]})]}),(0,kt.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,kt.jsx)("div",{className:"overflow-x-auto",children:h?(0,kt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Chargement en cours..."}):0===se.length?(0,kt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Aucun signalement trouv\xe9 avec les filtres actuels"}):(0,kt.jsxs)("table",{className:"min-w-full text-xs",children:[(0,kt.jsx)("thead",{className:"bg-gray-50",children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,kt.jsxs)("button",{onClick:()=>le("id"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,kt.jsx)("span",{children:"ID"}),(0,kt.jsx)(xf,{isSorted:"id"===O.key,isAsc:"asc"===O.direction})]})}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,kt.jsxs)("button",{onClick:()=>le("reference"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,kt.jsx)("span",{children:"R\xc9F\xc9RENCE"}),(0,kt.jsx)(xf,{isSorted:"reference"===O.key,isAsc:"asc"===O.direction})]})}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,kt.jsxs)("button",{onClick:()=>le("date"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,kt.jsx)("span",{children:"DATE"}),(0,kt.jsx)(xf,{isSorted:"date"===O.key,isAsc:"asc"===O.direction})]})}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:"NOM / PR\xc9NOM"}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:"CAT\xc9GORIE"}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:"DESCRIPTION"}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:"STATUT"}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:"ACTIONS"})]})}),(0,kt.jsx)("tbody",{children:ie.map(e=>(0,kt.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,kt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.id}),(0,kt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.reference}),(0,kt.jsx)("td",{className:"px-2 py-2",children:$(e.date)}),(0,kt.jsx)("td",{className:"px-2 py-2",children:e.nom_prenom}),(0,kt.jsx)("td",{className:"px-2 py-2",children:e.categorieLabel}),(0,kt.jsx)("td",{className:"px-2 py-2 max-w-[150px]",children:(0,kt.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2",children:e.shortDescription})}),(0,kt.jsx)("td",{className:"px-2 py-2",children:(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-yellow-100 text-yellow-800":"transmis_autorite"===e.status?"bg-indigo-100 text-indigo-800":"classifier"===e.status?"bg-blue-100 text-blue-800":"investigation"===e.status?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:ee(e.status)})}),(0,kt.jsx)("td",{className:"px-2 py-2",children:(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,kt.jsx)("button",{onClick:()=>(e=>{g((null===x||void 0===x?void 0:x.id)===e.id?null:e),P({general:!0,auteur:!0,description:!0,pieces:!0})})(e),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Voir d\xe9tails",children:(0,kt.jsx)(Pr,{className:"w-3 h-3"})}),(0,kt.jsx)("button",{onClick:()=>ce(e),className:"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Imprimer",children:(0,kt.jsx)(uf,{className:"w-3 h-3"})}),(0,kt.jsx)("button",{onClick:()=>de(e),className:"p-1 text-amber-600 hover:bg-amber-100 rounded transition-colors",title:"Mettre \xe0 jour statut",children:(0,kt.jsx)(Oi,{className:"w-3 h-3"})}),(0,kt.jsx)("button",{onClick:()=>ue(e),className:"p-1 text-indigo-600 hover:bg-indigo-100 rounded transition-colors",title:"Modifier",children:(0,kt.jsx)(cf,{className:"w-3 h-3"})}),(0,kt.jsx)("button",{onClick:()=>(e=>{s?s(e.reference):K("Fonction de contact non disponible","warning")})(e),title:"Contacter",className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",children:(0,kt.jsx)(Hr,{className:"w-3 h-3"})}),(0,kt.jsx)("button",{onClick:()=>he(e),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Supprimer",children:(0,kt.jsx)(df,{className:"w-3 h-3"})})]})})]},e.id))})]})}),se.length>0&&(0,kt.jsxs)("div",{className:"flex items-center justify-between px-2 py-2 border-t bg-gray-50",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,kt.jsx)("span",{children:"\xc9l\xe9ments par page :"}),(0,kt.jsxs)("select",{value:l,onChange:e=>{o(Number(e.target.value)),i(1)},className:"px-2 py-1 border rounded-md text-xs",children:[(0,kt.jsx)("option",{value:10,children:"10"}),(0,kt.jsx)("option",{value:30,children:"30"}),(0,kt.jsx)("option",{value:50,children:"50"}),(0,kt.jsx)("option",{value:100,children:"100"})]}),(0,kt.jsxs)("span",{className:"text-gray-500",children:[ae+1,"-",Math.min(re,se.length)," sur"," ",se.length]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,kt.jsx)("button",{onClick:()=>i(e=>Math.max(1,e-1)),disabled:1===a,className:"p-1 border rounded-md disabled:opacity-50",children:(0,kt.jsx)(Rt,{className:"w-4 h-4"})}),(()=>{const e=[];if(ne<=7)for(let t=1;t<=ne;t++)e.push(t);else{e.push(1);let t=Math.max(2,a-2),s=Math.min(ne-1,a+2);a<=3&&(s=5),a>=ne-2&&(t=ne-5+1),t>2&&e.push("...");for(let n=t;n<=s;n++)e.push(n);s<ne-1&&e.push("..."),e.push(ne)}return e})().map((e,t)=>"..."===e?(0,kt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,kt.jsx)("button",{onClick:()=>i(e),className:"px-2 py-1 text-xs border rounded-md ".concat(a===e?"bg-blue-600 text-white":"bg-white"),children:e},e)),(0,kt.jsx)("button",{onClick:()=>i(e=>Math.min(ne,e+1)),disabled:a===ne||0===ne,className:"p-1 border rounded-md disabled:opacity-50",children:(0,kt.jsx)(Vr,{className:"w-4 h-4"})})]})]})]}),y&&(0,kt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold",children:"Nouveau Signalement"}),(0,kt.jsx)("button",{onClick:()=>w(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,kt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),I.category)if(I.description)if("identifie"!==I.type||I.name)try{const e=new FormData;e.append("type",I.type),e.append("name",I.name||"Anonyme"),e.append("category",I.category),e.append("description",I.description),e.append("accept_terms",1),e.append("accept_truth",1),I.email&&I.email.trim()&&e.append("email",I.email.trim()),I.phone&&I.phone.trim()&&e.append("phone",I.phone.trim()),I.address&&I.address.trim()&&e.append("address",I.address.trim()),I.files.length>0&&I.files.forEach(t=>{e.append("files[]",t)});const t=await or.post("/reports",e,{headers:{"Content-Type":"multipart/form-data"}});t.data.success&&(z({category:"",description:"",files:[],name:"",email:"",phone:"",address:"",type:"identifie"}),w(!1),await Q(),K("Signalement cr\xe9\xe9 avec succ\xe8s! R\xe9f\xe9rence: ".concat(t.data.reference),"success"))}catch(p){var t;if(422===(null===(t=p.response)||void 0===t?void 0:t.status)){const t=p.response.data.errors||{},s=Object.entries(t).map(e=>{let[t,s]=e;return"\u2022 ".concat(t,": ").concat(Array.isArray(s)?s.join(", "):s)}).join("\n");K("Erreur de validation:\n\n".concat(s),"error")}else{var s,n;K("Erreur: ".concat((null===(s=p.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||p.message),"error")}}else K("Le nom est obligatoire pour un signalement identifi\xe9","error");else K("La description est obligatoire","error");else K("Veuillez s\xe9lectionner une cat\xe9gorie","error")},className:"p-4 space-y-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de signalement ",(0,kt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,kt.jsxs)("div",{className:"flex gap-4",children:[(0,kt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,kt.jsx)("input",{type:"radio",name:"type",value:"identifie",checked:"identifie"===I.type,onChange:e=>z(c(c({},I),{},{type:e.target.value})),className:"w-4 h-4"}),(0,kt.jsx)("span",{children:"Je m'identifie"})]}),(0,kt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,kt.jsx)("input",{type:"radio",name:"type",value:"anonyme",checked:"anonyme"===I.type,onChange:e=>z(c(c({},I),{},{type:e.target.value})),className:"w-4 h-4"}),(0,kt.jsx)("span",{children:"Anonyme"})]})]})]}),"identifie"===I.type&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom et Pr\xe9nom ",(0,kt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,kt.jsx)("input",{type:"text",value:I.name,onChange:e=>z(c(c({},I),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Votre nom complet"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,kt.jsx)("input",{type:"email",value:I.email,onChange:e=>z(c(c({},I),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"email@exemple.com"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,kt.jsx)("input",{type:"tel",value:I.phone,onChange:e=>z(c(c({},I),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+261 XX XX XXX XX"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),(0,kt.jsx)("input",{type:"text",value:I.address,onChange:e=>z(c(c({},I),{},{address:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ville, r\xe9gion..."})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cat\xe9gorie ",(0,kt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,kt.jsxs)("select",{value:I.category,onChange:e=>z(c(c({},I),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,kt.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),J.map(e=>(0,kt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",(0,kt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,kt.jsx)("textarea",{value:I.description,onChange:e=>z(c(c({},I),{},{description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"D\xe9crivez en d\xe9tail la situation...",required:!0})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pi\xe8ces jointes (optionnel)"}),(0,kt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.pdf,.mp4",onChange:e=>{const t=Array.from(e.target.files);z(e=>c(c({},e),{},{files:[...e.files,...t]}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formats: JPG, PNG, PDF, MP4 - Max 8 Mo/fichier"})]}),I.files.length>0&&(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Fichiers ajout\xe9s (",I.files.length,")"]}),I.files.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[(0,kt.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,kt.jsx)("button",{type:"button",onClick:()=>(e=>{z(t=>c(c({},t),{},{files:t.files.filter((t,s)=>s!==e)}))})(t),className:"ml-2 text-red-600 hover:text-red-800",children:(0,kt.jsx)(Lt,{className:"w-4 h-4"})})]},t))]}),(0,kt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,kt.jsx)("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,kt.jsx)("button",{type:"submit",disabled:!I.category||!I.description||"identifie"===I.type&&!I.name.trim(),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cr\xe9er le signalement"})]})]})]})}),j&&(0,kt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold",children:"Mettre \xe0 jour le statut"}),(0,kt.jsx)("button",{onClick:()=>N(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,kt.jsxs)("form",{onSubmit:fe,className:"p-4 space-y-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nouveau statut ",(0,kt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,kt.jsxs)("select",{value:F.status,onChange:e=>U(t=>c(c({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,kt.jsx)("option",{value:"",children:"S\xe9lectionner un statut"}),(0,kt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,kt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,kt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"})]})]}),(0,kt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,kt.jsx)("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,kt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-amber-600 text-white rounded-md hover:bg-amber-700",children:"Mettre \xe0 jour le statut"})]})]})]})}),k&&(0,kt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,kt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,kt.jsx)("h2",{className:"text-lg font-semibold",children:"Modifier le signalement"}),(0,kt.jsx)("button",{onClick:()=>S(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,kt.jsxs)("form",{onSubmit:pe,className:"p-4 space-y-4",children:[(0,kt.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,kt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,kt.jsx)("span",{className:"font-semibold",children:"Type:"})," ",(0,kt.jsx)("span",{className:"Anonyme"===(null===D||void 0===D?void 0:D.type_signalement)?"text-blue-600":"text-green-600",children:null===D||void 0===D?void 0:D.type_signalement})]}),"Anonyme"===(null===D||void 0===D?void 0:D.type_signalement)&&(0,kt.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"\u26a0\ufe0f Seuls la description et les pi\xe8ces jointes peuvent \xeatre modifi\xe9s pour un signalement anonyme"})]}),"Anonyme"!==(null===D||void 0===D?void 0:D.type_signalement)&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom et Pr\xe9nom"}),(0,kt.jsx)("input",{type:"text",value:B.nom_prenom,onChange:e=>V(c(c({},B),{},{nom_prenom:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"Nom complet",disabled:"Anonyme"===(null===D||void 0===D?void 0:D.type_signalement)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,kt.jsx)("input",{type:"email",value:B.email,onChange:e=>V(c(c({},B),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"email@exemple.com",disabled:"Anonyme"===(null===D||void 0===D?void 0:D.type_signalement)})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,kt.jsx)("input",{type:"text",value:B.telephone,onChange:e=>V(c(c({},B),{},{telephone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"+261 XX XX XXX XX",disabled:"Anonyme"===(null===D||void 0===D?void 0:D.type_signalement)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),(0,kt.jsx)("input",{type:"text",value:B.city,onChange:e=>V(c(c({},B),{},{city:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"Ville",disabled:"Anonyme"===(null===D||void 0===D?void 0:D.type_signalement)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Province"}),(0,kt.jsx)("input",{type:"text",value:B.province,onChange:e=>V(c(c({},B),{},{province:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"Province",disabled:"Anonyme"===(null===D||void 0===D?void 0:D.type_signalement)})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cat\xe9gorie"}),(0,kt.jsxs)("select",{value:B.category,onChange:e=>V(c(c({},B),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",disabled:"Anonyme"===(null===D||void 0===D?void 0:D.type_signalement),children:[(0,kt.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),J.map(e=>(0,kt.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",(0,kt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,kt.jsx)("textarea",{value:B.description,onChange:e=>V(c(c({},B),{},{description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]}),(null===D||void 0===D?void 0:D.files)&&D.files.length>0&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pi\xe8ces jointes actuelles"}),(0,kt.jsx)("div",{className:"space-y-2",children:D.files.map((e,t)=>{const s="string"===typeof e?e:e.name;return(0,kt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[(0,kt.jsx)("span",{className:"text-sm truncate flex-1",children:s}),(0,kt.jsx)("button",{type:"button",onClick:()=>{const e=D.files.filter((e,s)=>s!==t);T(c(c({},D),{},{files:e})),V(c(c({},B),{},{filesToRemove:[...B.filesToRemove||[],s]}))},className:"ml-2 text-red-600 hover:text-red-800",title:"Supprimer ce fichier",children:(0,kt.jsx)(Lt,{className:"w-4 h-4"})})]},t)})})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajouter de nouvelles pi\xe8ces jointes"}),(0,kt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.pdf,.mp4",onChange:e=>{const t=Array.from(e.target.files);V(c(c({},B),{},{newFiles:t}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formats: JPG, PNG, PDF, MP4 - Max 25 Mo/fichier"})]}),B.newFiles&&B.newFiles.length>0&&(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Nouveaux fichiers \xe0 ajouter (",B.newFiles.length,")"]}),(0,kt.jsx)("div",{className:"space-y-2",children:B.newFiles.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-2 rounded border border-blue-200",children:[(0,kt.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,kt.jsx)("button",{type:"button",onClick:()=>{const e=B.newFiles.filter((e,s)=>s!==t);V(c(c({},B),{},{newFiles:e}))},className:"ml-2 text-red-600 hover:text-red-800",children:(0,kt.jsx)(Lt,{className:"w-4 h-4"})})]},t))})]}),(0,kt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,kt.jsx)("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,kt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Modifier"})]})]})]})})]});var be};var bf=s(224),vf=s.n(bf);const yf=Tt("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),wf=Tt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),jf=Tt("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]),Nf=Tt("mail-open",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]),kf=e=>{let{navigationData:s,onCloseNotification:n}=e;const[r,a]=(0,t.useState)([]),[i,l]=(0,t.useState)(!0),[o,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(1),[m]=(0,t.useState)(20),[p,f]=(0,t.useState)("all"),[x,g]=(0,t.useState)("list");(0,t.useEffect)(()=>{b()},[]),(0,t.useEffect)(()=>{s&&("detail"===s.view&&s.notification?(d(s.notification),g("detail")):"list"===s.view&&(d(null),g("list")))},[s]);const b=async()=>{try{const e=await or.get("/notifications");e.data.success&&a(e.data.data||[])}catch(e){console.error("Erreur lors du chargement des notifications:",e)}finally{l(!1)}},v=async e=>{try{(await or.post("/notifications/".concat(e,"/read"),{})).data.success&&(a(t=>t.map(t=>t.id===e?c(c({},t),{},{status:"read"}):t)),(null===o||void 0===o?void 0:o.id)===e&&d(e=>c(c({},e),{},{status:"read"})))}catch(t){console.error("Erreur lors du marquage comme lu:",t)}},y=(e,t)=>{const s=document.createElement("div");s.className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",s.innerHTML='\n      <div class="bg-white rounded-xl shadow-2xl max-w-md w-full p-6 mx-4">\n        <div class="flex items-center gap-4 mb-4">\n          <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0">\n            <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\n            </svg>\n          </div>\n          <div>\n            <h3 class="text-lg font-semibold text-gray-900">Supprimer la notification</h3>\n            <p class="text-gray-600 text-sm mt-1">Cette action est irr\xe9versible</p>\n          </div>\n        </div>\n        <div class="bg-gray-50 rounded-lg p-4 mb-6">\n          <p class="text-gray-700 text-sm">\n            \xcates-vous s\xfbr de vouloir supprimer d\xe9finitivement la notification \n            <strong class="text-gray-900 block mt-1">"'.concat(t,'"</strong> ?\n          </p>\n        </div>\n        <div class="flex gap-3 justify-end">\n          <button id="cancel-btn" class="px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm">\n            Annuler\n          </button>\n          <button id="confirm-btn" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium text-sm">\n            Supprimer\n          </button>\n        </div>\n      </div>\n    ');const n=s.querySelector("#cancel-btn"),r=s.querySelector("#confirm-btn");n.onclick=()=>document.body.removeChild(s),r.onclick=()=>{(async e=>{try{(await or.delete("/notifications/".concat(e))).data.success&&(a(t=>t.filter(t=>t.id!==e)),(null===o||void 0===o?void 0:o.id)===e&&(d(null),g("list")))}catch(t){console.error("Erreur lors de la suppression:",t)}})(e),document.body.removeChild(s)},document.body.appendChild(s)},w=e=>{switch(e){case"nouveau_signalement":return(0,kt.jsx)(Yr,{className:"w-4 h-4 text-blue-600"});case"doublon_detecte":return(0,kt.jsx)(rf,{className:"w-4 h-4 text-orange-600"});case"signalement_urgent":return(0,kt.jsx)(yf,{className:"w-4 h-4 text-red-600"});case"statut_modifie":return(0,kt.jsx)(wf,{className:"w-4 h-4 text-green-600"});default:return(0,kt.jsx)(el,{className:"w-4 h-4 text-gray-600"})}},j=e=>{switch(e){case"nouveau_signalement":return"Nouveau dossier";case"doublon_detecte":return"Doublon d\xe9tect\xe9";case"signalement_urgent":return"Signalement urgent";case"statut_modifie":return"Statut modifi\xe9";default:return"Notification syst\xe8me"}},N=e=>{if(!e)return"";try{const t=new Date(e),s=new Date-t,n=Math.floor(s/6e4),r=Math.floor(s/36e5),a=Math.floor(s/864e5);return n<1?"\xc0 l'instant":n<60?"Il y a ".concat(n," min"):r<24?"Il y a ".concat(r," h"):1===a?"Hier":a<7?"Il y a ".concat(a," j"):t.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch(qx){return e}},k=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(qx){return e}},S=r.filter(e=>"unread"===p?"active"===e.status:"read"!==p||"read"===e.status),E=Math.ceil(S.length/m),C=u*m,_=C-m,A=S.slice(_,C),M=r.filter(e=>"active"===e.status).length,D=async e=>{try{const t=await or.get("/reports/".concat(e));return t.data.success?t.data.data:null}catch(t){console.error("Erreur lors du chargement des d\xe9tails:",t)}return null},T=()=>{d(null),g("list"),n&&n()};return i?(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,kt.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,kt.jsxs)("div",{className:"animate-pulse",children:[(0,kt.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),[...Array(8)].map((e,t)=>(0,kt.jsx)("div",{className:"bg-white rounded-lg p-3 mb-2 border border-gray-200",children:(0,kt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,kt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),(0,kt.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,kt.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),(0,kt.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},t))]})})}):"detail"===x&&o?(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,kt.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,kt.jsxs)("button",{onClick:T,className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[(0,kt.jsx)(Rt,{className:"w-4 h-4"}),"Retour aux notifications"]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:["active"===o.status&&(0,kt.jsxs)("button",{onClick:()=>v(o.id),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-1",children:[(0,kt.jsx)(Ur,{className:"w-3 h-3"}),"Marquer comme lu"]}),(0,kt.jsxs)("button",{onClick:()=>y(o.id,o.titre),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm flex items-center gap-1",children:[(0,kt.jsx)(df,{className:"w-3 h-3"}),"Supprimer"]})]})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,kt.jsx)("div",{className:"border-b border-gray-200 p-4",children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:w(o.type)}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:o.titre}),(0,kt.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[(0,kt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,kt.jsx)(el,{className:"w-3 h-3"}),j(o.type)]}),(0,kt.jsx)("span",{children:"\u2022"}),(0,kt.jsx)("span",{children:k(o.created_at||o.timestamp)})]})]})]})}),(0,kt.jsxs)("div",{className:"p-4 space-y-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Message"}),(0,kt.jsx)("div",{className:"bg-gray-50 rounded border p-3",children:(0,kt.jsx)("p",{className:"text-gray-900 text-sm leading-relaxed whitespace-pre-wrap",children:o.message})})]}),"doublon_detecte"===o.type&&(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-1",children:[(0,kt.jsx)(rf,{className:"w-4 h-4 text-orange-600"}),"Analyse du doublon"]}),(0,kt.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded p-3",children:(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsx)("p",{className:"text-orange-800 text-sm font-medium",children:"Ce signalement a \xe9t\xe9 identifi\xe9 comme un doublon pour les raisons suivantes :"}),null!==(R=o.metadata)&&void 0!==R&&R.raisons_doublon?(0,kt.jsx)("ul",{className:"list-disc list-inside space-y-1 text-orange-800 text-sm",children:o.metadata.raisons_doublon.map((e,t)=>(0,kt.jsx)("li",{children:e},t))}):(0,kt.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-orange-800 text-sm",children:[(0,kt.jsx)("li",{children:"Informations du plaignant identiques ou tr\xe8s similaires"}),(0,kt.jsx)("li",{children:"Description des faits correspondante \xe0 un signalement pr\xe9c\xe9dent"}),(0,kt.jsx)("li",{children:"Localisation et p\xe9riode temporelle identiques"})]})]})})]}),o.signalementDetails&&(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-1",children:[(0,kt.jsx)(Yr,{className:"w-4 h-4 text-blue-600"}),"D\xe9tails du dossier"]}),(0,kt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"PLAIGNANT:"}),(0,kt.jsx)("p",{className:"text-gray-900",children:o.signalementDetails.isAnonymous?"Anonyme":o.signalementDetails.name||"Non sp\xe9cifi\xe9"})]}),o.signalementDetails.email&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"EMAIL:"}),(0,kt.jsx)("p",{className:"text-gray-900",children:o.signalementDetails.email})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"LOCALISATION:"}),(0,kt.jsxs)("p",{className:"text-gray-900",children:[o.signalementDetails.region||"Non sp\xe9cifi\xe9",o.signalementDetails.city&&", ".concat(o.signalementDetails.city)]})]})]}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"CAT\xc9GORIE:"}),(0,kt.jsx)("p",{className:"text-gray-900 capitalize",children:(null===(P=o.signalementDetails.category)||void 0===P?void 0:P.replace(/-/g," "))||"Non sp\xe9cifi\xe9"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"R\xc9F\xc9RENCE:"}),(0,kt.jsx)("p",{className:"text-gray-900 font-mono text-blue-600",children:o.signalementDetails.reference})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"DATE DE SOUMISSION:"}),(0,kt.jsx)("p",{className:"text-gray-900",children:new Date(o.signalementDetails.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),o.signalementDetails.description&&(0,kt.jsxs)("div",{className:"mt-3",children:[(0,kt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"DESCRIPTION:"}),(0,kt.jsx)("div",{className:"bg-white rounded border p-2 mt-1",children:(0,kt.jsx)("p",{className:"text-gray-900 text-sm leading-relaxed",children:o.signalementDetails.description})})]}),o.signalementDetails.files&&o.signalementDetails.files.length>0&&(0,kt.jsxs)("div",{className:"mt-3",children:[(0,kt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"PREUVES (PI\xc8CES JOINTES):"}),(0,kt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-1",children:o.signalementDetails.files.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white rounded border hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{return t=e.url,void window.open(t,"_blank");var t},children:[(0,kt.jsx)(jf,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-900 truncate",children:e.name}),(0,kt.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024/1024).toFixed(2)," MB"]})]}),(0,kt.jsx)(Pr,{className:"w-4 h-4 text-gray-400 hover:text-blue-600 transition-colors"})]},t))})]}),(!o.signalementDetails.files||0===o.signalementDetails.files.length)&&o.signalementDetails.filesCount>0&&(0,kt.jsxs)("div",{className:"mt-3",children:[(0,kt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"PREUVES:"}),(0,kt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white rounded border mt-1",children:[(0,kt.jsx)(Or,{className:"w-4 h-4 text-blue-600"}),(0,kt.jsxs)("span",{className:"text-sm text-gray-700",children:[o.signalementDetails.filesCount," ","fichier(s) attach\xe9(s)"]})]})]})]})]}),o.reference_dossier&&!o.signalementDetails&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"R\xe9f\xe9rence"}),(0,kt.jsx)("div",{className:"bg-gray-50 rounded border p-3",children:(0,kt.jsx)("p",{className:"font-mono text-blue-600 text-sm font-medium",children:o.reference_dossier})})]})]})]})]})}):(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,kt.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,kt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Notifications"}),(0,kt.jsxs)("p",{className:"text-gray-600 text-xs mt-1",children:[r.length," notification(s) \u2022 ",M," non lu(s)"]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("button",{onClick:b,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"Actualiser",children:(0,kt.jsx)(wf,{className:"w-4 h-4"})}),M>0&&(0,kt.jsxs)("button",{onClick:async()=>{try{(await or.post("/notifications/read-all",{})).data.success&&a(e=>e.map(e=>c(c({},e),{},{status:"read"})))}catch(e){console.error("Erreur lors du marquage de tout comme lu:",e)}},className:"px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded hover:bg-blue-700 transition-colors flex items-center gap-1",children:[(0,kt.jsx)(Ur,{className:"w-3 h-3"}),"Tout marquer comme lu"]})]})]}),(0,kt.jsxs)("div",{className:"flex gap-3 mt-4 border-b border-gray-200 -mb-px",children:[(0,kt.jsx)("button",{onClick:()=>{f("all"),h(1)},className:"pb-2 px-1 text-xs font-medium border-b-2 transition-colors ".concat("all"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,kt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,kt.jsx)(el,{className:"w-3 h-3"}),"Toutes"]})}),(0,kt.jsx)("button",{onClick:()=>{f("unread"),h(1)},className:"pb-2 px-1 text-xs font-medium border-b-2 transition-colors ".concat("unread"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,kt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,kt.jsx)(Tr,{className:"w-3 h-3"}),"Non lues",M>0&&(0,kt.jsx)("span",{className:"bg-blue-100 text-blue-600 text-xs px-1.5 py-0.5 rounded-full",children:M})]})}),(0,kt.jsx)("button",{onClick:()=>{f("read"),h(1)},className:"pb-2 px-1 text-xs font-medium border-b-2 transition-colors ".concat("read"===p?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,kt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,kt.jsx)(Nf,{className:"w-3 h-3"}),"Lues"]})})]})]}),(0,kt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:0===A.length?(0,kt.jsxs)("div",{className:"text-center py-8",children:[(0,kt.jsx)(el,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,kt.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"all"===p?"Aucune notification":"unread"===p?"Aucune notification non lue":"Aucune notification lue"}),(0,kt.jsx)("p",{className:"text-gray-600 text-xs",children:"all"===p?"Vos notifications appara\xeetront ici.":"Aucune notification ne correspond au filtre s\xe9lectionn\xe9."})]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("div",{className:"divide-y divide-gray-100",children:A.map(e=>(0,kt.jsxs)("div",{className:"flex items-start p-3 hover:bg-gray-50 cursor-pointer transition-colors ".concat("active"===e.status?"bg-blue-50 border-l-4 border-l-blue-500":""),onClick:()=>(async e=>{"active"===e.status&&await v(e.id);let t=null;e.reference_dossier&&(t=await D(e.reference_dossier)),d(c(c({},e),{},{signalementDetails:t})),g("detail")})(e),children:[(0,kt.jsx)("div",{className:"flex-shrink-0 mr-3",children:(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:w(e.type)})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,kt.jsx)("span",{className:"font-semibold text-xs ".concat("active"===e.status?"text-gray-900":"text-gray-600"),children:j(e.type)}),"active"===e.status&&(0,kt.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"})]}),(0,kt.jsx)("div",{className:"text-xs text-gray-500",children:N(e.created_at||e.timestamp)})]}),(0,kt.jsx)("h3",{className:"font-semibold text-gray-900 text-xs mb-1 ".concat("active"===e.status?"":"text-gray-600"),children:e.titre}),(0,kt.jsx)("p",{className:"text-gray-600 text-xs mb-1 leading-relaxed line-clamp-2",children:e.message}),e.reference_dossier&&(0,kt.jsx)("div",{className:"flex items-center gap-1 text-xs",children:(0,kt.jsxs)("span",{className:"font-mono bg-gray-100 px-1.5 py-0.5 rounded text-gray-600 border text-xs",children:["R\xe9f: ",e.reference_dossier]})})]})]},e.id))}),E>1&&(0,kt.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 bg-white",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"text-xs text-gray-500",children:[_+1,"-",Math.min(C,S.length)," ","sur ",S.length]}),(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,kt.jsx)("button",{onClick:()=>h(e=>Math.max(1,e-1)),disabled:1===u,className:"p-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,kt.jsx)(Rt,{className:"w-3 h-3"})}),(0,kt.jsxs)("span",{className:"text-xs text-gray-600 mx-2",children:[u," / ",E]}),(0,kt.jsx)("button",{onClick:()=>h(e=>Math.min(E,e+1)),disabled:u===E,className:"p-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,kt.jsx)(Vr,{className:"w-3 h-3"})})]})]})})]})})]})});var R,P},Sf=Tt("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Ef=e=>{let{status:t}=e;return(0,kt.jsxs)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium border flex items-center gap-1 w-fit ".concat((()=>{const e=(t||"").toLowerCase();return e.includes("succ\xe8s")||e.includes("success")||"200"===e?"bg-green-100 text-green-700 border-green-200":e.includes("\xe9chec")||e.includes("fail")||e.includes("refus\xe9")||e.includes("40")?"bg-red-100 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"})()),children:[(t||"").toLowerCase().includes("succ\xe8s")?(0,kt.jsx)(kr,{size:12}):(0,kt.jsx)(Pt,{size:12}),(0,kt.jsx)("span",{className:"truncate max-w-[80px] sm:max-w-none",children:t||"Inconnu"})]})},Cf=e=>{let{action:t}=e;return(0,kt.jsx)("span",{className:"px-2 py-1 rounded-md bg-gray-100 text-gray-600 text-xs font-semibold border border-gray-200 truncate max-w-[100px] sm:max-w-none",children:t||"Action"})},_f=e=>{let{name:t,email:s}=e;const n=(t||s||"Syst\xe8me").split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase();return(0,kt.jsx)("div",{className:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold border border-indigo-200 flex-shrink-0",children:n})},Af=e=>{let{title:t,value:s,icon:n,color:r="blue",loading:a=!1}=e;const i={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",red:"bg-red-100 text-red-600",purple:"bg-purple-100 text-purple-600"};return(0,kt.jsx)("div",{className:"bg-white p-4 sm:p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow h-full",children:(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,kt.jsx)("p",{className:"text-sm text-gray-500 mb-1 truncate",children:t}),a?(0,kt.jsx)("div",{className:"h-7 sm:h-8 w-16 sm:w-20 bg-gray-200 rounded animate-pulse"}):(0,kt.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:s.toLocaleString()})]}),(0,kt.jsx)("div",{className:"p-2 rounded-lg flex-shrink-0 ml-2 ".concat(i[r]||i.blue),children:(0,kt.jsx)(n,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})})},Mf=()=>{const[e,s]=(0,t.useState)({user:"",action:"",status:"",auditDateStart:"",auditDateEnd:""}),[n,r]=(0,t.useState)({audit_log:[]}),[a,i]=(0,t.useState)(!0),[l,o]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[h,m]=(0,t.useState)(null),[p,f]=(0,t.useState)(!1),[x,g]=(0,t.useState)(!1),[b,v]=(0,t.useState)({total:0,today:0,success:0,errors:0,topUsers:[],topActions:[]}),[y,w]=(0,t.useState)(null),[j,N]=(0,t.useState)(null),[k,S]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=()=>{g(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{E(),A()},[]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{a||C()},500);return()=>clearTimeout(e)},[e]);const E=async()=>{try{await Promise.all([C(),_()])}catch(e){console.error("Erreur lors du chargement des donn\xe9es :",e)}},C=async()=>{try{var t;u(null);const s=await or.get("/audit/logs",{params:{user:e.user||void 0,action:e.action||void 0,status:e.status||void 0,auditDateStart:e.auditDateStart||void 0,auditDateEnd:e.auditDateEnd||void 0}});if(null!==(t=s.data)&&void 0!==t&&t.success){s.data.data?r({audit_log:s.data.data}):s.data.audit_log&&r({audit_log:s.data.audit_log});const e=s.data.data||s.data.audit_log||[];M(e),s.data.user_email&&N({email:s.data.user_email,role:s.data.user_role}),w(new Date)}else u("Impossible de charger les logs.")}catch(s){console.error("Erreur data audit:",s),s.response&&404===s.response.status?u("Route API introuvable /audit/logs."):u("Impossible de charger les logs.")}finally{i(!1)}},_=async()=>{try{var e;o(!0);const t=await or.get("/audit/stats");if(null!==(e=t.data)&&void 0!==e&&e.success){const e=t.data.data||{};v(t=>c(c({},t),{},{total:e.total_actions||0,today:e.today_actions||0,success:e.success_actions||0,errors:e.failed_actions||0,topUsers:e.top_users||[],topActions:e.top_actions||[]})),t.data.user_email&&N({email:t.data.user_email,role:t.data.user_role}),w(new Date)}}catch(t){console.error("Erreur stats audit:",t)}finally{o(!1)}},A=async()=>{try{S(!0);const a=Ri.getUser();if(a)return void N({email:a.email,role:a.role});try{var e,t;const s=await or.get("/auth/check-auth",{withCredentials:!0,validateStatus:e=>e<500});if(200===s.status&&null!==(e=s.data)&&void 0!==e&&e.authenticated){const e=s.data.user||s.data;N({email:e.email,role:e.role})}else 401===s.status||419===s.status||!1===(null===(t=s.data)||void 0===t?void 0:t.authenticated)?console.warn("Utilisateur non authentifi\xe9 (check-auth) - route prot\xe9g\xe9e"):console.warn("R\xe9ponse inattendue de /auth/check-auth :",s.status,s.data)}catch(r){var s,n;401!==(null===(s=r.response)||void 0===s?void 0:s.status)&&419!==(null===(n=r.response)||void 0===n?void 0:n.status)&&console.warn("Erreur lors de la v\xe9rification utilisateur via /auth/check-auth :",r.message)}}catch(a){console.warn("Impossible de v\xe9rifier l'utilisateur :",a.message)}},M=e=>{if(!e||0===e.length)return;const t=(new Date).toISOString().split("T")[0],s={totalFiltered:e.length,todayFiltered:e.filter(e=>new Date(e.timestamp).toISOString().split("T")[0]===t).length,successFiltered:e.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("succ\xe8s")||t.includes("success")}).length,errorsFiltered:e.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("\xe9chec")||t.includes("fail")||t.includes("refus\xe9")}).length};v(e=>c(c({},e),s))},D=(e,t)=>{s(s=>c(c({},s),{},{[e]:t}))},T=()=>{s({user:"",action:"",status:"",auditDateStart:"",auditDateEnd:""}),x&&f(!1)},R=(n.audit_log||[]).filter(t=>{const s=(t.utilisateur||"").toLowerCase(),n=(t.action||"").toLowerCase(),r=(t.statut||"").toLowerCase(),a=!e.user||s.includes(e.user.toLowerCase()),i=!e.action||n.includes(e.action.toLowerCase())||n===e.action.toLowerCase(),l=!e.status||r.includes(e.status.toLowerCase());let o=!0;if(e.auditDateStart||e.auditDateEnd){const s=new Date(t.timestamp).toISOString().split("T")[0];e.auditDateStart&&(o=o&&s>=e.auditDateStart),e.auditDateEnd&&(o=o&&s<=e.auditDateEnd)}return a&&i&&l&&o}),P={total:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?R.length:b.total,today:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?R.filter(e=>{const t=(new Date).toISOString().split("T")[0];return new Date(e.timestamp).toISOString().split("T")[0]===t}).length:b.today,success:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?R.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("succ\xe8s")||t.includes("success")}).length:b.success,errors:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?R.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("\xe9chec")||t.includes("fail")||t.includes("refus\xe9")}).length:b.errors},O=e=>{if(!e)return"";if(e.length<=20)return e;const[t,s]=e.split("@"),n=t.length>10?"".concat(t.substring(0,8),".."):t;return"".concat(n,"@").concat(s)};return a&&0===(n.audit_log||[]).length?(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8 flex justify-center items-start",children:(0,kt.jsxs)("div",{className:"flex items-center gap-3 text-gray-500 animate-pulse mt-10",children:[(0,kt.jsx)(wf,{className:"animate-spin"}),(0,kt.jsx)("span",{children:"Chargement du journal d'audit..."})]})}):(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 p-3 sm:p-4 md:p-6 font-sans text-slate-800 relative",children:(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto space-y-4 sm:space-y-6",children:[d&&(0,kt.jsxs)("div",{className:"bg-red-50 text-red-600 p-3 sm:p-4 rounded-lg border border-red-200 flex items-center gap-2 text-sm sm:text-base",children:[(0,kt.jsx)(Pt,{size:20,className:"flex-shrink-0"}),(0,kt.jsx)("span",{className:"flex-1",children:d}),(0,kt.jsx)("button",{onClick:E,className:"ml-2 text-sm underline hover:text-red-800 whitespace-nowrap",children:"R\xe9essayer"})]}),(0,kt.jsx)("div",{className:"flex flex-col gap-4 bg-white p-4 sm:p-6 rounded-xl border border-gray-200 shadow-sm",children:(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,kt.jsx)(yf,{className:"text-blue-600 flex-shrink-0"}),(0,kt.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded-full border border-amber-200 whitespace-nowrap",children:"Acc\xe8s restreint"}),(null===j||void 0===j?void 0:j.email)&&(0,kt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full border border-blue-200 flex items-center gap-1 truncate max-w-full",children:[(0,kt.jsx)(Ar,{size:12,className:"flex-shrink-0"}),(0,kt.jsx)("span",{title:j.email,className:"truncate",children:O(j.email)}),j.role&&(0,kt.jsx)("span",{className:"ml-1 hidden sm:inline",children:j.role})]})]}),(0,kt.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:"Journal d'Audit"}),(0,kt.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Surveillance et tra\xe7abilit\xe9 des actions syst\xe8me"}),y&&(0,kt.jsxs)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded mt-2 inline-block",children:["Derni\xe8re mise \xe0 jour: ",(L=y,new Date(L).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}))]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[(0,kt.jsxs)("div",{className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-blue-50 text-blue-700 rounded-lg text-sm font-medium border border-blue-100 whitespace-nowrap",children:[P.total.toLocaleString()," \xe9v\xe8nements"]}),(0,kt.jsxs)("button",{onClick:E,className:"flex items-center gap-1 sm:gap-2 bg-white hover:bg-gray-50 text-gray-700 px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg transition-all text-sm font-medium border border-gray-300 shadow-sm whitespace-nowrap",title:"Actualiser les donn\xe9es",children:[(0,kt.jsx)(wf,{size:16}),(0,kt.jsx)("span",{className:"hidden sm:inline",children:"Actualiser"})]}),(0,kt.jsxs)("button",{onClick:async()=>{try{var t,s;const a=await or.post("/audit/logs/export",c({type:"systeme"},e));if(null!==(t=a.data)&&void 0!==t&&t.success&&a.data.download_url)window.open(a.data.download_url,"_blank");else if(null!==(s=a.data)&&void 0!==s&&s.success){var n;alert("Export r\xe9ussi ! ".concat((null===(n=a.data.data)||void 0===n?void 0:n.count)||0," lignes pr\xe9par\xe9es."))}else{var r;alert("Erreur export: ".concat((null===(r=a.data)||void 0===r?void 0:r.message)||"Erreur inconnue"))}}catch(a){console.error("Erreur export:",a),alert("Erreur technique lors de l'export.")}},className:"flex items-center gap-1 sm:gap-2 bg-slate-900 hover:bg-slate-800 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg transition-all text-sm font-medium shadow-md hover:shadow-lg whitespace-nowrap",title:"Exporter en CSV",children:[(0,kt.jsx)(Or,{size:16}),(0,kt.jsx)("span",{className:"hidden sm:inline",children:"Exporter CSV"})]})]})]})}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3 md:gap-4",children:[(0,kt.jsx)(Af,{title:"Total Actions",value:P.total,icon:Sf,color:"purple",loading:l}),(0,kt.jsx)(Af,{title:"Aujourd'hui",value:P.today,icon:Mr,color:"green",loading:l}),(0,kt.jsx)(Af,{title:"Succ\xe8s",value:P.success,icon:kr,color:"green",loading:l}),(0,kt.jsx)(Af,{title:"\xc9checs",value:P.errors,icon:Pt,color:"red",loading:l})]}),x&&!p&&(0,kt.jsxs)("button",{onClick:()=>f(!0),className:"w-full flex items-center justify-center gap-2 bg-white border border-gray-300 rounded-lg p-3 text-sm font-medium text-gray-700 hover:bg-gray-50",children:[(0,kt.jsx)(Oi,{size:16}),"Afficher les filtres",(0,kt.jsx)(tl,{size:16,className:"ml-auto"})]}),(e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd)&&(0,kt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)(Oi,{className:"text-blue-600",size:16}),(0,kt.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Filtres actifs"})]}),(0,kt.jsx)("button",{onClick:T,className:"text-sm text-blue-600 hover:text-blue-800 hover:underline whitespace-nowrap",children:"Tout effacer"})]}),(0,kt.jsxs)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mt-2",children:[e.user&&(0,kt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded truncate max-w-full",children:["Utilisateur : ",e.user]}),e.action&&(0,kt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded truncate max-w-full",children:["Action : ",e.action]}),e.status&&(0,kt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded truncate max-w-full",children:["Statut : ",e.status]}),e.auditDateStart&&(0,kt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded truncate max-w-full",children:["Depuis : ",e.auditDateStart]}),e.auditDateEnd&&(0,kt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded truncate max-w-full",children:["Jusqu'\xe0 : ",e.auditDateEnd]})]}),(0,kt.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["Affichage de ",R.length," \xe9v\xe8nements sur"," ",b.total," au total"]})]}),(!x||p)&&(0,kt.jsxs)("div",{className:"bg-white p-4 sm:p-5 rounded-xl border border-gray-200 shadow-sm",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[(0,kt.jsx)(Oi,{size:16}),"Filtres avanc\xe9s",x&&(0,kt.jsx)("button",{onClick:()=>f(!1),className:"ml-auto text-gray-500 hover:text-gray-700",children:(0,kt.jsx)(Lt,{size:16})})]}),(0,kt.jsx)("button",{onClick:T,className:"text-sm text-blue-600 hover:text-blue-800 hover:underline whitespace-nowrap",children:"R\xe9initialiser"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:[(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Cr,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),(0,kt.jsx)("input",{type:"text",value:e.user,onChange:e=>D("user",e.target.value),placeholder:"Rechercher utilisateur...",className:"w-full pl-9 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),(0,kt.jsxs)("select",{value:e.action,onChange:e=>D("action",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,kt.jsx)("option",{value:"",children:"Toutes les actions"}),(0,kt.jsx)("option",{value:"Connexion",children:"Connexion"}),(0,kt.jsx)("option",{value:"Cr\xe9ation",children:"Cr\xe9ation"}),(0,kt.jsx)("option",{value:"Modification",children:"Modification"}),(0,kt.jsx)("option",{value:"Suppression",children:"Suppression"}),(0,kt.jsx)("option",{value:"Export",children:"Export"}),(0,kt.jsx)("option",{value:"Consultation",children:"Consultation"}),(0,kt.jsx)("option",{value:"Tentative d'acc\xe8s",children:"Tentative d'acc\xe8s"})]}),(0,kt.jsxs)("select",{value:e.status,onChange:e=>D("status",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,kt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,kt.jsx)("option",{value:"Succ\xe8s",children:"Succ\xe8s"}),(0,kt.jsx)("option",{value:"\xc9chec",children:"\xc9chec"}),(0,kt.jsx)("option",{value:"Refus\xe9",children:"Refus\xe9"})]}),(0,kt.jsx)("input",{type:"date",value:e.auditDateStart,onChange:e=>D("auditDateStart",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:ring-2 focus:ring-blue-500 outline-none"}),(0,kt.jsx)("input",{type:"date",value:e.auditDateEnd,onChange:e=>D("auditDateEnd",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),(0,kt.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:0===R.length?(0,kt.jsxs)("div",{className:"p-8 sm:p-12 text-center text-gray-400 flex flex-col items-center",children:[(0,kt.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:(0,kt.jsx)(Cr,{size:20,className:"sm:size-24"})}),(0,kt.jsx)("h3",{className:"text-base sm:text-lg font-medium text-gray-900",children:"Aucun r\xe9sultat"}),(0,kt.jsx)("p",{className:"text-sm",children:"Modifiez vos filtres ou v\xe9rifiez la connexion API."}),(0,kt.jsx)("button",{onClick:T,className:"mt-4 text-blue-600 hover:text-blue-800 text-sm font-medium",children:"R\xe9initialiser les filtres"})]}):(0,kt.jsx)("div",{className:"overflow-x-auto",children:(0,kt.jsxs)("table",{className:"w-full min-w-[640px] text-left text-sm",children:[(0,kt.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-500",children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"px-4 py-3 font-semibold",children:"Utilisateur"}),(0,kt.jsx)("th",{className:"px-4 py-3 font-semibold",children:"Action"}),(0,kt.jsx)("th",{className:"px-4 py-3 font-semibold hidden md:table-cell",children:"Entit\xe9 Cibl\xe9e"}),(0,kt.jsx)("th",{className:"px-4 py-3 font-semibold",children:"Statut"}),(0,kt.jsx)("th",{className:"px-4 py-3 font-semibold",children:"Date"}),(0,kt.jsx)("th",{className:"px-4 py-3 font-semibold text-right",children:"D\xe9tails"})]})}),(0,kt.jsx)("tbody",{className:"divide-y divide-gray-100",children:R.map(e=>(0,kt.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[(0,kt.jsx)("td",{className:"px-4 py-3",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,kt.jsx)(_f,{name:e.utilisateur,email:e.utilisateur}),(0,kt.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,kt.jsx)("div",{className:"font-medium text-gray-900 truncate",children:e.utilisateur||"Syst\xe8me"}),(0,kt.jsx)("div",{className:"text-xs text-gray-400 font-mono truncate",children:e.ip||"N/A"})]})]})}),(0,kt.jsx)("td",{className:"px-4 py-3",children:(0,kt.jsx)(Cf,{action:e.action})}),(0,kt.jsx)("td",{className:"px-4 py-3 text-gray-600 font-medium hidden md:table-cell",children:(0,kt.jsx)("span",{className:"truncate max-w-[150px] inline-block",children:e.entite||"-"})}),(0,kt.jsx)("td",{className:"px-4 py-3",children:(0,kt.jsx)(Ef,{status:e.statut})}),(0,kt.jsx)("td",{className:"px-4 py-3 text-gray-500",children:(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,kt.jsx)(Mr,{size:12,className:"text-gray-400 flex-shrink-0"}),(0,kt.jsx)("span",{className:"text-xs sm:text-sm",children:new Date(e.timestamp).toLocaleDateString("fr-FR")})]}),(0,kt.jsx)("span",{className:"text-xs text-gray-400 sm:ml-1",children:new Date(e.timestamp).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})}),(0,kt.jsx)("td",{className:"px-4 py-3 text-right",children:(0,kt.jsx)("button",{onClick:()=>m(e),className:"p-1.5 sm:p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir les d\xe9tails",children:(0,kt.jsx)(Pr,{size:16,className:"sm:size-18"})})})]},e.id))})]})})}),h&&(0,kt.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end isolate",children:[(0,kt.jsx)("div",{className:"fixed inset-0 bg-gray-900/20 backdrop-blur-[1px] transition-opacity",onClick:()=>m(null)}),(0,kt.jsxs)("div",{className:"relative w-full max-w-full md:max-w-lg bg-white shadow-2xl h-full flex flex-col animate-in slide-in-from-right duration-300 border-l border-gray-200",children:[(0,kt.jsxs)("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[(0,kt.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,kt.jsx)("h2",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:"D\xe9tails de l'\xe9v\xe8nement"}),(0,kt.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5 font-mono truncate",children:["ID: ",h.id]})]}),(0,kt.jsx)("button",{onClick:()=>m(null),className:"p-1.5 sm:p-2 hover:bg-gray-200 rounded-full text-gray-500 transition-colors flex-shrink-0 ml-2",children:(0,kt.jsx)(Lt,{size:18,className:"sm:size-20"})})]}),(0,kt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,kt.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,kt.jsx)("span",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Utilisateur"}),(0,kt.jsxs)("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,kt.jsx)(_f,{name:h.utilisateur,email:h.utilisateur}),(0,kt.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,kt.jsx)("div",{className:"truncate",children:h.utilisateur||"Inconnu"}),(0,kt.jsx)("div",{className:"text-xs text-gray-500 truncate",children:h.ip||"IP : N/A"})]})]})]}),(0,kt.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,kt.jsx)("span",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Date & Heure"}),(0,kt.jsxs)("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,kt.jsx)(Sr,{size:16,className:"text-gray-400 flex-shrink-0"}),(0,kt.jsx)("div",{className:"truncate",children:new Date(h.timestamp).toLocaleString("fr-FR")})]})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,kt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-500",children:"Adresse IP"}),(0,kt.jsx)("div",{className:"font-mono text-sm mt-1 truncate",children:h.ip||"N/A"})]}),(0,kt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-500",children:"R\xe9sultat"}),(0,kt.jsx)("div",{className:"mt-1",children:(0,kt.jsx)(Ef,{status:h.statut})})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[(0,kt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-500",children:"Action"}),(0,kt.jsx)("div",{className:"mt-1",children:(0,kt.jsx)(Cf,{action:h.action})})]}),(0,kt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-500",children:"Entit\xe9 concern\xe9e"}),(0,kt.jsx)("div",{className:"mt-1 text-sm text-gray-800 truncate",children:h.entite||"-"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h3",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-1 h-4 bg-blue-600 rounded-full flex-shrink-0"}),"Donn\xe9es Techniques / Changements"]}),(0,kt.jsx)("div",{className:"bg-gray-900 rounded-xl p-3 sm:p-4 overflow-hidden shadow-inner border border-gray-800",children:(e=>{try{if(!e)return(0,kt.jsx)("span",{className:"text-gray-500 italic",children:"Aucun d\xe9tail technique."});const t="string"===typeof e&&(e.trim().startsWith("{")||e.trim().startsWith("["))?JSON.parse(e):e;return"object"===typeof t?(0,kt.jsx)("pre",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap break-all overflow-auto max-h-[300px]",children:JSON.stringify(t,null,2)}):(0,kt.jsx)("p",{className:"text-gray-300 font-mono text-sm whitespace-pre-wrap break-all",children:e})}catch(qx){return(0,kt.jsx)("p",{className:"text-gray-300 font-mono text-sm whitespace-pre-wrap break-all",children:e})}})(h.details)})]})]}),(0,kt.jsxs)("div",{className:"p-3 sm:p-4 border-t border-gray-100 bg-gray-50 text-center text-xs text-gray-400",children:["Enregistrement syst\xe8me s\xe9curis\xe9 - lecture seule. Acc\xe8s restreint"," ",(null===j||void 0===j?void 0:j.email)&&"- Vous \xeates ".concat(O(j.email))]})]})]})]})});var L},Df=Tt("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Tf=Tt("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Rf=Tt("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Pf=Tt("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Of=Tt("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Lf=Tt("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),If=Tt("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),zf=Tt("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ff=e=>{let{message:s,type:n="success",onClose:r}=e;const[a,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=setTimeout(()=>{i(!1),setTimeout(()=>r(),500)},5e3);return()=>clearTimeout(e)},[r]);const l="success"===n?"bg-emerald-50":"bg-rose-50",o="success"===n?"text-emerald-700":"text-rose-700";return(0,kt.jsx)("div",{className:"fixed top-5 right-5 z-50 transition-all duration-500 transform ".concat(a?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,kt.jsxs)("div",{className:"".concat(l," border-l-4 ").concat("success"===n?"border-emerald-500":"border-rose-500"," rounded shadow-2xl p-4 w-[calc(100vw-24px)] sm:w-80 max-w-sm flex items-start"),children:[(0,kt.jsx)("div",{className:"flex-shrink-0",children:"success"===n?(0,kt.jsx)(kr,{className:"h-6 w-6 text-emerald-500"}):(0,kt.jsx)(rf,{className:"h-6 w-6 text-rose-500"})}),(0,kt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,kt.jsx)("p",{className:"text-sm font-bold ".concat(o," leading-5"),children:"success"===n?"Succ\xe8s":"Erreur"}),(0,kt.jsx)("p",{className:"mt-1 text-sm leading-5 text-slate-700",children:s})]}),(0,kt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,kt.jsx)("button",{onClick:()=>{i(!1),setTimeout(()=>r(),500)},className:"inline-flex text-slate-400 hover:text-slate-600 focus:outline-none transition ease-in-out duration-150",children:(0,kt.jsx)(Lt,{className:"h-5 w-5"})})})]})})},Uf=e=>{let{label:s,type:n="text",name:r,value:a,onChange:i,placeholder:l,required:o=!1,disabled:c=!1,icon:d,error:u,showPasswordToggle:h=!1}=e;const[m,p]=(0,t.useState)(!1);return(0,kt.jsxs)("div",{className:"group",children:[(0,kt.jsxs)("label",{className:"block text-xs font-medium text-slate-700 mb-1.5 ml-1 transition-colors group-focus-within:text-blue-600",children:[s," ",o&&(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[d&&(0,kt.jsx)(d,{className:"w-4 h-4 text-slate-400 absolute left-3 top-2.5 transition-colors group-focus-within:text-blue-500"}),(0,kt.jsx)("input",{type:h&&m?"text":n,name:r,value:a,onChange:i,required:o,disabled:c,placeholder:l,className:"w-full ".concat(d?"pl-9":"px-3"," ").concat(h?"pr-10":"pr-3"," py-2 bg-slate-50 border ").concat(u?"border-rose-300":"border-slate-200"," rounded-lg text-sm text-slate-800 placeholder-slate-400 transition-all duration-200 outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 disabled:opacity-80 disabled:bg-slate-100 disabled:text-slate-600 disabled:cursor-not-allowed")}),h&&(0,kt.jsx)("button",{type:"button",onClick:()=>p(!m),className:"absolute right-3 top-2.5 text-slate-400 hover:text-slate-600",children:m?(0,kt.jsx)(Df,{className:"w-4 h-4"}):(0,kt.jsx)(Pr,{className:"w-4 h-4"})}),u&&(0,kt.jsx)("div",{className:"text-rose-500 text-xs mt-1 ml-1",children:u})]})]})},Bf=e=>{let{isValid:t,text:s}=e,n="text-slate-400",r=null;return!0===t?(n="text-emerald-600",r=Ur):!1===t&&(n="text-rose-600",r=Lt),(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-xs ".concat(n," transition-colors"),children:[r?(0,kt.jsx)(r,{className:"w-3.5 h-3.5 flex-shrink-0"}):(0,kt.jsx)("div",{className:"w-3.5 h-3.5 rounded-full border-2 border-current flex-shrink-0"}),(0,kt.jsx)("span",{children:s})]})},Vf=e=>{let{isOpen:s,onClose:n,onSubmit:r,isLoading:a,email:i}=e;const[l,o]=(0,t.useState)(""),c=t.useRef(null);(0,t.useEffect)(()=>{s&&(o(""),setTimeout(()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus()},100))},[s]),(0,t.useEffect)(()=>{6!==l.length||a||r(l)},[l,a,r]);return s?(0,kt.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-[#0c2844]/80 backdrop-blur-sm transition-all duration-300 px-4",children:(0,kt.jsxs)("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative transform transition-all scale-100 border border-slate-200",children:[(0,kt.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-50 rounded-full transition-colors z-20",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})}),(0,kt.jsxs)("div",{className:"bg-slate-50/80 border-b border-slate-100 p-8 text-center relative",children:[(0,kt.jsx)("div",{className:"mx-auto w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-100 mb-4 transform rotate-3 hover:rotate-0 transition-all duration-500 group",children:(0,kt.jsx)(yf,{className:"w-8 h-8 text-[#0c2844] group-hover:scale-110 transition-transform"})}),(0,kt.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Confirmation S\xe9curis\xe9e"}),(0,kt.jsxs)("p",{className:"text-slate-500 text-sm mt-2",children:["Veuillez saisir le code \xe0 6 chiffres envoy\xe9 \xe0 ",(0,kt.jsx)("br",{}),(0,kt.jsx)("span",{className:"font-semibold text-[#0c2844]",children:i})]})]}),(0,kt.jsxs)("div",{className:"p-8",children:[(0,kt.jsxs)("div",{className:"relative mb-8 group",onClick:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus()},children:[(0,kt.jsx)("input",{ref:c,type:"text",value:l,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);o(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",autoComplete:"one-time-code",inputMode:"numeric",maxLength:6,disabled:a,autoFocus:!0}),(0,kt.jsx)("div",{className:"flex justify-between items-center gap-2 relative z-10 pointer-events-none",children:[...Array(6)].map((e,t)=>(0,kt.jsx)("div",{className:"\n                                        w-10 h-14 sm:w-12 sm:h-16 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-all duration-200 font-mono\n                                        ".concat(l[t]?"border-[#0c2844] bg-slate-50 text-[#0c2844] scale-105 shadow-sm":"border-slate-200 bg-white text-slate-300","\n                                        ").concat(t===l.length?"border-[#4c7026] ring-4 ring-[#4c7026]/10 z-10 scale-110 bg-white":"","\n                                    "),children:l[t]||(0,kt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t===l.length?"bg-[#4c7026] animate-pulse":"bg-slate-200")})},t))})]}),(0,kt.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,kt.jsx)("button",{type:"button",onClick:()=>r(l),disabled:a||l.length<6,className:"w-full bg-[#0c2844] hover:bg-[#09407e] text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-blue-900/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-2 group",children:a?(0,kt.jsx)(Tf,{className:"w-5 h-5 animate-spin text-white/70"}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("span",{children:"Confirmer"}),(0,kt.jsx)(kr,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})]})}),(0,kt.jsx)("button",{type:"button",onClick:n,className:"w-full py-3.5 text-slate-500 hover:text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:"Annuler"})]}),(0,kt.jsx)("div",{className:"mt-6 text-center",children:(0,kt.jsxs)("p",{className:"text-slate-300 text-[10px] flex items-center justify-center gap-1",children:[(0,kt.jsx)(Rf,{className:"w-3 h-3"}),"Connexion chiffr\xe9e"]})})]})]})}):null},Hf=e=>{let{isOpen:s,onClose:n,onSubmit:r,isLoading:a,email:i,onResendCode:l}=e;const[o,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(900),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[x,g]=(0,t.useState)(0),[b,v]=(0,t.useState)(0),y=t.useRef(null);(0,t.useEffect)(()=>{s&&(c(""),u(900),f(!1),setTimeout(()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.focus()},100))},[s]),(0,t.useEffect)(()=>{if(!s||d<=0)return;const e=setInterval(()=>u(e=>e-1),1e3);return()=>clearInterval(e)},[s,d]),(0,t.useEffect)(()=>{if(x<=0)return;const e=setInterval(()=>g(e=>e-1),1e3);return()=>clearInterval(e)},[x]),(0,t.useEffect)(()=>{6===o.length&&!a&&d>0&&r(o)},[o,a,r,d]);if(!s)return null;const w=0===d;return(0,kt.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-[#0c2844]/80 backdrop-blur-sm transition-all duration-300 px-4",children:(0,kt.jsxs)("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative transform transition-all scale-100 border border-slate-200",children:[(0,kt.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-50 rounded-full transition-colors z-20",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})}),(0,kt.jsxs)("div",{className:"bg-slate-50/80 border-b border-slate-100 p-8 text-center relative",children:[(0,kt.jsx)("div",{className:"mx-auto w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-100 mb-4 transform rotate-3 hover:rotate-0 transition-all duration-500 group",children:(0,kt.jsx)(Tr,{className:"w-8 h-8 text-[#0c2844] group-hover:scale-110 transition-transform"})}),(0,kt.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Confirmation S\xe9curis\xe9e"}),(0,kt.jsxs)("p",{className:"text-slate-500 text-sm mt-2",children:["Veuillez saisir le code \xe0 6 chiffres envoy\xe9 \xe0 ",(0,kt.jsx)("br",{}),(0,kt.jsx)("span",{className:"font-semibold text-[#0c2844]",children:i})]})]}),(0,kt.jsxs)("div",{className:"p-8",children:[(0,kt.jsxs)("div",{className:"relative mb-8 group",onClick:()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.focus()},children:[(0,kt.jsx)("input",{ref:y,type:"text",value:o,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);c(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",autoComplete:"one-time-code",inputMode:"numeric",maxLength:6,disabled:w||a,autoFocus:!0}),(0,kt.jsx)("div",{className:"flex justify-between items-center gap-2 relative z-10 pointer-events-none",children:[...Array(6)].map((e,t)=>(0,kt.jsx)("div",{className:"\n                                        w-10 h-14 sm:w-12 sm:h-16 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-all duration-200 font-mono\n                                        ".concat(o[t]?"border-[#0c2844] bg-slate-50 text-[#0c2844] scale-105 shadow-sm":"border-slate-200 bg-white text-slate-300","\n                                        ").concat(t!==o.length||w?"":"border-[#4c7026] ring-4 ring-[#4c7026]/10 z-10 scale-110 bg-white","\n                                        ").concat(w?"opacity-50 border-slate-100 bg-slate-50":"","\n                                    "),children:o[t]||(0,kt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t!==o.length||w?"bg-slate-200":"bg-[#4c7026] animate-pulse")})},t))})]}),w&&(0,kt.jsxs)("div",{className:"mb-6 p-3 bg-red-50 border border-red-100 rounded-lg flex items-center justify-center gap-2 text-red-600 text-sm animate-shake",children:[(0,kt.jsx)(Pt,{className:"w-4 h-4"}),(0,kt.jsx)("span",{children:"Le code a expir\xe9"})]}),p&&(0,kt.jsxs)("div",{className:"mb-6 p-3 bg-emerald-50 border border-emerald-100 rounded-lg flex items-center justify-center gap-2 text-emerald-600 text-sm animate-fade-in",children:[(0,kt.jsx)(Pf,{className:"w-4 h-4"}),(0,kt.jsx)("span",{children:"Code renvoy\xe9 avec succ\xe8s !"})]}),!w&&(0,kt.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-6 text-xs font-medium text-slate-400",children:[(0,kt.jsx)(Sr,{className:"w-3.5 h-3.5"}),(0,kt.jsx)("span",{children:"Expire dans"}),(0,kt.jsx)("span",{className:"font-mono ".concat(d<60?"text-red-500 font-bold":"text-slate-600"),children:(e=>{const t=Math.floor(e/60),s=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"))})(d)})]}),(0,kt.jsx)("button",{onClick:()=>r(o),disabled:a||o.length<6||w,className:"w-full bg-[#0c2844] hover:bg-[#09407e] text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-blue-900/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-2 group",children:a?(0,kt.jsx)(Tf,{className:"w-5 h-5 animate-spin text-white/70"}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("span",{children:"V\xe9rifier le code"}),(0,kt.jsx)(Of,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})}),(0,kt.jsx)("div",{className:"mt-6 border-t border-slate-100 pt-6 text-center",children:(0,kt.jsxs)("button",{type:"button",onClick:async()=>{m(!0);try{var e;await l(),f(!0),u(900),c("");g(0===b?30:60*b),v(e=>e+1),setTimeout(()=>f(!1),3e3),null===(e=y.current)||void 0===e||e.focus()}catch(t){}finally{m(!1)}},disabled:h||x>0,className:"text-sm font-medium text-slate-500 hover:text-[#0c2844] transition-colors flex items-center justify-center gap-2 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,kt.jsx)(wf,{className:"w-4 h-4 ".concat(h?"animate-spin":"")}),x>0?"Renvoyer disponible dans ".concat(x,"s"):"Je n'ai pas re\xe7u le code"]})}),(0,kt.jsx)("div",{className:"mt-6 text-center",children:(0,kt.jsxs)("p",{className:"text-slate-300 text-[10px] flex items-center justify-center gap-1",children:[(0,kt.jsx)(Rf,{className:"w-3 h-3"}),"S\xe9curit\xe9 garantie par FOSIKA"]})})]})]})})},Wf=e=>{var s,n,r,a,i,l,o,d,u,h;let{onReturnToDashboard:m,onAvatarUpdate:p}=e;const[f,x]=(0,t.useState)({name:"",username:"",firstname:"",lastname:"",email:"",phone:"",adresse:"",departement:"",responsabilites:"",specialisations:"",currentpassword:"",newpassword:"",newpasswordconfirmation:"",role:"",formattedrole:"",email_verified_at:null,two_factor_enabled:!1,is_email_verified:!1,is_2fa_enabled:!1,security_level:"low",last_login_at:null}),[g,b]=(0,t.useState)({}),[v,y]=(0,t.useState)({}),[w,j]=(0,t.useState)("informations"),[N,k]=(0,t.useState)(""),[S,E]=(0,t.useState)(!1),[C,_]=(0,t.useState)(!1),[A,M]=(0,t.useState)({minLength:null,hasUpperCase:null,hasNumber:null,hasSpecialChar:null}),[D,T]=(0,t.useState)(!1),[R,P]=(0,t.useState)(!1),[O,L]=(0,t.useState)(!1),[I,z]=(0,t.useState)(!1),[F,U]=(0,t.useState)([]),B={admin:{bg:"bg-blue-600",text:"text-blue-600",light:"bg-blue-50",gradient:"from-blue-600 to-blue-800"},agent:{bg:"bg-green-600",text:"text-green-600",light:"bg-green-50",gradient:"from-green-600 to-green-800"},investigateur:{bg:"bg-purple-600",text:"text-purple-600",light:"bg-purple-50",gradient:"from-purple-600 to-purple-800"}},V=B[(f.role||"admin").toLowerCase()]||B.admin,H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";const s=Date.now();U(n=>[...n,{id:s,message:e,type:t}])},W=e=>{if(!e)return null;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000";return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")?e:e.startsWith("/storage/")?"".concat(t).concat(e):e.startsWith("storage/")?"".concat(t,"/").concat(e):"".concat(t,"/storage/").concat(e)};(0,t.useEffect)(()=>{q()},[]),(0,t.useEffect)(()=>{const e=f.newpassword;M(e?{minLength:e.length>=8,hasUpperCase:/[A-Z]/.test(e),hasNumber:/[0-9]/.test(e),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>_\-+=[\];'/`~]/.test(e)}:{minLength:null,hasUpperCase:null,hasNumber:null,hasSpecialChar:null})},[f.newpassword]);const q=async()=>{try{E(!0);const e=await or.get("/profile");if(e.data.success){const t=e.data.data;if(x(e=>c(c(c({},e),t),{},{name:t.name||"",username:t.username||"",firstname:t.first_name||t.firstname||"",lastname:t.last_name||t.lastname||"",specialisations:Array.isArray(t.specialisations)?t.specialisations.join(", "):t.specialisations||"",formattedrole:t.formatted_role||t.formattedrole||t.role||"Utilisateur",email_verified_at:t.email_verified_at||null,two_factor_enabled:!!t.two_factor_enabled,is_email_verified:!!t.email_verified_at,is_2fa_enabled:!!t.two_factor_enabled,security_level:t.security_level||"low",last_login_at:t.last_login_at||null})),t.avatar_url||t.avatar){const e=W(t.avatar_url||t.avatar);e&&k("".concat(e,"?t=").concat(Date.now()))}}}catch(e){H("Erreur lors du chargement du profil","error")}finally{E(!1)}},Y=e=>{const{name:t,value:s}=e.target;x(e=>c(c({},e),{},{[t]:s})),g[t]&&b(e=>c(c({},e),{},{[t]:null})),v[t]&&y(e=>c(c({},e),{},{[t]:null}))};return(0,kt.jsxs)("div",{className:"min-h-screen bg-slate-50/50 py-4 sm:py-6",children:[F.map(e=>(0,kt.jsx)(Ff,{message:e.message,type:e.type,onClose:()=>{return t=e.id,void U(e=>e.filter(e=>e.id!==t));var t}},e.id)),(0,kt.jsx)(Vf,{isOpen:D,onClose:()=>T(!1),onSubmit:async e=>{L(!0),b({});try{const t=await or.post("/user/two-factor-authentication/confirm",{code:e});t.data.success?(x(e=>c(c({},e),{},{two_factor_enabled:!0,is_2fa_enabled:!0})),T(!1),H("Double authentification activ\xe9e avec succ\xe8s.")):H(t.data.message||"Code invalide.","error")}catch(n){var t,s;H((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Code invalide ou expir\xe9. Veuillez r\xe9essayer.","error")}finally{L(!1)}},isLoading:O,email:f.email}),(0,kt.jsx)(Hf,{isOpen:R,onClose:()=>P(!1),onSubmit:async e=>{z(!0),b({});try{const t=await or.post("/email/verify",{code:e,email:f.email});t.data.success?(H("Email v\xe9rifi\xe9 avec succ\xe8s !"),P(!1),x(e=>c(c({},e),{},{email_verified_at:t.data.data.email_verified_at,is_email_verified:!0})),q()):H(t.data.message||"Code invalide.","error")}catch(n){var t,s;H((null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Code invalide ou expir\xe9. Veuillez r\xe9essayer.","error")}finally{z(!1)}},isLoading:I,email:f.email,onResendCode:async()=>{try{return!!(await or.post("/email/resend-code")).data.success}catch(e){return!1}}}),(0,kt.jsx)("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-6",children:(0,kt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden ring-1 ring-slate-900/5",children:[(0,kt.jsx)("div",{className:"relative h-28"}),(0,kt.jsx)("div",{className:"px-4 sm:px-6 pb-6",children:(0,kt.jsxs)("div",{className:"relative flex flex-col sm:flex-row sm:items-end gap-4 sm:gap-5 -mt-12",children:[(0,kt.jsxs)("div",{className:"relative group",children:[(0,kt.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full bg-white p-1 shadow-lg ring-1 ring-black/5",children:(0,kt.jsxs)("div",{className:"w-full h-full rounded-full bg-slate-100 flex items-center justify-center text-2xl font-bold overflow-hidden relative",children:[N?(0,kt.jsx)("img",{src:N,alt:"Avatar",className:"w-full h-full object-cover"}):(0,kt.jsx)("span",{className:"".concat(V.text),children:f.firstname&&f.lastname?"".concat(f.firstname[0]).concat(f.lastname[0]).toUpperCase():f.name?f.name.substring(0,2).toUpperCase():"U"}),(0,kt.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none",children:(0,kt.jsx)(Lf,{className:"w-6 h-6 text-white/90"})})]})}),(0,kt.jsxs)("div",{className:"absolute bottom-1 right-1 flex h-4 w-4",children:[(0,kt.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),(0,kt.jsx)("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-emerald-500 border-2 border-white"})]}),(0,kt.jsx)("label",{className:"absolute inset-0 cursor-pointer rounded-full",title:"Modifier la photo",children:(0,kt.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;if(["image/jpeg","image/png","image/webp","image/gif"].includes(t.type))if(t.size>5242880)H("Image trop lourde (maximum 5 Mo)","error");else try{_(!0);const e=new FormData;e.append("avatar",t);const n=new FileReader;n.onload=e=>k(e.target.result),n.readAsDataURL(t);const r=await or.post("/profile/avatar",e,{headers:{"Content-Type":"multipart/form-data"}});if(r.data.success){var s;if(H("Photo de profil mise \xe0 jour avec succ\xe8s"),null!==(s=r.data.data)&&void 0!==s&&s.avatar_url){const e=W(r.data.data.avatar_url);e&&k("".concat(e,"?t=").concat(Date.now()))}p&&p()}else H("Erreur lors du t\xe9l\xe9chargement de l'image","error")}catch(n){H("Erreur lors du t\xe9l\xe9chargement","error")}finally{_(!1),e.target.value=""}else H("Format d'image invalide","error")},disabled:C||S})})]}),(0,kt.jsx)("div",{className:"flex-1 pb-1 pt-3 sm:pt-5",children:(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900 tracking-tight",children:f.firstname||f.lastname?"".concat(f.lastname," ").concat(f.firstname):f.name||"Utilisateur"}),(0,kt.jsxs)("div",{className:"flex items-center flex-wrap gap-2 mt-1",children:[(0,kt.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:f.email}),f.username&&(0,kt.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-slate-100 text-slate-600 border border-slate-200",children:["@",f.username]}),f.is_email_verified?(0,kt.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-emerald-50 text-emerald-700 border border-emerald-100 uppercase tracking-wide",children:[(0,kt.jsx)(Ur,{className:"w-3 h-3 mr-1"}),"V\xe9rifi\xe9e"]}):(0,kt.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-amber-50 text-amber-700 border border-amber-100 uppercase tracking-wide cursor-help",title:"Veuillez v\xe9rifier votre email",children:[(0,kt.jsx)(rf,{className:"w-3 h-3 mr-1"}),"Non v\xe9rifi\xe9e"]})]})]})})]})}),(0,kt.jsx)("div",{className:"border-b border-slate-200 px-4 sm:px-6",children:(0,kt.jsx)("nav",{className:"flex -mb-px gap-5 sm:gap-6 overflow-x-auto no-scrollbar",children:[{id:"informations",label:"Informations personnelles",icon:Ar},{id:"password",label:"Mot de passe",icon:Rf},{id:"security",label:"S\xe9curit\xe9 & 2FA",icon:yf}].map(e=>(0,kt.jsxs)("button",{onClick:()=>j(e.id),className:"group inline-flex items-center py-4 px-1 border-b-2 text-sm font-medium transition-all duration-200 ".concat(w===e.id?"".concat(V.text," border-current"):"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:[(0,kt.jsx)(e.icon,{className:"w-4 h-4 mr-2.5 transition-colors ".concat(w===e.id?"text-current":"text-slate-400 group-hover:text-slate-500")}),e.label]},e.id))})}),Object.keys(v).length>0&&(0,kt.jsx)("div",{className:"px-6 pt-3 animate-in fade-in slide-in-from-top-2 duration-300",children:(0,kt.jsxs)("div",{className:"bg-amber-50 border border-amber-100 text-amber-700 px-4 py-3 rounded-lg text-sm",children:[(0,kt.jsxs)("div",{className:"font-semibold mb-2 flex items-center",children:[(0,kt.jsx)(rf,{className:"w-4 h-4 mr-2"}),"Erreurs de validation :"]}),(0,kt.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:Object.entries(v).map(e=>{let[t,s]=e;return s&&0!==s.length?(0,kt.jsxs)("li",{className:"flex items-start",children:[(0,kt.jsxs)("span",{className:"font-medium mr-2",children:[t,":"]}),(0,kt.jsx)("span",{children:Array.isArray(s)?s.join(", "):s})]},t):null})})]})}),(0,kt.jsxs)("div",{className:"p-4 sm:p-6 min-h-[400px]",children:["informations"===w&&(0,kt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b({}),y({}),f.firstname.trim()&&f.lastname.trim()&&f.email.trim())try{E(!0);const e=Array.isArray(f.responsabilites)?f.responsabilites.join(", "):f.responsabilites||"",t=Array.isArray(f.specialisations)?f.specialisations.join(", "):f.specialisations||"",s={name:f.name||"".concat(f.firstname," ").concat(f.lastname),username:f.username||"",firstname:f.firstname,lastname:f.lastname,email:f.email,phone:f.phone||"",adresse:f.adresse||"",departement:f.departement||"",responsabilites:e,specialisations:t};(await or.put("/profile",s)).data.success?(H("Informations mises \xe0 jour avec succ\xe8s"),p&&p(),q()):H("Erreur lors de la mise \xe0 jour","error")}catch(a){var t,s,n,r;if(null!==(t=a.response)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.errors)y(a.response.data.errors),H("Veuillez corriger les erreurs de validation","error");else H((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||a.message,"error")}finally{E(!1)}else H("Pr\xe9nom, Nom et Email sont obligatoires","error")},className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,kt.jsxs)("div",{className:"bg-slate-50/50 p-5 rounded-xl border border-slate-100/80",children:[(0,kt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-4 flex items-center uppercase tracking-wider opacity-80",children:[(0,kt.jsx)(Ar,{className:"w-4 h-4 mr-2 text-blue-500"}),"Identit\xe9"]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,kt.jsx)(Uf,{label:"Nom",name:"lastname",value:f.lastname,onChange:Y,required:!0,error:null===(s=v.lastname)||void 0===s?void 0:s[0]}),(0,kt.jsx)(Uf,{label:"Pr\xe9nom",name:"firstname",value:f.firstname,onChange:Y,required:!0,error:null===(n=v.firstname)||void 0===n?void 0:n[0]}),(0,kt.jsx)(Uf,{label:"Nom d'affichage",name:"name",value:f.name,onChange:Y,placeholder:"Nom complet affich\xe9",error:null===(r=v.name)||void 0===r?void 0:r[0]}),(0,kt.jsx)(Uf,{label:"Nom d'utilisateur",name:"username",value:f.username,onChange:Y,placeholder:"Nom d'utilisateur unique",error:null===(a=v.username)||void 0===a?void 0:a[0]})]})]}),(0,kt.jsxs)("div",{className:"bg-slate-50/50 p-5 rounded-xl border border-slate-100/80",children:[(0,kt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-4 flex items-center uppercase tracking-wider opacity-80",children:[(0,kt.jsx)(Tr,{className:"w-4 h-4 mr-2 text-blue-500"}),"Coordonn\xe9es"]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,kt.jsx)(Uf,{label:"Email",type:"email",name:"email",value:f.email,onChange:Y,required:!0,icon:Tr,error:null===(i=v.email)||void 0===i?void 0:i[0]}),(0,kt.jsx)(Uf,{label:"T\xe9l\xe9phone",name:"phone",value:f.phone,onChange:Y,placeholder:"+261 ...",icon:Dr,error:null===(l=v.phone)||void 0===l?void 0:l[0]}),(0,kt.jsx)("div",{className:"md:col-span-2",children:(0,kt.jsx)(Uf,{label:"Adresse",name:"adresse",value:f.adresse,onChange:Y,icon:Rr,error:null===(o=v.adresse)||void 0===o?void 0:o[0]})})]})]}),(0,kt.jsxs)("div",{className:"bg-slate-50/50 p-5 rounded-xl border border-slate-100/80",children:[(0,kt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-4 flex items-center uppercase tracking-wider opacity-80",children:[(0,kt.jsx)(nf,{className:"w-4 h-4 mr-2 text-blue-500"}),"D\xe9tails Professionnels"]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,kt.jsx)(Uf,{label:"R\xf4le affich\xe9",name:"formattedrole",value:f.formattedrole,onChange:Y,disabled:!0}),(0,kt.jsx)(Uf,{label:"D\xe9partement",name:"departement",value:f.departement,onChange:Y,disabled:!0}),(0,kt.jsxs)("div",{className:"md:col-span-2 group",children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-1.5 ml-1 group-focus-within:text-blue-600",children:"Responsabilit\xe9s"}),(0,kt.jsx)("textarea",{name:"responsabilites",value:f.responsabilites,onChange:Y,rows:2,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-800 transition-all duration-200 outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10"})]}),(0,kt.jsxs)("div",{className:"md:col-span-2 group",children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-1.5 ml-1 group-focus-within:text-blue-600",children:"Sp\xe9cialisations"}),(0,kt.jsx)("textarea",{name:"specialisations",value:f.specialisations,onChange:Y,rows:2,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-800 transition-all duration-200 outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10"})]})]})]}),(0,kt.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-slate-100",children:[(0,kt.jsxs)("button",{type:"button",onClick:m,className:"inline-flex items-center gap-2 px-5 py-2.5 text-sm font-medium text-slate-700 bg-white rounded-lg border border-slate-300 hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm",children:[(0,kt.jsx)(_r,{className:"w-4 h-4"}),"Retour"]}),(0,kt.jsxs)("button",{type:"submit",disabled:S,className:"inline-flex items-center px-6 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 hover:bg-blue-700 hover:shadow-md transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-60 disabled:shadow-none",children:[S?(0,kt.jsx)(Tf,{className:"w-4 h-4 mr-2 animate-spin"}):(0,kt.jsx)(If,{className:"w-4 h-4 mr-2"}),"Enregistrer"]})]})]}),"password"===w&&(0,kt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),b({}),y({}),f.currentpassword)if(f.newpassword===f.newpasswordconfirmation)try{E(!0);(await or.put("/profile/password",{currentpassword:f.currentpassword,newpassword:f.newpassword,newpasswordconfirmation:f.newpasswordconfirmation})).data.success?(H("Mot de passe chang\xe9 avec succ\xe8s"),x(e=>c(c({},e),{},{currentpassword:"",newpassword:"",newpasswordconfirmation:""}))):H("Erreur lors du changement de mot de passe","error")}catch(n){var t,s;null!==(t=n.response)&&void 0!==t&&null!==(s=t.data)&&void 0!==s&&s.errors?(y(n.response.data.errors),H("Veuillez corriger les erreurs de validation","error")):H("Erreur lors du changement de mot de passe","error")}finally{E(!1)}else H("Les mots de passe ne correspondent pas","error");else H("Le mot de passe actuel est requis","error")},className:"max-w-xl space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,kt.jsxs)("div",{className:"bg-slate-50/50 p-6 rounded-xl border border-slate-100/80",children:[(0,kt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-6 flex items-center uppercase tracking-wider opacity-80",children:[(0,kt.jsx)(Rf,{className:"w-4 h-4 mr-2 text-blue-500"}),"Changer le mot de passe"]}),(0,kt.jsxs)("div",{className:"space-y-5",children:[(0,kt.jsx)(Uf,{label:"Mot de passe actuel",type:"password",name:"currentpassword",value:f.currentpassword,onChange:Y,error:null===(d=v.currentpassword)||void 0===d?void 0:d[0],showPasswordToggle:!0}),(0,kt.jsx)("div",{className:"h-px bg-slate-200 my-2"}),(0,kt.jsx)(Uf,{label:"Nouveau mot de passe",type:"password",name:"newpassword",value:f.newpassword,onChange:Y,error:null===(u=v.newpassword)||void 0===u?void 0:u[0],showPasswordToggle:!0}),(0,kt.jsx)(Uf,{label:"Confirmer le nouveau mot de passe",type:"password",name:"newpasswordconfirmation",value:f.newpasswordconfirmation,onChange:Y,error:null===(h=v.newpassword_confirmation)||void 0===h?void 0:h[0],showPasswordToggle:!0})]})]}),(0,kt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[(0,kt.jsx)("h3",{className:"text-xs font-bold text-slate-800 mb-3 uppercase tracking-wide",children:"Crit\xe8res de s\xe9curit\xe9"}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,kt.jsx)(Bf,{isValid:A.minLength,text:"8 caract\xe8res minimum"}),(0,kt.jsx)(Bf,{isValid:A.hasUpperCase,text:"Une majuscule"}),(0,kt.jsx)(Bf,{isValid:A.hasNumber,text:"Un chiffre"}),(0,kt.jsx)(Bf,{isValid:A.hasSpecialChar,text:"Un caract\xe8re sp\xe9cial"})]})]}),(0,kt.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-slate-100",children:[(0,kt.jsxs)("button",{type:"button",onClick:m,className:"inline-flex items-center gap-2 px-5 py-2.5 text-sm font-medium text-slate-700 bg-white rounded-lg border border-slate-300 hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm",children:[(0,kt.jsx)(_r,{className:"w-4 h-4"}),"Retour"]}),(0,kt.jsxs)("button",{type:"submit",disabled:S,className:"inline-flex items-center px-6 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 hover:bg-blue-700 transition-all disabled:opacity-60",children:[S?(0,kt.jsx)(Tf,{className:"w-4 h-4 mr-2 animate-spin"}):(0,kt.jsx)(If,{className:"w-4 h-4 mr-2"}),"Mettre \xe0 jour"]})]})]}),"security"===w&&(0,kt.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,kt.jsxs)("div",{className:"group p-5 border border-slate-200 rounded-xl bg-white hover:border-blue-300 hover:shadow-md transition-all duration-300",children:[(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,kt.jsxs)("div",{className:"flex gap-4",children:[(0,kt.jsx)("div",{className:"p-3 rounded-xl transition-colors ".concat(f.is_email_verified?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"),children:(0,kt.jsx)(Tr,{className:"w-6 h-6"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-base font-semibold text-slate-900",children:"Adresse e-mail"}),(0,kt.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:f.email}),(0,kt.jsx)("div",{className:"mt-3",children:f.is_email_verified?(0,kt.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-emerald-700 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100 ring-1 ring-emerald-500/10",children:[(0,kt.jsx)(Ur,{className:"w-3.5 h-3.5"})," V\xe9rifi\xe9e"]}):(0,kt.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-amber-700 bg-amber-50 px-2.5 py-1 rounded-full border border-amber-100 ring-1 ring-amber-500/10",children:[(0,kt.jsx)(rf,{className:"w-3.5 h-3.5"})," Non v\xe9rifi\xe9e"]})})]})]}),!f.is_email_verified&&(0,kt.jsx)("button",{onClick:async()=>{E(!0),b({}),y({});try{const e=await or.post("/email/verification-notification");e.data.success?(H(e.data.message||"Un code de v\xe9rification a \xe9t\xe9 envoy\xe9 \xe0 votre adresse e-mail."),P(!0)):H(e.data.message||"La r\xe9ponse du serveur indique un \xe9chec.","error")}catch(i){var e,t,s,n,r,a;H((null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===(s=i.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.error)||i.message||"Impossible d'envoyer l'e-mail de v\xe9rification. Veuillez r\xe9essayer.","error"),null!==(r=i.response)&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.debug}finally{E(!1)}},disabled:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-xs font-semibold hover:bg-blue-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:S?(0,kt.jsx)(Tf,{className:"w-4 h-4 animate-spin"}):"V\xe9rifier maintenant"})]}),!f.is_email_verified&&(0,kt.jsxs)("div",{className:"mt-4 p-3 bg-blue-50/50 border border-blue-100/50 rounded-lg flex gap-2 text-xs text-blue-800",children:[(0,kt.jsx)(rf,{className:"w-4 h-4 flex-shrink-0"}),(0,kt.jsx)("span",{children:"La v\xe9rification de l'email est n\xe9cessaire pour activer la s\xe9curit\xe9 renforc\xe9e."})]})]}),(0,kt.jsxs)("div",{className:"group p-5 border border-slate-200 rounded-xl bg-white hover:border-blue-300 hover:shadow-md transition-all duration-300",children:[(0,kt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,kt.jsxs)("div",{className:"flex gap-4",children:[(0,kt.jsx)("div",{className:"p-3 rounded-xl transition-colors ".concat(f.is_2fa_enabled?"bg-blue-50 text-blue-600":"bg-slate-100 text-slate-400"),children:(0,kt.jsx)(zf,{className:"w-6 h-6"})}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-base font-semibold text-slate-900",children:"Double authentification (2FA)"}),(0,kt.jsx)("p",{className:"text-sm text-slate-500 mt-1 max-w-md leading-relaxed",children:"S\xe9curisez votre compte avec un code unique envoy\xe9 par email lors de la connexion."}),(0,kt.jsx)("div",{className:"mt-3",children:f.is_2fa_enabled?(0,kt.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-blue-700 bg-blue-50 px-2.5 py-1 rounded-full border border-blue-100 ring-1 ring-blue-500/10",children:[(0,kt.jsx)(yf,{className:"w-3.5 h-3.5"})," 2FA Active"]}):(0,kt.jsx)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-slate-500 bg-slate-100 px-2.5 py-1 rounded-full ring-1 ring-slate-500/10",children:"D\xe9sactiv\xe9e"})})]})]}),(0,kt.jsx)("div",{className:"flex items-center pt-2",children:(0,kt.jsx)("button",{onClick:async()=>{if(b({}),y({}),f.email_verified_at)if(f.two_factor_enabled){if(!window.confirm("\xcates-vous s\xfbr de vouloir d\xe9sactiver la double authentification ?"))return;try{(await or.post("/user/two-factor-authentication",{enabled:!1})).data.success&&(x(e=>c(c({},e),{},{two_factor_enabled:!1,is_2fa_enabled:!1})),H("Double authentification d\xe9sactiv\xe9e."))}catch(e){H("Erreur lors de la d\xe9sactivation.","error")}}else try{(await or.post("/user/two-factor-authentication/send-code")).data.success&&T(!0)}catch(e){H("Impossible d'initialiser la 2FA.","error")}else H("Veuillez v\xe9rifier votre email avant d'activer la 2FA.","error")},disabled:!f.is_email_verified||S||O,className:"relative inline-flex h-7 w-12 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 ".concat(f.is_2fa_enabled?"bg-blue-600":"bg-slate-200"," ").concat(!f.is_email_verified||S||O?"opacity-50 cursor-not-allowed":""),children:(0,kt.jsx)("span",{className:"pointer-events-none inline-block h-6 w-6 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat(f.is_2fa_enabled?"translate-x-5":"translate-x-0")})})})]}),!f.is_email_verified&&(0,kt.jsxs)("div",{className:"mt-4 p-3 bg-amber-50/50 border border-amber-100/50 rounded-lg flex gap-2 text-xs text-amber-800",children:[(0,kt.jsx)(rf,{className:"w-4 h-4 flex-shrink-0"}),(0,kt.jsx)("span",{children:"V\xe9rifiez votre email avant d'activer la s\xe9curit\xe9 renforc\xe9e."})]}),f.is_2fa_enabled&&(0,kt.jsxs)("div",{className:"mt-4 p-3 bg-emerald-50/50 border border-emerald-100/50 rounded-lg flex gap-2 text-xs text-emerald-800",children:[(0,kt.jsx)(Ur,{className:"w-4 h-4 flex-shrink-0"}),(0,kt.jsx)("span",{children:"Votre compte est s\xe9curis\xe9 avec la double authentification."})]})]}),(0,kt.jsx)("div",{className:"pt-6 border-t border-slate-100",children:(0,kt.jsxs)("button",{onClick:m,className:"inline-flex items-center gap-2 px-5 py-2.5 text-sm font-medium text-slate-700 bg-white rounded-lg border border-slate-300 hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 shadow-sm",children:[(0,kt.jsx)(_r,{className:"w-4 h-4"}),"Retour"]})})]})]})]})})]})};class qf{static setAuthToken(e){e?arguments.length>1&&void 0!==arguments[1]&&arguments[1]?localStorage.setItem("auth_token",e):sessionStorage.setItem("auth_token",e):(localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"))}static getAuthToken(){return localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")}static setUserData(e){localStorage.setItem("user",JSON.stringify(e))}static getUserData(){try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}}static clearAuth(){localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),localStorage.removeItem("user"),delete or.defaults.headers.common.Authorization}static initToken(){const e=this.getAuthToken();return e&&(or.defaults.headers.common.Authorization="Bearer ".concat(e)),e}static async login(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{this.clearAuth();const n=await or.post("/auth/login",{email:e,password:t,remember_me:s}),{token:r,user:a}=n.data;if(!r)throw new Error("No token received from server");return this.setAuthToken(r,s),this.setUserData(a),{success:!0,user:a,token:r,message:"Connexion r\xe9ussie"}}catch(r){var n;return 401===(null===(n=r.response)||void 0===n?void 0:n.status)?{success:!1,message:"Email ou mot de passe incorrect"}:this.handleError(r)}}static async logout(){try{await or.post("/auth/logout")}catch(e){}finally{this.clearAuth()}return{success:!0}}static async checkAuth(){try{var e;const t=this.getAuthToken();if(!t)return{isAuthenticated:!1,user:null};const s=await or.get("/check-auth"),n=(null===(e=s.data)||void 0===e?void 0:e.user)||s.data;return n?(this.setUserData(n),{isAuthenticated:!0,user:n,token:t}):(this.clearAuth(),{isAuthenticated:!1,user:null})}catch(s){var t;return 401===(null===(t=s.response)||void 0===t?void 0:t.status)?(this.clearAuth(),{isAuthenticated:!1,user:null}):{isAuthenticated:!1,user:null}}}static async getCurrentUser(){try{const e=(await or.get("/auth/user")).data;return this.setUserData(e),e}catch(e){return this.getUserData()}}static async getProfile(){try{return(await or.get("/profile")).data}catch(e){return this.handleError(e)}}static async getAllUsers(){try{return(await or.get("/users")).data}catch(e){return this.handleError(e)}}static async getAllTeamUsers(){return this.getAllUsers()}static async getUsersByRole(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const s="agent"===e?"/users/agents":"investigateur"===e?"/users/investigateurs":"admin"===e?"/users/administrateurs":"/users";return(await or.get(s,{params:t})).data}catch(s){return this.handleError(s)}}static async getAgents(){try{return(await or.get("/users/agents")).data}catch(e){return this.handleError(e)}}static async getInvestigateurs(){try{return(await or.get("/users/investigateurs")).data}catch(e){return this.handleError(e)}}static async getAdministrateurs(){try{return(await or.get("/users/administrateurs")).data}catch(e){return this.handleError(e)}}static async createUser(e){try{const t={first_name:e.firstname,last_name:e.lastname,email:e.email,username:e.username,password:e.password,role:e.role,departement:e.departement,telephone:e.telephone,adresse:e.adresse,responsabilites:e.responsabilites,specialisations:e.specialisations,statut:e.statut,password_confirmation:e.passwordconfirmation};return(await or.post("/users",t)).data}catch(t){return this.handleError(t)}}static async createUserWithNotification(e){try{const t=e.first_name||e.firstname,s=e.last_name||e.lastname;if(!t)return{success:!1,message:"Le pr\xe9nom est requis"};if(!s)return{success:!1,message:"Le nom est requis"};let n=(e.role||"agent").toString().toLowerCase().trim();["admin","agent","investigateur"].includes(n)||(n="agent");const r={first_name:t,last_name:s,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation||e.passwordconfirmation,role:n,departement:e.departement,telephone:e.telephone,adresse:e.adresse,responsabilites:Array.isArray(e.responsabilites)?e.responsabilites:[],specialisations:Array.isArray(e.specialisations)?e.specialisations:[],statut:void 0===e.statut||e.statut};return(await or.post("/admin/users/create-with-notification",r)).data}catch(t){return this.handleError(t)}}static async updateUser(e,t){try{const s={first_name:t.firstname,last_name:t.lastname,email:t.email,username:t.username,role:t.role,departement:t.departement,telephone:t.telephone,adresse:t.adresse,responsabilites:t.responsabilites,specialisations:t.specialisations,statut:t.statut};t.password&&(s.password=t.password,s.password_confirmation=t.passwordconfirmation);return(await or.put("/users/".concat(e),s)).data}catch(s){return this.handleError(s)}}static async deleteUser(e){try{return(await or.delete("/users/".concat(e))).data}catch(t){return this.handleError(t)}}static async toggleStatus(e){try{return(await or.post("/users/".concat(e,"/toggle-status"))).data}catch(t){return this.handleError(t)}}static async resetPassword(e,t){try{return(await or.post("/users/".concat(e,"/reset-password"),{new_password:t.password,new_password_confirmation:t.passwordconfirmation})).data}catch(s){return this.handleError(s)}}static async restoreUser(e){try{return(await or.post("/users/".concat(e,"/restore"))).data}catch(t){return this.handleError(t)}}static async getStats(){try{return(await or.get("/users/stats")).data}catch(e){return this.handleError(e)}}static async getRoles(){try{return(await or.get("/users/roles")).data}catch(e){return this.handleError(e)}}static async getNotifications(){try{return(await or.get("/notifications")).data}catch(e){return this.handleError(e)}}static async getRecentNotifications(){try{return(await or.get("/notifications/recent")).data}catch(e){return this.handleError(e)}}static async getUnreadNotificationCount(){try{return(await or.get("/notifications/unread-count")).data}catch(e){return this.handleError(e)}}static async markNotificationAsRead(e){try{return(await or.post("/notifications/".concat(e,"/read"))).data}catch(t){return this.handleError(t)}}static async markAllNotificationsAsRead(){try{return(await or.post("/notifications/read-all")).data}catch(e){return this.handleError(e)}}static async getAuditJournal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await or.get("/journal-audit",{params:e})).data}catch(t){return this.handleError(t)}}static async exportAuditJournal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await or.post("/admin/audit/journal/export",e,{responseType:"blob"})).data}catch(t){return this.handleError(t)}}static async sendTwoFactorCode(){try{return(await or.post("/2fa/send-code")).data}catch(e){return this.handleError(e)}}static async verifyTwoFactorCode(e){try{return(await or.post("/2fa/verify",{code:e})).data}catch(t){return this.handleError(t)}}static async checkTwoFactorStatus(){try{return(await or.get("/2fa/status")).data}catch(e){return this.handleError(e)}}static async sendEmailVerificationCode(){try{return(await or.post("/email/verification-notification")).data}catch(e){return this.handleError(e)}}static async verifyEmail(e,t){try{return(await or.post("/email/verify",{code:e,email:t})).data}catch(s){return this.handleError(s)}}static async checkEmailVerificationStatus(){try{return(await or.get("/email/verification-status")).data}catch(e){return this.handleError(e)}}static async checkApiConnection(){try{return await or.get("/health"),!0}catch(e){return!1}}static async getSessionInfo(){try{return(await or.get("/debug/session")).data}catch(e){return this.handleError(e)}}static debugMethods(){return{methods:Object.getOwnPropertyNames(qf).filter(e=>"function"===typeof qf[e]).sort(),createUserWithNotificationExists:"function"===typeof qf.createUserWithNotification}}static formatUserForDisplay(e){const t=e=>{if(Array.isArray(e))return e;if(!e||""===e)return[];if("string"===typeof e&&e.trim().startsWith("[")&&e.trim().endsWith("]"))try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch(qx){}return e.toString().split(",").map(e=>e.trim()).filter(e=>""!==e)};return{id:e.id,firstname:e.firstname||e.first_name||"",lastname:e.lastname||e.last_name||"",email:e.email||"",telephone:e.telephone||e.phone||"",departement:e.departement||"",username:e.username||"",role:e.role||"Agent",specialisations:t(e.specialisations),responsabilites:t(e.responsabilites),adresse:e.adresse||"",statut:void 0===e.statut||e.statut}}static handleError(e){if(e.response){const{status:n,data:r}=e.response;let a=(null===r||void 0===r?void 0:r.message)||(null===r||void 0===r?void 0:r.error)||"Une erreur est survenue";if(401===n)a="Votre session a expir\xe9, veuillez vous reconnecter",this.clearAuth();else if(403===n)a=(null===r||void 0===r?void 0:r.message)||"Acc\xe8s refus\xe9 - Droits insuffisants";else if(404===n)a="Ressource introuvable";else if(405===n){var t,s;a="M\xe9thode non autoris\xe9e (".concat(null===(t=e.config)||void 0===t||null===(s=t.method)||void 0===s?void 0:s.toUpperCase(),")")}else if(422===n)if(r.errors){const e=Object.values(r.errors)[0];a=Array.isArray(e)?e[0]:e}else a=(null===r||void 0===r?void 0:r.message)||"Donn\xe9es invalides";else 500===n&&(a="Erreur serveur interne. Veuillez r\xe9essayer.");return{success:!1,message:a,status:n,data:r}}return e.request?{success:!1,message:"Impossible de contacter le serveur",status:0,isNetworkError:!0}:{success:!1,message:e.message||"Erreur inconnue",status:-1}}}or.interceptors.request.use(e=>{const t=qf.getAuthToken();return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),qf.initToken();const Yf=qf,Jf=Tt("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),Kf=Tt("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Gf=Tt("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Xf=Tt("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),Qf=[{id:"agents",label:"Agents",icon:Ar,className:"w-4 h-4"},{id:"administrateurs",label:"Administrateurs",icon:yf,className:"w-4 h-4"}],Zf=["DAAQ","DRSE"],$f=["DAAQ","DRSE","CAC","DAJ","Ministre"],ex=[{id:1,name:"Admin",code:"admin"},{id:2,name:"Agent",code:"agent"}],tx=e=>{if(Array.isArray(e))return e;if(!e||""===e)return[];if("string"===typeof e){const t=e.trim();if(t.startsWith("[")&&t.endsWith("]"))try{const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(qx){}return e.split(",").map(e=>e.trim()).filter(e=>""!==e)}return[]},sx=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=Array.isArray(e.specialisations)?e.specialisations:[],n=Array.isArray(e.responsabilites)?e.responsabilites:[],r=e.role?e.role.toLowerCase():"agent",a={name:"".concat(e.firstname||""," ").concat(e.lastname||"").trim(),first_name:e.firstname||"",last_name:e.lastname||"",email:e.email||"",phone:e.telephone||"",telephone:e.telephone||"",departement:e.departement||"",username:e.username||"",role:r,responsabilites:n,specialisations:s,adresse:e.adresse||"",statut:void 0===e.statut||e.statut};return t&&e.password&&(a.password=e.password,a.password_confirmation=e.passwordconfirmation),Object.keys(a).forEach(e=>{""!==a[e]&&null!==a[e]&&void 0!==a[e]||delete a[e]}),a},nx=e=>{var t;if(!e)return"Non d\xe9fini";const s="string"===typeof e?e.toLowerCase():null===(t=e.code)||void 0===t?void 0:t.toLowerCase(),n=ex.find(e=>e.code===s);return n?n.name:e};function rx(e){let{password:t,errors:s={}}=e;const n=[{label:"8 caract\xe8res minimum",met:t.length>=8},{label:"Premi\xe8re lettre en majuscule",met:/[A-Z]/.test(t)},{label:"Au moins un chiffre",met:/\d/.test(t)},{label:"Au moins un caract\xe8re sp\xe9cial",met:/[!@#$%^&*(),.?":{}|<>]/.test(t)}],r=n.every(e=>e.met);return(0,kt.jsxs)("div",{className:"space-y-2 mt-2 p-3 bg-gray-50 rounded-lg",children:[(0,kt.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"S\xe9curit\xe9 du mot de passe"}),(0,kt.jsx)("div",{className:"grid grid-cols-1 gap-1",children:n.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e.met?(0,kt.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs",children:"\u2713"}):(0,kt.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-200 border border-gray-300"}),(0,kt.jsx)("span",{className:e.met?"text-green-700 font-medium":"text-red-600 font-medium",children:e.label})]},t))}),s.password&&(0,kt.jsx)("div",{className:"text-xs text-red-600 font-medium mt-1",children:s.password}),r&&(0,kt.jsxs)("div",{className:"text-xs text-green-600 font-bold mt-1 flex items-center",children:[(0,kt.jsx)(yf,{className:"w-3 h-3 mr-1"}),"Mot de passe s\xe9curis\xe9"]})]})}function ax(e){let{message:t,type:s="error",show:n,onClose:r,details:a=null}=e;return(0,kt.jsx)("div",{className:"fixed top-5 right-5 z-[9999] transition-all duration-500 transform ".concat(n?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,kt.jsxs)("div",{className:"border-l-4 ".concat((()=>{switch(s){case"success":return"border-green-500 bg-green-50";case"warning":return"border-yellow-500 bg-yellow-50";case"info":return"border-blue-500 bg-blue-50";default:return"border-red-500 bg-red-50"}})()," rounded-lg shadow-2xl p-4 w-96 max-w-full flex items-start"),children:[(0,kt.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(s){case"success":return(0,kt.jsx)(kr,{className:"h-6 w-6 text-green-500"});case"warning":return(0,kt.jsx)("svg",{className:"h-6 w-6 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.998-.833-2.732 0L4.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":return(0,kt.jsx)("svg",{className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,kt.jsx)(Pt,{className:"h-6 w-6 text-red-500"})}})()}),(0,kt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,kt.jsx)("p",{className:"text-sm font-bold text-gray-900 leading-5",children:(()=>{switch(s){case"success":return"Succ\xe8s";case"warning":return"Avertissement";case"info":return"Information";default:return"Erreur de validation"}})()}),(0,kt.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-600",children:t}),a&&(0,kt.jsxs)("div",{className:"mt-2 p-2 bg-white rounded border border-gray-200",children:[(0,kt.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"D\xe9tails :"}),(0,kt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:a})]})]}),(0,kt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,kt.jsx)("button",{onClick:r,className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",children:(0,kt.jsx)(Lt,{className:"h-5 w-5"})})})]})})}function ix(e){let{show:t,title:s,message:n,onConfirm:r,onCancel:a,confirmText:i="Confirmer",cancelText:l="Annuler"}=e;return t?(0,kt.jsx)("div",{className:"fixed inset-0 z-[10000] overflow-y-auto",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center",children:[(0,kt.jsx)("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-all duration-300 ease-out","aria-hidden":"true",onClick:a}),(0,kt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,kt.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left \r overflow-hidden shadow-2xl \r transform transition-all duration-300 ease-out\r sm:my-8 sm:align-middle \r w-full max-w-[95vw] sm:max-w-lg\r border border-gray-100",children:[(0,kt.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:px-6 sm:pt-6 sm:pb-5",children:(0,kt.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,kt.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,kt.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,kt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,kt.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,kt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:s}),(0,kt.jsx)("div",{className:"mt-2",children:(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:n})})]})]})}),(0,kt.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,kt.jsx)("button",{type:"button",onClick:r,className:"w-full inline-flex justify-center items-center\r rounded-xl border-0 \r shadow-lg shadow-red-500/20 hover:shadow-xl hover:shadow-red-500/30\r px-5 sm:px-6 py-2.5 sm:py-2 \r bg-gradient-to-r from-red-600 to-red-700\r text-sm sm:text-sm font-semibold text-white \r hover:from-red-700 hover:to-red-800\r focus:outline-none focus:ring-4 focus:ring-red-500/50\r transition-all duration-200\r sm:ml-3 sm:w-auto",children:i}),(0,kt.jsx)("button",{type:"button",onClick:a,className:"mt-3 sm:mt-0 w-full inline-flex justify-center items-center\r rounded-xl border-2 border-gray-300\r shadow-sm hover:shadow\r px-5 sm:px-6 py-2.5 sm:py-2 \r bg-white text-sm sm:text-sm font-semibold text-gray-700 \r hover:bg-gray-50 hover:border-gray-400\r focus:outline-none focus:ring-4 focus:ring-gray-200\r transition-all duration-200\r sm:ml-3 sm:w-auto",children:l})]})]})]})}):null}const lx=()=>{const[e,s]=(0,t.useState)("agents"),[n,r]=(0,t.useState)([]),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1),[p,f]=(0,t.useState)(null),[x,g]=(0,t.useState)({lastname:"",firstname:"",email:"",telephone:"",departement:"",username:"",password:"",passwordconfirmation:"",role:"Agent",specialisations:[],responsabilites:[],adresse:"",statut:!0}),[b,v]=(0,t.useState)({}),[y,w]=(0,t.useState)(!1),[j,N]=(0,t.useState)(null),[k,S]=(0,t.useState)({password:"",passwordconfirmation:""}),[E,C]=(0,t.useState)({search:"",departement:"",statut:""}),[_,A]=(0,t.useState)(!1),[M,D]=(0,t.useState)(!1),[T,R]=(0,t.useState)(!1),[P,O]=(0,t.useState)(!1),[L,I]=(0,t.useState)({show:!1,message:"",type:"error",details:null}),[z,F]=(0,t.useState)({show:!1,title:"",message:"",userId:null,action:null});(0,t.useEffect)(()=>{W()},[e]);const U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";I({show:!0,message:e,type:t,details:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null});setTimeout(()=>{I(e=>c(c({},e),{},{show:!1}))},"error"===t?7e3:5e3)},B=(e,t)=>{const s="email"===e?"Email":"Nom d'utilisateur",n=t.map(e=>"\u2022 ".concat(e.firstname||""," ").concat(e.lastname||""," (").concat(e.email||e.username,")")).join("\n"),r="".concat(s," d\xe9j\xe0 utilis\xe9"),a="Cette ".concat("email"===e?"adresse email":"valeur"," est d\xe9j\xe0 associ\xe9e \xe0 :\n").concat(n);U(r,"error",a)},V=(e,t,s,n)=>{F({show:!0,title:e,message:t,userId:s,action:n})},H=()=>{F({show:!1,title:"",message:"",userId:null,action:null})},W=async()=>{i(!0),o(null);try{const e=await Yf.getAllUsers();let t=[];Array.isArray(e)?t=e:null!==e&&void 0!==e&&e.users?t=e.users:null!==e&&void 0!==e&&e.data&&(t=e.data);const s=t.map(e=>({id:e.id,firstname:e.firstname||e.first_name||"",lastname:e.lastname||e.last_name||"",email:e.email||"",telephone:e.telephone||e.phone||"",departement:e.departement||"",username:e.username||"",role:e.role||"Agent",specialisations:tx(e.specialisations),responsabilites:tx(e.responsabilites),adresse:e.adresse||"",statut:void 0===e.statut||e.statut,fullName:e.full_name||"".concat(e.firstname||""," ").concat(e.lastname||"").trim()}));r(s||[])}catch(e){o("Impossible de charger les utilisateurs."),U("Impossible de charger les utilisateurs.","error"),r([])}finally{i(!1)}},q=(e,t)=>{const s={};switch(e){case"lastname":t.trim()||(s.lastname="Le nom est requis");break;case"firstname":t.trim()||(s.firstname="Le pr\xe9nom est requis");break;case"email":t.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(s.email="Format d'email invalide"):s.email="L'email est requis";break;case"telephone":t&&!/^\+?[0-9\s\-\(\)]{10,}$/.test(t.replace(/\s/g,""))&&(s.telephone="Num\xe9ro de t\xe9l\xe9phone invalide (chiffres uniquement)");break;case"username":t.trim()||(s.username="Le nom d'utilisateur est requis");break;case"departement":t||(s.departement="Le d\xe9partement est requis");break;case"password":t?t.length<8?s.password="8 caract\xe8res minimum":/[A-Z]/.test(t)?/\d/.test(t)?/[!@#$%^&*(),.?":{}|<>]/.test(t)||(s.password="Au moins un caract\xe8re sp\xe9cial"):s.password="Au moins un chiffre":s.password="Premi\xe8re lettre en majuscule":s.password="Le mot de passe est requis";break;case"passwordconfirmation":x.password&&t!==x.password&&(s.passwordconfirmation="Les mots de passe ne correspondent pas")}return s},Y=()=>{const e={};return Object.keys(x).forEach(t=>{if("specialisations"!==t&&"responsabilites"!==t&&"adresse"!==t&&"statut"!==t){const s=q(t,x[t]);s[t]&&(e[t]=s[t])}}),h&&(delete e.password,delete e.passwordconfirmation),e},J=e=>{const{name:t,value:s}=e.target;let r=s;"telephone"===t&&(r=s.replace(/[^\d\+\s\-]/g,"")),g(e=>c(c({},e),{},{[t]:r}));const a=q(t,r),i=c({},b);if(a[t]?i[t]=a[t]:delete i[t],"email"===t&&s&&!h){n.some(e=>e.email.toLowerCase()===s.toLowerCase())?i.email="Cet email est d\xe9j\xe0 utilis\xe9 par un autre utilisateur":i.email&&i.email.includes("d\xe9j\xe0 utilis\xe9")&&delete i.email}if("username"===t&&s&&!h){n.some(e=>e.username.toLowerCase()===s.toLowerCase())?i.username="Ce nom d'utilisateur est d\xe9j\xe0 pris":i.username&&i.username.includes("d\xe9j\xe0 pris")&&delete i.username}if(h&&p){if("email"===t&&s){n.some(e=>e.email.toLowerCase()===s.toLowerCase()&&e.id!==p.id)?i.email="Cet email est d\xe9j\xe0 utilis\xe9 par un autre utilisateur":i.email&&i.email.includes("d\xe9j\xe0 utilis\xe9")&&delete i.email}if("username"===t&&s){n.some(e=>e.username.toLowerCase()===s.toLowerCase()&&e.id!==p.id)?i.username="Ce nom d'utilisateur est d\xe9j\xe0 pris":i.username&&i.username.includes("d\xe9j\xe0 pris")&&delete i.username}}v(i)},K=(e,t)=>{if("Enter"===e.key||","===e.key){e.preventDefault();const s=e.target,n=s.value.trim().replace(/,$/,"");n&&!x[t].includes(n)&&(g(e=>c(c({},e),{},{[t]:[...e[t],n]})),s.value="")}},G=(e,t)=>{g(s=>c(c({},s),{},{[e]:s[e].filter((e,s)=>s!==t)}))},X=()=>{u(!1),f(null),v({})},Q=()=>{w(!1),N(null)},Z=e=>{const{name:t,value:s}=e.target;S(e=>c(c({},e),{},{[t]:s}))},$=n.filter(t=>{var s;const n=E.search.toLowerCase(),r="".concat(t.lastname||""," ").concat(t.firstname||"").trim();let a="agent";"administrateurs"===e&&(a="admin");const i=(("string"===typeof t.role?t.role:null===(s=t.role)||void 0===s?void 0:s.code)||"").toLowerCase()===a,l=!E.search||r.toLowerCase().includes(n)||(t.email||"").toLowerCase().includes(n)||(t.username||"").toLowerCase().includes(n),o=!E.departement||t.departement===E.departement,c=!E.statut||("actif"===E.statut?t.statut:!t.statut);return i&&l&&o&&c}),ee=()=>{const e=["lastname","firstname","email","departement","username"];h||e.push("password","passwordconfirmation");for(const s of e)if(!x[s]||""===x[s].toString().trim())return!1;const t=Y();return!(Object.keys(t).length>0)&&((!b.email||!b.email.includes("d\xe9j\xe0 utilis\xe9"))&&(!b.username||!b.username.includes("d\xe9j\xe0 pris")))};function te(e){let{password:t}=e;const s=[{label:"8 caract\xe8res minimum",met:t.length>=8},{label:"Premi\xe8re lettre en majuscule",met:/[A-Z]/.test(t)},{label:"Au moins un chiffre",met:/\d/.test(t)},{label:"Au moins un caract\xe8re sp\xe9cial",met:/[!@#$%^&*(),.?":{}|<>]/.test(t)}],n=s.every(e=>e.met);return(0,kt.jsxs)("div",{className:"space-y-2 mt-2 p-3 bg-gray-50 rounded-lg",children:[(0,kt.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"S\xe9curit\xe9 du mot de passe"}),(0,kt.jsx)("div",{className:"grid grid-cols-1 gap-1",children:s.map((e,t)=>(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e.met?(0,kt.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs",children:"\u2713"}):(0,kt.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-200 border border-gray-300"}),(0,kt.jsx)("span",{className:e.met?"text-green-700 font-medium":"text-red-600 font-medium",children:e.label})]},t))}),n&&(0,kt.jsxs)("div",{className:"text-xs text-green-600 font-bold mt-1 flex items-center",children:[(0,kt.jsx)(yf,{className:"w-3 h-3 mr-1"}),"Mot de passe s\xe9curis\xe9"]})]})}return(0,kt.jsxs)("div",{className:"min-h-screen bg-gray-50/50 p-6",children:[(0,kt.jsx)(ax,{message:L.message,type:L.type,show:L.show,onClose:()=>I(e=>c(c({},e),{},{show:!1})),details:L.details}),(0,kt.jsx)(ix,{show:z.show,title:z.title,message:z.message,onConfirm:async()=>{const{userId:e,action:t}=z;if(e){try{"delete"===t?(await Yf.deleteUser(e),U("Utilisateur supprim\xe9 avec succ\xe8s","success"),W()):"toggleStatus"===t&&(await Yf.toggleStatus(e),U("Statut utilisateur mis \xe0 jour","success"),W())}catch(s){U("Erreur ".concat("delete"===t?"lors de la suppression":"lors de la mise \xe0 jour du statut"),"error")}H()}else H()},onCancel:H,confirmText:"Confirmer",cancelText:"Annuler"}),(0,kt.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion d'\xe9quipe"}),(0,kt.jsx)("p",{className:"text-gray-500 mt-1",children:"Administration des acc\xe8s et des r\xf4les du personnel"})]}),(0,kt.jsxs)("button",{onClick:()=>{m(!1),f(null);let t="agent",s="DAAQ";"administrateurs"===e?(t="admin",s="DAAQ"):"agents"===e&&(t="agent",s="DAAQ"),g({lastname:"",firstname:"",email:"",telephone:"",departement:s,username:"",password:"",passwordconfirmation:"",role:t,specialisations:[],responsabilites:[],adresse:"",statut:!0}),v({}),A(!1),D(!1),u(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,kt.jsx)(hf,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]}),(0,kt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1",children:(0,kt.jsx)("div",{className:"flex space-x-1 overflow-x-auto",children:Qf.map(t=>(0,kt.jsxs)("button",{onClick:()=>s(t.id),className:"flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 whitespace-nowrap ".concat(e===t.id?"bg-blue-50 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,kt.jsx)(t.icon,{className:"mr-2 ".concat(t.className)}),(0,kt.jsx)("span",{children:t.label})]},t.id))})}),(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsx)("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-md\r border border-gray-100 p-4 sm:p-5\r transition-all duration-200",children:(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,kt.jsx)("div",{className:"md:col-span-2",children:(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Cr,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",placeholder:"Rechercher un membre...",className:"w-full pl-9 sm:pl-10 pr-4 py-2.5 sm:py-2 \r border-2 border-gray-200 rounded-xl\r bg-white text-gray-700 text-sm\r shadow-sm hover:shadow\r focus:border-blue-500 focus:ring-4 focus:ring-blue-100\r transition-all duration-200\r placeholder:text-gray-400",value:E.search,onChange:e=>C(t=>c(c({},t),{},{search:e.target.value}))})]})}),(0,kt.jsxs)("select",{value:E.departement,onChange:e=>C(t=>c(c({},t),{},{departement:e.target.value})),className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 \r border-2 border-gray-200 rounded-xl\r bg-white bg-gradient-to-b from-white to-gray-50\r text-gray-700 text-sm font-medium\r shadow-sm hover:shadow-md\r focus:border-blue-500 focus:ring-4 focus:ring-blue-100\r transition-all duration-200\r cursor-pointer\r appearance-none\r bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')]\r bg-[length:1.5em_1.5em]\r bg-[position:right_0.5rem_center]\r bg-no-repeat\r pr-10",children:[(0,kt.jsx)("option",{value:"",children:"Tous les d\xe9partements"}),"agents"===e&&Zf.map(e=>(0,kt.jsx)("option",{value:e,children:e},e)),"administrateurs"===e&&$f.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))]}),(0,kt.jsxs)("select",{value:E.statut,onChange:e=>C(t=>c(c({},t),{},{statut:e.target.value})),className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 \r border-2 border-gray-200 rounded-xl\r bg-white bg-gradient-to-b from-white to-gray-50\r text-gray-700 text-sm font-medium\r shadow-sm hover:shadow-md\r focus:border-blue-500 focus:ring-4 focus:ring-blue-100\r transition-all duration-200\r cursor-pointer\r appearance-none\r bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')]\r bg-[length:1.5em_1.5em]\r bg-[position:right_0.5rem_center]\r bg-no-repeat\r pr-10",children:[(0,kt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,kt.jsx)("option",{value:"actif",children:"Actifs uniquement"}),(0,kt.jsx)("option",{value:"inactif",children:"Inactifs uniquement"})]})]})}),(0,kt.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[(0,kt.jsxs)("div",{className:"text-sm text-gray-600",children:[$.length," r\xe9sultat",1!==$.length?"s":""," trouv\xe9",1!==$.length?"s":""]}),(0,kt.jsxs)("button",{onClick:()=>((e,t)=>{if(!e||0===e.length)return void alert("Aucune donn\xe9e \xe0 exporter");const s=[["ID","Pr\xe9nom","Nom","Email","T\xe9l\xe9phone","D\xe9partement","Nom d'Utilisateur","R\xf4le","Statut","Sp\xe9cialisations","Responsabilit\xe9s","Adresse"].join(","),...e.map(e=>[e.id,e.firstname||e.first_name||"",e.lastname||e.last_name||"",e.email||"",e.telephone||e.phone||"",e.departement||"",e.username||"",nx(e.role),e.statut?"Actif":"Inactif",Array.isArray(e.specialisations)?e.specialisations.join(", "):e.specialisations||"",Array.isArray(e.responsabilites)?e.responsabilites.join(", "):e.responsabilites||"",e.adresse||""].join(","))].join("\n"),n=new Blob([s],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),a=URL.createObjectURL(n);r.setAttribute("href",a),r.setAttribute("download","".concat(t,"_").concat((new Date).toISOString().split("T")[0],".csv")),document.body.appendChild(r),r.click(),document.body.removeChild(r)})($,"equipe-".concat(e)),className:"inline-flex items-center px-3 py-2 text-sm bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[(0,kt.jsx)(Or,{className:"w-4 h-4 mr-2"}),"Exporter CSV"]})]})]}),(0,kt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a?(0,kt.jsxs)("div",{className:"p-10 text-center text-gray-500",children:[(0,kt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,kt.jsx)("p",{className:"mt-2",children:"Chargement des donn\xe9es..."})]}):l?(0,kt.jsxs)("div",{className:"p-10 text-center",children:[(0,kt.jsx)(Pt,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),(0,kt.jsx)("p",{className:"text-red-600 font-medium",children:l})]}):(0,kt.jsx)("div",{className:"overflow-x-auto",children:(0,kt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,kt.jsx)("thead",{className:"bg-gray-50",children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Poste"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"R\xf4le"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,kt.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,kt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===$.length?(0,kt.jsx)("tr",{children:(0,kt.jsx)("td",{colSpan:7,className:"px-6 py-10 text-center text-gray-500",children:(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,kt.jsx)(Cr,{className:"w-10 h-10 text-gray-300 mb-2"}),(0,kt.jsx)("p",{children:"Aucun utilisateur trouv\xe9"}),(0,kt.jsx)("p",{className:"text-sm text-gray-400",children:"Essayez de modifier vos filtres de recherche."})]})})}):$.map(e=>{const t=e.lastname||e.firstname?"".concat(e.lastname||""," ").concat(e.firstname||"").trim():"Sans nom...",s="Sans nom..."!==t?t.charAt(0).toUpperCase():"?";return(0,kt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,kt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,kt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.id})}),(0,kt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,kt.jsxs)("div",{className:"flex items-center",children:[(0,kt.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-bold text-sm",children:s}),(0,kt.jsxs)("div",{className:"ml-4",children:[(0,kt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t}),(0,kt.jsx)("div",{className:"text-xs text-gray-500",children:e.username||"Aucun username"})]})]})}),(0,kt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,kt.jsx)("div",{className:"text-sm text-gray-900",children:e.email||"Aucun email"}),(0,kt.jsx)("div",{className:"text-xs text-gray-500",children:e.telephone||"-"})]}),(0,kt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,kt.jsx)("div",{className:"text-sm text-gray-900",children:e.departement||"Non d\xe9fini"}),(0,kt.jsxs)("div",{className:"mt-1 space-y-1",children:[e.responsabilites&&e.responsabilites.length>0&&(0,kt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.responsabilites.slice(0,2).map((e,t)=>(0,kt.jsx)("span",{className:"text-xs bg-blue-50 text-blue-700 px-1.5 py-0.5 rounded-full",children:e},"resp-".concat(t))),e.responsabilites.length>2&&(0,kt.jsxs)("span",{className:"text-xs text-gray-400",children:["+",e.responsabilites.length-2]})]}),e.specialisations&&e.specialisations.length>0&&(0,kt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.specialisations.slice(0,2).map((e,t)=>(0,kt.jsx)("span",{className:"text-xs bg-purple-50 text-purple-700 px-1.5 py-0.5 rounded-full",children:e},"spec-".concat(t))),e.specialisations.length>2&&(0,kt.jsxs)("span",{className:"text-xs text-gray-400",children:["+",e.specialisations.length-2]})]})]})]}),(0,kt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,kt.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:nx(e.role)})}),(0,kt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,kt.jsx)("button",{onClick:()=>(e=>{const t=n.find(t=>t.id===e),s=!!t&&!t.statut;V("Changer le statut de l'utilisateur","\xcates-vous s\xfbr de vouloir ".concat(s?"activer":"d\xe9sactiver"," cet utilisateur ?"),e,"toggleStatus")})(e.id),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer transition-colors ".concat(e.statut?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"),children:e.statut?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(Jf,{className:"w-3 h-3 mr-1"}),"Actif"]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(Kf,{className:"w-3 h-3 mr-1"}),"Inactif"]})})}),(0,kt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,kt.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,kt.jsx)("button",{onClick:()=>(e=>{m(!0),f(e);const t=tx(e.specialisations),s=tx(e.responsabilites);let n=e.role||"agent";"string"===typeof n&&(n=n.toLowerCase());let r=e.departement||"";r||("agent"===n||"admin"===n?r="DAAQ":"investigateur"===n&&(r="DRSE")),g({lastname:e.lastname||e.last_name||"",firstname:e.firstname||e.first_name||"",email:e.email||"",telephone:e.telephone||"",departement:r,username:e.username||"",password:"",passwordconfirmation:"",role:n,specialisations:t,responsabilites:s,adresse:e.adresse||"",statut:void 0===e.statut||e.statut}),v({}),A(!1),D(!1),u(!0)})(e),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded",title:"Modifier l'utilisateur",children:(0,kt.jsx)(cf,{className:"w-4 h-4"})}),(0,kt.jsx)("button",{onClick:()=>(e=>{N(e),S({password:"",passwordconfirmation:""}),R(!1),O(!1),w(!0)})(e),className:"text-orange-400 hover:text-orange-600 p-1 hover:bg-orange-50 rounded",title:"Modifier le mot de passe",children:(0,kt.jsx)(Gf,{className:"w-4 h-4"})}),(0,kt.jsx)("button",{onClick:()=>{return t=e.id,void V("Supprimer cet utilisateur ?","Cette action est irr\xe9versible. L'utilisateur sera d\xe9finitivement supprim\xe9.",t,"delete");var t},className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded",title:"Supprimer l'utilisateur",children:(0,kt.jsx)(df,{className:"w-4 h-4"})})]})})]},e.id)})})]})})}),d&&(0,kt.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center sm:block sm:p-0",children:[(0,kt.jsx)("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-all duration-300 ease-out","aria-hidden":"true",onClick:X}),(0,kt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,kt.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left \r overflow-hidden shadow-2xl \r transform transition-all duration-300 ease-out\r sm:my-8 sm:align-middle \r w-full max-w-[95vw] sm:max-w-4xl\r border border-gray-100",children:(0,kt.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:px-6 sm:pt-6 sm:pb-5",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-center mb-6 \r border-b-2 border-gray-100 pb-4\r bg-gradient-to-r from-blue-50/30 to-transparent\r -mx-4 sm:-mx-6 px-4 sm:px-6 -mt-5 pt-5\r rounded-t-2xl",children:[(0,kt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex items-center",children:h?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(cf,{className:"w-5 h-5 mr-2 text-orange-500"}),"Modifier l'Utilisateur"]}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)(hf,{className:"w-5 h-5 mr-2 text-blue-600"}),"Nouvel Utilisateur"]})}),(0,kt.jsx)("button",{onClick:X,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,kt.jsx)(Lt,{className:"h-6 w-6"})})]}),(0,kt.jsxs)("form",{onSubmit:async e=>{var t,s;e.preventDefault();const r=null===(t=e.nativeEvent.submitter)||void 0===t||null===(s=t.dataset)||void 0===s?void 0:s.action;if(!h){const e=n.filter(e=>e.email.toLowerCase()===x.email.toLowerCase());if(e.length>0)return B("email",e),void v(e=>c(c({},e),{},{email:"Cet email est d\xe9j\xe0 utilis\xe9"}));const t=n.filter(e=>e.username.toLowerCase()===x.username.toLowerCase());if(t.length>0)return B("username",t),void v(e=>c(c({},e),{},{username:"Ce nom d'utilisateur est d\xe9j\xe0 pris"}))}if(h&&p){const e=n.filter(e=>e.email.toLowerCase()===x.email.toLowerCase()&&e.id!==p.id);if(e.length>0)return B("email",e),void v(e=>c(c({},e),{},{email:"Cet email est d\xe9j\xe0 utilis\xe9"}));const t=n.filter(e=>e.username.toLowerCase()===x.username.toLowerCase()&&e.id!==p.id);if(t.length>0)return B("username",t),void v(e=>c(c({},e),{},{username:"Ce nom d'utilisateur est d\xe9j\xe0 pris"}))}const a=Y();if(Object.keys(a).length>0)return v(a),void U("Veuillez corriger les erreurs dans le formulaire.","error");try{let e;if(!h){const t=sx(x,!0);if(!t.first_name||!t.last_name)return void U("Erreur: Pr\xe9nom ou nom manquant","error");if(e=await Yf.createUserWithNotification(t),e&&e.success)return U(e.message||"Compte utilisateur cr\xe9\xe9 avec succ\xe8s. Un email a \xe9t\xe9 envoy\xe9 \xe0 l'utilisateur.","success"),X(),void W();var i,l,o,d,u,m,f,g;if(422===(null===(i=e)||void 0===i?void 0:i.status))if(null!==(l=e.message)&&void 0!==l&&l.includes("email")||null!==(o=e.data)&&void 0!==o&&null!==(d=o.errors)&&void 0!==d&&d.email){const e=n.filter(e=>e.email.toLowerCase()===x.email.toLowerCase());B("email",e)}else if(null!==(u=e.message)&&void 0!==u&&u.includes("username")||null!==(m=e.data)&&void 0!==m&&null!==(f=m.errors)&&void 0!==f&&f.username){const e=n.filter(e=>e.username.toLowerCase()===x.username.toLowerCase());B("username",e)}else{var b;U((null===(b=e)||void 0===b?void 0:b.message)||"Erreur lors de la cr\xe9ation de l'utilisateur","error")}else U((null===(g=e)||void 0===g?void 0:g.message)||"Erreur lors de la cr\xe9ation de l'utilisateur","error")}if(!p)return void U("Aucun utilisateur s\xe9lectionn\xe9","error");if("info"===r){const t=sx(x,!1);var y;if(e=await Yf.updateUser(p.id,t),e&&e.success)U("Informations mises \xe0 jour avec succ\xe8s","success"),X(),W();else U((null===(y=e)||void 0===y?void 0:y.message)||"Erreur lors de la mise \xe0 jour","error")}}catch(E){var w,j,N;let e="Une erreur est survenue";if(422===(null===(w=E.response)||void 0===w?void 0:w.status)){var k,S;const e=(null===(k=E.response.data)||void 0===k?void 0:k.data)||(null===(S=E.response.data)||void 0===S?void 0:S.errors)||{};if(e.email){const e=n.filter(e=>e.email.toLowerCase()===x.email.toLowerCase());return void B("email",e)}if(e.username){const e=n.filter(e=>e.username.toLowerCase()===x.username.toLowerCase());return void B("username",e)}let t="Erreur de validation : ";const s=[];return Object.entries(e).forEach(e=>{let[t,n]=e;Array.isArray(n)&&s.push("".concat(t,": ").concat(n.join(", ")))}),s.length>0?t+=s.join(", "):t="Donn\xe9es invalides. Veuillez v\xe9rifier les informations saisies.",void U(t,"error")}E.message&&E.message.includes("createUserWithNotification is not a function")?e="Erreur technique : La fonction de cr\xe9ation avec notification n'est pas disponible. Contactez l'administrateur.":E.message?e=E.message:null!==(j=E.response)&&void 0!==j&&null!==(N=j.data)&&void 0!==N&&N.message&&(e=E.response.data.message),U("Erreur: ".concat(e),"error")}},className:"space-y-6",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:["Nom ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("input",{type:"text",name:"lastname",value:x.lastname,onChange:J,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all ".concat(b.lastname?"border-red-500":"border-gray-300"),placeholder:"Ex: Dupont",required:!0}),b.lastname&&(0,kt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:b.lastname})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:["Pr\xe9nom ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("input",{type:"text",name:"firstname",value:x.firstname,onChange:J,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all ".concat(b.firstname?"border-red-500":"border-gray-300"),placeholder:"ex: Jean",required:!0}),b.firstname&&(0,kt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:b.firstname})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:["Email ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"}),x.email&&!h&&n.some(e=>e.email.toLowerCase()===x.email.toLowerCase())&&(0,kt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 utilis\xe9"}),x.email&&h&&p&&n.some(e=>e.email.toLowerCase()===x.email.toLowerCase()&&e.id!==p.id)&&(0,kt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 utilis\xe9 par un autre utilisateur"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Tr,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"email",name:"email",value:x.email,onChange:J,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ".concat(b.email?"border-red-500":"border-gray-300"),placeholder:"jean.dupont@fosika.mg",required:!0})]}),b.email&&(0,kt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:b.email})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:"T\xe9l\xe9phone"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Dr,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",name:"telephone",value:x.telephone,onChange:J,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ".concat(b.telephone?"border-red-500":"border-gray-300"),placeholder:"+261 3X XX XXX XX"})]}),b.telephone&&(0,kt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:b.telephone})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:["Nom d'utilisateur"," ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"}),x.username&&!h&&n.some(e=>e.username.toLowerCase()===x.username.toLowerCase())&&(0,kt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 pris"}),x.username&&h&&p&&n.some(e=>e.username.toLowerCase()===x.username.toLowerCase()&&e.id!==p.id)&&(0,kt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 pris par un autre utilisateur"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Ar,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",name:"username",value:x.username,onChange:J,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none placeholder:text-gray-400 ".concat(b.username?"border-red-500":"border-gray-300"),placeholder:"Ex: jdupont",required:!h})]}),b.username&&(0,kt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:b.username})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:["R\xf4le ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(yf,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,kt.jsxs)("select",{name:"role",value:x.role,onChange:e=>{const t=e.target.value.toLowerCase();let s="";"agent"===t||"admin"===t?s="DAAQ":"investigateur"===t&&(s="DRSE"),g(e=>c(c({},e),{},{role:t,departement:s}));const n=q("departement",s);v(e=>c(c({},e),{},{departement:n.departement}))},className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white appearance-none",children:[(0,kt.jsx)("option",{value:"agent",children:"Agent"}),(0,kt.jsx)("option",{value:"admin",children:"Admin"}),(0,kt.jsx)("option",{value:"investigateur",children:"Investigateur"})]})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:["D\xe9partement ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Xf,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,kt.jsxs)("select",{name:"departement",value:x.departement,onChange:J,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none appearance-none bg-white ".concat(b.departement?"border-red-500":"border-gray-300"),required:!0,children:[(0,kt.jsx)("option",{value:"",children:"S\xe9lectionner..."}),(()=>{const e=x.role;return"agent"===e?Zf:"admin"===e?$f:"investigateur"===e?Zf:[]})().map(e=>(0,kt.jsx)("option",{value:e,children:e},e))]})]}),b.departement&&(0,kt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:b.departement}),(0,kt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["agent"===x.role&&"D\xe9partements disponibles: DAAQ, DRSE","admin"===x.role&&"D\xe9partements disponibles: DAAQ, DRSE, CAC, DAJ, Ministre","investigateur"===x.role&&"D\xe9partements disponibles: DAAQ, DRSE"]})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:"Responsabilit\xe9s"}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsx)("input",{type:"text",id:"responsabilites-input",className:"flex-1 px-3 sm:px-4 py-2 \r border-2 border-gray-200 rounded-xl\r bg-white text-gray-700 text-xs sm:text-sm font-medium\r shadow-sm hover:shadow\r focus:border-blue-500 focus:ring-2 focus:ring-blue-100\r transition-all duration-200\r cursor-pointer appearance-none\r bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')]\r bg-[length:1.2em_1.2em]\r bg-[position:right_0.5rem_center]\r bg-no-repeat\r pr-8",placeholder:"Ex: Gestion de projet...",onKeyDown:e=>K(e,"responsabilites")}),(0,kt.jsx)("button",{type:"button",onClick:()=>{const e=document.getElementById("responsabilites-input"),t=e.value.trim();t&&!x.responsabilites.includes(t)&&(g(e=>c(c({},e),{},{responsabilites:[...e.responsabilites,t]})),e.value="")},className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm hover:bg-blue-200",children:"Ajouter"})]}),(0,kt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[x.responsabilites.map((e,t)=>(0,kt.jsxs)("span",{className:"bg-blue-50 text-blue-700 text-xs px-3 py-1.5 rounded-full flex items-center",children:[e,(0,kt.jsx)("button",{type:"button",onClick:()=>G("responsabilites",t),className:"ml-2 hover:text-blue-900 text-sm",children:"\xd7"})]},t)),0===x.responsabilites.length&&(0,kt.jsx)("span",{className:"text-gray-400 text-xs italic",children:"Aucune responsabilit\xe9 d\xe9finie"})]}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Appuyez sur Entr\xe9e ou virgule, ou utilisez le bouton "Ajouter"'})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:"Sp\xe9cialisations"}),(0,kt.jsxs)("div",{className:"space-y-2",children:[(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsx)("input",{type:"text",id:"specialisations-input",className:"flex-1 px-3 sm:px-4 py-2 \r border-2 border-gray-200 rounded-xl\r bg-white text-gray-700 text-xs sm:text-sm font-medium\r shadow-sm hover:shadow\r focus:border-blue-500 focus:ring-2 focus:ring-blue-100\r transition-all duration-200\r cursor-pointer appearance-none\r bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')]\r bg-[length:1.2em_1.2em]\r bg-[position:right_0.5rem_center]\r bg-no-repeat\r pr-8",placeholder:"Ex: Fraude, Corruption...",onKeyDown:e=>K(e,"specialisations")}),(0,kt.jsx)("button",{type:"button",onClick:()=>{const e=document.getElementById("specialisations-input"),t=e.value.trim();t&&!x.specialisations.includes(t)&&(g(e=>c(c({},e),{},{specialisations:[...e.specialisations,t]})),e.value="")},className:"px-3 py-2 bg-purple-100 text-purple-700 rounded-lg text-sm hover:bg-purple-200",children:"Ajouter"})]}),(0,kt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[x.specialisations.map((e,t)=>(0,kt.jsxs)("span",{className:"bg-purple-50 text-purple-700 text-xs px-3 py-1.5 rounded-full flex items-center",children:[e,(0,kt.jsx)("button",{type:"button",onClick:()=>G("specialisations",t),className:"ml-2 hover:text-purple-900 text-sm",children:"\xd7"})]},t)),0===x.specialisations.length&&(0,kt.jsx)("span",{className:"text-gray-400 text-xs italic",children:"Aucune sp\xe9cialisation d\xe9finie"})]}),(0,kt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Appuyez sur Entr\xe9e ou virgule, ou utilisez le bouton "Ajouter"'})]})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:"Adresse"}),(0,kt.jsx)("input",{type:"text",name:"adresse",value:x.adresse,onChange:J,className:"w-full px-3 sm:px-4 py-2.5 sm:py-2 \r border-2 border-gray-200 rounded-xl\r bg-white text-gray-700 text-sm\r shadow-sm hover:shadow\r focus:border-blue-500 focus:ring-4 focus:ring-blue-100\r transition-all duration-200\r placeholder:text-gray-400",placeholder:"Adresse physique..."})]}),!h&&(0,kt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mt-4",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsxs)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Mot de passe"," ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("input",{type:_?"text":"password",name:"password",value:x.password,onChange:J,className:"w-full px-3 py-2 border rounded-md text-sm pr-10 placeholder:text-gray-400 ".concat(b.password?"border-red-500":"border-gray-300"),placeholder:"Cr\xe9er un mot de passe",required:!0}),(0,kt.jsx)("button",{type:"button",onClick:()=>A(!_),className:"absolute right-3 top-9 h-4 w-4 text-gray-400 hover:text-gray-600",children:_?(0,kt.jsx)(Df,{size:16}):(0,kt.jsx)(Pr,{size:16})})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsxs)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Confirmation"," ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("input",{type:M?"text":"password",name:"passwordconfirmation",value:x.passwordconfirmation,onChange:J,className:"w-full px-3 py-2 border rounded-md text-sm pr-10 placeholder:text-gray-400 ".concat(b.passwordconfirmation?"border-red-500":"border-gray-300"),placeholder:"R\xe9p\xe9ter le mot de passe"}),(0,kt.jsx)("button",{type:"button",onClick:()=>D(!M),className:"absolute right-3 top-9 h-4 w-4 text-gray-400 hover:text-gray-600",children:M?(0,kt.jsx)(Df,{size:16}):(0,kt.jsx)(Pr,{size:16})})]})]}),x.password&&(0,kt.jsx)(rx,{password:x.password,errors:b}),b.passwordconfirmation&&(0,kt.jsx)("p",{className:"text-xs text-red-600 mt-2",children:b.passwordconfirmation})]}),(0,kt.jsxs)("div",{className:"flex flex-wrap justify-end gap-3 pt-4 border-t mt-6",children:[(0,kt.jsx)("button",{type:"button",onClick:X,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:"Annuler"}),(0,kt.jsxs)("button",{type:"submit","data-action":h?"info":"create",className:"px-6 py-2 rounded-lg transition-colors flex items-center shadow-sm ".concat(ee()?"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"),disabled:!ee(),children:[(0,kt.jsx)(If,{className:"w-4 h-4 mr-2"}),h?"Mettre \xe0 jour":"Enregistrer"]})]})]})]})})]})}),y&&(0,kt.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center sm:block sm:p-0",children:[(0,kt.jsx)("div",{className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-all duration-300 ease-out","aria-hidden":"true",onClick:Q}),(0,kt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,kt.jsx)("div",{className:"inline-block align-bottom bg-white rounded-2xl text-left \r overflow-hidden shadow-2xl \r transform transition-all duration-300 ease-out\r sm:my-8 sm:align-middle \r w-full max-w-[95vw] sm:max-w-lg\r border border-gray-100",children:(0,kt.jsxs)("div",{className:"bg-white px-6 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,kt.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b pb-3",children:[(0,kt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Modifier le mot de passe"}),(0,kt.jsx)("button",{onClick:Q,className:"text-gray-400 hover:text-gray-600",children:(0,kt.jsx)(Lt,{className:"w-6 h-6"})})]}),(0,kt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j)if(k.password)if(k.password===k.passwordconfirmation)if(k.password.length<8)U("Le mot de passe doit contenir au moins 8 caract\xe8res.","error");else if(/[A-Z]/.test(k.password))if(/\d/.test(k.password))if(/[!@#$%^&*(),.?":{}|<>]/.test(k.password))try{const e={new_password:k.password,new_password_confirmation:k.passwordconfirmation},t=await Yf.resetPassword(j.id,e);t&&t.success?(U("Mot de passe mis \xe0 jour avec succ\xe8s","success"),Q()):U((null===t||void 0===t?void 0:t.message)||"Erreur lors de la mise \xe0 jour du mot de passe","error")}catch(t){const e=Yf.handleError(t);e.message.includes("new password field is required")?U("Le champ 'nouveau mot de passe' est requis.","error"):U("Erreur: ".concat(e.message),"error")}else U("Le mot de passe doit contenir au moins un caract\xe8re sp\xe9cial.","error");else U("Le mot de passe doit contenir au moins un chiffre.","error");else U("Le mot de passe doit commencer par une majuscule.","error");else U("Les mots de passe ne correspondent pas.","error");else U("Le mot de passe est requis.","error")},className:"space-y-4",children:[(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:["Nouveau mot de passe"," ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("input",{type:T?"text":"password",name:"password",value:k.password,onChange:Z,className:"w-full mt-1.5 px-3 sm:px-4 py-2.5\r border-2 rounded-xl\r text-gray-700 text-sm font-medium\r shadow-sm hover:shadow\r focus:ring-4 transition-all duration-200\r cursor-pointer appearance-none\r bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')]\r bg-[length:1.5em_1.5em]\r bg-[position:right_0.5rem_center]\r bg-no-repeat\r pr-10",placeholder:"Minimum 8 caract\xe8res, Majuscule, Chiffre, Caract\xe8re sp\xe9cial",required:!0}),(0,kt.jsx)("button",{type:"button",onClick:()=>R(!T),className:"absolute right-3 top-10 h-4 w-4 text-gray-400 hover:text-gray-600",children:T?(0,kt.jsx)(Df,{size:16}):(0,kt.jsx)(Pr,{size:16})})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 tracking-wide",children:["Confirmation ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("input",{type:P?"text":"password",name:"passwordconfirmation",value:k.passwordconfirmation,onChange:Z,className:"w-full mt-1.5 px-3 sm:px-4 py-2.5\r border-2 rounded-xl\r text-gray-700 text-sm font-medium\r shadow-sm hover:shadow\r focus:ring-4 transition-all duration-200\r cursor-pointer appearance-none\r bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20fill%3D%22none%22%20viewBox%3D%220%200%2020%2020%22%3E%3Cpath%20stroke%3D%22%236b7280%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20d%3D%22M6%208l4%204%204-4%22%2F%3E%3C%2Fsvg%3E')]\r bg-[length:1.5em_1.5em]\r bg-[position:right_0.5rem_center]\r bg-no-repeat\r pr-10",placeholder:"R\xe9p\xe9ter le mot de passe",required:!0}),(0,kt.jsx)("button",{type:"button",onClick:()=>O(!P),className:"absolute right-3 top-10 h-4 w-4 text-gray-400 hover:text-gray-600",children:P?(0,kt.jsx)(Df,{size:16}):(0,kt.jsx)(Pr,{size:16})})]}),k.password&&(0,kt.jsx)(te,{password:k.password}),(0,kt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,kt.jsx)("button",{type:"button",onClick:Q,className:"px-4 py-2 rounded border border-gray-300 hover:bg-gray-100",children:"Annuler"}),(0,kt.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Enregistrer"})]})]})]})})]})})]})]})},ox=Tt("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),cx=Tt("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),dx=Tt("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),ux=Tt("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),hx=["Antananarivo","Antsiranana","Fianarantsoa","Toamasina","Mahajanga","Toliara"],mx={AES:"ASSISTANT D'ENSEIGNEMENT SUPERIEUR",PE:"PROFESSEUR \xc9M\xc9RITE",PT:"PROFESSEUR TITULAIRE",PES:"PROFESSEUR D'ENSEIGNEMENT SUPERIEUR",MC:"MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR"},px=[{code:"AES",libelle:"Assistant d'Enseignement Sup\xe9rieur"},{code:"MC",libelle:"Ma\xeetre de Conf\xe9rences"},{code:"PE",libelle:"Professeur Em\xe9rite"},{code:"PES",libelle:"Professeur d'Enseignement Sup\xe9rieur"},{code:"PT",libelle:"Professeur Titulaire"}].map(e=>e.code),fx=["ASSISTANT D'ENSEIGNEMENT SUPERIEUR","MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR","PROFESSEUR D'ENSEIGNEMENT SUPERIEUR","PROFESSEUR \xc9M\xc9RITE","PROFESSEUR TITULAIRE"].sort((e,t)=>e.localeCompare(t,"fr",{sensitivity:"base"})),xx=e=>String(null!==e&&void 0!==e?e:"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim().replace(/\s+/g," ").toUpperCase(),gx=e=>e?String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim():"",bx=e=>{var t;return e?Array.isArray(e)?e:Array.isArray(e.data)?e.data:e.data&&Array.isArray(e.data.data)?e.data.data:Array.isArray(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.enseignants)?e.data.enseignants:[]:[]},vx=e=>{let{message:t,type:s="success",onClose:n}=e;const r={success:{icon:(0,kt.jsx)(kr,{className:"w-6 h-6 text-green-500"}),borderColor:"border-green-500",bgColor:"bg-green-50"},error:{icon:(0,kt.jsx)(Er,{className:"w-6 h-6 text-red-500"}),borderColor:"border-red-500",bgColor:"bg-red-50"}},{icon:a,borderColor:i,bgColor:l}=r[s];return(0,kt.jsxs)("div",{className:"".concat(l," border-l-4 ").concat(i," rounded shadow-2xl p-4 w-80 flex items-start animate-in slide-in-from-right duration-300"),children:[(0,kt.jsx)("div",{className:"flex-shrink-0",children:a}),(0,kt.jsx)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-900 leading-5",children:t})}),(0,kt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,kt.jsx)("button",{onClick:n,className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none transition ease-in-out duration-150",children:(0,kt.jsx)(Lt,{className:"h-5 w-5"})})})]})},yx=e=>{let{isOpen:t,onClose:s,title:n,children:r,size:a="md"}=e;if(!t)return null;return(0,kt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[a]," overflow-hidden flex flex-col max-h-[90vh]"),children:[(0,kt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:n}),(0,kt.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,kt.jsx)(Lt,{size:20})})]}),(0,kt.jsx)("div",{className:"p-6 overflow-y-auto",children:r})]})})},wx=e=>{let{isOpen:t,onClose:s,onConfirm:n,title:r,message:a,type:i="danger"}=e;if(!t)return null;const l={danger:{icon:(0,kt.jsx)(rf,{className:"w-12 h-12"}),iconBg:"bg-red-100",iconColor:"text-red-600",buttonBg:"bg-red-600 hover:bg-red-700",borderColor:"border-red-200"}}[i];return(0,kt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,kt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200",children:[(0,kt.jsx)("div",{className:"p-6",children:(0,kt.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,kt.jsx)("div",{className:"".concat(l.iconBg," ").concat(l.iconColor," rounded-full p-4 mb-4"),children:l.icon}),(0,kt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r}),(0,kt.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-line",children:a})]})}),(0,kt.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex gap-3 border-t ".concat(l.borderColor),children:[(0,kt.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Annuler"}),(0,kt.jsx)("button",{onClick:()=>{n(),s()},className:"flex-1 px-4 py-2.5 ".concat(l.buttonBg," text-white rounded-lg font-medium transition-colors shadow-sm"),children:"Confirmer"})]})]})})},jx=e=>{let{children:s,trigger:n}=e;const[r,a]=(0,t.useState)(!1);return(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("button",{onClick:()=>a(!r),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:n}),r&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),(0,kt.jsx)("div",{className:"absolute right-0 top-8 z-20 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-[150px]",children:t.Children.map(s,e=>t.cloneElement(e,{onClick:()=>{var t,s;null===(t=(s=e.props).onClick)||void 0===t||t.call(s),a(!1)}}))})]})]})},Nx=e=>{let{icon:t,label:s,onClick:n,danger:r}=e;return(0,kt.jsxs)("button",{onClick:n,className:"w-full px-4 py-2 text-left text-sm flex items-center gap-2 hover:bg-gray-50 transition-colors ".concat(r?"text-red-600 hover:bg-red-50":"text-gray-700"),children:[t,(0,kt.jsx)("span",{children:s})]})},kx=()=>{var e,s,n,r;const[a,i]=(0,t.useState)("selection"),[l,o]=(0,t.useState)(null),[d,u]=(0,t.useState)("RECAP"),[h,m]=(0,t.useState)([]),[p,f]=(0,t.useState)([]),[x,g]=(0,t.useState)([]),[b,v]=(0,t.useState)([]),[y,w]=(0,t.useState)(!0),[j,N]=(0,t.useState)(null),[k,S]=(0,t.useState)({search:"",faculte:"",corps:"",titre:""}),[E,C]=(0,t.useState)({search:"",corps:"",titre:""}),[_,A]=(0,t.useState)({field:"nom",direction:"asc"}),[M,D]=(0,t.useState)({field:"nom",direction:"asc"}),[T,R]=(0,t.useState)(!1),[P,O]=(0,t.useState)(!1),[L,I]=(0,t.useState)(!1),[z,F]=(0,t.useState)(!1),[U,B]=(0,t.useState)(!1),[V,H]=(0,t.useState)(!1),[W,q]=(0,t.useState)(!1),[Y,J]=(0,t.useState)(null),[K,G]=(0,t.useState)(null),[X,Q]=(0,t.useState)(null),[Z,$]=(0,t.useState)({isOpen:!1,title:"",message:"",onConfirm:null}),[ee,te]=(0,t.useState)({show:!1,message:"",type:"success"}),[se,ne]=(0,t.useState)({nom:"",province:hx[0],code:""}),[re,ae]=(0,t.useState)(""),[ie,le]=(0,t.useState)({nom:"",sexe:"M",im:"",date_naissance:"",corps:"AES",diplome:"",specialite:"",titre:fx[0]}),[oe,ce]=(0,t.useState)(null),[de,ue]=(0,t.useState)(1),[he,me]=(0,t.useState)(50),[pe,fe]=(0,t.useState)(1),[xe,ge]=(0,t.useState)(50),[be,ve]=(0,t.useState)(""),ye=function(e){te({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>te({show:!1,message:"",type:"success"}),5e3)},we=e=>{const t=e.replace(/\D/g,"");let s="";if(t.length>0){let e=t.substring(0,2);if(2===e.length&&parseInt(e)>31&&(e="31"),2===e.length&&0===parseInt(e)&&(e="01"),s=e,t.length>=3){let e=t.substring(2,4);2===e.length&&parseInt(e)>12&&(e="12"),2===e.length&&0===parseInt(e)&&(e="01"),s+="/"+e}t.length>=5&&(s+="/"+t.substring(4,8))}return s},je=e=>e.replace(/\D/g,"").substring(0,6),Ne=e=>{if(!e||10!==e.length)return"";const[t,s,n]=e.split("/");return t&&s&&n?"".concat(n,"-").concat(s,"-").concat(t):""},ke=e=>{if(!e)return"";const t=String(e).split("T")[0].split("-");if(3!==t.length)return"";const[s,n,r]=t;return s&&n&&r?4!==s.length?"":"".concat(r,"/").concat(n,"/").concat(s):""};(0,t.useEffect)(()=>{(async()=>{try{w(!0);const e=await Wi.getAll(),t=bx(e);m(Array.isArray(t)?t:[]),N(null)}catch(e){console.error("Erreur lors du chargement des universit\xe9s:",e),N("Impossible de charger les universit\xe9s"),ye("Erreur de chargement des universit\xe9s","error")}finally{w(!1)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(l)try{const e=await Yi.getAll({universite_id:l.id}),t=bx(e);f(Array.isArray(t)?t:[])}catch(e){console.error("Erreur lors du chargement des \xe9tablissements:",e),f([])}else f([])})()},[l]),(0,t.useEffect)(()=>{(async()=>{if(l)try{const e=await Yi.getAll({universite_id:l.id}),t=bx(e),s=Array.isArray(t)?t:[];if(0===s.length)return console.warn("Aucun \xe9tablissement trouv\xe9 pour cette universit\xe9"),void v([]);const n={universite_id:l.id,per_page:1e3},r=await Vi.getAll(n),a=bx(r),i=(Array.isArray(a)?a:[]).map(e=>{var t,n,r,a,i,l;const o=s.find(t=>String(t.id)===String(null===e||void 0===e?void 0:e.etablissement_id)),d=(null===e||void 0===e?void 0:e.categorie)||(null===e||void 0===e?void 0:e.titre)||"",u=(null===e||void 0===e?void 0:e.corps)||"",h=xx(d),m=xx(u);return c(c({},e),{},{nom:(null===e||void 0===e||null===(t=e.nom)||void 0===t?void 0:t.trim())||"",im:(null===e||void 0===e||null===(n=e.im)||void 0===n?void 0:n.trim())||"",sexe:xx((null===e||void 0===e?void 0:e.sexe)||"M"),corps:m||u||"NON RENSEIGN\xc9",titre:h||d||"SANS TITRE",diplome:(null===e||void 0===e||null===(r=e.diplome)||void 0===r?void 0:r.trim())||"",specialite:(null===e||void 0===e||null===(a=e.specialite)||void 0===a?void 0:a.trim())||"",date_naissance:(null===e||void 0===e?void 0:e.date_naissance)||"",etablissement_id:null!==(i=null===e||void 0===e?void 0:e.etablissement_id)&&void 0!==i?i:null,faculte_nom:(null===o||void 0===o||null===(l=o.nom)||void 0===l?void 0:l.trim())||"Non assign\xe9",_original_titre:d,_original_corps:u,_original_diplome:null===e||void 0===e?void 0:e.diplome,_original_specialite:null===e||void 0===e?void 0:e.specialite})});v(i),console.log("\u2705 ".concat(i.length," enseignants charg\xe9s pour le RECAP"))}catch(e){console.error("Erreur lors de la recherche globale des enseignants:",e),v([])}else v([])})()},[l]),(0,t.useEffect)(()=>{const e=setTimeout(async()=>{if(l&&"RECAP"!==d){if(p&&0!==p.length)try{w(!0);const e=p.find(e=>e.nom===d);if(!e)return console.warn("\xc9tablissement non trouv\xe9 pour l'onglet:",d),void g([]);const t={universite_id:l.id,etablissement_id:e.id,per_page:1e4},s=await Vi.getAll(t),n=bx(s),r=(Array.isArray(n)?n:[]).map(e=>{var t,s,n,r,a,i;const l=p.find(t=>String(t.id)===String(null===e||void 0===e?void 0:e.etablissement_id)),o=(null===e||void 0===e?void 0:e.categorie)||(null===e||void 0===e?void 0:e.titre)||"",d=(null===e||void 0===e?void 0:e.corps)||"",u=xx(o),h=xx(d);return c(c({},e),{},{nom:(null===e||void 0===e||null===(t=e.nom)||void 0===t?void 0:t.trim())||"",im:(null===e||void 0===e||null===(s=e.im)||void 0===s?void 0:s.trim())||"",sexe:xx((null===e||void 0===e?void 0:e.sexe)||"M"),corps:h||d||"NON RENSEIGN\xc9",titre:u||o||"SANS TITRE",diplome:(null===e||void 0===e||null===(n=e.diplome)||void 0===n?void 0:n.trim())||"",specialite:(null===e||void 0===e||null===(r=e.specialite)||void 0===r?void 0:r.trim())||"",date_naissance:(null===e||void 0===e?void 0:e.date_naissance)||"",etablissement_id:null!==(a=null===e||void 0===e?void 0:e.etablissement_id)&&void 0!==a?a:null,faculte_nom:(null===l||void 0===l||null===(i=l.nom)||void 0===i?void 0:i.trim())||"Non assign\xe9",_original_titre:o,_original_corps:d,_original_diplome:null===e||void 0===e?void 0:e.diplome,_original_specialite:null===e||void 0===e?void 0:e.specialite})});g(r),((e,t)=>{console.log("=== DEBUG ".concat(t," ==="));const s=e.filter(e=>!e.titre||""===e.titre),n=e.filter(e=>!e.corps||""===e.corps);(s.length>0||n.length>0)&&(console.log("Total: ".concat(e.length)),console.log("Sans titre: ".concat(s.length)),console.log("Sans corps: ".concat(n.length)),s.slice(0,5).forEach((e,t)=>{console.log("Sans titre [".concat(t,"]:"),{id:e.id,nom:e.nom,original_titre:e._original_titre,original_corps:e._original_corps})}))})(r,"Faculte Teachers")}catch(e){console.error("Erreur lors du chargement des enseignants:",e),g([]),ye("Erreur de chargement des enseignants","error")}finally{w(!1)}}else g([])},300);return()=>clearTimeout(e)},[l,d,p]);const Se=(e,t)=>{if(!t)return!0;const s=gx(t),n={nom:gx(e.nom||""),im:gx(e.im||""),diplome:gx(e.diplome||""),specialite:gx(e.specialite||""),corps:gx(e.corps||""),titre:gx(e.titre||""),faculte_nom:gx(e.faculte_nom||""),sexe:gx(e.sexe||"")};return Object.values(n).some(e=>e.includes(s))},Ee=(0,t.useMemo)(()=>Array.isArray(b)?b.filter(e=>{const t=Se(e,k.search),s=!k.faculte||(e.faculte_nom||"")===k.faculte,n=!k.corps||xx(e.corps||e._original_corps||"")===xx(k.corps||""),r=e.titre||e._original_titre||"SANS TITRE",a=!k.titre||xx(r)===xx(k.titre||"");return t&&s&&n&&a}):[],[b,k]),Ce=(0,t.useMemo)(()=>{const e=[...Ee];return e.sort((e,t)=>{let s=e[_.field]||"",n=t[_.field]||"";return"string"===typeof s&&(s=s.toLowerCase()),"string"===typeof n&&(n=n.toLowerCase()),s<n?"asc"===_.direction?-1:1:s>n?"asc"===_.direction?1:-1:0}),e},[Ee,_]),_e=(0,t.useMemo)(()=>l&&"RECAP"!==d&&Array.isArray(x)?x.filter(e=>{const t=Se(e,E.search),s=!E.corps||xx((null===e||void 0===e?void 0:e.corps)||(null===e||void 0===e?void 0:e._original_corps)||"")===xx(E.corps||""),n=(null===e||void 0===e?void 0:e.titre)||(null===e||void 0===e?void 0:e._original_titre)||"SANS TITRE",r=!E.titre||xx(n)===xx(E.titre||"");return t&&s&&r}):[],[x,l,d,E]),Ae=(0,t.useMemo)(()=>{const e=[..._e];return e.sort((e,t)=>{let s=e[M.field]||"",n=t[M.field]||"";return"string"===typeof s&&(s=s.toLowerCase()),"string"===typeof n&&(n=n.toLowerCase()),s<n?"asc"===M.direction?-1:1:s>n?"asc"===M.direction?1:-1:0}),e},[_e,M]),Me=(de-1)*he,De=Me+he,Te=Ce.slice(Me,De),Re=Math.ceil(Ce.length/he),Pe=(0,t.useMemo)(()=>Math.max(1,Math.min(pe,Math.ceil(Ae.length/xe))),[pe,Ae.length,xe]),Oe=(Pe-1)*xe,Le=Oe+xe,Ie=Ae.slice(Oe,Le),ze=Math.ceil(Ae.length/xe),Fe=(0,t.useMemo)(()=>{if(!l)return{};const e=Array.isArray(b)?b:[],t=new Set;p.forEach(e=>{null!==e&&void 0!==e&&e.nom&&t.add(e.nom)}),e.forEach(e=>{const s=(null===e||void 0===e?void 0:e.faculte_nom)||"Non assign\xe9";t.add(s)});const s={};return Array.from(t).forEach(t=>{const n=e.filter(e=>((null===e||void 0===e?void 0:e.faculte_nom)||"Non assign\xe9")===t);s[t]={AES:n.filter(e=>{var t;return"AES"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,MC:n.filter(e=>{var t;return"MC"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,PES:n.filter(e=>{var t;return"PES"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,PT:n.filter(e=>{var t;return"PT"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,total:n.length,F:n.filter(e=>{var t;return"F"===(null!==(t=null===e||void 0===e?void 0:e.sexe)&&void 0!==t?t:"")}).length,M:n.filter(e=>{var t;return"M"===(null!==(t=null===e||void 0===e?void 0:e.sexe)&&void 0!==t?t:"")}).length}}),s},[l,p,b]),Ue=e=>{const t={};if(!Array.isArray(e))return t;e.forEach(e=>{let s=null===e||void 0===e?void 0:e.titre;s&&""!==s.trim()||(s=(null===e||void 0===e?void 0:e._original_titre)||"SANS TITRE");const n=xx(s)||"SANS TITRE";t[n]||(t[n]=[]),t[n].push(e)});const s={};[...fx.map(e=>xx(e)),"SANS TITRE","AUTRES TITRES"].forEach(e=>{t[e]&&(s[e]=t[e],delete t[e])});const n=Object.keys(t);return n.length>0&&(s["AUTRES TITRES"]=[],n.forEach(e=>{s["AUTRES TITRES"].push(...t[e])})),s},Be=(0,t.useMemo)(()=>Ue(Te),[Te]),Ve=(0,t.useMemo)(()=>Ue(Ie),[Ie]),He=async()=>{if(se.nom&&se.code)try{var e;const t=await Wi.create(se),s=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;m(e=>[...e,s]),R(!1),ne({nom:"",province:hx[0],code:""}),ye("Universit\xe9 ajout\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de l'ajout de l'universit\xe9:",t),ye("Erreur lors de l'ajout de l'universit\xe9","error")}else ye("Veuillez remplir tous les champs obligatoires","error")},We=async()=>{if(se.nom&&Y)try{var e;const t=await Wi.update(Y.id,se),s=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;m(e=>e.map(e=>e.id===Y.id?s:e)),F(!1),J(null),ne({nom:"",province:hx[0],code:""}),ye("Universit\xe9 modifi\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de la modification de l'universit\xe9:",t),ye("Erreur lors de la modification de l'universit\xe9","error")}else ye("Veuillez remplir tous les champs obligatoires","error")},qe=e=>{Q(e),H(!0)},Ye=e=>{Q(e),ce(c(c({},e),{},{date_naissance:ke(null===e||void 0===e?void 0:e.date_naissance)})),q(!0)},Je=e=>{var t,s;$({isOpen:!0,title:"Suppression d'Enseignant",message:"\xcates-vous certain de vouloir supprimer l'enseignant :\n\n".concat(null!==(t=null===e||void 0===e?void 0:e.nom)&&void 0!==t?t:"","\nIM: ").concat(null!==(s=null===e||void 0===e?void 0:e.im)&&void 0!==s?s:"","\n\nCette action est irr\xe9versible et entra\xeenera la perte d\xe9finitive de toutes les donn\xe9es associ\xe9es \xe0 cet enseignant."),onConfirm:async()=>{try{await Vi.delete(e.id),g(t=>t.filter(t=>t.id!==e.id)),ye("Enseignant supprim\xe9 avec succ\xe8s","success")}catch(t){console.error("Erreur lors de la suppression de l'enseignant:",t),ye("Erreur lors de la suppression de l'enseignant","error")}}})};(0,t.useEffect)(()=>{fe(1)},[d,xe,k,E]);const Ke=(0,t.useMemo)(()=>p.map(e=>e.nom),[p]);return y&&"selection"===a&&0===h.length?(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)(Jr,{className:"w-16 h-16 text-blue-600 animate-spin mx-auto mb-4"}),(0,kt.jsx)("p",{className:"text-xl text-gray-700",children:"Chargement des donn\xe9es..."})]})}):j&&"selection"===a&&0===h.length?(0,kt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)(Pt,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,kt.jsx)("p",{className:"text-xl text-gray-700 mb-4",children:j}),(0,kt.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"R\xe9essayer"})]})}):"selection"===a?(0,kt.jsxs)("div",{className:"space-y-6 p-2",children:[(0,kt.jsx)("div",{className:"fixed top-5 right-5 z-[60]",children:ee.show&&(0,kt.jsx)(vx,{message:ee.message,type:ee.type,onClose:()=>te(c(c({},ee),{},{show:!1}))})}),(0,kt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestion des Universit\xe9s"}),(0,kt.jsx)("p",{className:"text-gray-500 text-sm",children:"S\xe9lectionnez un \xe9tablissement pour acc\xe9der \xe0 son personnel."})]}),(0,kt.jsxs)("button",{onClick:()=>R(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg shadow-sm font-medium transition-all",children:[(0,kt.jsx)(hf,{size:20})," Nouvelle Universit\xe9"]})]}),(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(e=>(0,kt.jsxs)("div",{className:"group bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 transition-all duration-200 relative",children:[(0,kt.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,kt.jsxs)(jx,{trigger:(0,kt.jsx)(ox,{size:18,className:"text-gray-400"}),children:[(0,kt.jsx)(Nx,{icon:(0,kt.jsx)(cf,{size:16}),label:"Modifier",onClick:()=>(e=>{J(e),ne({nom:e.nom,province:e.province,code:e.code}),F(!0)})(e)}),(0,kt.jsx)(Nx,{icon:(0,kt.jsx)(df,{size:16}),label:"Supprimer",onClick:()=>{return t=e.id,void $({isOpen:!0,title:"Suppression d'Universit\xe9",message:"\xcates-vous certain de vouloir supprimer d\xe9finitivement cette universit\xe9 ?\n\nCette action entra\xeenera la suppression de :\n\u2022 Toutes les facult\xe9s associ\xe9es\n\u2022 Tous les enseignants rattach\xe9s\n\u2022 Toutes les donn\xe9es li\xe9es\n\nCette op\xe9ration est irr\xe9versible.",onConfirm:async()=>{try{await Wi.delete(t),m(e=>e.filter(e=>e.id!==t)),ye("Universit\xe9 supprim\xe9e avec succ\xe8s","success")}catch(e){console.error("Erreur lors de la suppression de l'universit\xe9:",e),ye("Erreur lors de la suppression de l'universit\xe9","error")}}});var t},danger:!0})]})}),(0,kt.jsxs)("div",{onClick:()=>{o(e),i("dashboard_univ"),u("RECAP")},className:"cursor-pointer",children:[(0,kt.jsx)("div",{className:"flex items-start justify-between mb-4 pr-8",children:(0,kt.jsx)("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:scale-110 transition-transform",children:(0,kt.jsx)(Ii,{size:32})})}),(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,kt.jsx)("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-blue-600 flex-1 pr-2",children:e.nom}),(0,kt.jsx)("span",{className:"text-xs font-bold text-white bg-blue-600 px-2 py-1 rounded shrink-0",children:e.code})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[(0,kt.jsx)(Rr,{size:16})," ",e.province]})]})]},e.id))}),(0,kt.jsx)(yx,{isOpen:T,onClose:()=>R(!1),title:"Ajouter une Universit\xe9",children:(0,kt.jsxs)("div",{className:"space-y-5",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de l'Universit\xe9 ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,kt.jsx)(Ii,{className:"h-5 w-5 text-gray-400"})}),(0,kt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:se.nom,onChange:e=>ne(c(c({},se),{},{nom:e.target.value})),placeholder:"Ex: Universit\xe9 de Mahajanga",required:!0})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Province ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,kt.jsx)(Rr,{className:"h-5 w-5 text-gray-400"})}),(0,kt.jsx)("select",{className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none appearance-none bg-white",value:se.province,onChange:e=>ne(c(c({},se),{},{province:e.target.value})),required:!0,children:hx.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Code ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,kt.jsx)(cx,{className:"h-5 w-5 text-gray-400"})}),(0,kt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:se.code,onChange:e=>ne(c(c({},se),{},{code:e.target.value})),placeholder:"Ex: UM",maxLength:5,required:!0})]})]})]}),(0,kt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,kt.jsx)("button",{onClick:()=>R(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,kt.jsx)("button",{onClick:He,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg font-semibold transition-all shadow-md",children:"Enregistrer"})]})]})}),(0,kt.jsx)(yx,{isOpen:z,onClose:()=>F(!1),title:"Modifier l'Universit\xe9",children:(0,kt.jsxs)("div",{className:"space-y-5",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de l'Universit\xe9 ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,kt.jsx)(Ii,{className:"h-5 w-5 text-gray-400"})}),(0,kt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:se.nom,onChange:e=>ne(c(c({},se),{},{nom:e.target.value})),placeholder:"Ex: Universit\xe9 de Mahajanga",required:!0})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Province ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,kt.jsx)(Rr,{className:"h-5 w-5 text-gray-400"})}),(0,kt.jsx)("select",{className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none appearance-none bg-white",value:se.province,onChange:e=>ne(c(c({},se),{},{province:e.target.value})),required:!0,children:hx.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Code ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,kt.jsx)(cx,{className:"h-5 w-5 text-gray-400"})}),(0,kt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:se.code,onChange:e=>ne(c(c({},se),{},{code:e.target.value})),placeholder:"Ex: UM",maxLength:5,required:!0})]})]})]}),(0,kt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,kt.jsx)("button",{onClick:()=>F(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,kt.jsx)("button",{onClick:We,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg font-semibold transition-all shadow-md",children:"Mettre \xe0 jour"})]})]})}),(0,kt.jsx)(wx,{isOpen:Z.isOpen,onClose:()=>$({isOpen:!1,title:"",message:"",onConfirm:null}),onConfirm:Z.onConfirm,title:Z.title,message:Z.message,type:"danger"})]}):(0,kt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,kt.jsx)("div",{className:"fixed top-5 right-5 z-[60]",children:ee.show&&(0,kt.jsx)(vx,{message:ee.message,type:ee.type,onClose:()=>te(c(c({},ee),{},{show:!1}))})}),(0,kt.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,kt.jsx)("button",{onClick:()=>i("selection"),className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:(0,kt.jsx)(_r,{size:24})}),(0,kt.jsx)("div",{className:"flex-1",children:(0,kt.jsxs)("div",{className:"text-center space-y-1",children:[(0,kt.jsx)("h2",{className:"text-sm font-bold text-gray-800 uppercase",children:"LISTE DES ENSEIGNANTS CHERCHEURS PERMANENTS"}),(0,kt.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,kt.jsx)("span",{className:"font-semibold",children:"UNIVERSITE:"})," ",l.nom.toUpperCase()]}),"RECAP"!==d&&(0,kt.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,kt.jsx)("span",{className:"font-semibold",children:"ETABLISSEMENT:"})," ",d]}),(0,kt.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,kt.jsx)("span",{className:"font-semibold",children:"ANNEE:"})," 2025"]})]})}),(0,kt.jsxs)("button",{onClick:()=>O(!0),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[(0,kt.jsx)(hf,{size:18})," Ajouter Facult\xe9"]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-1 flex-wrap pb-1 border-t pt-3",children:[(0,kt.jsxs)("button",{onClick:()=>{u("RECAP"),fe(1)},className:"px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors whitespace-nowrap ".concat("RECAP"===d?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-100"),children:[(0,kt.jsx)(dx,{size:16}),"VUE D'ENSEMBLE"]}),(0,kt.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-2"}),Ke.map(e=>(0,kt.jsxs)("div",{className:"relative group",children:[(0,kt.jsx)("button",{onClick:()=>{u(e),fe(1),ve("")},className:"px-2 py-1 rounded-md text-xs font-medium transition-colors text-gray-700 hover:bg-blue-50 ".concat(d===e?"bg-blue-600 text-white shadow-md":""),children:(0,kt.jsx)("span",{className:"whitespace-normal break-words",children:e})}),(0,kt.jsxs)("div",{className:"absolute -top-2 -right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,kt.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=p.find(t=>(null===t||void 0===t?void 0:t.nom)===e);t&&(G(t),ae(t.nom),B(!0))})(e)},className:"bg-orange-500 text-white rounded-full p-0.5",title:"Modifier facult\xe9",children:(0,kt.jsx)(cf,{size:12})}),(0,kt.jsx)("button",{onClick:()=>(e=>{const t=p.find(t=>(null===t||void 0===t?void 0:t.nom)===e);null!==t&&void 0!==t&&t.id&&$({isOpen:!0,title:"Suppression de Facult\xe9",message:'\xcates-vous certain de vouloir supprimer la facult\xe9 "'.concat(e,'" ?\n\nTous les enseignants de cette facult\xe9 seront \xe9galement supprim\xe9s.\n\nCette action est irr\xe9versible.'),onConfirm:async()=>{try{await Yi.delete(t.id),f(e=>e.filter(e=>e.id!==t.id)),d===e&&u("RECAP"),ye("Facult\xe9 supprim\xe9e avec succ\xe8s","success")}catch(s){console.error("Erreur lors de la suppression de la facult\xe9:",s),ye("Erreur lors de la suppression de la facult\xe9","error")}}})})(e),className:"bg-red-500 text-white rounded-full p-0.5",title:"Supprimer facult\xe9",children:(0,kt.jsx)(Lt,{size:12})})]})]},e))]})]}),(0,kt.jsxs)("div",{className:"flex-1 overflow-auto bg-gray-50 p-6",children:["RECAP"===d&&(0,kt.jsxs)("div",{className:"space-y-8",children:[(0,kt.jsxs)("div",{className:"bg-white border border-gray-300 rounded-xl overflow-hidden shadow-sm",children:[(0,kt.jsx)("div",{className:"px-4 py-3 bg-blue-50 border-b",children:(0,kt.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,kt.jsxs)("div",{children:[(0,kt.jsx)("div",{className:"text-sm font-bold text-blue-800",children:"TABLEAU R\xc9CAPITULATIF DES ENSEIGNANTS PAR FACULT\xc9"}),(0,kt.jsx)("div",{className:"mt-1 text-xs font-semibold text-gray-700",children:l.nom.toUpperCase()}),(0,kt.jsx)("div",{className:"mt-1 text-xs text-gray-600",children:"ANN\xc9E 2025"})]})})}),(0,kt.jsx)("div",{className:"overflow-x-auto",children:(0,kt.jsxs)("table",{className:"w-full text-[11px] border-collapse",children:[(0,kt.jsxs)("thead",{children:[(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{rowSpan:2,className:"border border-gray-400 bg-gray-200 px-2 py-1.5 text-left align-middle font-bold text-gray-800 min-w-[150px]",children:"FACULT\xc9S / \xc9TABLISSEMENTS"}),(0,kt.jsx)("th",{colSpan:4,className:"border border-gray-400 bg-gray-200 px-2 py-1.5 text-center font-bold text-gray-800",children:"CORPS D'ENSEIGNANTS"}),(0,kt.jsx)("th",{rowSpan:2,className:"border border-gray-400 bg-gray-200 px-2 py-1.5 text-center font-bold text-gray-800",children:"TOTAL"}),(0,kt.jsx)("th",{colSpan:2,className:"border border-gray-400 bg-gray-200 px-2 py-1.5 text-center font-bold text-gray-800",children:"GENRE"})]}),(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-1 py-0.5 text-center font-semibold text-gray-700",children:"AES"}),(0,kt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-1 py-0.5 text-center font-semibold text-gray-700",children:"MC"}),(0,kt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-1 py-0.5 text-center font-semibold text-gray-700",children:"PES"}),(0,kt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-1 py-0.5 text-center font-semibold text-gray-700",children:"PT"}),(0,kt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-1 py-0.5 text-center font-semibold text-gray-700",children:"Fem."}),(0,kt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-1 py-0.5 text-center font-semibold text-gray-700",children:"Masc."})]})]}),(0,kt.jsxs)("tbody",{children:[Object.keys(Fe||{}).map(e=>{const t=Fe[e];return(0,kt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,kt.jsx)("td",{className:"border border-gray-300 px-2 py-1.5 text-left font-semibold text-gray-800",children:e}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-gray-700",children:t.AES}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-gray-700",children:t.MC}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-gray-700",children:t.PES}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-gray-700",children:t.PT}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center font-semibold text-gray-800",children:t.total}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-gray-700",children:t.F}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-gray-700",children:t.M})]},e)}),(0,kt.jsxs)("tr",{className:"font-bold bg-blue-50",children:[(0,kt.jsx)("td",{className:"border border-gray-300 px-2 py-1.5 text-left text-blue-800",children:"TOTAL G\xc9N\xc9RAL"}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-blue-800",children:Object.values(Fe||{}).reduce((e,t)=>e+t.AES,0)}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-blue-800",children:Object.values(Fe||{}).reduce((e,t)=>e+t.MC,0)}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-blue-800",children:Object.values(Fe||{}).reduce((e,t)=>e+t.PES,0)}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-blue-800",children:Object.values(Fe||{}).reduce((e,t)=>e+t.PT,0)}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-blue-800",children:Object.values(Fe||{}).reduce((e,t)=>e+t.total,0)}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-blue-800",children:Object.values(Fe||{}).reduce((e,t)=>e+t.F,0)}),(0,kt.jsx)("td",{className:"border border-gray-300 px-1 py-1 text-center text-blue-800",children:Object.values(Fe||{}).reduce((e,t)=>e+t.M,0)})]})]})]})})]}),(0,kt.jsxs)("div",{className:"bg-white border border-gray-300 rounded-xl overflow-hidden shadow-sm",children:[(0,kt.jsx)("div",{className:"px-6 py-4 bg-blue-50 border-b",children:(0,kt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h3",{className:"text-sm font-bold text-blue-800 uppercase",children:"LISTE D\xc9TAILL\xc9E DE TOUS LES ENSEIGNANTS"}),(0,kt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Filtrez et triez la liste compl\xe8te des enseignants de l'universit\xe9"})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-600",children:"Afficher \xe9l\xe9ments:"}),(0,kt.jsx)("span",{className:"inline-block bg-white border border-gray-200 px-2 py-1 rounded text-xs font-semibold text-gray-800",children:Ce.length})]})]})}),(0,kt.jsxs)("div",{className:"p-4 border-b bg-gray-50",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recherche par nom/IM"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Nom, IM, dipl\xf4me, sp\xe9cialit\xe9...",value:k.search,onChange:e=>S(t=>c(c({},t),{},{search:e.target.value}))})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Facult\xe9"}),(0,kt.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:k.faculte,onChange:e=>S(t=>c(c({},t),{},{faculte:e.target.value})),children:[(0,kt.jsx)("option",{value:"",children:"Toutes les facult\xe9s"}),Ke.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Corps"}),(0,kt.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:k.corps,onChange:e=>S(t=>c(c({},t),{},{corps:e.target.value})),children:[(0,kt.jsx)("option",{value:"",children:"Tous les corps"}),(0,kt.jsx)("option",{value:"AES",children:"AES"}),(0,kt.jsx)("option",{value:"MC",children:"MC"}),(0,kt.jsx)("option",{value:"PE",children:"PE"}),(0,kt.jsx)("option",{value:"PES",children:"PES"}),(0,kt.jsx)("option",{value:"PT",children:"PT"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Titre"}),(0,kt.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:k.titre,onChange:e=>S(t=>c(c({},t),{},{titre:e.target.value})),children:[(0,kt.jsx)("option",{value:"",children:"Tous les titres"}),(0,kt.jsx)("option",{value:"ASSISTANT D'ENSEIGNEMENT SUPERIEUR",children:"ASSISTANT D'ENSEIGNEMENT SUPERIEUR"}),(0,kt.jsx)("option",{value:"MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR",children:"MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR"}),(0,kt.jsx)("option",{value:"PROFESSEUR D'ENSEIGNEMENT SUPERIEUR",children:"PROFESSEUR D'ENSEIGNEMENT SUPERIEUR"}),(0,kt.jsx)("option",{value:"PROFESSEUR \xc9M\xc9RITE",children:"PROFESSEUR \xc9M\xc9RITE"}),(0,kt.jsx)("option",{value:"PROFESSEUR TITULAIRE",children:"PROFESSEUR TITULAIRE"})]})]})]}),(k.search||k.faculte||k.corps||k.titre)&&(0,kt.jsx)("div",{children:(0,kt.jsxs)("button",{onClick:()=>S({search:"",faculte:"",corps:"",titre:""}),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[(0,kt.jsx)(Lt,{size:14})," R\xe9initialiser les filtres"]})})]}),(0,kt.jsx)("div",{className:"px-4 pb-4 bg-gray-50",children:(0,kt.jsx)("div",{className:"flex justify-end",children:(0,kt.jsxs)("div",{className:"text-sm text-gray-700",children:["Affichage de"," ",(0,kt.jsx)("span",{className:"font-medium",children:Ce.length>0?Me+1:0})," ","\xe0"," ",(0,kt.jsx)("span",{className:"font-medium",children:Math.min(De,Ce.length)})," ","sur"," ",(0,kt.jsx)("span",{className:"font-medium",children:Ce.length})," ","enseignants"]})})}),(0,kt.jsxs)("div",{className:"overflow-x-auto",children:[(0,kt.jsxs)("table",{className:"w-full border-collapse min-w-[1100px]",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{className:"bg-gray-50 text-gray-600 border-b border-gray-200",children:[(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-12 text-center font-medium text-[10px] uppercase tracking-wide",children:"N\xb0"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 text-center font-medium text-[10px] uppercase tracking-wide cursor-pointer hover:bg-gray-100",onClick:()=>{return e="nom",void A(t=>({field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"}));var e},children:(0,kt.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["Nom","nom"===_.field&&(0,kt.jsx)("span",{className:"text-xs",children:"asc"===_.direction?"\u2191":"\u2193"})]})}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-16 text-center font-medium text-[10px] uppercase tracking-wide",children:"Sexe"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-24 text-center font-medium text-[10px] uppercase tracking-wide",children:"IM"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-20 text-center font-medium text-[10px] uppercase tracking-wide",children:"Corps"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 text-center font-medium text-[10px] uppercase tracking-wide",children:"Facult\xe9"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 text-center font-medium text-[10px] uppercase tracking-wide",children:"Titre"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-32 text-center font-medium text-[10px] uppercase tracking-wide",children:"Dipl\xf4mes"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-40 text-center font-medium text-[10px] uppercase tracking-wide",children:"Sp\xe9cialit\xe9s"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 text-center w-28 font-medium text-[10px] uppercase tracking-wide",children:"Actions"})]})}),(0,kt.jsx)("tbody",{className:"divide-y divide-gray-100",children:y?(0,kt.jsx)("tr",{children:(0,kt.jsxs)("td",{colSpan:10,className:"px-4 py-8 text-center",children:[(0,kt.jsx)(Jr,{className:"animate-spin text-blue-600 mx-auto",size:24}),(0,kt.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Chargement des donn\xe9es..."})]})}):Object.keys(Be).length>0?Object.keys(Be).map(e=>{const s=Be[e];return(0,kt.jsxs)(t.Fragment,{children:[(0,kt.jsx)("tr",{className:"bg-blue-600",children:(0,kt.jsx)("td",{colSpan:10,className:"px-4 py-2 text-[11px] font-bold text-white uppercase text-center tracking-wide",children:e})}),s.map((e,t)=>(0,kt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:Me+t+1}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-medium text-[13px] text-gray-800",children:e.nom}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:e.sexe}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-mono text-[12px] text-gray-600",children:e.im}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-semibold text-[13px] text-gray-800",children:e.corps}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:e.faculte_nom}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-semibold text-[13px] text-blue-700",children:e.titre}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[12px] text-gray-600",children:e.diplome}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[12px] text-gray-600",children:e.specialite}),(0,kt.jsx)("td",{className:"px-2 py-3 text-center",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,kt.jsx)("button",{onClick:()=>qe(e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Afficher",children:(0,kt.jsx)(Pr,{size:15})}),(0,kt.jsx)("button",{onClick:()=>Ye(e),className:"p-1.5 text-orange-500 hover:bg-orange-50 rounded transition-colors",title:"Modifier",children:(0,kt.jsx)(cf,{size:15})}),(0,kt.jsx)("button",{onClick:()=>Je(e),className:"p-1.5 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Supprimer",children:(0,kt.jsx)(df,{size:15})})]})})]},e.id))]},e)}):(0,kt.jsx)("tr",{children:(0,kt.jsx)("td",{colSpan:10,className:"p-8 text-center text-gray-500 text-sm",children:k.search||k.faculte||k.corps||k.titre?"Aucun enseignant trouv\xe9 avec les filtres s\xe9lectionn\xe9s.":"Aucun enseignant dans cette universit\xe9."})})})]}),(0,kt.jsxs)("div",{className:"p-4 border-t bg-gray-50 flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"text-sm text-gray-700",children:["Affichage de"," ",(0,kt.jsx)("span",{className:"font-medium",children:Ce.length>0?(de-1)*he+1:0})," ","\xe0"," ",(0,kt.jsx)("span",{className:"font-medium",children:Math.min(de*he,Ce.length)})," ","sur"," ",(0,kt.jsx)("span",{className:"font-medium",children:Ce.length})," ","enseignants"]}),Re>1&&(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,kt.jsx)("button",{onClick:()=>ue(e=>Math.max(1,e-1)),disabled:1===de,className:"p-2 border rounded-md disabled:opacity-50 hover:bg-gray-100",children:(0,kt.jsx)(Rt,{className:"w-4 h-4"})}),(()=>{const e=[];if(Re<=7)for(let t=1;t<=Re;t++)e.push(t);else{e.push(1);let t=Math.max(2,de-2),s=Math.min(Re-1,de+2);de<=3&&(s=5),de>=Re-2&&(t=Re-5+1),t>2&&e.push("...");for(let n=t;n<=s;n++)e.push(n);s<Re-1&&e.push("..."),e.push(Re)}return e.map((e,t)=>"..."===e?(0,kt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,kt.jsx)("button",{onClick:()=>ue(e),className:"px-3 py-1 text-sm border rounded-md ".concat(de===e?"bg-blue-600 text-white border-blue-600":"bg-white hover:bg-gray-50"),children:e},e))})(),(0,kt.jsx)("button",{onClick:()=>ue(e=>Math.min(Re,e+1)),disabled:de===Re,className:"p-2 border rounded-md disabled:opacity-50 hover:bg-gray-100",children:(0,kt.jsx)(Vr,{className:"w-4 h-4"})})]})]})]})]})]}),"RECAP"!==d&&(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[(0,kt.jsx)("div",{className:"flex justify-end mb-3"}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recherche par nom/IM"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none",placeholder:"Nom, IM, dipl\xf4me, sp\xe9cialit\xe9...",value:E.search,onChange:e=>C(t=>c(c({},t),{},{search:e.target.value}))})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Corps"}),(0,kt.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:E.corps,onChange:e=>C(t=>c(c({},t),{},{corps:e.target.value})),children:[(0,kt.jsx)("option",{value:"",children:"Tous les corps"}),(0,kt.jsx)("option",{value:"AES",children:"AES"}),(0,kt.jsx)("option",{value:"MC",children:"MC"}),(0,kt.jsx)("option",{value:"PE",children:"PE"}),(0,kt.jsx)("option",{value:"PES",children:"PES"}),(0,kt.jsx)("option",{value:"PT",children:"PT"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Titre"}),(0,kt.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:E.titre,onChange:e=>C(t=>c(c({},t),{},{titre:e.target.value})),children:[(0,kt.jsx)("option",{value:"",children:"Tous les titres"}),(0,kt.jsx)("option",{value:"ASSISTANT D'ENSEIGNEMENT SUPERIEUR",children:"ASSISTANT D'ENSEIGNEMENT SUPERIEUR"}),(0,kt.jsx)("option",{value:"MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR",children:"MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR"}),(0,kt.jsx)("option",{value:"PROFESSEUR D'ENSEIGNEMENT SUPERIEUR",children:"PROFESSEUR D'ENSEIGNEMENT SUPERIEUR"}),(0,kt.jsx)("option",{value:"PROFESSEUR \xc9M\xc9RITE",children:"PROFESSEUR \xc9M\xc9RITE"}),(0,kt.jsx)("option",{value:"PROFESSEUR TITULAIRE",children:"PROFESSEUR TITULAIRE"})]})]}),(0,kt.jsx)("div",{className:"flex items-end",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,kt.jsx)("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:"Par page:"}),(0,kt.jsxs)("select",{value:xe,onChange:e=>{ge(Number(e.target.value)),fe(1)},className:"px-2 py-1.5 border border-gray-300 rounded-md text-xs bg-white focus:ring-1 focus:ring-blue-500 outline-none",children:[(0,kt.jsx)("option",{value:10,children:"10"}),(0,kt.jsx)("option",{value:30,children:"30"}),(0,kt.jsx)("option",{value:50,children:"50"}),(0,kt.jsx)("option",{value:100,children:"100"}),(0,kt.jsx)("option",{value:200,children:"200"})]}),(0,kt.jsxs)("button",{onClick:()=>I(!0),className:"ml-auto flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-sm transition-colors",children:[(0,kt.jsx)(hf,{size:18})," Ajouter Enseignant"]})]})})]}),(E.search||E.corps||E.titre)&&(0,kt.jsx)("div",{children:(0,kt.jsxs)("button",{onClick:()=>C({search:"",corps:"",titre:""}),className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1",children:[(0,kt.jsx)(Lt,{size:14})," R\xe9initialiser les filtres"]})})]}),(0,kt.jsx)("div",{className:"bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:(0,kt.jsx)("div",{className:"flex justify-between items-center",children:(0,kt.jsxs)("div",{className:"text-sm text-gray-700",children:["Affichage de"," ",(0,kt.jsx)("span",{className:"font-medium",children:Ae.length>0?Oe+1:0})," ","\xe0"," ",(0,kt.jsx)("span",{className:"font-medium",children:Math.min(Le,Ae.length)})," ","sur"," ",(0,kt.jsx)("span",{className:"font-medium",children:Ae.length})," ","enseignants"]})})}),(0,kt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[y?(0,kt.jsx)("div",{className:"py-20 flex justify-center",children:(0,kt.jsx)(Jr,{className:"animate-spin text-blue-600",size:48})}):(0,kt.jsx)("div",{className:"overflow-x-auto",children:(0,kt.jsxs)("table",{className:"w-full border-collapse min-w-[1100px]",children:[(0,kt.jsx)("thead",{children:(0,kt.jsxs)("tr",{className:"bg-gray-50 text-gray-600 border-b border-gray-200",children:[(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-12 text-center font-medium text-[10px] uppercase tracking-wide",children:"N\xb0"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 text-center font-medium text-[10px] uppercase tracking-wide cursor-pointer hover:bg-gray-100",onClick:()=>{return e="nom",void D(t=>({field:e,direction:t.field===e&&"asc"===t.direction?"desc":"asc"}));var e},children:(0,kt.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["Nom","nom"===M.field&&(0,kt.jsx)("span",{className:"text-xs",children:"asc"===M.direction?"\u2191":"\u2193"})]})}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-16 text-center font-medium text-[10px] uppercase tracking-wide",children:"Sexe"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-24 text-center font-medium text-[10px] uppercase tracking-wide",children:"IM"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-20 text-center font-medium text-[10px] uppercase tracking-wide",children:"Corps"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-32 text-center font-medium text-[10px] uppercase tracking-wide",children:"Titre"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-32 text-center font-medium text-[10px] uppercase tracking-wide",children:"Dipl\xf4mes"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 text-center font-medium text-[10px] uppercase tracking-wide",children:"Sp\xe9cialit\xe9s"}),(0,kt.jsx)("th",{className:"px-3 py-2.5 text-center w-28 font-medium text-[10px] uppercase tracking-wide",children:"Actions"})]})}),(0,kt.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===Object.keys(Ve).length?(0,kt.jsx)("tr",{children:(0,kt.jsx)("td",{colSpan:9,className:"p-8 text-center text-gray-500 text-sm",children:E.search||E.corps||E.titre?"Aucun enseignant trouv\xe9 avec les filtres s\xe9lectionn\xe9s.":"Aucun enseignant dans cette facult\xe9."})}):Object.keys(Ve).map(e=>{const s=Ve[e];return(0,kt.jsxs)(t.Fragment,{children:[(0,kt.jsx)("tr",{className:"bg-blue-600",children:(0,kt.jsx)("td",{colSpan:9,className:"px-4 py-2 text-[11px] font-bold text-white uppercase text-center tracking-wide",children:e})}),s.map((e,t)=>(0,kt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:Oe+t+1}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-medium text-[13px] text-gray-800",children:e.nom}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:e.sexe}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-mono text-[12px] text-gray-600",children:e.im}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-semibold text-[13px] text-gray-800",children:e.corps}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-semibold text-[13px] text-blue-700",children:e.titre}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[12px] text-gray-600",children:e.diplome}),(0,kt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:e.specialite}),(0,kt.jsx)("td",{className:"px-2 py-3 text-center",children:(0,kt.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,kt.jsx)("button",{onClick:()=>qe(e),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Afficher",children:(0,kt.jsx)(Pr,{size:15})}),(0,kt.jsx)("button",{onClick:()=>Ye(e),className:"p-1.5 text-orange-500 hover:bg-orange-50 rounded transition-colors",title:"Modifier",children:(0,kt.jsx)(cf,{size:15})}),(0,kt.jsx)("button",{onClick:()=>Je(e),className:"p-1.5 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Supprimer",children:(0,kt.jsx)(df,{size:15})})]})})]},e.id))]},e)})})]})}),Ae.length>0&&(0,kt.jsxs)("div",{className:"p-4 border-t bg-gray-50 flex items-center justify-between",children:[(0,kt.jsxs)("div",{className:"text-sm text-gray-700",children:["Page"," ",(0,kt.jsx)("span",{className:"font-medium",children:Pe})," ","sur ",(0,kt.jsx)("span",{className:"font-medium",children:ze})," ","\u2022 Affichage de"," ",(0,kt.jsx)("span",{className:"font-medium",children:Ae.length>0?Oe+1:0})," ","\xe0"," ",(0,kt.jsx)("span",{className:"font-medium",children:Math.min(Le,Ae.length)})," ","sur"," ",(0,kt.jsx)("span",{className:"font-medium",children:Ae.length})," ","enseignants"]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsxs)("button",{onClick:()=>fe(e=>Math.max(1,e-1)),disabled:1===Pe,className:"px-3 py-1.5 border rounded-md disabled:opacity-50 hover:bg-gray-100 text-sm flex items-center gap-1",children:[(0,kt.jsx)(Rt,{className:"w-4 h-4"})," Pr\xe9c\xe9dent"]}),(0,kt.jsx)("div",{className:"flex items-center gap-1",children:(()=>{const e=[];if(ze<=7)for(let t=1;t<=ze;t++)e.push(t);else{e.push(1);let t=Math.max(2,Pe-2),s=Math.min(ze-1,Pe+2);Pe<=3&&(s=5),Pe>=ze-2&&(t=ze-5+1),t>2&&e.push("...");for(let n=t;n<=s;n++)e.push(n);s<ze-1&&e.push("..."),e.push(ze)}return e.map((e,t)=>"..."===e?(0,kt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,kt.jsx)("button",{onClick:()=>fe(e),className:"px-3 py-1 text-sm border rounded-md min-w-[36px] ".concat(Pe===e?"bg-blue-600 text-white border-blue-600":"bg-white hover:bg-gray-50"),children:e},e))})()}),(0,kt.jsxs)("button",{onClick:()=>fe(e=>Math.min(ze,e+1)),disabled:Pe===ze||0===ze,className:"px-3 py-1.5 border rounded-md disabled:opacity-50 hover:bg-gray-100 text-sm flex items-center gap-1",children:["Suivant ",(0,kt.jsx)(Vr,{className:"w-4 h-4"})]})]})]})]})]})]}),(0,kt.jsx)(yx,{isOpen:P,onClose:()=>O(!1),title:"Ajouter une Facult\xe9",size:"sm",children:(0,kt.jsxs)("div",{className:"space-y-5",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de la Facult\xe9 / \xc9tablissement"," ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,kt.jsx)(Ui,{className:"h-5 w-5 text-gray-400"})}),(0,kt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all",value:re,onChange:e=>ae(e.target.value),placeholder:"Ex: Droit, M\xe9decine...",required:!0})]})]}),(0,kt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,kt.jsx)("button",{onClick:()=>O(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,kt.jsx)("button",{onClick:async()=>{if(re&&l)try{var e;const t=await Yi.create({nom:re,universite_id:l.id}),s=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;f(e=>[...e,s]),O(!1),ae(""),ye("Facult\xe9 ajout\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de l'ajout de la facult\xe9:",t),ye("Erreur lors de l'ajout de la facult\xe9","error")}else ye("Veuillez saisir le nom de la facult\xe9","error")},className:"flex-1 px-4 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold transition-all shadow-md",children:"Enregistrer"})]})]})}),(0,kt.jsx)(yx,{isOpen:U,onClose:()=>{B(!1),G(null),ae("")},title:"Modifier la Facult\xe9",size:"sm",children:(0,kt.jsxs)("div",{className:"space-y-5",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de la Facult\xe9 / \xc9tablissement"," ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,kt.jsx)(Ui,{className:"h-5 w-5 text-gray-400"})}),(0,kt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all",value:re,onChange:e=>ae(e.target.value),placeholder:"Ex: Droit, M\xe9decine...",required:!0})]})]}),(0,kt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,kt.jsx)("button",{onClick:()=>{B(!1),G(null),ae("")},className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,kt.jsx)("button",{onClick:async()=>{if(re&&K)try{var e;const t=await Yi.update(K.id,{nom:re,universite_id:l.id}),s=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;f(e=>e.map(e=>e.id===K.id?s:e)),d===K.nom&&u(s.nom),B(!1),G(null),ae(""),ye("Facult\xe9 modifi\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de la modification de la facult\xe9:",t),ye("Erreur lors de la modification de la facult\xe9","error")}else ye("Veuillez saisir le nom de la facult\xe9","error")},className:"flex-1 px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg font-semibold transition-all shadow-md",children:"Mettre \xe0 jour"})]})]})}),(0,kt.jsx)(yx,{isOpen:L,onClose:()=>{I(!1),le({nom:"",sexe:"M",im:"",date_naissance:"",corps:"AES",diplome:"",specialite:"",titre:fx[0]})},title:"Ajouter un Enseignant - ".concat(d),size:"lg",children:(0,kt.jsxs)("div",{className:"space-y-3",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-1",children:[(0,kt.jsx)("h4",{className:"text-xs font-bold text-gray-800 uppercase tracking-wide",children:"Identit\xe9 & \xc9tat Civil"}),(0,kt.jsx)("span",{className:"text-[10px] text-gray-400",children:"* obligatoire"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,kt.jsxs)("div",{className:"md:col-span-2",children:[(0,kt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Nom complet ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Ar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none",value:ie.nom,onChange:e=>le(c(c({},ie),{},{nom:e.target.value.replace(/\d/g,"")})),placeholder:"Nom Pr\xe9nom",required:!0})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["IM ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(cx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none",value:ie.im,onChange:e=>le(c(c({},ie),{},{im:je(e.target.value)})),placeholder:"123456",maxLength:6,required:!0})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Sexe ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("select",{className:"w-full px-2 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:ie.sexe,onChange:e=>le(c(c({},ie),{},{sexe:e.target.value})),children:[(0,kt.jsx)("option",{value:"M",children:"Homme"}),(0,kt.jsx)("option",{value:"F",children:"Femme"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Naissance"}),(0,kt.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:ie.date_naissance,onChange:e=>le(c(c({},ie),{},{date_naissance:we(e.target.value)})),placeholder:"JJ/MM/AAAA",maxLength:10,required:!0})]})]})]}),(0,kt.jsxs)("div",{className:"pt-2",children:[(0,kt.jsx)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-1 mb-2",children:(0,kt.jsx)("h4",{className:"text-xs font-bold text-gray-800 uppercase tracking-wide",children:"Carri\xe8re & Dipl\xf4mes"})}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Corps ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:ie.corps,onChange:e=>{const t=e.target.value;le(c(c({},ie),{},{corps:t,titre:mx[t]||fx[0]}))},required:!0,children:px.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Titre ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:ie.titre,onChange:e=>le(c(c({},ie),{},{titre:e.target.value})),required:!0,children:fx.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Dipl\xf4me"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(ux,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:ie.diplome,onChange:e=>le(c(c({},ie),{},{diplome:e.target.value.replace(/\d/g,"")})),placeholder:"Ex: Doctorat",required:!0})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Sp\xe9cialit\xe9"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Fi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:ie.specialite,onChange:e=>le(c(c({},ie),{},{specialite:e.target.value})),placeholder:"Ex: Intelligence Artificielle",required:!0})]})]})]})]}),(0,kt.jsxs)("div",{className:"flex gap-3 pt-3 mt-2 border-t border-gray-100",children:[(0,kt.jsx)("button",{onClick:()=>I(!1),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-sm font-medium transition-colors",children:"Annuler"}),(0,kt.jsx)("button",{onClick:async()=>{if(!ie.nom||!ie.im||!ie.date_naissance||!ie.corps||!ie.diplome||!ie.specialite||!ie.titre)return void ye("Veuillez remplir tous les champs obligatoires","error");if(/\d/.test(ie.nom))return void ye("Le nom ne doit pas contenir de chiffres","error");if(/\d/.test(ie.diplome))return void ye("Le dipl\xf4me ne doit pas contenir de chiffres","error");const e=p.find(e=>(null===e||void 0===e?void 0:e.nom)===d);if(null!==e&&void 0!==e&&e.id)try{var t;const s={nom:ie.nom,sexe:ie.sexe,im:ie.im,date_naissance:Ne(ie.date_naissance),corps:ie.corps,diplome:ie.diplome,specialite:ie.specialite,categorie:ie.titre,universite_id:l.id,etablissement_id:e.id},n=await Vi.create(s),r=null!==(t=null===n||void 0===n?void 0:n.data)&&void 0!==t?t:n;g(t=>{var n,a,i,l,o,d,u,h,m,p,f,x,g,b;return[...t,c(c({},r),{},{nom:null!==(n=null!==(a=null===r||void 0===r?void 0:r.nom)&&void 0!==a?a:s.nom)&&void 0!==n?n:"",im:null!==(i=null!==(l=null===r||void 0===r?void 0:r.im)&&void 0!==l?l:s.im)&&void 0!==i?i:"",sexe:xx(null!==(o=null===r||void 0===r?void 0:r.sexe)&&void 0!==o?o:s.sexe),corps:xx(null!==(d=null===r||void 0===r?void 0:r.corps)&&void 0!==d?d:s.corps),titre:xx(null!==(u=null===r||void 0===r?void 0:r.categorie)&&void 0!==u?u:s.categorie),diplome:null!==(h=null!==(m=null===r||void 0===r?void 0:r.diplome)&&void 0!==m?m:s.diplome)&&void 0!==h?h:"",specialite:null!==(p=null!==(f=null===r||void 0===r?void 0:r.specialite)&&void 0!==f?f:s.specialite)&&void 0!==p?p:"",date_naissance:null!==(x=null!==(g=null===r||void 0===r?void 0:r.date_naissance)&&void 0!==g?g:s.date_naissance)&&void 0!==x?x:"",etablissement_id:null!==(b=null===r||void 0===r?void 0:r.etablissement_id)&&void 0!==b?b:e.id,_original_titre:s.categorie,_original_corps:s.corps})]}),I(!1),le({nom:"",sexe:"M",im:"",date_naissance:"",corps:"AES",diplome:"",specialite:"",titre:fx[0]}),ye("Enseignant ajout\xe9 avec succ\xe8s","success")}catch(r){if(console.error("\u274c ERREUR COMPL\xc8TE:",r),r.response){var s,n;if(console.error("\u274c Status:",r.response.status),console.error("\u274c R\xe9ponse backend:",r.response.data),null!==(s=r.response.data)&&void 0!==s&&s.errors){console.error("\u274c Erreurs de validation:",r.response.data.errors);const e=Object.entries(r.response.data.errors).map(e=>{let[t,s]=e;return"\u2022 ".concat(t,": ").concat(Array.isArray(s)?s.join(", "):s)}).join("\n");return void ye("Erreurs de validation:\n".concat(e),"error")}if(null!==(n=r.response.data)&&void 0!==n&&n.message)return void ye(r.response.data.message,"error")}ye("Erreur lors de l'ajout de l'enseignant","error")}else ye("\xc9tablissement non trouv\xe9","error")},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium transition-colors shadow-sm",children:"Enregistrer"})]})]})}),(0,kt.jsx)(yx,{isOpen:V,onClose:()=>{H(!1),Q(null)},title:"D\xe9tails de l'Enseignant",size:"md",children:X&&(0,kt.jsxs)("div",{className:"space-y-4",children:[(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Nom complet"}),(0,kt.jsx)("p",{className:"text-gray-800 font-semibold",children:null!==(e=null===X||void 0===X?void 0:X.nom)&&void 0!==e?e:"N/A"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Sexe"}),(0,kt.jsx)("p",{className:"text-gray-800 font-semibold",children:"F"===(null===X||void 0===X?void 0:X.sexe)?"Femme":"Homme"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"IM"}),(0,kt.jsx)("p",{className:"text-gray-800 font-semibold",children:null!==(s=null===X||void 0===X?void 0:X.im)&&void 0!==s?s:"N/A"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Date de naissance"}),(0,kt.jsx)("p",{className:"text-gray-800 font-semibold",children:ke(null===X||void 0===X?void 0:X.date_naissance)||"N/A"})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Corps"}),(0,kt.jsx)("p",{className:"text-gray-800 font-semibold",children:null!==(n=null===X||void 0===X?void 0:X.corps)&&void 0!==n?n:"N/A"})]}),(0,kt.jsxs)("div",{className:"col-span-2",children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Titre"}),(0,kt.jsx)("p",{className:"text-gray-800 font-semibold",children:null!==(r=null===X||void 0===X?void 0:X.titre)&&void 0!==r?r:"N/A"})]}),(0,kt.jsxs)("div",{className:"col-span-2",children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Dipl\xf4me"}),(0,kt.jsx)("p",{className:"text-gray-800",children:(null===X||void 0===X?void 0:X.diplome)||"Non renseign\xe9"})]}),(0,kt.jsxs)("div",{className:"col-span-2",children:[(0,kt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Sp\xe9cialit\xe9"}),(0,kt.jsx)("p",{className:"text-gray-800",children:(null===X||void 0===X?void 0:X.specialite)||"Non renseign\xe9"})]})]}),(0,kt.jsx)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:(0,kt.jsx)("button",{onClick:()=>{H(!1),Q(null)},className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Fermer"})})]})}),(0,kt.jsx)(yx,{isOpen:W,onClose:()=>{q(!1),Q(null),ce(null)},title:"Modifier l'Enseignant",size:"lg",children:(0,kt.jsxs)("div",{className:"space-y-3",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-1",children:[(0,kt.jsx)("h4",{className:"text-xs font-bold text-gray-800 uppercase tracking-wide",children:"Identit\xe9 & \xc9tat Civil"}),(0,kt.jsx)("span",{className:"text-[10px] text-gray-400",children:"* obligatoire"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,kt.jsxs)("div",{className:"md:col-span-2",children:[(0,kt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Nom complet ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Ar,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none",value:(null===oe||void 0===oe?void 0:oe.nom)||"",onChange:e=>ce(c(c({},oe),{},{nom:e.target.value.replace(/\d/g,"")})),required:!0})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["IM ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(cx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none",value:(null===oe||void 0===oe?void 0:oe.im)||"",onChange:e=>ce(c(c({},oe),{},{im:je(e.target.value)})),maxLength:6,required:!0})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Sexe ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsxs)("select",{className:"w-full px-2 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:(null===oe||void 0===oe?void 0:oe.sexe)||"M",onChange:e=>ce(c(c({},oe),{},{sexe:e.target.value})),children:[(0,kt.jsx)("option",{value:"M",children:"Homme"}),(0,kt.jsx)("option",{value:"F",children:"Femme"})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Naissance"}),(0,kt.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:(null===oe||void 0===oe?void 0:oe.date_naissance)||"",onChange:e=>ce(c(c({},oe),{},{date_naissance:we(e.target.value)})),placeholder:"JJ/MM/AAAA",maxLength:10,required:!0})]})]})]}),(0,kt.jsxs)("div",{className:"pt-2",children:[(0,kt.jsx)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-1 mb-2",children:(0,kt.jsx)("h4",{className:"text-xs font-bold text-gray-800 uppercase tracking-wide",children:"Carri\xe8re & Dipl\xf4mes"})}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Corps ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:(null===oe||void 0===oe?void 0:oe.corps)||"AES",onChange:e=>{const t=e.target.value;ce(c(c({},oe),{},{corps:t,titre:mx[t]||fx[0]}))},required:!0,children:px.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Titre ",(0,kt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,kt.jsx)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:(null===oe||void 0===oe?void 0:oe.titre)||fx[0],onChange:e=>ce(c(c({},oe),{},{titre:e.target.value})),required:!0,children:fx.map(e=>(0,kt.jsx)("option",{value:e,children:e},e))})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Dipl\xf4me"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(ux,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:(null===oe||void 0===oe?void 0:oe.diplome)||"",onChange:e=>ce(c(c({},oe),{},{diplome:e.target.value.replace(/\d/g,"")})),required:!0})]})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Sp\xe9cialit\xe9"}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Fi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,kt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:(null===oe||void 0===oe?void 0:oe.specialite)||"",onChange:e=>ce(c(c({},oe),{},{specialite:e.target.value})),required:!0})]})]})]})]}),(0,kt.jsxs)("div",{className:"flex gap-3 pt-3 mt-2 border-t border-gray-100",children:[(0,kt.jsx)("button",{onClick:()=>{q(!1),Q(null),ce(null)},className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-sm font-medium transition-colors",children:"Annuler"}),(0,kt.jsx)("button",{onClick:async()=>{if(null!==oe&&void 0!==oe&&oe.nom&&null!==oe&&void 0!==oe&&oe.im&&null!==oe&&void 0!==oe&&oe.date_naissance&&null!==oe&&void 0!==oe&&oe.corps&&null!==oe&&void 0!==oe&&oe.diplome&&null!==oe&&void 0!==oe&&oe.specialite&&null!==oe&&void 0!==oe&&oe.titre)if(6===oe.im.length)if(/\d/.test((null===oe||void 0===oe?void 0:oe.nom)||""))ye("Le nom ne doit pas contenir de chiffres","error");else if(/\d/.test((null===oe||void 0===oe?void 0:oe.diplome)||""))ye("Le dipl\xf4me ne doit pas contenir de chiffres","error");else try{var e,t,s;const n=oe.corps.toUpperCase(),r=Sx(n),a={nom:oe.nom.trim(),sexe:oe.sexe.toUpperCase(),im:oe.im.trim(),date_naissance:Ne(oe.date_naissance),corps:n,diplome:oe.diplome.trim(),specialite:oe.specialite.trim(),categorie:r,universite_id:l.id,etablissement_id:X.etablissement_id||X.etablissementid},i=await Vi.update(X.id,a),o=null!==(e=null===i||void 0===i?void 0:i.data)&&void 0!==e?e:i,d=xx(null!==(t=null===o||void 0===o?void 0:o.categorie)&&void 0!==t?t:a.categorie),u=xx(null!==(s=null===o||void 0===o?void 0:o.corps)&&void 0!==s?s:a.corps);g(e=>e.map(e=>{var t,s,n,r,i,l,h,m,p;return e.id===X.id?c(c(c({},e),o),{},{nom:null!==(t=null===o||void 0===o?void 0:o.nom)&&void 0!==t?t:a.nom,im:null!==(s=null===o||void 0===o?void 0:o.im)&&void 0!==s?s:a.im,diplome:null!==(n=null===o||void 0===o?void 0:o.diplome)&&void 0!==n?n:a.diplome,specialite:null!==(r=null===o||void 0===o?void 0:o.specialite)&&void 0!==r?r:a.specialite,titre:d,corps:u,sexe:xx(null!==(i=null===o||void 0===o?void 0:o.sexe)&&void 0!==i?i:a.sexe),date_naissance:null!==(l=null===o||void 0===o?void 0:o.date_naissance)&&void 0!==l?l:a.date_naissance,etablissementid:null!==(h=null===o||void 0===o?void 0:o.etablissement_id)&&void 0!==h?h:a.etablissement_id,facultenom:e.facultenom,originaltitre:null!==(m=null===o||void 0===o?void 0:o.categorie)&&void 0!==m?m:a.categorie,originalcorps:null!==(p=null===o||void 0===o?void 0:o.corps)&&void 0!==p?p:a.corps}):e})),v(e=>e.map(e=>{var t,s,n,r,i,l,h,m,p;return e.id===X.id?c(c(c({},e),o),{},{nom:null!==(t=null===o||void 0===o?void 0:o.nom)&&void 0!==t?t:a.nom,im:null!==(s=null===o||void 0===o?void 0:o.im)&&void 0!==s?s:a.im,diplome:null!==(n=null===o||void 0===o?void 0:o.diplome)&&void 0!==n?n:a.diplome,specialite:null!==(r=null===o||void 0===o?void 0:o.specialite)&&void 0!==r?r:a.specialite,titre:d,corps:u,sexe:xx(null!==(i=null===o||void 0===o?void 0:o.sexe)&&void 0!==i?i:a.sexe),date_naissance:null!==(l=null===o||void 0===o?void 0:o.date_naissance)&&void 0!==l?l:a.date_naissance,etablissementid:null!==(h=null===o||void 0===o?void 0:o.etablissement_id)&&void 0!==h?h:a.etablissement_id,facultenom:e.facultenom,originaltitre:null!==(m=null===o||void 0===o?void 0:o.categorie)&&void 0!==m?m:a.categorie,originalcorps:null!==(p=null===o||void 0===o?void 0:o.corps)&&void 0!==p?p:a.corps}):e})),q(!1),Q(null),ce(null),ye("Enseignant modifi\xe9 avec succ\xe8s","success")}catch(o){var n,r,a,i;if(console.error("Erreur:",o),null!==(n=o.response)&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.errors){const e=Object.entries(o.response.data.errors).map(e=>{let[t,s]=e;return"".concat(t,": ").concat(Array.isArray(s)?s.join(", "):s)}).join("\n");return void ye("Erreurs de validation:\n".concat(e),"error")}if(null!==(a=o.response)&&void 0!==a&&null!==(i=a.data)&&void 0!==i&&i.message)return void ye(o.response.data.message,"error");ye("Erreur lors de la modification","error")}else ye("L'IM doit comporter exactement 6 chiffres","error");else ye("Veuillez remplir tous les champs obligatoires","error")},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium transition-colors shadow-sm",children:"Mettre \xe0 jour"})]})]})}),(0,kt.jsx)(wx,{isOpen:Z.isOpen,onClose:()=>$({isOpen:!1,title:"",message:"",onConfirm:null}),onConfirm:Z.onConfirm,title:Z.title,message:Z.message,type:"danger"})]})},Sx=e=>({AES:"ASSISTANT D'ENSEIGNEMENT SUPERIEUR",MC:"MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR",PES:"PROFESSEUR D'ENSEIGNEMENT SUPERIEUR",PE:"PROFESSEUR \xc9M\xc9RITE",PT:"PROFESSEUR TITULAIRE"}[null===e||void 0===e?void 0:e.toUpperCase()]||"ASSISTANT D'ENSEIGNEMENT SUPERIEUR"),Ex=Tt("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),Cx=Tt("panel-left-open",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]),_x=Tt("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ax=Tt("panel-left-close",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),Mx=Tt("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),Dx=()=>{var e,s,n,r,a;const[i,l]=(0,t.useState)([]),[o,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[m,p]=(0,t.useState)(""),[f,x]=(0,t.useState)("all"),[g,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[w,j]=(0,t.useState)(!1),[N,k]=(0,t.useState)(!1),[S,E]=(0,t.useState)(!0),[C,_]=(0,t.useState)(!0),[A,M]=(0,t.useState)(null),[D,T]=(0,t.useState)(!1),[R,P]=(0,t.useState)(!1),[O,L]=(0,t.useState)(""),[I,z]=(0,t.useState)({all:0,unread:0,important:0}),[F,U]=(0,t.useState)({}),[B,V]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[q,Y]=(0,t.useState)(0),[J,K]=(0,t.useState)({isOpen:!1,currentImage:null,currentIndex:0,images:[]}),G=(0,t.useRef)(null),X=(0,t.useRef)(null),Q=(0,t.useRef)(null),Z=(0,t.useRef)(null),$=(0,t.useRef)(null),ee=(0,t.useRef)(null),te=(0,t.useRef)(null),se=(0,t.useRef)(0),ne=(0,t.useRef)(!1),re=(0,t.useRef)(null),ae=(0,t.useRef)(null),ie=e=>{if(!e)return null;try{const t=new Date(e);if(isNaN(t.getTime()))return null;return new Date(t.getTime()+108e5)}catch(qx){return null}},le=e=>{if(!e)return null;const t=e.url||e.name||e.filename;return t?Xr.getChatFileUrl(t):null},oe=e=>(null===e||void 0===e?void 0:e.fileinfo)||(null===e||void 0===e?void 0:e.fileinfo)||null,ce=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e||_(!0),M(null);const t=await Xr.getUserChats(f);t.success&&(l(t.chats),z(t.filters||{all:0,unread:0,important:0}),t.chats.length>0&&!o&&d(t.chats[0].id))}catch(t){e||M(t.message||"Erreur lors du chargement des conversations")}finally{e||_(!1)}},[f,o]),de=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!ne.current)try{ne.current=!0;const s=await Xr.getChatDetails(e);if(s.success){const n=s.chat.messages||[],r=n.length>0?n[n.length-1].id:null;h(s.chat),ae.current=r,se.current=n.length,t||(await Xr.markAsRead(e),await ce(!0))}}catch(s){console.error("Erreur chargement d\xe9tails:",s)}finally{ne.current=!1}},[ce]);(0,t.useEffect)(()=>{if(o)return de(o),re.current=setInterval(()=>{de(o,!0)},2e3),()=>{re.current&&clearInterval(re.current)}},[o,de]),(0,t.useEffect)(()=>{ce()},[ce]),(0,t.useEffect)(()=>{const e=setInterval(()=>{ce(!0)},1e4);return()=>clearInterval(e)},[ce]);const ue=(0,t.useCallback)(async e=>{try{const t=await Xr.getVisitorOnlineStatus(e);t.success&&U(s=>c(c({},s),{},{[e]:{isOnline:t.isonline,lastSeen:t.lastseen}}))}catch(t){console.error("Erreur v\xe9rification statut visiteur:",t)}},[]);(0,t.useEffect)(()=>{if(null!==u&&void 0!==u&&u.reference&&null!==u&&void 0!==u&&u.id){ue(u.id);const e=setInterval(()=>{ue(u.id)},3e4);return()=>clearInterval(e)}},[null===u||void 0===u?void 0:u.id,null===u||void 0===u?void 0:u.reference,ue]),(0,t.useEffect)(()=>{G.current&&(G.current.style.height="auto",G.current.style.height="".concat(Math.min(G.current.scrollHeight,120),"px"))},[m]),(0,t.useEffect)(()=>{const e=e=>{X.current&&!X.current.contains(e.target)&&y(!1),Q.current&&!Q.current.contains(e.target)&&k(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,t.useEffect)(()=>{if(null!==u&&void 0!==u&&u.messages&&ee.current){const e=u.messages.length;if(e!==se.current){const t=te.current;(!t||t.scrollHeight-t.scrollTop-t.clientHeight<100)&&ee.current.scrollIntoView({behavior:"smooth"}),se.current=e}}},[null===u||void 0===u?void 0:u.messages]);const he=async()=>{if(!m.trim()||!o)return;const e={id:"temp-".concat(Date.now()),content:m.trim(),text:m.trim(),type:"text",sender:"me",sendertype:"support",createdat:(new Date).toISOString(),status:"sending",time:(new Date).toISOString()};h(t=>c(c({},t),{},{messages:[...(null===t||void 0===t?void 0:t.messages)||[],e]}));const t=m;p(""),T(!0);try{const s=await Xr.sendMessage(o,{content:t,type:"text"});s.success?(h(t=>c(c({},t),{},{messages:t.messages.map(t=>t.id===e.id?c(c({},s.message),{},{sender:"me"}):t)})),ce(!0)):(h(t=>c(c({},t),{},{messages:t.messages.filter(t=>t.id!==e.id)})),M("Erreur lors de l'envoi du message"))}catch(s){h(t=>c(c({},t),{},{messages:t.messages.filter(t=>t.id!==e.id)})),M(s.message||"Erreur lors de l'envoi du message")}finally{T(!1)}},me=e=>{if(!e)return"";try{const t=ie(e);return t?ai(t,"HH:mm",{locale:Ni}):""}catch(qx){return""}},pe=e=>{if(!e)return"";try{const t=ie(e);return t?xi(t,{addSuffix:!0,locale:Ni}):""}catch(qx){return""}},fe=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},xe=e=>{var t;const s=null===u||void 0===u||null===(t=u.messages)||void 0===t?void 0:t.filter(e=>"image"===e.type&&le(oe(e))).map(e=>{var t;return{url:le(oe(e)),name:null===(t=oe(e))||void 0===t?void 0:t.name,originalIndex:u.messages.indexOf(e)}}),n=s.findIndex(t=>t.url===e);K({isOpen:!0,currentImage:e,currentIndex:n>=0?n:0,images:s})},ge=e=>{const t="next"===e?(J.currentIndex+1)%J.images.length:(J.currentIndex-1+J.images.length)%J.images.length;K(e=>c(c({},e),{},{currentIndex:t,currentImage:e.images[t].url}))},be=(e,t)=>{if(e)return"https://ui-avatars.com/api/?name=Anonyme&background=94a3b8&color=fff";return"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(t||"Visiteur"),"&background=3b82f6&color=fff")},ve=e=>{let{status:t}=e;return t&&"sent"!==t&&"sending"!==t?"delivered"===t?(0,kt.jsx)(Br,{className:"w-3.5 h-3.5 text-gray-400"}):"read"===t?(0,kt.jsx)(Br,{className:"w-3.5 h-3.5 text-blue-500"}):null:(0,kt.jsx)(Ur,{className:"w-3.5 h-3.5 text-gray-400"})},ye=i.filter(e=>{if(!O.trim())return!0;const t=O.toLowerCase(),s=(e.visitorname||e.name||"").toLowerCase(),n=(e.reference||"").toLowerCase(),r=(e.lastmessage||"").toLowerCase();return s.includes(t)||n.includes(t)||r.includes(t)});return(0,kt.jsxs)("div",{className:"flex bg-gray-50 w-full ".concat(g?"fixed inset-0 z-50":"h-screen"),style:{overflow:"hidden"},children:[(0,kt.jsx)("input",{ref:Z,type:"file",className:"hidden",onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;if(!o)return void M("Veuillez d'abord s\xe9lectionner une conversation");if(s.size>26214400)return void M("Le fichier ne doit pas d\xe9passer 25 MB");if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","video/mp4","video/quicktime","video/x-msvideo","video/x-ms-wmv"].includes(s.type))return void M("Format non support\xe9. Utilisez PDF, DOC, XLS, TXT ou vid\xe9o");if(s.type.startsWith("video/")){const e=new FileReader;e.onloadend=()=>{W(e.result),V(s),M(null)},e.readAsDataURL(s)}else V(s),W(null),M(null)},accept:".pdf,.doc,.docx,.txt,.xlsx,.xls,.mp4,.mov,.avi,.wmv,video/*"}),(0,kt.jsx)("input",{ref:$,type:"file",className:"hidden",onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;if(!o)return void M("Veuillez d'abord s\xe9lectionner une conversation");if(s.size>26214400)return void M("L'image ne doit pas d\xe9passer 25 MB");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(s.type))return void M("Format d'image non support\xe9. Utilisez JPG, JPEG, PNG, GIF ou WEBP");const n=new FileReader;n.onloadend=()=>{W(n.result),V(s),M(null)},n.readAsDataURL(s)},accept:".jpg,.jpeg,.png,.gif,.webp,image/*"}),J.isOpen&&(0,kt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-[9999] flex items-center justify-center",children:[(0,kt.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent z-10",children:[(0,kt.jsxs)("div",{className:"text-white",children:[(0,kt.jsx)("p",{className:"text-sm font-medium",children:(null===(e=J.images[J.currentIndex])||void 0===e?void 0:e.name)||"Image"}),(0,kt.jsxs)("p",{className:"text-xs text-gray-300",children:[J.currentIndex+1," / ",J.images.length]})]}),(0,kt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),K({isOpen:!1,currentImage:null,currentIndex:0,images:[]})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",title:"Fermer",type:"button",children:(0,kt.jsx)(Lt,{className:"w-6 h-6 text-white"})})]}),(0,kt.jsx)("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:(0,kt.jsx)("img",{src:J.currentImage,alt:"Aper\xe7u",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.src="https://via.placeholder.com/400x300?text=Image+non+disponible"}})}),J.images.length>1&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),ge("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image pr\xe9c\xe9dente",type:"button",children:(0,kt.jsx)(Rt,{className:"w-6 h-6 text-white"})}),(0,kt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),ge("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image suivante",type:"button",children:(0,kt.jsx)(Vr,{className:"w-6 h-6 text-white"})})]}),(0,kt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 flex items-center justify-center gap-4 bg-gradient-to-t from-black/50 to-transparent z-10",children:(0,kt.jsx)("button",{onClick:async e=>{var t;e.preventDefault(),e.stopPropagation();const s=J.currentImage,n=(null===(t=J.images[J.currentIndex])||void 0===t?void 0:t.name)||"image.jpg";try{const e=await fetch(s),t=await e.blob(),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}catch(A){console.error("Erreur t\xe9l\xe9chargement:",A),window.open(s,"_blank")}},className:"p-3 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors",title:"T\xe9l\xe9charger l'image",type:"button",children:(0,kt.jsx)(Or,{className:"w-5 h-5"})})})]}),S&&(0,kt.jsxs)("div",{className:"w-96 bg-white border-r border-gray-200 flex flex-col h-full flex-shrink-0",children:[(0,kt.jsxs)("div",{className:"p-4 border-b border-gray-200 flex-shrink-0",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,kt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Messages"}),(0,kt.jsx)("div",{className:"flex items-center gap-2",children:(0,kt.jsxs)("div",{className:"relative",ref:Q,children:[(0,kt.jsxs)("button",{onClick:()=>k(!N),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors relative",title:"Filtres",children:[(0,kt.jsx)(Oi,{className:"w-5 h-5 text-gray-600"}),"all"!==f&&(0,kt.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-600 rounded-full"})]}),N&&(0,kt.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[(0,kt.jsxs)("button",{onClick:()=>{x("all"),k(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between ".concat("all"===f?"bg-blue-50 text-blue-600":"text-gray-700"),children:[(0,kt.jsx)("span",{children:"Tous"}),(0,kt.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:I.all})]}),(0,kt.jsxs)("button",{onClick:()=>{x("unread"),k(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between ".concat("unread"===f?"bg-blue-50 text-blue-600":"text-gray-700"),children:[(0,kt.jsx)("span",{children:"Non lus"}),(0,kt.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:I.unread})]}),(0,kt.jsxs)("button",{onClick:()=>{x("important"),k(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between ".concat("important"===f?"bg-blue-50 text-blue-600":"text-gray-700"),children:[(0,kt.jsx)("span",{children:"Importants"}),(0,kt.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:I.important})]})]})]})})]}),(0,kt.jsxs)("div",{className:"relative",children:[(0,kt.jsx)(Cr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,kt.jsx)("input",{type:"text",placeholder:"Rechercher...",value:O,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,kt.jsx)("div",{className:"flex-1 overflow-y-auto min-h-0 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:C?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,kt.jsx)(Jr,{className:"w-8 h-8 text-blue-600 animate-spin mb-3"}),(0,kt.jsx)("p",{className:"text-sm text-gray-500",children:"Chargement..."})]}):A?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-red-600 p-4",children:[(0,kt.jsx)(Pt,{className:"w-8 h-8 mb-3"}),(0,kt.jsx)("p",{className:"text-sm text-center",children:A})]}):0===ye.length?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 p-4",children:[(0,kt.jsx)(Hr,{className:"w-12 h-12 mb-3"}),(0,kt.jsx)("p",{className:"text-sm",children:"Aucune conversation"}),(0,kt.jsx)("p",{className:"text-xs mt-1 text-center",children:O.trim()?"Aucun r\xe9sultat pour votre recherche":"Lorsqu'un utilisateur vous contactera, vos conversations appara\xeetront ici."})]}):ye.map(e=>{const t=(e=>e.reference?e.isanonymous?{mainName:"Anonyme",subName:e.reference}:{mainName:e.visitorname||e.name||"Visiteur",subName:e.reference}:{mainName:e.name||"Utilisateur",subName:e.role||null})(e),s=e.unreadcount||e.unread||0;return(0,kt.jsxs)("div",{onClick:()=>{return t=e.id,d(t),j(!1),V(null),W(null),Y(0),se.current=0,void(ae.current=null);var t},className:"flex items-start gap-3 p-4 cursor-pointer border-b border-gray-100 transition-all hover:bg-gray-50 ".concat(o===e.id?"bg-blue-50 border-l-4 border-l-blue-600":""),children:[(0,kt.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,kt.jsx)("img",{src:e.reference?be(e.isanonymous,e.visitorname||e.name):e.avatar||"https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff",alt:t.mainName,className:"w-12 h-12 rounded-full",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff"}}),s>0&&e.reference&&(0,kt.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:s>9?"9+":s}),e.reference&&(0,kt.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center",children:e.isanonymous?(0,kt.jsx)(Lr,{className:"w-3 h-3 text-gray-400"}):(0,kt.jsx)(Ar,{className:"w-3 h-3 text-blue-500"})}),e.important&&(0,kt.jsx)(Ex,{className:"absolute top-0 -right-1 w-4 h-4 text-orange-500 fill-orange-500"})]}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,kt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:t.mainName}),(0,kt.jsx)("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:pe(e.lastmessagetime||e.time)})]}),t.subName&&(0,kt.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,kt.jsx)(Yr,{className:"w-3 h-3 text-blue-600"}),(0,kt.jsx)("p",{className:"text-[10px] font-mono text-blue-700 font-semibold truncate",children:t.subName})]}),e.dossierTitre&&(0,kt.jsx)("p",{className:"text-[11px] text-gray-600 mb-1 truncate",children:e.dossierTitre}),(0,kt.jsx)("p",{className:"text-xs truncate ".concat(s>0?"text-gray-900 font-medium":"text-gray-500"),children:e.lastmessage||e.lastMessage||"Nouveau message"})]})]},e.id)})})]}),(0,kt.jsx)("div",{className:"flex-1 flex flex-col h-full min-w-0 overflow-hidden",children:u?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsxs)("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between flex-shrink-0",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[!S&&(0,kt.jsx)("button",{onClick:()=>E(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors lg:hidden flex-shrink-0",title:"Afficher la liste",children:(0,kt.jsx)(Cx,{className:"w-5 h-5 text-gray-600"})}),(0,kt.jsx)("img",{src:u.reference?be(u.isanonymous,u.visitorname||u.name):u.avatar||"https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff",alt:"Avatar",className:"w-10 h-10 md:w-12 md:h-12 rounded-full flex-shrink-0",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff"}}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-1.5",children:[u.reference&&(u.isanonymous?(0,kt.jsx)(Lr,{className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0"}):(0,kt.jsx)(Ar,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})),(0,kt.jsx)("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:u.reference?u.isanonymous?"Anonyme":u.visitorname||u.name||"Visiteur":u.name||"Support FOSIKA"}),(null===(s=F[u.id])||void 0===s?void 0:s.isOnline)&&(0,kt.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-green-600 ml-2 flex-shrink-0",children:[(0,kt.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,kt.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),(0,kt.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),(0,kt.jsx)("span",{children:"En ligne"})]})]}),(0,kt.jsx)("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5 truncate",children:null!==(n=F[u.id])&&void 0!==n&&n.isOnline||null===(r=F[u.id])||void 0===r||!r.lastSeen?u.role||u.status?(0,kt.jsx)(kt.Fragment,{children:!(null!==(a=F[u.id])&&void 0!==a&&a.isOnline)&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("span",{className:"mx-1 text-gray-300",children:"\u2022"}),(0,kt.jsx)("span",{children:u.status})]})}):null:(0,kt.jsxs)(kt.Fragment,{children:["Vu"," ",(0,kt.jsx)("span",{className:"font-medium",children:pe(F[u.id].lastSeen)})]})})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,kt.jsx)("button",{onClick:()=>j(!w),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Informations",children:(0,kt.jsx)(_x,{className:"w-5 h-5 text-gray-600"})}),S&&(0,kt.jsx)("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors lg:hidden",title:"Masquer la liste",children:(0,kt.jsx)(Ax,{className:"w-5 h-5 text-gray-600"})}),(0,kt.jsx)("button",{onClick:()=>b(!g),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:g?"R\xe9duire":"Plein \xe9cran",children:g?(0,kt.jsx)(Mx,{className:"w-5 h-5 text-gray-600"}):(0,kt.jsx)(Wr,{className:"w-5 h-5 text-gray-600"})}),(0,kt.jsxs)("div",{className:"relative",ref:X,children:[(0,kt.jsx)("button",{onClick:()=>y(!v),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Options",children:(0,kt.jsx)(ox,{className:"w-5 h-5 text-gray-600"})}),v&&(0,kt.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:(0,kt.jsxs)("button",{onClick:()=>{(async e=>{try{const t=await Xr.toggleImportant(e);t.success&&(await ce(!0),u&&u.id===e&&h(e=>c(c({},e),{},{isimportant:t.isimportant})))}catch(t){M(t.message||"Erreur lors de la modification")}})(u.id),y(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-2 text-gray-700",children:[(0,kt.jsx)(Ex,{className:"w-4 h-4 ".concat(u.isimportant?"text-orange-500 fill-orange-500":"")}),(0,kt.jsx)("span",{children:u.isimportant?"Retirer important":"Marquer important"})]})})]})]})]}),u.reference&&(0,kt.jsx)("div",{className:"bg-blue-50 border-b border-blue-100 px-4 py-2.5 flex-shrink-0",children:(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)(Yr,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-xs font-mono font-semibold text-blue-700 truncate",children:u.reference}),u.dossierTitre&&(0,kt.jsx)("p",{className:"text-[11px] text-gray-600 truncate",children:u.dossierTitre})]})]})}),(0,kt.jsxs)("div",{ref:te,className:"flex-1 overflow-y-auto overflow-x-hidden p-4 bg-gray-50 space-y-3 min-h-0 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[A&&!B&&(0,kt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm flex items-start gap-2",children:[(0,kt.jsx)(Pt,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,kt.jsx)("p",{children:A})]}),u.messages&&u.messages.length>0?u.messages.map((e,s)=>{var n,r,a,i;const l=e.sender,o=e.sendertype||e.sendertype,c="me"===l||"support"===o||"admin"===o||!("visitor"===l||"visitor"===o),d=le(oe(e)),h=e.text||e.content,m=e.createdat||e.createdat||e.time;let p=null;if(m){const e=u.messages[s-1],t=e?e.createdat||e.createdat||e.time:null;try{const e=ie(m),s=t?ie(t):null;!e||s&&aa(e,s)||(p=(e=>{if(!e)return null;try{const t=ie(e);if(!t)return null;if(ia(t))return"Aujourd'hui";if(ca(t))return"Hier";if(ua(new Date,t)<7){const e=ai(t,"EEEE",{locale:Ni});return e.charAt(0).toUpperCase()+e.slice(1)}return ai(t,"dd/MM/yyyy")}catch(qx){return null}})(m))}catch(qx){}}return(0,kt.jsxs)(t.Fragment,{children:[p&&(0,kt.jsx)("div",{className:"flex justify-center my-3",children:(0,kt.jsx)("span",{className:"bg-white text-gray-500 text-xs font-medium px-3 py-1 rounded-lg shadow-sm border border-gray-200",children:p})}),(0,kt.jsx)("div",{className:"flex ".concat(c?"justify-end":"justify-start"),children:(0,kt.jsxs)("div",{className:"max-w-[70%] ".concat(c?"":"flex gap-2"),children:[!c&&(0,kt.jsx)("div",{className:"flex flex-col items-center flex-shrink-0",children:(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:u.isanonymous||!u.visitorname||"Anonyme"===u.visitorname?(0,kt.jsx)(Ar,{className:"w-5 h-5 text-gray-500"}):(0,kt.jsx)("span",{className:"text-xs font-bold text-gray-600",children:u.visitorname?u.visitorname.charAt(0).toUpperCase():"V"})})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[!c&&(0,kt.jsxs)("div",{className:"mb-1 px-2",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[u.isanonymous?(0,kt.jsx)(Lr,{className:"w-3 h-3 text-gray-400"}):(0,kt.jsx)(Ar,{className:"w-3 h-3 text-blue-500"}),(0,kt.jsx)("p",{className:"text-[10px] font-semibold text-gray-700",children:u.isanonymous?"Anonyme":u.visitorname||u.name||"Visiteur"})]}),u.reference&&(0,kt.jsx)("p",{className:"text-[9px] font-mono text-gray-500",children:u.reference})]}),(0,kt.jsxs)("div",{className:"rounded-2xl shadow-sm overflow-hidden ".concat(c?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-800 border border-gray-200 rounded-bl-sm"),children:["image"===e.type&&d?(0,kt.jsxs)("div",{className:"relative group",children:[(0,kt.jsx)("img",{src:d,alt:(null===(n=oe(e))||void 0===n?void 0:n.name)||"Image",className:"w-full max-w-md cursor-pointer rounded-lg",style:{maxHeight:"400px",objectFit:"cover"},onClick:()=>xe(d),onError:e=>{console.error("Erreur chargement image:",d),e.target.src="https://via.placeholder.com/400x300?text=Image+non+disponible"}}),(0,kt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all flex items-center justify-center rounded-lg",children:(0,kt.jsx)("button",{onClick:()=>xe(d),className:"opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all bg-white/90 hover:bg-white p-2 rounded-full shadow-lg",children:(0,kt.jsx)(Ir,{className:"w-5 h-5 text-gray-800"})})})]}):"video"===e.type&&d?(0,kt.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden max-w-md",children:[(0,kt.jsxs)("video",{controls:!0,className:"w-full",style:{maxHeight:"350px"},preload:"metadata",onError:()=>{console.error("Erreur chargement vid\xe9o:",d)},children:[(0,kt.jsx)("source",{src:d,type:(null===(r=oe(e))||void 0===r?void 0:r.type)||"video/mp4"}),"Votre navigateur ne supporte pas la lecture vid\xe9o."]}),(0,kt.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,kt.jsx)(zr,{className:"w-3 h-3"}),"Vid\xe9o"]})]}):"file"===e.type&&d?(0,kt.jsxs)("div",{className:"p-3 ".concat(c?"bg-blue-700":"bg-gray-50"),children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"p-2 rounded-lg ".concat(c?"bg-blue-800":"bg-white border border-gray-200"),children:(0,kt.jsx)(Fr,{className:"w-5 h-5 ".concat(c?"text-white":"text-gray-600")})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-sm font-medium truncate ".concat(c?"text-white":"text-gray-800"),children:(null===(a=oe(e))||void 0===a?void 0:a.name)||"Fichier"}),(null===(i=oe(e))||void 0===i?void 0:i.filesize)&&(0,kt.jsx)("p",{className:"text-xs ".concat(c?"text-blue-100":"text-gray-500"),children:fe(oe(e).filesize)})]})]}),(0,kt.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,kt.jsxs)("a",{href:d,target:"_blank",rel:"noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(c?"bg-blue-800 hover:bg-blue-900 text-white":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"),children:[(0,kt.jsx)(Pr,{className:"w-3.5 h-3.5"}),"Voir"]}),(0,kt.jsxs)("a",{href:d,download:!0,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(c?"bg-white/20 hover:bg-white/30 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:[(0,kt.jsx)(Or,{className:"w-3.5 h-3.5"}),"T\xe9l\xe9charger"]})]})]}):(0,kt.jsx)("div",{className:"px-4 py-3",children:(0,kt.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:h})}),(0,kt.jsxs)("div",{className:"px-4 pb-2 flex items-center ".concat(c?"justify-end":"justify-start"," gap-1 text-[10px] text-gray-400"),children:[(0,kt.jsx)("span",{children:me(m)}),c&&e.status&&(0,kt.jsx)(ve,{status:e.status})]})]})]})]})})]},e.id||s)}):(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,kt.jsx)(Hr,{className:"w-16 h-16 mb-3"}),(0,kt.jsx)("p",{className:"text-sm font-medium",children:"Aucun message dans cette conversation"}),(0,kt.jsx)("p",{className:"text-xs mt-1",children:"Envoyez un message pour commencer la conversation"})]}),(0,kt.jsx)("div",{ref:ee})]}),B&&(0,kt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white flex-shrink-0",children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"flex-shrink-0",children:H&&B.type.startsWith("image/")?(0,kt.jsx)("img",{src:H,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):H&&B.type.startsWith("video/")?(0,kt.jsx)("video",{src:H,className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):(0,kt.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center border border-gray-200",children:(0,kt.jsx)(Yr,{className:"w-8 h-8 text-gray-400"})})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:B.name}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:fe(B.size)}),R&&(0,kt.jsxs)("div",{className:"mt-2",children:[(0,kt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,kt.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-200",style:{width:"".concat(q,"%")}})}),(0,kt.jsxs)("p",{className:"text-[10px] text-gray-500 mt-1",children:[q,"%"]})]})]}),(0,kt.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,kt.jsx)("button",{onClick:()=>{V(null),W(null),Y(0),M(null)},disabled:R,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",title:"Annuler",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})}),(0,kt.jsx)("button",{onClick:async()=>{if(!B||!o)return;const e={id:"temp-file-".concat(Date.now()),content:B.type.startsWith("image/")?"\ud83d\udcf7 Image":B.type.startsWith("video/")?"\ud83c\udfa5 Vid\xe9o":"\ud83d\udcce Fichier",type:B.type.startsWith("image/")?"image":B.type.startsWith("video/")?"video":"file",sender:"me",sendertype:"support",createdat:(new Date).toISOString(),status:"uploading",fileinfo:{name:B.name,size:B.size,filesize:B.size}};h(t=>c(c({},t),{},{messages:[...(null===t||void 0===t?void 0:t.messages)||[],e]})),P(!0),M(null);try{let t="file";B.type.startsWith("image/")?t="image":B.type.startsWith("video/")&&(t="video");const s=await Xr.uploadFile(o,B,t,e=>Y(e));s.success?(h(t=>c(c({},t),{},{messages:t.messages.map(t=>t.id===e.id?c(c({},s.message),{},{sender:"me"}):t)})),V(null),W(null),Y(0),ce(!0)):(h(t=>c(c({},t),{},{messages:t.messages.filter(t=>t.id!==e.id)})),M("Erreur lors de l'envoi du fichier"))}catch(t){console.error("Erreur envoi fichier:",t),h(t=>c(c({},t),{},{messages:t.messages.filter(t=>t.id!==e.id)})),M(t.message||"Erreur lors de l'envoi du fichier")}finally{P(!1)}},disabled:R,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",title:"Envoyer",children:R?(0,kt.jsx)(Jr,{className:"w-5 h-5 animate-spin"}):(0,kt.jsx)(Kr,{className:"w-5 h-5"})})]})]})}),(0,kt.jsx)("div",{className:"border-t border-gray-200 p-4 bg-white flex-shrink-0",children:(0,kt.jsxs)("div",{className:"flex items-end gap-2",children:[(0,kt.jsxs)("div",{className:"flex gap-1 flex-shrink-0",children:[(0,kt.jsx)("button",{onClick:()=>{var e;o?null===(e=Z.current)||void 0===e||e.click():M("Veuillez d'abord s\xe9lectionner une conversation")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre un fichier",disabled:R,children:(0,kt.jsx)(Fr,{className:"w-5 h-5"})}),(0,kt.jsx)("button",{onClick:()=>{var e;o?null===(e=$.current)||void 0===e||e.click():M("Veuillez d'abord s\xe9lectionner une conversation")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre une image",disabled:R,children:(0,kt.jsx)(Gr,{className:"w-5 h-5"})})]}),(0,kt.jsx)("div",{className:"flex-1 min-w-0",children:(0,kt.jsx)("textarea",{ref:G,rows:1,value:m,onChange:e=>p(e.target.value),placeholder:"\xc9crivez un message...",className:"w-full resize-none border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent max-h-[120px]",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),he())},disabled:D||R})}),(0,kt.jsx)("button",{onClick:he,disabled:D||R||!m.trim(),className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Envoyer",children:D?(0,kt.jsx)(Jr,{className:"w-5 h-5 animate-spin"}):(0,kt.jsx)(Kr,{className:"w-5 h-5"})})]})})]}):(0,kt.jsx)("div",{className:"flex-1 flex items-center justify-center bg-gray-50 h-full",children:C?(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)(Jr,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),(0,kt.jsx)("p",{className:"text-gray-500",children:"Chargement des conversations..."})]}):(0,kt.jsxs)("div",{className:"text-center text-gray-400",children:[(0,kt.jsx)(Hr,{className:"w-20 h-20 mx-auto mb-4 text-gray-300"}),(0,kt.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"S\xe9lectionnez une conversation"}),(0,kt.jsx)("p",{className:"text-sm",children:"Choisissez une conversation dans la liste pour commencer \xe0 discuter"})]})})}),w&&u&&(0,kt.jsx)("div",{className:"w-80 bg-white border-l border-gray-200 overflow-y-auto h-full flex-shrink-0 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:(0,kt.jsxs)("div",{className:"p-6",children:[(0,kt.jsxs)("div",{className:"text-center mb-6",children:[(0,kt.jsx)("img",{src:u.reference?be(u.isanonymous,u.visitorname||u.name):u.avatar||"https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff",alt:"Avatar",className:"w-24 h-24 rounded-full mx-auto mb-3",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff"}}),(0,kt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:u.isanonymous?"Anonyme":u.visitorname||u.name||"Visiteur"}),(0,kt.jsxs)("p",{className:"text-sm text-gray-500",children:[u.role||"Support",u.location&&(0,kt.jsx)("span",{className:"block text-xs mt-1",children:u.location})]})]}),u.reference&&(0,kt.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"R\xe9f\xe9rence"}),(0,kt.jsx)("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:u.reference})]}),u.dossierTitre&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Type"}),(0,kt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:u.dossierTitre||"Signalement"})]})]}),(0,kt.jsx)("hr",{className:"my-4"}),(0,kt.jsxs)("div",{className:"space-y-4",children:[u.visitorname&&(0,kt.jsxs)("div",{children:[(0,kt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Nom complet"}),(0,kt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:u.visitorname})]}),u.email&&(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)(Tr,{className:"w-4 h-4 text-gray-400 mt-1"}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Email"}),(0,kt.jsx)("p",{className:"text-sm text-gray-900 mt-1 break-all",children:u.email})]})]}),u.phone&&(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)(Dr,{className:"w-4 h-4 text-gray-400 mt-1"}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"T\xe9l\xe9phone"}),(0,kt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:u.phone})]})]}),(u.address||u.city||u.province||u.region)&&(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)(Rr,{className:"w-4 h-4 text-gray-400 mt-1"}),(0,kt.jsxs)("div",{className:"flex-1",children:[(0,kt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Localisation"}),(0,kt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:[u.address,u.city,u.province&&u.city?u.province:null,(u.city||u.province,u.region)].filter(Boolean).join(", ")||"Non renseign\xe9"})]})]})]})]})})]})},Tx=e=>{var s,n;let{onOpenFullChat:r,autoOpen:a,targetReference:i,onAutoOpenHandled:l}=e;const[o,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),[f,x]=(0,t.useState)(!0),[g,b]=(0,t.useState)(!1),[v,y]=(0,t.useState)(!1),[w,j]=(0,t.useState)(""),[N,k]=(0,t.useState)([]),[S,E]=(0,t.useState)(null),[C,_]=(0,t.useState)(null),[A,M]=(0,t.useState)(!1),[D,T]=(0,t.useState)(null),[R,P]=(0,t.useState)(!1),[O,L]=(0,t.useState)(!1),[I,z]=(0,t.useState)(!1),[F,U]=(0,t.useState)(null),[B,V]=(0,t.useState)(null),[H,W]=(0,t.useState)(null),[q,Y]=(0,t.useState)(0),[J,K]=(0,t.useState)({isOpen:!1,currentImage:null,currentIndex:0,images:[]}),G=(0,t.useRef)(null),X=(0,t.useRef)(null),Q=(0,t.useRef)(null),Z=(0,t.useRef)(null),$=(0,t.useRef)(null),ee=(0,t.useRef)(null),te=(0,t.useRef)(null),se=(0,t.useRef)(0);(0,t.useEffect)(()=>{const e=()=>{const e=window.innerWidth;b(e<768),y(e>=768&&e<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{const e=()=>{if(!ee.current||!te.current)return;const e=te.current.offsetHeight;ee.current.style.paddingBottom="".concat(e+10,"px")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[B,I,f]);const ne=e=>{if(!e)return null;const t=e.url||e.name||e.filename;return t?Xr.getChatFileUrl(t):null},re=e=>e?(null===e||void 0===e?void 0:e.fileinfo)||(null!==e&&void 0!==e&&e.fileinfo?JSON.parse(e.fileinfo):null):null,ae=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?"":ai(t,"HH:mm",{locale:Ni})}catch(qx){return""}},ie=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?"":xi(t,{addSuffix:!0,locale:Ni})}catch(qx){return""}},le=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},oe=(e,t)=>{if(e)return"https://ui-avatars.com/api/?name=Anonyme&background=94a3b8&color=fff";return"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(t||"Visiteur"),"&background=3b82f6&color=fff")},ce=e=>e?e.reference?e.isanonymous?{mainName:"Anonyme",subName:e.reference}:{mainName:e.visitorname||e.name||"Visiteur",subName:e.reference}:{mainName:e.name||"Utilisateur",subName:e.role||null}:{mainName:"Chargement...",subName:""},de=e=>{if(e.messages&&e.messages.length>0){const t=e.messages[e.messages.length-1];return"image"===t.type?"\ud83d\udcf7 Image":"video"===t.type?"\ud83c\udfa5 Vid\xe9o":"file"===t.type?"\ud83d\udcce Fichier":t.content||t.text||"Message"}return e.lastmessage?e.lastmessage:e.lastMessage?e.lastMessage:"Nouvelle conversation"},ue=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||M(!0),T(null);try{const e=await Xr.getUserChats();if(e.success){const t=e.chats.sort((e,t)=>{const s=new Date(e.lastmessageat||e.lastMessageAt||e.createdat||0);return new Date(t.lastmessageat||t.lastMessageAt||t.createdat||0)-s});k(t)}}catch(t){console.error("Erreur chargement chats:",t),e||T(t.message||"Erreur lors du chargement des conversations")}finally{e||M(!1)}},[]),he=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){t||M(!0);try{const s=await Xr.getChatDetails(e);s.success&&(_(e=>{var t;return JSON.stringify(e)!==JSON.stringify(s.chat)?(se.current=(null===(t=s.chat.messages)||void 0===t?void 0:t.length)||0,s.chat):e}),Xr.markAsRead(e).catch(()=>{}),t||ue(!0))}catch(s){console.error("Erreur chargement d\xe9tails chat:",s),t||T(s.message||"Erreur lors du chargement du chat")}finally{t||M(!1)}}},[ue]);(0,t.useEffect)(()=>{a&&!o&&(d(!0),h(!1),l&&l())},[a,o,l]),(0,t.useEffect)(()=>{if(!o||!i||0===N.length)return;const e=N.find(e=>e.reference===i);e?(E(e.id),x(!1),he(e.id),z(!1),U(null)):(z(!0),U(i),x(!1),_(null),E(null),T(null),j(""))},[o,i,N,he]),(0,t.useEffect)(()=>{o&&!u&&ue(!0)},[o,u,ue]),(0,t.useEffect)(()=>{if(o&&!u&&f){const e=setInterval(()=>{ue(!0)},15e3);return()=>clearInterval(e)}},[o,u,f,ue]),(0,t.useEffect)(()=>{if(S&&o&&!u&&!f){const e=setInterval(()=>{he(S,!0)},3e3);return()=>clearInterval(e)}},[S,o,u,f,he]),(0,t.useEffect)(()=>{G.current&&(G.current.style.height="auto",G.current.style.height=Math.min(G.current.scrollHeight,120)+"px")},[w]),(0,t.useEffect)(()=>{if(null!==C&&void 0!==C&&C.messages){const e=C.messages.length;if(e!==se.current){const t=ee.current;if(t){(t.scrollHeight-t.scrollTop-t.clientHeight<150||1===e)&&setTimeout(()=>{var e;null===(e=$.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)}se.current=e}}},[null===C||void 0===C?void 0:C.messages]),(0,t.useEffect)(()=>{const e=e=>{X.current&&!X.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const me=()=>{d(!0),h(!1),x(!0),T(null),ue()},pe=()=>{d(!1),h(!1),x(!0),fe()},fe=()=>{E(null),_(null),j(""),T(null),V(null),W(null),z(!1),U(null),se.current=0},xe=async()=>{if(!w||!w.trim())return void j("");const e=w.trim();j(""),G.current&&(G.current.style.height="auto"),P(!0),T(null);try{if(I&&F){const t=await Xr.createAdminChat({reference:F,message:e});if(!t.success)throw new Error(t.message||"Impossible de cr\xe9er la conversation");{z(!1),U(null);const e=t.chat.id;E(e),x(!1),_(t.chat),ue(!0),setTimeout(()=>{he(e,!0)},500)}}else if(S){const t={id:"temp-"+Date.now(),content:e,text:e,sender:"admin",sendertype:"admin",createdat:(new Date).toISOString(),status:"sending",type:"text"};_(e=>c(c({},e),{},{messages:[...(null===e||void 0===e?void 0:e.messages)||[],t]}));const s=await Xr.sendMessage(S,{content:e,type:"text"});if(!s.success)throw new Error(s.message||"Erreur lors de l'envoi du message");setTimeout(()=>{he(S,!0)},300)}else T("Veuillez s\xe9lectionner une conversation"),j(e)}catch(t){console.error("Erreur envoi message:",t),T(t.message||"\xc9chec de l'envoi. Veuillez r\xe9essayer."),j(e)}finally{P(!1)}},ge=e=>{var t;const s=(null===C||void 0===C||null===(t=C.messages)||void 0===t?void 0:t.filter(e=>"image"===e.type&&ne(re(e))).map(e=>{var t;return{url:ne(re(e)),name:(null===(t=re(e))||void 0===t?void 0:t.name)||"Image",originalIndex:C.messages.indexOf(e)}}))||[],n=s.findIndex(t=>t.url===e);K({isOpen:!0,currentImage:e,currentIndex:n>=0?n:0,images:s})},be=e=>{const{currentIndex:t,images:s}=J;let n;n="next"===e?(t+1)%s.length:(t-1+s.length)%s.length,K(e=>c(c({},e),{},{currentIndex:n,currentImage:s[n].url}))},ve=e=>{let{status:t}=e;return t&&"sent"!==t?"delivered"===t?(0,kt.jsx)(Br,{className:"w-3 h-3"}):"read"===t?(0,kt.jsx)(Br,{className:"w-3 h-3 text-blue-400"}):null:(0,kt.jsx)(Ur,{className:"w-3 h-3"})},ye=(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("input",{ref:Q,type:"file",accept:".pdf,.doc,.docx,.txt,.xls,.xlsx,.mp4,.mov,.avi,.wmv",onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;if(!S&&!I)return void T("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation");if(s.size>26214400)return void T("Le fichier ne doit pas d\xe9passer 25 MB");if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","video/mp4","video/quicktime","video/x-msvideo","video/x-ms-wmv"].includes(s.type))return void T("Format non support\xe9. Utilisez PDF, DOC, XLS, TXT ou vid\xe9o (MP4, MOV, AVI, WMV)");if(s.type.startsWith("video/")){const e=new FileReader;e.onloadend=()=>{W(e.result),V(s),T(null)},e.readAsDataURL(s)}else V(s),W(null),T(null);Q.current&&(Q.current.value="")},className:"hidden"}),(0,kt.jsx)("input",{ref:Z,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;if(!S&&!I)return void T("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation");if(s.size>26214400)return void T("L'image ne doit pas d\xe9passer 25 MB");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(s.type))return void T("Format d'image non support\xe9. Utilisez JPG, PNG, GIF ou WEBP");const n=new FileReader;n.onloadend=()=>{W(n.result),V(s),T(null)},n.readAsDataURL(s),Z.current&&(Z.current.value="")},className:"hidden"})]}),we=J.isOpen&&(0,kt.jsxs)("div",{className:"fixed inset-0 bg-black/95 z-[99999] flex items-center justify-center",children:[(0,kt.jsx)("button",{onClick:()=>{K({isOpen:!1,currentImage:null,currentIndex:0,images:[]})},className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:(0,kt.jsx)(Lt,{className:"w-8 h-8"})}),(0,kt.jsxs)("div",{className:"absolute top-4 left-4 text-white z-10",children:[(0,kt.jsx)("p",{className:"text-sm font-medium",children:(null===(s=J.images[J.currentIndex])||void 0===s?void 0:s.name)||"Image"}),(0,kt.jsxs)("p",{className:"text-xs text-gray-300",children:[J.currentIndex+1," / ",J.images.length]})]}),J.images.length>1&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("button",{onClick:()=>be("prev"),className:"absolute left-4 text-white hover:text-gray-300 bg-black/50 rounded-full p-3 z-10",children:(0,kt.jsx)(Rt,{className:"w-6 h-6"})}),(0,kt.jsx)("button",{onClick:()=>be("next"),className:"absolute right-4 text-white hover:text-gray-300 bg-black/50 rounded-full p-3 z-10",children:(0,kt.jsx)(Vr,{className:"w-6 h-6"})})]}),(0,kt.jsx)("img",{src:J.currentImage,alt:"Aper\xe7u",className:"max-w-[90vw] max-h-[90vh] object-contain"})]});return o?u?(0,kt.jsxs)(kt.Fragment,{children:[ye,(0,kt.jsxs)("button",{onClick:()=>h(!1),className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-2xl transition-all duration-300 hover:scale-110 z-50 p-4",children:[(0,kt.jsx)(Hr,{className:"w-7 h-7"}),N.filter(e=>(e.unreadcount||e.unread||0)>0).length>0&&(0,kt.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:N.filter(e=>(e.unreadcount||e.unread||0)>0).length})]})]}):(0,kt.jsxs)(kt.Fragment,{children:[ye,we,g&&(0,kt.jsx)("div",{className:"fixed inset-0 bg-black/10 z-[9998]",onClick:pe}),(0,kt.jsxs)("div",{className:"".concat(g?"fixed inset-0 w-full h-full bg-white z-[9999] flex flex-col":"fixed bottom-6 right-6 w-[400px] h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 border border-gray-200"),children:[(0,kt.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 ".concat(g?"":"rounded-t-2xl"," flex items-center justify-between flex-shrink-0"),children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[!f&&(0,kt.jsx)("button",{onClick:()=>{x(!0),fe(),ue(!0)},className:"hover:bg-white/20 p-1.5 rounded-lg transition-colors",children:(0,kt.jsx)(Rt,{className:"w-5 h-5"})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("h3",{className:"font-semibold text-base truncate",children:f?"".concat(N.length," conversation").concat(N.length>1?"s":""):I&&F?"Nouveau chat - ".concat(F):ce(C).mainName}),(0,kt.jsx)("p",{className:"text-xs text-blue-100 truncate",children:f?"Support & Assistance":I?"Nouvelle conversation":ce(C).subName||(null===C||void 0===C?void 0:C.role)||"Support"})]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[!f&&(0,kt.jsxs)(kt.Fragment,{children:[!g&&(0,kt.jsx)("button",{onClick:()=>{r&&S&&(r(S),pe())},className:"hover:bg-white/20 p-2 rounded-lg transition-colors",title:"Ouvrir en plein \xe9cran",children:(0,kt.jsx)(Wr,{className:"w-4 h-4"})}),!I&&S&&(0,kt.jsxs)("div",{className:"relative",ref:X,children:[(0,kt.jsx)("button",{onClick:()=>p(!m),className:"hover:bg-white/20 p-2 rounded-lg transition-colors",children:(0,kt.jsx)(ox,{className:"w-4 h-4"})}),m&&(0,kt.jsx)("div",{className:"absolute top-full right-0 mt-2 bg-white text-gray-800 rounded-lg shadow-xl py-2 w-48 z-10",children:(0,kt.jsxs)("button",{onClick:()=>{(async e=>{try{const t=await Xr.toggleImportant(e);t.success&&((null===C||void 0===C?void 0:C.id)===e&&_(e=>c(c({},e),{},{isimportant:t.isimportant})),await ue(!0))}catch(t){console.error("Erreur toggle important:",t)}})(S),p(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:[(0,kt.jsx)(Ex,{className:"w-4 h-4 ".concat(null!==C&&void 0!==C&&C.isimportant?"text-yellow-500 fill-yellow-500":"")}),null!==C&&void 0!==C&&C.isimportant?"Retirer l'importance":"Marquer comme important"]})})]})]}),!g&&(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("button",{onClick:()=>{h(!0)},className:"hover:bg-white/20 p-2 rounded-lg transition-colors",title:"R\xe9duire",children:(0,kt.jsx)(qr,{className:"w-4 h-4"})}),(0,kt.jsx)("button",{onClick:pe,className:"hover:bg-white/20 p-2 rounded-lg transition-colors",title:"Fermer",children:(0,kt.jsx)(Lt,{className:"w-4 h-4"})})]}),g&&(0,kt.jsx)("button",{onClick:pe,className:"hover:bg-white/20 p-2 rounded-lg transition-colors",title:"Fermer",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})})]})]}),(0,kt.jsx)("div",{className:"flex-1 overflow-hidden flex flex-col",children:f?(0,kt.jsx)("div",{className:"flex-1 overflow-y-auto",children:A?(0,kt.jsxs)("div",{className:"flex items-center justify-center h-full",children:[(0,kt.jsx)(Jr,{className:"w-8 h-8 text-blue-600 animate-spin"}),(0,kt.jsx)("span",{className:"ml-2 text-gray-500",children:"Chargement..."})]}):0===N.length?(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 px-6",children:[(0,kt.jsx)(Hr,{className:"w-16 h-16 mb-3"}),(0,kt.jsx)("p",{className:"text-sm text-center font-medium",children:"Aucune conversation"}),(0,kt.jsx)("p",{className:"text-xs text-center mt-1",children:"Lorsqu'un utilisateur vous contactera, vos conversations appara\xeetront ici."})]}):N.map(e=>{const t=ce(e),s=e.unreadcount||e.unread||0;return(0,kt.jsx)("div",{onClick:()=>{return t=e.id,E(t),x(!1),T(null),V(null),W(null),z(!1),U(null),se.current=0,void he(t);var t},className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ".concat(S===e.id?"bg-blue-50":""),children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"flex-shrink-0",children:(0,kt.jsx)("img",{src:oe(e.isanonymous,e.visitorname||e.name),alt:"Avatar",className:"w-12 h-12 rounded-full"})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,kt.jsx)("h4",{className:"font-semibold text-gray-900 truncate",children:t.mainName}),e.isimportant&&(0,kt.jsx)(Ex,{className:"w-3.5 h-3.5 text-yellow-500 fill-yellow-500 flex-shrink-0"})]}),e.lastmessageat&&(0,kt.jsx)("span",{className:"text-xs text-gray-400 flex-shrink-0",children:g?ae(e.lastmessageat):ie(e.lastmessageat)})]}),t.subName&&(0,kt.jsx)("p",{className:"text-xs text-blue-600 mb-1 truncate",children:t.subName}),e.dossierTitre&&(0,kt.jsx)("p",{className:"text-xs text-gray-500 mb-1 truncate",children:e.dossierTitre}),(0,kt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,kt.jsx)("p",{className:"text-sm truncate ".concat(s>0?"text-gray-900 font-medium":"text-gray-500"),children:g&&de(e).length>30?de(e).substring(0,30)+"...":de(e)}),s>0&&(0,kt.jsx)("span",{className:"ml-2 bg-blue-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:s})]})]})]})},e.id)})}):(0,kt.jsxs)(kt.Fragment,{children:[C&&!I&&(0,kt.jsx)("div",{className:"border-b border-gray-200 p-3 bg-gray-50 flex-shrink-0",children:(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("img",{src:oe(C.isanonymous,C.visitorname||C.name),alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("p",{className:"font-medium text-sm text-gray-900 truncate",children:C.isanonymous?"Anonyme":C.visitorname||C.name||"Visiteur"}),C.isimportant&&(0,kt.jsx)(Ex,{className:"w-3.5 h-3.5 text-yellow-500 fill-yellow-500"})]}),C.reference&&(0,kt.jsxs)("p",{className:"text-xs text-blue-600 truncate",children:[C.reference,C.dossierTitre&&(0,kt.jsxs)("span",{className:"text-gray-500 ml-1",children:["\u2022 ",C.dossierTitre]})]})]})]})}),I&&F&&(0,kt.jsx)("div",{className:"border-b border-blue-200 p-3 bg-blue-50 flex-shrink-0",children:(0,kt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,kt.jsx)(Pt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Nouvelle conversation"}),(0,kt.jsxs)("p",{className:"text-xs text-blue-700 mt-1",children:["R\xe9f\xe9rence: ",(0,kt.jsx)("strong",{children:F})]}),(0,kt.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"\xc9crivez votre message ci-dessous pour d\xe9marrer la conversation."})]})]})}),(0,kt.jsxs)("div",{ref:ee,className:"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-3",style:{paddingBottom:B?"180px":"120px"},children:[D&&(0,kt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm flex items-start gap-2",children:[(0,kt.jsx)(Pt,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,kt.jsx)("p",{children:D})]}),(null===C||void 0===C||null===(n=C.messages)||void 0===n?void 0:n.length)>0?C.messages.map((e,s)=>{var n,r,a,i;const l=e.sender,o=e.sendertype||e.sendertype,c="me"===l||"support"===o||"admin"===o||!("visitor"===l||"visitor"===o),d=ne(re(e)),u=e.text||e.content,h=e.createdat||e.createdat||e.time;let m=null;if(h){const e=C.messages[s-1],t=e?e.createdat||e.createdat||e.time:null;try{const e=new Date(h),s=t?new Date(t):null;isNaN(e.getTime())||s&&aa(e,s)&&!isNaN(s.getTime())||(m=(e=>{if(!e)return null;try{const t=new Date(e);if(isNaN(t.getTime()))return null;if(ia(t))return"Aujourd'hui";if(ca(t))return"Hier";if(ua(new Date,t)<7){const e=ai(t,"EEEE",{locale:Ni});return e.charAt(0).toUpperCase()+e.slice(1)}return ai(t,"dd/MM/yyyy")}catch(qx){return null}})(h))}catch(qx){}}return(0,kt.jsxs)(t.Fragment,{children:[m&&(0,kt.jsx)("div",{className:"flex justify-center my-3",children:(0,kt.jsx)("span",{className:"bg-white text-gray-500 text-xs font-medium px-3 py-1 rounded-lg shadow-sm border border-gray-200",children:m})}),(0,kt.jsxs)("div",{className:"flex ".concat(c?"justify-end":"justify-start"),children:[!c&&(0,kt.jsx)("div",{className:"flex-shrink-0 self-end mb-1",children:(0,kt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:C.isanonymous||!C.visitorname||"Anonyme"===C.visitorname?(0,kt.jsx)(Ar,{className:"w-5 h-5 text-gray-500"}):(0,kt.jsx)("span",{className:"text-xs font-bold text-gray-600",children:(C.visitorname||"V").charAt(0).toUpperCase()})})}),(0,kt.jsx)("div",{className:"".concat(c?"":"ml-2"),style:{maxWidth:g?"85%":"75%"},children:(0,kt.jsxs)("div",{className:"rounded-2xl shadow-sm overflow-hidden ".concat(c?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-800 border border-gray-200 rounded-bl-sm"),children:["image"===e.type&&d&&(0,kt.jsxs)("div",{className:"relative group",children:[(0,kt.jsx)("img",{src:d,alt:(null===(n=re(e))||void 0===n?void 0:n.name)||"Image",className:"w-full cursor-pointer rounded-lg",style:{maxHeight:g?"200px":"300px",maxWidth:g?"250px":"320px",objectFit:"cover"},onClick:()=>ge(d),onError:e=>{console.error("Erreur chargement image:",d),e.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"}}),(0,kt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all flex items-center justify-center rounded-lg",children:(0,kt.jsx)("button",{onClick:()=>ge(d),className:"opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all bg-white/90 hover:bg-white p-2 rounded-full shadow-lg",children:(0,kt.jsx)(Ir,{className:"w-5 h-5 text-gray-800"})})})]}),"video"===e.type&&d&&(0,kt.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[(0,kt.jsxs)("video",{controls:!0,className:"w-full",style:{maxHeight:g?"200px":"250px"},preload:"metadata",onError:()=>console.error("Erreur chargement vid\xe9o:",d),children:[(0,kt.jsx)("source",{src:d,type:(null===(r=re(e))||void 0===r?void 0:r.type)||"video/mp4"}),"Votre navigateur ne supporte pas la lecture vid\xe9o."]}),(0,kt.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,kt.jsx)(zr,{className:"w-3 h-3"}),"Vid\xe9o"]})]}),"file"===e.type&&d&&(0,kt.jsxs)("div",{className:"p-3 ".concat(c?"bg-blue-700":"bg-gray-50"),children:[(0,kt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,kt.jsx)("div",{className:"p-2 rounded-lg ".concat(c?"bg-blue-800":"bg-white border border-gray-200"),children:(0,kt.jsx)(Fr,{className:"w-5 h-5 ".concat(c?"text-white":"text-gray-600")})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-sm font-medium truncate ".concat(c?"text-white":"text-gray-800"),children:(null===(a=re(e))||void 0===a?void 0:a.name)||"Fichier"}),(null===(i=re(e))||void 0===i?void 0:i.filesize)&&(0,kt.jsx)("p",{className:"text-xs ".concat(c?"text-blue-100":"text-gray-500"),children:le(re(e).filesize)})]})]}),(0,kt.jsxs)("div",{className:"flex gap-2 mt-3 ".concat(g?"flex-col":""),children:[(0,kt.jsxs)("a",{href:d,target:"_blank",rel:"noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(c?"bg-blue-800 hover:bg-blue-900 text-white":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"),children:[(0,kt.jsx)(Pr,{className:"w-3.5 h-3.5"}),"Voir"]}),(0,kt.jsxs)("a",{href:d,download:!0,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(c?"bg-white/20 hover:bg-white/30 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:[(0,kt.jsx)(Or,{className:"w-3.5 h-3.5"}),"T\xe9l\xe9charger"]})]})]}),u&&(0,kt.jsx)("div",{className:"px-4 py-3",children:(0,kt.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:u})}),(0,kt.jsxs)("div",{className:"px-4 pb-2 flex items-center ".concat(c?"justify-end":"justify-start"," gap-1 text-[10px] ").concat(c?"text-blue-100":"text-gray-400"),children:[(0,kt.jsx)("span",{children:ae(h)}),c&&(0,kt.jsx)(ve,{status:e.status})]})]})})]})]},e.id||s)}):(0,kt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,kt.jsx)(Hr,{className:"w-12 h-12 mb-2"}),(0,kt.jsx)("p",{className:"text-sm",children:I?"Aucun message pour le moment":"Aucun message"}),(0,kt.jsx)("p",{className:"text-xs",children:I?"\xc9crivez le premier message":"En attente du premier message"})]}),(0,kt.jsx)("div",{ref:$})]})]})}),(0,kt.jsxs)("div",{ref:te,className:"border-t border-gray-200 bg-white flex-shrink-0",style:{position:g?"fixed":"relative",bottom:g?"0":"auto",left:g?"0":"auto",right:g?"0":"auto",width:g?"100%":"auto",zIndex:10,boxShadow:g?"0 -2px 10px rgba(0,0,0,0.1)":"none"},children:[B&&(0,kt.jsx)("div",{className:"p-3 bg-white border-b border-gray-200",children:(0,kt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,kt.jsx)("div",{className:"flex-shrink-0",children:H&&B.type.startsWith("image/")?(0,kt.jsx)("img",{src:H,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):H&&B.type.startsWith("video/")?(0,kt.jsx)("video",{src:H,className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):(0,kt.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center border border-gray-200",children:(0,kt.jsx)(Yr,{className:"w-8 h-8 text-gray-400"})})}),(0,kt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,kt.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:B.name}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:le(B.size)}),O&&(0,kt.jsxs)("div",{className:"mt-2",children:[(0,kt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,kt.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-200",style:{width:"".concat(q,"%")}})}),(0,kt.jsxs)("p",{className:"text-[10px] text-gray-500 mt-1",children:[q,"%"]})]})]}),(0,kt.jsxs)("div",{className:"flex gap-2",children:[(0,kt.jsx)("button",{onClick:()=>{V(null),W(null),Y(0),T(null)},disabled:O,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",title:"Annuler",children:(0,kt.jsx)(Lt,{className:"w-5 h-5"})}),(0,kt.jsx)("button",{onClick:async()=>{if(B&&S){L(!0),T(null);try{let e="file";B.type.startsWith("image/")?e="image":B.type.startsWith("video/")&&(e="video");const t=await Xr.uploadFile(S,B,e,e=>Y(e));if(!t.success)throw new Error(t.message||"Erreur lors de l'envoi du fichier");V(null),W(null),Y(0),await he(S,!0)}catch(e){console.error("Erreur envoi fichier:",e),T(e.message||"Erreur lors de l'envoi du fichier")}finally{L(!1)}}},disabled:O,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",title:"Envoyer",children:O?(0,kt.jsx)(Jr,{className:"w-5 h-5 animate-spin"}):(0,kt.jsx)(Kr,{className:"w-5 h-5"})})]})]})}),(0,kt.jsx)("div",{className:"p-3 bg-white",children:(0,kt.jsxs)("div",{className:"flex items-end gap-2",children:[(0,kt.jsxs)("div",{className:"flex gap-1",children:[(0,kt.jsx)("button",{onClick:()=>{var e;return null===(e=Q.current)||void 0===e?void 0:e.click()},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre un fichier",disabled:!S&&!I,children:(0,kt.jsx)(Fr,{className:"w-5 h-5"})}),(0,kt.jsx)("button",{onClick:()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.click()},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre une image",disabled:!S&&!I,children:(0,kt.jsx)(Gr,{className:"w-5 h-5"})})]}),(0,kt.jsx)("div",{className:"flex-1",children:(0,kt.jsx)("textarea",{ref:G,rows:1,value:w,onChange:e=>j(e.target.value),placeholder:"\xc9crivez un message...",className:"w-full resize-none border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent max-h-[120px]",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),xe())},disabled:R||O})}),(0,kt.jsx)("button",{onClick:xe,disabled:R||O||!w.trim(),className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Envoyer",children:R?(0,kt.jsx)(Jr,{className:"w-5 h-5 animate-spin"}):(0,kt.jsx)(Kr,{className:"w-5 h-5"})})]})})]})]})]}):(0,kt.jsxs)(kt.Fragment,{children:[ye,(0,kt.jsxs)("button",{onClick:me,className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-2xl transition-all duration-300 hover:scale-110 z-50 p-4",title:"Ouvrir les conversations",children:[(0,kt.jsx)(Hr,{className:"w-7 h-7"}),N.filter(e=>(e.unreadcount||e.unread||0)>0).length>0&&(0,kt.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:N.filter(e=>(e.unreadcount||e.unread||0)>0).length})]})]})},Rx=e=>{let{onDeconnexion:s}=e;const[n,r]=(0,t.useState)("dashboard"),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)(!1),[m,p]=(0,t.useState)(null);(0,t.useEffect)(()=>{(()=>{try{const e=Ri.getUser();e&&e.email?o(e):s&&s()}catch(e){s&&s()}finally{d(!1)}})()},[s]);const f=e=>{p(e),h(!0)},x=()=>{i(!a)};return c?(0,kt.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,kt.jsx)("p",{className:"text-gray-600",children:"Chargement du tableau de bord..."})]})}):l?(0,kt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,kt.jsx)(ll,{currentView:n,onViewChange:r,collapsed:a,onToggle:x}),(0,kt.jsxs)("div",{className:"\n          flex flex-col min-h-screen transition-all duration-300 ease-in-out\n          ".concat(a?"lg:ml-20":"lg:ml-72","\n          ml-0\n        "),children:[(0,kt.jsx)("div",{className:"h-16 md:h-20",children:(0,kt.jsx)(nl,{onNavigateToNotifications:()=>r("notifications"),onDeconnexion:s,onNavigateToProfile:()=>r("profil"),adminData:l,userRole:"admin",onToggleSidebar:x,sidebarCollapsed:a})}),(0,kt.jsx)("main",{className:"flex-1 px-4 md:px-8 pt-6 pb-8 bg-gray-50 overflow-x-hidden",children:(()=>{switch(n){case"dashboard":default:return(0,kt.jsx)(sf,{});case"reports":return(0,kt.jsx)(gf,{onContactReference:f});case"chat":return(0,kt.jsx)(Dx,{});case"indicateurs":return(0,kt.jsx)(vf(),{});case"enseignants":return(0,kt.jsx)(kx,{});case"equipe":return(0,kt.jsx)(lx,{});case"audit":return(0,kt.jsx)(Mf,{});case"notifications":return(0,kt.jsx)(kf,{});case"profil":return(0,kt.jsx)(Wf,{userData:l})}})()})]}),"chat"!==n&&(0,kt.jsx)(Tx,{onOpenFullChat:e=>{r("chat")},autoOpen:u,targetReference:m,onAutoOpenHandled:()=>h(!1)})]}):(0,kt.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,kt.jsx)("div",{className:"text-center text-red-600",children:(0,kt.jsx)("p",{children:"Authentification requise"})})})},Px=e=>{let{currentView:t,onViewChange:s,collapsed:n,onToggle:r}=e;const a=[{id:"dashboard",label:"Tableau de bord",icon:(0,kt.jsx)(rl,{size:20})},{id:"AgentReportView",label:"Gestion de signalements",icon:(0,kt.jsx)(Yr,{size:20})}];return(0,kt.jsxs)("aside",{className:"\n        fixed left-0 top-20 bottom-0 bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out z-30\n        ".concat(n?"w-20":"w-64","\n      "),children:[(0,kt.jsxs)("div",{className:"relative flex items-center justify-end px-4 pt-4 pb-2 h-12 shrink-0",children:[!n&&(0,kt.jsx)("h2",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Menu Agent"}),(0,kt.jsx)("button",{onClick:r,className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors relative z-10","aria-label":n?"Agrandir le menu":"R\xe9duire le menu",children:n?(0,kt.jsx)(Vr,{size:20}):(0,kt.jsx)(Rt,{size:20})})]}),(0,kt.jsx)("nav",{className:"flex-1 overflow-y-auto px-3 space-y-1 mt-2",children:a.map(e=>(0,kt.jsxs)("button",{onClick:()=>s(e.id),className:"\n              w-full flex items-center p-3 rounded-lg transition-colors duration-200 group relative\n              ".concat(t===e.id?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n            "),title:n?e.label:"",children:[(0,kt.jsx)("span",{className:"flex-shrink-0 ".concat(n?"mx-auto":""),children:e.icon}),!n&&(0,kt.jsx)("span",{className:"ml-3 truncate text-sm",children:e.label}),t===e.id&&!n&&(0,kt.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-600"}),n&&(0,kt.jsx)("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:e.label})]},e.id))}),!n&&(0,kt.jsx)("div",{className:"p-4 border-t border-gray-100 text-xs text-center text-gray-400 shrink-0",children:"\xa9 daaq-mesupres 2025"})]})},Ox=e=>{let{isSorted:t,isAsc:s}=e;return t?s?(0,kt.jsx)(Jp,{className:"w-3 h-3 text-blue-600"}):(0,kt.jsx)(Kp,{className:"w-3 h-3 text-blue-600"}):(0,kt.jsx)(Yp,{className:"w-3 h-3 text-gray-400"})},Lx=()=>{const[e,s]=(0,t.useState)({search:"",statut:"",dateDebut:"",dateFin:""}),[n,r]=(0,t.useState)(1),[a,i]=(0,t.useState)(10),[l,o]=(0,t.useState)([]),[d,u]=(0,t.useState)(!0),[h,m]=(0,t.useState)(null),[p,f]=(0,t.useState)(null),[x,g]=(0,t.useState)("tous"),[b,v]=(0,t.useState)({general:!0,auteur:!0,description:!0,pieces:!0}),[y,w]=(0,t.useState)({key:"date",direction:"desc"}),j=[{id:"faux-diplomes",icon:Yr,name:"Faux Dipl\xf4mes"},{id:"offre-formation-irreguliere",icon:zi,name:"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)"},{id:"recrutements-irreguliers",icon:nf,name:"Recrutements Irr\xe9guliers"},{id:"harcelement",icon:af,name:"Harc\xe8lement"},{id:"corruption",icon:af,name:"Corruption"},{id:"divers",icon:lf,name:"Divers"}];(0,t.useEffect)(()=>{(async()=>{u(!0),m(null);try{const e=(await or.get("/reports?per_page=1000")).data;if(e.success&&Array.isArray(e.data)){const t=e.data.map(e=>{let t=[];try{e.files&&("string"===typeof e.files?t=JSON.parse(e.files):Array.isArray(e.files)&&(t=e.files))}catch(qx){}const s=e.description||"Aucune description",n=s.length>80?s.substring(0,80)+"...":s;return{id:e.id,reference:e.reference,date:e.created_at,nom_prenom:e.is_anonymous?"Anonyme":e.name||"Non sp\xe9cifi\xe9",telephone:e.phone||"N/A",email:e.email||"N/A",categorie:e.category,categorieLabel:e.category,raison:e.title||"Non sp\xe9cifi\xe9",type_signalement:e.is_anonymous?"Anonyme":"Non-Anonyme",explication:e.description||"Aucune description",shortDescription:n,files:t,status:e.status||"en_cours",assigned_to:e.assigned_to||"Non assign\xe9",city:e.city,province:e.province,region:e.region,has_proof:e.has_proof||!1}});o(t)}else o([])}catch(h){var e,t;m((null===(e=h.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||h.message)}finally{u(!1)}})()},[]);const N=e=>{if("tous"===e){return{total:l.length,encours:l.filter(e=>"en_cours"===e.status).length,resolus:l.filter(e=>"classifier"===e.status).length}}const t=l.filter(t=>t.categorie===e);return{total:t.length,encours:t.filter(e=>"en_cours"===e.status).length,resolus:t.filter(e=>"classifier"===e.status).length}},k=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(qx){return e}},S=e=>({en_cours:"En cours",investigation:"Ouverture d'enqu\xeates",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes",classifier:"Dossier class\xe9 sans suite"}[e]||e),E=e=>({investigateur:"Investigateur",cac_daj:"DAAQ / CAC / DAJ",autorite_competente:"Autorit\xe9 comp\xe9tente"}[e]||e||"Non assign\xe9"),C=(0,t.useMemo)(()=>[...l].sort((e,t)=>{if(!y.key)return 0;let s=e[y.key],n=t[y.key];return"date"===y.key&&(s=new Date(s),n=new Date(n)),"reference"===y.key&&(s=s.toLowerCase(),n=n.toLowerCase()),s<n?"asc"===y.direction?-1:1:s>n?"asc"===y.direction?1:-1:0}),[l,y]),_=(0,t.useMemo)(()=>{let t=C;return"tous"!==x&&(t=t.filter(e=>e.categorie===x)),(e.dateDebut||e.dateFin)&&(t=t.filter(t=>{const s=new Date(t.date),n=e.dateDebut?new Date(e.dateDebut):null,r=e.dateFin?new Date(e.dateFin):null;let a=!0;if(n&&(a=a&&s>=n),r){const e=new Date(r);e.setDate(e.getDate()+1),a=a&&s<e}return a})),t.filter(t=>{const s=!e.search||t.reference.toLowerCase().includes(e.search.toLowerCase())||t.nom_prenom.toLowerCase().includes(e.search.toLowerCase())||t.categorieLabel&&t.categorieLabel.toLowerCase().includes(e.search.toLowerCase())||t.explication.toLowerCase().includes(e.search.toLowerCase()),n=!e.statut||t.status===e.statut;return s&&n})},[C,e,x]),A=Math.ceil(_.length/a),M=n*a,D=M-a,T=_.slice(D,M),R=e=>{w(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})),r(1)},P=(e,t)=>{s(s=>c(c({},s),{},{[e]:t})),r(1)},O=e=>{f(e),setTimeout(()=>{const e=document.querySelector(".print-section");if(e){const t=document.body.innerHTML,s=e.innerHTML;document.body.innerHTML=s,window.print(),document.body.innerHTML=t,window.location.reload()}},500)},L=e=>{v(t=>c(c({},t),{},{[e]:!t[e]}))},I=j.find(e=>e.id===x),z=N(x);return p?(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("style",{children:"\n            @media print {\n              body * {\n                visibility: hidden;\n              }\n              \n              .print-section,\n              .print-section * {\n                visibility: visible;\n              }\n              \n              .print-section {\n                position: absolute;\n                left: 0;\n                top: 0;\n                width: 100%;\n                background: white;\n                padding: 20px;\n              }\n              \n              .no-print {\n                display: none !important;\n              }\n              \n              .print-actions {\n                display: none !important;\n              }\n            }\n          "}),(0,kt.jsxs)("div",{className:"print-section p-4 bg-white min-h-screen",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-4 no-print",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsxs)("h1",{className:"text-lg font-bold text-gray-900",children:["D\xe9tail du Signalement - ",p.reference]}),(0,kt.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[k(p.date)," \u2022"," ",p.categorieLabel]})]}),(0,kt.jsxs)("button",{onClick:()=>f(null),className:"flex items-center gap-2 px-3 py-2 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,kt.jsx)(Rt,{className:"w-3 h-3"}),"Retour \xe0 la liste"]})]}),(0,kt.jsxs)("div",{className:"space-y-3",children:[(0,kt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,kt.jsxs)("button",{onClick:()=>L("general"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,kt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations G\xe9n\xe9rales"})]}),b.general?(0,kt.jsx)(of,{className:"w-4 h-4 text-gray-500"}):(0,kt.jsx)(tl,{className:"w-4 h-4 text-gray-500"})]}),b.general&&(0,kt.jsx)("div",{className:"px-3 pb-3",children:(0,kt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-xs",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"R\xe9f\xe9rence:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:p.reference})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Date:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:k(p.date)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Cat\xe9gorie:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:p.categorieLabel})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Statut:"}),(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===p.status?"bg-yellow-100 text-yellow-800":"classifier"===p.status?"bg-blue-100 text-blue-800":"investigation"===p.status?"bg-purple-100 text-purple-800":"transmis_autorite"===p.status?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:S(p.status)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Assign\xe9 \xe0:"}),(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("investigateur"===p.assigned_to?"bg-indigo-100 text-indigo-800":"cac_daj"===p.assigned_to?"bg-blue-100 text-blue-800":"autorite_competente"===p.assigned_to?"bg-cyan-100 text-cyan-800":"bg-gray-100 text-gray-800"),children:E(p.assigned_to)})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Type:"}),(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:p.type_signalement})]})]})})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,kt.jsxs)("button",{onClick:()=>L("auteur"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,kt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations de l'Auteur"})]}),b.auteur?(0,kt.jsx)(of,{className:"w-4 h-4 text-gray-500"}):(0,kt.jsx)(tl,{className:"w-4 h-4 text-gray-500"})]}),b.auteur&&(0,kt.jsx)("div",{className:"px-3 pb-3",children:"Anonyme"===p.type_signalement?(0,kt.jsxs)("div",{className:"text-center py-3",children:[(0,kt.jsx)(il,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,kt.jsx)("p",{className:"text-xs text-gray-600",children:"Signalement anonyme"})]}):(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Nom / Pr\xe9nom:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:p.nom_prenom})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Email:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:p.email})]}),(0,kt.jsxs)("div",{children:[(0,kt.jsx)("span",{className:"text-gray-600 block mb-1",children:"T\xe9l\xe9phone:"}),(0,kt.jsx)("p",{className:"font-medium text-sm",children:p.telephone})]})]})})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,kt.jsxs)("button",{onClick:()=>L("description"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,kt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Description du Signalement"})]}),b.description?(0,kt.jsx)(of,{className:"w-4 h-4 text-gray-500"}):(0,kt.jsx)(tl,{className:"w-4 h-4 text-gray-500"})]}),b.description&&(0,kt.jsx)("div",{className:"px-3 pb-3",children:(0,kt.jsx)("div",{className:"bg-gray-50 rounded-md p-3 text-xs leading-relaxed",children:p.explication})})]}),(0,kt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,kt.jsxs)("button",{onClick:()=>L("pieces"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,kt.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,kt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Pi\xe8ces Jointes"})]}),b.pieces?(0,kt.jsx)(of,{className:"w-4 h-4 text-gray-500"}):(0,kt.jsx)(tl,{className:"w-4 h-4 text-gray-500"})]}),b.pieces&&(0,kt.jsx)("div",{className:"px-3 pb-3",children:p.files&&p.files.length>0?(0,kt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:p.files.map((e,t)=>{var s;const n="string"===typeof e?e:e.name||"",r=null===(s=n.split(".").pop())||void 0===s?void 0:s.toLowerCase(),a=["jpg","jpeg","png","gif","webp"].includes(r),i="pdf"===r;return(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg border overflow-hidden",children:[(0,kt.jsx)("div",{className:"aspect-video bg-white flex items-center justify-center",children:a?(0,kt.jsx)("img",{src:"".concat(or.defaults.baseURL,"/files/").concat(encodeURIComponent(n)),alt:n,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='120'%3E%3Crect width='100%25' height='100%25' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%239ca3af' font-size='12'%3EImpossible de charger l'image%3C/text%3E%3C/svg%3E"}}):i?(0,kt.jsxs)("div",{className:"text-center p-2",children:[(0,kt.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,kt.jsx)("span",{className:"text-red-600 font-bold text-xs",children:"PDF"})}),(0,kt.jsx)("p",{className:"text-xs text-gray-600",children:"Document PDF"})]}):(0,kt.jsxs)("div",{className:"text-center p-2",children:[(0,kt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,kt.jsx)("span",{className:"text-gray-600 font-bold text-xs",children:null===r||void 0===r?void 0:r.toUpperCase()})}),(0,kt.jsxs)("p",{className:"text-xs text-gray-600",children:["Fichier ",r]})]})}),(0,kt.jsxs)("div",{className:"p-2",children:[(0,kt.jsx)("p",{className:"text-xs font-medium truncate mb-1",title:n,children:n}),(0,kt.jsxs)("div",{className:"flex gap-1",children:[(0,kt.jsx)("button",{onClick:()=>(e=>{const t=encodeURIComponent(e),s="".concat(or.defaults.baseURL,"/files/").concat(t);window.open(s,"_blank")})(n),className:"flex-1 bg-blue-50 text-blue-600 py-1 px-1 rounded text-xs hover:bg-blue-100 transition-colors",children:"Voir"}),(0,kt.jsx)("button",{onClick:()=>(async e=>{try{const t=encodeURIComponent(e),s=await or.get("/files/".concat(t,"/download"),{responseType:"blob"}),n=window.URL.createObjectURL(new Blob([s.data])),r=document.createElement("a");r.href=n,r.setAttribute("download",e),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(n)}catch(h){alert("Erreur lors du t\xe9l\xe9chargement du fichier")}})(n),className:"flex-1 bg-gray-100 text-gray-700 py-1 px-1 rounded text-xs hover:bg-gray-200 transition-colors",children:"T\xe9l\xe9charger"})]})]})]},t)})}):(0,kt.jsxs)("div",{className:"text-center py-4",children:[(0,kt.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,kt.jsx)(Or,{className:"w-6 h-6 text-gray-400"})}),(0,kt.jsx)("p",{className:"text-xs text-gray-600",children:"Aucun fichier joint"})]})})]})]}),(0,kt.jsx)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t no-print",children:(0,kt.jsx)("div",{className:"flex gap-2",children:(0,kt.jsxs)("button",{onClick:()=>O(p),className:"flex items-center gap-1 px-3 py-1 text-xs bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,kt.jsx)(uf,{className:"w-3 h-3"}),"Imprimer"]})})})]})]}):(0,kt.jsxs)("div",{className:"p-4",children:[(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,kt.jsxs)("div",{children:[(0,kt.jsx)("h1",{className:"text-base font-semibold",children:"Liste compl\xe8te des signalements (Agent)"}),(0,kt.jsx)("p",{className:"text-xs text-gray-500",children:"Consultation et visualisation des dossiers avec filtres avanc\xe9s."})]}),(0,kt.jsx)("div",{className:"flex items-center gap-2",children:(0,kt.jsxs)("button",{onClick:()=>{const e=[["ID","R\xc9F\xc9RENCE","DATE","NOM / PR\xc9NOM","CAT\xc9GORIE","STATUT","ASSIGN\xc9 \xc0"],..._.map(e=>[e.id,e.reference,k(e.date),e.nom_prenom,e.categorieLabel||"N/A",S(e.status),E(e.assigned_to)])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),n=URL.createObjectURL(t);s.setAttribute("href",n),s.setAttribute("download","signalements_agent_".concat((new Date).toISOString().split("T")[0],".csv")),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-md hover:bg-gray-50",children:[(0,kt.jsx)(Or,{className:"w-3 h-3"}),"Exporter CSV"]})})]}),(0,kt.jsxs)("div",{className:"mb-6 bg-white rounded-lg border p-4",children:[(0,kt.jsxs)("div",{className:"mb-4",children:[(0,kt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Analyse D\xe9taill\xe9e par Cat\xe9gories"}),(0,kt.jsx)("p",{className:"text-sm text-gray-600",children:"Visualisation et analyse approfondie des signalements par cat\xe9gorie"})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-2 mb-4",children:[(0,kt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat("tous"===x?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>g("tous"),children:[(0,kt.jsx)(mf,{className:"w-5 h-5 mb-1"}),(0,kt.jsx)("span",{className:"text-xs font-medium",children:"Toutes"})]}),j.map(e=>{const t=N(e.id),s=e.icon;return(0,kt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat(x===e.id?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>g(e.id),title:e.name,children:[(0,kt.jsx)(s,{className:"w-5 h-5 mb-1"}),(0,kt.jsx)("span",{className:"text-xs font-medium truncate w-full text-center",children:e.name.split(" ")[0]}),(0,kt.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:t.total})]},e.id)})]}),(0,kt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,kt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"tous"===x?"Synth\xe8se - Toutes cat\xe9gories":"Synth\xe8se - ".concat(null===I||void 0===I?void 0:I.name)}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,kt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,kt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"tous"===x?C.length:z.total}),(0,kt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"Signalements totaux"})]}),(0,kt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,kt.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:"tous"===x?l.filter(e=>"en_cours"===e.status).length:z.encours}),(0,kt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"En cours"})]}),(0,kt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,kt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"tous"===x?l.filter(e=>"classifier"===e.status).length:z.resolus}),(0,kt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"R\xe9solus"})]})]})]})]}),(0,kt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-3",children:[(0,kt.jsx)("div",{className:"md:col-span-2",children:(0,kt.jsx)("input",{type:"text",value:e.search,onChange:e=>P("search",e.target.value),placeholder:"Rechercher par r\xe9f\xe9rence, nom, description...",className:"w-full px-2 py-1 text-xs border rounded-md"})}),(0,kt.jsx)("div",{children:(0,kt.jsx)("input",{type:"date",value:e.dateDebut,onChange:e=>P("dateDebut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date d\xe9but"})}),(0,kt.jsx)("div",{children:(0,kt.jsx)("input",{type:"date",value:e.dateFin,onChange:e=>P("dateFin",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date fin"})}),(0,kt.jsx)("div",{children:(0,kt.jsxs)("select",{value:e.statut,onChange:e=>P("statut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",children:[(0,kt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,kt.jsx)("option",{value:"en_cours",children:"En cours"}),(0,kt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,kt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,kt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"})]})})]}),(0,kt.jsxs)("div",{className:"flex items-center justify-between mb-2 text-xs",children:[(0,kt.jsxs)("button",{onClick:()=>{s({search:"",statut:"",dateDebut:"",dateFin:""}),r(1)},className:"flex items-center gap-1 px-2 py-1 border rounded-md hover:bg-gray-50",children:[(0,kt.jsx)(Lt,{className:"w-3 h-3"}),"R\xe9initialiser les filtres"]}),(0,kt.jsxs)("div",{className:"text-gray-500",children:[_.length," signalements trouv\xe9s"]})]}),h&&(0,kt.jsxs)("div",{className:"flex items-center gap-2 p-2 mb-2 text-xs text-red-700 bg-red-50 border border-red-200 rounded-md",children:[(0,kt.jsx)(Pt,{className:"w-4 h-4"}),(0,kt.jsxs)("span",{children:["Erreur lors du chargement des donn\xe9es : ",h]})]}),(0,kt.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,kt.jsx)("div",{className:"overflow-x-auto",children:d?(0,kt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Chargement en cours..."}):0===_.length?(0,kt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Aucun signalement trouv\xe9 avec les filtres actuels"}):(0,kt.jsxs)("table",{className:"min-w-full text-xs",children:[(0,kt.jsx)("thead",{className:"bg-gray-50",children:(0,kt.jsxs)("tr",{children:[(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,kt.jsxs)("button",{onClick:()=>R("id"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,kt.jsx)("span",{children:"ID"}),(0,kt.jsx)(Ox,{isSorted:"id"===y.key,isAsc:"asc"===y.direction})]})}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,kt.jsxs)("button",{onClick:()=>R("reference"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,kt.jsx)("span",{children:"R\xc9F\xc9RENCE"}),(0,kt.jsx)(Ox,{isSorted:"reference"===y.key,isAsc:"asc"===y.direction})]})}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,kt.jsxs)("button",{onClick:()=>R("date"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,kt.jsx)("span",{children:"DATE"}),(0,kt.jsx)(Ox,{isSorted:"date"===y.key,isAsc:"asc"===y.direction})]})}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:"NOM / PR\xc9NOM"}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:"CAT\xc9GORIE"}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:"DESCRIPTION"}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:"STATUT"}),(0,kt.jsx)("th",{className:"px-2 py-2 text-left",children:"ACTIONS"})]})}),(0,kt.jsx)("tbody",{children:T.map(e=>(0,kt.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,kt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.id}),(0,kt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.reference}),(0,kt.jsx)("td",{className:"px-2 py-2",children:k(e.date)}),(0,kt.jsx)("td",{className:"px-2 py-2",children:e.nom_prenom}),(0,kt.jsx)("td",{className:"px-2 py-2",children:e.categorieLabel}),(0,kt.jsx)("td",{className:"px-2 py-2 max-w-[150px]",children:(0,kt.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2",children:e.shortDescription})}),(0,kt.jsx)("td",{className:"px-2 py-2",children:(0,kt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-yellow-100 text-yellow-800":"classifier"===e.status?"bg-blue-100 text-blue-800":"investigation"===e.status?"bg-purple-100 text-purple-800":"transmis_autorite"===e.status?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:S(e.status)})}),(0,kt.jsx)("td",{className:"px-2 py-2",children:(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,kt.jsx)("button",{onClick:()=>(e=>{f((null===p||void 0===p?void 0:p.id)===e.id?null:e),v({general:!0,auteur:!0,description:!0,pieces:!0})})(e),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Voir d\xe9tails",children:(0,kt.jsx)(Pr,{className:"w-3 h-3"})}),(0,kt.jsx)("button",{onClick:()=>O(e),className:"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Imprimer",children:(0,kt.jsx)(uf,{className:"w-3 h-3"})})]})})]},e.id))})]})}),_.length>0&&(0,kt.jsxs)("div",{className:"flex items-center justify-between px-2 py-2 border-t bg-gray-50",children:[(0,kt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,kt.jsx)("span",{children:"\xc9l\xe9ments par page :"}),(0,kt.jsxs)("select",{value:a,onChange:e=>{i(Number(e.target.value)),r(1)},className:"px-2 py-1 border rounded-md text-xs",children:[(0,kt.jsx)("option",{value:10,children:"10"}),(0,kt.jsx)("option",{value:30,children:"30"}),(0,kt.jsx)("option",{value:50,children:"50"}),(0,kt.jsx)("option",{value:100,children:"100"})]}),(0,kt.jsxs)("span",{className:"text-gray-500",children:[D+1,"-",Math.min(M,_.length)," sur"," ",_.length]})]}),(0,kt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,kt.jsx)("button",{onClick:()=>r(e=>Math.max(1,e-1)),disabled:1===n,className:"p-1 border rounded-md disabled:opacity-50",children:(0,kt.jsx)(Rt,{className:"w-4 h-4"})}),(()=>{const e=[];if(A<=7)for(let t=1;t<=A;t++)e.push(t);else{e.push(1);let t=Math.max(2,n-2),s=Math.min(A-1,n+2);n<=3&&(s=5),n>=A-2&&(t=A-5+1),t>2&&e.push("...");for(let n=t;n<=s;n++)e.push(n);s<A-1&&e.push("..."),e.push(A)}return e})().map((e,t)=>"..."===e?(0,kt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,kt.jsx)("button",{onClick:()=>r(e),className:"px-2 py-1 text-xs border rounded-md ".concat(n===e?"bg-blue-600 text-white":"bg-white"),children:e},e)),(0,kt.jsx)("button",{onClick:()=>r(e=>Math.min(A,e+1)),disabled:n===A||0===A,className:"p-1 border rounded-md disabled:opacity-50",children:(0,kt.jsx)(Vr,{className:"w-4 h-4"})})]})]})]})]})},Ix=e=>{let{onDeconnexion:s}=e;const[n,r]=(0,t.useState)("dashboard"),[a,i]=(0,t.useState)(!1),[l,o]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(()=>{try{const e=Ri.getUser();e&&e.email?o(e):null===s||void 0===s||s()}catch(e){null===s||void 0===s||s()}finally{d(!1)}})()},[s]);return c?(0,kt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-green-600 mx-auto"}),(0,kt.jsx)("p",{className:"mt-6 text-lg text-gray-600",children:"Chargement..."})]})}):l?(0,kt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,kt.jsx)(nl,{adminData:l,onDeconnexion:s,onNavigateToProfile:()=>r("profil"),onNavigateToNotifications:()=>r("notifications")}),(0,kt.jsxs)("div",{className:"flex pt-20",children:[(0,kt.jsx)(Px,{currentView:n,onViewChange:r,collapsed:a,onToggle:()=>i(!a)}),(0,kt.jsxs)("main",{className:"flex-1 transition-all duration-300 ".concat(a?"ml-16":"ml-64"," p-8"),children:["dashboard"===n&&(0,kt.jsx)(sf,{data:l}),"signalements"===n&&(0,kt.jsx)(gf,{data:l}),"AgentReportView"===n&&(0,kt.jsx)(Lx,{}),"notifications"===n&&(0,kt.jsx)(kf,{data:l}),"profil"===n&&(0,kt.jsx)(Wf,{onReturnToDashboard:()=>r("dashboard"),onAvatarUpdate:()=>window.location.reload()})]})]})]}):(0,kt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,kt.jsxs)("div",{className:"text-center",children:[(0,kt.jsx)("p",{className:"text-xl text-red-600",children:"Authentification requise"}),(0,kt.jsx)("button",{onClick:s,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded",children:"Retour au login"})]})})},zx=Tt("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Fx=()=>{const[e,s]=(0,t.useState)(""),[n,r]=(0,t.useState)(!1),[a,i]=(0,t.useState)(""),[l,o]=(0,t.useState)(""),[c,d]=(0,t.useState)(900),[u,h]=(0,t.useState)(""),m=(0,t.useRef)(null),p=pe();(0,t.useEffect)(()=>{if(!Ri.isAuthenticated())return void p("/login",{replace:!0});const e=Ri.getUser();null!==e&&void 0!==e&&e.email&&h(g(e.email)),f();const t=setInterval(()=>{d(e=>e>0?e-1:0)},1e3);return()=>clearInterval(t)},[f,p]),(0,t.useEffect)(()=>{m.current&&m.current.focus()},[]);const f=async()=>{try{const e=await or.get("/auth/check-2fa-required");e.data.two_factor_verified&&!e.data.requires_2fa&&x()}catch(t){var e;401===(null===(e=t.response)||void 0===e?void 0:e.status)&&(Ri.clearAuthData(),p("/login",{replace:!0}))}},x=()=>{const e=sessionStorage.getItem("redirect_after_2fa");if(sessionStorage.removeItem("redirect_after_2fa"),e)window.location.href=e;else{const e=Ri.getRole(),t={admin:"/admin",agent:"/agent",investigateur:"/investigateur"};window.location.href=t[e]||"/admin"}},g=e=>{if(!e||!e.includes("@"))return e;const[t,s]=e.split("@"),n=t.slice(0,2)+"\u2022\u2022\u2022"+t.slice(-1);return"".concat(n,"@").concat(s)},b=async t=>{if(null===t||void 0===t||t.preventDefault(),6===e.length){r(!0),i(""),o("");try{const t=await or.post("/auth/verify-2fa",{code:e.trim()});o("Code v\xe9rifi\xe9 !"),t.data.user&&Ri.setUser(t.data.user,Ri.isRemembered()),setTimeout(()=>x(),800)}catch(l){var n,a;i((null===(n=l.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Code incorrect"),s(""),r(!1),m.current&&m.current.focus()}}};(0,t.useEffect)(()=>{6===e.length&&b()},[e]);const v=e=>{const t=Math.floor(e/60),s=e%60;return"".concat(t,":").concat(s.toString().padStart(2,"0"))};return(0,kt.jsxs)("div",{className:"min-h-screen w-full flex items-center justify-center bg-white relative overflow-hidden px-4",children:[(0,kt.jsxs)("div",{className:"absolute inset-0 bg-white overflow-hidden",children:[(0,kt.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03]"}),(0,kt.jsx)("div",{className:"absolute -top-[20%] -left-[10%] w-[70%] h-[70%] bg-[#09407e] rounded-full blur-[120px] opacity-[0.08]"}),(0,kt.jsx)("div",{className:"absolute -bottom-[20%] -right-[10%] w-[70%] h-[70%] bg-[#4c7026] rounded-full blur-[120px] opacity-[0.08]"})]}),(0,kt.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,kt.jsxs)("div",{className:"bg-white rounded-2xl shadow-[0_20px_50px_rgba(12,40,68,0.1)] border border-slate-100 overflow-hidden",children:[(0,kt.jsxs)("div",{className:"bg-slate-50/50 border-b border-slate-100 p-6 text-center relative",children:[(0,kt.jsx)("div",{className:"mx-auto w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-100 mb-4 transform rotate-3 hover:rotate-0 transition-all duration-500",children:(0,kt.jsx)(zx,{className:"w-8 h-8 text-[#0c2844]"})}),(0,kt.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Double Authentification"}),(0,kt.jsxs)("p",{className:"text-slate-500 text-sm mt-2 flex items-center justify-center gap-2",children:[(0,kt.jsx)(zf,{className:"w-4 h-4"}),"Code envoy\xe9 au"," ",(0,kt.jsx)("span",{className:"font-semibold text-slate-700",children:u})]})]}),(0,kt.jsxs)("div",{className:"p-8",children:[a&&(0,kt.jsxs)("div",{className:"mb-6 p-4 bg-red-50/80 border border-red-100 rounded-xl flex items-center gap-3 text-red-700 animate-shake",children:[(0,kt.jsx)(Pt,{className:"w-5 h-5 flex-shrink-0"}),(0,kt.jsx)("span",{className:"text-sm font-medium",children:a})]}),l&&(0,kt.jsxs)("div",{className:"mb-6 p-4 bg-emerald-50/80 border border-emerald-100 rounded-xl flex items-center gap-3 text-emerald-700 animate-fade-in",children:[(0,kt.jsx)(Pf,{className:"w-5 h-5 flex-shrink-0"}),(0,kt.jsx)("span",{className:"text-sm font-medium",children:l})]}),(0,kt.jsxs)("div",{className:"relative mb-8 group",children:[(0,kt.jsx)("input",{ref:m,type:"text",value:e,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);s(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",autoComplete:"one-time-code",inputMode:"numeric",maxLength:6,disabled:n}),(0,kt.jsx)("div",{className:"flex justify-between items-center gap-2 relative z-10 pointer-events-none",children:[...Array(6)].map((t,s)=>(0,kt.jsx)("div",{className:"\n                      w-12 h-14 sm:w-14 sm:h-16 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-all duration-200\n                      ".concat(e[s]?"border-[#0c2844] bg-slate-50 text-[#0c2844] scale-105 shadow-sm":"border-slate-200 bg-white text-slate-300","\n                      ").concat(s!==e.length||n?"":"border-[#4c7026] ring-4 ring-[#4c7026]/10 z-10 scale-110","\n                    "),children:e[s]||(0,kt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s===e.length?"bg-[#4c7026] animate-pulse":"bg-slate-200")})},s))})]}),(0,kt.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-8 text-sm text-slate-500 bg-slate-50 py-2 rounded-full border border-slate-100 w-fit mx-auto px-4",children:[(0,kt.jsx)(Sr,{className:"w-4 h-4"}),(0,kt.jsx)("span",{children:"Expire dans"}),(0,kt.jsx)("span",{className:"font-mono font-bold ".concat(c<60?"text-red-600":"text-[#0c2844]"),children:v(c)})]}),(0,kt.jsx)("button",{onClick:b,disabled:n||6!==e.length,className:"w-full bg-[#0c2844] hover:bg-[#09407e] text-white py-4 rounded-xl font-semibold shadow-lg shadow-blue-900/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-2 group",children:n?(0,kt.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,kt.jsxs)(kt.Fragment,{children:[(0,kt.jsx)("span",{children:"V\xe9rifier l'identit\xe9"}),(0,kt.jsx)(Of,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})}),(0,kt.jsxs)("div",{className:"mt-6 flex flex-col items-center gap-4",children:[(0,kt.jsxs)("button",{onClick:async()=>{r(!0),i("");try{await or.post("/auth/resend-2fa-code"),o("Nouveau code envoy\xe9 !"),d(900),s(""),r(!1),m.current&&m.current.focus()}catch(e){i("Impossible de renvoyer le code"),r(!1)}},disabled:n||c>840,className:"text-sm font-medium text-slate-600 hover:text-[#4c7026] transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,kt.jsx)(wf,{className:"w-4 h-4 ".concat(n?"animate-spin":"")}),c>840?"Renvoyer disponible dans ".concat(v(c-840)):"Je n'ai pas re\xe7u le code"]}),(0,kt.jsxs)("button",{onClick:()=>Ri.logout(),className:"text-xs text-slate-400 hover:text-red-500 transition-colors flex items-center gap-1.5 mt-2",children:[(0,kt.jsx)(sl,{className:"w-3 h-3"}),"Annuler et se d\xe9connecter"]})]})]})]}),(0,kt.jsx)("div",{className:"mt-8 text-center",children:(0,kt.jsxs)("p",{className:"text-slate-400 text-xs flex items-center justify-center gap-1",children:[(0,kt.jsx)(Rf,{className:"w-3 h-3"}),"Connexion chiffr\xe9e de bout en bout"]})})]}),(0,kt.jsx)("style",{jsx:!0,children:"\n        @keyframes shake {\n          0%,\n          100% {\n            transform: translateX(0);\n          }\n          25% {\n            transform: translateX(-4px);\n          }\n          75% {\n            transform: translateX(4px);\n          }\n        }\n        .animate-shake {\n          animation: shake 0.4s ease-in-out;\n        }\n      "})]})},Ux=()=>!!(localStorage.getItem("user")||localStorage.getItem("user_data")||sessionStorage.getItem("user")||sessionStorage.getItem("user_data")),Bx=()=>{const e=localStorage.getItem("user")||localStorage.getItem("user_data")||sessionStorage.getItem("user")||sessionStorage.getItem("user_data");if(e)try{const t=JSON.parse(e),s=t.role||t.user_type||t.type;return s?s.toLowerCase():null}catch(s){console.error("Erreur parsing user data:",s)}const t=localStorage.getItem("user_type")||sessionStorage.getItem("user_type");return t?t.toLowerCase():null},Vx=e=>{let{children:s,allowedRoles:n}=e;const[r,a]=t.useState(!1),[i,l]=t.useState(null),[o,c]=t.useState(!0);if(t.useEffect(()=>{(()=>{const e=Ux(),t=Bx();a(e),l(t),c(!1)})()},[]),o)return(0,kt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,kt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})});if(!r)return(0,kt.jsx)(De,{to:"/login",replace:!0});if(i&&!n.includes(i)){const e={admin:"/admin",agent:"/agent",investigateur:"/investigateur"};return(0,kt.jsx)(De,{to:e[i]||"/login",replace:!0})}return i?s:(0,kt.jsx)(De,{to:"/login",replace:!0})};const Hx=function(){return(0,kt.jsx)(mt,{children:(0,kt.jsxs)(Pe,{children:[(0,kt.jsx)(Te,{path:"/",element:(0,kt.jsx)(St,{})}),(0,kt.jsx)(Te,{path:"/signalement",element:(0,kt.jsx)(Nr,{})}),(0,kt.jsx)(Te,{path:"/suivi",element:(0,kt.jsx)(Di,{})}),(0,kt.jsx)(Te,{path:"/enseignants",element:(0,kt.jsx)(Zi,{})}),(0,kt.jsx)(Te,{path:"/login",element:(0,kt.jsx)(Pi,{})}),(0,kt.jsx)(Te,{path:"/two-factor-verify",element:(0,kt.jsx)(Fx,{})}),(0,kt.jsx)(Te,{path:"/admin/*",element:(0,kt.jsx)(Vx,{allowedRoles:["admin"],children:(0,kt.jsx)(Rx,{})})}),(0,kt.jsx)(Te,{path:"/agent/*",element:(0,kt.jsx)(Vx,{allowedRoles:["agent"],children:(0,kt.jsx)(Ix,{})})}),(0,kt.jsx)(Te,{path:"*",element:(0,kt.jsx)($i,{})})]})})},Wx=e=>{e&&e instanceof Function&&s.e(453).then(s.bind(s,453)).then(t=>{let{getCLS:s,getFID:n,getFCP:r,getLCP:a,getTTFB:i}=t;s(e),n(e),r(e),a(e),i(e)})};n.createRoot(document.getElementById("root")).render((0,kt.jsx)(t.StrictMode,{children:(0,kt.jsx)(Hx,{})})),Wx()})()})();
//# sourceMappingURL=main.c621e44c.js.map