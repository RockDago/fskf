/*! For license information please see main.ed4094c3.js.LICENSE.txt */
(()=>{var e={579:(e,t,n)=>{"use strict";e.exports=n(2799)},1224:()=>{},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(e,t,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=s,t.jsxs=s},3026:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAABxCAYAAADifkzQAAAACXBIWXMAAAsSAAALEgHS3X78AAAJc0lEQVR4nO2dT27jNhTGXwfdxxco4kUBL+MbjHsAY7wo0GWcdRdjH6CIcwKrm26rHKCAAl/AQQ9QZ5kCLTw3cLbdTEHh4wxFSzJJkRRp8wcY8ye2I+nje3x8fCS/+fz5MyXi5ttYr366HA2IaIwX+/sEPxoS0fWJjz/jzwMR7Yhoz16b9evW8WU7IRpLnC5HYwg1gXDXEGOP1w6iUJsYgvgkNQAu/gu+i33HdrN+3Xu7SUOCFnG6HM2IiL8YBX/Am/XrzsHv4wLzxvIeojJBcxe/0wbBiThdjtjDm0O4PYQr+nqAUkNilp5D0GAsNAgRYQHsIa3g3vIQWz4EZQ3sAxE9EVEWQj/aq4gQb4HXDsLlvV2QItPlaAgxF/AWWZ/X3YuINeKtYo0Mp8vRHB6EMe/jPryLiJvOYhdPZrocLSAmu6+Fz67Am4gYImQI5dlNFl5+sUfgYZiQH4noAW724PoKvIg4XY7Yjd0T0a+wPuc31idSg3XuYp2KiACAW9w81HGWK+Bi18wqN+vXlavf40xEhOM5XmdvfU3AKnnkOnHxHJyICPe5QN8X/JDBNegrM4yFJ7Y9klURhYtlWZfZpbnPUwju9c5m47YmIgTkHbgTt3EOCN2MNS9lRURBwD0CmCRgC+gnt8gJz7t+X2cRBQF3Ni7oUrAp5LsuH04CmoN4oYwdpstR1uW7jEUUXWgS0AxByDnSkUZ0sUTeepKAHRCEzEyFNBIR48BJikLtACEXEHKs+6XagY0QIlsftF46MA5mjWMd49CyRORCc99TLZcC8qs7IU2nhK47LWKZfY+Y0hKR3VFCWUSYOgmz2AkHwI2W1QKq/aOSiPiy+5SN8QPmH3NhBNCKqiVmmBNL/aA/mMcbqrjVkyJi7DJUbRUJO0hudWAsojC1tEhu1D9wq9tTBnTKEhfIi55dUZNNWNU6Xq0WYwjT4BbDu1oaB/u4oD0md8+irNA2QgXDlfDVj7Y913Q5Kod0TTnqNkvkVpgErAEP9l4SkHHLXKBlq1y1WWOtiEKFdhoT1oBg77blLTd4flbA4p3HJj2aLHGerLAerNr6XeGttmd3Gq2xScSFbv7uEkDSQzXIO7VaWQtY41Nd4zgSEbMUlPKjVdDFFDV9YBOfHFxGriQiaiPTkOKYraZ1We+K+FCPGxqnIiJa223KzlRBJHqj8ZE3m4GNRCEsfy+Rd89gP3yJYbMBX2As2BaJyrw5rnjIZSuX3ekkBTRfwVDiXvNjTifM8d0H0aXKIs5c+PIYEZan6fDgKSAshH17voqIiz6k6aZKOaZqJMp4dLl8TaLSL4qWmKzQXMAXn7W3SMJc84G/KOIkiViiG4l+El2bR575zliiiGNUWl0sKKf/oHH/b5jl6WOudcsbTykizPLqkvtDRKIfNT/W5xrMnWyJQ2HnwYtDI6ktctfzBMGRiBNMAF8cmkltzmPfuWUkZK5YIMZFHFyiiIhEc81I9CmgVWBsB8gxF/FSg5qtZiT6EtgqMBZQDd5J/3ExGCa1+4pEmyj7RZ4AH/typ4iExaTyG/okb2WRKMg1SWqH1uWUz4tb4pWPC0QQsZMe4BX+vW8ry7N4DXNsQ6JD0KvAOq3ZN6AtiLhyPYMSeFLbhL0Y2DgHD/BUH/ReZ0mXDhEktU3Yy4GNa1TrMNcmS57bME1qO5ydt4pvd6qKbfdllNSOZf2JTxF1AoMbYVFrJyJLahvhTUQ8lAeNj9x3dauGSe2Y9mUth4Ze3SmChBeNjxi71Q5J7ZjKNQeiiJ9w0z7QSVvdmGyZFWtS2xQuordMBFyVjlv9qNPADJPaz5FubcaSI4d30n94AW5VZ/4y11gqVhgktWcK7wsRptmOi7j1KSKYIxJU4VplmR2S2u81riG6SFSiUih1EI6j8wJytTrDiFa3apDUpkCT2jpcs+oCLuKuB0tkQmaabrWoc6uohtZNat/FXFOEBl2uvBJF1OlHbKLjVo+S5NKRBaqEnNRWZcgTKKWI6BN8DjO+AHemk6P8wNchnGlSW5VxRUSw9d0vcmAVTxofYdHq9TkntRX4Uuwti9hHJTNH163+ec5J7TbggW54yWQwIgrbYKnyncZ7Yx9KyMzEgPCLiOibDvJSYp8gb6njVlU5t8PGKutm5AR40bNLJVijzU0LYktqq1DZV0EWMe87BWXgVtuINqndBDxlZR1pRUT+gz6GGtJ1bHFgZhdiTWqf4mh3k7r5xCKQKudVB7cac1K7EeEo+8r0XJ2IGbafcrHtozId3OrbGW9zPcOJQJV875GIeMNzCNYIt6oz90hnfl7Hqq5utqk8Iwsls4EU2d+Kb486qd0G4pRBXaBWK6Kw/VQogcFPCu/548z3o6u1QjpR7bYKZb9TWNfPLW/5Z7N+/dHjJXkFVti4BKFRRN6qQ7HGzfr1NyL6gYj+IqL/8N//EtEvm/Xr9z1fnmtKK2wK1loP/IKAK90DqBL2gBWy7m3YpEFr3SmsUXe+L2EXpsGqzYhUiofLHed9rB1MVMFShgPKWBo5KaJwblHafdEjMJqFihdULeNf6R4Hl+hMjmMOT+6VoySidG5RcquOgbEMVYd4ygtqkADI0/7gbkH13lon/6u7KqpsGV3PhU/UI+z4/6Cz5ZiWiGgZs67nwicaKXCojFamTHt9ImY5mJC/215bf8lgHcnAZPbIaJEpTP0OB1slITsCrzYzrcgzXimMbE4OIVPEaggEzLos7mnNnaoANzA+l8Jcn0gCGs+Ddl6zj2KkXXKtetgSkGztnpGE1MOmgGRzCxQImUHIvguQgwXdjzUByUafKINWxrYeWZ7Kvl8SwkB+YHtZgXUR6WvqaOt7H9NQEbZk2bkop3QiIlVb3rDnowd6BcnsNVJpTmqWnInIwcTmvcubCBGMnXM04rnL4xeci0jH6+oX537gtHD+/snSCht4EbHm5grc3Fkd44ConDdWp9Yn4lVEqm7kzheGNJbixQLEWyFztfIdlXsXkSPdeIZShKgss+YeemmQvYnIwYOYYzeoR9W6kr4QlpfxEorevUnvInKE6q45tiljD6cIxTqxQpe/9sL19d4VBCOiCB7YHNs+vyAQKnyONWFxE0G4A64jD23MG6SIHOlBTpCy2iEbtEUpgxVLwDCIvybYI6eXBqRL0CLKwOVOhIfNt8V8hqXwB31o2Dh+IOyaxf8+gGBvQgMp/4wlao5KxDogrPhi8H/XUZ5Tjx+Uf486+UBE/wP7fbuJiHkt0AAAAABJRU5ErkJggg=="},3531:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/Asset 8.40d1b49e7f0d3fc98ca3.png"},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var y=v.prototype=new b;y.constructor=v,p(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray;function B(){}var N={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function C(e,t,r){var s=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==s?s:null,props:r}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var F=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,A,c=!1;if(null===e)c=!0;else switch(o){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case d:return E((c=e._init)(e._payload),t,s,a,i)}}if(c)return i=i(e),c=""===a?"."+S(e,0):a,w(i)?(s="",null!=c&&(s=c.replace(F,"$&/")+"/"),E(i,t,s,"",function(e){return e})):null!=i&&(k(i)&&(l=i,A=s+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(F,"$&/")+"/")+c,i=C(l.type,A,l.props)),t.push(i)),1;c=0;var u,h=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)c+=E(a=e[m],t,s,o=h+S(a,m),i);else if("function"===typeof(m=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=f&&u[f]||u["@@iterator"])?u:null))for(e=m.call(e),m=0;!(a=e.next()).done;)c+=E(a=a.value,t,s,o=h+S(a,m++),i);else if("object"===o){if("function"===typeof e.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(B,B):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function _(e,t,n){if(null==e)return e;var r=[],s=0;return E(e,r,"","",function(e){return t.call(n,e,s++)}),r}function U(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var Q="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},L={map:_,forEach:function(e,t,n){_(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=L,t.Component=x,t.Fragment=s,t.Profiler=i,t.PureComponent=v,t.StrictMode=a,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=p({},e.props),s=e.key;if(null!=t)for(a in void 0!==t.key&&(s=""+t.key),t)!j.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var i=Array(a),o=0;o<a;o++)i[o]=arguments[o+2];r.children=i}return C(e.type,s,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,s={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)j.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(s[r]=t[r]);var i=arguments.length-2;if(1===i)s.children=n;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===s[r]&&(s[r]=i[r]);return C(e,a,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:A,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:U}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,n={};N.T=n;try{var r=e(),s=N.S;null!==s&&s(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(B,Q)}catch(a){Q(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,n){return N.H.useActionState(e,t,n)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return N.H.useEffect(e,t)},t.useEffectEvent=function(e){return N.H.useEffectEvent(e)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,n){return N.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return N.H.useReducer(e,t,n)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.H.useTransition()},t.version="19.2.0"},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4980:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2284);function s(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=(0,r.A)(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};function r(e,t,n,r){function s(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{l(r.next(e))}catch(Dt){a(Dt)}}function o(e){try{l(r.throw(e))}catch(Dt){a(Dt)}}function l(e){e.done?n(e.value):s(e.value).then(i,o)}l((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(Dt){a=[6,Dt],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t,n){if(n||2===arguments.length)for(var r,s=0,a=t.length;s<a;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||t)}for(var i=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,s){return new e(this.left+t,this.top+n,this.width+r,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return i.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new i(0,0,r,s)},A=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),n--)}else t.push(s)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=e[s];i<=65535?r.push(i):(i-=65536,r.push(55296+(i>>10),i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m="undefined"===typeof Uint8Array?[]:new Uint8Array(256),p=0;p<f.length;p++)m[f.charCodeAt(p)]=p;for(var g=function(e){var t,n,r,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<o;t+=4)n=m[e.charCodeAt(t)],r=m[e.charCodeAt(t+1)],s=m[e.charCodeAt(t+2)],a=m[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&a;return A},x=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},b=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},v=5,y=11,w=2,B=65536>>v,N=(1<<v)-1,j=B+(1024>>v)+32,C=65536>>y,k=(1<<y-v)-1,F=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},S=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},E=function(e,t){var n=g(e),r=Array.isArray(n)?b(n):new Uint32Array(n),s=Array.isArray(n)?x(n):new Uint16Array(n),a=24,i=F(s,a/2,r[4]/2),o=2===r[5]?F(s,(a+r[4])/2):S(r,Math.ceil((a+r[4])/4));return new _(r[0],r[1],r[2],r[3],i,o)},_=function(){function e(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>v])<<w)+(e&N),this.data[t];if(e<=65535)return t=((t=this.index[B+(e-55296>>v)])<<w)+(e&N),this.data[t];if(e<this.highStart)return t=j-C+(e>>y),t=this.index[t],t+=e>>v&k,t=((t=this.index[t])<<w)+(e&N),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q="undefined"===typeof Uint8Array?[]:new Uint8Array(256),L=0;L<U.length;L++)Q[U.charCodeAt(L)]=L;var I=50,M=1,D=2,P=3,T=4,O=5,H=7,R=8,z=9,K=10,V=11,q=12,W=13,G=14,Y=15,J=16,X=17,Z=18,$=19,ee=20,te=21,ne=22,re=23,se=24,ae=25,ie=26,oe=27,le=28,Ae=29,ce=30,ue=31,de=32,he=33,fe=34,me=35,pe=36,ge=37,xe=38,be=39,ve=40,ye=41,we=42,Be=43,Ne=[9001,65288],je="!",Ce="\xd7",ke="\xf7",Fe=E("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Se=[ce,pe],Ee=[M,D,P,O],_e=[K,R],Ue=[oe,ie],Qe=Ee.concat(_e),Le=[xe,be,ve,fe,me],Ie=[Y,W],Me=function(e,t){void 0===t&&(t="strict");var n=[],r=[],s=[];return e.forEach(function(e,a){var i=Fe.get(e);if(i>I?(s.push(!0),i-=I):s.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(J);if(i===T||i===V){if(0===a)return r.push(a),n.push(ce);var o=n[a-1];return-1===Qe.indexOf(o)?(r.push(r[a-1]),n.push(o)):(r.push(a),n.push(ce))}return r.push(a),i===ue?n.push("strict"===t?te:ge):i===we||i===Ae?n.push(ce):i===Be?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(ge):n.push(ce):void n.push(i)}),[r,n,s]},De=function(e,t,n,r){var s=r[n];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a=n;a<=r.length;){if((l=r[++a])===t)return!0;if(l!==K)break}if(s===K)for(a=n;a>0;){var i=r[--a];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){var l;if((l=r[++o])===t)return!0;if(l!==K)break}if(i!==K)break}return!1},Pe=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==K)return r;n--}return 0},Te=function(e,t,n,r,s){if(0===n[r])return Ce;var a=r-1;if(Array.isArray(s)&&!0===s[a])return Ce;var i=a-1,o=a+1,l=t[a],A=i>=0?t[i]:0,c=t[o];if(l===D&&c===P)return Ce;if(-1!==Ee.indexOf(l))return je;if(-1!==Ee.indexOf(c))return Ce;if(-1!==_e.indexOf(c))return Ce;if(Pe(a,t)===R)return ke;if(Fe.get(e[a])===V)return Ce;if((l===de||l===he)&&Fe.get(e[o])===V)return Ce;if(l===H||c===H)return Ce;if(l===z)return Ce;if(-1===[K,W,Y].indexOf(l)&&c===z)return Ce;if(-1!==[X,Z,$,se,le].indexOf(c))return Ce;if(Pe(a,t)===ne)return Ce;if(De(re,ne,a,t))return Ce;if(De([X,Z],te,a,t))return Ce;if(De(q,q,a,t))return Ce;if(l===K)return ke;if(l===re||c===re)return Ce;if(c===J||l===J)return ke;if(-1!==[W,Y,te].indexOf(c)||l===G)return Ce;if(A===pe&&-1!==Ie.indexOf(l))return Ce;if(l===le&&c===pe)return Ce;if(c===ee)return Ce;if(-1!==Se.indexOf(c)&&l===ae||-1!==Se.indexOf(l)&&c===ae)return Ce;if(l===oe&&-1!==[ge,de,he].indexOf(c)||-1!==[ge,de,he].indexOf(l)&&c===ie)return Ce;if(-1!==Se.indexOf(l)&&-1!==Ue.indexOf(c)||-1!==Ue.indexOf(l)&&-1!==Se.indexOf(c))return Ce;if(-1!==[oe,ie].indexOf(l)&&(c===ae||-1!==[ne,Y].indexOf(c)&&t[o+1]===ae)||-1!==[ne,Y].indexOf(l)&&c===ae||l===ae&&-1!==[ae,le,se].indexOf(c))return Ce;if(-1!==[ae,le,se,X,Z].indexOf(c))for(var u=a;u>=0;){if((d=t[u])===ae)return Ce;if(-1===[le,se].indexOf(d))break;u--}if(-1!==[oe,ie].indexOf(c))for(u=-1!==[X,Z].indexOf(l)?i:a;u>=0;){var d;if((d=t[u])===ae)return Ce;if(-1===[le,se].indexOf(d))break;u--}if(xe===l&&-1!==[xe,be,fe,me].indexOf(c)||-1!==[be,fe].indexOf(l)&&-1!==[be,ve].indexOf(c)||-1!==[ve,me].indexOf(l)&&c===ve)return Ce;if(-1!==Le.indexOf(l)&&-1!==[ee,ie].indexOf(c)||-1!==Le.indexOf(c)&&l===oe)return Ce;if(-1!==Se.indexOf(l)&&-1!==Se.indexOf(c))return Ce;if(l===se&&-1!==Se.indexOf(c))return Ce;if(-1!==Se.concat(ae).indexOf(l)&&c===ne&&-1===Ne.indexOf(e[o])||-1!==Se.concat(ae).indexOf(c)&&l===Z)return Ce;if(l===ye&&c===ye){for(var h=n[a],f=1;h>0&&t[--h]===ye;)f++;if(f%2!==0)return Ce}return l===de&&c===he?Ce:ke},Oe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Me(e,t.lineBreak),r=n[0],s=n[1],a=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(s=s.map(function(e){return-1!==[ae,ce,we].indexOf(e)?ge:e}));var i="keep-all"===t.wordBreak?a.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,s,i]},He=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===je,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Re=function(e,t){var n=A(e),r=Oe(n,t),s=r[0],a=r[1],i=r[2],o=n.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var e=Ce;c<o&&(e=Te(n,a,s,++c,i))===Ce;);if(e!==Ce||c===o){var t=new He(n,e,l,c);return l=c,{value:t,done:!1}}return{done:!0,value:null}}}},ze=1,Ke=2,Ve=4,qe=8,We=10,Ge=47,Ye=92,Je=9,Xe=32,Ze=34,$e=61,et=35,tt=36,nt=37,rt=39,st=40,at=41,it=95,ot=45,lt=33,At=60,ct=62,ut=64,dt=91,ht=93,ft=61,mt=123,pt=63,gt=125,xt=124,bt=126,vt=128,yt=65533,wt=42,Bt=43,Nt=44,jt=58,Ct=59,kt=46,Ft=0,St=8,Et=11,_t=14,Ut=31,Qt=127,Lt=-1,It=48,Mt=97,Dt=101,Pt=102,Tt=117,Ot=122,Ht=65,Rt=69,zt=70,Kt=85,Vt=90,qt=function(e){return e>=It&&e<=57},Wt=function(e){return e>=55296&&e<=57343},Gt=function(e){return qt(e)||e>=Ht&&e<=zt||e>=Mt&&e<=Pt},Yt=function(e){return e>=Mt&&e<=Ot},Jt=function(e){return e>=Ht&&e<=Vt},Xt=function(e){return Yt(e)||Jt(e)},Zt=function(e){return e>=vt},$t=function(e){return e===We||e===Je||e===Xe},en=function(e){return Xt(e)||Zt(e)||e===it},tn=function(e){return en(e)||qt(e)||e===ot},nn=function(e){return e>=Ft&&e<=St||e===Et||e>=_t&&e<=Ut||e===Qt},rn=function(e,t){return e===Ye&&t!==We},sn=function(e,t,n){return e===ot?en(t)||rn(t,n):!!en(e)||!(e!==Ye||!rn(e,t))},an=function(e,t,n){return e===Bt||e===ot?!!qt(t)||t===kt&&qt(n):qt(e===kt?t:e)},on=function(e){var t=0,n=1;e[t]!==Bt&&e[t]!==ot||(e[t]===ot&&(n=-1),t++);for(var r=[];qt(e[t]);)r.push(e[t++]);var s=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===kt&&t++;for(var a=[];qt(e[t]);)a.push(e[t++]);var i=a.length,o=i?parseInt(c.apply(void 0,a),10):0;e[t]!==Rt&&e[t]!==Dt||t++;var l=1;e[t]!==Bt&&e[t]!==ot||(e[t]===ot&&(l=-1),t++);for(var A=[];qt(e[t]);)A.push(e[t++]);var u=A.length?parseInt(c.apply(void 0,A),10):0;return n*(s+o*Math.pow(10,-i))*Math.pow(10,l*u)},ln={type:2},An={type:3},cn={type:4},un={type:13},dn={type:8},hn={type:21},fn={type:9},mn={type:10},pn={type:11},gn={type:12},xn={type:14},bn={type:23},vn={type:1},yn={type:25},wn={type:24},Bn={type:26},Nn={type:27},jn={type:28},Cn={type:29},kn={type:31},Fn={type:32},Sn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(A(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Fn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var s=sn(t,n,r)?Ke:ze;return{type:5,value:this.consumeName(),flags:s}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case st:return ln;case at:return An;case wt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),xn;break;case Bt:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Nt:return cn;case ot:var a=e,i=this.peekCodePoint(0),o=this.peekCodePoint(1);if(an(a,i,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sn(a,i,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(i===ot&&o===ct)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case kt:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ge:if(this.peekCodePoint(0)===wt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===wt&&(l=this.consumeCodePoint())===Ge)return this.consumeToken();if(l===Lt)return this.consumeToken()}break;case jt:return Bn;case Ct:return Nn;case At:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),yn;break;case ut:var A=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(sn(A,u,d))return{type:7,value:this.consumeName()};break;case dt:return jn;case Ye:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return Cn;case ft:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case mt:return pn;case gt:return gn;case Tt:case Kt:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return h!==Bt||!Gt(f)&&f!==pt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case xt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fn;if(this.peekCodePoint(0)===xt)return this.consumeCodePoint(),hn;break;case bt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),mn;break;case Lt:return Fn}return $t(e)?(this.consumeWhiteSpace(),kn):qt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Gt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===pt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map(function(e){return e===pt?It:e})),16),end:parseInt(c.apply(void 0,e.map(function(e){return e===pt?zt:e})),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===ot&&Gt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];Gt(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,s),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===st?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===at)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),bn)}for(;;){var r=this.consumeCodePoint();if(r===Lt||r===at)return{type:22,value:c.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),bn);if(r===Ze||r===rt||r===st||nn(r))return this.consumeBadUrlRemnants(),bn;if(r===Ye){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),bn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===at||e===Lt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Lt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===We)return this._value.splice(0,n),vn;if(r===Ye){var s=this._value[n+1];s!==Lt&&void 0!==s&&(s===We?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,s)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Ve,n=this.peekCodePoint(0);for(n!==Bt&&n!==ot||e.push(this.consumeCodePoint());qt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===kt&&qt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=qe;qt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===Rt||n===Dt)&&((r===Bt||r===ot)&&qt(s)||qt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=qe;qt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[on(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);return sn(r,s,a)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Gt(e)){for(var t=c(e);Gt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Wt(n)||n>1114111?yt:n}return e===Lt?yt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),En=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Sn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Tn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Fn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),_n=function(e){return 15===e.type},Un=function(e){return 17===e.type},Qn=function(e){return 20===e.type},Ln=function(e){return 0===e.type},In=function(e,t){return Qn(e)&&e.value===t},Mn=function(e){return 31!==e.type},Dn=function(e){return 31!==e.type&&4!==e.type},Pn=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},Tn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},On=function(e){return 17===e.type||15===e.type},Hn=function(e){return 16===e.type||On(e)},Rn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},zn={type:17,number:0,flags:Ve},Kn={type:16,number:50,flags:Ve},Vn={type:16,number:100,flags:Ve},qn=function(e,t,n){var r=e[0],s=e[1];return[Wn(r,t),Wn("undefined"!==typeof s?s:r,n)]},Wn=function(e,t){if(16===e.type)return e.number/100*t;if(_n(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Gn="deg",Yn="grad",Jn="rad",Xn="turn",Zn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Gn:return Math.PI*t.number/180;case Yn:return Math.PI/200*t.number;case Jn:return t.number;case Xn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===Gn||e.unit===Yn||e.unit===Jn||e.unit===Xn)},er=function(e){switch(e.filter(Qn).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[zn,zn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[zn,Vn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Vn,Vn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Vn,zn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=cr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return ar(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(4===t.value.length){r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);var i=t.value.substring(3,4);return ar(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),ar(parseInt(r,16),parseInt(s,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),i=t.value.substring(6,8),ar(parseInt(r,16),parseInt(s,16),parseInt(a,16),parseInt(i,16)/255)}if(20===t.type){var o=dr[t.value.toUpperCase()];if("undefined"!==typeof o)return o}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},sr=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+r+","+n+","+t/255+")":"rgb("+s+","+r+","+n+")"},ar=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},ir=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},or=function(e,t){var n=t.filter(Dn);if(3===n.length){var r=n.map(ir),s=r[0],a=r[1],i=r[2];return ar(s,a,i,1)}if(4===n.length){var o=n.map(ir),l=(s=o[0],a=o[1],i=o[2],o[3]);return ar(s,a,i,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var Ar=function(e,t){var n=t.filter(Dn),r=n[0],s=n[1],a=n[2],i=n[3],o=(17===r.type?tr(r.number):Zn.parse(e,r))/(2*Math.PI),l=Hn(s)?s.number/100:0,A=Hn(a)?a.number/100:0,c="undefined"!==typeof i&&Hn(i)?Wn(i,1):1;if(0===l)return ar(255*A,255*A,255*A,1);var u=A<=.5?A*(l+1):A+l-A*l,d=2*A-u,h=lr(d,u,o+1/3),f=lr(d,u,o),m=lr(d,u,o-1/3);return ar(255*h,255*f,255*m,c)},cr={hsl:Ar,hsla:Ar,rgb:or,rgba:or},ur=function(e,t){return nr.parse(e,En.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Qn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Hn(r)?{color:n,stop:r}:{color:n,stop:null}},pr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=zn),null===r.stop&&(r.stop=Vn);for(var s=[],a=0,i=0;i<e.length;i++){var o=e[i].stop;if(null!==o){var l=Wn(o,t);l>a?s.push(l):s.push(a),a=l}else s.push(null)}var A=null;for(i=0;i<s.length;i++){var c=s[i];if(null===c)null===A&&(A=i);else if(null!==A){for(var u=i-A,d=(c-s[A-1])/(u+1),h=1;h<=u;h++)s[A+h-1]=d*h;A=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,s[n]/t),0)}})},gr=function(e,t,n){var r=t/2,s=n/2,a=Wn(e[0],t)-r,i=s-Wn(e[1],n);return(Math.atan2(i,a)+2*Math.PI)%(2*Math.PI)},xr=function(e,t,n){var r="number"===typeof e?e:gr(e,t,n),s=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,i=n/2,o=s/2,l=Math.sin(r-Math.PI/2)*o,A=Math.cos(r-Math.PI/2)*o;return[s,a-A,a+A,i-l,i+l]},br=function(e,t){return Math.sqrt(e*e+t*t)},vr=function(e,t,n,r,s){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var a=t[0],i=t[1],o=br(n-a,r-i);return(s?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},yr=function(e,t,n,r,s){var a=0,i=0;switch(e.size){case 0:0===e.shape?a=i=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(a=Math.min(Math.abs(t),Math.abs(t-r)),i=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(0===e.shape)a=i=Math.min(br(t,n),br(t,n-s),br(t-r,n),br(t-r,n-s));else if(1===e.shape){var o=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-r)),l=vr(r,s,t,n,!0),A=l[0],c=l[1];i=o*(a=br(A-t,(c-n)/o))}break;case 1:0===e.shape?a=i=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(a=Math.max(Math.abs(t),Math.abs(t-r)),i=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(0===e.shape)a=i=Math.max(br(t,n),br(t,n-s),br(t-r,n),br(t-r,n-s));else if(1===e.shape){o=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-r));var u=vr(r,s,t,n,!1);A=u[0],c=u[1],i=o*(a=br(A-t,(c-n)/o))}}return Array.isArray(e.size)&&(a=Wn(e.size[0],r),i=2===e.size.length?Wn(e.size[1],s):a),[a,i]},wr=function(e,t){var n=tr(180),r=[];return Pn(t).forEach(function(t,s){if(0===s){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(n=er(t));if($n(a))return void(n=(Zn.parse(e,a)+tr(270))%tr(360))}var i=mr(e,t);r.push(i)}),{angle:n,stops:r,type:1}},Br="closest-side",Nr="farthest-side",jr="closest-corner",Cr="farthest-corner",kr="circle",Fr="ellipse",Sr="cover",Er="contain",_r=function(e,t){var n=0,r=3,s=[],a=[];return Pn(t).forEach(function(t,i){var o=!0;if(0===i?o=t.reduce(function(e,t){if(Qn(t))switch(t.value){case"center":return a.push(Kn),!1;case"top":case"left":return a.push(zn),!1;case"right":case"bottom":return a.push(Vn),!1}else if(Hn(t)||On(t))return a.push(t),!1;return e},o):1===i&&(o=t.reduce(function(e,t){if(Qn(t))switch(t.value){case kr:return n=0,!1;case Fr:return n=1,!1;case Er:case Br:return r=0,!1;case Nr:return r=1,!1;case jr:return r=2,!1;case Sr:case Cr:return r=3,!1}else if(On(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},o)),o){var l=mr(e,t);s.push(l)}}),{size:r,shape:n,stops:s,position:a,type:2}},Ur=function(e){return 1===e.type},Qr=function(e){return 2===e.type},Lr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Dr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Ir(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Dr[e.name])}var Mr,Dr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Pn(t).forEach(function(t,s){if(0===s){var a=t[0];if(20===a.type&&"to"===a.value)return void(n=er(t));if($n(a))return void(n=Zn.parse(e,a))}var i=mr(e,t);r.push(i)}),{angle:n,stops:r,type:1}},"-moz-linear-gradient":wr,"-ms-linear-gradient":wr,"-o-linear-gradient":wr,"-webkit-linear-gradient":wr,"radial-gradient":function(e,t){var n=0,r=3,s=[],a=[];return Pn(t).forEach(function(t,i){var o=!0;if(0===i){var l=!1;o=t.reduce(function(e,t){if(l)if(Qn(t))switch(t.value){case"center":return a.push(Kn),e;case"top":case"left":return a.push(zn),e;case"right":case"bottom":return a.push(Vn),e}else(Hn(t)||On(t))&&a.push(t);else if(Qn(t))switch(t.value){case kr:return n=0,!1;case Fr:return n=1,!1;case"at":return l=!0,!1;case Br:return r=0,!1;case Sr:case Nr:return r=1,!1;case Er:case jr:return r=2,!1;case Cr:return r=3,!1}else if(On(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},o)}if(o){var A=mr(e,t);s.push(A)}}),{size:r,shape:n,stops:s,position:a,type:2}},"-moz-radial-gradient":_r,"-ms-radial-gradient":_r,"-o-radial-gradient":_r,"-webkit-radial-gradient":_r,"-webkit-gradient":function(e,t){var n=tr(180),r=[],s=1,a=0,i=3,o=[];return Pn(t).forEach(function(t,n){var a=t[0];if(0===n){if(Qn(a)&&"linear"===a.value)return void(s=1);if(Qn(a)&&"radial"===a.value)return void(s=2)}if(18===a.type)if("from"===a.name){var i=nr.parse(e,a.values[0]);r.push({stop:zn,color:i})}else if("to"===a.name)i=nr.parse(e,a.values[0]),r.push({stop:Vn,color:i});else if("color-stop"===a.name){var o=a.values.filter(Dn);if(2===o.length){i=nr.parse(e,o[1]);var l=o[0];Un(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:i})}}}),1===s?{angle:(n+tr(180))%tr(360),stops:r,type:s}:{size:i,shape:a,stops:r,position:o,type:s}}},Pr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return Dn(e)&&Ir(e)}).map(function(t){return Lr.parse(e,t)})}},Tr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Qn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Or={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(Hn)}).map(Rn)}},Hr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(Qn).map(function(e){return e.value}).join(" ")}).map(Rr)}},Rr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Mr||(Mr={}));var zr,Kr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(Vr)})}},Vr=function(e){return Qn(e)||Hn(e)},qr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wr=qr("top"),Gr=qr("right"),Yr=qr("bottom"),Jr=qr("left"),Xr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Rn(t.filter(Hn))}}},Zr=Xr("top-left"),$r=Xr("top-right"),es=Xr("bottom-right"),ts=Xr("bottom-left"),ns=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rs=ns("top"),ss=ns("right"),as=ns("bottom"),is=ns("left"),os=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return _n(t)?t.number:0}}},ls=os("top"),As=os("right"),cs=os("bottom"),us=os("left"),ds={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hs={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fs={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).reduce(function(e,t){return e|ms(t.value)},0)}},ms=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ps={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gs={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(zr||(zr={}));var xs,bs={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?zr.STRICT:zr.NORMAL}},vs={name:"line-height",initialValue:"normal",prefix:!1,type:4},ys=function(e,t){return Qn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Hn(e)?Wn(e,t):t},ws={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Lr.parse(e,t)}},Bs={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ns={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},js=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Cs=js("top"),ks=js("right"),Fs=js("bottom"),Ss=js("left"),Es={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},_s={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Us=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Qs=Us("top"),Ls=Us("right"),Is=Us("bottom"),Ms=Us("left"),Ds={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ps={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ts={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&In(t[0],"none")?[]:Pn(t).map(function(t){for(var n={color:dr.TRANSPARENT,offsetX:zn,offsetY:zn,blur:zn},r=0,s=0;s<t.length;s++){var a=t[s];On(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=nr.parse(e,a)}return n})}},Os={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Hs={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Rs[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Rs={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],r=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],16===t.length?[n,r,s,a,i,o]:null}},zs={type:16,number:50,flags:Ve},Ks=[zs,zs],Vs={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Hn);return 2!==n.length?Ks:[n[0],n[1]]}},qs={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(xs||(xs={}));for(var Ws={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return xs.BREAK_ALL;case"keep-all":return xs.KEEP_ALL;default:return xs.NORMAL}}},Gs={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Un(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Ys={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Js={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:1}},Xs={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zs={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},$s={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},ea={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ta={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Un(t)?t.number:Qn(t)&&"bold"===t.value?700:400}},na={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Qn).map(function(e){return e.value})}},ra={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},sa=function(e,t){return 0!==(e&t)},aa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},ia={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],s=t.filter(Mn),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(20===i.type){var l=o&&Un(o)?o.number:1;r.push({counter:i.value,increment:l})}}return r}},oa={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Mn),s=0;s<r.length;s++){var a=r[s],i=r[s+1];if(Qn(a)&&"none"!==a.value){var o=i&&Un(i)?i.number:0;n.push({counter:a.value,reset:o})}}return n}},la={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(_n).map(function(t){return Ys.parse(e,t)})}},Aa={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],s=t.filter(Ln);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var i=s[a].value,o=s[a+1].value;r.push({open:i,close:o})}return r}},ca=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},ua={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&In(t[0],"none")?[]:Pn(t).map(function(t){for(var n={color:255,offsetX:zn,offsetY:zn,blur:zn,spread:zn,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];In(a,"inset")?n.inset=!0:On(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=nr.parse(e,a)}return n})}},da={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Qn).forEach(function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}}),n.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r}},ha={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fa={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return _n(t)?t.number:0}},ma=function(){function e(e,t){var n,r;this.animationDuration=xa(e,la,t.animationDuration),this.backgroundClip=xa(e,hr,t.backgroundClip),this.backgroundColor=xa(e,fr,t.backgroundColor),this.backgroundImage=xa(e,Pr,t.backgroundImage),this.backgroundOrigin=xa(e,Tr,t.backgroundOrigin),this.backgroundPosition=xa(e,Or,t.backgroundPosition),this.backgroundRepeat=xa(e,Hr,t.backgroundRepeat),this.backgroundSize=xa(e,Kr,t.backgroundSize),this.borderTopColor=xa(e,Wr,t.borderTopColor),this.borderRightColor=xa(e,Gr,t.borderRightColor),this.borderBottomColor=xa(e,Yr,t.borderBottomColor),this.borderLeftColor=xa(e,Jr,t.borderLeftColor),this.borderTopLeftRadius=xa(e,Zr,t.borderTopLeftRadius),this.borderTopRightRadius=xa(e,$r,t.borderTopRightRadius),this.borderBottomRightRadius=xa(e,es,t.borderBottomRightRadius),this.borderBottomLeftRadius=xa(e,ts,t.borderBottomLeftRadius),this.borderTopStyle=xa(e,rs,t.borderTopStyle),this.borderRightStyle=xa(e,ss,t.borderRightStyle),this.borderBottomStyle=xa(e,as,t.borderBottomStyle),this.borderLeftStyle=xa(e,is,t.borderLeftStyle),this.borderTopWidth=xa(e,ls,t.borderTopWidth),this.borderRightWidth=xa(e,As,t.borderRightWidth),this.borderBottomWidth=xa(e,cs,t.borderBottomWidth),this.borderLeftWidth=xa(e,us,t.borderLeftWidth),this.boxShadow=xa(e,ua,t.boxShadow),this.color=xa(e,ds,t.color),this.direction=xa(e,hs,t.direction),this.display=xa(e,fs,t.display),this.float=xa(e,ps,t.cssFloat),this.fontFamily=xa(e,$s,t.fontFamily),this.fontSize=xa(e,ea,t.fontSize),this.fontStyle=xa(e,ra,t.fontStyle),this.fontVariant=xa(e,na,t.fontVariant),this.fontWeight=xa(e,ta,t.fontWeight),this.letterSpacing=xa(e,gs,t.letterSpacing),this.lineBreak=xa(e,bs,t.lineBreak),this.lineHeight=xa(e,vs,t.lineHeight),this.listStyleImage=xa(e,ws,t.listStyleImage),this.listStylePosition=xa(e,Bs,t.listStylePosition),this.listStyleType=xa(e,Ns,t.listStyleType),this.marginTop=xa(e,Cs,t.marginTop),this.marginRight=xa(e,ks,t.marginRight),this.marginBottom=xa(e,Fs,t.marginBottom),this.marginLeft=xa(e,Ss,t.marginLeft),this.opacity=xa(e,Js,t.opacity);var s=xa(e,Es,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=xa(e,_s,t.overflowWrap),this.paddingTop=xa(e,Qs,t.paddingTop),this.paddingRight=xa(e,Ls,t.paddingRight),this.paddingBottom=xa(e,Is,t.paddingBottom),this.paddingLeft=xa(e,Ms,t.paddingLeft),this.paintOrder=xa(e,da,t.paintOrder),this.position=xa(e,Ps,t.position),this.textAlign=xa(e,Ds,t.textAlign),this.textDecorationColor=xa(e,Xs,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=xa(e,Zs,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=xa(e,Ts,t.textShadow),this.textTransform=xa(e,Os,t.textTransform),this.transform=xa(e,Hs,t.transform),this.transformOrigin=xa(e,Vs,t.transformOrigin),this.visibility=xa(e,qs,t.visibility),this.webkitTextStrokeColor=xa(e,ha,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=xa(e,fa,t.webkitTextStrokeWidth),this.wordBreak=xa(e,Ws,t.wordBreak),this.zIndex=xa(e,Gs,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return sa(this.display,4)||sa(this.display,33554432)||sa(this.display,268435456)||sa(this.display,536870912)||sa(this.display,67108864)||sa(this.display,134217728)},e}(),pa=function(){function e(e,t){this.content=xa(e,aa,t.content),this.quotes=xa(e,Aa,t.quotes)}return e}(),ga=function(){function e(e,t){this.counterIncrement=xa(e,ia,t.counterIncrement),this.counterReset=xa(e,oa,t.counterReset)}return e}(),xa=function(e,t,n){var r=new Sn,s=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(s);var a=new En(r.read());switch(t.type){case 2:var i=a.parseComponentValue();return t.parse(e,Qn(i)?i.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Zn.parse(e,a.parseComponentValue());case"color":return nr.parse(e,a.parseComponentValue());case"image":return Lr.parse(e,a.parseComponentValue());case"length":var o=a.parseComponentValue();return On(o)?o:zn;case"length-percentage":var l=a.parseComponentValue();return Hn(l)?l:zn;case"time":return Ys.parse(e,a.parseComponentValue())}}},ba="data-html2canvas-debug",va=function(e){switch(e.getAttribute(ba)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ya=function(e,t){var n=va(e);return 1===n||t===n},wa=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ya(t,3),this.styles=new ma(e,window.getComputedStyle(t,null)),Ao(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),ya(t,4)&&(this.flags|=16)}return e}(),Ba="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ja="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ca=0;Ca<Na.length;Ca++)ja[Na.charCodeAt(Ca)]=Ca;for(var ka=function(e){var t,n,r,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<o;t+=4)n=ja[e.charCodeAt(t)],r=ja[e.charCodeAt(t+1)],s=ja[e.charCodeAt(t+2)],a=ja[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&a;return A},Fa=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Sa=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Ea=5,_a=11,Ua=2,Qa=65536>>Ea,La=(1<<Ea)-1,Ia=Qa+(1024>>Ea)+32,Ma=65536>>_a,Da=(1<<_a-Ea)-1,Pa=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Ta=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Oa=function(e,t){var n=ka(e),r=Array.isArray(n)?Sa(n):new Uint32Array(n),s=Array.isArray(n)?Fa(n):new Uint16Array(n),a=24,i=Pa(s,a/2,r[4]/2),o=2===r[5]?Pa(s,(a+r[4])/2):Ta(r,Math.ceil((a+r[4])/4));return new Ha(r[0],r[1],r[2],r[3],i,o)},Ha=function(){function e(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Ea])<<Ua)+(e&La),this.data[t];if(e<=65535)return t=((t=this.index[Qa+(e-55296>>Ea)])<<Ua)+(e&La),this.data[t];if(e<this.highStart)return t=Ia-Ma+(e>>_a),t=this.index[t],t+=e>>Ea&Da,t=((t=this.index[t])<<Ua)+(e&La),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",za="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ka=0;Ka<Ra.length;Ka++)za[Ra.charCodeAt(Ka)]=Ka;var Va,qa=1,Wa=2,Ga=3,Ya=4,Ja=5,Xa=7,Za=8,$a=9,ei=10,ti=11,ni=12,ri=13,si=14,ai=15,ii=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),n--)}else t.push(s)}return t},oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=e[s];i<=65535?r.push(i):(i-=65536,r.push(55296+(i>>10),i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},li=Oa(Ba),Ai="\xd7",ci="\xf7",ui=function(e){return li.get(e)},di=function(e,t,n){var r=n-2,s=t[r],a=t[n-1],i=t[n];if(a===Wa&&i===Ga)return Ai;if(a===Wa||a===Ga||a===Ya)return ci;if(i===Wa||i===Ga||i===Ya)return ci;if(a===Za&&-1!==[Za,$a,ti,ni].indexOf(i))return Ai;if((a===ti||a===$a)&&(i===$a||i===ei))return Ai;if((a===ni||a===ei)&&i===ei)return Ai;if(i===ri||i===Ja)return Ai;if(i===Xa)return Ai;if(a===qa)return Ai;if(a===ri&&i===si){for(;s===Ja;)s=t[--r];if(s===si)return Ai}if(a===ai&&i===ai){for(var o=0;s===ai;)o++,s=t[--r];if(o%2===0)return Ai}return ci},hi=function(e){var t=ii(e),n=t.length,r=0,s=0,a=t.map(ui);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=Ai;r<n&&(e=di(t,a,++r))===Ai;);if(e!==Ai||r===n){var i=oi.apply(null,t.slice(s,r));return s=r,{value:i,done:!1}}return{done:!0,value:null}}}},fi=function(e){for(var t,n=hi(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},mi=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(r),a===t)return!0}}return!1},pi=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,s=A(r.data).map(function(e){return c(e)}),a=0,i={},o=s.every(function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var s=n.getBoundingClientRect();a+=e.length;var o=s.x>i.x||s.y>i.y;return i=s,0===t||o});return e.body.removeChild(t),o},gi=function(){return"undefined"!==typeof(new Image).crossOrigin},xi=function(){return"string"===typeof(new XMLHttpRequest).responseType},bi=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Dt){return!1}return!0},vi=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},yi=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,a=t.toDataURL();s.src=a;var i=wi(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),Bi(i).then(function(t){r.drawImage(t,0,0);var s=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var i=e.createElement("div");return i.style.backgroundImage="url("+a+")",i.style.height=n+"px",vi(s)?Bi(wi(n,n,0,0,i)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),vi(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},wi=function(e,t,n,r,s){var a="http://www.w3.org/2000/svg",i=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(s),i},Bi=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},Ni={get SUPPORT_RANGE_BOUNDS(){var e=mi(document);return Object.defineProperty(Ni,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ni.SUPPORT_RANGE_BOUNDS&&pi(document);return Object.defineProperty(Ni,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=bi(document);return Object.defineProperty(Ni,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?yi(document):Promise.resolve(!1);return Object.defineProperty(Ni,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=gi();return Object.defineProperty(Ni,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=xi();return Object.defineProperty(Ni,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ni,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ni,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},ji=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Ci=function(e,t,n,r){var s=_i(t,n),a=[],o=0;return s.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Ni.SUPPORT_RANGE_BOUNDS){var s=Fi(r,o,t.length).getClientRects();if(s.length>1){var l=Si(t),A=0;l.forEach(function(t){a.push(new ji(t,i.fromDOMRectList(e,Fi(r,A+o,t.length).getClientRects()))),A+=t.length})}else a.push(new ji(t,i.fromDOMRectList(e,s)))}else{var c=r.splitText(t.length);a.push(new ji(t,ki(e,r))),r=c}else Ni.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));o+=t.length}),a},ki=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(r,t);var a=o(e,r);return r.firstChild&&s.replaceChild(r.firstChild,r),a}}return i.EMPTY},Fi=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},Si=function(e){if(Ni.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return fi(e)},Ei=function(e,t){if(Ni.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return Qi(e,t)},_i=function(e,t){return 0!==t.letterSpacing?Si(e):Ei(e,t)},Ui=[32,160,4961,65792,65793,4153,4241],Qi=function(e,t){for(var n,r=Re(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),s=[],a=function(){if(n.value){var e=n.value.slice(),t=A(e),r="";t.forEach(function(e){-1===Ui.indexOf(e)?r+=c(e):(r.length&&s.push(r),s.push(c(e)),r="")}),r.length&&s.push(r)}};!(n=r.next()).done;)a();return s},Li=function(){function e(e,t,n){this.text=Ii(t.data,n.textTransform),this.textBounds=Ci(e,this.text,n,t)}return e}(),Ii=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Mi,Di);case 2:return e.toUpperCase();default:return e}},Mi=/(^|\s|:|-|\(|\))([a-z])/g,Di=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Pi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(wa),Ti=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(wa),Oi=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=new XMLSerializer,a=o(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(wa),Hi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(wa),Ri=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(wa),zi=[{type:15,flags:0,unit:"px",number:3}],Ki=[{type:16,flags:0,number:50}],Vi=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},qi=function(e){var t=e.type===Yi?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Wi="checkbox",Gi="radio",Yi="password",Ji=707406591,Xi=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=qi(n),r.type!==Wi&&r.type!==Gi||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Vi(r.bounds)),r.type){case Wi:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=zi;break;case Gi:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ki}return r}return t(n,e),n}(wa),Zi=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return t(n,e),n}(wa),$i=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(wa),eo=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=so(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,a=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(s)?rr(a)?r.styles.backgroundColor:a:s}}catch(Dt){}return r}return t(n,e),n}(wa),to=["OL","UL","MENU"],no=function(e,t,n,r){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,oo(s)&&s.data.trim().length>0)n.textNodes.push(new Li(e,s,n.styles));else if(lo(s))if(Co(s)&&s.assignedNodes)s.assignedNodes().forEach(function(t){return no(e,t,n,r)});else{var i=ro(e,s);i.styles.isVisible()&&(ao(s,i,r)?i.flags|=4:io(i.styles)&&(i.flags|=2),-1!==to.indexOf(s.tagName)&&(i.flags|=8),n.elements.push(i),s.slot,s.shadowRoot?no(e,s.shadowRoot,i,r):No(s)||po(s)||jo(s)||no(e,s,i,r))}},ro=function(e,t){return vo(t)?new Pi(e,t):xo(t)?new Ti(e,t):po(t)?new Oi(e,t):uo(t)?new Hi(e,t):ho(t)?new Ri(e,t):fo(t)?new Xi(e,t):jo(t)?new Zi(e,t):No(t)?new $i(e,t):yo(t)?new eo(e,t):new wa(e,t)},so=function(e,t){var n=ro(e,t);return n.flags|=4,no(e,t,n,n),n},ao=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||go(e)&&n.styles.isTransparent()},io=function(e){return e.isPositioned()||e.isFloating()},oo=function(e){return e.nodeType===Node.TEXT_NODE},lo=function(e){return e.nodeType===Node.ELEMENT_NODE},Ao=function(e){return lo(e)&&"undefined"!==typeof e.style&&!co(e)},co=function(e){return"object"===typeof e.className},uo=function(e){return"LI"===e.tagName},ho=function(e){return"OL"===e.tagName},fo=function(e){return"INPUT"===e.tagName},mo=function(e){return"HTML"===e.tagName},po=function(e){return"svg"===e.tagName},go=function(e){return"BODY"===e.tagName},xo=function(e){return"CANVAS"===e.tagName},bo=function(e){return"VIDEO"===e.tagName},vo=function(e){return"IMG"===e.tagName},yo=function(e){return"IFRAME"===e.tagName},wo=function(e){return"STYLE"===e.tagName},Bo=function(e){return"SCRIPT"===e.tagName},No=function(e){return"TEXTAREA"===e.tagName},jo=function(e){return"SELECT"===e.tagName},Co=function(e){return"SLOT"===e.tagName},ko=function(e){return e.tagName.indexOf("-")>0},Fo=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,s=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(s=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var a=[];return s&&r.forEach(function(e){var n=t.counters[e.counter];a.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),a},e}(),So={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Eo={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},_o={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Uo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Qo=function(e,t,n,r,s,a){return e<t||e>n?qo(e,s,a.length>0):r.integers.reduce(function(t,n,s){for(;e>=n;)e-=n,t+=r.values[s];return t},"")+a},Lo=function(e,t,n,r){var s="";do{n||e--,s=r(e)+s,e/=t}while(e*t>=t);return s},Io=function(e,t,n,r,s){var a=n-t+1;return(e<0?"-":"")+(Lo(Math.abs(e),a,r,function(e){return c(Math.floor(e%a)+t)})+s)},Mo=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Lo(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},Do=1,Po=2,To=4,Oo=8,Ho=function(e,t,n,r,s,a){if(e<-9999||e>9999)return qo(e,4,s.length>0);var i=Math.abs(e),o=s;if(0===i)return t[0]+o;for(var l=0;i>0&&l<=4;l++){var A=i%10;0===A&&sa(a,Do)&&""!==o?o=t[A]+o:A>1||1===A&&0===l||1===A&&1===l&&sa(a,Po)||1===A&&1===l&&sa(a,To)&&e>100||1===A&&l>1&&sa(a,Oo)?o=t[A]+(l>0?n[l-1]:"")+o:1===A&&l>0&&(o=n[l-1]+o),i=Math.floor(i/10)}return(e<0?r:"")+o},Ro="\u5341\u767e\u5343\u842c",zo="\u62fe\u4f70\u4edf\u842c",Ko="\u30de\u30a4\u30ca\u30b9",Vo="\ub9c8\uc774\ub108\uc2a4",qo=function(e,t,n){var r=n?". ":"",s=n?"\u3001":"",a=n?", ":"",i=n?" ":"";switch(t){case 0:return"\u2022"+i;case 1:return"\u25e6"+i;case 2:return"\u25fe"+i;case 5:var o=Io(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Mo(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",s);case 6:return Qo(e,1,3999,So,3,r).toLowerCase();case 7:return Qo(e,1,3999,So,3,r);case 8:return Io(e,945,969,!1,r);case 9:return Io(e,97,122,!1,r);case 10:return Io(e,65,90,!1,r);case 11:return Io(e,1632,1641,!0,r);case 12:case 49:return Qo(e,1,9999,Eo,3,r);case 35:return Qo(e,1,9999,Eo,3,r).toLowerCase();case 13:return Io(e,2534,2543,!0,r);case 14:case 30:return Io(e,6112,6121,!0,r);case 15:return Mo(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",s);case 16:return Mo(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",s);case 17:case 48:return Ho(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ro,"\u8ca0",s,Po|To|Oo);case 47:return Ho(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",zo,"\u8ca0",s,Do|Po|To|Oo);case 42:return Ho(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ro,"\u8d1f",s,Po|To|Oo);case 41:return Ho(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",zo,"\u8d1f",s,Do|Po|To|Oo);case 26:return Ho(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ko,s,0);case 25:return Ho(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ko,s,Do|Po|To);case 31:return Ho(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Vo,a,Do|Po|To);case 33:return Ho(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Vo,a,0);case 32:return Ho(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Vo,a,Do|Po|To);case 18:return Io(e,2406,2415,!0,r);case 20:return Qo(e,1,19999,Uo,3,r);case 21:return Io(e,2790,2799,!0,r);case 22:return Io(e,2662,2671,!0,r);case 22:return Qo(e,1,10999,_o,3,r);case 23:return Mo(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Mo(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Io(e,3302,3311,!0,r);case 28:return Mo(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",s);case 29:return Mo(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",s);case 34:return Io(e,3792,3801,!0,r);case 37:return Io(e,6160,6169,!0,r);case 38:return Io(e,4160,4169,!0,r);case 39:return Io(e,2918,2927,!0,r);case 40:return Io(e,1776,1785,!0,r);case 43:return Io(e,3046,3055,!0,r);case 44:return Io(e,3174,3183,!0,r);case 45:return Io(e,3664,3673,!0,r);case 46:return Io(e,3872,3881,!0,r);default:return Io(e,48,57,!0,r)}},Wo="data-html2canvas-ignore",Go=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Fo,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,a=Jo(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,A=l.document,c=$o(a).then(function(){return r(n,void 0,void 0,function(){var e,n;return s(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(sl),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zo(A)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(A,n)}).then(function(){return a})]:[2,a]}})})});return A.open(),A.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(e){if(ya(e,2),xo(e))return this.createCanvasClone(e);if(bo(e))return this.createVideoClone(e);if(wo(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return vo(t)&&(vo(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),ko(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Dt){if(this.context.logger.error("Unable to access cssRules property",Dt),"SecurityError"!==Dt.name)throw Dt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Dt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var i=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(i){var o=i.getContextAttributes();!1===(null===o||void 0===o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch(Dt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Dt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){lo(t)&&(Bo(t)||t.hasAttribute(Wo)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&lo(t)&&wo(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(lo(s)&&Co(s)&&"function"===typeof s.assignedNodes){var a=s.assignedNodes();a.length&&a.forEach(function(e){return r.appendChildNode(t,e,n)})}else this.appendChildNode(t,s,n)},e.prototype.cloneNode=function(e,t){if(oo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&lo(e)&&(Ao(e)||co(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),i=n.getComputedStyle(e,":after");this.referenceElement===e&&Ao(r)&&(this.clonedReferenceElement=r),go(r)&&cl(r);var o=this.counters.parse(new ga(this.context,s)),l=this.resolvePseudoContent(e,r,a,Va.BEFORE);ko(e)&&(t=!0),bo(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var A=this.resolvePseudoContent(e,r,i,Va.AFTER);return A&&r.appendChild(A),this.counters.pop(o),(s&&(this.options.copyStyles||co(e))&&!yo(e)||t)&&tl(s,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(No(e)||jo(e))&&(No(r)||jo(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var s=this;if(n){var a=n.content,i=t.ownerDocument;if(i&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==n.display){this.counters.parse(new ga(this.context,n));var o=new pa(this.context,n),l=i.createElement("html2canvaspseudoelement");tl(n,l),o.content.forEach(function(t){if(0===t.type)l.appendChild(i.createTextNode(t.value));else if(22===t.type){var n=i.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Qn);r.length&&l.appendChild(i.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(Dn),A=a[0],c=a[1];if(A&&Qn(A)){var u=s.counters.getCounterValue(A.value),d=c&&Qn(c)?Ns.parse(s.context,c.value):3;l.appendChild(i.createTextNode(qo(u,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(Dn),f=(A=h[0],h[1]);if(c=h[2],A&&Qn(A)){var m=s.counters.getCounterValues(A.value),p=c&&Qn(c)?Ns.parse(s.context,c.value):3,g=f&&0===f.type?f.value:"",x=m.map(function(e){return qo(e,p,!1)}).join(g);l.appendChild(i.createTextNode(x))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(i.createTextNode(ca(o.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(i.createTextNode(ca(o.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(i.createTextNode(t.value))}}),l.className=ol+" "+ll;var A=r===Va.BEFORE?" "+ol:" "+ll;return co(t)?t.className.baseValue+=A:t.className+=A,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Va||(Va={}));var Yo,Jo=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Wo,"true"),e.body.appendChild(n),n},Xo=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Zo=function(e){return Promise.all([].slice.call(e.images,0).map(Xo))},$o=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval(function(){s.body.childNodes.length>0&&"complete"===s.readyState&&(clearInterval(n),t(e))},50)}})},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},sl=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},al=":before",il=":after",ol="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",Al='{\n    content: "" !important;\n    display: none !important;\n}',cl=function(e){ul(e,"."+ol+al+Al+"\n         ."+ll+il+Al)},ul=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),hl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:vl(e)||gl(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,i=this;return s(this,function(s){switch(s.label){case 0:return t=dl.isSameOrigin(e),n=!xl(e)&&!0===this._options.useCORS&&Ni.SUPPORT_CORS_IMAGES&&!t,r=!xl(e)&&!t&&!vl(e)&&"string"===typeof this._options.proxy&&Ni.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||xl(e)||vl(e)||r||n?(a=e,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(bl(a)||n)&&(r.crossOrigin="anonymous"),r.src=a,!0===r.complete&&setTimeout(function(){return e(r)},500),i._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var i=Ni.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===i)s(o.response);else{var e=new FileReader;e.addEventListener("load",function(){return s(e.result)},!1),e.addEventListener("error",function(e){return a(e)},!1),e.readAsDataURL(o.response)}else a("Failed to proxy resource "+r+" with status code "+o.status)},o.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+i),"text"!==i&&o instanceof XMLHttpRequest&&(o.responseType=i),t._options.imageTimeout){var A=t._options.imageTimeout;o.timeout=A,o.ontimeout=function(){return a("Timed out ("+A+"ms) proxying "+r)}}o.send()})},e}(),fl=/^data:image\/svg\+xml/i,ml=/^data:image\/.*;base64,/i,pl=/^data:image\/.*/i,gl=function(e){return Ni.SUPPORT_SVG_DRAWING||!yl(e)},xl=function(e){return pl.test(e)},bl=function(e){return ml.test(e)},vl=function(e){return"blob"===e.substr(0,4)},yl=function(e){return"svg"===e.substr(-3).toLowerCase()||fl.test(e)},wl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Bl=function(e,t,n){return new wl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Nl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Bl(this.start,this.startControl,t),s=Bl(this.startControl,this.endControl,t),a=Bl(this.endControl,this.end,t),i=Bl(r,s,t),o=Bl(s,a,t),l=Bl(i,o,t);return n?new e(this.start,r,i,l):new e(l,o,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),jl=function(e){return 1===e.type},Cl=function(){function e(e){var t=e.styles,n=e.bounds,r=qn(t.borderTopLeftRadius,n.width,n.height),s=r[0],a=r[1],i=qn(t.borderTopRightRadius,n.width,n.height),o=i[0],l=i[1],A=qn(t.borderBottomRightRadius,n.width,n.height),c=A[0],u=A[1],d=qn(t.borderBottomLeftRadius,n.width,n.height),h=d[0],f=d[1],m=[];m.push((s+o)/n.width),m.push((h+c)/n.width),m.push((a+f)/n.height),m.push((l+u)/n.height);var p=Math.max.apply(Math,m);p>1&&(s/=p,a/=p,o/=p,l/=p,c/=p,u/=p,h/=p,f/=p);var g=n.width-o,x=n.height-u,b=n.width-c,v=n.height-f,y=t.borderTopWidth,w=t.borderRightWidth,B=t.borderBottomWidth,N=t.borderLeftWidth,j=Wn(t.paddingTop,e.bounds.width),C=Wn(t.paddingRight,e.bounds.width),k=Wn(t.paddingBottom,e.bounds.width),F=Wn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?kl(n.left+N/3,n.top+y/3,s-N/3,a-y/3,Yo.TOP_LEFT):new wl(n.left+N/3,n.top+y/3),this.topRightBorderDoubleOuterBox=s>0||a>0?kl(n.left+g,n.top+y/3,o-w/3,l-y/3,Yo.TOP_RIGHT):new wl(n.left+n.width-w/3,n.top+y/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?kl(n.left+b,n.top+x,c-w/3,u-B/3,Yo.BOTTOM_RIGHT):new wl(n.left+n.width-w/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=h>0||f>0?kl(n.left+N/3,n.top+v,h-N/3,f-B/3,Yo.BOTTOM_LEFT):new wl(n.left+N/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?kl(n.left+2*N/3,n.top+2*y/3,s-2*N/3,a-2*y/3,Yo.TOP_LEFT):new wl(n.left+2*N/3,n.top+2*y/3),this.topRightBorderDoubleInnerBox=s>0||a>0?kl(n.left+g,n.top+2*y/3,o-2*w/3,l-2*y/3,Yo.TOP_RIGHT):new wl(n.left+n.width-2*w/3,n.top+2*y/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?kl(n.left+b,n.top+x,c-2*w/3,u-2*B/3,Yo.BOTTOM_RIGHT):new wl(n.left+n.width-2*w/3,n.top+n.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=h>0||f>0?kl(n.left+2*N/3,n.top+v,h-2*N/3,f-2*B/3,Yo.BOTTOM_LEFT):new wl(n.left+2*N/3,n.top+n.height-2*B/3),this.topLeftBorderStroke=s>0||a>0?kl(n.left+N/2,n.top+y/2,s-N/2,a-y/2,Yo.TOP_LEFT):new wl(n.left+N/2,n.top+y/2),this.topRightBorderStroke=s>0||a>0?kl(n.left+g,n.top+y/2,o-w/2,l-y/2,Yo.TOP_RIGHT):new wl(n.left+n.width-w/2,n.top+y/2),this.bottomRightBorderStroke=c>0||u>0?kl(n.left+b,n.top+x,c-w/2,u-B/2,Yo.BOTTOM_RIGHT):new wl(n.left+n.width-w/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=h>0||f>0?kl(n.left+N/2,n.top+v,h-N/2,f-B/2,Yo.BOTTOM_LEFT):new wl(n.left+N/2,n.top+n.height-B/2),this.topLeftBorderBox=s>0||a>0?kl(n.left,n.top,s,a,Yo.TOP_LEFT):new wl(n.left,n.top),this.topRightBorderBox=o>0||l>0?kl(n.left+g,n.top,o,l,Yo.TOP_RIGHT):new wl(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?kl(n.left+b,n.top+x,c,u,Yo.BOTTOM_RIGHT):new wl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||f>0?kl(n.left,n.top+v,h,f,Yo.BOTTOM_LEFT):new wl(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?kl(n.left+N,n.top+y,Math.max(0,s-N),Math.max(0,a-y),Yo.TOP_LEFT):new wl(n.left+N,n.top+y),this.topRightPaddingBox=o>0||l>0?kl(n.left+Math.min(g,n.width-w),n.top+y,g>n.width+w?0:Math.max(0,o-w),Math.max(0,l-y),Yo.TOP_RIGHT):new wl(n.left+n.width-w,n.top+y),this.bottomRightPaddingBox=c>0||u>0?kl(n.left+Math.min(b,n.width-N),n.top+Math.min(x,n.height-B),Math.max(0,c-w),Math.max(0,u-B),Yo.BOTTOM_RIGHT):new wl(n.left+n.width-w,n.top+n.height-B),this.bottomLeftPaddingBox=h>0||f>0?kl(n.left+N,n.top+Math.min(v,n.height-B),Math.max(0,h-N),Math.max(0,f-B),Yo.BOTTOM_LEFT):new wl(n.left+N,n.top+n.height-B),this.topLeftContentBox=s>0||a>0?kl(n.left+N+F,n.top+y+j,Math.max(0,s-(N+F)),Math.max(0,a-(y+j)),Yo.TOP_LEFT):new wl(n.left+N+F,n.top+y+j),this.topRightContentBox=o>0||l>0?kl(n.left+Math.min(g,n.width+N+F),n.top+y+j,g>n.width+N+F?0:o-N+F,l-(y+j),Yo.TOP_RIGHT):new wl(n.left+n.width-(w+C),n.top+y+j),this.bottomRightContentBox=c>0||u>0?kl(n.left+Math.min(b,n.width-(N+F)),n.top+Math.min(x,n.height+y+j),Math.max(0,c-(w+C)),u-(B+k),Yo.BOTTOM_RIGHT):new wl(n.left+n.width-(w+C),n.top+n.height-(B+k)),this.bottomLeftContentBox=h>0||f>0?kl(n.left+N+F,n.top+v,Math.max(0,h-(N+F)),f-(B+k),Yo.BOTTOM_LEFT):new wl(n.left+N+F,n.top+n.height-(B+k))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Yo||(Yo={}));var kl=function(e,t,n,r,s){var a=(Math.sqrt(2)-1)/3*4,i=n*a,o=r*a,l=e+n,A=t+r;switch(s){case Yo.TOP_LEFT:return new Nl(new wl(e,A),new wl(e,A-o),new wl(l-i,t),new wl(l,t));case Yo.TOP_RIGHT:return new Nl(new wl(e,t),new wl(e+i,t),new wl(l,A-o),new wl(l,A));case Yo.BOTTOM_RIGHT:return new Nl(new wl(l,t),new wl(l,t+o),new wl(e+i,A),new wl(e,A));case Yo.BOTTOM_LEFT:default:return new Nl(new wl(l,A),new wl(l-i,A),new wl(e,t+o),new wl(e,t))}},Fl=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Sl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},El=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},_l=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ul=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Ql=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ll=function(e){return 0===e.type},Il=function(e){return 1===e.type},Ml=function(e){return 2===e.type},Dl=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},Pl=function(e,t,n,r,s){return e.map(function(e,a){switch(a){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+s);case 3:return e.add(t,n+s)}return e})},Tl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ol=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Cl(this.container),this.container.styles.opacity<1&&this.effects.push(new Ql(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new _l(n,r,s))}if(0!==this.container.styles.overflowX){var a=Fl(this.curves),i=El(this.curves);Dl(a,i)?this.effects.push(new Ul(a,6)):(this.effects.push(new Ul(a,2)),this.effects.push(new Ul(i,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter(function(e){return!Il(e)});if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,s),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var a=Fl(n.curves),i=El(n.curves);Dl(a,i)||r.unshift(new Ul(i,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter(function(t){return sa(t.target,e)})},e}(),Hl=function(e,t,n,r){e.container.elements.forEach(function(s){var a=sa(s.flags,4),i=sa(s.flags,2),o=new Ol(s,e);sa(s.styles.display,2048)&&r.push(o);var l=sa(s.flags,8)?[]:r;if(a||i){var A=a||s.styles.isPositioned()?n:t,c=new Tl(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var u=s.styles.zIndex.order;if(u<0){var d=0;A.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0}),A.negativeZIndex.splice(d,0,c)}else if(u>0){var h=0;A.positiveZIndex.some(function(e,t){return u>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0}),A.positiveZIndex.splice(h,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else s.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);Hl(o,c,a?c:n,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Hl(o,t,n,l);sa(s.flags,8)&&Rl(s,l)})},Rl=function(e,t){for(var n=e instanceof Ri?e.start:1,r=e instanceof Ri&&e.reversed,s=0;s<t.length;s++){var a=t[s];a.container instanceof Hi&&"number"===typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=qo(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},zl=function(e){var t=new Ol(e,null),n=new Tl(t),r=[];return Hl(t,n,n,r),Rl(t.container,r),n},Kl=function(e,t){switch(t){case 0:return Yl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Yl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Yl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Yl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Vl=function(e,t){switch(t){case 0:return Yl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Yl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Yl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Yl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},ql=function(e,t){switch(t){case 0:return Yl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Yl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Yl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Yl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wl=function(e,t){switch(t){case 0:return Gl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Gl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Gl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Gl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Gl=function(e,t){var n=[];return jl(e)?n.push(e.subdivide(.5,!1)):n.push(e),jl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Yl=function(e,t,n,r){var s=[];return jl(e)?s.push(e.subdivide(.5,!1)):s.push(e),jl(n)?s.push(n.subdivide(.5,!0)):s.push(n),jl(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),jl(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},Jl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Xl=function(e){var t=e.styles,n=e.bounds,r=Wn(t.paddingLeft,n.width),s=Wn(t.paddingRight,n.width),a=Wn(t.paddingTop,n.width),i=Wn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+s),-(t.borderTopWidth+t.borderBottomWidth+a+i))},Zl=function(e,t){return 0===e?t.bounds:2===e?Xl(t):Jl(t)},$l=function(e,t){return 0===e?t.bounds:2===e?Xl(t):Jl(t)},eA=function(e,t,n){var r=Zl(sA(e.styles.backgroundOrigin,t),e),s=$l(sA(e.styles.backgroundClip,t),e),a=rA(sA(e.styles.backgroundSize,t),n,r),i=a[0],o=a[1],l=qn(sA(e.styles.backgroundPosition,t),r.width-i,r.height-o);return[aA(sA(e.styles.backgroundRepeat,t),l,a,r,s),Math.round(r.left+l[0]),Math.round(r.top+l[1]),i,o]},tA=function(e){return Qn(e)&&e.value===Mr.AUTO},nA=function(e){return"number"===typeof e},rA=function(e,t,n){var r=t[0],s=t[1],a=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(Hn(i)&&o&&Hn(o))return[Wn(i,n.width),Wn(o,n.height)];var l=nA(a);if(Qn(i)&&(i.value===Mr.CONTAIN||i.value===Mr.COVER))return nA(a)?n.width/n.height<a!==(i.value===Mr.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var A=nA(r),c=nA(s),u=A||c;if(tA(i)&&(!o||tA(o)))return A&&c?[r,s]:l||u?u&&l?[A?r:s*a,c?s:r/a]:[A?r:n.width,c?s:n.height]:[n.width,n.height];if(l){var d=0,h=0;return Hn(i)?d=Wn(i,n.width):Hn(o)&&(h=Wn(o,n.height)),tA(i)?d=h*a:o&&!tA(o)||(h=d/a),[d,h]}var f=null,m=null;if(Hn(i)?f=Wn(i,n.width):o&&Hn(o)&&(m=Wn(o,n.height)),null===f||o&&!tA(o)||(m=A&&c?f/r*s:n.height),null!==m&&tA(i)&&(f=A&&c?m/s*r:n.width),null!==f&&null!==m)return[f,m];throw new Error("Unable to calculate background-size for element")},sA=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},aA=function(e,t,n,r,s){var a=t[0],i=t[1],o=n[0],l=n[1];switch(e){case 2:return[new wl(Math.round(r.left),Math.round(r.top+i)),new wl(Math.round(r.left+r.width),Math.round(r.top+i)),new wl(Math.round(r.left+r.width),Math.round(l+r.top+i)),new wl(Math.round(r.left),Math.round(l+r.top+i))];case 3:return[new wl(Math.round(r.left+a),Math.round(r.top)),new wl(Math.round(r.left+a+o),Math.round(r.top)),new wl(Math.round(r.left+a+o),Math.round(r.height+r.top)),new wl(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new wl(Math.round(r.left+a),Math.round(r.top+i)),new wl(Math.round(r.left+a+o),Math.round(r.top+i)),new wl(Math.round(r.left+a+o),Math.round(r.top+i+l)),new wl(Math.round(r.left+a),Math.round(r.top+i+l))];default:return[new wl(Math.round(s.left),Math.round(s.top)),new wl(Math.round(s.left+s.width),Math.round(s.top)),new wl(Math.round(s.left+s.width),Math.round(s.height+s.top)),new wl(Math.round(s.left),Math.round(s.height+s.top))]}},iA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oA="Hidden Text",lA=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),r.src=iA,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(oA)),n.appendChild(s),n.appendChild(r);var i=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(oA)),n.style.lineHeight="normal",r.style.verticalAlign="super";var o=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:i,middle:o}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),AA=function(){function e(e,t){this.context=e,this.options=t}return e}(),cA=1e4,uA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lA(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),Ml(e)&&(this.ctx.globalAlpha=e.opacity),Ll(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Il(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return sa(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Si(e.text).reduce(function(t,s){return r.ctx.fillText(s,t,e.bounds.top+n),t+r.ctx.measureText(s).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=pA(e.fontFamily).join(", "),r=_n(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var n,r,a,i,o,l,A,c,u=this;return s(this,function(s){return n=this.createFontStyle(t),r=n[0],a=n[1],i=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(a,i),l=o.baseline,A=o.middle,c=t.paintOrder,e.textBounds.forEach(function(e){c.forEach(function(n){switch(n){case 0:u.ctx.fillStyle=sr(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach(function(n){u.ctx.shadowColor=sr(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,l)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=sr(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+A),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=sr(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Xl(e),s=El(t);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,function(){var t,r,a,o,l,A,c,u,d,h,f,m,p,g,x,b,v,y;return s(this,function(s){switch(s.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,a=t.styles,o=0,l=t.textNodes,s.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,a)]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof Pi))return[3,8];s.label=5;case 5:return s.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return x=s.sent(),this.renderReplacedElement(t,r,x),[3,8];case 7:return s.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Ti&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Oi))return[3,12];s.label=9;case 9:return s.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return x=s.sent(),this.renderReplacedElement(t,r,x),[3,12];case 11:return s.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof eo&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=s.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),s.label=14;case 14:if(t instanceof Xi&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Wi?t.checked&&(this.ctx.save(),this.path([new wl(t.bounds.left+.39363*u,t.bounds.top+.79*u),new wl(t.bounds.left+.16*u,t.bounds.top+.5549*u),new wl(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new wl(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new wl(t.bounds.left+.72983*u,t.bounds.top+.23*u),new wl(t.bounds.left+.84*u,t.bounds.top+.34085*u),new wl(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=sr(Ji),this.ctx.fill(),this.ctx.restore()):t.type===Gi&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=sr(Ji),this.ctx.fill(),this.ctx.restore())),dA(t)&&t.value.length){switch(d=this.createFontStyle(a),v=d[0],h=d[1],f=this.fontMetrics.getMetrics(v,h).baseline,this.ctx.font=v,this.ctx.fillStyle=sr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fA(t.styles.textAlign),y=Xl(t),m=0,t.styles.textAlign){case 1:m+=y.width/2;break;case 2:m+=y.width}p=y.add(m,0,0,-y.height/2+1),this.ctx.save(),this.path([new wl(y.left,y.top),new wl(y.left+y.width,y.top),new wl(y.left+y.width,y.top+y.height),new wl(y.left,y.top+y.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ji(t.value,p),a.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!sa(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(g=t.styles.listStyleImage).type)return[3,18];x=void 0,b=g.url,s.label=15;case 15:return s.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return x=s.sent(),this.ctx.drawImage(x,t.bounds.left-(x.width+10),t.bounds.top),[3,18];case 17:return s.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(v=this.createFontStyle(a)[0],this.ctx.font=v,this.ctx.fillStyle=sr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",y=new i(t.bounds.left,t.bounds.top+Wn(t.styles.paddingTop,t.bounds.width),t.bounds.width,ys(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ji(e.listValue,y),a.letterSpacing,ys(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),s.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,i,o,l,A,c,u,d,h,f,m,p;return s(this,function(s){switch(s.label){case 0:return sa(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:s.sent(),t=0,n=e.negativeZIndex,s.label=2;case 2:return t<n.length?(p=n[t],[4,this.renderStack(p)]):[3,5];case 3:s.sent(),s.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:s.sent(),r=0,a=e.nonInlineLevel,s.label=7;case 7:return r<a.length?(p=a[r],[4,this.renderNode(p)]):[3,10];case 8:s.sent(),s.label=9;case 9:return r++,[3,7];case 10:i=0,o=e.nonPositionedFloats,s.label=11;case 11:return i<o.length?(p=o[i],[4,this.renderStack(p)]):[3,14];case 12:s.sent(),s.label=13;case 13:return i++,[3,11];case 14:l=0,A=e.nonPositionedInlineLevel,s.label=15;case 15:return l<A.length?(p=A[l],[4,this.renderStack(p)]):[3,18];case 16:s.sent(),s.label=17;case 17:return l++,[3,15];case 18:c=0,u=e.inlineLevel,s.label=19;case 19:return c<u.length?(p=u[c],[4,this.renderNode(p)]):[3,22];case 20:s.sent(),s.label=21;case 21:return c++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,s.label=23;case 23:return d<h.length?(p=h[d],[4,this.renderStack(p)]):[3,26];case 24:s.sent(),s.label=25;case 25:return d++,[3,23];case 26:f=0,m=e.positiveZIndex,s.label=27;case 27:return f<m.length?(p=m[f],[4,this.renderStack(p)]):[3,30];case 28:s.sent(),s.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=jl(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),jl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var s=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return s.width=Math.max(1,t),s.height=Math.max(1,n),s.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),s},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,i,o;return s(this,function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,i,o,l,A,c,u,d,h,f,m,p,g,x,b,v,y,w,B,N,j,C,k,F,S,E,_,U,Q,L,I;return s(this,function(s){switch(s.label){case 0:if(0!==n.type)return[3,5];a=void 0,i=n.url,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.context.cache.match(i)];case 2:return a=s.sent(),[3,4];case 3:return s.sent(),r.context.logger.error("Error loading background-image "+i),[3,4];case 4:return a&&(o=eA(e,t,[a.width,a.height,a.width/a.height]),v=o[0],C=o[1],k=o[2],B=o[3],N=o[4],x=r.ctx.createPattern(r.resizeImage(a,B,N),"repeat"),r.renderRepeat(v,x,C,k)),[3,6];case 5:Ur(n)?(l=eA(e,t,[null,null,null]),v=l[0],C=l[1],k=l[2],B=l[3],N=l[4],A=xr(n.angle,B,N),c=A[0],u=A[1],d=A[2],h=A[3],f=A[4],(m=document.createElement("canvas")).width=B,m.height=N,p=m.getContext("2d"),g=p.createLinearGradient(u,h,d,f),pr(n.stops,c).forEach(function(e){return g.addColorStop(e.stop,sr(e.color))}),p.fillStyle=g,p.fillRect(0,0,B,N),B>0&&N>0&&(x=r.ctx.createPattern(m,"repeat"),r.renderRepeat(v,x,C,k))):Qr(n)&&(b=eA(e,t,[null,null,null]),v=b[0],y=b[1],w=b[2],B=b[3],N=b[4],j=0===n.position.length?[Kn]:n.position,C=Wn(j[0],B),k=Wn(j[j.length-1],N),F=yr(n,C,k,B,N),S=F[0],E=F[1],S>0&&E>0&&(_=r.ctx.createRadialGradient(y+C,w+k,0,y+C,w+k,S),pr(n.stops,2*S).forEach(function(e){return _.addColorStop(e.stop,sr(e.color))}),r.path(v),r.ctx.fillStyle=_,S!==E?(U=e.bounds.left+.5*e.bounds.width,Q=e.bounds.top+.5*e.bounds.height,I=1/(L=E/S),r.ctx.save(),r.ctx.translate(U,Q),r.ctx.transform(1,0,0,L,0,0),r.ctx.translate(-U,-Q),r.ctx.fillRect(y,I*(w-Q)+Q,B,N*I),r.ctx.restore()):r.ctx.fill())),s.label=6;case 6:return t--,[2]}})},r=this,a=0,i=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<i.length?(o=i[a],[5,n(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(r){return this.path(Kl(n,t)),this.ctx.fillStyle=sr(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,function(){var r,i;return s(this,function(s){switch(s.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return s.sent(),[2];case 2:return r=Vl(a,n),this.path(r),this.ctx.fillStyle=sr(e),this.ctx.fill(),i=ql(a,n),this.path(i),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,i,o,l,A,c=this;return s(this,function(s){switch(s.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=hA(sA(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=sr(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:s.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){c.ctx.save();var n=Fl(e.curves),r=t.inset?0:cA,s=Pl(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(s)):(c.mask(n),c.ctx.clip(),c.path(s)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=sr(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?sr(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),s.label=2;case 2:i=0,o=0,l=r,s.label=3;case 3:return o<l.length?0!==(A=l[o]).style&&!rr(A.color)&&A.width>0?2!==A.style?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,i,e.curves,2)]:[3,11]:[3,13];case 4:return s.sent(),[3,11];case 5:return 3!==A.style?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,i,e.curves,3)];case 6:return s.sent(),[3,11];case 7:return 4!==A.style?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,i,e.curves)];case 8:return s.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,i,e.curves)];case 10:s.sent(),s.label=11;case 11:i++,s.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,a,i){return r(this,void 0,void 0,function(){var r,o,l,A,c,u,d,h,f,m,p,g,x,b,v,y;return s(this,function(s){return this.ctx.save(),r=Wl(a,n),o=Kl(a,n),2===i&&(this.path(o),this.ctx.clip()),jl(o[0])?(l=o[0].start.x,A=o[0].start.y):(l=o[0].x,A=o[0].y),jl(o[1])?(c=o[1].end.x,u=o[1].end.y):(c=o[1].x,u=o[1].y),d=0===n||2===n?Math.abs(l-c):Math.abs(A-u),this.ctx.beginPath(),3===i?this.formatPath(r):this.formatPath(o.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,3===i&&(h=t,f=t),m=!0,d<=2*h?m=!1:d<=2*h+f?(h*=p=d/(2*h+f),f*=p):(g=Math.floor((d+f)/(h+f)),x=(d-g*h)/(g-1),f=(b=(d-(g+1)*h)/g)<=0||Math.abs(f-x)<Math.abs(f-b)?x:b),m&&(3===i?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),3===i?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=sr(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===i&&(jl(o[0])&&(v=o[3],y=o[0],this.ctx.beginPath(),this.formatPath([new wl(v.end.x,v.end.y),new wl(y.start.x,y.start.y)]),this.ctx.stroke()),jl(o[1])&&(v=o[1],y=o[2],this.ctx.beginPath(),this.formatPath([new wl(v.end.x,v.end.y),new wl(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=zl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(AA),dA=function(e){return e instanceof $i||e instanceof Zi||e instanceof Xi&&e.type!==Gi&&e.type!==Wi},hA=function(e,t){switch(e){case 0:return Fl(t);case 2:return Sl(t);default:return El(t)}},fA=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},mA=["-apple-system","system-ui"],pA=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===mA.indexOf(e)}):e},gA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return t=wi(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,xA(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(AA),xA=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},bA=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,a([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),vA=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new bA({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new hl(this,t)}return e.instanceCount=1,e}(),yA=function(e,t){return void 0===t&&(t={}),wA(e,t)};"undefined"!==typeof window&&dl.setContext(window);var wA=function(e,t){return r(void 0,void 0,void 0,function(){var r,a,A,c,u,d,h,f,m,p,g,x,b,v,y,w,B,N,j,C,k,F,S,E,_,U,Q,L,I,M,D,P,T,O,H,R,z,K;return s(this,function(s){switch(s.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=r.defaultView))throw new Error("Document is not attached to a Window");return A={allowTaint:null!==(F=t.allowTaint)&&void 0!==F&&F,imageTimeout:null!==(S=t.imageTimeout)&&void 0!==S?S:15e3,proxy:t.proxy,useCORS:null!==(E=t.useCORS)&&void 0!==E&&E},c=n({logging:null===(_=t.logging)||void 0===_||_,cache:t.cache},A),u={windowWidth:null!==(U=t.windowWidth)&&void 0!==U?U:a.innerWidth,windowHeight:null!==(Q=t.windowHeight)&&void 0!==Q?Q:a.innerHeight,scrollX:null!==(L=t.scrollX)&&void 0!==L?L:a.pageXOffset,scrollY:null!==(I=t.scrollY)&&void 0!==I?I:a.pageYOffset},d=new i(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new vA(c,d),f=null!==(M=t.foreignObjectRendering)&&void 0!==M&&M,m={allowTaint:null!==(D=t.allowTaint)&&void 0!==D&&D,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),p=new Go(h,e,m),(g=p.clonedReferenceElement)?[4,p.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return x=s.sent(),b=go(g)||mo(g)?l(g.ownerDocument):o(h,g),v=b.width,y=b.height,w=b.left,B=b.top,N=BA(h,g,t.backgroundColor),j={canvas:t.canvas,backgroundColor:N,scale:null!==(T=null!==(P=t.scale)&&void 0!==P?P:a.devicePixelRatio)&&void 0!==T?T:1,x:(null!==(O=t.x)&&void 0!==O?O:0)+w,y:(null!==(H=t.y)&&void 0!==H?H:0)+B,width:null!==(R=t.width)&&void 0!==R?R:Math.ceil(v),height:null!==(z=t.height)&&void 0!==z?z:Math.ceil(y)},f?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new gA(h,j).render(g)]):[3,3];case 2:return C=s.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+w+","+B+" with size "+v+"x"+y+" using computed rendering"),h.logger.debug("Starting DOM parsing"),k=so(h,g),N===k.styles.backgroundColor&&(k.styles.backgroundColor=dr.TRANSPARENT),h.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),[4,new uA(h,j).render(k)];case 4:C=s.sent(),s.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(Go.destroy(x)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,C]}})})},BA=function(e,t,n){var r=t.ownerDocument,s=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,a=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,i="string"===typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(s)?rr(a)?i:a:s:i};return yA}()},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],A=o+1,c=e[A];if(0>a(l,n))A<s&&0>a(c,l)?(e[r]=c,e[A]=n,r=A):(e[r]=l,e[o]=n,r=o);else{if(!(A<s&&0>a(c,n)))break e;e[r]=c,e[A]=n,r=A}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var A=[],c=[],u=1,d=null,h=3,f=!1,m=!1,p=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(c);null!==t;){if(null===t.callback)s(c);else{if(!(t.startTime<=e))break;s(c),t.sortIndex=t.expirationTime,n(A,t)}t=r(c)}}function w(e){if(p=!1,y(e),!m)if(null!==r(A))m=!0,N||(N=!0,B());else{var t=r(c);null!==t&&U(w,t.startTime-e)}}var B,N=!1,j=-1,C=5,k=-1;function F(){return!!g||!(t.unstable_now()-k<C)}function S(){if(g=!1,N){var e=t.unstable_now();k=e;var n=!0;try{e:{m=!1,p&&(p=!1,b(j),j=-1),f=!0;var a=h;try{t:{for(y(e),d=r(A);null!==d&&!(d.expirationTime>e&&F());){var i=d.callback;if("function"===typeof i){d.callback=null,h=d.priorityLevel;var o=i(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){d.callback=o,y(e),n=!0;break t}d===r(A)&&s(A),y(e)}else s(A);d=r(A)}if(null!==d)n=!0;else{var l=r(c);null!==l&&U(w,l.startTime-e),n=!1}}break e}finally{d=null,h=a,f=!1}n=void 0}}finally{n?B():N=!1}}}if("function"===typeof v)B=function(){v(S)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,_=E.port2;E.port1.onmessage=S,B=function(){_.postMessage(null)}}else B=function(){x(S,0)};function U(e,n){j=x(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,n(c,e),null===r(A)&&e===r(c)&&(p?(b(j),j=-1):p=!0,U(w,a-i))):(e.sortIndex=o,n(A,e),m||f||(m=!0,N||(N=!0,B()))),e},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},6672:(e,t,n)=>{"use strict";var r=n(5043);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(s(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=A(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:a}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=A(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=A(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=A(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.0"},7004:(e,t,n)=>{"use strict";var r=n(8853),s=n(5043),a=n(7950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function A(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var F=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var S=Symbol.iterator;function E(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=S&&e[S]||e["@@iterator"])?e:null}var _=Symbol.for("react.client.reference");function U(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===_?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case B:return"Suspense";case N:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case p:return"Portal";case y:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}var Q=Array.isArray,L=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},D=[],P=-1;function T(e){return{current:e}}function O(e){0>P||(e.current=D[P],D[P]=null,P--)}function H(e,t){P++,D[P]=e.current,e.current=t}var R,z,K=T(null),V=T(null),q=T(null),W=T(null);function G(e,t){switch(H(q,t),H(V,e),H(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=xu(t=gu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(K),H(K,e)}function Y(){O(K),O(V),O(q)}function J(e){null!==e.memoizedState&&H(W,e);var t=K.current,n=xu(t,e.type);t!==n&&(H(V,e),H(K,n))}function X(e){V.current===e&&(O(K),O(V)),W.current===e&&(O(W),cd._currentValue=M)}function Z(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||"",z=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+R+e+z}var $=!1;function ee(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),i=a[0],o=a[1];if(i&&o){var l=i.split("\n"),A=o.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===A.length)for(r=l.length-1,s=A.length-1;1<=r&&0<=s&&l[r]!==A[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==A[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==A[s]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=s);break}}}finally{$=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Z(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return e.child!==t&&null!==t?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Z("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,se=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,ie=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,Ae=r.unstable_getCurrentPriorityLevel,ce=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,he=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,pe=r.unstable_setDisableYieldValue,ge=null,xe=null;function be(e){if("function"===typeof me&&pe(e),xe&&"function"===typeof xe.setStrictMode)try{xe.setStrictMode(ge,e)}catch(t){}}var ve=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ye(e)/we|0)|0},ye=Math.log,we=Math.LN2;var Be=256,Ne=262144,je=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?s=Ce(r):0!==(i&=o)?s=Ce(i):n||0!==(n=o&~e)&&(s=Ce(n)):0!==(o=r&~a)?s=Ce(o):0!==i?s=Ce(i):n||0!==(n=r&~e)&&(s=Ce(n)),0===s?0:0!==t&&t!==s&&0===(t&a)&&((a=s&-s)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:s}function Fe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Se(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=je;return 0===(62914560&(je<<=1))&&(je=4194304),e}function _e(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ue(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ve(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Le(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ve(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Ie(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Me(n))&(e.suspendedLanes|t))?0:n}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function De(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:Cd(e.type)}function Te(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Oe=Math.random().toString(36).slice(2),He="__reactFiber$"+Oe,Re="__reactProps$"+Oe,ze="__reactContainer$"+Oe,Ke="__reactEvents$"+Oe,Ve="__reactListeners$"+Oe,qe="__reactHandles$"+Oe,We="__reactResources$"+Oe,Ge="__reactMarker$"+Oe;function Ye(e){delete e[He],delete e[Re],delete e[Ke],delete e[Ve],delete e[qe]}function Je(e){var t=e[He];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ze]||n[He]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Mu(e);null!==e;){if(n=e[He])return n;e=Mu(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[He]||e[ze]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ze(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function $e(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ge]=!0}var tt=new Set,nt={};function rt(e,t){st(e,t),st(e+"Capture",t)}function st(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},ot={};function lt(e,t,n){if(s=t,re.call(ot,s)||!re.call(it,s)&&(at.test(s)?ot[s]=!0:(it[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function At(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xt(e,t,n,r,s,a,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ut(t)):null!=n?vt(e,i,ut(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=a&&(e.defaultChecked=!!a),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ut(o):e.removeAttribute("name")}function bt(e,t,n,r,s,a,i,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void ht(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:s)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ht(e)}function vt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Bt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(Q(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ht(e)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||jt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Ct(e,s,r)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function Ft(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var St=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ut(){}var Qt=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var It=null,Mt=null;function Dt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Re]||null;if(!s)throw Error(i(90));xt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Pt=!1;function Tt(e,t,n){if(Pt)return e(t,n);Pt=!0;try{return e(t)}finally{if(Pt=!1,(null!==It||null!==Mt)&&($A(),It&&(t=It,e=Mt,Mt=It=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ot(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ht=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Rt=!1;if(Ht)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Rt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Xd){Rt=!1}var Kt=null,Vt=null,qt=null;function Wt(){if(qt)return qt;var e,t,n=Vt,r=n.length,s="value"in Kt?Kt.value:Kt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return qt=s.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Jt(){return!1}function Xt(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Yt:Jt,this.isPropagationStopped=Jt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Zt,$t,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Xt(tn),rn=h({},tn,{view:0,detail:0}),sn=Xt(rn),an=h({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Zt=e.screenX-en.screenX,$t=e.screenY-en.screenY):$t=Zt=0,en=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),on=Xt(an),ln=Xt(h({},an,{dataTransfer:0})),An=Xt(h({},rn,{relatedTarget:0})),cn=Xt(h({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Xt(h({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Xt(h({},tn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function gn(){return pn}var xn=Xt(h({},rn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Xt(h({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Xt(h({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),yn=Xt(h({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Xt(h({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Bn=Xt(h({},tn,{newState:0,oldState:0})),Nn=[9,13,27,32],jn=Ht&&"CompositionEvent"in window,Cn=null;Ht&&"documentMode"in document&&(Cn=document.documentMode);var kn=Ht&&"TextEvent"in window&&!Cn,Fn=Ht&&(!jn||Cn&&8<Cn&&11>=Cn),Sn=String.fromCharCode(32),En=!1;function _n(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Qn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Mn(e,t,n,r){It?Mt?Mt.push(r):Mt=[r]:It=r,0<(t=ru(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Pn=null;function Tn(e){Yc(e,0)}function On(e){if(ft(Ze(e)))return e}function Hn(e,t){if("change"===e)return t}var Rn=!1;if(Ht){var zn;if(Ht){var Kn="oninput"in document;if(!Kn){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Kn="function"===typeof Vn.oninput}zn=Kn}else zn=!1;Rn=zn&&(!document.documentMode||9<document.documentMode)}function qn(){Dn&&(Dn.detachEvent("onpropertychange",Wn),Pn=Dn=null)}function Wn(e){if("value"===e.propertyName&&On(Pn)){var t=[];Mn(t,Pn,e,Lt(e)),Tt(Tn,t)}}function Gn(e,t,n){"focusin"===e?(qn(),Pn=n,(Dn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&qn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return On(Pn)}function Jn(e,t){if("click"===e)return On(t)}function Xn(e,t){if("input"===e||"change"===e)return On(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!re.call(t,s)||!Zn(e[s],t[s]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Ht&&"documentMode"in document&&11>=document.documentMode,ir=null,or=null,lr=null,Ar=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ar||null==ir||ir!==mt(r)||("selectionStart"in(r=ir)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&$n(lr,r)||(lr=r,0<(r=ru(or,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function mr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}Ht&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var pr=mr("animationend"),gr=mr("animationiteration"),xr=mr("animationstart"),br=mr("transitionrun"),vr=mr("transitionstart"),yr=mr("transitioncancel"),wr=mr("transitionend"),Br=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Br.set(e,t),rt(t,[e])}Nr.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},kr=[],Fr=0,Sr=0;function Er(){for(var e=Fr,t=Sr=Fr=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var s=kr[t];kr[t++]=null;var a=kr[t];if(kr[t++]=null,null!==r&&null!==s){var i=r.pending;null===i?s.next=s:(s.next=i.next,i.next=s),r.pending=s}0!==a&&Lr(n,s,a)}}function _r(e,t,n,r){kr[Fr++]=e,kr[Fr++]=t,kr[Fr++]=n,kr[Fr++]=r,Sr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ur(e,t,n,r){return _r(e,t,n,r),Ir(e)}function Qr(e,t){return _r(e,null,null,t),Ir(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(s=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,s&&null!==t&&(s=31-ve(n),null===(r=(e=a.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),a):null}function Ir(e){if(50<KA)throw KA=0,VA=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(e,t,n,r){return new Dr(e,t,n,r)}function Tr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Or(e,t){var n=e.alternate;return null===n?((n=Pr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Rr(e,t,n,r,s,a){var o=0;if(r=e,"function"===typeof e)Tr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,K.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Pr(31,n,t,s)).elementType=k,e.lanes=a,e;case g:return zr(n.children,s,a,t);case x:o=8,s|=24;break;case b:return(e=Pr(12,n,t,2|s)).elementType=b,e.lanes=a,e;case B:return(e=Pr(13,n,t,s)).elementType=B,e.lanes=a,e;case N:return(e=Pr(19,n,t,s)).elementType=N,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:o=10;break e;case v:o=9;break e;case w:o=11;break e;case j:o=14;break e;case C:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Pr(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function zr(e,t,n,r){return(e=Pr(7,e,r,t)).lanes=n,e}function Kr(e,t,n){return(e=Pr(6,e,null,t)).lanes=n,e}function Vr(e){var t=Pr(18,null,null,0);return t.stateNode=e,t}function qr(e,t,n){return(t=Pr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=new WeakMap;function Gr(e,t){if("object"===typeof e&&null!==e){var n=Wr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Wr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Yr=[],Jr=0,Xr=null,Zr=0,$r=[],es=0,ts=null,ns=1,rs="";function ss(e,t){Yr[Jr++]=Zr,Yr[Jr++]=Xr,Xr=e,Zr=t}function as(e,t,n){$r[es++]=ns,$r[es++]=rs,$r[es++]=ts,ts=e;var r=ns;e=rs;var s=32-ve(r)-1;r&=~(1<<s),n+=1;var a=32-ve(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,ns=1<<32-ve(t)+s|n<<s|r,rs=a+e}else ns=1<<a|n<<s|r,rs=e}function is(e){null!==e.return&&(ss(e,1),as(e,1,0))}function os(e){for(;e===Xr;)Xr=Yr[--Jr],Yr[Jr]=null,Zr=Yr[--Jr],Yr[Jr]=null;for(;e===ts;)ts=$r[--es],$r[es]=null,rs=$r[--es],$r[es]=null,ns=$r[--es],$r[es]=null}function ls(e,t){$r[es++]=ns,$r[es++]=rs,$r[es++]=ts,ns=t.id,rs=t.overflow,ts=e}var As=null,cs=null,us=!1,ds=null,hs=!1,fs=Error(i(519));function ms(e){throw ys(Gr(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fs}function ps(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[He]=e,t[Re]=r,n){case"dialog":Jc("cancel",t),Jc("close",t);break;case"iframe":case"object":case"embed":Jc("load",t);break;case"video":case"audio":for(n=0;n<Wc.length;n++)Jc(Wc[n],t);break;case"source":Jc("error",t);break;case"img":case"image":case"link":Jc("error",t),Jc("load",t);break;case"details":Jc("toggle",t);break;case"input":Jc("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Jc("invalid",t);break;case"textarea":Jc("invalid",t),Bt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Au(t.textContent,n)?(null!=r.popover&&(Jc("beforetoggle",t),Jc("toggle",t)),null!=r.onScroll&&Jc("scroll",t),null!=r.onScrollEnd&&Jc("scrollend",t),null!=r.onClick&&(t.onclick=Ut),t=!0):t=!1,t||ms(e,!0)}function gs(e){for(As=e.return;As;)switch(As.tag){case 5:case 31:case 13:return void(hs=!1);case 27:case 3:return void(hs=!0);default:As=As.return}}function xs(e){if(e!==As)return!1;if(!us)return gs(e),us=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bu(e.type,e.memoizedProps)),t=!t),t&&cs&&ms(e),gs(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));cs=Iu(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));cs=Iu(e)}else 27===n?(n=cs,Cu(e.type)?(e=Lu,Lu=null,cs=e):cs=n):cs=As?Qu(e.stateNode.nextSibling):null;return!0}function bs(){cs=As=null,us=!1}function vs(){var e=ds;return null!==e&&(null===EA?EA=e:EA.push.apply(EA,e),ds=null),e}function ys(e){null===ds?ds=[e]:ds.push(e)}var ws=T(null),Bs=null,Ns=null;function js(e,t,n){H(ws,t._currentValue),t._currentValue=n}function Cs(e){e._currentValue=ws.current,O(ws)}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var a=s.dependencies;if(null!==a){var o=s.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=s;for(var A=0;A<t.length;A++)if(l.context===t[A]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ks(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),ks(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Ss(e,t,n,r){e=null;for(var s=t,a=!1;null!==s;){if(!a)if(0!==(524288&s.flags))a=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=s.type;Zn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===W.current){if(null===(o=s.alternate))throw Error(i(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(cd):e=[cd])}s=s.return}null!==e&&Fs(t,e,n,r),t.flags|=262144}function Es(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){Bs=e,Ns=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Us(e){return Ls(Bs,e)}function Qs(e,t){return null===Bs&&_s(e),Ls(e,t)}function Ls(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ns){if(null===e)throw Error(i(308));Ns=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ns=Ns.next=t;return n}var Is="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ms=r.unstable_scheduleCallback,Ds=r.unstable_NormalPriority,Ps={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ts(){return{controller:new Is,data:new Map,refCount:0}}function Os(e){e.refCount--,0===e.refCount&&Ms(Ds,function(){e.controller.abort()})}var Hs=null,Rs=0,zs=0,Ks=null;function Vs(){if(0===--Rs&&null!==Hs){null!==Ks&&(Ks.status="fulfilled");var e=Hs;Hs=null,zs=0,Ks=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var qs=L.S;L.S=function(e,t){QA=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Hs){var n=Hs=[];Rs=0,zs=Rc(),Ks={status:"pending",value:void 0,then:function(e){n.push(e)}}}Rs++,t.then(Vs,Vs)}(0,t),null!==qs&&qs(e,t)};var Ws=T(null);function Gs(){var e=Ws.current;return null!==e?e:fA.pooledCache}function Ys(e,t){H(Ws,null===t?Ws.current:t.pool)}function Js(){var e=Gs();return null===e?null:{parent:Ps._currentValue,pool:e}}var Xs=Error(i(460)),Zs=Error(i(474)),$s=Error(i(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function na(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Ut,Ut),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e;default:if("string"===typeof t.status)t.then(Ut,Ut);else{if(null!==(e=fA)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e}throw sa=t,Xs}}function ra(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw sa=t,Xs;throw t}}var sa=null;function aa(){if(null===sa)throw Error(i(459));var e=sa;return sa=null,e}function ia(e){if(e===Xs||e===$s)throw Error(i(483))}var oa=null,la=0;function Aa(e){var t=la;return la+=1,null===oa&&(oa=[]),na(oa,e,t)}function ca(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ua(e,t){if(t.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function da(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Or(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Kr(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function A(e,t,n,r){var a=n.type;return a===g?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===C&&ra(a)===t.type)?(ca(t=s(t,n.props),n),t.return=e,t):(ca(t=Rr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=zr(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Kr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ca(n=Rr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=qr(t,e.mode,n)).return=e,t;case C:return d(e,t=ra(t),n)}if(Q(t)||E(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Aa(t),n);if(t.$$typeof===y)return d(e,Qs(e,t),n);ua(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===s?A(e,t,n,r):null;case p:return n.key===s?c(e,t,n,r):null;case C:return h(e,t,n=ra(n),r)}if(Q(n)||E(n))return null!==s?null:u(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Aa(n),r);if(n.$$typeof===y)return h(e,t,Qs(e,n),r);ua(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return A(t,e=e.get(null===r.key?n:r.key)||null,r,s);case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case C:return f(e,t,n,r=ra(r),s)}if(Q(r)||E(r))return u(t,e=e.get(n)||null,r,s,null);if("function"===typeof r.then)return f(e,t,n,Aa(r),s);if(r.$$typeof===y)return f(e,t,n,Qs(t,r),s);ua(t,r)}return null}function x(l,A,c,u){if("object"===typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var b=c.key;null!==A;){if(A.key===b){if((b=c.type)===g){if(7===A.tag){n(l,A.sibling),(u=s(A,c.props.children)).return=l,l=u;break e}}else if(A.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&ra(b)===A.type){n(l,A.sibling),ca(u=s(A,c.props),c),u.return=l,l=u;break e}n(l,A);break}t(l,A),A=A.sibling}c.type===g?((u=zr(c.props.children,l.mode,u,c.key)).return=l,l=u):(ca(u=Rr(c.type,c.key,c.props,null,l.mode,u),c),u.return=l,l=u)}return o(l);case p:e:{for(b=c.key;null!==A;){if(A.key===b){if(4===A.tag&&A.stateNode.containerInfo===c.containerInfo&&A.stateNode.implementation===c.implementation){n(l,A.sibling),(u=s(A,c.children||[])).return=l,l=u;break e}n(l,A);break}t(l,A),A=A.sibling}(u=qr(c,l.mode,u)).return=l,l=u}return o(l);case C:return x(l,A,c=ra(c),u)}if(Q(c))return function(s,i,o,l){for(var A=null,c=null,u=i,m=i=0,p=null;null!==u&&m<o.length;m++){u.index>m?(p=u,u=null):p=u.sibling;var g=h(s,u,o[m],l);if(null===g){null===u&&(u=p);break}e&&u&&null===g.alternate&&t(s,u),i=a(g,i,m),null===c?A=g:c.sibling=g,c=g,u=p}if(m===o.length)return n(s,u),us&&ss(s,m),A;if(null===u){for(;m<o.length;m++)null!==(u=d(s,o[m],l))&&(i=a(u,i,m),null===c?A=u:c.sibling=u,c=u);return us&&ss(s,m),A}for(u=r(u);m<o.length;m++)null!==(p=f(u,s,m,o[m],l))&&(e&&null!==p.alternate&&u.delete(null===p.key?m:p.key),i=a(p,i,m),null===c?A=p:c.sibling=p,c=p);return e&&u.forEach(function(e){return t(s,e)}),us&&ss(s,m),A}(l,A,c,u);if(E(c)){if("function"!==typeof(b=E(c)))throw Error(i(150));return function(s,o,l,A){if(null==l)throw Error(i(151));for(var c=null,u=null,m=o,p=o=0,g=null,x=l.next();null!==m&&!x.done;p++,x=l.next()){m.index>p?(g=m,m=null):g=m.sibling;var b=h(s,m,x.value,A);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(s,m),o=a(b,o,p),null===u?c=b:u.sibling=b,u=b,m=g}if(x.done)return n(s,m),us&&ss(s,p),c;if(null===m){for(;!x.done;p++,x=l.next())null!==(x=d(s,x.value,A))&&(o=a(x,o,p),null===u?c=x:u.sibling=x,u=x);return us&&ss(s,p),c}for(m=r(m);!x.done;p++,x=l.next())null!==(x=f(m,s,p,x.value,A))&&(e&&null!==x.alternate&&m.delete(null===x.key?p:x.key),o=a(x,o,p),null===u?c=x:u.sibling=x,u=x);return e&&m.forEach(function(e){return t(s,e)}),us&&ss(s,p),c}(l,A,c=b.call(c),u)}if("function"===typeof c.then)return x(l,A,Aa(c),u);if(c.$$typeof===y)return x(l,A,Qs(l,c),u);ua(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==A&&6===A.tag?(n(l,A.sibling),(u=s(A,c)).return=l,l=u):(n(l,A),(u=Kr(c,l.mode,u)).return=l,l=u),o(l)):n(l,A)}return function(e,t,n,r){try{la=0;var s=x(e,t,n,r);return oa=null,s}catch(i){if(i===Xs||i===$s)throw i;var a=Pr(29,i,null,e.mode);return a.lanes=r,a.return=e,a}}}var ha=da(!0),fa=da(!1),ma=!1;function pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ga(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&hA)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Ir(e),Lr(e,null,n),t}return _r(e,r,t,n),Ir(e)}function va(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}function ya(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var wa=!1;function Ba(){if(wa){if(null!==Ks)throw Ks}}function Na(e,t,n,r){wa=!1;var s=e.updateQueue;ma=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,A=l.next;l.next=null,null===i?a=A:i.next=A,i=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===o?c.firstBaseUpdate=A:o.next=A,c.lastBaseUpdate=l))}if(null!==a){var u=s.baseState;for(i=0,c=A=l=null,o=a;;){var d=-536870913&o.lane,f=d!==o.lane;if(f?(pA&d)===d:(r&d)===d){0!==d&&d===zs&&(wa=!0),null!==c&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,p=o;d=t;var g=n;switch(p.tag){case 1:if("function"===typeof(m=p.payload)){u=m.call(g,u,d);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=p.payload)?m.call(g,u,d):m)||void 0===d)break e;u=h({},u,d);break e;case 2:ma=!0}}null!==(d=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=s.callbacks)?s.callbacks=[d]:f.push(d))}else f={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(A=c=f,l=u):c=c.next=f,i|=d;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(f=o).next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}null===c&&(l=u),s.baseState=l,s.firstBaseUpdate=A,s.lastBaseUpdate=c,null===a&&(s.shared.lanes=0),NA|=i,e.lanes=i,e.memoizedState=u}}function ja(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Ca(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ja(n[e],t)}var ka=T(null),Fa=T(0);function Sa(e,t){H(Fa,e=wA),H(ka,t),wA=e|t.baseLanes}function Ea(){H(Fa,wA),H(ka,ka.current)}function _a(){wA=Fa.current,O(ka),O(Fa)}var Ua=T(null),Qa=null;function La(e){var t=e.alternate;H(Ta,1&Ta.current),H(Ua,e),null===Qa&&(null===t||null!==ka.current||null!==t.memoizedState)&&(Qa=e)}function Ia(e){H(Ta,Ta.current),H(Ua,e),null===Qa&&(Qa=e)}function Ma(e){22===e.tag?(H(Ta,Ta.current),H(Ua,e),null===Qa&&(Qa=e)):Da()}function Da(){H(Ta,Ta.current),H(Ua,Ua.current)}function Pa(e){O(Ua),Qa===e&&(Qa=null),O(Ta)}var Ta=T(0);function Oa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||_u(n)||Uu(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ha=0,Ra=null,za=null,Ka=null,Va=!1,qa=!1,Wa=!1,Ga=0,Ya=0,Ja=null,Xa=0;function Za(){throw Error(i(321))}function $a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ei(e,t,n,r,s,a){return Ha=a,Ra=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=null===e||null===e.memoizedState?po:go,Wa=!1,a=n(r,s),Wa=!1,qa&&(a=ni(t,n,r,s)),ti(e),a}function ti(e){L.H=mo;var t=null!==za&&null!==za.next;if(Ha=0,Ka=za=Ra=null,Va=!1,Ya=0,Ja=null,t)throw Error(i(300));null===e||Qo||null!==(e=e.dependencies)&&Es(e)&&(Qo=!0)}function ni(e,t,n,r){Ra=e;var s=0;do{if(qa&&(Ja=null),Ya=0,qa=!1,25<=s)throw Error(i(301));if(s+=1,Ka=za=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}L.H=xo,a=t(n,r)}while(qa);return a}function ri(){var e=L.H,t=e.useState()[0];return t="function"===typeof t.then?Ai(t):t,e=e.useState()[0],(null!==za?za.memoizedState:null)!==e&&(Ra.flags|=1024),t}function si(){var e=0!==Ga;return Ga=0,e}function ai(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ii(e){if(Va){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Va=!1}Ha=0,Ka=za=Ra=null,qa=!1,Ya=Ga=0,Ja=null}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ka?Ra.memoizedState=Ka=e:Ka=Ka.next=e,Ka}function li(){if(null===za){var e=Ra.alternate;e=null!==e?e.memoizedState:null}else e=za.next;var t=null===Ka?Ra.memoizedState:Ka.next;if(null!==t)Ka=t,za=e;else{if(null===e){if(null===Ra.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(za=e).memoizedState,baseState:za.baseState,baseQueue:za.baseQueue,queue:za.queue,next:null},null===Ka?Ra.memoizedState=Ka=e:Ka=Ka.next=e}return Ka}function Ai(e){var t=Ya;return Ya+=1,null===Ja&&(Ja=[]),e=na(Ja,e,t),t=Ra,null===(null===Ka?t.memoizedState:Ka.next)&&(t=t.alternate,L.H=null===t||null===t.memoizedState?po:go),e}function ci(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ai(e);if(e.$$typeof===y)return Us(e)}throw Error(i(438,String(e)))}function ui(e){var t=null,n=Ra.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ra.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ra.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=F;return t.index++,n}function di(e,t){return"function"===typeof t?t(e):t}function hi(e){return fi(li(),za,e)}function fi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var s=e.baseQueue,a=r.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}t.baseQueue=s=a,r.pending=null}if(a=e.baseState,null===s)e.memoizedState=a;else{var l=o=null,A=null,c=t=s.next,u=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(pA&d)===d:(Ha&d)===d){var h=c.revertLane;if(0===h)null!==A&&(A=A.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===zs&&(u=!0);else{if((Ha&h)===h){c=c.next,h===zs&&(u=!0);continue}d={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===A?(l=A=d,o=a):A=A.next=d,Ra.lanes|=h,NA|=h}d=c.action,Wa&&n(a,d),a=c.hasEagerState?c.eagerState:n(a,d)}else h={lane:d,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===A?(l=A=h,o=a):A=A.next=h,Ra.lanes|=d,NA|=d;c=c.next}while(null!==c&&c!==t);if(null===A?o=a:A.next=l,!Zn(a,e.memoizedState)&&(Qo=!0,u&&null!==(n=Ks)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=A,r.lastRenderedState=a}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mi(e){var t=li(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);Zn(a,t.memoizedState)||(Qo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function pi(e,t,n){var r=Ra,s=li(),a=us;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Zn((za||s).memoizedState,n);if(o&&(s.memoizedState=n,Qo=!0),s=s.queue,Hi(bi.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==Ka&&1&Ka.memoizedState.tag){if(r.flags|=2048,Mi(9,{destroy:void 0},xi.bind(null,r,s,n,t),null),null===fA)throw Error(i(349));a||0!==(127&Ha)||gi(r,t,n)}return n}function gi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ra.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ra.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xi(e,t,n,r){t.value=n,t.getSnapshot=r,vi(t)&&yi(e)}function bi(e,t,n){return n(function(){vi(t)&&yi(e)})}function vi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function yi(e){var t=Qr(e,2);null!==t&&GA(t,e,2)}function wi(e){var t=oi();if("function"===typeof e){var n=e;if(e=n(),Wa){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:e},t}function Bi(e,t,n,r){return e.baseState=n,fi(e,za,"function"===typeof r?r:di)}function Ni(e,t,n,r,s){if(uo(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==L.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ji(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ji(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var a=L.T,i={};L.T=i;try{var o=n(s,r),l=L.S;null!==l&&l(i,o),Ci(e,t,o)}catch(A){Fi(e,t,A)}finally{null!==a&&null!==i.types&&(a.types=i.types),L.T=a}}else try{Ci(e,t,a=n(s,r))}catch(c){Fi(e,t,c)}}function Ci(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ki(e,t,n)},function(n){return Fi(e,t,n)}):ki(e,t,n)}function ki(e,t,n){t.status="fulfilled",t.value=n,Si(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ji(e,n)))}function Fi(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Si(t),t=t.next}while(t!==r)}e.action=null}function Si(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ei(e,t){return t}function _i(e,t){if(us){var n=fA.formState;if(null!==n){e:{var r=Ra;if(us){if(cs){t:{for(var s=cs,a=hs;8!==s.nodeType;){if(!a){s=null;break t}if(null===(s=Qu(s.nextSibling))){s=null;break t}}s="F!"===(a=s.data)||"F"===a?s:null}if(s){cs=Qu(s.nextSibling),r="F!"===s.data;break e}}ms(r)}r=!1}r&&(t=n[0])}}return(n=oi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n.queue=r,n=lo.bind(null,Ra,r),r.dispatch=n,r=wi(!1),a=co.bind(null,Ra,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=oi()).queue=s,n=Ni.bind(null,Ra,s,a,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ui(e){return Qi(li(),za,e)}function Qi(e,t,n){if(t=fi(e,t,Ei)[0],e=hi(di)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ai(t)}catch(i){if(i===Xs)throw $s;throw i}else r=t;var s=(t=li()).queue,a=s.dispatch;return n!==t.memoizedState&&(Ra.flags|=2048,Mi(9,{destroy:void 0},Li.bind(null,s,n),null)),[r,a,e]}function Li(e,t){e.action=t}function Ii(e){var t=li(),n=za;if(null!==n)return Qi(t,n,e);li(),t=t.memoizedState;var r=(n=li()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Mi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ra.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ra.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Di(){return li().memoizedState}function Pi(e,t,n,r){var s=oi();Ra.flags|=e,s.memoizedState=Mi(1|t,{destroy:void 0},n,void 0===r?null:r)}function Ti(e,t,n,r){var s=li();r=void 0===r?null:r;var a=s.memoizedState.inst;null!==za&&null!==r&&$a(r,za.memoizedState.deps)?s.memoizedState=Mi(t,a,n,r):(Ra.flags|=e,s.memoizedState=Mi(1|t,a,n,r))}function Oi(e,t){Pi(8390656,8,e,t)}function Hi(e,t){Ti(2048,8,e,t)}function Ri(e){var t=li().memoizedState;return function(e){Ra.flags|=4;var t=Ra.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ra.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&hA))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function zi(e,t){return Ti(4,2,e,t)}function Ki(e,t){return Ti(4,4,e,t)}function Vi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function qi(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ti(4,4,Vi.bind(null,t,e),n)}function Wi(){}function Gi(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&$a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yi(e,t){var n=li();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&$a(t,r[1]))return r[0];if(r=e(),Wa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Ji(e,t,n){return void 0===n||0!==(1073741824&Ha)&&0===(261930&pA)?e.memoizedState=t:(e.memoizedState=n,e=WA(),Ra.lanes|=e,NA|=e,n)}function Xi(e,t,n,r){return Zn(n,t)?n:null!==ka.current?(e=Ji(e,n,r),Zn(e,t)||(Qo=!0),e):0===(42&Ha)||0!==(1073741824&Ha)&&0===(261930&pA)?(Qo=!0,e.memoizedState=n):(e=WA(),Ra.lanes|=e,NA|=e,t)}function Zi(e,t,n,r,s){var a=I.p;I.p=0!==a&&8>a?a:8;var i=L.T,o={};L.T=o,co(e,!1,t,n);try{var l=s(),A=L.S;if(null!==A&&A(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ao(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),qA());else Ao(e,t,r,qA())}catch(c){Ao(e,t,{then:function(){},status:"rejected",reason:c},qA())}finally{I.p=a,null!==i&&null!==o.types&&(i.types=o.types),L.T=i}}function $i(){}function eo(e,t,n,r){if(5!==e.tag)throw Error(i(476));var s=to(e).queue;Zi(e,s,t,M,null===n?$i:function(){return no(e),n(r)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function no(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),Ao(e,t.next.queue,{},qA())}function ro(){return Us(cd)}function so(){return li().memoizedState}function ao(){return li().memoizedState}function io(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=qA(),r=ba(t,e=xa(n),n);return null!==r&&(GA(r,t,n),va(r,t,n)),t={cache:Ts()},void(e.payload=t)}t=t.return}}function oo(e,t,n){var r=qA();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},uo(e)?ho(t,n):null!==(n=Ur(e,t,n,r))&&(GA(n,e,r),fo(n,t,r))}function lo(e,t,n){Ao(e,t,n,qA())}function Ao(e,t,n,r){var s={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(uo(e))ho(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,Zn(o,i))return _r(e,t,s,0),null===fA&&Er(),!1}catch(l){}if(null!==(n=Ur(e,t,s,r)))return GA(n,e,r),fo(n,t,r),!0}return!1}function co(e,t,n,r){if(r={lane:2,revertLane:Rc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},uo(e)){if(t)throw Error(i(479))}else null!==(t=Ur(e,n,r,2))&&GA(t,e,2)}function uo(e){var t=e.alternate;return e===Ra||null!==t&&t===Ra}function ho(e,t){qa=Va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Le(e,n)}}var mo={readContext:Us,use:ci,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};mo.useEffectEvent=Za;var po={readContext:Us,use:ci,useCallback:function(e,t){return oi().memoizedState=[e,void 0===t?null:t],e},useContext:Us,useEffect:Oi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Pi(4194308,4,Vi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){Pi(4,2,e,t)},useMemo:function(e,t){var n=oi();t=void 0===t?null:t;var r=e();if(Wa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=oi();if(void 0!==n){var s=n(t);if(Wa){be(!0);try{n(t)}finally{be(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=oo.bind(null,Ra,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},oi().memoizedState=e},useState:function(e){var t=(e=wi(e)).queue,n=lo.bind(null,Ra,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Wi,useDeferredValue:function(e,t){return Ji(oi(),e,t)},useTransition:function(){var e=wi(!1);return e=Zi.bind(null,Ra,e.queue,!0,!1),oi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ra,s=oi();if(us){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===fA)throw Error(i(349));0!==(127&pA)||gi(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Oi(bi.bind(null,r,a,e),[e]),r.flags|=2048,Mi(9,{destroy:void 0},xi.bind(null,r,a,n,t),null),n},useId:function(){var e=oi(),t=fA.identifierPrefix;if(us){var n=rs;t="_"+t+"R_"+(n=(ns&~(1<<32-ve(ns)-1)).toString(32)+n),0<(n=Ga++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xa++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ro,useFormState:_i,useActionState:_i,useOptimistic:function(e){var t=oi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=co.bind(null,Ra,!0,n),n.dispatch=t,[e,t]},useMemoCache:ui,useCacheRefresh:function(){return oi().memoizedState=io.bind(null,Ra)},useEffectEvent:function(e){var t=oi(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&hA))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},go={readContext:Us,use:ci,useCallback:Gi,useContext:Us,useEffect:Hi,useImperativeHandle:qi,useInsertionEffect:zi,useLayoutEffect:Ki,useMemo:Yi,useReducer:hi,useRef:Di,useState:function(){return hi(di)},useDebugValue:Wi,useDeferredValue:function(e,t){return Xi(li(),za.memoizedState,e,t)},useTransition:function(){var e=hi(di)[0],t=li().memoizedState;return["boolean"===typeof e?e:Ai(e),t]},useSyncExternalStore:pi,useId:so,useHostTransitionStatus:ro,useFormState:Ui,useActionState:Ui,useOptimistic:function(e,t){return Bi(li(),0,e,t)},useMemoCache:ui,useCacheRefresh:ao};go.useEffectEvent=Ri;var xo={readContext:Us,use:ci,useCallback:Gi,useContext:Us,useEffect:Hi,useImperativeHandle:qi,useInsertionEffect:zi,useLayoutEffect:Ki,useMemo:Yi,useReducer:mi,useRef:Di,useState:function(){return mi(di)},useDebugValue:Wi,useDeferredValue:function(e,t){var n=li();return null===za?Ji(n,e,t):Xi(n,za.memoizedState,e,t)},useTransition:function(){var e=mi(di)[0],t=li().memoizedState;return["boolean"===typeof e?e:Ai(e),t]},useSyncExternalStore:pi,useId:so,useHostTransitionStatus:ro,useFormState:Ii,useActionState:Ii,useOptimistic:function(e,t){var n=li();return null!==za?Bi(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ui,useCacheRefresh:ao};function bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}xo.useEffectEvent=Ri;var vo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qA(),s=xa(r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ba(e,s,r))&&(GA(t,e,r),va(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qA(),s=xa(r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=ba(e,s,r))&&(GA(t,e,r),va(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qA(),r=xa(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ba(e,r,n))&&(GA(t,e,n),va(t,e,n))}};function yo(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(s,a))}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function Bo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=h({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}function No(e){Cr(e)}function jo(e){console.error(e)}function Co(e){Cr(e)}function ko(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Fo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function So(e,t,n){return(n=xa(n)).tag=3,n.payload={element:null},n.callback=function(){ko(e,t)},n}function Eo(e){return(e=xa(e)).tag=3,e}function _o(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var a=r.value;e.payload=function(){return s(a)},e.callback=function(){Fo(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Fo(t,n,r),"function"!==typeof s&&(null===MA?MA=new Set([this]):MA.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Uo=Error(i(461)),Qo=!1;function Lo(e,t,n,r){t.child=null===e?fa(t,null,n,r):ha(t,e.child,n,r)}function Io(e,t,n,r,s){n=n.render;var a=t.ref;if("ref"in r){var i={};for(var o in r)"ref"!==o&&(i[o]=r[o])}else i=r;return _s(t),r=ei(e,t,n,i,a,s),o=si(),null===e||Qo?(us&&o&&is(t),t.flags|=1,Lo(e,t,r,s),t.child):(ai(e,t,s),sl(e,t,s))}function Mo(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Tr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Rr(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Do(e,t,a,r,s))}if(a=e.child,!al(e,s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(i,r)&&e.ref===t.ref)return sl(e,t,s)}return t.flags|=1,(e=Or(a,r)).ref=t.ref,e.return=t,t.child=e}function Do(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if($n(a,r)&&e.ref===t.ref){if(Qo=!1,t.pendingProps=r=a,!al(e,s))return t.lanes=e.lanes,sl(e,t,s);0!==(131072&e.flags)&&(Qo=!0)}}return Ko(e,t,n,r,s)}function Po(e,t,n,r){var s=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,s=0;null!==r;)s=s|r.lanes|r.childLanes,r=r.sibling;r=s&~a}else r=0,t.child=null;return Oo(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Oo(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ys(0,null!==a?a.cachePool:null),null!==a?Sa(t,a):Ea(),Ma(t)}else null!==a?(Ys(0,a.cachePool),Sa(t,a),Da(),t.memoizedState=null):(null!==e&&Ys(0,null),Ea(),Da());return Lo(e,t,s,n),t.child}function To(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Oo(e,t,n,r,s){var a=Gs();return a=null===a?null:{parent:Ps._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ys(0,null),Ea(),Ma(t),null!==e&&Ss(e,t,r,!0),t.childLanes=s,null}function Ho(e,t){return(t=$o({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ro(e,t,n){return ha(t,e.child,null,n),(e=Ho(t,t.pendingProps)).flags|=2,Pa(t),t.memoizedState=null,e}function zo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ko(e,t,n,r,s){return _s(t),n=ei(e,t,n,r,void 0,s),r=si(),null===e||Qo?(us&&r&&is(t),t.flags|=1,Lo(e,t,n,s),t.child):(ai(e,t,s),sl(e,t,s))}function Vo(e,t,n,r,s,a){return _s(t),t.updateQueue=null,n=ni(t,r,n,s),ti(e),r=si(),null===e||Qo?(us&&r&&is(t),t.flags|=1,Lo(e,t,n,a),t.child):(ai(e,t,a),sl(e,t,a))}function qo(e,t,n,r,s){if(_s(t),null===t.stateNode){var a=Mr,i=n.contextType;"object"===typeof i&&null!==i&&(a=Us(i)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=vo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},pa(t),i=n.contextType,a.context="object"===typeof i&&null!==i?Us(i):Mr,a.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(bo(t,n,i,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&vo.enqueueReplaceState(a,a.state,null),Na(t,r,a,s),Ba(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=Bo(n,o);a.props=l;var A=a.context,c=n.contextType;i=Mr,"object"===typeof c&&null!==c&&(i=Us(c));var u=n.getDerivedStateFromProps;c="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||A!==i)&&wo(t,a,r,i),ma=!1;var d=t.memoizedState;a.state=d,Na(t,r,a,s),Ba(),A=t.memoizedState,o||d!==A||ma?("function"===typeof u&&(bo(t,n,u,r),A=t.memoizedState),(l=ma||yo(t,n,l,r,d,A,i))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=A),a.props=r,a.state=A,a.context=i,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ga(e,t),c=Bo(n,i=t.memoizedProps),a.props=c,u=t.pendingProps,d=a.context,A=n.contextType,l=Mr,"object"===typeof A&&null!==A&&(l=Us(A)),(A="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==u||d!==l)&&wo(t,a,r,l),ma=!1,d=t.memoizedState,a.state=d,Na(t,r,a,s),Ba();var h=t.memoizedState;i!==u||d!==h||ma||null!==e&&null!==e.dependencies&&Es(e.dependencies)?("function"===typeof o&&(bo(t,n,o,r),h=t.memoizedState),(c=ma||yo(t,n,c,r,d,h,l)||null!==e&&null!==e.dependencies&&Es(e.dependencies))?(A||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,zo(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ha(t,e.child,null,s),t.child=ha(t,null,n,s)):Lo(e,t,n,s),t.memoizedState=a.state,e=t.child):e=sl(e,t,s),e}function Wo(e,t,n,r){return bs(),t.flags|=256,Lo(e,t,n,r),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Js()}}function Jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=kA),e}function Xo(e,t,n){var r,s=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ta.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(us){if(a?La(t):Da(),(e=cs)?null!==(e=null!==(e=Eu(e,hs))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ts?{id:ns,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,As=t,cs=null):e=null,null===e)throw ms(t);return Uu(e)?t.lanes=32:t.lanes=536870912,null}var l=s.children;return s=s.fallback,a?(Da(),l=$o({mode:"hidden",children:l},a=t.mode),s=zr(s,a,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,(s=t.child).memoizedState=Yo(n),s.childLanes=Jo(e,r,n),t.memoizedState=Go,To(null,s)):(La(t),Zo(t,l))}var A=e.memoizedState;if(null!==A&&null!==(l=A.dehydrated)){if(o)256&t.flags?(La(t),t.flags&=-257,t=el(e,t,n)):null!==t.memoizedState?(Da(),t.child=e.child,t.flags|=128,t=null):(Da(),l=s.fallback,a=t.mode,s=$o({mode:"visible",children:s.children},a),(l=zr(l,a,n,null)).flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,ha(t,e.child,null,n),(s=t.child).memoizedState=Yo(n),s.childLanes=Jo(e,r,n),t.memoizedState=Go,t=To(null,s));else if(La(t),Uu(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var c=r.dgst;r=c,(s=Error(i(419))).stack="",s.digest=r,ys({value:s,source:null,stack:null}),t=el(e,t,n)}else if(Qo||Ss(e,t,n,!1),r=0!==(n&e.childLanes),Qo||r){if(null!==(r=fA)&&(0!==(s=Ie(r,n))&&s!==A.retryLane))throw A.retryLane=s,Qr(e,s),GA(r,e,s),Uo;_u(l)||ic(),t=el(e,t,n)}else _u(l)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,cs=Qu(l.nextSibling),As=t,us=!0,ds=null,hs=!1,null!==e&&ls(t,e),(t=Zo(t,s.children)).flags|=4096);return t}return a?(Da(),l=s.fallback,a=t.mode,c=(A=e.child).sibling,(s=Or(A,{mode:"hidden",children:s.children})).subtreeFlags=65011712&A.subtreeFlags,null!==c?l=Or(c,l):(l=zr(l,a,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,To(null,s),s=t.child,null===(l=e.child.memoizedState)?l=Yo(n):(null!==(a=l.cachePool)?(A=Ps._currentValue,a=a.parent!==A?{parent:A,pool:A}:a):a=Js(),l={baseLanes:l.baseLanes|n,cachePool:a}),s.memoizedState=l,s.childLanes=Jo(e,r,n),t.memoizedState=Go,To(e.child,s)):(La(t),e=(n=e.child).sibling,(n=Or(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=$o({mode:"visible",children:t},e.mode)).return=e,e.child=t}function $o(e,t){return(e=Pr(22,e,null,t)).lanes=0,e}function el(e,t,n){return ha(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function nl(e,t,n,r,s,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s,treeForkCount:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s,i.treeForkCount=a)}function rl(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;r=r.children;var i=Ta.current,o=0!==(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,H(Ta,i),Lo(e,t,r,n),r=us?Zr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,n,t);else if(19===e.tag)tl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===Oa(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),nl(t,!1,s,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Oa(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}nl(t,!0,n,null,a,r);break;case"together":nl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),NA|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ss(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Or(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Or(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Es(e))}function il(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Qo=!0;else{if(!al(e,n)&&0===(128&t.flags))return Qo=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),js(0,Ps,e.memoizedState.cache),bs();break;case 27:case 5:J(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:js(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ia(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(La(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xo(e,t,n):(La(t),null!==(e=sl(e,t,n))?e.sibling:null);La(t);break;case 19:var s=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ss(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return rl(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Ta,Ta.current),r)break;return null;case 22:return t.lanes=0,Po(e,t,n,t.pendingProps);case 24:js(0,Ps,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);Qo=0!==(131072&e.flags)}else Qo=!1,us&&0!==(1048576&t.flags)&&as(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ra(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var s=e.$$typeof;if(s===w){t.tag=11,t=Io(null,t,e,r,n);break e}if(s===j){t.tag=14,t=Mo(null,t,e,r,n);break e}}throw t=U(e)||e,Error(i(306,t,""))}Tr(e)?(r=Bo(e,r),t.tag=1,t=qo(null,t,e,r,n)):(t.tag=0,t=Ko(null,t,e,r,n))}return t;case 0:return Ko(e,t,t.type,t.pendingProps,n);case 1:return qo(e,t,r=t.type,s=Bo(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;s=a.element,ga(e,t),Na(t,r,null,n);var o=t.memoizedState;if(r=o.cache,js(0,Ps,r),r!==a.cache&&Fs(t,[Ps],n,!0),Ba(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Wo(e,t,r,n);break e}if(r!==s){ys(s=Gr(Error(i(424)),t)),t=Wo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(cs=Qu(e.firstChild),As=t,us=!0,ds=null,hs=!0,n=fa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bs(),r===s){t=sl(e,t,n);break e}Lo(e,t,r,n)}t=t.child}return t;case 26:return zo(e,t),null===e?(n=Vu(t.type,null,t.pendingProps,null))?t.memoizedState=n:us||(n=t.type,e=t.pendingProps,(r=pu(q.current).createElement(n))[He]=t,r[Re]=e,du(r,n,e),et(r),t.stateNode=r):t.memoizedState=Vu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&us&&(r=t.stateNode=Du(t.type,t.pendingProps,q.current),As=t,hs=!0,s=cs,Cu(t.type)?(Lu=s,cs=Qu(r.firstChild)):cs=s),Lo(e,t,t.pendingProps.children,n),zo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&us&&((s=r=cs)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===a)return e}if(null===(e=Qu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,hs))?(t.stateNode=r,As=t,cs=Qu(r.firstChild),hs=!1,s=!0):s=!1),s||ms(t)),J(t),s=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,bu(s,a)?r=null:null!==o&&bu(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=ei(e,t,ri,null,null,n),cd._currentValue=s),zo(e,t),Lo(e,t,r,n),t.child;case 6:return null===e&&us&&((e=n=cs)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Qu(e.nextSibling)))return null}return e}(n,t.pendingProps,hs))?(t.stateNode=n,As=t,cs=null,e=!0):e=!1),e||ms(t)),null;case 13:return Xo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ha(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return Io(e,t,t.type,t.pendingProps,n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,js(0,t.type,r.value),Lo(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,_s(t),r=r(s=Us(s)),t.flags|=1,Lo(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return Do(e,t,t.type,t.pendingProps,n);case 19:return rl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,s=0!==(128&t.flags);if(t.flags&=-129,null===e){if(us){if("hidden"===r.mode)return e=Ho(t,r),t.lanes=536870912,To(null,e);if(Ia(t),(e=cs)?null!==(e=null!==(e=Eu(e,hs))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ts?{id:ns,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},(n=Vr(e)).return=t,t.child=n,As=t,cs=null):e=null,null===e)throw ms(t);return t.lanes=536870912,null}return Ho(t,r)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(Ia(t),s)if(256&t.flags)t.flags&=-257,t=Ro(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Qo||Ss(e,t,n,!1),s=0!==(n&e.childLanes),Qo||s){if(null!==(r=fA)&&0!==(o=Ie(r,n))&&o!==a.retryLane)throw a.retryLane=o,Qr(e,o),GA(r,e,o),Uo;ic(),t=Ro(e,t,n)}else e=a.treeContext,cs=Qu(o.nextSibling),As=t,us=!0,ds=null,hs=!1,null!==e&&ls(t,e),(t=Ho(t,r)).flags|=4096;return t}return(e=Or(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Po(e,t,n,t.pendingProps);case 24:return _s(t),r=Us(Ps),null===e?(null===(s=Gs())&&(s=fA,a=Ts(),s.pooledCache=a,a.refCount++,null!==a&&(s.pooledCacheLanes|=n),s=a),t.memoizedState={parent:r,cache:s},pa(t),js(0,Ps,s)):(0!==(e.lanes&n)&&(ga(e,t),Na(t,null,null,n),Ba()),s=e.memoizedState,a=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),js(0,Ps,r)):(r=a.cache,js(0,Ps,r),r!==s.cache&&Fs(t,[Ps],n,!0))),Lo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ol(e){e.flags|=4}function ll(e,t,n,r,s){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&s)===s)if(e.stateNode.complete)e.flags|=8192;else{if(!rc())throw sa=ea,Zs;e.flags|=8192}}else e.flags&=-16777217}function Al(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!sd(t)){if(!rc())throw sa=ea,Zs;e.flags|=8192}}function cl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ee():536870912,e.lanes|=t,FA|=t)}function ul(e,t){if(!us)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hl(e,t,n){var r=t.pendingProps;switch(os(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return dl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Cs(Ps),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(xs(t)?ol(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,vs())),dl(t),null;case 26:var s=t.type,a=t.memoizedState;return null===e?(ol(t),null!==a?(dl(t),Al(t,a)):(dl(t),ll(t,s,0,0,n))):a?a!==e.memoizedState?(ol(t),dl(t),Al(t,a)):(dl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ol(t),dl(t),ll(t,s,0,0,n)),null;case 27:if(X(t),n=q.current,s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return dl(t),null}e=K.current,xs(t)?ps(t):(e=Du(s,r,n),t.stateNode=e,ol(t))}return dl(t),null;case 5:if(X(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return dl(t),null}if(a=K.current,xs(t))ps(t);else{var o=pu(q.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?o.createElement(s,{is:r.is}):o.createElement(s)}}a[He]=t,a[Re]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(du(a,s,r),s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ol(t)}}return dl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ol(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=q.current,xs(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=As))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[He]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Au(e.nodeValue,n)))||ms(t,!0)}else(e=pu(e).createTextNode(r))[He]=t,t.stateNode=e}return dl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=xs(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[He]=t}else bs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),e=!1}else n=vs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Pa(t),t):(Pa(t),null);if(0!==(128&t.flags))throw Error(i(558))}return dl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=xs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[He]=t}else bs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;dl(t),s=!1}else s=vs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(Pa(t),t):(Pa(t),null)}return Pa(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==s&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),cl(t,t.updateQueue),dl(t),null);case 4:return Y(),null===e&&$c(t.stateNode.containerInfo),dl(t),null;case 10:return Cs(t.type),dl(t),null;case 19:if(O(Ta),null===(r=t.memoizedState))return dl(t),null;if(s=0!==(128&t.flags),null===(a=r.rendering))if(s)ul(r,!1);else{if(0!==BA||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Oa(e))){for(t.flags|=128,ul(r,!1),e=a.updateQueue,t.updateQueue=e,cl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hr(n,e),n=n.sibling;return H(Ta,1&Ta.current|2),us&&ss(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>LA&&(t.flags|=128,s=!0,ul(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=Oa(a))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,cl(t,e),ul(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!us)return dl(t),null}else 2*le()-r.renderingStartTime>LA&&536870912!==n&&(t.flags|=128,s=!0,ul(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Ta.current,H(Ta,s?1&n|2:1&n),us&&ss(t,r.treeForkCount),e):(dl(t),null);case 22:case 23:return Pa(t),_a(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(dl(t),6&t.subtreeFlags&&(t.flags|=8192)):dl(t),null!==(n=t.updateQueue)&&cl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&O(Ws),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cs(Ps),dl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function fl(e,t){switch(os(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cs(Ps),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Pa(t),null===t.alternate)throw Error(i(340));bs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Pa(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));bs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return O(Ta),null;case 4:return Y(),null;case 10:return Cs(t.type),null;case 22:case 23:return Pa(t),_a(),null!==e&&O(Ws),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cs(Ps),null;default:return null}}function ml(e,t){switch(os(t),t.tag){case 3:Cs(Ps),Y();break;case 26:case 27:case 5:X(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&Pa(t);break;case 13:Pa(t);break;case 19:O(Ta);break;case 10:Cs(t.type);break;case 22:case 23:Pa(t),_a(),null!==e&&O(Ws);break;case 24:Cs(Ps)}}function pl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var a=n.create,i=n.inst;r=a(),i.destroy=r}n=n.next}while(n!==s)}}catch(o){Bc(t,t.return,o)}}function gl(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var a=s.next;r=a;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,s=t;var l=n,A=o;try{A()}catch(c){Bc(s,l,c)}}}r=r.next}while(r!==a)}}catch(c){Bc(t,t.return,c)}}function xl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ca(t,n)}catch(r){Bc(e,e.return,r)}}}function bl(e,t,n){n.props=Bo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Bc(e,t,r)}}function vl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(s){Bc(e,t,s)}}function yl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(s){Bc(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Bc(e,t,a)}else n.current=null}function wl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){Bc(e,e.return,s)}}function Bl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,o=null,l=null,A=null,c=null,u=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&null!=d)switch(f){case"checked":case"value":break;case"defaultValue":A=d;default:r.hasOwnProperty(f)||cu(e,t,f,null,r,d)}}for(var h in r){var f=r[h];if(d=n[h],r.hasOwnProperty(h)&&(null!=f||null!=d))switch(h){case"type":a=f;break;case"name":s=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==d&&cu(e,t,h,f,r,d)}}return void xt(e,o,l,A,c,u,a,s);case"select":for(a in f=o=l=h=null,n)if(A=n[a],n.hasOwnProperty(a)&&null!=A)switch(a){case"value":break;case"multiple":f=A;default:r.hasOwnProperty(a)||cu(e,t,a,null,r,A)}for(s in r)if(a=r[s],A=n[s],r.hasOwnProperty(s)&&(null!=a||null!=A))switch(s){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==A&&cu(e,t,s,a,r,A)}return t=l,n=o,r=f,void(null!=h?yt(e,!!n,h,!1):!!r!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=h=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:cu(e,t,l,null,r,s)}for(o in r)if(s=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=s||null!=a))switch(o){case"value":h=s;break;case"defaultValue":f=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==a&&cu(e,t,o,s,r,a)}return void wt(e,h,f);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else cu(e,t,m,null,r,h);for(A in r)if(h=r[A],f=n[A],r.hasOwnProperty(A)&&h!==f&&(null!=h||null!=f))if("selected"===A)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else cu(e,t,A,h,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var p in n)h=n[p],n.hasOwnProperty(p)&&null!=h&&!r.hasOwnProperty(p)&&cu(e,t,p,null,r,h);for(c in r)if(h=r[c],f=n[c],r.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:cu(e,t,c,h,r,f)}return;default:if(Ft(t)){for(var g in n)h=n[g],n.hasOwnProperty(g)&&void 0!==h&&!r.hasOwnProperty(g)&&uu(e,t,g,void 0,r,h);for(u in r)h=r[u],f=n[u],!r.hasOwnProperty(u)||h===f||void 0===h&&void 0===f||uu(e,t,u,h,r,f);return}}for(var x in n)h=n[x],n.hasOwnProperty(x)&&null!=h&&!r.hasOwnProperty(x)&&cu(e,t,x,null,r,h);for(d in r)h=r[d],f=n[d],!r.hasOwnProperty(d)||h===f||null==h&&null==f||cu(e,t,d,h,r,f)}(r,e.type,n,t),r[Re]=t}catch(s){Bc(e,e.return,s)}}function Nl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cu(e.type)||4===e.tag}function jl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ut));else if(4!==r&&(27===r&&Cu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function kl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(kl(e,t,n),e=e.sibling;null!==e;)kl(e,t,n),e=e.sibling}function Fl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);du(t,r,n),t[He]=e,t[Re]=n}catch(a){Bc(e,e.return,a)}}var Sl=!1,El=!1,_l=!1,Ul="function"===typeof WeakSet?WeakSet:Set,Ql=null;function Ll(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Gl(e,n),4&r&&pl(5,n);break;case 1:if(Gl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){Bc(n,n.return,i)}else{var s=Bo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Bc(n,n.return,o)}}64&r&&xl(n),512&r&&vl(n,n.return);break;case 3:if(Gl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ca(e,t)}catch(i){Bc(n,n.return,i)}}break;case 27:null===t&&4&r&&Fl(n);case 26:case 5:Gl(e,n),null===t&&4&r&&wl(n),512&r&&vl(n,n.return);break;case 12:Gl(e,n);break;case 31:Gl(e,n),4&r&&Ol(e,n);break;case 13:Gl(e,n),4&r&&Hl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=kc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Sl)){t=null!==t&&null!==t.memoizedState||El,s=Sl;var a=El;Sl=r,(El=t)&&!a?Jl(e,n,0!==(8772&n.subtreeFlags)):Gl(e,n),Sl=s,El=a}break;case 30:break;default:Gl(e,n)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Dl=!1;function Pl(e,t,n){for(n=n.child;null!==n;)Tl(e,t,n),n=n.sibling}function Tl(e,t,n){if(xe&&"function"===typeof xe.onCommitFiberUnmount)try{xe.onCommitFiberUnmount(ge,n)}catch(a){}switch(n.tag){case 26:El||yl(n,t),Pl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:El||yl(n,t);var r=Ml,s=Dl;Cu(n.type)&&(Ml=n.stateNode,Dl=!1),Pl(e,t,n),Pu(n.stateNode),Ml=r,Dl=s;break;case 5:El||yl(n,t);case 6:if(r=Ml,s=Dl,Ml=null,Pl(e,t,n),Dl=s,null!==(Ml=r))if(Dl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(i){Bc(n,t,i)}else try{Ml.removeChild(n.stateNode)}catch(i){Bc(n,t,i)}break;case 18:null!==Ml&&(Dl?(ku(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Kd(e)):ku(Ml,n.stateNode));break;case 4:r=Ml,s=Dl,Ml=n.stateNode.containerInfo,Dl=!0,Pl(e,t,n),Ml=r,Dl=s;break;case 0:case 11:case 14:case 15:gl(2,n,t),El||gl(4,n,t),Pl(e,t,n);break;case 1:El||(yl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&bl(n,t,r)),Pl(e,t,n);break;case 21:Pl(e,t,n);break;case 22:El=(r=El)||null!==n.memoizedState,Pl(e,t,n),El=r;break;default:Pl(e,t,n)}}function Ol(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Kd(e)}catch(n){Bc(t,t.return,n)}}}function Hl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Kd(e)}catch(n){Bc(t,t.return,n)}}function Rl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ul),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ul),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Fc.bind(null,e,t);t.then(r,r)}})}function zl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Cu(l.type)){Ml=l.stateNode,Dl=!1;break e}break;case 5:Ml=l.stateNode,Dl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Dl=!0;break e}l=l.return}if(null===Ml)throw Error(i(160));Tl(a,o,s),Ml=null,Dl=!1,null!==(a=s.alternate)&&(a.return=null),s.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Vl(t,e),t=t.sibling}var Kl=null;function Vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zl(t,e),ql(e),4&r&&(gl(3,e,e.return),pl(3,e),gl(5,e,e.return));break;case 1:zl(t,e),ql(e),512&r&&(El||null===n||yl(n,n.return)),64&r&&Sl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Kl;if(zl(t,e),ql(e),512&r&&(El||null===n||yl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(a=s.getElementsByTagName("title")[0])||a[Ge]||a[He]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=s.createElement(r),s.head.insertBefore(a,s.querySelector("head > title"))),du(a,r,n),a[He]=e,et(a),r=a;break e;case"link":var o=nd("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}du(a=s.createElement(r),r,n),s.head.appendChild(a);break;case"meta":if(o=nd("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}du(a=s.createElement(r),r,n),s.head.appendChild(a);break;default:throw Error(i(468,r))}a[He]=e,et(a),r=a}e.stateNode=r}else rd(s,e.type,e.stateNode);else e.stateNode=Xu(s,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?rd(s,e.type,e.stateNode):Xu(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Bl(e,e.memoizedProps,n.memoizedProps)}break;case 27:zl(t,e),ql(e),512&r&&(El||null===n||yl(n,n.return)),null!==n&&4&r&&Bl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(zl(t,e),ql(e),512&r&&(El||null===n||yl(n,n.return)),32&e.flags){s=e.stateNode;try{Nt(s,"")}catch(m){Bc(e,e.return,m)}}4&r&&null!=e.stateNode&&Bl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(_l=!0);break;case 6:if(zl(t,e),ql(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Bc(e,e.return,m)}}break;case 3:if(td=null,s=Kl,Kl=Hu(t.containerInfo),zl(t,e),Kl=s,ql(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Kd(t.containerInfo)}catch(m){Bc(e,e.return,m)}_l&&(_l=!1,Wl(e));break;case 4:r=Kl,Kl=Hu(e.stateNode.containerInfo),zl(t,e),ql(e),Kl=r;break;case 12:default:zl(t,e),ql(e);break;case 31:case 19:zl(t,e),ql(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));break;case 13:zl(t,e),ql(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(UA=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));break;case 22:s=null!==e.memoizedState;var A=null!==n&&null!==n.memoizedState,c=Sl,u=El;if(Sl=c||s,El=u||A,zl(t,e),El=u,Sl=c,ql(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||A||Sl||El||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){A=n=t;try{if(a=A.stateNode,s)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=A.stateNode;var d=A.memoizedProps.style,h=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(m){Bc(A,A.return,m)}}}else if(6===t.tag){if(null===n){A=t;try{A.stateNode.nodeValue=s?"":A.memoizedProps}catch(m){Bc(A,A.return,m)}}}else if(18===t.tag){if(null===n){A=t;try{var f=A.stateNode;s?Fu(f,!0):Fu(A.stateNode,!1)}catch(m){Bc(A,A.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Rl(e,n))));case 30:case 21:}}function ql(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Nl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var s=n.stateNode;kl(e,jl(e),s);break;case 5:var a=n.stateNode;32&n.flags&&(Nt(a,""),n.flags&=-33),kl(e,jl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;Cl(e,jl(e),o);break;default:throw Error(i(161))}}catch(l){Bc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Wl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Wl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Gl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gl(4,t,t.return),Yl(t);break;case 1:yl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&bl(t,t.return,n),Yl(t);break;case 27:Pu(t.stateNode);case 26:case 5:yl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Jl(s,a,n),pl(4,a);break;case 1:if(Jl(s,a,n),"function"===typeof(s=(r=a).stateNode).componentDidMount)try{s.componentDidMount()}catch(A){Bc(r,r.return,A)}if(null!==(s=(r=a).updateQueue)){var o=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)ja(l[s],o)}catch(A){Bc(r,r.return,A)}}n&&64&i&&xl(a),vl(a,a.return);break;case 27:Fl(a);case 26:case 5:Jl(s,a,n),n&&null===r&&4&i&&wl(a),vl(a,a.return);break;case 12:Jl(s,a,n);break;case 31:Jl(s,a,n),n&&4&i&&Ol(s,a);break;case 13:Jl(s,a,n),n&&4&i&&Hl(s,a);break;case 22:null===a.memoizedState&&Jl(s,a,n),vl(a,a.return);break;case 30:break;default:Jl(s,a,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Os(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e))}function $l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)eA(e,t,n,r),t=t.sibling}function eA(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,r),2048&s&&pl(9,t);break;case 1:case 31:case 13:default:$l(e,t,n,r);break;case 3:$l(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e)));break;case 12:if(2048&s){$l(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,o=a.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Bc(t,t.return,l)}}else $l(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?$l(e,t,n,r):nA(e,t):2&a._visibility?$l(e,t,n,r):(a._visibility|=2,tA(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&s&&Xl(i,t);break;case 24:$l(e,t,n,r),2048&s&&Zl(t.alternate,t)}}function tA(e,t,n,r,s){for(s=s&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,i=t,o=n,l=r,A=i.flags;switch(i.tag){case 0:case 11:case 15:tA(a,i,o,l,s),pl(8,i);break;case 23:break;case 22:var c=i.stateNode;null!==i.memoizedState?2&c._visibility?tA(a,i,o,l,s):nA(a,i):(c._visibility|=2,tA(a,i,o,l,s)),s&&2048&A&&Xl(i.alternate,i);break;case 24:tA(a,i,o,l,s),s&&2048&A&&Zl(i.alternate,i);break;default:tA(a,i,o,l,s)}t=t.sibling}}function nA(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:nA(n,r),2048&s&&Xl(r.alternate,r);break;case 24:nA(n,r),2048&s&&Zl(r.alternate,r);break;default:nA(n,r)}t=t.sibling}}var rA=8192;function sA(e,t,n){if(e.subtreeFlags&rA)for(e=e.child;null!==e;)aA(e,t,n),e=e.sibling}function aA(e,t,n){switch(e.tag){case 26:sA(e,t,n),e.flags&rA&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var s=qu(r.href),a=t.querySelector(Wu(s));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=id.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Gu(r),(s=Tu.get(s))&&$u(r,s),et(a=a.createElement("link"));var i=a;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),du(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=id.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Kl,e.memoizedState,e.memoizedProps);break;case 5:default:sA(e,t,n);break;case 3:case 4:var r=Kl;Kl=Hu(e.stateNode.containerInfo),sA(e,t,n),Kl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=rA,rA=16777216,sA(e,t,n),rA=r):sA(e,t,n))}}function iA(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oA(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ql=r,cA(r,e)}iA(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lA(e),e=e.sibling}function lA(e){switch(e.tag){case 0:case 11:case 15:oA(e),2048&e.flags&&gl(9,e,e.return);break;case 3:case 12:default:oA(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,AA(e)):oA(e)}}function AA(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ql=r,cA(r,e)}iA(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:gl(8,t,t.return),AA(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,AA(t));break;default:AA(t)}e=e.sibling}}function cA(e,t){for(;null!==Ql;){var n=Ql;switch(n.tag){case 0:case 11:case 15:gl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Os(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ql=r;else e:for(n=e;null!==Ql;){var s=(r=Ql).sibling,a=r.return;if(Il(r),r===n){Ql=null;break e}if(null!==s){s.return=a,Ql=s;break e}Ql=a}}}var uA={getCacheForType:function(e){var t=Us(Ps),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Us(Ps).controller.signal}},dA="function"===typeof WeakMap?WeakMap:Map,hA=0,fA=null,mA=null,pA=0,gA=0,xA=null,bA=!1,vA=!1,yA=!1,wA=0,BA=0,NA=0,jA=0,CA=0,kA=0,FA=0,SA=null,EA=null,_A=!1,UA=0,QA=0,LA=1/0,IA=null,MA=null,DA=0,PA=null,TA=null,OA=0,HA=0,RA=null,zA=null,KA=0,VA=null;function qA(){return 0!==(2&hA)&&0!==pA?pA&-pA:null!==L.T?Rc():Pe()}function WA(){if(0===kA)if(0===(536870912&pA)||us){var e=Ne;0===(3932160&(Ne<<=1))&&(Ne=262144),kA=e}else kA=536870912;return null!==(e=Ua.current)&&(e.flags|=32),kA}function GA(e,t,n){(e!==fA||2!==gA&&9!==gA)&&null===e.cancelPendingCommit||(tc(e,0),ZA(e,pA,kA,!1)),Ue(e,n),0!==(2&hA)&&e===fA||(e===fA&&(0===(2&hA)&&(jA|=n),4===BA&&ZA(e,pA,kA,!1)),Ic(e))}function YA(e,t,n){if(0!==(6&hA))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Fe(e,t),s=r?function(e,t){var n=hA;hA|=2;var r=sc(),s=ac();fA!==e||pA!==t?(IA=null,LA=le()+500,tc(e,t)):vA=Fe(e,t);e:for(;;)try{if(0!==gA&&null!==mA){t=mA;var a=xA;t:switch(gA){case 1:gA=0,xA=null,dc(e,t,a,1);break;case 2:case 9:if(ta(a)){gA=0,xA=null,uc(t);break}t=function(){2!==gA&&9!==gA||fA!==e||(gA=7),Ic(e)},a.then(t,t);break e;case 3:gA=7;break e;case 4:gA=5;break e;case 7:ta(a)?(gA=0,xA=null,uc(t)):(gA=0,xA=null,dc(e,t,a,7));break;case 5:var o=null;switch(mA.tag){case 26:o=mA.memoizedState;case 5:case 27:var l=mA;if(o?sd(o):l.stateNode.complete){gA=0,xA=null;var A=l.sibling;if(null!==A)mA=A;else{var c=l.return;null!==c?(mA=c,hc(c)):mA=null}break t}}gA=0,xA=null,dc(e,t,a,5);break;case 6:gA=0,xA=null,dc(e,t,a,6);break;case 8:ec(),BA=6;break e;default:throw Error(i(462))}}Ac();break}catch(u){nc(e,u)}return Ns=Bs=null,L.H=r,L.A=s,hA=n,null!==mA?0:(fA=null,pA=0,Er(),BA)}(e,t):oc(e,t,!0),a=r;;){if(0===s){vA&&!r&&ZA(e,t,0,!1);break}if(n=e.current.alternate,!a||XA(n)){if(2===s){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=SA;var A=l.current.memoizedState.isDehydrated;if(A&&(tc(l,o).flags|=256),2!==(o=oc(l,o,!1))){if(yA&&!A){l.errorRecoveryDisabledLanes|=a,jA|=a,s=4;break e}a=EA,EA=s,null!==a&&(null===EA?EA=a:EA.push.apply(EA,a))}s=o}if(a=!1,2!==s)continue}}if(1===s){tc(e,0),ZA(e,t,0,!0);break}e:{switch(r=e,a=s){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:ZA(r,t,kA,!bA);break e;case 2:EA=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(s=UA+300-le())){if(ZA(r,t,kA,!bA),0!==ke(r,0,!0))break e;OA=t,r.timeoutHandle=yu(JA.bind(null,r,n,EA,IA,_A,t,kA,jA,FA,bA,a,"Throttled",-0,0),s)}else JA(r,n,EA,IA,_A,t,kA,jA,FA,bA,a,null,-0,0)}break}s=oc(e,t,!1),a=!1}Ic(e)}function JA(e,t,n,r,s,a,i,o,l,A,c,u,d,h){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){aA(t,a,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ut});var f=(62914560&a)===a?UA-le():(4194048&a)===a?QA-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&ld(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ad&&(ad=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var s=n[r],a=s.transferSize,i=s.initiatorType,o=s.duration;if(a&&o&&hu(i)){for(i=0,o=s.responseEnd,r+=1;r<n.length;r++){var l=n[r],A=l.startTime;if(A>o)break;var c=l.transferSize,u=l.initiatorType;c&&hu(u)&&(i+=c*((l=l.responseEnd)<o?1:(o-A)/(l-A)))}if(--r,t+=8*(a+i)/(s.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var s=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ld(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ad?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(s)}}:null}(u,f)))return OA=a,e.cancelPendingCommit=f(mc.bind(null,e,t,a,n,r,s,i,o,l,c,u,null,d,h)),void ZA(e,a,i,!A)}mc(e,t,a,n,r,s,i,o,l)}function XA(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Zn(a(),s))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ZA(e,t,n,r){t&=~CA,t&=~jA,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var a=31-ve(s),i=1<<a;r[a]=-1,s&=~i}0!==n&&Qe(e,n,t)}function $A(){return 0!==(6&hA)||(Mc(0,!1),!1)}function ec(){if(null!==mA){if(0===gA)var e=mA.return;else Ns=Bs=null,ii(e=mA),oa=null,la=0,e=mA;for(;null!==e;)ml(e.alternate,e),e=e.return;mA=null}}function tc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,wu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),OA=0,ec(),fA=e,mA=n=Or(e.current,null),pA=t,gA=0,xA=null,bA=!1,vA=Fe(e,t),yA=!1,FA=kA=CA=jA=NA=BA=0,EA=SA=null,_A=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-ve(r),a=1<<s;t|=e[s],r&=~a}return wA=t,Er(),n}function nc(e,t){Ra=null,L.H=mo,t===Xs||t===$s?(t=aa(),gA=3):t===Zs?(t=aa(),gA=4):gA=t===Uo?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,xA=t,null===mA&&(BA=1,ko(e,Gr(t,e.current)))}function rc(){var e=Ua.current;return null===e||((4194048&pA)===pA?null===Qa:((62914560&pA)===pA||0!==(536870912&pA))&&e===Qa)}function sc(){var e=L.H;return L.H=mo,null===e?mo:e}function ac(){var e=L.A;return L.A=uA,e}function ic(){BA=4,bA||(4194048&pA)!==pA&&null!==Ua.current||(vA=!0),0===(134217727&NA)&&0===(134217727&jA)||null===fA||ZA(fA,pA,kA,!1)}function oc(e,t,n){var r=hA;hA|=2;var s=sc(),a=ac();fA===e&&pA===t||(IA=null,tc(e,t)),t=!1;var i=BA;e:for(;;)try{if(0!==gA&&null!==mA){var o=mA,l=xA;switch(gA){case 8:ec(),i=6;break e;case 3:case 2:case 9:case 6:null===Ua.current&&(t=!0);var A=gA;if(gA=0,xA=null,dc(e,o,l,A),n&&vA){i=0;break e}break;default:A=gA,gA=0,xA=null,dc(e,o,l,A)}}lc(),i=BA;break}catch(c){nc(e,c)}return t&&e.shellSuspendCounter++,Ns=Bs=null,hA=r,L.H=s,L.A=a,null===mA&&(fA=null,pA=0,Er()),i}function lc(){for(;null!==mA;)cc(mA)}function Ac(){for(;null!==mA&&!ie();)cc(mA)}function cc(e){var t=il(e.alternate,e,wA);e.memoizedProps=e.pendingProps,null===t?hc(e):mA=t}function uc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Vo(n,t,t.pendingProps,t.type,void 0,pA);break;case 11:t=Vo(n,t,t.pendingProps,t.type.render,t.ref,pA);break;case 5:ii(t);default:ml(n,t),t=il(n,t=mA=Hr(t,wA),wA)}e.memoizedProps=e.pendingProps,null===t?hc(e):mA=t}function dc(e,t,n,r){Ns=Bs=null,ii(t),oa=null,la=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ss(t,n,s,!0),null!==(n=Ua.current)){switch(n.tag){case 31:case 13:return null===Qa?ic():null===n.alternate&&0===BA&&(BA=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Nc(e,r,s)),!1;case 22:return n.flags|=65536,r===ea?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Nc(e,r,s)),!1}throw Error(i(435,n.tag))}return Nc(e,r,s),ic(),!1}if(us)return null!==(t=Ua.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==fs&&ys(Gr(e=Error(i(422),{cause:r}),n))):(r!==fs&&ys(Gr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Gr(r,n),ya(e,s=So(e.stateNode,r,s)),4!==BA&&(BA=2)),!1;var a=Error(i(520),{cause:r});if(a=Gr(a,n),null===SA?SA=[a]:SA.push(a),4!==BA&&(BA=2),null===t)return!0;r=Gr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,ya(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===MA||!MA.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,_o(s=Eo(s),e,n,r),ya(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,pA))return BA=1,ko(e,Gr(n,e.current)),void(mA=null)}catch(a){if(null!==s)throw mA=s,a;return BA=1,ko(e,Gr(n,e.current)),void(mA=null)}32768&t.flags?(us||1===r?e=!0:vA||0!==(536870912&pA)?e=!1:(bA=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ua.current)&&13===r.tag&&(r.flags|=16384))),fc(t,e)):hc(t)}function hc(e){var t=e;do{if(0!==(32768&t.flags))return void fc(t,bA);e=t.return;var n=hl(t.alternate,t,wA);if(null!==n)return void(mA=n);if(null!==(t=t.sibling))return void(mA=t);mA=t=e}while(null!==t);0===BA&&(BA=5)}function fc(e,t){do{var n=fl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mA=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mA=e);mA=e=n}while(null!==e);BA=6,mA=null}function mc(e,t,n,r,s,a,o,l,A){e.cancelPendingCommit=null;do{vc()}while(0!==DA);if(0!==(6&hA))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,s,a){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,A=e.hiddenUpdates;for(n=i&~n;0<n;){var c=31-ve(n),u=1<<c;o[c]=0,l[c]=-1;var d=A[c];if(null!==d)for(A[c]=null,c=0;c<d.length;c++){var h=d[c];null!==h&&(h.lane&=-536870913)}n&=~u}0!==r&&Qe(e,r,0),0!==a&&0===s&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,n,a|=Sr,o,l,A),e===fA&&(mA=fA=null,pA=0),TA=t,PA=e,OA=n,HA=a,RA=s,zA=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,se(de,function(){return yc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=L.T,L.T=null,s=I.p,I.p=2,o=hA,hA|=4;try{!function(e,t){if(e=e.containerInfo,fu=bd,sr(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(p){n=null;break e}var o=0,l=-1,A=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==s&&3!==d.nodeType||(l=o+s),d!==a||0!==r&&3!==d.nodeType||(A=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++c===s&&(l=o),h===a&&++u===r&&(A=o),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===l||-1===A?null:{start:l,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(mu={focusedElem:e,selectionRange:n},bd=!1,Ql=t;null!==Ql;)if(e=(t=Ql).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ql=e;else for(;null!==Ql;){switch(a=(t=Ql).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(s=e[n]).ref.impl=s.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,s=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Bo(n.type,s);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){Bc(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Su(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Su(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Ql=e;break}Ql=t.return}}(e,t)}finally{hA=o,I.p=s,L.T=r}}DA=1,pc(),gc(),xc()}}function pc(){if(1===DA){DA=0;var e=PA,t=TA,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=L.T,L.T=null;var r=I.p;I.p=2;var s=hA;hA|=4;try{Vl(t,e);var a=mu,i=rr(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(i!==o&&o&&o.ownerDocument&&nr(o.ownerDocument.documentElement,o)){if(null!==l&&sr(o)){var A=l.start,c=l.end;if(void 0===c&&(c=A),"selectionStart"in o)o.selectionStart=A,o.selectionEnd=Math.min(c,o.value.length);else{var u=o.ownerDocument||document,d=u&&u.defaultView||window;if(d.getSelection){var h=d.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),p=void 0===l.end?m:Math.min(l.end,f);!h.extend&&m>p&&(i=p,p=m,m=i);var g=tr(o,m),x=tr(o,p);if(g&&x&&(1!==h.rangeCount||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==x.node||h.focusOffset!==x.offset)){var b=u.createRange();b.setStart(g.node,g.offset),h.removeAllRanges(),m>p?(h.addRange(b),h.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),h.addRange(b))}}}}for(u=[],h=o;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}bd=!!fu,mu=fu=null}finally{hA=s,I.p=r,L.T=n}}e.current=t,DA=2}}function gc(){if(2===DA){DA=0;var e=PA,t=TA,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=L.T,L.T=null;var r=I.p;I.p=2;var s=hA;hA|=4;try{Ll(e,t.alternate,t)}finally{hA=s,I.p=r,L.T=n}}DA=3}}function xc(){if(4===DA||3===DA){DA=0,oe();var e=PA,t=TA,n=OA,r=zA;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?DA=5:(DA=0,TA=PA=null,bc(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(MA=null),De(n),t=t.stateNode,xe&&"function"===typeof xe.onCommitFiberRoot)try{xe.onCommitFiberRoot(ge,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=L.T,s=I.p,I.p=2,L.T=null;try{for(var a=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];a(o.value,{componentStack:o.stack})}}finally{L.T=t,I.p=s}}0!==(3&OA)&&vc(),Ic(e),s=e.pendingLanes,0!==(261930&n)&&0!==(42&s)?e===VA?KA++:(KA=0,VA=e):KA=0,Mc(0,!1)}}function bc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Os(t)))}function vc(){return pc(),gc(),xc(),yc()}function yc(){if(5!==DA)return!1;var e=PA,t=HA;HA=0;var n=De(OA),r=L.T,s=I.p;try{I.p=32>n?32:n,L.T=null,n=RA,RA=null;var a=PA,o=OA;if(DA=0,TA=PA=null,OA=0,0!==(6&hA))throw Error(i(331));var l=hA;if(hA|=4,lA(a.current),eA(a,a.current,o,n),hA=l,Mc(0,!1),xe&&"function"===typeof xe.onPostCommitFiberRoot)try{xe.onPostCommitFiberRoot(ge,a)}catch(A){}return!0}finally{I.p=s,L.T=r,bc(e,t)}}function wc(e,t,n){t=Gr(n,t),null!==(e=ba(e,t=So(e.stateNode,t,2),2))&&(Ue(e,2),Ic(e))}function Bc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===MA||!MA.has(r))){e=Gr(n,e),null!==(r=ba(t,n=Eo(2),2))&&(_o(n,r,t,e),Ue(r,2),Ic(r));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dA;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(yA=!0,s.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,fA===e&&(pA&n)===n&&(4===BA||3===BA&&(62914560&pA)===pA&&300>le()-UA?0===(2&hA)&&tc(e,0):CA|=n,FA===pA&&(FA=0)),Ic(e)}function Cc(e,t){0===t&&(t=Ee()),null!==(e=Qr(e,t))&&(Ue(e,t),Ic(e))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Fc(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}var Sc=null,Ec=null,_c=!1,Uc=!1,Qc=!1,Lc=0;function Ic(e){e!==Ec&&null===e.next&&(null===Ec?Sc=Ec=e:Ec=Ec.next=e),Uc=!0,_c||(_c=!0,Nu(function(){0!==(6&hA)?se(ce,Dc):Pc()}))}function Mc(e,t){if(!Qc&&Uc){Qc=!0;do{for(var n=!1,r=Sc;null!==r;){if(!t)if(0!==e){var s=r.pendingLanes;if(0===s)var a=0;else{var i=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-ve(42|e)+1)-1,a=201326741&(a&=s&~(i&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Hc(r,a))}else a=pA,0===(3&(a=ke(r,r===fA?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Fe(r,a)||(n=!0,Hc(r,a));r=r.next}}while(n);Qc=!1}}function Dc(){Pc()}function Pc(){Uc=_c=!1;var e=0;0!==Lc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==vu&&(vu=e,!0);return vu=null,!1}()&&(e=Lc);for(var t=le(),n=null,r=Sc;null!==r;){var s=r.next,a=Tc(r,t);0===a?(r.next=null,null===n?Sc=s:n.next=s,null===s&&(Ec=n)):(n=r,(0!==e||0!==(3&a))&&(Uc=!0)),r=s}0!==DA&&5!==DA||Mc(e,!1),0!==Lc&&(Lc=0)}function Tc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-ve(a),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&r)||(s[i]=Se(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=pA,n=ke(e,e===(t=fA)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===gA||9===gA)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Fe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),De(n)){case 2:case 8:n=ue;break;case 32:default:n=de;break;case 268435456:n=fe}return r=Oc.bind(null,e),n=se(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Oc(e,t){if(0!==DA&&5!==DA)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(vc()&&e.callbackNode!==n)return null;var r=pA;return 0===(r=ke(e,e===fA?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(YA(e,r,t),Tc(e,le()),null!=e.callbackNode&&e.callbackNode===n?Oc.bind(null,e):null)}function Hc(e,t){if(vc())return null;YA(e,t,!0)}function Rc(){if(0===Lc){var e=zs;0===e&&(e=Be,0===(261888&(Be<<=1))&&(Be=256)),Lc=e}return Lc}function zc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:_t(""+e)}function Kc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Vc=0;Vc<Nr.length;Vc++){var qc=Nr[Vc];jr(qc.toLowerCase(),"on"+(qc[0].toUpperCase()+qc.slice(1)))}jr(pr,"onAnimationEnd"),jr(gr,"onAnimationIteration"),jr(xr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(br,"onTransitionRun"),jr(vr,"onTransitionStart"),jr(yr,"onTransitionCancel"),jr(wr,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function Yc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,A=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=A;try{a(s)}catch(c){Cr(c)}s.currentTarget=null,a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,A=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=A;try{a(s)}catch(c){Cr(c)}s.currentTarget=null,a=l}}}}function Jc(e,t){var n=t[Ke];void 0===n&&(n=t[Ke]=new Set);var r=e+"__bubble";n.has(r)||(eu(t,e,2,!1),n.add(r))}function Xc(e,t,n){var r=0;t&&(r|=4),eu(n,e,r,t)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function $c(e){if(!e[Zc]){e[Zc]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Gc.has(t)||Xc(t,!1,e),Xc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zc]||(t[Zc]=!0,Xc("selectionchange",!1,t))}}function eu(e,t,n,r){switch(Cd(t)){case 2:var s=vd;break;case 8:s=yd;break;default:s=wd}n=s.bind(null,t,n,e),s=void 0,!Rt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function tu(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s)break;if(4===i)for(i=r.return;null!==i;){var A=i.tag;if((3===A||4===A)&&i.stateNode.containerInfo===s)return;i=i.return}for(;null!==o;){if(null===(i=Je(o)))return;if(5===(A=i.tag)||6===A||26===A||27===A){r=a=i;continue e}o=o.parentNode}}r=r.return}Tt(function(){var r=a,s=Lt(n),i=[];e:{var o=Br.get(e);if(void 0!==o){var A=nn,c=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":A=xn;break;case"focusin":c="focus",A=An;break;case"focusout":c="blur",A=An;break;case"beforeblur":case"afterblur":A=An;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=vn;break;case pr:case gr:case xr:A=cn;break;case wr:A=yn;break;case"scroll":case"scrollend":A=sn;break;case"wheel":A=wn;break;case"copy":case"cut":case"paste":A=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=bn;break;case"toggle":case"beforetoggle":A=Bn}var u=0!==(4&t),d=!u&&("scroll"===e||"scrollend"===e),h=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var p=m;if(f=p.stateNode,5!==(p=p.tag)&&26!==p&&27!==p||null===f||null===h||null!=(p=Ot(m,h))&&u.push(nu(m,p,f)),d)break;m=m.return}0<u.length&&(o=new A(o,c,null,n,s),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(A="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Qt||!(c=n.relatedTarget||n.fromElement)||!Je(c)&&!c[ze])&&(A||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,A?(A=r,null!==(c=(c=n.relatedTarget||n.toElement)?Je(c):null)&&(d=l(c),u=c.tag,c!==d||5!==u&&27!==u&&6!==u)&&(c=null)):(A=null,c=r),A!==c)){if(u=on,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=bn,p="onPointerLeave",h="onPointerEnter",m="pointer"),d=null==A?o:Ze(A),f=null==c?o:Ze(c),(o=new u(p,m+"leave",A,n,s)).target=d,o.relatedTarget=f,p=null,Je(s)===r&&((u=new u(h,m+"enter",c,n,s)).target=f,u.relatedTarget=d,p=u),d=p,A&&c)e:{for(u=su,m=c,f=0,p=h=A;p;p=u(p))f++;p=0;for(var g=m;g;g=u(g))p++;for(;0<f-p;)h=u(h),f--;for(;0<p-f;)m=u(m),p--;for(;f--;){if(h===m||null!==m&&h===m.alternate){u=h;break e}h=u(h),m=u(m)}u=null}else u=null;null!==A&&au(i,o,A,u,!1),null!==c&&null!==d&&au(i,d,c,u,!0)}if("select"===(A=(o=r?Ze(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===A&&"file"===o.type)var x=Hn;else if(In(o))if(Rn)x=Xn;else{x=Yn;var b=Gn}else!(A=o.nodeName)||"input"!==A.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ft(r.elementType)&&(x=Hn):x=Jn;switch(x&&(x=x(e,r))?Mn(i,x,n,s):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),b=r?Ze(r):window,e){case"focusin":(In(b)||"true"===b.contentEditable)&&(ir=b,or=r,lr=null);break;case"focusout":lr=or=ir=null;break;case"mousedown":Ar=!0;break;case"contextmenu":case"mouseup":case"dragend":Ar=!1,cr(i,n,s);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":cr(i,n,s)}var v;if(jn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Qn?_n(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Fn&&"ko"!==n.locale&&(Qn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Qn&&(v=Wt()):(Vt="value"in(Kt=s)?Kt.value:Kt.textContent,Qn=!0)),0<(b=ru(r,y)).length&&(y=new dn(y,e,null,n,s),i.push({event:y,listeners:b}),v?y.data=v:null!==(v=Un(n))&&(y.data=v))),(v=kn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(En=!0,Sn);case"textInput":return(e=t.data)===Sn&&En?null:e;default:return null}}(e,n):function(e,t){if(Qn)return"compositionend"===e||!jn&&_n(e,t)?(e=Wt(),qt=Vt=Kt=null,Qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=ru(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,s),i.push({event:b,listeners:y}),b.data=v)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var a=zc((s[Re]||null).action),i=r.submitter;i&&null!==(t=(t=i[Re]||null)?zc(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var o=new nn("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lc){var e=i?Kc(s,i):new FormData(s);eo(n,{pending:!0,data:e,method:s.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=i?Kc(s,i):new FormData(s),eo(n,{pending:!0,data:e,method:s.method,action:a},a,e))},currentTarget:s}]})}}(i,e,r,n,s)}Yc(i,t)})}function nu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ru(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===a||(null!=(s=Ot(e,n))&&r.unshift(nu(e,s,a)),null!=(s=Ot(e,t))&&r.push(nu(e,s,a))),3===e.tag)return r;e=e.return}return[]}function su(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function au(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,A=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===A||(l=A,s?null!=(A=Ot(n,a))&&i.unshift(nu(n,A,l)):s||null!=(A=Ot(n,a))&&i.push(nu(n,A,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var iu=/\r\n?/g,ou=/\u0000|\uFFFD/g;function lu(e){return("string"===typeof e?e:""+e).replace(iu,"\n").replace(ou,"")}function Au(e,t){return t=lu(t),lu(e)===t}function cu(e,t,n,r,s,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Nt(e,""+r);break;case"className":At(e,"class",r);break;case"tabIndex":At(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":At(e,n,r);break;case"style":kt(e,r,a);break;case"data":if("object"!==t){At(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&cu(e,t,"name",s.name,s,null),cu(e,t,"formEncType",s.formEncType,s,null),cu(e,t,"formMethod",s.formMethod,s,null),cu(e,t,"formTarget",s.formTarget,s,null)):(cu(e,t,"encType",s.encType,s,null),cu(e,t,"method",s.method,s,null),cu(e,t,"target",s.target,s,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=_t(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ut);break;case"onScroll":null!=r&&Jc("scroll",e);break;case"onScrollEnd":null!=r&&Jc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=_t(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Jc("beforetoggle",e),Jc("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=St.get(n)||n,r)}}function uu(e,t,n,r,s,a){switch(n){case"style":kt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&Nt(e,""+r);break;case"onScroll":null!=r&&Jc("scroll",e);break;case"onScrollEnd":null!=r&&Jc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ut);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Re]||null)?a[n]:null)&&e.removeEventListener(t,a,s),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function du(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jc("error",e),Jc("load",e);var r,s=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:cu(e,t,r,o,n,null)}}return a&&cu(e,t,"srcSet",n.srcSet,n,null),void(s&&cu(e,t,"src",n.src,n,null));case"input":Jc("invalid",e);var l=r=o=a=null,A=null,c=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(null!=u)switch(s){case"name":a=u;break;case"type":o=u;break;case"checked":A=u;break;case"defaultChecked":c=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:cu(e,t,s,u,n,null)}}return void bt(e,r,l,A,c,o,a,!1);case"select":for(a in Jc("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:cu(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?yt(e,!!s,t,!1):null!=n&&yt(e,!!s,n,!0));case"textarea":for(o in Jc("invalid",e),r=a=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:cu(e,t,o,l,n,null)}return void Bt(e,s,a,r);case"option":for(A in n)if(n.hasOwnProperty(A)&&null!=(s=n[A]))if("selected"===A)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else cu(e,t,A,s,n,null);return;case"dialog":Jc("beforetoggle",e),Jc("toggle",e),Jc("cancel",e),Jc("close",e);break;case"iframe":case"object":Jc("load",e);break;case"video":case"audio":for(s=0;s<Wc.length;s++)Jc(Wc[s],e);break;case"image":Jc("error",e),Jc("load",e);break;case"details":Jc("toggle",e);break;case"embed":case"source":case"link":Jc("error",e),Jc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:cu(e,t,c,s,n,null)}return;default:if(Ft(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(s=n[u])&&uu(e,t,u,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&cu(e,t,l,s,n,null))}function hu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var fu=null,mu=null;function pu(e){return 9===e.nodeType?e:e.ownerDocument}function gu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vu=null;var yu="function"===typeof setTimeout?setTimeout:void 0,wu="function"===typeof clearTimeout?clearTimeout:void 0,Bu="function"===typeof Promise?Promise:void 0,Nu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Bu?function(e){return Bu.resolve(null).then(e).catch(ju)}:yu;function ju(e){setTimeout(function(){throw e})}function Cu(e){return"head"===e}function ku(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)||"/&"===n){if(0===r)return e.removeChild(s),void Kd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Pu(e.ownerDocument.documentElement);else if("head"===n){Pu(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var i=a.nextSibling,o=a.nodeName;a[Ge]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=i}}else"body"===n&&Pu(e.ownerDocument.body);n=s}while(n);Kd(t)}function Fu(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Su(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Su(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Eu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Qu(e.nextSibling)))return null}return e}function _u(e){return"$?"===e.data||"$~"===e.data}function Uu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Qu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Lu=null;function Iu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Qu(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Mu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Du(e,t,n){switch(t=pu(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Pu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Tu=new Map,Ou=new Set;function Hu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ru=I.d;I.d={f:function(){var e=Ru.f(),t=$A();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?no(t):Ru.r(e)},D:function(e){Ru.D(e),Ku("dns-prefetch",e,null)},C:function(e,t){Ru.C(e,t),Ku("preconnect",e,t)},L:function(e,t,n){Ru.L(e,t,n);var r=zu;if(r&&e&&t){var s='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+gt(n.imageSizes)+'"]')):s+='[href="'+gt(e)+'"]';var a=s;switch(t){case"style":a=qu(e);break;case"script":a=Yu(e)}Tu.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Tu.set(a,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Wu(a))||"script"===t&&r.querySelector(Ju(a))||(du(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Ru.m(e,t);var n=zu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',a=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Yu(e)}if(!Tu.has(a)&&(e=h({rel:"modulepreload",href:e},t),Tu.set(a,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ju(a)))return}du(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Ru.X(e,t);var n=zu;if(n&&e){var r=$e(n).hoistableScripts,s=Yu(e),a=r.get(s);a||((a=n.querySelector(Ju(s)))||(e=h({src:e,async:!0},t),(t=Tu.get(s))&&ed(e,t),et(a=n.createElement("script")),du(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(s,a))}},S:function(e,t,n){Ru.S(e,t,n);var r=zu;if(r&&e){var s=$e(r).hoistableStyles,a=qu(e);t=t||"default";var i=s.get(a);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(Wu(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Tu.get(a))&&$u(e,n);var l=i=r.createElement("link");et(l),du(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zu(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},s.set(a,i)}}},M:function(e,t){Ru.M(e,t);var n=zu;if(n&&e){var r=$e(n).hoistableScripts,s=Yu(e),a=r.get(s);a||((a=n.querySelector(Ju(s)))||(e=h({src:e,async:!0,type:"module"},t),(t=Tu.get(s))&&ed(e,t),et(a=n.createElement("script")),du(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(s,a))}}};var zu="undefined"===typeof document?null:document;function Ku(e,t,n){var r=zu;if(r&&"string"===typeof t&&t){var s=gt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),Ou.has(s)||(Ou.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(du(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Vu(e,t,n,r){var s,a,o,l,A=(A=q.current)?Hu(A):null;if(!A)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=qu(n.href),(r=(n=$e(A).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=qu(n.href);var c=$e(A).hoistableStyles,u=c.get(e);if(u||(A=A.ownerDocument||A,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,u),(c=A.querySelector(Wu(e)))&&!c._p&&(u.instance=c,u.state.loading=5),Tu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tu.set(e,n),c||(s=A,a=e,o=n,l=u.state,s.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=s.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),du(a,"link",o),et(a),s.head.appendChild(a))))),t&&null===r)throw Error(i(528,""));return u}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yu(n),(r=(n=$e(A).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function qu(e){return'href="'+gt(e)+'"'}function Wu(e){return'link[rel="stylesheet"]['+e+"]"}function Gu(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Yu(e){return'[src="'+gt(e)+'"]'}function Ju(e){return"script[async]"+e}function Xu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var s=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),du(r,"style",s),Zu(r,n.precedence,e),t.instance=r;case"stylesheet":s=qu(n.href);var a=e.querySelector(Wu(s));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Gu(n),(s=Tu.get(s))&&$u(r,s),et(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),du(a,"link",r),t.state.loading|=4,Zu(a,n.precedence,e),t.instance=a;case"script":return a=Yu(n.src),(s=e.querySelector(Ju(a)))?(t.instance=s,et(s),s):(r=n,(s=Tu.get(a))&&ed(r=h({},n),s),et(s=(e=e.ownerDocument||e).createElement("script")),du(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zu(r,n.precedence,e));return t.instance}function Zu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,a=s,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function $u(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var td=null;function nd(e,t,n){if(null===td){var r=new Map,s=td=new Map;s.set(n,r)}else(r=(s=td).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var a=n[s];if(!(a[Ge]||a[He]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(a):r.set(i,[a])}}return r}function rd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ad=0;function id(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var od=null;function ld(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,od=new Map,t.forEach(Ad,e),od=null,id.call(e))}function Ad(e,t){if(!(4&t.state.loading)){var n=od.get(e);if(n)var r=n.get(null);else{n=new Map,od.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var i=s[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(s=t.instance).getAttribute("data-precedence"),(a=n.get(i)||r)===r&&n.set(null,s),n.set(i,s),this.count++,r=id.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),a?a.parentNode.insertBefore(s,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var cd={$$typeof:y,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function ud(e,t,n,r,s,a,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function dd(e,t,n,r,s,a,i,o,l,A,c,u){return e=new ud(e,t,n,i,l,A,c,u,o),t=1,!0===a&&(t|=24),a=Pr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ts()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},pa(a),e}function hd(e){return e?e=Mr:Mr}function fd(e,t,n,r,s,a){s=hd(s),null===r.context?r.context=s:r.pendingContext=s,(r=xa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ba(e,r,t))&&(GA(n,0,t),va(n,e,t))}function md(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function pd(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function gd(e){if(13===e.tag||31===e.tag){var t=Qr(e,67108864);null!==t&&GA(t,0,67108864),pd(e,67108864)}}function xd(e){if(13===e.tag||31===e.tag){var t=qA(),n=Qr(e,t=Me(t));null!==n&&GA(n,0,t),pd(e,t)}}var bd=!0;function vd(e,t,n,r){var s=L.T;L.T=null;var a=I.p;try{I.p=2,wd(e,t,n,r)}finally{I.p=a,L.T=s}}function yd(e,t,n,r){var s=L.T;L.T=null;var a=I.p;try{I.p=8,wd(e,t,n,r)}finally{I.p=a,L.T=s}}function wd(e,t,n,r){if(bd){var s=Bd(r);if(null===s)tu(e,t,r,Nd,n),Id(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Fd=Md(Fd,e,t,n,r,s),!0;case"dragenter":return Sd=Md(Sd,e,t,n,r,s),!0;case"mouseover":return Ed=Md(Ed,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return _d.set(a,Md(_d.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Ud.set(a,Md(Ud.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Id(e,r),4&t&&-1<Ld.indexOf(e)){for(;null!==s;){var a=Xe(s);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=Ce(a.pendingLanes);if(0!==i){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-ve(i);o.entanglements[1]|=l,i&=~l}Ic(a),0===(6&hA)&&(LA=le()+500,Mc(0,!1))}}break;case 31:case 13:null!==(o=Qr(a,2))&&GA(o,0,2),$A(),pd(a,2)}if(null===(a=Bd(r))&&tu(e,t,r,Nd,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else tu(e,t,r,null,n)}}function Bd(e){return jd(e=Lt(e))}var Nd=null;function jd(e){if(Nd=null,null!==(e=Je(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=A(t)))return e;e=null}else if(31===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nd=e,null}function Cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case ce:return 2;case ue:return 8;case de:case he:return 32;case fe:return 268435456;default:return 32}default:return 32}}var kd=!1,Fd=null,Sd=null,Ed=null,_d=new Map,Ud=new Map,Qd=[],Ld="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Id(e,t){switch(e){case"focusin":case"focusout":Fd=null;break;case"dragenter":case"dragleave":Sd=null;break;case"mouseover":case"mouseout":Ed=null;break;case"pointerover":case"pointerout":_d.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ud.delete(t.pointerId)}}function Md(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=Xe(t))&&gd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Dd(e){var t=Je(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=A(n)))return e.blockedOn=t,void Te(e.priority,function(){xd(n)})}else if(31===t){if(null!==(t=c(n)))return e.blockedOn=t,void Te(e.priority,function(){xd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bd(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&gd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Qt=r,n.target.dispatchEvent(r),Qt=null,t.shift()}return!0}function Td(e,t,n){Pd(e)&&n.delete(t)}function Od(){kd=!1,null!==Fd&&Pd(Fd)&&(Fd=null),null!==Sd&&Pd(Sd)&&(Sd=null),null!==Ed&&Pd(Ed)&&(Ed=null),_d.forEach(Td),Ud.forEach(Td)}function Hd(e,t){e.blockedOn===t&&(e.blockedOn=null,kd||(kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Od)))}var Rd=null;function zd(e){Rd!==e&&(Rd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rd===e&&(Rd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!==typeof r){if(null===jd(r||n))continue;break}var a=Xe(n);null!==a&&(e.splice(t,3),t-=3,eo(a,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Kd(e){function t(t){return Hd(t,e)}null!==Fd&&Hd(Fd,e),null!==Sd&&Hd(Sd,e),null!==Ed&&Hd(Ed,e),_d.forEach(t),Ud.forEach(t);for(var n=0;n<Qd.length;n++){var r=Qd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Qd.length&&null===(n=Qd[0]).blockedOn;)Dd(n),null===n.blockedOn&&Qd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],a=n[r+1],i=s[Re]||null;if("function"===typeof a)i||zd(n);else if(i){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,i=a[Re]||null)o=i.formAction;else if(null!==jd(s))continue}else o=i.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),zd(n)}}}function Vd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return s=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==s&&(s(),s=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==s&&(s(),s=null)}}}function qd(e){this._internalRoot=e}function Wd(e){this._internalRoot=e}Wd.prototype.render=qd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));fd(t.current,qA(),e,t,null,null)},Wd.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fd(e.current,2,null,e,null,null),$A(),t[ze]=null}},Wd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Qd.length&&0!==t&&t<Qd[n].priority;n++);Qd.splice(n,0,e),0===n&&Dd(e)}};var Gd=s.version;if("19.2.0"!==Gd)throw Error(i(527,Gd,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return u(s),e;if(a===r)return u(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,A=s.child;A;){if(A===n){o=!0,n=s,r=a;break}if(A===r){o=!0,r=s,n=a;break}A=A.sibling}if(!o){for(A=a.child;A;){if(A===n){o=!0,n=a,r=s;break}if(A===r){o=!0,r=a,n=s;break}A=A.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Yd={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{ge=Jd.inject(Yd),xe=Jd}catch(Zd){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,r="",s=No,a=jo,l=Co;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=dd(e,1,!1,null,0,n,r,null,s,a,l,Vd),e[ze]=t.current,$c(e),new qd(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var r=!1,s="",a=No,l=jo,A=Co,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(A=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=dd(e,1,!0,t,0,r,s,c,a,l,A,Vd)).context=hd(null),n=t.current,(s=xa(r=Me(r=qA()))).callback=null,ba(n,s,r),n=r,t.current.lanes=n,Ue(t,n),Ic(t),e[ze]=t.current,$c(e),new Wd(t)},t.version="19.2.0"},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8853:(e,t,n)=>{"use strict";e.exports=n(5896)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{453:"abb2a8e2",455:"dfbc8513",977:"45a5b88f"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="fosikafront:";n.l=(r,s,a,i)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==a)for(var A=document.getElementsByTagName("script"),c=0;c<A.length;c++){var u=A[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[s];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(h);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{n.b="undefined"!==typeof document&&document.baseURI||self.location.href;var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var a=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=a);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,s[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,a,[i,o,l]=r,A=0;if(i.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);A<i.length;A++)a=i[A],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkfosikafront=self.webpackChunkfosikafront||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Hn,hasStandardBrowserEnv:()=>zn,hasStandardBrowserWebWorkerEnv:()=>Kn,navigator:()=>Rn,origin:()=>Vn});var t=n(5043),r=n(4391);function s(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var a=n(4980);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const l=["sri"],A=["page"],c=["page","matches"],u=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],h=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var f="popstate";function m(){return w(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return b("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:v(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return o(o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function v(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function y(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function w(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l="POP",A=null,c=u();function u(){return(i.state||{idx:null}).idx}function d(){l="POP";let e=u(),t=null==e?null:e-c;c=e,A&&A({action:l,location:m.location,delta:t})}function h(e){return B(e)}null==c&&(c=0,i.replaceState(o(o({},i.state),{},{idx:c}),""));let m={get action(){return l},get location(){return e(s,i)},listen(e){if(A)throw new Error("A history only accepts one active listener");return s.addEventListener(f,d),A=e,()=>{s.removeEventListener(f,d),A=null}},createHref:e=>t(s,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=b(m.location,e,t);n&&n(r,e),c=u()+1;let o=x(r,c),d=m.createHref(r);try{i.pushState(o,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;s.location.assign(d)}a&&A&&A({action:l,location:m.location,delta:1})},replace:function(e,t){l="REPLACE";let r=b(m.location,e,t);n&&n(r,e),c=u();let s=x(r,c),o=m.createHref(r);i.replaceState(s,"",o),a&&A&&A({action:l,location:m.location,delta:0})},go:e=>i.go(e)};return m}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),p(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:v(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function N(e,t){return j(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function j(e,t,n,r){let s=O(("string"===typeof t?y(t):t).pathname||"/",n);if(null==s)return null;let a=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=T(s);i=M(a[o],e,r)}return i}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;p(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let A=V([r,l.relativePath]),c=n.concat(l);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(A,'".')),C(e.children,t,c,A,i)),(null!=e.path||e.index)&&t.push({path:A,score:I(A,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of k(e.path))a(e,t,!0,r);else a(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=k(r.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var F=/^:[\w-]+$/,S=3,E=2,_=1,U=10,Q=-2,L=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(L)&&(r+=Q),t&&(r+=E),n.filter(e=>!L(e)).reduce((e,t)=>e+(F.test(t)?S:""===t?_:U),r)}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,A="/"===a?t:t.slice(a.length)||"/",c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},A),u=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},A)),!c)return null;Object.assign(s,c.params),i.push({params:s,pathname:V([a,c.pathname]),pathnameBase:q(V([a,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(a=V([a,c.pathnameBase]))}return i}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=P(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function P(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return g(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function z(e){let t=R(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function K(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=y(e):(r=o({},e),p(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),p(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),p(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let a,i=""===e||""===r.pathname,l=i?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?y(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:W(r),hash:G(s)}}(r,a),c=l&&"/"!==l&&l.endsWith("/"),u=(i||"."===l)&&n.endsWith("/");return A.pathname.endsWith("/")||!c&&!u||(A.pathname+="/"),A}var V=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Y(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var J=["POST","PUT","PATCH","DELETE"],X=(new Set(J),["GET",...J]);new Set(X),Symbol("ResetLoaderData");var Z=t.createContext(null);Z.displayName="DataRouter";var $=t.createContext(null);$.displayName="DataRouterState";var ee=t.createContext(!1);var te=t.createContext({isTransitioning:!1});te.displayName="ViewTransition";var ne=t.createContext(new Map);ne.displayName="Fetchers";var re=t.createContext(null);re.displayName="Await";var se=t.createContext(null);se.displayName="Navigation";var ae=t.createContext(null);ae.displayName="Location";var ie=t.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var oe=t.createContext(null);oe.displayName="RouteError";function le(){return null!=t.useContext(ae)}function Ae(){return p(le(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(ae).location}var ce="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ue(e){t.useContext(se).static||t.useLayoutEffect(e)}function de(){let{isDataRoute:e}=t.useContext(ie);return e?function(){let{router:e}=ye("useNavigate"),n=Be("useNavigate"),r=t.useRef(!1);ue(()=>{r.current=!0});let s=t.useCallback(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g(r.current,ce),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,o({fromRouteId:n},s)))},[e,n]);return s}():function(){p(le(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Z),{basename:n,navigator:r}=t.useContext(se),{matches:s}=t.useContext(ie),{pathname:a}=Ae(),i=JSON.stringify(z(s)),o=t.useRef(!1);ue(()=>{o.current=!0});let l=t.useCallback(function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(g(o.current,ce),!o.current)return;if("number"===typeof t)return void r.go(t);let l=K(t,JSON.parse(i),a,"path"===s.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:V([n,l.pathname])),(s.replace?r.replace:r.push)(l,s.state,s)},[n,r,i,a,e]);return l}()}t.createContext(null);function he(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(ie),{pathname:s}=Ae(),a=JSON.stringify(z(r));return t.useMemo(()=>K(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function fe(e,n,r,s,a){p(le(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(se),{matches:l}=t.useContext(ie),A=l[l.length-1],c=A?A.params:{},u=A?A.pathname:"/",d=A?A.pathnameBase:"/",h=A&&A.route;{let e=h&&h.path||"";Ce(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=Ae();if(n){var x;let e="string"===typeof n?y(n):n;p("/"===d||(null===(x=e.pathname)||void 0===x?void 0:x.startsWith(d)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(d,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let b=f.pathname||"/",v=b;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=N(e,{pathname:v});g(h||null!=w,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),g(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let B=be(w&&w.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:V([d,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:V([d,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),l,r,s,a);return n&&B?t.createElement(ae.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},B):B}function me(){let e=Ne(),n=Y(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:i},"ErrorBoundary")," or"," ",t.createElement("code",{style:i},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,o)}var pe=t.createElement(me,null),ge=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(ie.Provider,{value:this.props.routeContext},t.createElement(oe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xe(e){let{routeContext:n,match:r,children:s}=e,a=t.useContext(Z);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ie.Provider,{value:n},s)}function be(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,i=null===r||void 0===r?void 0:r.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));p(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(r)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,A,c)=>{let u,d=!1,h=null,f=null;r&&(u=i&&A.route.id?i[A.route.id]:void 0,h=A.route.errorElement||pe,o&&(l<0&&0===c?(Ce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):l===c&&(d=!0,f=A.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,c+1)),p=()=>{let n;return n=u?h:d?f:A.route.Component?t.createElement(A.route.Component,null):A.route.element?A.route.element:e,t.createElement(xe,{match:A,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(A.route.ErrorBoundary||A.route.errorElement||0===c)?t.createElement(ge,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:s}):p()},null)}function ve(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ye(e){let n=t.useContext(Z);return p(n,ve(e)),n}function we(e){let n=t.useContext($);return p(n,ve(e)),n}function Be(e){let n=function(e){let n=t.useContext(ie);return p(n,ve(e)),n}(e),r=n.matches[n.matches.length-1];return p(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function Ne(){var e;let n=t.useContext(oe),r=we("useRouteError"),s=Be("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[s]}var je={};function Ce(e,t,n){t||je[e]||(je[e]=!0,g(!1,n))}var ke={};function Fe(e,t){e||ke[t]||(ke[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:s}=e;return fe(t,void 0,r,s,n)});function Se(e){let{to:n,replace:r,state:s,relative:a}=e;p(le(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=t.useContext(se);g(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=t.useContext(ie),{pathname:l}=Ae(),A=de(),c=K(n,z(o),l,"path"===a),u=JSON.stringify(c);return t.useEffect(()=>{A(JSON.parse(u),{replace:r,state:s,relative:a})},[A,u,a,r,s]),null}function Ee(e){p(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _e(e){let{basename:n="/",children:r=null,location:s,navigationType:a="POP",navigator:i,static:o=!1}=e;p(!le(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),A=t.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof s&&(s=y(s));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=s,m=t.useMemo(()=>{let e=O(c,l);return null==e?null:{location:{pathname:e,search:u,hash:d,state:h,key:f},navigationType:a}},[l,c,u,d,h,f,a]);return g(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(c).concat(u).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(se.Provider,{value:A},t.createElement(ae.Provider,{children:r,value:m}))}function Ue(e){let{children:t,location:n}=e;return fe(Qe(t),n)}t.Component;function Qe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let a=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,Qe(e.props.children,a));p(e.type===Ee,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),p(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Qe(e.props.children,a)),r.push(i)}),r}var Le="get",Ie="application/x-www-form-urlencoded";function Me(e){return null!=e&&"string"===typeof e.tagName}var De=null;var Pe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Te(e){return null==e||Pe.has(e)?e:(g(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ie,'"')),null)}function Oe(e,t){let n,r,s,a,i;if(Me(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?O(i,t):null,n=e.getAttribute("method")||Le,s=Te(e.getAttribute("enctype"))||Ie,a=new FormData(e)}else if(function(e){return Me(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Me(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?O(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Le,s=Te(e.getAttribute("formenctype"))||Te(i.getAttribute("enctype"))||Ie,a=new FormData(i,e),!function(){if(null===De)try{new FormData(document.createElement("form"),0),De=!1}catch(e){De=!0}return De}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(Me(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Le,r=null,s=Ie,i=e}var o;return a&&"text/plain"===s&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Re(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===O(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function ze(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ke(e){return null!=e&&"string"===typeof e.page}function Ve(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,s,a){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var A;let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(A=n[0])||void 0===A?void 0:A.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function We(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1),[...new Set(r)];var r}function Ge(e,t){let n=new Set,r=new Set(t);return e.reduce((e,s)=>{if(t&&!Ke(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(a)||(n.add(a),e.push({key:a,link:s})),e},[])}function Ye(e,t){return"lazy"===e.mode&&!0===t}function Je(){let e=t.useContext(Z);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xe(){let e=t.useContext($);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ze=t.createContext(void 0);function $e(){let e=t.useContext(Ze);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function et(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tt(e,t,n){if(n&&!at)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Ze.displayName="FrameworkContext";function nt(e){let{page:n}=e,r=s(e,A),{router:a}=Je(),i=t.useMemo(()=>N(a.routes,n,a.basename),[a.routes,n,a.basename]);return i?t.createElement(st,o({page:n,matches:i},r)):null}function rt(e){let{manifest:n,routeModules:r}=$e(),[s,a]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await ze(r,n);return e.links?e.links():[]}return[]}));return Ge(r.flat(1).filter(Ve).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?o(o({},e),{},{rel:"prefetch",as:"style"}):o(o({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||a(e)}),()=>{t=!0}},[e,n,r]),s}function st(e){let{page:n,matches:r}=e,a=s(e,c),i=Ae(),{manifest:l,routeModules:A}=$e(),{basename:u}=Je(),{loaderData:d,matches:h}=Xe(),f=t.useMemo(()=>qe(n,r,h,l,i,"data"),[n,r,h,l,i]),m=t.useMemo(()=>qe(n,r,h,l,i,"assets"),[n,r,h,l,i]),p=t.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let s=l.routes[n.route.id];s&&s.hasLoader&&(!f.some(e=>e.route.id===n.route.id)&&n.route.id in d&&null!==(r=A[n.route.id])&&void 0!==r&&r.shouldRevalidate||s.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let s=Re(n,u,"data");return t&&e.size>0&&s.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[u,d,i,l,f,r,n,A]),g=t.useMemo(()=>We(m,l),[m,l]),x=rt(m);return t.createElement(t.Fragment,null,p.map(e=>t.createElement("link",o({key:e,rel:"prefetch",as:"fetch",href:e},a))),g.map(e=>t.createElement("link",o({key:e,rel:"modulepreload",href:e},a))),x.map(e=>{let{key:n,link:r}=e;return t.createElement("link",o({key:n,nonce:a.nonce},r))}))}var at=!1;function it(e){let{manifest:n,serverHandoffString:r,isSpaMode:a,renderMeta:i,routeDiscovery:A,ssr:c}=$e(),{router:u,static:d,staticContext:h}=Je(),{matches:f}=Xe(),m=t.useContext(ee),p=Ye(A,c);i&&(i.didRenderScripts=!0);let g=tt(f,null,a);t.useEffect(()=>{0},[]);let x=t.useMemo(()=>{var a;if(m)return null;let i=h?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",A=d?"".concat(null!==n.hmr&&void 0!==a&&a.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(p?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(g.map((e,t)=>{let r="route".concat(t),s=n.routes[e.route.id];He(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:A}=s,c=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:A,varName:"".concat(r,"_main")}];return 1===c.length?"import * as ".concat(r," from ").concat(JSON.stringify(A),";"):[c.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(c.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(p?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=s(e,l),a=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),A=["/"];for(i.pop();i.length>0;)A.push("/".concat(i.join("/"))),i.pop();A.forEach(e=>{let n=N(t.routes,e,t.basename);n&&n.forEach(e=>a.add(e.route.id))});let c=[...a].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return o(o({},r),{},{routes:c,sri:!!n||void 0})}(n,u),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(g.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",o(o({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:void 0})),t.createElement("script",o(o({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:A},type:"module",async:!0})))},[]),b=at||m?[]:(n.entry.imports.concat(We(g,n,{includeHydrateFallback:!0})),[...new Set(v)]);var v;let y="object"===typeof n.sri?n.sri:{};return Fe(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),at||m?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,p?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:y[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:y[n.entry.module],suppressHydrationWarning:!0}),b.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:y[n],suppressHydrationWarning:!0})),x)}function ot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function lt(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let s,a=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Y(n))return t.createElement(At,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(At,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),a)}function At(e){var n;let{title:r,renderScripts:s,isOutsideRemixApp:a,children:i}=e,{routeModules:o}=$e();return null!==o.root&&void 0!==n&&n.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,s?t.createElement(it,null):null)))}var ct="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ct&&(window.__reactRouterVersion="7.9.5")}catch(NN){}function ut(e){let{basename:n,children:r,window:s}=e,a=t.useRef();null==a.current&&(a.current=m({window:s,v5Compat:!0}));let i=a.current,[o,l]=t.useState({action:i.action,location:i.location}),A=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>i.listen(A),[i,A]),t.createElement(_e,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:i})}var dt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=t.forwardRef(function(e,n){let r,{onClick:a,discover:i="render",prefetch:l="none",relative:A,reloadDocument:c,replace:d,state:h,target:f,to:m,preventScrollReset:x,viewTransition:b}=e,y=s(e,u),{basename:w}=t.useContext(se),B="string"===typeof m&&dt.test(m),N=!1;if("string"===typeof m&&B&&(r=m,ct))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=O(t.pathname,w);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:N=!0}catch(NN){g(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let j=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(le(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=t.useContext(se),{hash:a,pathname:i,search:o}=he(e,{relative:n}),l=i;return"/"!==r&&(l="/"===i?r:V([r,i])),s.createHref({pathname:l,search:o,hash:a})}(m,{relative:A}),[C,k,F]=function(e,n){let r=t.useContext(Ze),[s,a]=t.useState(!1),[i,o]=t.useState(!1),{onFocus:l,onBlur:A,onMouseEnter:c,onMouseLeave:u,onTouchStart:d}=n,h=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(s){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[s]);let f=()=>{a(!0)},m=()=>{a(!1),o(!1)};return r?"intent"!==e?[i,h,{}]:[i,h,{onFocus:et(l,f),onBlur:et(A,m),onMouseEnter:et(c,f),onMouseLeave:et(u,m),onTouchStart:et(d,f)}]:[!1,h,{}]}(l,y),S=function(e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=de(),A=Ae(),c=he(e,{relative:i});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:v(A)===v(c);l(e,{replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[A,l,c,r,s,n,e,a,i,o])}(m,{replace:d,state:h,target:f,preventScrollReset:x,relative:A,viewTransition:b});let E=t.createElement("a",o(o(o({},y),F),{},{href:r||j,onClick:N||c?a:function(e){a&&a(e),e.defaultPrevented||S(e)},ref:ot(n,k),target:f,"data-discover":B||"render"!==i?void 0:"true"}));return C&&!B?t.createElement(t.Fragment,null,E,t.createElement(nt,{page:j})):E});ht.displayName="Link";var ft=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:l=!1,style:A,to:c,viewTransition:u,children:h}=e,f=s(e,d),m=he(c,{relative:f.relative}),g=Ae(),x=t.useContext($),{navigator:b,basename:v}=t.useContext(se),y=null!=x&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(te);p(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gt("useViewTransitionState"),a=he(e,{relative:n});if(!r.isTransitioning)return!1;let i=O(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=O(r.nextLocation.pathname,s)||r.nextLocation.pathname;return null!=D(a.pathname,o)||null!=D(a.pathname,i)}(m)&&!0===u,w=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,B=g.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(B=B.toLowerCase(),N=N?N.toLowerCase():null,w=w.toLowerCase()),N&&v&&(N=O(N,v)||N);const j="/"!==w&&w.endsWith("/")?w.length-1:w.length;let C,k=B===w||!l&&B.startsWith(w)&&"/"===B.charAt(j),F=null!=N&&(N===w||!l&&N.startsWith(w)&&"/"===N.charAt(w.length)),S={isActive:k,isPending:F,isTransitioning:y},E=k?r:void 0;C="function"===typeof i?i(S):[i,k?"active":null,F?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let _="function"===typeof A?A(S):A;return t.createElement(ht,o(o({},f),{},{"aria-current":E,className:C,ref:n,style:_,to:c,viewTransition:u}),"function"===typeof h?h(S):h)});ft.displayName="NavLink";var mt=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:a,navigate:i,reloadDocument:l,replace:A,state:c,method:u=Le,action:d,onSubmit:f,relative:m,preventScrollReset:g,viewTransition:x}=e,b=s(e,h),y=vt(),w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(se),s=t.useContext(ie);p(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i=o({},he(e||".",{relative:n})),l=Ae();if(null==e){i.search=l.search;let e=new URLSearchParams(i.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(i.pathname="/"===i.pathname?r:V([r,i.pathname]));return v(i)}(d,{relative:m}),B="get"===u.toLowerCase()?"get":"post",N="string"===typeof d&&dt.test(d);return t.createElement("form",o(o({ref:n,method:B,action:w,onSubmit:l?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;y(t||e.currentTarget,{fetcherKey:a,method:n,navigate:i,replace:A,state:c,relative:m,preventScrollReset:g,viewTransition:x})}},b),{},{"data-discover":N||"render"!==r?void 0:"true"}))});function pt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function gt(e){let n=t.useContext(Z);return p(n,pt(e)),n}mt.displayName="Form";var xt=0,bt=()=>"__".concat(String(++xt),"__");function vt(){let{router:e}=gt("useSubmit"),{basename:n}=t.useContext(se),r=Be("useRouteId");return t.useCallback(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:i,encType:o,formData:l,body:A}=Oe(t,n);if(!1===s.navigate){let t=s.fetcherKey||bt();await e.fetch(t,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:A,formMethod:s.method||i,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:A,formMethod:s.method||i,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,n,r])}const yt=n.p+"static/media/Asset 10.08d5c67998f7ebd7e92f.png";var wt=n(579);const Bt=()=>{const[e,n]=(0,t.useState)(0),r=de();return(0,t.useEffect)(()=>{let e=0;const t=()=>{e+=1,n(e),e>=100?r("/signalement"):setTimeout(t,30)};t()},[r]),(0,wt.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,wt.jsx)("img",{src:yt,alt:"Background",className:"fixed inset-0 w-full h-full object-contain object-center pointer-events-none",style:{width:"60vw",margin:"0 auto"}}),(0,wt.jsxs)("div",{className:"absolute left-1/2 bottom-16 transform -translate-x-1/2 flex flex-col items-center z-10",children:[(0,wt.jsx)("div",{className:"text-[#0e224f] font-bold text-2xl mb-2",children:"FOSIKA"}),(0,wt.jsx)("div",{className:"w-56 h-3 bg-[#c5cad5] rounded-lg overflow-hidden mb-2 shadow-lg",children:(0,wt.jsx)("div",{className:"h-full bg-[#203355] rounded-l-lg transition-all duration-300 ease-in-out",style:{width:"".concat(e,"%")}})}),(0,wt.jsxs)("div",{className:"text-[#d32c2c] font-bold text-xl",children:[e,"%"]})]})]})},Nt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},jt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Ct={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kt=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Ft=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:A="",children:c,iconNode:u}=e,d=s(e,kt);return(0,t.createElement)("svg",o(o(o({ref:n},Ct),{},{width:a,height:a,stroke:r,strokeWidth:l?24*Number(i)/Number(a):i,className:jt("lucide",A)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...u.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(c)?c:[c]])}),St=["className"],Et=(e,n)=>{const r=(0,t.forwardRef)((r,a)=>{let{className:i}=r,l=s(r,St);return(0,t.createElement)(Ft,o({ref:a,iconNode:n,className:jt("lucide-".concat((A=Nt(e),A.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},l));var A});return r.displayName=Nt(e),r},_t=Et("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ut=Et("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Qt=Et("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Lt=Et("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function It(e,t){return function(){return e.apply(t,arguments)}}const{toString:Mt}=Object.prototype,{getPrototypeOf:Dt}=Object,{iterator:Pt,toStringTag:Tt}=Symbol,Ot=(Ht=Object.create(null),e=>{const t=Mt.call(e);return Ht[t]||(Ht[t]=t.slice(8,-1).toLowerCase())});var Ht;const Rt=e=>(e=e.toLowerCase(),t=>Ot(t)===e),zt=e=>t=>typeof t===e,{isArray:Kt}=Array,Vt=zt("undefined");function qt(e){return null!==e&&!Vt(e)&&null!==e.constructor&&!Vt(e.constructor)&&Yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Wt=Rt("ArrayBuffer");const Gt=zt("string"),Yt=zt("function"),Jt=zt("number"),Xt=e=>null!==e&&"object"===typeof e,Zt=e=>{if("object"!==Ot(e))return!1;const t=Dt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Tt in e)&&!(Pt in e)},$t=Rt("Date"),en=Rt("File"),tn=Rt("Blob"),nn=Rt("FileList"),rn=Rt("URLSearchParams"),[sn,an,on,ln]=["ReadableStream","Request","Response","Headers"].map(Rt);function An(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Kt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(qt(e))return;const r=s?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(n=0;n<a;n++)i=r[n],t.call(null,e[i],i,e)}}function cn(e,t){if(qt(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const un="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,dn=e=>!Vt(e)&&e!==un;const hn=(fn="undefined"!==typeof Uint8Array&&Dt(Uint8Array),e=>fn&&e instanceof fn);var fn;const mn=Rt("HTMLFormElement"),pn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),gn=Rt("RegExp"),xn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};An(n,(n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)}),Object.defineProperties(e,r)};const bn=Rt("AsyncFunction"),vn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],un.addEventListener("message",e=>{let{source:t,data:s}=e;t===un&&s===n&&r.length&&r.shift()()},!1),e=>{r.push(e),un.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Yt(un.postMessage)),yn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(un):"undefined"!==typeof process&&process.nextTick||vn,wn={isArray:Kt,isArrayBuffer:Wt,isBuffer:qt,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Yt(e.append)&&("formdata"===(t=Ot(e))||"object"===t&&Yt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Wt(e.buffer),t},isString:Gt,isNumber:Jt,isBoolean:e=>!0===e||!1===e,isObject:Xt,isPlainObject:Zt,isEmptyObject:e=>{if(!Xt(e)||qt(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(NN){return!1}},isReadableStream:sn,isRequest:an,isResponse:on,isHeaders:ln,isUndefined:Vt,isDate:$t,isFile:en,isBlob:tn,isRegExp:gn,isFunction:Yt,isStream:e=>Xt(e)&&Yt(e.pipe),isURLSearchParams:rn,isTypedArray:hn,isFileList:nn,forEach:An,merge:function e(){const{caseless:t,skipUndefined:n}=dn(this)&&this||{},r={},s=(s,a)=>{const i=t&&cn(r,a)||a;Zt(r[i])&&Zt(s)?r[i]=e(r[i],s):Zt(s)?r[i]=e({},s):Kt(s)?r[i]=s.slice():n&&Vt(s)||(r[i]=s)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&An(arguments[a],s);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return An(t,(t,r)=>{n&&Yt(t)?e[r]=It(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,i;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&Dt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ot,kindOfTest:Rt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Kt(e))return e;let t=e.length;if(!Jt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Pt]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:mn,hasOwnProperty:pn,hasOwnProp:pn,reduceDescriptors:xn,freezeMethods:e=>{xn(e,(t,n)=>{if(Yt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Yt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Kt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:cn,global:un,isContextDefined:dn,isSpecCompliantForm:function(e){return!!(e&&Yt(e.append)&&"FormData"===e[Tt]&&e[Pt])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Xt(e)){if(t.indexOf(e)>=0)return;if(qt(e))return e;if(!("toJSON"in e)){t[r]=e;const s=Kt(e)?[]:{};return An(e,(e,t)=>{const a=n(e,r+1);!Vt(a)&&(s[t]=a)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:bn,isThenable:e=>e&&(Xt(e)||Yt(e))&&Yt(e.then)&&Yt(e.catch),setImmediate:vn,asap:yn,isIterable:e=>null!=e&&Yt(e[Pt])};function Bn(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}wn.inherits(Bn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wn.toJSONObject(this.config),code:this.code,status:this.status}}});const Nn=Bn.prototype,jn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jn[e]={value:e}}),Object.defineProperties(Bn,jn),Object.defineProperty(Nn,"isAxiosError",{value:!0}),Bn.from=(e,t,n,r,s,a)=>{const i=Object.create(Nn);wn.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Bn.call(i,o,l,n,r,s),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const Cn=Bn;function kn(e){return wn.isPlainObject(e)||wn.isArray(e)}function Fn(e){return wn.endsWith(e,"[]")?e.slice(0,-2):e}function Sn(e,t,n){return e?e.concat(t).map(function(e,t){return e=Fn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const En=wn.toFlatObject(wn,{},null,function(e){return/^is[A-Z]/.test(e)});const _n=function(e,t,n){if(!wn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=wn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!wn.isUndefined(t[e])})).metaTokens,s=n.visitor||A,a=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&wn.isSpecCompliantForm(t);if(!wn.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(wn.isDate(e))return e.toISOString();if(wn.isBoolean(e))return e.toString();if(!o&&wn.isBlob(e))throw new Cn("Blob is not supported. Use a Buffer instead.");return wn.isArrayBuffer(e)||wn.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function A(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(wn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(wn.isArray(e)&&function(e){return wn.isArray(e)&&!e.some(kn)}(e)||(wn.isFileList(e)||wn.endsWith(n,"[]"))&&(o=wn.toArray(e)))return n=Fn(n),o.forEach(function(e,r){!wn.isUndefined(e)&&null!==e&&t.append(!0===i?Sn([n],r,a):null===i?n:n+"[]",l(e))}),!1;return!!kn(e)||(t.append(Sn(s,n,a),l(e)),!1)}const c=[],u=Object.assign(En,{defaultVisitor:A,convertValue:l,isVisitable:kn});if(!wn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!wn.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),wn.forEach(n,function(n,a){!0===(!(wn.isUndefined(n)||null===n)&&s.call(t,n,wn.isString(a)?a.trim():a,r,u))&&e(n,r?r.concat(a):[a])}),c.pop()}}(e),t};function Un(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Qn(e,t){this._pairs=[],e&&_n(e,this,t)}const Ln=Qn.prototype;Ln.append=function(e,t){this._pairs.push([e,t])},Ln.toString=function(e){const t=e?function(t){return e.call(this,t,Un)}:Un;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const In=Qn;function Mn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Dn(e,t,n){if(!t)return e;const r=n&&n.encode||Mn;wn.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):wn.isURLSearchParams(t)?t.toString():new In(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Pn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){wn.forEach(this.handlers,function(t){null!==t&&e(t)})}},Tn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},On={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:In,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Hn="undefined"!==typeof window&&"undefined"!==typeof document,Rn="object"===typeof navigator&&navigator||void 0,zn=Hn&&(!Rn||["ReactNative","NativeScript","NS"].indexOf(Rn.product)<0),Kn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Vn=Hn&&window.location.href||"http://localhost",qn=o(o({},e),On);const Wn=function(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=s>=e.length;if(a=!a&&wn.isArray(r)?r.length:a,o)return wn.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i;r[a]&&wn.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&wn.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i}if(wn.isFormData(e)&&wn.isFunction(e.entries)){const n={};return wn.forEachEntry(e,(e,r)=>{t(function(e){return wn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Gn={transitional:Tn,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=wn.isObject(e);s&&wn.isHTMLForm(e)&&(e=new FormData(e));if(wn.isFormData(e))return r?JSON.stringify(Wn(e)):e;if(wn.isArrayBuffer(e)||wn.isBuffer(e)||wn.isStream(e)||wn.isFile(e)||wn.isBlob(e)||wn.isReadableStream(e))return e;if(wn.isArrayBufferView(e))return e.buffer;if(wn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return _n(e,new qn.classes.URLSearchParams,o({visitor:function(e,t,n,r){return qn.isNode&&wn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=wn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return _n(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(wn.isString(e))try{return(t||JSON.parse)(e),wn.trim(e)}catch(NN){if("SyntaxError"!==NN.name)throw NN}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Gn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(wn.isResponse(e)||wn.isReadableStream(e))return e;if(e&&wn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(NN){if(n){if("SyntaxError"===NN.name)throw Cn.from(NN,Cn.ERR_BAD_RESPONSE,this,null,this.response);throw NN}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wn.forEach(["delete","get","head","post","put","patch"],e=>{Gn.headers[e]={}});const Yn=Gn,Jn=wn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xn=Symbol("internals");function Zn(e){return e&&String(e).trim().toLowerCase()}function $n(e){return!1===e||null==e?e:wn.isArray(e)?e.map($n):String(e)}function er(e,t,n,r,s){return wn.isFunction(r)?r.call(this,t,n):(s&&(t=n),wn.isString(t)?wn.isString(r)?-1!==t.indexOf(r):wn.isRegExp(r)?r.test(t):void 0:void 0)}class tr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Zn(t);if(!s)throw new Error("header name must be a non-empty string");const a=wn.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=$n(e))}const a=(e,t)=>wn.forEach(e,(e,n)=>s(e,n,t));if(wn.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(wn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Jn[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(wn.isObject(e)&&wn.isIterable(e)){let n,r,s={};for(const t of e){if(!wn.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?wn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Zn(e)){const n=wn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(wn.isFunction(t))return t.call(this,e,n);if(wn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zn(e)){const n=wn.findKey(this,e);return!(!n||void 0===this[n]||t&&!er(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Zn(e)){const s=wn.findKey(n,e);!s||t&&!er(0,n[s],s,t)||(delete n[s],r=!0)}}return wn.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!er(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return wn.forEach(this,(r,s)=>{const a=wn.findKey(n,s);if(a)return t[a]=$n(r),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();i!==s&&delete t[s],t[i]=$n(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return wn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&wn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Xn]=this[Xn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Zn(e);t[r]||(!function(e,t){const n=wn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return wn.isArray(e)?e.forEach(r):r(e),this}}tr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),wn.reduceDescriptors(tr.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),wn.freezeMethods(tr);const nr=tr;function rr(e,t){const n=this||Yn,r=t||n,s=nr.from(r.headers);let a=r.data;return wn.forEach(e,function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function sr(e){return!(!e||!e.__CANCEL__)}function ar(e,t,n){Cn.call(this,null==e?"canceled":e,Cn.ERR_CANCELED,t,n),this.name="CanceledError"}wn.inherits(ar,Cn,{__CANCEL__:!0});const ir=ar;function or(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Cn("Request failed with status code "+n.status,[Cn.ERR_BAD_REQUEST,Cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const lr=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),A=r[i];s||(s=l),n[a]=o,r[a]=l;let c=i,u=0;for(;c!==a;)u+=n[c++],c%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-s<t)return;const d=A&&l-A;return d?Math.round(1e3*u/d):void 0}};const Ar=function(e,t){let n,r,s=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),A=0;A<o;A++)l[A]=arguments[A];t>=a?i(l,e):(n=l,r||(r=setTimeout(()=>{r=null,i(n)},a-t)))},()=>n&&i(n)]},cr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=lr(50,250);return Ar(n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,o=a-r,l=s(o);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},ur=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},dr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wn.asap(()=>e(...n))},hr=qn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,qn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,fr=qn.hasStandardBrowserEnv?{write(e,t,n,r,s,a,i){if("undefined"===typeof document)return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];wn.isNumber(n)&&o.push("expires=".concat(new Date(n).toUTCString())),wn.isString(r)&&o.push("path=".concat(r)),wn.isString(s)&&o.push("domain=".concat(s)),!0===a&&o.push("secure"),wn.isString(i)&&o.push("SameSite=".concat(i)),document.cookie=o.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function mr(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const pr=e=>e instanceof nr?o({},e):e;function gr(e,t){t=t||{};const n={};function r(e,t,n,r){return wn.isPlainObject(e)&&wn.isPlainObject(t)?wn.merge.call({caseless:r},e,t):wn.isPlainObject(t)?wn.merge({},t):wn.isArray(t)?t.slice():t}function s(e,t,n,s){return wn.isUndefined(t)?wn.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!wn.isUndefined(t))return r(void 0,t)}function i(e,t){return wn.isUndefined(t)?wn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const A={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,n)=>s(pr(e),pr(t),0,!0)};return wn.forEach(Object.keys(o(o({},e),t)),function(r){const a=A[r]||s,i=a(e[r],t[r],r);wn.isUndefined(i)&&a!==l||(n[r]=i)}),n}const xr=e=>{const t=gr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:o}=t;if(t.headers=i=nr.from(i),t.url=Dn(mr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),wn.isFormData(n))if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(wn.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&i.set(n,r)})}if(qn.hasStandardBrowserEnv&&(r&&wn.isFunction(r)&&(r=r(t)),r||!1!==r&&hr(t.url))){const e=s&&a&&fr.read(a);e&&i.set(s,e)}return t},br="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=xr(e);let s=r.data;const a=nr.from(r.headers).normalize();let i,o,l,A,c,{responseType:u,onUploadProgress:d,onDownloadProgress:h}=r;function f(){A&&A(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function p(){if(!m)return;const r=nr.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());or(function(e){t(e),f()},function(e){n(e),f()},{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=p:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(p)},m.onabort=function(){m&&(n(new Cn("Request aborted",Cn.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",s=new Cn(r,Cn.ERR_NETWORK,e,m);s.event=t||null,n(s),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||Tn;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Cn(t,s.clarifyTimeoutError?Cn.ETIMEDOUT:Cn.ECONNABORTED,e,m)),m=null},void 0===s&&a.setContentType(null),"setRequestHeader"in m&&wn.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),wn.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),h&&([l,c]=cr(h,!0),m.addEventListener("progress",l)),d&&m.upload&&([o,A]=cr(d),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",A)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new ir(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===qn.protocols.indexOf(g)?n(new Cn("Unsupported protocol "+g+":",Cn.ERR_BAD_REQUEST,e)):m.send(s||null)})},vr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Cn?t:new ir(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,s(new Cn("timeout ".concat(t," of ms exceeded"),Cn.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>wn.asap(i),o}};function yr(e,t){this.v=e,this.k=t}function wr(e){return function(){return new Br(e.apply(this,arguments))}}function Br(e){var t,n;function r(t,n){try{var a=e[t](n),i=a.value,o=i instanceof yr;Promise.resolve(o?i.v:i).then(function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}s(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise(function(a,i){var o={key:e,arg:s,resolve:a,reject:i,next:null};n?n=n.next=o:(t=n=o,r(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function Nr(e){return new yr(e,0)}function jr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new yr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Cr(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new kr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function kr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return kr=function(e){this.s=e,this.n=e.next},kr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new kr(e)}Br.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Br.prototype.next=function(e){return this._invoke("next",e)},Br.prototype.throw=function(e){return this._invoke("throw",e)},Br.prototype.return=function(e){return this._invoke("return",e)};const Fr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},Sr=function(){var e=wr(function*(e,t){var n,r=!1,s=!1;try{for(var a,i=Cr(Er(e));r=!(a=yield Nr(i.next())).done;r=!1){const e=a.value;yield*jr(Cr(Fr(e,t)))}}catch(o){s=!0,n=o}finally{try{r&&null!=i.return&&(yield Nr(i.return()))}finally{if(s)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Er=function(){var e=wr(function*(e){if(e[Symbol.asyncIterator])return void(yield*jr(Cr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Nr(t.read());if(e)break;yield n}}finally{yield Nr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),_r=(e,t,n,r)=>{const s=Sr(e,t);let a,i=0,o=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},{isFunction:Ur}=wn,Qr=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(wn.global),{ReadableStream:Lr,TextEncoder:Ir}=wn.global,Mr=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(NN){return!1}},Dr=e=>{e=wn.merge.call({skipUndefined:!0},Qr,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ur(t):"function"===typeof fetch,a=Ur(n),i=Ur(r);if(!s)return!1;const l=s&&Ur(Lr),A=s&&("function"===typeof Ir?(e=>t=>e.encode(t))(new Ir):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=a&&l&&Mr(()=>{let e=!1;const t=new n(qn.origin,{body:new Lr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&l&&Mr(()=>wn.isReadableStream(new r("").body)),d={stream:u&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!d[e]&&(d[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Cn("Response type '".concat(e,"' is not supported"),Cn.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const r=wn.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(wn.isBlob(e))return e.size;if(wn.isSpecCompliantForm(e)){const t=new n(qn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return wn.isArrayBufferView(e)||wn.isArrayBuffer(e)?e.byteLength:(wn.isURLSearchParams(e)&&(e+=""),wn.isString(e)?(await A(e)).byteLength:void 0)})(t):r};return async e=>{let{url:s,method:i,data:l,signal:A,cancelToken:f,timeout:m,onDownloadProgress:p,onUploadProgress:g,responseType:x,headers:b,withCredentials:v="same-origin",fetchOptions:y}=xr(e),w=t||fetch;x=x?(x+"").toLowerCase():"text";let B=vr([A,f&&f.toAbortSignal()],m),N=null;const j=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let C;try{if(g&&c&&"get"!==i&&"head"!==i&&0!==(C=await h(b,l))){let e,t=new n(s,{method:"POST",body:l,duplex:"half"});if(wn.isFormData(l)&&(e=t.headers.get("content-type"))&&b.setContentType(e),t.body){const[e,n]=ur(C,cr(dr(g)));l=_r(t.body,65536,e,n)}}wn.isString(v)||(v=v?"include":"omit");const t=a&&"credentials"in n.prototype,A=o(o({},y),{},{signal:B,method:i.toUpperCase(),headers:b.normalize().toJSON(),body:l,duplex:"half",credentials:t?v:void 0});N=a&&new n(s,A);let f=await(a?w(N,y):w(s,A));const m=u&&("stream"===x||"response"===x);if(u&&(p||m&&j)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=f[t]});const t=wn.toFiniteNumber(f.headers.get("content-length")),[n,s]=p&&ur(t,cr(dr(p),!0))||[];f=new r(_r(f.body,65536,n,()=>{s&&s(),j&&j()}),e)}x=x||"text";let k=await d[wn.findKey(d,x)||"text"](f,e);return!m&&j&&j(),await new Promise((t,n)=>{or(t,n,{data:k,headers:nr.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:N})})}catch(k){if(j&&j(),k&&"TypeError"===k.name&&/Load failed|fetch/i.test(k.message))throw Object.assign(new Cn("Network Error",Cn.ERR_NETWORK,e,N),{cause:k.cause||k});throw Cn.from(k,k&&k.code,e,N)}}},Pr=new Map,Tr=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let i,o,l=a.length,A=Pr;for(;l--;)i=a[l],o=A.get(i),void 0===o&&A.set(i,o=l?new Map:Dr(t)),A=o;return o},Or=(Tr(),{http:null,xhr:br,fetch:{get:Tr}});wn.forEach(Or,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(NN){}Object.defineProperty(e,"adapterName",{value:t})}});const Hr=e=>"- ".concat(e),Rr=e=>wn.isFunction(e)||null===e||!1===e;const zr={getAdapter:function(e,t){e=wn.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let i=0;i<n;i++){let n;if(r=e[i],s=r,!Rr(r)&&(s=Or[(n=String(r)).toLowerCase()],void 0===s))throw new Cn("Unknown adapter '".concat(n,"'"));if(s&&(wn.isFunction(s)||(s=s.get(t))))break;a[n||"#"+i]=s}if(!s){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Hr).join("\n"):" "+Hr(e[0]):"as no adapter specified";throw new Cn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return s},adapters:Or};function Kr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ir(null,e)}function Vr(e){Kr(e),e.headers=nr.from(e.headers),e.data=rr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return zr.getAdapter(e.adapter||Yn.adapter,e)(e).then(function(t){return Kr(e),t.data=rr.call(e,e.transformResponse,t),t.headers=nr.from(t.headers),t},function(t){return sr(t)||(Kr(e),t&&t.response&&(t.response.data=rr.call(e,e.transformResponse,t.response),t.response.headers=nr.from(t.response.headers))),Promise.reject(t)})}const qr="1.13.2",Wr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Wr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Gr={};Wr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+qr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new Cn(r(s," has been removed"+(t?" in "+t:"")),Cn.ERR_DEPRECATED);return t&&!Gr[s]&&(Gr[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},Wr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Yr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Cn("options must be an object",Cn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new Cn("option "+a+" must be "+n,Cn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Cn("Unknown option "+a,Cn.ERR_BAD_OPTION)}},validators:Wr},Jr=Yr.validators;class Xr{constructor(e){this.defaults=e||{},this.interceptors={request:new Pn,response:new Pn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(NN){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=gr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Yr.assertOptions(n,{silentJSONParsing:Jr.transitional(Jr.boolean),forcedJSONParsing:Jr.transitional(Jr.boolean),clarifyTimeoutError:Jr.transitional(Jr.boolean)},!1),null!=r&&(wn.isFunction(r)?t.paramsSerializer={serialize:r}:Yr.assertOptions(r,{encode:Jr.function,serialize:Jr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Yr.assertOptions(t,{baseUrl:Jr.spelling("baseURL"),withXsrfToken:Jr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&wn.merge(s.common,s[t.method]);s&&wn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=nr.concat(a,s);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let A;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,u=0;if(!o){const e=[Vr.bind(this),void 0];for(e.unshift(...i),e.push(...l),c=e.length,A=Promise.resolve(t);u<c;)A=A.then(e[u++],e[u++]);return A}c=i.length;let d=t;for(;u<c;){const e=i[u++],t=i[u++];try{d=e(d)}catch(h){t.call(this,h);break}}try{A=Vr.call(this,d)}catch(h){return Promise.reject(h)}for(u=0,c=l.length;u<c;)A=A.then(l[u++],l[u++]);return A}getUri(e){return Dn(mr((e=gr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}wn.forEach(["delete","get","head","options"],function(e){Xr.prototype[e]=function(t,n){return this.request(gr(n||{},{method:e,url:t,data:(n||{}).data}))}}),wn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(gr(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Xr.prototype[e]=t(),Xr.prototype[e+"Form"]=t(!0)});const Zr=Xr;class $r{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new ir(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new $r(function(t){e=t});return{token:t,cancel:e}}}const es=$r;const ts={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ts).forEach(e=>{let[t,n]=e;ts[n]=t});const ns=ts;const rs=function e(t){const n=new Zr(t),r=It(Zr.prototype.request,n);return wn.extend(r,Zr.prototype,n,{allOwnKeys:!0}),wn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(gr(t,n))},r}(Yn);rs.Axios=Zr,rs.CanceledError=ir,rs.CancelToken=es,rs.isCancel=sr,rs.VERSION=qr,rs.toFormData=_n,rs.AxiosError=Cn,rs.Cancel=rs.CanceledError,rs.all=function(e){return Promise.all(e)},rs.spread=function(e){return function(t){return e.apply(null,t)}},rs.isAxiosError=function(e){return wn.isObject(e)&&!0===e.isAxiosError},rs.mergeConfig=gr,rs.AxiosHeaders=nr,rs.formToJSON=e=>Wn(wn.isHTMLForm(e)?new FormData(e):e),rs.getAdapter=zr.getAdapter,rs.HttpStatusCode=ns,rs.default=rs;const ss="https://fosika.mesupres.edu.mg",as=rs.create({baseURL:ss+"/api",timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});as.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),as.interceptors.response.use(e=>e,e=>{var t,n,r,s,a,i,l,A,c,u,d;401===(null===(t=e.response)||void 0===t?void 0:t.status)&&console.error("\u274c [Axios] 401 d\xe9tect\xe9:",{url:null===(a=e.config)||void 0===a?void 0:a.url,method:null===(i=e.config)||void 0===i||null===(l=i.method)||void 0===l?void 0:l.toUpperCase(),message:null===(A=e.response)||void 0===A||null===(c=A.data)||void 0===c?void 0:c.message,fullUrl:(null===(u=e.config)||void 0===u?void 0:u.baseURL)+(null===(d=e.config)||void 0===d?void 0:d.url)});if(403===(null===(n=e.response)||void 0===n?void 0:n.status)&&null!==(r=e.response.data)&&void 0!==r&&r.requires_2fa){console.log("\ud83d\udd10 [Axios] 2FA Requise -> Redirection");const t=window.location.pathname;return"/two-factor-verify"!==t&&"/login"!==t&&sessionStorage.setItem("redirect_after_2fa",t),window.location.href="/two-factor-verify",Promise.reject(o(o({},e),{},{handled:!0}))}if(401===(null===(s=e.response)||void 0===s?void 0:s.status)){var h;if("/login"===window.location.pathname)return Promise.reject(e);const t=["/check-auth","/auth/check","/auth/user","/debug/token-info"],n=(null===(h=e.config)||void 0===h?void 0:h.url)||"";return t.some(e=>n.includes(e))?(console.warn("\u26a0\ufe0f [Axios] 401 sur route safe:",n,"- pas de logout"),Promise.reject(e)):(console.warn("\u26a0\ufe0f [Axios] Token invalide (401) sur:",n,"-> Logout"),localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("just_logged_in"),window.location.href="/login",Promise.reject(e))}return Promise.reject(e)});const is=as,os=n.p+"static/media/logo rep.01c5e0826e38a3144f38.png",ls=n.p+"static/media/logo mesupres.a40be1ba808f67aa528a.png",As=n.p+"static/media/logo fosika.ce51ba6ae78da54e97f1.png",cs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAACXBIWXMAAAsSAAALEgHS3X78AAABlUlEQVQ4jWP8//8/AzbQqp6g5xxhlaproWLLyMrCySgkKPb/3ftX/3//+f7/3fsz38tba0SfnHuBTS+GoW3qCfI3WIT2nmKTUN421ZNBxkQdq6UflSxA1EYGBoYC0SfnHiDLMSFz6jWSw9dyqt4HGYjVJEzgz8DAcOG1jFEAVkNBBm7hUFr+lZGVkUgDYYCfgYFh/WsZIwcUQ0Fe3scut4QMA5HBhtcyRgJwQx8z8y58zcTJQoGBDFAXT4AbeoVVxJpCA2Eg4LWMEQ+LhmEXDwPlroQBkGtVQC7loJKBMGAAMpSHyoaCw/THUDD0DtON82UfuP//xl4AkGsoiNT+/fYelQzcCCpkwIaq/nmfQCXXNjDAEn/tzflHHH4+nkehgYWiT85dYEAuUHqvz0jx/nFvLpkGThR9cm4CjINS9IEMDv5+q1D03/c/RBr2kYGBIVD0ybkCFFFQIY0NF2mkzzk/f8uznz9//kfH385eev9K2jDhlbShADa9OKsTZPC5e5oAAwsLP8OfPx95S7M+4FXMwMAAAMHUunTFOiXrAAAAAElFTkSuQmCC",us="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABYUlEQVQ4jWP8//8/Ax7gAMUC790iohkYGN4yyUg+YOTimsQ3pXUbNm24DExgYGBoYGBgkIcJvJYxQlHAoqvxgUVVqZR3UsscfAYKMDAwbGBgYLBHtwHdQBjgCPLawDupJRDGZ0Iz7AA2w/CBH+u2BXxMKjyPzcAFDAwM+qQYBgO/dh00+FLZ1o5sICjg/ckxDAZ+7j5UwoAUhgS9iisMkQFHhP9ckAsVSA03XODv/UfeMAOpAv5cuyXOBA0/qoD/n78yshBrUNksd6LUgVz4gFoupLqBEtyi35mgSeYjNQyU5BG5CUvYE6hjoFgusoEUudJEQud6qLrHEZiBH6BFFlkAFHaSPKKeIL3IyQZUbCUyMDDMJ8VQKR6xX9Hafu5awsoP0Q0EAVCJA4p1EA0vXHEBcyn9e2JcQk4ww7AZCAKgWAdlR1AQBKCXQoIcfH+UBeRuG4prNVlJG65A0cnAwAAAIHdbTEHyUXkAAAAASUVORK5CYII=";var ds=n(3531);const hs={fr:{welcome:{title:'Bienvenue sur la plateforme de signalement des fraudes acad\xe9miques, faux dipl\xf4mes et harc\xe8lement - "FOSIKA""',subtitle:"Sous l'\xe9gide du MINISTERE DE L'ENSEIGNEMENT SUPERIER ET DE LA RECHERCHE SCIENTIFIQUE (MESUPRES), en partenariat avec le BIANCO, la plateforme FOSIKA s'inscrit dans la volont\xe9 nationale d'assainir le syst\xe8me d'enseignement sup\xe9rieur et de restaurer la confiance du public.",initiative:"Cette initiative permet de signaler en toute confidentialit\xe9 tout cas de :",cases:["Faux dipl\xf4mes utilis\xe9s lors des recrutements,","Faux dipl\xf4mes dans le but d'obtenir la validation d'une candidature ou une \xe9volution dans une carri\xe8re professionnelle,","Dipl\xf4mes et attestations falsifi\xe9s,","Violence sexuelle constat\xe9e."],contribute:"Par vos signalements, vous contribuez \xe0 :",benefits:["Renforcer l'int\xe9grit\xe9 acad\xe9mique,","Promouvoir la transparence institutionnelle,","D\xe9fendre la valeur du m\xe9rite et du savoir."],vigilance:"Votre vigilance est un acte citoyen. Ensemble, prot\xe9geons la cr\xe9dibilit\xe9 de nos universit\xe9s et la dignit\xe9 de notre syst\xe8me \xe9ducatif.",slogan:"Op\xe9ration FOSIKA : assainir, prot\xe9ger, refonder.",submitBtn:"SOUMETTRE UN SIGNALEMENT"},choice:{title:"CHOISISSEZ",anonymous:"Anonyme",identified:"Je m'identifie",back:"RETOUR"},proof:{title:"PREUVES DISPONIBLES",question:"Avez-vous des preuves \xe0 joindre \xe0 votre signalement ?",description:"Les preuves peuvent inclure : photos, vid\xe9os, documents, captures d'\xe9cran, etc.",yes:"Oui, j'ai des preuves",no:"Non, je n'ai pas de preuves",continueWithoutProof:"SOUMETTRE SANS PREUVES",back:"RETOUR"},personal:{title:"MES INFORMATIONS",subtitle:"FAIRE LA D\xc9CLARATION",name:"Nom complet",email:"Email",phone:"T\xe9l\xe9phone",address:"Adresse",accept:"Je certifie que ces informations sont exactes",continue:"CONTINUER",back:"RETOUR"},category:{title:"SIGNALEMENT",selectLabel:"Cat\xe9gorie de signalement :",selectPlaceholder:"S\xe9lectionnez une cat\xe9gorie...",detailsLabel:"Description d\xe9taill\xe9e de la situation :",detailsPlaceholder:"D\xe9crivez en d\xe9tail la situation que vous souhaitez signaler...",back:"RETOUR",continue:"CONTINUER"},upload:{title:"PI\xc8CES JUSTIFICATIVES",attachments:"Pi\xe8ces jointes (photos, vid\xe9os, documents) - Obligatoire",attachmentsInfo:"Formats accept\xe9s: JPG, JPEG, PNG, MP4, PDF \u2022 Taille max: 8 Mo \u2022 Au moins 1 fichier requis",uploadLabel:"Cliquez pour ajouter des fichiers",uploadSubtext:"ou glissez-d\xe9posez vos fichiers ici",filesAdded:"Fichiers ajout\xe9s",acceptTruth:"Je certifie que les informations fournies sont v\xe9ridiques et exemptes de tout mensonge",submit:"SOUMETTRE LE SIGNALEMENT",submitting:"Envoi en cours...",back:"RETOUR"},success:{title:"Signalement re\xe7u avec succ\xe8s",thanks:"Nous vous remercions pour votre contribution",reference:"R\xe9f\xe9rence de votre dossier",tracking:"Vous pouvez suivre l'\xe9tat de votre dossier via cette r\xe9f\xe9rence.",trackButton:"Suivre mon dossier",home:"Retour \xe0 l'accueil"},categories:{"faux-diplomes":"Faux dipl\xf4mes","Offre de formation irr\xe9guli\xe8re ( non habilit\xe9)":"Offre de formation irr\xe9guli\xe8re ( non habilit\xe9)","recrutements-irreguliers":"Recrutements irr\xe9guliers",harcelement:"Harc\xe8lement",corruption:"Corruption",divers:"Divers"},errors:{required:"Ce champ est obligatoire",emailInvalid:"Email invalide",phoneInvalid:"Num\xe9ro de t\xe9l\xe9phone invalide",categoryRequired:"Veuillez s\xe9lectionner une cat\xe9gorie",descriptionRequired:"Veuillez d\xe9crire la situation",termsRequired:"Veuillez accepter les conditions",truthRequired:"Veuillez certifier la v\xe9racit\xe9 des informations",filesRequired:"Au moins une pi\xe8ce jointe est obligatoire",submission:"Erreur lors de la soumission du signalement",network:"Erreur de connexion au serveur. Veuillez r\xe9essayer.",fillRequired:"Veuillez remplir tous les champs obligatoires"},required:"*"},mg:{welcome:{title:"Tongasoa eto amin'ny tambajotra miady amin'ny trangana HOSOKA sy DIPLAOMA sandoka ary HERISETRA ara-pananahana - \"FOSIKA\"",subtitle:"Eo ambany fiahian'ny MINISTERAN'NY FAMPIANARANA AMBONY SY FIKAROHANA ARA-TSIANSA (MESUPRES), sy ny fiaraha-miasa amin'ny Birao Mahaleo-tena Miady amin'ny Kolikoly \"BIANCO\", dia tafiditra ao anatin'ny ezaka nasionaly hanadiovana ny rafi-pampianarana ambony sy hamerenana ny fitokisan'ny vahoaka ny Tambanjotra \"FOSIKA\".",initiative:"Ity sehatra ity dia natao ahafahana manangom-baovao am-pitokisana momba ireto tranga manaraka ireto :",cases:["Diplaoma sandoka ampiasaina amin'ny fandraisana mpiasa,","Diplaoma sandoka ampiasaina mba hahazoana fanamarinana ny fangatahana na fankatoavana ho amin'ny fisondrotana ara-kasa,","Taratasy fanamarinana sandoka,","Herisetra ara-nofo na ara-pananahana."],contribute:"Amin'ny fanamarihana sy fanairana ataonao, dia mandray anjara amin'ireto manaraka ireto ianao :",benefits:["Fanamafisana ny fahamarinana sy fangaraharana akademika,","Fampiroboroboana ny fahadiovana ara-pitantanana,","Fiarovana ny hasin'ny fahaiza-manao sy ny fahalalana."],vigilance:"Ny fahamalinanao dia adidy amin'ny maha olom-pirenena. Isika miaraka no hiaro ny hasin'ny anjerimanontolo sy ny rafi-pampianarana.",slogan:"HETSIKA FOSIKA : manadio, miaro, manavao.",submitBtn:"HANDEFA FITARAINANA"},choice:{title:"SAFIDIO",anonymous:"Tsy mitonona anarana",identified:"Hilaza ny momba ahy",back:"HIVERINA"},proof:{title:"POROFO MISY",question:"Manana porofo ampiana amin'ny fitarainana ve ianao ?",description:"Afaka misy porofo toy ny : sary, horonantsary, taratasy, capture \xe9cran, sns.",yes:"Eny, manana porofo aho",no:"Tsia, tsy manana porofo aho",continueWithoutProof:"Hanalefa tsy misy porofo",back:"HIVERINA"},personal:{title:"MOMBA AHY",subtitle:"MANAO NY FANAMBARANA",name:"Anarana feno",email:"Mailaka",phone:"Finday",address:"Adiresy",accept:"Ekeko fa marina ireo momba ahy ireo",continue:"TOHINY",back:"HIVERINA"},category:{title:"FITARAINANA",selectLabel:"Karazana fitarainana :",selectPlaceholder:"Safidio ny karazana...",detailsLabel:"Fanazavana ilay tranga :",detailsPlaceholder:"Ampidiro eto ny fanazavana manodidina ilay tranga...",back:"HIVERINA",continue:"TOHINY"},upload:{title:"POROFO",attachments:"Pi\xe8ces jointes (Sary, Horonantsary, Taratasy) - TSY MAINTSY",attachmentsInfo:"Karazana ekena: JPG, JPEG, PNG, MP4, PDF \u2022 Habe fara-tampony: 25 Mo \u2022 Tsy maintsy misy rakitra iray farafahakeliny",uploadLabel:"Tsindrio eto mba hampiditra rakitra",uploadSubtext:"na asio eto ny rakitrao",filesAdded:"Rakitra nampidirina",acceptTruth:"Izaho dia minia marina fa tsy misy fitaka na lainga izay voalaza",submit:"HALEFA NY FITARAINANA",submitting:"Mandefa...",back:"HIVERINA"},success:{title:"Voaray ny Fitarainanao",thanks:"Ankasitrahanay feno ianao",reference:"R\xe9f\xe9rence an'ilay antontataratasy",tracking:"Afaka manaraka ny fivoaran'ny dosierao amin'ity r\xe9f\xe9rence ity.",trackButton:"Hanaraka ny antontataratasy",home:"Hiverina any am-piandohana"},categories:{"faux-diplomes":"Diplaoma sandoka","Offre de formation irr\xe9guli\xe8re ( non habilit\xe9e)":"Tolotra fiofanana tsy ara-dal\xe0na (tsy nahazoana alalana)","recrutements-irreguliers":"Fampidirana mpiasa tsy ara-dal\xe0na",harcelement:"Fanararaotana",corruption:"Kolikoly",divers:"Hafa"},errors:{required:"Tsy maintsy fenoina ity",emailInvalid:"Email tsy mety",phoneInvalid:"Laharana tsy mety",categoryRequired:"Safidio ny karazana",descriptionRequired:"Lazao ny momba ny tranga",termsRequired:"Ekeo ny fepetra",truthRequired:"Marina ve ny voalaza?",filesRequired:"Tsy maintsy misy rakitra iray farafahakeliny",submission:"Nisy olana tamin'ny fandefasana",network:"Tsy afaka mifandray. Andramo indray.",fillRequired:"Fenoy daholo ny saha ilaina"},required:"*"}},fs=e=>{let{language:n,setLanguage:r,setStep:s,navigate:a}=e;const i=hs[n],[o,l]=(0,t.useState)(!1);return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill overflow-x-hidden",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-3",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:os,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,wt.jsx)("img",{src:ls,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"REPOBLIKAN'I MADAGASIKARA"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["MINISITERAN'NY FAMPIANARANA AMBONY",(0,wt.jsx)("br",{}),"SY FIKAROHANA ARA-TSIANSA"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-7xl flex-1 min-h-[70vh] md:min-h-0",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"absolute top-4 md:top-8 lg:top-12 right-4 z-50",children:[(0,wt.jsxs)("div",{className:"hidden md:block",children:[(0,wt.jsx)("div",{className:"text-center font-semibold text-gray-800 mb-2 text-xs",children:"fr"===n?"Choisir la langue":"Safidio ny fiteny"}),(0,wt.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,wt.jsxs)("button",{onClick:()=>r("mg"),className:"flex flex-col items-center gap-1 p-1.5 rounded transition-colors ".concat("mg"===n?"bg-gray-100":"hover:bg-gray-50"),children:[(0,wt.jsx)("img",{src:us,alt:"Malagasy",className:"w-7 h-7 rounded-full border border-gray-300"}),(0,wt.jsx)("span",{className:"text-xs text-gray-700",children:"Malagasy"})]}),(0,wt.jsxs)("button",{onClick:()=>r("fr"),className:"flex flex-col items-center gap-1 p-1.5 rounded transition-colors ".concat("fr"===n?"bg-gray-100":"hover:bg-gray-50"),children:[(0,wt.jsx)("img",{src:cs,alt:"Fran\xe7ais",className:"w-7 h-7 rounded-full border border-gray-300"}),(0,wt.jsx)("span",{className:"text-xs text-gray-700",children:"Fran\xe7ais"})]})]})]}),(0,wt.jsxs)("div",{className:"md:hidden relative",children:[(0,wt.jsx)("button",{onClick:()=>l(!o),className:"w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:(0,wt.jsxs)("svg",{className:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,wt.jsx)("circle",{cx:"12",cy:"6",r:"1.5"}),(0,wt.jsx)("circle",{cx:"12",cy:"12",r:"1.5"}),(0,wt.jsx)("circle",{cx:"12",cy:"18",r:"1.5"})]})}),o&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),(0,wt.jsxs)("div",{className:"absolute right-0 top-10 z-50 bg-white rounded-lg shadow-lg border border-gray-200 p-3 min-w-[140px]",children:[(0,wt.jsx)("div",{className:"text-xs font-semibold text-gray-800 mb-2 text-center",children:"fr"===n?"Langue":"Fiteny"}),(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("button",{onClick:()=>{r("mg"),l(!1)},className:"flex items-center gap-2 w-full p-2 rounded transition-colors ".concat("mg"===n?"bg-green-50 text-green-700":"hover:bg-gray-50"),children:[(0,wt.jsx)("img",{src:us,alt:"Malagasy",className:"w-5 h-5 rounded-full border border-gray-300"}),(0,wt.jsx)("span",{className:"text-xs font-medium",children:"Malagasy"})]}),(0,wt.jsxs)("button",{onClick:()=>{r("fr"),l(!1)},className:"flex items-center gap-2 w-full p-2 rounded transition-colors ".concat("fr"===n?"bg-blue-50 text-blue-700":"hover:bg-gray-50"),children:[(0,wt.jsx)("img",{src:cs,alt:"Fran\xe7ais",className:"w-5 h-5 rounded-full border border-gray-300"}),(0,wt.jsx)("span",{className:"text-xs font-medium",children:"Fran\xe7ais"})]})]})]})]})]})]}),(0,wt.jsxs)("div",{className:"relative z-10 p-4 md:p-8 lg:p-12 pt-8 md:pt-12 lg:pt-16 h-full flex flex-col justify-center md:justify-start",children:[(0,wt.jsx)("div",{className:"absolute left-1/2 top-4 transform -translate-x-1/2 z-20 pointer-events-none md:hidden",children:(0,wt.jsx)("img",{src:As,alt:"Logo Fosika",className:"h-20 w-auto object-contain"})}),(0,wt.jsxs)("div",{className:"relative mb-4 md:mb-6 mt-20 md:mt-0 md:-mt-2 lg:-mt-4",children:[(0,wt.jsxs)("div",{className:"pl-2 md:pl-2 text-left",children:[(0,wt.jsx)("span",{className:"text-base sm:text-lg md:text-3xl lg:text-5xl font-bold text-[#5e8f3e] block",children:"fr"===n?"Bonjour":"Miarahaba"}),(0,wt.jsx)("span",{className:"text-base sm:text-lg md:text-3xl lg:text-5xl font-bold text-[#b3d088] inline",children:"fr"===n?"cher visiteur":"tompoko"}),(0,wt.jsx)("span",{className:"text-base sm:text-lg md:text-3xl lg:text-5xl font-bold text-[#223250] inline",children:","})]}),(0,wt.jsx)("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 pointer-events-none hidden md:block",children:(0,wt.jsx)("img",{src:As,alt:"Logo Fosika",className:"h-24 sm:h-28 md:h-32 lg:h-32 xl:h-48 w-auto object-contain md:translate-y-0 translate-y-2"})})]}),(0,wt.jsx)("div",{className:"mb-6 bg-[#223250] rounded-[15px] md:rounded-[20px] px-3 md:px-4 py-1.5 md:py-2 w-24 inline-block mr-auto hidden md:block",children:(0,wt.jsxs)("svg",{width:"60",height:"20",className:"md:w-80 md:h-26",children:[(0,wt.jsx)("ellipse",{cx:"12",cy:"10",rx:"6",ry:"6",fill:"#ffffff"}),(0,wt.jsx)("ellipse",{cx:"30",cy:"10",rx:"6",ry:"6",fill:"#ffffff"}),(0,wt.jsx)("ellipse",{cx:"48",cy:"10",rx:"6",ry:"6",fill:"#ffffff"})]})}),(0,wt.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-8 lg:gap-16 items-center flex-1",children:[(0,wt.jsxs)("div",{className:"flex-1 pl-2 md:pl-4 pr-1 md:pr-2",children:[(0,wt.jsx)("div",{className:"clear-both"}),(0,wt.jsxs)("div",{className:"text-gray-700 text-xs md:text-sm lg:text-base leading-relaxed mb-4 md:mb-6 max-h-[300px] md:max-h-[250px] lg:max-h-none overflow-y-auto pr-2 md:pr-3 pl-1 md:pl-2 scrollable-text",children:[(0,wt.jsx)("p",{className:"mb-2 md:mb-3 text-justify text-xs md:text-sm",children:i.welcome.title}),(0,wt.jsx)("p",{className:"mb-2 md:mb-3 text-justify text-xs md:text-sm",children:i.welcome.subtitle}),(0,wt.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,wt.jsx)("p",{className:"font-semibold text-gray-800 mb-1 md:mb-2 text-left text-xs md:text-sm",children:i.welcome.initiative}),(0,wt.jsx)("ul",{className:"space-y-0.5 md:space-y-1 text-gray-700 text-xs md:text-sm",children:i.welcome.cases.map((e,t)=>(0,wt.jsxs)("li",{className:"flex items-start",children:[(0,wt.jsx)("span",{className:"text-[#b3d088] mr-1 md:mr-2",children:"\u2713"}),(0,wt.jsx)("span",{className:"text-justify",children:e})]},t))})]}),(0,wt.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,wt.jsx)("p",{className:"font-semibold text-gray-800 mb-1 md:mb-2 text-left text-xs md:text-sm",children:i.welcome.contribute}),(0,wt.jsx)("ul",{className:"space-y-0.5 md:space-y-1 text-gray-700 text-xs md:text-sm",children:i.welcome.benefits.map((e,t)=>(0,wt.jsxs)("li",{className:"flex items-start",children:[(0,wt.jsx)("span",{className:"text-[#b3d088] mr-1 md:mr-2",children:"\u2713"}),(0,wt.jsx)("span",{className:"text-justify",children:e})]},t))})]}),(0,wt.jsx)("p",{className:"mb-2 md:mb-3 text-justify text-xs md:text-sm",children:i.welcome.vigilance}),(0,wt.jsx)("p",{className:"text-center font-bold text-[#5e8f3e] text-xs md:text-base lg:text-lg",children:i.welcome.slogan})]})]}),(0,wt.jsxs)("div",{className:"flex flex-col gap-4 md:gap-6 w-full lg:w-auto items-center",children:[(0,wt.jsx)("button",{onClick:()=>s(1),className:"px-8 py-2 md:px-8 md:py-2 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-sm md:text-lg transition-all shadow-md rounded-none flex items-center justify-center flex-col min-w-[180px] md:min-w-[220px]",children:i.welcome.submitBtn}),(0,wt.jsx)("button",{onClick:()=>a("/suivi"),className:"px-8 py-2 md:px-8 md:py-2 border-2 border-[#b3d088] text-[#277335] hover:text-[#4a7b32] font-bold text-sm md:text-lg transition-all hover:bg-gray-50 shadow-md rounded-none min-w-[180px] md:min-w-[220px]",children:"fr"===n?"SUIVRE UN DOSSIER":"HANARAKA FITARAINANA"}),(0,wt.jsx)("button",{onClick:()=>a("/enseignants"),className:"mt-3 text-[#4c7026] hover:text-[#2d4a12] text-xs md:text-sm font-bold underline underline-offset-4 transition-colors text-center leading-tight",children:"fr"===n?(0,wt.jsxs)(wt.Fragment,{children:["Consulter la liste des ",(0,wt.jsx)("br",{})," enseignants chercheurs permanents"]}):(0,wt.jsxs)(wt.Fragment,{children:["Hijery ny lisitry ny ",(0,wt.jsx)("br",{})," mpampianatra mpikaroka maharitra"]})})]})]})]}),(0,wt.jsx)("div",{className:"absolute bottom-0 right-0 z-10",children:(0,wt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAYAAACJm/9dAAAACXBIWXMAAAsSAAALEgHS3X78AAAgAElEQVR4nO2dCZwU1b3vzzlVvfesioggEBFmBucmiHrBoAnMiAkxJkYwbteFqNct0bjwXnIVN6IxQWMwvlyNC1efXqMRs11fVGDGaHjINRoSiTAoBhVCEGGW3qurzrmfX9ul7TDd00tVd3X3+X4++eTj0NNdM1O/Ov/9T4UQpN5p6JjfHNq8eqDefw+Sj1Hr+XcBQUzlxgMHU9pJCGl3wCVJHAKr1z/EjLaueydz472LtNhCjxBeB1ySxEHU3YlxVFvXtRFCv7tI11oXazEyRCm5n/hCDrg0iYOoG2HMaOv6sk7IPTMMfdw1WtQ9gfPU199gKvEI8WrFL1DiKGpeGA0d8yd3cP3RJkGOuiUe8U7nugOuSuJ0alYYcKw7Df3HYxk7c2k86p5tJB1wVZJqoSaFcURb1y1jKF1yip7wfkOLO+CKJNVGTQkDfsQ+yv7zXF1rgGPdmEeOZoPqIv2UrS7LBUqqhpoQRkPH/BmTuPGr4Y51vuxkbGclr1/iPGrlxGg+2tAnLY+HHXApklqgJhJ8oc2rX3hVUaUqJJZRM5lvQcheJOsKZTtlGiFE1klJPkHNCKNBiBdeVlwFf982pkRDm1dvtOWiJFVLzQhjk6L+x4YihCGRjETNCAN+Rq/qkn6GxBJqqrq2GD8jTGldl95LRqamhFGMnwEx2XZBkqqlpoQh/QyJVdSUMKSfIbGKmuvgKzafIZFkUnPCKMTPQJOSn4gdtl+UpOoomzDQH3FYe/dldn9OIX4GThZFkLfsviZJ9VE2YRwo+F9VQm62+3OknyGxgrII45/b5v3hEi12yDTD8KPV1O7Pg5+xg9XtABSJBdh+92BMzTTDOAaddCfpCX+noV9u92fm62dIJ12SDVuFAZ9CJeTCu+JhN/4bfdchSk+z+6+Rr5+xWVFTr7X7eiTVh23COG7avOMP4fwHT0QHFfNr6KxTCDkIjridvyn4GS+orqidnyGpbWwRBvyIHYw9e2s8Ehzed31WMu6bxo0L7f6t+gTZJf0MSbFYfufgNBgn+Cs/iYX9I81wmq3rcI7Ps/sv5iFiTTH9GRIJsaPn+2DBX74qET0w2xwniGUfpYdZ/bnD2caUe9cprsWLkgl3tte8pLgwW2d7rvdJR9FSkbTxnI9vEXy++W8hSue6Cfnja309i+z7SSSVwFJhTG/rfnaBrrUtSiZyvu4rSc3f3tZ99pa+tY/Z9TOjK++Itq4YISSrMAxC9E5Dv+nYafNIgtKjNEIa8HWd0IYWwVOn6eeFcM/gut/8nln6x4KHyL/qb7LrR5BUEMuE0TVt7g0zOZ+3NBEZ9bULkwnysqpeSgixTRgkZU6R93Yw1pRtnA58oCFKU2bdBGGQQsfu2E1Dx/y5nYZ+Pk4mfFSU0rF+IXa7cVgR8vCrfT13OOqCawhLhIGnv5+y6+5PhLI+nTPBk/YfVPmM3b9GjxDPvqy4OhfxkU+wUufY2lFrBdNtCjceShIyc7GebJplJFNh7owgxiQEFVa5vMsPb+++djdl7XLpjfWU7Hxj2JlOyUO/iA6685n8Z/I5XXPje+384TYp6mPrFJdm1/tbWWuFKYodbd1vzTT0zUsS0XkvRAaacPqeqGv7TVTEyXZlIkruioXHjhP8TbvD3/VISScG/iDjOV97XyxUkCjAAl1zb2PKMkLIyXb93vPxMyoNToiDBX92ghBTrk5E1EKGT+O1X08mDlyruH5MCDnfqT9jNVLSidFp6NedqGutxZgkeBLuZMpcu39naT/D7o8pGDxUZrZ1PTWVG30/ioXbnowOFiQKE5wc/ZTZ9nCpV0q6YzYp6q2/cnlCsLWL4dOGzuwuKkz7Gba8d7G1VjCbxnO+7fRkfOFzkYGSVxQcbSSDdpul9UZJwoDTN5EbJ13lCxZlx5ejqNBOP6PQWiucEsdOm/fbFiF++XhssNWqFQWTBXeP5/wIS95MkqLkqNQftva+NKOta+UKj/9iHOuFAHPqLo8ftvESu/4c2fwMmFc76IdlXHjy4yY3eUFxhZHjwH/2U8ZVIkIIlW4I9xe9xBK1Y+MYe/oUPXGg1Ts7kFtZq7jm2x3+ricsCddu7Ou55PD27lPmJ7WxhfgbcNh9QgRgToU2r86ZgS4FRsjbX/E3fWoXY+6gEHvIhyoJZe7eG/bk3zg8BDqzrev1HYx1FpPrOHbavOVRSi+/PxryyVVn1YFlCb7dlH3xAn/DBtjMhUSoUFT4pMuLkgrbklWv9/XMLPU9IKI3mNo5gedvlcF0msyNns9w44ibE5GCI3eSymFZuAYmyxjO717h9ufx6o+BOVWOosJSwYmSaW6RtMmF02Wkt4YzjBzDZVrsSPSj2CmKdNRtj20fUIdYGsdcv7V3yWrVva2QKBBMkyQhk6sgSbU9LYSPgB8yUtYZUacxgq+/Pxo6cLS6MSvYyRQI9xnbP6iOsDzAv4OxE670BeOFhDLn6cngeM5PKvWz7QxZwgfqp9QY7XVYsC8IeXJVdLBsq5M3MjU6WpWwpDAsFwZuoBYhll7lDeYdnEdRYSPhlxb7mbgZ29u69/qF+KOdJw8lZCCX4NHf3ijE95+ODvrKWZD4DmPczuBFPWJLShhVn39jyqbn1fwqMfBkjRDaWchnpHMC/zGx/YTQAl1b/kx0oPVqLarY2R2IIQuZycwh+rFKZrR19XQa+mJksMvpZEOocjC19dhWK7GdKV3XeQPRfE2qYwy9CWXWo70OoV2UUkzmxnun6InzeiP9QeRPcDPa3R2ItcdYf2xC0yvKMB5ohqHPM4c+lBP4cxBsuT+31rFNGHBKvYL864W+xrwM7fm6htqra7L9OwSBG3Cs4H0XabGFPZGBIBJlmU9nu7sDdzL217Q9b8Imtp/w7mItPqdSG2MxDUVOOrEeW6vr0KEXJ+TZh9yjJ4wRtu2n7LPDv44Izz+1db2Gcuyl8eic9eF+d65Ij9kdWPrV7w9C0rDnzX8QhBzy3UTk0HJEnrLxG5cbOwTliWExtpedblLUc1a6fPvyqXCdxvUGM7KEm7uzrWv7RG48fVs8cuRT0UFvPsV2pTryo5FpzzcKoVRSFPidtgrxdsUuoIaxXRgpk4qI8y7wNY6aMl6ga64xgj86sf2EoaON5EP/NzY06cFYyFVI9and3YEBIrbArsf/jjEqW96B4AZaXCt6ETVKWRoVNvb1/Bch5LcrPLmz4jCnzkomjvh1dKABjmyxIU+7ugMRCRskbNYbyofFh42ksiUe97t92lamPFDRi6hRytbBgxEzT7o8H+Tq3YAjjQhTqTkAdAd2Gvqykt5kGBBFixB/OU2PN28usv/ESvB7bBX8FdnvbQ9lbW3bRdn8K3zBmNXvOzwkbEd3IOZlwdG+IhEjTugIXOn2kiih8SPaum6p+MXUIGX9CyOqQwl5ZJknUPJ7QQyIds0KtsRv9AT281+s7A5EmPhCLfbRvCx8Nsyp8XzUChFbwOdvUFwDlJBZjJCryrFaod4o+6MPvRs9quudYttNcVPAV5kXaAk/7vLet4eycRsVddfw97OqOxAZ7emGMSezuWi6YaTyB5WaQwWnu5Hw+GVaLHhbPBKcxA0ZrrWYitgE7zBl7vXeQKyQQkOYL0u8wZQgfqe6l7y7ZU0DRAYb23y/zNfDnNrLWEmTM1D71Gno+yXvOrhOiu1zt4I7Pf6kS5AWnGCI2HXpyUm41opdUA1SEWGg4E0n5I6RTKDh4Aa8yhvUzvE1vvOi6rocghg+gQ/v5xfiycxEYkZ3YFFFhZis2CLEBSOVeeDE2FkhPwMnY5MQxv9ORD3m167UooiPnSsHIlhHxbzIv/b13PCq4novW6EhboBF/qb4Jb6GbZsUdeGmvp7Jb29Z+9Ns77dJUb89PJFY7MoBJBf3UvadB2JDIx4LpU71KIU7PP5kk+CfGLWDh8DdsbBvnOCr5fA1a6hoeGUHY0cv9QY+0bvxlMtDvhBo1pZ5/eteU9SOzX1rD0/nQXKSDltecaMn8NEdU0x3IIYWeIi4H6Xjuapkx3NedoHgYfE+ZezOeHg/wSKxieFrU7kh8xoWUFFh4GZ2C3IhejcgiK5Ac/gnbv9zbzKl7b/7eo8rtMcAtVlvMvVd0xEvtDsQr3uXKf8PT9/RSscrMdTgAbeXH8WTSjanHzmgBiFOQn1Z2S+uxqh4QB438w6m/OYRl/fh7Uw59I2+tV8spekGHYSZc67y7Q6EKMYKvuX78XAwn5t+eplDtTAR32IqvTmee5r8j+Mhb5KQR6VJVRqOmF2JrPj6rb3nW5HFhajGcP64WX6Sb1FhB9f/6yItNhbmVz4s1izPU+bkGm+D+CxP0tFOMpwm39RiWH3wXFkvsMaoySV1cMSfUj0pRzyf7kDMfTJXLudLObv0YBruoZTcFsuv5wNh3KlcP/L4afP+1faLq1FqUhhmRa/piB9p6L5s3YGwxxOUXlGJ7rt8We7x89OSiYIG5d4VD7t2MrZCZsWLo2bXmiKSZfadp4sK9+sOxE0zROkvsNujMlc5OjgtELW7tEDTDSfailjYO4HzNZW58uqmpvf9bmfKqbd7/GGEVYd3B6ad7Zdx8zh5QuA1viD5t3i0qL8Tfu75ujZFZsULp6aFAUdcIeSxlW7fJ7oDwRRuPA1nu5LJutFACHsc53yeUfywdpkVL46a3xCPeqpHXN7Qp7nh6jT0VC845lBN5MZxVk8dtxKYT8s9frIiHirpbySz4sVR88IArYKf9azqNlBUmNoZSMgtcE4dcGlZwQzgIw09lWEvFZkVLxwq6mQCNyaN7KHsMwEiBh+KhlqcPI4fhZMX+BvE+nB/cSubsvB1f5O+i7Lz7dyvXivUxYlB0gPgBCH0n42ko0UBlnoD4lwtbqkowI/iITVOyc+kSTU6dSMMlIVM5YZIEMvvN0uBwx0tIjybD8iK3xqP+Cdw/kcn/w6cQF0IA09IPCkfjg0xZMOLXSppN7iuH3j84q54yLYLRMnLUUbyUGT7HfODO5C6EMZUbryEJyUiNEvjUZLvsOlyc7U3yOfoOm037C1QxHanPYxdIUO42al5YWCKxnRDn2YWByJvkW+hYDlBhrtPUektCftn4OIB8WA05JYh3OykhJHPlPFqBCUfmKKBJ2Tm5Tst0w0T6jpvwIDDXa5rkyHc3JgnRi+mYVTq6QFhfqq9eye656x8X9QJYYqG05dC3un2Jz2EiIvKXMqOxqYmIb5q1xDsaiYljE5DH7hYi80bI/iuSgzw6uD69y7RYocohDyPBfFWCBQ/xzxDm+Dkkg+SHoXTq7rZHbH921XLAfraZQh3fz7yMVDDvzoy4O3Wk0sPb+/+R7naI2Hu6ISmeiEw0fzcZByLHXehbKOE92yOUbrkmoxJGk4EJtRSb0A/1kgqlcqt4DSVIdz9+YTznYraJCJwzMY2CfGLcphXnYZ+00Va7CMfwBToHD25HGsAiomcYLf2snjE0VWz5MMolB4QQlyXyN2uajcIRsgq3E8yYlQKTy88vcthXu1i7LThOyZMgf6fWHjSTENfj9Vi+QoU9vKnuNHpxMhTJkjkbWVq4juJqMsJAsbvG1W4Vvt51UrOcK3d5hXMpX9JJrLuBjAFitViBwi+czTzKi2eu29ORBxdIIhaqLvd/vAYwT1OEjCqcD+g7FfS30gLI3P76HDsNK/2UHbDwuTopd8Q6NrIgH+WkfxeLvOq09B/vEhPtFZqpmy+XOULJhkhxop4qPL7BDLAg+hKLdoKU9QxF1UhUsIwt4/mwmrzCqfP53TNk+9NDIHeHI94vh+PTJrKjQ3DzSs48XsYOxMhSCeDSe+UkL99TU80OVHAeAh9xtCPqPeSkYIz31aZVwYht5yeTBRcm4Hw63ORAffpyfgnzCvkLO6KOXegAUmHZteorp2CkMlOFjASolFKL69nfyPVjwHzpDcyMKnQb4atfIM3EB+kdP02ppya71yo1K5uQ9+MEyjXe69yeVJzobKFMhHuxGDoPyvqwBjBW5+Ijjxr1gng5znP3xBVCYk9GA0d4PTSd1zvxb6GfTsZm1KPW5tKqpUabl7lm3uYyo07zkjGc+44vt/t1daqrmVLfIF1xwRboph4Prz4D+YVxt7cFo8cFKJUhZnixMpZXBM2SR3C+YtnJBOOFwWR/kZpJ0YmqYUubj/BUphmIc75w9bel0Z6HfyCidzY/kJkoCnXe2EPBkb+Z3zfDOzV28mUz3/a0BUshkFEJzPUiTUAK12+1ACASq4ZHg5EvY0pTycoPRVmoGMuLA/S1373+q29Sxx/sRZiWXVtZu4hV2kHxvJ/TdeyioKk9sv5yBjBb878GtaUrd/ae/K7W9Y0/l51HfGIy3vHiYHm908INAsIAkc/sufPRAdS247O9DdWdLmLCa7tdUXd0E/ZiU73gUaiXv0Ny8vOTfMKpR0j5R72UHbjaHNff6m6B3Ot6cVYHDzBGoT45Yn6h/NcV3h85KRAU+rUgl9yZSJGlvgCpJLmFUrJH3T7PkgS0gSzpBpMqOGYU0bqLb9h2yMVpsyJuua/0+NH7uGb7zDllCncmPA5Q3fnyvQiI+whZM1oDh/+SGMoPe8SLZr645mmE/wQOO1YHonNR/j/4wMtqdOsnOYVOgW/5QtGVUHWzTT0BU4y7QoFgl6aiLR+zxNAPdXh1XX1xWFro5KZezBLO/ZR9vhFWjynOfFzlzf+JlNGdeKRzDsrmdivHgp+B3bmPRMZJIu1eEocE4RB/pc3WDbzCifU+b7G2GRu/Hy2kVzg5Lm4+WLWUyF/VB1XXBop53tmW9frD8aGOu1OOOFpnqsEAqbHv3kDf3q9r2dmrvdJnRaC70I+Jd86IzzB8fmrVXdKLFemTxo7uMDXkHybKW/OMPTDa0EUmWAEzxCl3x2+B7HWSJ0YHiFehW1e7IrhfBmtLugJl0dTCLlhtLebwo3bRzotcgHRwzl/PDqUEoVdfgc2y25jyr5aFAVJ929gYF2tO+OpEwMJtzGCf2ks5wv2Mjb7IM69c41kcJaeLNueOTzRv+pvDiHqNNprJ7afEOqN9DuuMw/+0f1uX+w4PelbWuFScjuBObrY3xDfQ9mxiBbW4s844iRCmCqYw9Qi+BmmUGYaenCW8aFQ7LghsQEJ+7tHO6IR5Vqga8udVlIBUfzQ4+ff0mLsHAfPxLUKiOMcf2O4n9Lja1EceY3oTIfp5nYa+ikhSudSQg7AbjsrhYLs9vYtawOjvW5i+wlDvZH+BiedFrhJvu0Liu8korTL4X0gVmKKYyI3vpQtoVutFD27FgMMOg39fFMoR2WcKIU68XjaYjkl9vDleh0KFjsNfZWTbPd0DRT5YSxCShnXX62k5+xqqiDfqKWZuJYNdYZQpnDjDEbInAQhh2K91xwj6c5HKNjrjRXGo21rxWDme2LhI52SKEvfFOQnsRA52qi+5J1VIJBxmr9Jaxb81p6tL5R9mIYd2DbtPF3bdHaC0i9CKFO44Z9jJF2zdf0T1bKIhGHZPfZ6j/J+kw/jxhtrIgM+238reYCbYbGvkSyLRyqy89tpmJXOrymuXqykrvafp2xrACCUidw4NUBE1xBhHYdzw3u8ofnXKa7ku0w5FTvzcn0/GmfOTcavdUIGGTfB1/1N5KZ4pGxRu2oBQZRVqmfbDsaOruZy9Yrtx8AJMI0bi9xCjM2nctMpTjdEcbq/iVygxRxVwesk4DOucPvRy9FdrRGrqlgcg9Pm83py3crYUNbBCeUAojjD35hKFEpR5Ab+F3pQQpRe+/aWtT918rWORFUMdZ7KjevRf1HJa4AozpSiyBv4XU9HB32TOF/R0dZdddGqqhBGmNLPV3LMjCmKxVIUBQGz98nooDpf186a2t69pZrK1h0vjJQvYhj+SvkWUhSlg/KYqxPRtvGcb6uWGivHCwMOOqJXlfhs2Mkn+ZvJ8lh5ezlqEfz+7ouFWkOUPlfKXOJy4XhhKEScgtxHuUlPycAfU+YpLML0O8Zz4zan93U4XhgDlLWV+8ZE3wbaYqUorCe1zSkWch1nJBce0dalNXTM/7QTr9PxwjiA87JONEjF4D2+VN+GFIV9DBFKuvWka4zgf57e1uW4pidHCwP1V8cYetkiGWgyQocfROH0FQLVDHpv8D845asjA2SsENcc1dbV56SoleNPjEZi/w1qRp4gBphPUhT2ggcQpriQj0O6ZIGuTTuE8/cbOuY7ImrlaGF0GvpJ47m9q33hZEMUGLlTy113TsFsnx5eY4bGs5/FQq7DuPH7zrauH1X6cp1+Yoyxc0ADhqHByZbh2PIB/w271kciHbWiU7hxVXtb91uVNK3qYgH+cGA6IRS7manSyS4jOC3woMv1+4Zp9UAshIEVUyZwvrtSCUFHC6OfstUbVGsnl+CPg6Td/PT8KelPlI+Ub6Hl16uPE/zeWMgdovT3x7R13V3ua3W0MHYythNhPSvAKYE/TCoUGxuUplOZQRi80LZn07Q62kh+a3pb145ymlaOLzuf3N4deSXcX1JJSLo/wHFT0OsJzBVGxK9YnxFJ1+u9Ab1JiK+N1tRmBY73MQ4S/E/FDoLD930h0JzyJTAFXYqiMuDBdKJe+JCMTFBd/XR0UGWE/Gb2tHn/afcP4vgTw+z1Ro1Nvv4ABHGHxx8PUzo0QKlrHOeuk/VEcHi/uaQ84LSwMmmK9tnHXZ6979NU+2zOARrFUhUdfKjGFITc+mBsyJ3tqWPOpn3U5Q37iPjzZqb+i/lLg22KvRwoSIwQ2okJJgt0ze30XeC1AE6LnUwhVg/Iw8PvSl8w6RZksR1je6pCGCQ9U0on5J5mIQ7A+FDz69sp0/6kqDEPIe9RQh7GXo08VghgJtY1mduZipmHJRkdq0+LTBBQudDXKOKEPLNJUc+xcvhC1QjDBKYVfPKMLw2U0nCP9+s09Mv3MHZOQIjGs5JxH04SKZLSwWkB/87uigIkah90+/buouwEq4YvVJ0w7MQ0uQQh5xmETJEiKY1SI1GFkB6+kNAJ+eFf+3pGnZg/GlIYWTBFMkjpteM5b8KW2eHLMCXZgQ+AzVZIopYLmFZXe4P8bab8eTtTukoxraQw8iBtbt3UT9nJRxvJILZCyehWblCYiZqoSvyeYMLd7fYPHCD4V4odNi2FUSDtbd1nU0JuPkjw8dcmol45iXB/ECFElQGc7koB0+pKXxBhx5Ub+3ouKfQypDCKBKdIB9cf9QlyFMwsmTz8GIgCZfxOeGhga+/zqvtvOxmbWYhpJYVRIqZA9lF2zDWJqLveBYLT4kxfE3kp0u+Aq/mQdDlJokmIRfmWk0hhWAQEcijn9ypEzLlMiwXrVSB4Qndw3XHlNxDsld4GMUDps3/p6/nSaK+XwrAYRLOwajlM6UIIpJ4iWcgnIBKFVdJOBeUkT7g8sX9QNju0efVfsl2mFIZNmALZzdjp2DC7WIvVrEAQJsVJAcoZni2WdDkJaRZi5Wt9Pd8Y6W2kMGwGAjlY8JsShF5wbjIerDWBIPqD9mA429+ooqWc13qDxKCEvKi4w2MEv3n4UlQpjDJhJgwjhH53kZ5orQWBmKYTeuarKa8DfwOtzTD5kPP4qdv3p9f7emZmvkYKowKgWhgCOVHXWhcnY1VXcoJTYpnXT6YbRqr5q9oEnhkguMob1DYp6sLh0SopjAoCgeyh7MYuXQviBnO6QOBLrHT7yPOqK5XVrsbkpjlDDKcFTo5zfI3vbOrrmTz8dXU5JcQpwK59d8uahhdV1+Un+5sH8fTCH8uJIBeAGwrgpqrWjD+EvTAdSr7T7deilP5wpNfJE8NBoNxEJeLWGYY+7hotmrUpq5yYZhOupRpOtdE4PtCSanMG8wItYTyYRvoWKQwHYjZlQSCVKljEyYUBEqnEWCJWE9tpM7sJkc/4nepeMjwaZSKF4WBMgYwRYvzViahajpsz04+otS1S+Z4WRAqjOoBAIpTecQjnk+yq6DUF8ZTqIYiUVVNOIh/gI2GSPRKQOAW/7m/SWwTfkDkbIBMpjCoCa507uH4PKnqtFIg5d2uRniC1mqFH4ACiyPSRIJafuX3xfZRuVgi5ITNkK4VRhWSWvJciEAhipdubmvlUyyUrKAHBz4k222z//oTLo21U1F2IUmEvuRRGFWMKpJ+yWfBB8vUH6kUQJvn2h8DEQvLvbab0yjxGFQPb+L/7eo/7B2VTV7q962YFW+K46UcCPgT+DQMKEJlBdx2iM7UuCnN7Uz6nKswsvxBanNAH5YlRQ4zUE5LpVNeyD5ENnBazjGRe0TX8rsxolTwxagicIG/0rf3idqYc+ojL+3BXoDn872lRIBeyMBmvK1HgRof/kK+JiQcIKm2JdL5rm8ymqXmGFtzE1FQNUK0k7EYDSTysqiv0tCCyVqq2QfP/+q295+MEeYW5Ht7OlPgUzskT7g99jWz+SC2Q8qlgPuZ5WiB0O54bq8z/lidGHZHZNHWKngjizHhVUVMRG9xAtWRmFTpMGmYnHiDmJBEpjDoEApnIjasNQi8/WddaKRHkNzXmnBcyTBoius/t693Y19Nlfk0Ko84xm6bQVXig4ORely/lf1RzJS1u9A2KK+/+80X+pvhritqRWRoihSFJYQpktpFsPdpIkl+5PKmnLQoJq81RH6n8IxuIWi3z+tchH5T5EikMyScwuwo/p2vuLkNzv6i4Uwky0w9xOoUOk06fFgtCm1e/kPl1KQzJiBzW3n2ZRuhtc3XNd3Yy7n7C5SVvKErqBHHyrCwMOcj3lJOtrZKCQSHdji1rmjeorkuXeIPv6IRod8bDqUgP9qQjR4CQqJPAjY5rytf0Q2urSsg3R/o3eWJIRsQsUNQJPSZKaNhFxPMGIXNmGvrYi5MxN5KFKEQ0J4U4wVFH+cd8XSP57FaEiL7qbw69u2VN40j/rtpxgZLqxRTEVEKPWRqPuvH0HaK0daXbd8avVXf4Laa+dJG3oX2cEGOXxqOqOShAQSgAAAUXSURBVPIfwqjkhHNcx8sFRKJWubwo/7gl27/LE0OSwixA1CiZl2tqO0Khd3r8WosQbw0QGjhE8LHoCSGpWiNvypQx/ZByUmj5x0n+5n1b+tYekO01Uhh1zvAh1IWUUKD77QPK3lOIUFqEOAQCmSCMVDdgaj6sFi1LJCtzVlQ+YILi4y7vfbkWykhh1CnFCmI4Gd1vewghiQMyBAJzBUMV7G6Iwo0eoqzo8o+RkMKoM6wSxHDMcTsvK67BIBH9XiHGXarFPPA5YH4htzBb14kdI0kLLf+43+1b9Vpfz6Jcr5PCqBPMAkKDkIvtXEtgNkY95vLExwo+tIey1mvTbbdmSy0iWfBDrJiXVegu8c8GW3R0PI40GSQTKYw6ILMeqpxFgrhpl3v8WPGFSRze7ySiHggE5tcKjy/1mlJ7QwrZJZ6t/GMkpDBqmEoJYjgQyM9d3kSE0liIUPe3tagfAskwv4py1Iss/+gY7bQgMvNdm0AQ7W3dexfo2vJnogOtlR56gKf53xlTOCFr/87YdLPt1sw7PB4bTJlDePo/lA755gNOncV5DobDDN73KduZjyiIPDFqC9Q36YTe3qVrDU7IRuNmvMkb0D+g9PXtTDk186YcaVchSfddm5Es9Khn+xnMYdP57hLPtgcjG1IYNQBGeIYpfWC2nmxxwpR0mEioQ8IAM9Qi5boZs+0qNKcjZusNKWSXOK7nNH/T7re2rD04359BCqOKyZyK7gRBZIzq2Rcg4vvZJomPBAQyhRu376Ps7MxdhSM56pmrwvIBQ9TWqa6sk81HQgqjCnGaIMjHEah4oxAP58ooj4YZVlYEOSczaGA62uZinXz6QyBUZOhXuP05yz9GQgqjimjomD93AucPHCz4pHKtBRgN3LBX+4J6gxC/fpMpF+bKJhfKSFE1CAMZ9VxZbjMb/0fFFfYS8YttTLk9X6fbRAqjCkCB32RuPN0qRIddawAKJZdjbTWZAsnlkEMQN3oDmkrEK5uZev3wrrxCkMJwMFZNNbeSQhxrq8m1zDNd9bt7N2WzrRCpFIYDcaIgSnGsrQYC2U3Z9Wi7hY+FkwK7urczpcsqU04Kw0GYPRFJSroLGetvN+kl8WGFkMdKcaytBnkbRsgNeNvdlLVb6d9IYTiAzFj+kkTU6xRBmDY7IeS3VjvWVoLfn9XXJoVRQewqAS8V+BFXexvK4lg7FdnzXSGwT2+M4OvPTcYdc0LAj7jRE/jIsX69jI6105AnRgVBod9Lkf7WSl+HkxxrpyBPjArSIvj/f8rl+XIlT4xMx3pL31rHONaVRpadV5BNivqtZ1RPfo3KFgPH+guBZg1tnuh/dlK0yQlIU6rCTGvv3vNEdPDActU7Scc6P+SJUWEahPgBCt3sBn4EehIwq7Wf0q+93tczU4oiO/LEqDAI2Y4VfPf6cL8t6pCOdXFIYTiAf2rreu2eWPhIK6ZmZOLUjHU1IE0pB5Ak9M5VFi6KlI516cgTwyFMbD8h9Gp4X7CUq5GOtXXIPIZDGM+NF55X3V8uZhiyzFhbjxSGQ9ikqEsfd3m7TtQ1f75XNNyx3iQda8uQppSDQE7jd5GBA/OdwSoda/uQzreDcAnx70+N4oRLx7o8yBPDQSCncRg3/r4mMuAbflXSsS4v8sRwEGi2UQjZhkEDJjJjXRmk8+0wooTevsrleXSCZkjHuoJIU8qBTG7vjjQIwaVjXTnkieFA9lJ20l5KNjq1x7rmIYT8D1wX9utClIARAAAAAElFTkSuQmCC",alt:"Megaphone",className:"w-16 h-16 md:w-20 md:h-20 lg:w-28 lg:h-28"})})]}),(0,wt.jsx)("div",{className:"w-full max-w-7xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2025"})}),(0,wt.jsx)("style",{jsx:!0,children:"\n        .scrollable-text::-webkit-scrollbar {\n          width: 4px;\n        }\n        .scrollable-text::-webkit-scrollbar-track {\n          background: #f1f1f1;\n          border-radius: 8px;\n        }\n        .scrollable-text::-webkit-scrollbar-thumb {\n          background: #b3d088;\n          border-radius: 8px;\n        }\n        .scrollable-text::-webkit-scrollbar-thumb:hover {\n          background: #5e8f3e;\n        }\n      "})]})},ms=e=>{let{language:t,setStep:n,setIsAnonymous:r}=e;const s=hs[t];return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:os,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,wt.jsx)("img",{src:ls,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight  p-2",children:"Repoblikan'i Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,wt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"relative z-10 p-8 md:p-12 pt-16 md:pt-20 h-full flex flex-col items-center justify-center",children:[(0,wt.jsxs)("div",{className:"relative bg-transparent rounded-[80px] px-12 py-16 max-w-xl w-full",children:[(0,wt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-0",children:(0,wt.jsx)("img",{src:ds,alt:"Fond",className:"max-w-none w-[140%] h-[140%] object-contain scale-130 select-none opacity-100"})}),(0,wt.jsxs)("div",{className:"relative z-20 flex flex-col items-center justify-center w-full text-center",children:[(0,wt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-[#5e8f3e] mb-12",children:s.choice.title}),(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-8 w-full",children:[(0,wt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,wt.jsxs)("label",{className:"flex items-center justify-center space-x-4 cursor-pointer text-gray-700 text-lg w-full max-w-[200px]",children:[(0,wt.jsx)("input",{type:"radio",name:"choix-anonymat",value:"anonyme",className:"w-6 h-6 border-2 border-gray-400 accent-blue-600",onChange:()=>{r(!0),n(2)}}),(0,wt.jsx)("span",{className:"flex-1 text-center",children:s.choice.anonymous})]})}),(0,wt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,wt.jsxs)("label",{className:"flex items-center justify-center space-x-4 cursor-pointer text-gray-700 text-lg w-full max-w-[200px]",children:[(0,wt.jsx)("input",{type:"radio",name:"choix-anonymat",value:"non-anonyme",className:"w-6 h-6 border-2 border-red-500 accent-red-600",onChange:()=>{r(!1),n(2)}}),(0,wt.jsx)("span",{className:"flex-1 text-center",children:s.choice.identified})]})})]})]})]}),(0,wt.jsx)("div",{className:"mt-8 flex justify-center w-full",children:(0,wt.jsxs)("button",{onClick:()=>n(0),className:"px-8 py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-[#4a7b32] flex items-center gap-2 font-semibold text-lg transition-colors hover:bg-gray-50",children:[(0,wt.jsx)(_t,{size:24}),s.choice.back]})})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2025"})})]})},ps=e=>{let{language:t,setStep:n,setHasProof:r,isAnonymous:s}=e;const a=hs[t];return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:os,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,wt.jsx)("img",{src:ls,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikan'i Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,wt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"relative z-10 p-8 md:p-12 pt-16 md:pt-20 h-full flex flex-col items-center justify-center",children:[(0,wt.jsxs)("div",{className:"relative bg-transparent rounded-[80px] px-8 py-12 max-w-xl w-full",children:[(0,wt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-0",children:(0,wt.jsx)("img",{src:ds,alt:"Fond",className:"max-w-none w-[120%] h-[120%] object-contain scale-110 select-none opacity-100"})}),(0,wt.jsxs)("div",{className:"relative z-20 flex flex-col items-center justify-center w-full text-center",children:[(0,wt.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-[#5e8f3e] mb-6",children:a.proof.title}),(0,wt.jsx)("p",{className:"text-base md:text-lg font-semibold text-gray-800 mb-3 max-w-md",children:a.proof.question}),(0,wt.jsx)("p",{className:"text-xs text-gray-600 mb-8 max-w-md leading-relaxed",children:a.proof.description}),(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 w-full",children:[(0,wt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,wt.jsxs)("label",{className:"flex items-center justify-center space-x-3 cursor-pointer text-gray-700 text-base w-full max-w-[220px]",children:[(0,wt.jsx)("input",{type:"radio",name:"choix-preuve",value:"oui",className:"w-5 h-5 border-2 border-green-500 accent-green-600",onChange:()=>{r(!0),n(s?4:3)}}),(0,wt.jsx)("span",{className:"flex-1 text-center font-medium",children:a.proof.yes})]})}),(0,wt.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,wt.jsxs)("label",{className:"flex items-center justify-center space-x-3 cursor-pointer text-gray-700 text-base w-full max-w-[220px]",children:[(0,wt.jsx)("input",{type:"radio",name:"choix-preuve",value:"non",className:"w-5 h-5 border-2 border-red-500 accent-red-600",onChange:()=>{r(!1),n(s?4:3)}}),(0,wt.jsx)("span",{className:"flex-1 text-center font-medium",children:a.proof.no})]})})]})]})]}),(0,wt.jsx)("div",{className:"mt-6 flex justify-center w-full",children:(0,wt.jsxs)("button",{onClick:()=>n(1),className:"px-8 py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-[#4a7b32] flex items-center gap-2 font-semibold text-base transition-colors hover:bg-gray-50",children:[(0,wt.jsx)(_t,{size:20}),a.proof.back]})})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2025"})})]})},gs=e=>{let{language:t,formData:n,setFormData:r,errors:s,setErrors:a,setStep:i,hasProof:l}=e;const A=hs[t];return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-4",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:os,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,wt.jsx)("img",{src:ls,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight  p-2",children:"Repoblikan'i Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,wt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"relative z-10 p-4 md:p-6 pt-8 md:pt-12 h-full flex flex-col items-center justify-center",children:[(0,wt.jsx)("h1",{className:"text-center text-2xl md:text-3xl font-bold text-[#5e8f3e] mb-2",children:A.personal.title}),(0,wt.jsx)("p",{className:"text-center text-xs font-semibold text-gray-700 mb-6",children:A.personal.subtitle}),(0,wt.jsx)("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-md mx-auto",children:(0,wt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{var e,t,r,s;const o={};null!==(e=n.name)&&void 0!==e&&e.trim()||(o.name=A.errors.required),null!==(t=n.email)&&void 0!==t&&t.trim()||(o.email=A.errors.required),null!==(r=n.phone)&&void 0!==r&&r.trim()||(o.phone=A.errors.required),null!==(s=n.address)&&void 0!==s&&s.trim()||(o.address=A.errors.required),n.acceptTerms||(o.acceptTerms=A.errors.termsRequired),a(o),0===Object.keys(o).length&&i(4)})()},className:"w-full",children:[(0,wt.jsxs)("div",{className:"mb-3",children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-800 mb-1",children:[A.personal.name," ",(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("input",{type:"text",value:n.name||"",onChange:e=>r(o(o({},n),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs transition-all bg-white",required:!0}),s.name&&(0,wt.jsx)("p",{className:"mt-1 text-rose-600 text-xs",children:s.name})]}),(0,wt.jsxs)("div",{className:"mb-3",children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-800 mb-1",children:[A.personal.email," ",(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("input",{type:"email",value:n.email||"",onChange:e=>r(o(o({},n),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs transition-all bg-white",required:!0}),s.email&&(0,wt.jsx)("p",{className:"mt-1 text-rose-600 text-xs",children:s.email})]}),(0,wt.jsxs)("div",{className:"mb-3",children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-800 mb-1",children:[A.personal.phone," ",(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("input",{type:"tel",value:n.phone||"",onChange:e=>r(o(o({},n),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs transition-all bg-white",required:!0}),s.phone&&(0,wt.jsx)("p",{className:"mt-1 text-rose-600 text-xs",children:s.phone})]}),(0,wt.jsxs)("div",{className:"mb-4",children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-800 mb-1",children:[A.personal.address," ",(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("input",{type:"text",value:n.address||"",onChange:e=>r(o(o({},n),{},{address:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-xs transition-all bg-white",required:!0}),s.address&&(0,wt.jsx)("p",{className:"mt-1 text-rose-600 text-xs",children:s.address})]}),(0,wt.jsxs)("div",{className:"mb-4 flex items-start gap-2",children:[(0,wt.jsx)("input",{type:"checkbox",id:"acceptTerms",checked:n.acceptTerms||!1,onChange:e=>r(o(o({},n),{},{acceptTerms:e.target.checked})),className:"mt-0.5 h-3 w-3 text-[#b3d088] rounded focus:ring-[#b3d088]"}),(0,wt.jsx)("label",{htmlFor:"acceptTerms",className:"text-xs text-gray-700 leading-relaxed",children:A.personal.accept})]}),s.acceptTerms&&(0,wt.jsxs)("p",{className:"mb-3 text-rose-600 text-xs flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:10})," ",s.acceptTerms]}),(0,wt.jsxs)("div",{className:"flex justify-center gap-12 pt-6",children:[(0,wt.jsxs)("button",{type:"button",onClick:()=>i(2),className:"px-8 py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-[#4a7b32] flex items-center gap-2 font-semibold text-lg transition-colors hover:bg-gray-50",children:[(0,wt.jsx)(_t,{size:24}),A.personal.back]}),(0,wt.jsx)("button",{type:"submit",className:"px-8 py-2 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-lg transition-all shadow-md",children:A.personal.continue})]})]})})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2025"})})]})},xs=e=>{var n;let{language:r,selectedCategory:s,setSelectedCategory:a,formData:i,setFormData:l,errors:A,setErrors:c,setStep:u,isAnonymous:d,hasProof:h,setReferenceCode:f}=e;const m=hs[r],p=Object.entries(m.categories).map(e=>{let[t,n]=e;return{value:t,label:n}}),[g,x]=(0,t.useState)(!1),[b,v]=(0,t.useState)((null===(n=i.categoryDetails)||void 0===n?void 0:n.length)||0),y=50,w=async()=>{const e={type:d?"anonyme":"identifie",name:d?"Anonyme":i.name,email:d?"":i.email,phone:d?"":i.phone,address:d?"":i.address,category:s,description:i.categoryDetails,accept_terms:!0,accept_truth:!0,has_proof:!1};try{const t=await is.post("/reports",e,{headers:{"Content-Type":"application/json"}});if(!t.data.success)throw new Error(t.data.message||m.errors.submission);f(t.data.reference),u(6)}catch(o){var t,n,r,a;console.error("Erreur soumission sans preuves:",o);let e=m.errors.submission;if(null!==(t=o.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.errors){const t=o.response.data.errors;e=Object.entries(t).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n.join(", "))}).join("\n")}else null!==(r=o.response)&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.message&&(e=o.response.data.message);alert("".concat(m.errors.submission,"\n\n").concat(e))}};return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-6",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-3 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:os,alt:"Logo R\xe9publique",className:"h-16 w-16 object-contain"}),(0,wt.jsx)("img",{src:ls,alt:"Logo MESUPRES",className:"h-16 w-16 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-36"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministeran'ny Fampianarana Ambony",(0,wt.jsx)("br",{}),"sy Fikarohana Ara-tsiansa"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"relative z-10 p-6 md:p-8 pt-12 md:pt-16 h-full flex flex-col items-center justify-center",children:[(0,wt.jsx)("h1",{className:"text-center text-3xl md:text-4xl font-bold text-[#5e8f3e] mb-6",children:m.category.title}),(0,wt.jsx)("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-xl mx-auto",children:(0,wt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(()=>{var e;const t={};s||(t.category=m.errors.categoryRequired),null!==(e=i.categoryDetails)&&void 0!==e&&e.trim()?i.categoryDetails.trim().length<y&&(t.categoryDetails="fr"===r?"Description trop courte. Minimum ".concat(y," caract\xe8res requis."):"Fanazavana fohy loatra. ".concat(y," caract\xe8res farafahakeliny.")):t.categoryDetails=m.errors.descriptionRequired,h||g||(t.acceptTruth=m.errors.truthRequired),c(t),0===Object.keys(t).length&&(h?u(5):w())})()},className:"w-full",children:[(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:[m.category.selectLabel,(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsxs)("select",{value:s,onChange:e=>a(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] text-sm transition-all bg-white",required:!0,children:[(0,wt.jsx)("option",{value:"",disabled:!0,children:m.category.selectPlaceholder}),p.map(e=>(0,wt.jsx)("option",{value:e.value,children:e.label},e.value))]}),A.category&&(0,wt.jsxs)("p",{className:"mt-1 text-rose-600 text-xs flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:12}),A.category]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:[m.category.detailsLabel,(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("textarea",{rows:4,value:i.categoryDetails,onChange:e=>{l(o(o({},i),{},{categoryDetails:e.target.value})),v(e.target.value.length)},placeholder:m.category.detailsPlaceholder,minLength:y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#b3d088] focus:border-[#b3d088] resize-y text-sm transition-all bg-white min-h-[100px] max-h-[400px]",required:!0}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,wt.jsxs)("p",{className:"text-xs ".concat(b<y?"text-rose-600":"text-gray-500"),children:[b," / ",y," caract\xe8res minimum"]}),b<y&&(0,wt.jsxs)("p",{className:"text-xs text-rose-600 flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:12}),"Encore ",y-b," caract\xe8res requis"]})]}),A.categoryDetails&&(0,wt.jsxs)("p",{className:"mt-1 text-rose-600 text-xs flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:12}),A.categoryDetails]})]}),!h&&(0,wt.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("input",{type:"checkbox",id:"acceptTruthNoProof",checked:g,onChange:e=>x(e.target.checked),className:"mt-0.5 h-4 w-4 text-[#b3d088] rounded focus:ring-[#b3d088]"}),(0,wt.jsxs)("label",{htmlFor:"acceptTruthNoProof",className:"text-sm text-gray-700 leading-relaxed",children:[(0,wt.jsx)("span",{className:"font-semibold text-rose-600",children:"*"})," ",m.upload.acceptTruth]})]}),A.acceptTruth&&(0,wt.jsxs)("p",{className:"mt-2 text-rose-600 text-xs flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:12}),A.acceptTruth]})]}),(0,wt.jsxs)("div",{className:"flex justify-center gap-12 pt-6",children:[(0,wt.jsxs)("button",{type:"button",onClick:()=>u(d?2:3),className:"px-8 py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-[#4a7b32] flex items-center gap-2 font-semibold text-lg transition-colors hover:bg-gray-50",children:[(0,wt.jsx)(_t,{size:24}),m.category.back]}),(0,wt.jsx)("button",{type:"submit",className:"px-8 py-2 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-lg transition-all shadow-md",children:h?m.category.continue:m.proof.continueWithoutProof})]})]})})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2025"})})]})},bs=e=>{let{language:t,formData:n,setFormData:r,errors:s,setErrors:a,fileErrors:i,setFileErrors:l,isSubmitting:A,setStep:c,handleSubmit:u,hasProof:d}=e;const h=hs[t],f=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB"][t]};return(0,wt.jsxs)("div",{className:"bg-white min-h-screen flex flex-col items-center p-4 font-bill",children:[(0,wt.jsx)("div",{className:"w-full max-w-3xl mx-auto mb-3",children:(0,wt.jsx)("div",{className:"w-full flex items-center justify-center bg-white p-2 rounded-lg",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-1",children:[(0,wt.jsx)("img",{src:os,alt:"Logo R\xe9publique",className:"h-14 w-14 object-contain"}),(0,wt.jsx)("img",{src:ls,alt:"Logo MESUPRES",className:"h-14 w-14 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1 text-left",children:[(0,wt.jsx)("span",{className:"font-semibold text-xs uppercase leading-tight",children:"REPUBLIQUE DE MADAGASCAR"}),(0,wt.jsxs)("span",{className:"font-semibold text-xs uppercase leading-tight",children:["MINISTERE DE L'ENSEGNEMENT SUPERIEURE",(0,wt.jsx)("br",{}),"ET DE LA RECHERCHE SCIENTIFIQUE"]})]})]})})}),(0,wt.jsxs)("div",{className:"relative w-full max-w-6xl flex-1 mb-4",children:[(0,wt.jsx)("div",{className:"absolute inset-0 border-4 border-[#b3d088] bg-[#f9faf7] z-0"}),(0,wt.jsxs)("div",{className:"relative z-10 px-6 pt-8 pb-6 md:px-8 md:pt-12 md:pb-8 h-full flex flex-col",children:[(0,wt.jsx)("h1",{className:"text-center text-3xl md:text-4xl font-bold text-[#5e8f3e] mb-6",children:h.upload.title}),(0,wt.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-xl mx-auto",children:[(0,wt.jsxs)("p",{className:"text-center text-sm font-semibold text-gray-800 mb-4",children:[h.upload.attachments," ",(0,wt.jsx)("span",{className:"text-rose-600",children:"*"})]}),(0,wt.jsx)("p",{className:"text-center text-xs text-gray-600 mb-6 leading-relaxed",children:h.upload.attachmentsInfo}),(0,wt.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-[#b3d088] transition-all bg-white mb-6 w-full",children:[(0,wt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.mp4,.pdf",onChange:e=>{const t=Array.from(e.target.files),n=[],s=[],i=["image/jpeg","image/jpg","image/png","video/mp4","application/pdf"];t.forEach(e=>{i.includes(e.type)?e.size>26214400?n.push("".concat(e.name,": Taille trop grande (").concat((e.size/1048576).toFixed(2)," Mo > 25 Mo)")):s.push(e):n.push("".concat(e.name,": Type de fichier non support\xe9 (").concat(e.type||"inconnu",")"))}),l(n),s.length>0&&(r(e=>o(o({},e),{},{files:[...e.files,...s]})),a(e=>o(o({},e),{},{files:""}))),e.target.value=""},className:"hidden",id:"file-upload"}),(0,wt.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,wt.jsx)(Qt,{className:"mx-auto mb-3 text-gray-400",size:40}),(0,wt.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:h.upload.uploadLabel}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:h.upload.uploadSubtext})]})]}),s.files&&(0,wt.jsxs)("p",{className:"text-rose-600 text-xs text-center mb-4 flex items-center justify-center gap-1",children:[(0,wt.jsx)(Ut,{size:12})," ",s.files]}),i.length>0&&(0,wt.jsx)("div",{className:"mb-4 space-y-1",children:i.map((e,t)=>(0,wt.jsxs)("p",{className:"text-rose-600 text-xs text-center flex items-center justify-center gap-1",children:[(0,wt.jsx)(Lt,{size:12})," ",e]},t))}),n.files.length>0&&(0,wt.jsxs)("div",{className:"mb-6 w-full",children:[(0,wt.jsxs)("p",{className:"text-center font-semibold text-gray-700 mb-3 text-sm",children:[h.upload.filesAdded," (",n.files.length,")"]}),(0,wt.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:n.files.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-3",children:[(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-xs font-medium text-gray-800 truncate",children:e.name}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:f(e.size)})]}),(0,wt.jsx)("button",{onClick:()=>(e=>{r(t=>o(o({},t),{},{files:t.files.filter((t,n)=>n!==e)}))})(t),className:"ml-3 text-rose-600 hover:text-rose-800",children:(0,wt.jsx)(Lt,{size:16})})]},t))})]}),(0,wt.jsxs)("div",{className:"mb-6 flex items-start gap-2 w-full",children:[(0,wt.jsx)("input",{type:"checkbox",id:"acceptTruth",checked:n.acceptTruth||!1,onChange:e=>r(o(o({},n),{},{acceptTruth:e.target.checked})),className:"mt-0.5 h-4 w-4 text-[#b3d088] rounded focus:ring-[#b3d088]"}),(0,wt.jsxs)("label",{htmlFor:"acceptTruth",className:"text-xs text-gray-700 leading-relaxed",children:[(0,wt.jsx)("span",{className:"font-semibold text-rose-600",children:"*"})," ",h.upload.acceptTruth]})]}),s.acceptTruth&&(0,wt.jsxs)("p",{className:"mb-4 text-rose-600 text-xs flex items-center gap-1",children:[(0,wt.jsx)(Ut,{size:12})," ",s.acceptTruth]}),(0,wt.jsxs)("div",{className:"flex justify-center gap-12 pt-6 w-full",children:[(0,wt.jsxs)("button",{type:"button",onClick:()=>c(4),disabled:A,className:"px-8 py-2 border-2 border-[#b3d088] text-[#5e8f3e] hover:text-[#4a7b32] flex items-center gap-2 font-semibold text-lg transition-colors hover:bg-gray-50 disabled:opacity-50",children:[(0,wt.jsx)(_t,{size:24}),h.upload.back]}),(0,wt.jsx)("button",{onClick:()=>{const e={};!0===d&&0===n.files.length&&(e.files=h.errors.filesRequired),n.files.length,n.acceptTruth||(e.acceptTruth=h.errors.truthRequired),a(e),0===Object.keys(e).length&&u()},disabled:A||d&&0===n.files.length||!n.acceptTruth,className:"px-8 py-2 bg-[#b3d088] hover:bg-[#9ec97a] text-white font-bold text-lg transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:A?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[(0,wt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,wt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.upload.submitting]}):h.upload.submit})]})]})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"copyright @ daaq-Mesupres 2025"})})]})},vs=e=>{let{language:t,referenceCode:r,resetForm:s,navigate:a}=e;const i=hs[t],o=new URL(n(3531),n.b).href,l=new URL(n(3026),n.b).href,A=r||(()=>{const e=(new Date).toISOString().slice(0,10).replace(/-/g,""),t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let n="";for(let r=0;r<6;r++)n+=t.charAt(Math.floor(36*Math.random()));return"REF-".concat(e,"-").concat(n)})();return(0,wt.jsxs)("div",{className:"bg-[#f9faf7] min-h-screen flex flex-col items-center justify-center p-3 overflow-hidden relative font-bill",children:[(0,wt.jsxs)("div",{className:"relative flex flex-col items-center justify-center w-full max-w-2xl",children:[(0,wt.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-0",children:[(0,wt.jsx)("img",{src:o,alt:"Fond d\xe9coratif",className:"w-full max-w-2xl h-auto object-contain opacity-40"}),(0,wt.jsx)("button",{onClick:s,className:"absolute -top-10 -right-1 z-50 bg-white text-red-500\r border-2 border-red-500 rounded-full w-6 h-6\r flex items-center justify-center hover:bg-red-50\r transition-all shadow-md text-lg font-thin pointer-events-auto",children:"\xd7"})]}),(0,wt.jsxs)("div",{className:"relative z-10 text-center space-y-3 px-2 md:px-6",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-center gap-2 md:gap-4",children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:(0,wt.jsx)("img",{src:l,alt:"Validation",className:"w-14 h-14 md:w-20 md:h-20 lg:w-24 lg:h-24 object-contain"})}),(0,wt.jsxs)("div",{className:"text-left space-y-1",children:[(0,wt.jsx)("h1",{className:"text-base md:text-xl lg:text-2xl font-bold text-[#5e8f3e] leading-tight",children:i.success.title}),(0,wt.jsx)("p",{className:"text-gray-700 text-xs md:text-sm lg:text-base",children:i.success.thanks})]})]}),(0,wt.jsxs)("div",{className:"mt-2 md:mt-4 space-y-1 md:space-y-2",children:[(0,wt.jsx)("p",{className:"text-gray-600 text-xs md:text-sm font-medium",children:i.success.reference}),(0,wt.jsxs)("div",{onClick:async()=>{try{await navigator.clipboard.writeText(A),alert("fr"===t?"R\xe9f\xe9rence copi\xe9e !":"Naoty ny r\xe9f\xe9rence !")}catch(e){console.error("Erreur lors de la copie: ",e)}},className:"bg-white border border-[#b3d088] rounded-md p-1 md:p-2 max-w-[240px] md:max-w-sm mx-auto cursor-pointer hover:bg-green-50 transition-colors group",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between gap-0.5 md:gap-2",children:[(0,wt.jsx)("span",{className:"font-mono font-bold text-[10px] md:text-base text-gray-900 tracking-tight flex-1 text-center break-all",children:A}),(0,wt.jsx)("svg",{className:"w-2.5 h-2.5 md:w-4 md:h-4 text-gray-400 group-hover:text-[#5e8f3e] transition-colors flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]}),(0,wt.jsx)("p",{className:"text-[9px] md:text-xs text-gray-500 mt-0.5 text-center",children:"fr"===t?"Cliquez pour copier":"Tsindrio hanonta"})]})]}),(0,wt.jsx)("div",{className:"mt-2 md:mt-4",children:(0,wt.jsxs)("button",{onClick:()=>a("/suivi"),className:"bg-[#5e8f3e] hover:bg-[#4a7b32] text-white font-bold py-1 md:py-2 px-3 md:px-6 rounded md:rounded-lg transition-all duration-300 shadow hover:shadow-lg transform hover:scale-105 flex items-center gap-1 md:gap-2 mx-auto text-[11px] md:text-sm",children:[(0,wt.jsxs)("svg",{className:"w-2.5 h-2.5 md:w-4 md:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),i.success.trackButton]})})]})]}),(0,wt.jsx)("div",{className:"w-full max-w-6xl text-center mt-2 md:mt-4",children:(0,wt.jsx)("div",{className:"text-gray-500 text-[9px] md:text-xs",children:"copyright @ daaq-Mesupres 2025"})})]})},ys=()=>{const e=de(),[n,r]=(0,t.useState)(0),[s,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(null),[l,A]=(0,t.useState)(""),[c,u]=(0,t.useState)("fr"),[d,h]=(0,t.useState)({name:"",email:"",phone:"",address:"",categoryDetails:"",acceptTerms:!1,acceptTruth:!1,files:[]}),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(""),[x,b]=(0,t.useState)([]),[v,y]=(0,t.useState)(!1),[w,B]=(0,t.useState)({}),N=async()=>{const e=hs[c];y(!0);try{console.log("\ud83d\udd04 Pr\xe9paration du formulaire...");const t=new FormData;if(t.append("type",s?"anonyme":"identifie"),t.append("name",s?"Anonyme":d.name),t.append("email",s?"":d.email),t.append("phone",s?"":d.phone),t.append("address",s?"":d.address),t.append("category",l),t.append("description",d.categoryDetails),t.append("accept_terms",d.acceptTerms?1:0),t.append("accept_truth",d.acceptTruth?1:0),t.append("has_proof",i?1:0),d.files&&d.files.length>0)for(const e of d.files)t.append("files[]",e),console.log("\ud83d\udcc1 Fichier ajout\xe9: ".concat(e.name," (").concat(e.type,", ").concat(e.size," bytes)"));console.log("\ud83d\udce8 Envoi FormData au serveur...");const n=await is.post("/reports",t,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("\u2705 R\xe9ponse du serveur:",n.data),!n.data.success)throw new Error(n.data.message||e.errors.submission);g(n.data.reference),r(6)}catch(A){var t,n,a,o;console.error("\ud83d\udca5 Erreur lors de l'envoi:",A);let r=e.errors.submission;null!==(t=A.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.errors?r=Object.entries(A.response.data.errors).map(e=>{let[t,n]=e;return"".concat(t,": ").concat(n.join(", "))}).join("\n"):null!==(a=A.response)&&void 0!==a&&null!==(o=a.data)&&void 0!==o&&o.message&&(r=A.response.data.message),alert("\u274c ".concat(r))}finally{y(!1)}},j=()=>{m(!1),r(0),h({name:"",email:"",phone:"",address:"",categoryDetails:"",acceptTerms:!1,acceptTruth:!1,files:[]}),A(""),a(null),o(null),B({})};return f?(0,wt.jsx)(vs,{language:c,referenceCode:p,navigate:e,resetForm:j}):0===n?(0,wt.jsx)(fs,{language:c,setLanguage:u,setStep:r,navigate:e}):1===n?(0,wt.jsx)(ms,{language:c,setStep:r,setIsAnonymous:a}):2===n?(0,wt.jsx)(ps,{language:c,setStep:r,setHasProof:o,isAnonymous:s}):3===n?(0,wt.jsx)(gs,{language:c,formData:d,setFormData:h,errors:w,setErrors:B,setStep:r,hasProof:i}):4===n?(0,wt.jsx)(xs,{language:c,isAnonymous:s,selectedCategory:l,setSelectedCategory:A,formData:d,setFormData:h,errors:w,setErrors:B,setStep:r,hasProof:i,setReferenceCode:g}):5===n?(0,wt.jsx)(bs,{language:c,formData:d,setFormData:h,errors:w,setErrors:B,fileErrors:x,setFileErrors:b,isSubmitting:v,setStep:r,handleSubmit:N,hasProof:i}):6===n?(0,wt.jsx)(vs,{language:c,referenceCode:p,navigate:e,resetForm:j}):null},ws=Et("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Bs=Et("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ns=Et("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),js=Et("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Cs=Et("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ks=Et("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Fs=Et("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Ss=Et("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Es=Et("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),_s=Et("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Us=Et("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Qs=Et("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Ls=Et("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Is=Et("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ms=Et("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),Ds=Et("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),Ps=Et("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ts=Et("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Os=Et("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Hs=Et("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),Rs=Et("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),zs=Et("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Ks=Et("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Vs=Et("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),qs=Et("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Ws=Et("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Gs=new class{_normalizeError(e){var t;return null!==e&&void 0!==e&&e.response?{status:e.response.status,data:e.response.data,message:(null===(t=e.response.data)||void 0===t?void 0:t.message)||e.response.statusText||"Erreur API"}:{status:null,data:null,message:(null===e||void 0===e?void 0:e.message)||"Network Error",code:null===e||void 0===e?void 0:e.code}}async getUserChats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";try{return(await is.get("/chat",{params:{filter:e}})).data}catch(t){throw this._normalizeError(t)}}async getDossierInfo(e){try{return(await is.post("/chats/check-reference",{reference:e})).data}catch(t){throw this._normalizeError(t)}}async checkChatByReference(e){try{return(await is.get("/chats/check-by-reference/".concat(e),{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async createSupportChat(e){try{return(await is.post("/chats/support",e,{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async sendMessageToPublicChat(e,t){try{return(await is.post("/chats/".concat(e,"/messages/public"),t,{headers:{Accept:"application/json"}})).data}catch(n){throw this._normalizeError(n)}}async getPublicConversation(e){try{return(await is.get("/chats/".concat(e,"/public"),{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async markPublicAsRead(e){try{return(await is.post("/chats/public/".concat(e,"/mark-read"),{},{headers:{Accept:"application/json"}})).data}catch(t){throw console.error("Erreur markPublicAsRead:",t),this._normalizeError(t)}}async getRecentPublicChats(){try{return(await is.get("/chats/recent/public",{headers:{Accept:"application/json"}})).data}catch(e){throw this._normalizeError(e)}}async getChatDetails(e){try{return(await is.get("/chat/".concat(e))).data}catch(t){throw this._normalizeError(t)}}async sendMessage(e,t){try{return(await is.post("/chat/".concat(e,"/message"),t,{headers:{Accept:"application/json"}})).data}catch(n){throw this._normalizeError(n)}}async uploadFile(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{const s=new FormData;s.append("file",t),s.append("type",n);return(await is.post("/chat/".concat(e,"/upload"),s,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},onUploadProgress:e=>{if(r&&e.total){const t=Math.round(100*e.loaded/e.total);r(t)}}})).data}catch(s){throw this._normalizeError(s)}}async sendPublicMessageWithFile(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{const r=new FormData;t.file&&r.append("file",t.file),r.append("type",t.type||"file"),t.content&&r.append("content",t.content),t.sendername&&r.append("sendername",t.sendername),t.senderemail&&r.append("senderemail",t.senderemail);return(await is.post("/chats/".concat(e,"/messages/public"),r,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},onUploadProgress:e=>{if(n&&e.total){const t=Math.round(100*e.loaded/e.total);n(t)}}})).data}catch(r){throw this._normalizeError(r)}}getChatFileUrl(e){if(!e)return null;const t=e.split("/").pop();return"".concat(ss,"/api/chat-files/public/").concat(t)}async downloadChatFile(e){try{const t=this.getChatFileUrl(e),n=await fetch(t,{method:"GET",headers:{Accept:"*/*"}});if(!n.ok)throw new Error("Erreur t\xe9l\xe9chargement: ".concat(n.status));const r=await n.blob(),s=window.URL.createObjectURL(r),a=document.createElement("a");return a.href=s,a.download=e.split("/").pop(),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s),{success:!0}}catch(t){throw console.error("Erreur downloadChatFile:",t),this._normalizeError(t)}}async toggleImportant(e){try{return(await is.put("/chat/".concat(e,"/toggle-important"),{},{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async markAsRead(e){try{return(await is.put("/chat/".concat(e,"/mark-read"),{},{headers:{Accept:"application/json"}})).data}catch(t){throw this._normalizeError(t)}}async updateVisitorOnlineStatus(e,t,n){try{return(await is.post("/chats/".concat(e,"/visitor/online-status"),{is_online:t,reference:n},{headers:{Accept:"application/json"}})).data}catch(r){throw console.error("Erreur updateVisitorOnlineStatus:",r),this._normalizeError(r)}}async getVisitorOnlineStatus(e){try{return(await is.get("/chats/".concat(e,"/visitor/online-status"),{headers:{Accept:"application/json"}})).data}catch(t){throw console.error("Erreur getVisitorOnlineStatus:",t),this._normalizeError(t)}}async searchChats(e){try{return(await is.get("/chat/search",{params:{q:e}})).data}catch(t){throw this._normalizeError(t)}}async filterChatsByStatus(e){try{return(await is.get("/chat/filter",{params:{status:e}})).data}catch(t){throw this._normalizeError(t)}}async createAdminChat(e){try{return(await is.post("/chats/admin/create",e)).data}catch(t){throw console.error("Erreur cr\xe9ation chat admin:",t),this._normalizeError(t)}}},Ys=(Math.pow(10,8),6048e5),Js=43200,Xs=Symbol.for("constructDateFrom");function Zs(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&Xs in e?e[Xs](t):e instanceof Date?new e.constructor(t):new Date(t)}function $s(e){return Zs(e,Date.now())}function ea(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=Zs.bind(null,e||n.find(e=>"object"===typeof e));return n.map(s)}function ta(e,t){return Zs(t||e,e)}function na(e,t){const n=ta(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function ra(e,t,n){const[r,s]=ea(null===n||void 0===n?void 0:n.in,e,t);return+na(r)===+na(s)}function sa(e,t){return ra(Zs((null===t||void 0===t?void 0:t.in)||e,e),$s((null===t||void 0===t?void 0:t.in)||e))}function aa(e,t,n){const r=ta(e,null===n||void 0===n?void 0:n.in);return isNaN(t)?Zs((null===n||void 0===n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function ia(e,t,n){return aa(e,-t,n)}function oa(e,t){return ra(Zs((null===t||void 0===t?void 0:t.in)||e,e),ia($s((null===t||void 0===t?void 0:t.in)||e),1))}function la(e){const t=ta(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Aa(e,t,n){const[r,s]=ea(null===n||void 0===n?void 0:n.in,e,t),a=na(r),i=na(s),o=+a-la(a),l=+i-la(i);return Math.round((o-l)/864e5)}const ca={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ua(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const da={date:ua({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ua({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ua({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ha={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function fa(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[s]||e.formattingValues[t]}else{const t=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const ma={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:fa({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:fa({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:fa({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:fa({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:fa({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function pa(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(i)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(i));let A;A=e.valueCallback?e.valueCallback(l):l,A=n.valueCallback?n.valueCallback(A):A;return{value:A,rest:t.slice(i.length)}}}function ga(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;return{value:i,rest:t.slice(s.length)}}}const xa={ordinalNumber:ga({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:pa({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:pa({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:pa({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:pa({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:pa({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},ba={code:"en-US",formatDistance:(e,t,n)=>{let r;const s=ca[e];return r="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:da,formatRelative:(e,t,n,r)=>ha[e],localize:ma,match:xa,options:{weekStartsOn:0,firstWeekContainsDate:1}};let va={};function ya(){return va}function wa(e,t){const n=ta(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ba(e,t){const n=ta(e,null===t||void 0===t?void 0:t.in);return Aa(n,wa(n))+1}function Na(e,t){var n,r,s,a,i,o;const l=ya(),A=null!==(n=null!==(r=null!==(s=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==s?s:l.weekStartsOn)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==n?n:0,c=ta(e,null===t||void 0===t?void 0:t.in),u=c.getDay(),d=(u<A?7:0)+u-A;return c.setDate(c.getDate()-d),c.setHours(0,0,0,0),c}function ja(e,t){return Na(e,o(o({},t),{},{weekStartsOn:1}))}function Ca(e,t){const n=ta(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),s=Zs(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=ja(s),i=Zs(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=ja(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function ka(e,t){const n=Ca(e,t),r=Zs((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ja(r)}function Fa(e,t){const n=ta(e,null===t||void 0===t?void 0:t.in),r=+ja(n)-+ka(n);return Math.round(r/Ys)+1}function Sa(e,t){var n,r,s,a,i,o;const l=ta(e,null===t||void 0===t?void 0:t.in),A=l.getFullYear(),c=ya(),u=null!==(n=null!==(r=null!==(s=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==s?s:c.firstWeekContainsDate)&&void 0!==r?r:null===(o=c.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,d=Zs((null===t||void 0===t?void 0:t.in)||e,0);d.setFullYear(A+1,0,u),d.setHours(0,0,0,0);const h=Na(d,t),f=Zs((null===t||void 0===t?void 0:t.in)||e,0);f.setFullYear(A,0,u),f.setHours(0,0,0,0);const m=Na(f,t);return+l>=+h?A+1:+l>=+m?A:A-1}function Ea(e,t){var n,r,s,a,i,o;const l=ya(),A=null!==(n=null!==(r=null!==(s=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==s?s:l.firstWeekContainsDate)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,c=Sa(e,t),u=Zs((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(c,0,A),u.setHours(0,0,0,0);return Na(u,t)}function _a(e,t){const n=ta(e,null===t||void 0===t?void 0:t.in),r=+Na(n,t)-+Ea(n,t);return Math.round(r/Ys)+1}function Ua(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Qa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ua("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Ua(n+1,2)},d:(e,t)=>Ua(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Ua(e.getHours()%12||12,t.length),H:(e,t)=>Ua(e.getHours(),t.length),m:(e,t)=>Ua(e.getMinutes(),t.length),s:(e,t)=>Ua(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Ua(Math.trunc(r*Math.pow(10,n-3)),t.length)}},La="midnight",Ia="noon",Ma="morning",Da="afternoon",Pa="evening",Ta="night",Oa={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Qa.y(e,t)},Y:function(e,t,n,r){const s=Sa(e,r),a=s>0?s:1-s;if("YY"===t){return Ua(a%100,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):Ua(a,t.length)},R:function(e,t){return Ua(Ca(e),t.length)},u:function(e,t){return Ua(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ua(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ua(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Qa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ua(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=_a(e,r);return"wo"===t?n.ordinalNumber(s,{unit:"week"}):Ua(s,t.length)},I:function(e,t,n){const r=Fa(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Ua(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Qa.d(e,t)},D:function(e,t,n){const r=Ba(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Ua(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ua(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ua(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=0===r?7:r;switch(t){case"i":return String(s);case"ii":return Ua(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(s=12===r?Ia:0===r?La:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(s=r>=17?Pa:r>=12?Da:r>=4?Ma:Ta,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Qa.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Qa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ua(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Ua(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Qa.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Qa.s(e,t)},S:function(e,t){return Qa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Ra(r);case"XXXX":case"XX":return za(r);default:return za(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Ra(r);case"xxxx":case"xx":return za(r);default:return za(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ha(r,":");default:return"GMT"+za(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ha(r,":");default:return"GMT"+za(r,":")}},t:function(e,t,n){return Ua(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Ua(+e,t.length)}};function Ha(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return 0===a?n+String(s):n+String(s)+t+Ua(a,2)}function Ra(e,t){if(e%60===0){return(e>0?"-":"+")+Ua(Math.abs(e)/60,2)}return za(e,t)}function za(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Ua(Math.trunc(r/60),2)+t+Ua(r%60,2)}const Ka=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Va=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},qa={p:Va,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Ka(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",Ka(r,t)).replace("{{time}}",Va(s,t))}},Wa=/^D+$/,Ga=/^Y+$/,Ya=["D","DD","YY","YYYY"];function Ja(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Xa(e){return!(!Ja(e)&&"number"!==typeof e||isNaN(+ta(e)))}const Za=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$a=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ei=/^'([^]*?)'?$/,ti=/''/g,ni=/[a-zA-Z]/;function ri(e,t,n){var r,s,a,i,o,l,A,c,u,d,h,f,m,p;const g=ya(),x=null!==(r=null!==(s=null===n||void 0===n?void 0:n.locale)&&void 0!==s?s:g.locale)&&void 0!==r?r:ba,b=null!==(a=null!==(i=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(A=n.locale)||void 0===A||null===(A=A.options)||void 0===A?void 0:A.firstWeekContainsDate)&&void 0!==o?o:g.firstWeekContainsDate)&&void 0!==i?i:null===(c=g.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:1,v=null!==(u=null!==(d=null!==(h=null!==(f=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==f?f:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==h?h:g.weekStartsOn)&&void 0!==d?d:null===(p=g.locale)||void 0===p||null===(p=p.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==u?u:0,y=ta(e,null===n||void 0===n?void 0:n.in);if(!Xa(y))throw new RangeError("Invalid time value");let w=t.match($a).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,qa[t])(e,x.formatLong)}return e}).join("").match(Za).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:si(e)};if(Oa[t])return{isToken:!0,value:e};if(t.match(ni))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});x.localize.preprocessor&&(w=x.localize.preprocessor(y,w));const B={firstWeekContainsDate:b,weekStartsOn:v,locale:x};return w.map(r=>{if(!r.isToken)return r.value;const s=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return Ga.test(e)}(s))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return Wa.test(e)}(s))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),Ya.includes(e))throw new RangeError(r)}(s,t,String(e));return(0,Oa[s[0]])(y,s,x.localize,B)}).join("")}function si(e){const t=e.match(ei);return t?t[1].replace(ti,"'"):e}function ai(e,t){const n=+ta(e)-+ta(t);return n<0?-1:n>0?1:n}function ii(e,t,n){const[r,s]=ea(null===n||void 0===n?void 0:n.in,e,t);return 12*(r.getFullYear()-s.getFullYear())+(r.getMonth()-s.getMonth())}function oi(e,t){const n=ta(e,null===t||void 0===t?void 0:t.in);return n.setHours(23,59,59,999),n}function li(e,t){const n=ta(e,null===t||void 0===t?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Ai(e,t){const n=ta(e,null===t||void 0===t?void 0:t.in);return+oi(n,t)===+li(n,t)}function ci(e,t,n){const[r,s,a]=ea(null===n||void 0===n?void 0:n.in,e,e,t),i=ai(s,a),o=Math.abs(ii(s,a));if(o<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*o);let l=ai(s,a)===-i;Ai(r)&&1===o&&1===ai(r,a)&&(l=!1);const A=i*(o-+l);return 0===A?0:A}function ui(e,t){return+ta(e)-+ta(t)}function di(e,t,n){const r=ui(e,t)/1e3;return(s=null===n||void 0===n?void 0:n.roundingMethod,e=>{const t=(s?Math[s]:Math.trunc)(e);return 0===t?0:t})(r);var s}function hi(e,t,n){var r,s;const a=ya(),i=null!==(r=null!==(s=null===n||void 0===n?void 0:n.locale)&&void 0!==s?s:a.locale)&&void 0!==r?r:ba,o=ai(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:null===n||void 0===n?void 0:n.addSuffix,comparison:o}),[A,c]=ea(null===n||void 0===n?void 0:n.in,...o>0?[t,e]:[e,t]),u=di(c,A),d=(la(c)-la(A))/1e3,h=Math.round((u-d)/60);let f;if(h<2)return null!==n&&void 0!==n&&n.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,l):u<10?i.formatDistance("lessThanXSeconds",10,l):u<20?i.formatDistance("lessThanXSeconds",20,l):u<40?i.formatDistance("halfAMinute",0,l):u<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):0===h?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<1440){const e=Math.round(h/60);return i.formatDistance("aboutXHours",e,l)}if(h<2520)return i.formatDistance("xDays",1,l);if(h<Js){const e=Math.round(h/1440);return i.formatDistance("xDays",e,l)}if(h<86400)return f=Math.round(h/Js),i.formatDistance("aboutXMonths",f,l);if(f=ci(c,A),f<12){const e=Math.round(h/Js);return i.formatDistance("xMonths",e,l)}{const e=f%12,t=Math.trunc(f/12);return e<3?i.formatDistance("aboutXYears",t,l):e<9?i.formatDistance("overXYears",t,l):i.formatDistance("almostXYears",t+1,l)}}function fi(e,t){return hi(e,$s(e),t)}const mi={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}},pi={date:ua({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:ua({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:ua({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},gi={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"},xi=["MMM","MMMM"],bi={preprocessor:(e,t)=>{if(1===e.getDate())return t;return t.some(e=>e.isToken&&xi.includes(e.value))?t.map(e=>e.isToken&&"do"===e.value?{isToken:!0,value:"d"}:e):t},ordinalNumber:(e,t)=>{const n=Number(e),r=null===t||void 0===t?void 0:t.unit;if(0===n)return"0";let s;return s=1===n?r&&["year","week","hour","minute","second"].includes(r)?"\xe8re":"er":"\xe8me",n+s},era:fa({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:fa({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:fa({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:fa({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:fa({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},vi={ordinalNumber:ga({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e)}),era:pa({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:pa({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:pa({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:pa({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:pa({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},yi={code:"fr",formatDistance:(e,t,n)=>{let r;const s=mi[e];return r="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",String(t)),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},formatLong:pi,formatRelative:(e,t,n,r)=>gi[e],localize:bi,match:vi,options:{weekStartsOn:1,firstWeekContainsDate:4}},wi=t.memo(e=>{var n,r,s,a;let{msg:i,index:o,messages:l,isMe:A,openImageViewer:c,resolveChatFileUrl:u,getVisitorDisplayName:d,formatTime:h,MessageStatusIcon:f}=e;const m=d(i.isanonymous,i.sendername,i.senderreference),p=u(i.fileinfo),g=i.rawDate;let x=!1,b=null;const v=e=>{if(!e)return null;try{let t;if("string"===typeof e){if(e.length<=5)return null;t=new Date(e)}else t=new Date(e);if(isNaN(t.getTime()))return null;if(sa(t))return"Aujourd'hui";if(oa(t))return"Hier";if(Aa(new Date,t)<7){const e=ri(t,"EEEE",{locale:yi});return e.charAt(0).toUpperCase()+e.slice(1)}return ri(t,"dd/MM/yyyy")}catch(NN){return null}};if(g)if(0===o)x=!0,b=v(g);else{const e=l[o-1],t=null===e||void 0===e?void 0:e.rawDate;if(t)try{const e=new Date(g),n=new Date(t);isNaN(e.getTime())||isNaN(n.getTime())||ra(e,n)||(x=!0,b=v(g))}catch(NN){console.error("Erreur date:",NN)}}return(0,wt.jsxs)(t.Fragment,{children:[x&&b&&(0,wt.jsx)("div",{className:"flex justify-center my-3",children:(0,wt.jsx)("span",{className:"bg-white text-gray-500 text-xs font-medium px-3 py-1 rounded-lg shadow-sm border border-gray-200",children:b})}),(0,wt.jsx)("div",{className:"flex ".concat(A?"justify-end":"justify-start"),children:(0,wt.jsxs)("div",{className:"max-w-[80%] ".concat(A?"":"flex gap-2"),children:[!A&&(0,wt.jsx)("div",{className:"flex flex-col items-center flex-shrink-0",children:(0,wt.jsx)("img",{src:i.avatar,alt:"Avatar",className:"w-8 h-8 rounded-full"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[!A&&(0,wt.jsxs)("div",{className:"mb-1 px-2",children:[(0,wt.jsx)("p",{className:"text-[10px] font-semibold text-gray-700",children:i.sendername||"Support FOSIKA"}),(0,wt.jsx)("p",{className:"text-[9px] text-gray-500",children:"\xc9quipe d\\'assistance"})]}),A&&(0,wt.jsxs)("div",{className:"mb-1 px-2 text-right",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[i.isanonymous?(0,wt.jsx)(Ls,{className:"w-3 h-3 text-gray-400"}):(0,wt.jsx)(ks,{className:"w-3 h-3 text-blue-500"}),(0,wt.jsx)("p",{className:"text-[10px] font-semibold text-gray-700",children:m.mainName})]}),m.subName&&(0,wt.jsx)("p",{className:"text-[9px] text-gray-500",children:m.subName})]}),(0,wt.jsxs)("div",{className:"rounded-2xl shadow-sm overflow-hidden ".concat(A?"bg-green-600 text-white rounded-br-sm":"bg-white text-gray-800 border border-gray-200 rounded-bl-sm"),children:["image"===i.type&&p?(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("img",{src:p,alt:(null===(n=i.fileinfo)||void 0===n?void 0:n.name)||"Image",className:"w-full max-w-xs cursor-pointer rounded-lg",style:{maxHeight:"300px",objectFit:"cover"},onClick:()=>c(p),onError:e=>{e.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"}}),(0,wt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all flex items-center justify-center rounded-lg",children:(0,wt.jsx)("button",{onClick:()=>c(p),className:"opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all bg-white/90 hover:bg-white p-2 rounded-full shadow-lg",children:(0,wt.jsx)(Is,{className:"w-5 h-5 text-gray-800"})})})]}):"video"===i.type&&p?(0,wt.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden max-w-xs",children:[(0,wt.jsx)("video",{controls:!0,className:"w-full",style:{maxHeight:"250px"},preload:"metadata",children:(0,wt.jsx)("source",{src:p,type:(null===(r=i.fileinfo)||void 0===r?void 0:r.type)||"video/mp4"})}),(0,wt.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,wt.jsx)(Ms,{className:"w-3 h-3"}),"Vid\xe9o"]})]}):"file"===i.type&&p?(0,wt.jsx)("div",{className:"p-3 ".concat(A?"bg-green-700":"bg-gray-50"),children:(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)("div",{className:"p-2 rounded-lg ".concat(A?"bg-green-800":"bg-white border border-gray-200"),children:(0,wt.jsx)(Ds,{className:"w-5 h-5 ".concat(A?"text-white":"text-gray-600")})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-xs font-medium truncate ".concat(A?"text-white":"text-gray-800"),children:(null===(s=i.fileinfo)||void 0===s?void 0:s.name)||"Fichier"}),(null===(a=i.fileinfo)||void 0===a?void 0:a.size)&&(0,wt.jsxs)("p",{className:"text-[10px] ".concat(A?"text-green-200":"text-gray-500"),children:[(i.fileinfo.size/1024).toFixed(2)," KB"]})]}),(0,wt.jsx)("a",{href:p,download:!0,className:"p-2 rounded-lg transition-colors ".concat(A?"bg-green-800 hover:bg-green-900":"bg-white hover:bg-gray-100 border border-gray-200"),children:(0,wt.jsx)(Qs,{className:"w-4 h-4 ".concat(A?"text-white":"text-gray-600")})})]})}):(0,wt.jsx)("div",{className:"p-3",children:(0,wt.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:i.text})}),(0,wt.jsxs)("div",{className:"px-3 pb-2 flex items-center gap-2 justify-end text-[10px] ".concat(A?"text-green-100":"text-gray-500"),children:[(0,wt.jsx)("span",{children:h(i.time)}),A&&(0,wt.jsx)(f,{status:i.status})]})]})]})]})})]})},(e,t)=>e.msg.id===t.msg.id&&e.msg.status===t.msg.status&&e.msg.readat===t.msg.readat&&e.isMe===t.isMe),Bi=e=>{var n;let{reference:r,dossierInfo:s,onOpenFullChat:a}=e;const[i,l]=(0,t.useState)(!1),[A,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(""),[h,f]=(0,t.useState)([]),[m,p]=(0,t.useState)(null),[g,x]=(0,t.useState)(!1),[b,v]=(0,t.useState)(null),[y,w]=(0,t.useState)(!1),[B,N]=(0,t.useState)(!1),[j,C]=(0,t.useState)(!1),[k,F]=(0,t.useState)(!1),[S,E]=(0,t.useState)(0),[_,U]=(0,t.useState)(null),[Q,L]=(0,t.useState)(null),[I,M]=(0,t.useState)(0),[D,P]=(0,t.useState)({isOpen:!1,currentImage:null,currentIndex:0,images:[]}),[T,O]=(0,t.useState)({isOnline:!1,lastSeen:null}),[H,R]=(0,t.useState)(null),[z,K]=(0,t.useState)(!1),V=(0,t.useRef)(null),q=(0,t.useRef)(null),W=(0,t.useRef)(null),G=(0,t.useRef)(null),Y=(0,t.useRef)(null),J=(0,t.useRef)(null),X=(0,t.useRef)(0),Z=(0,t.useRef)(0),$=(0,t.useRef)(null),ee=(0,t.useRef)(null),te=(0,t.useRef)((new Date).toISOString()),ne=(0,t.useCallback)(()=>{var e;if(m&&(null===(e=$.current)||void 0===e?void 0:e.readyState)!==WebSocket.OPEN)try{const e="ws://localhost:6001/chat/".concat(m),t=new WebSocket(e);t.onopen=()=>{console.log("\u2705 WebSocket connect\xe9"),K(!0),t.send(JSON.stringify({type:"auth",reference:r,chatId:m}))},t.onmessage=e=>{try{const t=JSON.parse(e.data);if("new_message"===t.type){const e={id:t.message.id,text:t.message.text||t.message.content,sender:t.message.sender,time:t.message.time||t.message.createdat,rawDate:t.message.createdat||t.message.created_at||t.message.time,sendername:t.message.sendername,senderreference:t.message.senderreference,isanonymous:t.message.isanonymous,status:t.message.status,readat:t.message.readat,deliveredat:t.message.deliveredat,type:t.message.type,fileinfo:t.message.fileinfo,avatar:"support"===t.message.sender?"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff":ie(t.message.isanonymous,t.message.sendername)};f(t=>t.some(t=>t.id===e.id)?t:[...t,e]),i&&!A||(E(e=>e+1),re())}else"message_status_update"===t.type?f(e=>e.map(e=>e.id===t.messageId?o(o({},e),{},{status:t.status,readat:t.readat,deliveredat:t.deliveredat}):e)):"support_typing"===t.type&&console.log("Support est en train d'\xe9crire...")}catch(t){console.error("Erreur parsing WebSocket message:",t)}},t.onerror=e=>{console.error("\u274c WebSocket erreur:",e),K(!1)},t.onclose=()=>{console.log("\ud83d\udd0c WebSocket d\xe9connect\xe9"),K(!1),ee.current=setTimeout(()=>{console.log("\ud83d\udd04 Tentative de reconnexion WebSocket..."),ne()},3e3)},$.current=t,R(t)}catch(t){console.error("Erreur cr\xe9ation WebSocket:",t),K(!1)}},[m,r,i,A]),re=()=>{const e=new Audio("/notification.mp3");e.volume=.5,e.play().catch(e=>console.log("Notification sound blocked:",e))},se=(0,t.useCallback)(e=>{if(!e)return null;const t=e.url||e.name||e.filename;return t?Gs.getChatFileUrl(t):null},[]),ae=(0,t.useCallback)(()=>({id:"auto-welcome",text:"Salama tompoko,\n\nVoaray soamantsara ny fitarainanao laharana: ".concat(r,".\n\nRaha mbola misy zavatra tianao ampiana, na raha manana fanontaniana ianao, dia afaka manoratra ato amin'ity resaka ity foana.\n\nHamaly anao haingana araka izay tratra."),sender:"support",sendername:"Support FOSIKA",time:te.current,rawDate:te.current,avatar:"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff",status:"read",readat:(new Date).toISOString(),type:"text",isVirtual:!0}),[r]),ie=(0,t.useCallback)((e,t)=>{if(e)return"https://ui-avatars.com/api?name=Anonyme&background=94a3b8&color=fff";return"https://ui-avatars.com/api?name=".concat(encodeURIComponent(t||"Visiteur"),"&background=3b82f6&color=fff")},[]),oe=(0,t.useCallback)((e,t,n)=>e?{mainName:"Anonyme",subName:n||"Visiteur anonyme"}:{mainName:t||"Visiteur",subName:n||null},[]),le=(0,t.useCallback)(e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?"":fi(t,{addSuffix:!0,locale:yi})}catch(NN){return e}},[]),Ae=(0,t.useCallback)(e=>{if(!e)return"";try{if("string"===typeof e&&e.includes(":"))return e;const t=new Date(e);return isNaN(t.getTime())?"":ri(t,"HH:mm",{locale:yi})}catch(NN){return e}},[]),ce=(0,t.useCallback)(e=>{let{status:t}=e;return t&&"sent"!==t?"delivered"===t?(0,wt.jsx)(Ts,{className:"w-3.5 h-3.5 text-gray-400"}):"read"===t?(0,wt.jsx)(Ts,{className:"w-3.5 h-3.5 text-blue-500"}):null:(0,wt.jsx)(Ps,{className:"w-3.5 h-3.5 text-gray-400"})},[]);(0,t.useEffect)(()=>{const e=()=>F(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{r&&i&&!m&&!g&&he()},[r,i,m]),(0,t.useEffect)(()=>(m&&i&&!A&&ne(),()=>{$.current&&$.current.close(),ee.current&&clearTimeout(ee.current)}),[m,i,A,ne]),(0,t.useEffect)(()=>{if(m&&i&&!A&&!z){const e=setInterval(()=>{me(m)},2e3);return()=>clearInterval(e)}},[m,i,A,z]),(0,t.useEffect)(()=>{const e=setInterval(()=>fe(!0),15e3);return fe(!0),()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{if(m&&i&&!A)return de(),J.current=setInterval(()=>de(),3e4),()=>{J.current&&clearInterval(J.current)}},[m,i,A]),(0,t.useEffect)(()=>{V.current&&(V.current.style.height="auto",V.current.style.height="".concat(Math.min(V.current.scrollHeight,120),"px"))},[u]),(0,t.useEffect)(()=>{if(m&&r&&i&&!A)return Gs.updateVisitorOnlineStatus(m,!0,r).catch(e=>console.error("Erreur statut online",e)),Y.current=setInterval(()=>{Gs.updateVisitorOnlineStatus(m,!0,r).catch(e=>console.error("Erreur statut online",e))},3e4),()=>{Y.current&&clearInterval(Y.current),Gs.updateVisitorOnlineStatus(m,!1,r).catch(e=>console.error("Erreur statut offline",e))}},[m,r,i,A]),(0,t.useEffect)(()=>{ue()},[h]);const ue=()=>{var e;null===(e=G.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},de=async()=>{if(m)try{const e=await Gs.getVisitorOnlineStatus(m);e.success&&O({isOnline:e.isonline,lastSeen:e.lastseen})}catch(e){console.error("Erreur v\xe9rification statut support",e)}},he=async()=>{if(r)try{x(!0),v(null);const e=await Gs.checkChatByReference(r);e.success&&e.exists&&e.chatid?(p(e.chatid),C(!0),await me(e.chatid),await de()):f([ae()])}catch(e){console.error("Erreur v\xe9rification chat existant",e),f([ae()])}finally{x(!1)}},fe=async function(){if(m)try{const e=await Gs.getPublicConversation(m);if(e.success&&e.chat){const t=e.chat.messages||[],n=t.filter(e=>"support"===e.sender&&!e.readat).length;if(Z.current=n,i&&!A||E(n>0?1:0),!i){const e=t.map(e=>({id:e.id,text:e.text||e.content,sender:e.sender,time:e.time||e.createdat,rawDate:e.createdat||e.created_at||e.time,sendername:e.sendername,senderreference:e.senderreference,isanonymous:e.isanonymous,status:e.status,readat:e.readat,deliveredat:e.deliveredat,type:e.type,fileinfo:e.fileinfo,avatar:"support"===e.sender?"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff":ie(e.isanonymous,e.sendername)}));f(e),X.current=e.length}}}catch(e){console.error("Erreur chargement messages arri\xe8re-plan",e)}},me=async e=>{try{const t=await Gs.getPublicConversation(e);if(t.success&&t.chat){const n=t.chat.messages||[];if(0===n.length)f([ae()]),X.current=1;else{const t=n.map(e=>({id:e.id,text:e.text||e.content,sender:e.sender,time:e.time||e.createdat,rawDate:e.createdat||e.created_at||e.time,sendername:e.sendername,senderreference:e.senderreference,isanonymous:e.isanonymous,status:e.status,readat:e.readat,deliveredat:e.deliveredat,type:e.type,fileinfo:e.fileinfo,avatar:"support"===e.sender?"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff":ie(e.isanonymous,e.sendername)}));f(t),X.current=t.length,await Gs.markPublicAsRead(e),E(0),Z.current=0}}}catch(t){console.error("Erreur chargement messages",t)}},pe=async()=>{if(!u||!u.trim())return void d("");const e=u.trim(),t="temp-".concat(Date.now()),n={id:t,text:e,sender:"visitor",sendername:(null===s||void 0===s?void 0:s.name)||"Visiteur",time:(new Date).toISOString(),rawDate:(new Date).toISOString(),status:"sending",type:"text",isanonymous:!1,avatar:ie(!1,(null===s||void 0===s?void 0:s.name)||"Visiteur")};f(e=>[...e,n]),d("");try{w(!0),v(null);const n=await Gs.createSupportChat({reference:r,message:e,name:(null===s||void 0===s?void 0:s.name)||"Visiteur"});var a,i;if(!m&&n.chatid&&(p(n.chatid),C(!0)),n.success)if(f(e=>e.map(e=>{var r,s;return e.id===t?o(o({},e),{},{id:(null===(r=n.message)||void 0===r?void 0:r.id)||e.id,status:"sent",time:(null===(s=n.message)||void 0===s?void 0:s.createdat)||e.time}):e})),(null===(a=$.current)||void 0===a?void 0:a.readyState)===WebSocket.OPEN)$.current.send(JSON.stringify({type:"message_sent",messageId:null===(i=n.message)||void 0===i?void 0:i.id,chatId:m||n.chatid}))}catch(l){console.error("Erreur envoi message",l),v(l.message||"Erreur lors de l'envoi du message"),f(e=>e.map(e=>e.id===t?o(o({},e),{},{status:"failed"}):e))}finally{w(!1)}},ge=(0,t.useCallback)(e=>{const t=h.filter(e=>"image"===e.type&&se(e.fileinfo)).map(e=>{var t;return{url:se(e.fileinfo),name:null===(t=e.fileinfo)||void 0===t?void 0:t.name,originalIndex:h.indexOf(e)}}),n=t.findIndex(t=>t.url===e);P({isOpen:!0,currentImage:e,currentIndex:n>=0?n:0,images:t})},[h,se]),xe=e=>{const t="next"===e?(D.currentIndex+1)%D.images.length:(D.currentIndex-1+D.images.length)%D.images.length;P(e=>o(o({},e),{},{currentIndex:t,currentImage:e.images[t].url}))},be=()=>{l(!1),c(!1)};return r?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("input",{ref:q,type:"file",className:"hidden",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;if(!m)return void v("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation");if(n.size>26214400)return void v("Le fichier ne doit pas d\xe9passer 25 MB");if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","video/mp4","video/quicktime","video/x-msvideo","video/x-ms-wmv"].includes(n.type))return void v("Format non support\xe9. Utilisez JPG, JPEG, PNG, MP4 ou PDF");if(n.type.startsWith("video/")){const e=new FileReader;e.onloadend=()=>{L(e.result),U(n),v(null)},e.readAsDataURL(n)}else U(n),L(null),v(null)},accept:".pdf,.doc,.docx,.txt,.xlsx,.xls,.mp4,.mov,.avi,.wmv,video/*"}),(0,wt.jsx)("input",{ref:W,type:"file",className:"hidden",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;if(!m)return void v("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation");if(n.size>26214400)return void v("L'image ne doit pas d\xe9passer 25 MB");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(n.type))return void v("Format d'image non support\xe9. Utilisez JPG, JPEG, PNG, GIF ou WEBP");const r=new FileReader;r.onloadend=()=>{L(r.result),U(n),v(null)},r.readAsDataURL(n)},accept:".jpg,.jpeg,.png,.gif,.webp,image/*"}),D.isOpen&&(0,wt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-[9999] flex items-center justify-center",children:[(0,wt.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent z-10",children:[(0,wt.jsxs)("div",{className:"text-white",children:[(0,wt.jsx)("p",{className:"text-sm font-medium",children:(null===(n=D.images[D.currentIndex])||void 0===n?void 0:n.name)||"Image"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-300",children:[D.currentIndex+1," / ",D.images.length]})]}),(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),P({isOpen:!1,currentImage:null,currentIndex:0,images:[]})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",title:"Fermer",type:"button",children:(0,wt.jsx)(Lt,{className:"w-6 h-6 text-white"})})]}),(0,wt.jsx)("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:(0,wt.jsx)("img",{src:D.currentImage,alt:"Aper\xe7u",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.src="https://via.placeholder.com/400x300?text=Image+non+disponible"}})}),D.images.length>1&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),xe("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image pr\xe9c\xe9dente",type:"button",children:(0,wt.jsx)(_t,{className:"w-6 h-6 text-white"})}),(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),xe("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image suivante",type:"button",children:(0,wt.jsx)(Os,{className:"w-6 h-6 text-white"})})]}),(0,wt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 flex items-center justify-center gap-4 bg-gradient-to-t from-black/50 to-transparent z-10",children:(0,wt.jsx)("button",{onClick:async e=>{var t;e.preventDefault(),e.stopPropagation();const n=D.currentImage,r=(null===(t=D.images[D.currentIndex])||void 0===t?void 0:t.name)||"image.jpg";try{const e=await fetch(n),t=await e.blob(),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)}catch(b){console.error("Erreur t\xe9l\xe9chargement:",b),window.open(n,"_blank")}},className:"p-3 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors",title:"T\xe9l\xe9charger l\\'image",type:"button",children:(0,wt.jsx)(Qs,{className:"w-5 h-5"})})})]}),!i&&(0,wt.jsxs)("button",{onClick:()=>{l(!0),c(!1),v(null),E(0),Z.current=0},className:"fixed bottom-6 right-6 bg-green-600 hover:bg-green-700 text-white rounded-full p-4 shadow-2xl transition-all duration-300 hover:scale-110 z-50 group",title:"Ouvrir le support",children:[(0,wt.jsx)(Hs,{className:"w-7 h-7"}),S>0&&(0,wt.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:S}),(0,wt.jsxs)("div",{className:"absolute -top-2 -left-2 opacity-0 group-hover:opacity-100 transition-opacity bg-white text-gray-800 text-xs rounded-lg px-3 py-2 shadow-lg whitespace-nowrap",children:[(0,wt.jsx)("p",{className:"font-semibold",children:"Support dossier"}),(0,wt.jsx)("p",{className:"text-[10px] text-gray-600",children:r})]})]}),i&&!A&&(0,wt.jsxs)("div",{className:"".concat(k?"fixed inset-0 w-full h-full rounded-none":"fixed bottom-6 right-6 w-96 h-[32rem] rounded-xl"," bg-white shadow-2xl flex flex-col overflow-hidden z-50 border border-gray-200"),children:[(0,wt.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-4 flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,wt.jsx)("img",{src:"https://ui-avatars.com/api?name=Support+FOSIKA&background=4c7026&color=fff",alt:"Support",className:"w-10 h-10 rounded-full border-2 border-white"}),T.isOnline&&(0,wt.jsx)("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 border-2 border-white rounded-full"}),z&&(0,wt.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-400 rounded-full animate-pulse",title:"Connexion temps r\xe9el active"})]}),(0,wt.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,wt.jsx)("h3",{className:"font-bold text-sm truncate",children:"Support FOSIKA"}),T.isOnline?(0,wt.jsxs)("p",{className:"text-xs opacity-90 flex items-center gap-1",children:[(0,wt.jsx)("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"En ligne"]}):(0,wt.jsx)("p",{className:"text-xs opacity-90",children:T.lastSeen?"Vu ".concat(le(T.lastSeen)):"Hors ligne"})]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[!k&&m&&a&&(0,wt.jsx)("button",{onClick:()=>{a&&m&&(a(m),be())},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Agrandir",children:(0,wt.jsx)(Rs,{className:"w-5 h-5"})}),!k&&(0,wt.jsx)("button",{onClick:()=>{c(!0)},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"R\xe9duire",children:(0,wt.jsx)(zs,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:be,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Fermer",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]})]}),(0,wt.jsxs)("div",{className:"bg-green-50 border-b border-green-100 px-4 py-2.5",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Ks,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-700 truncate",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Dossier:"})," ",(null===s||void 0===s?void 0:s.titre)||"Signalement"]})]}),(0,wt.jsxs)("p",{className:"text-[10px] text-gray-600 mt-0.5 font-mono",children:["R\xe9f: ",r]})]}),(0,wt.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-3",children:[g?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,wt.jsx)(Vs,{className:"w-8 h-8 text-green-600 animate-spin mb-3"}),(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:"Chargement de l\\'historique..."})]}):b&&!_?(0,wt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm flex items-start gap-2",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,wt.jsx)("p",{children:b})]}):0===h.length?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,wt.jsx)(Hs,{className:"w-16 h-16 mb-3"}),(0,wt.jsx)("p",{className:"text-sm font-medium",children:"Bienvenue sur le support FOSIKA"}),(0,wt.jsx)("p",{className:"text-xs mt-1 text-center px-4",children:"Envoyez votre premier message pour commencer la conversation avec notre \xe9quipe"})]}):h.map((e,t)=>{const n="visitor"===e.sender;return(0,wt.jsx)(wi,{msg:e,index:t,messages:h,isMe:n,openImageViewer:ge,resolveChatFileUrl:se,getVisitorDisplayName:oe,formatTime:Ae,MessageStatusIcon:ce},e.id||t)}),(0,wt.jsx)("div",{ref:G})]}),_&&(0,wt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[Q?(0,wt.jsx)("img",{src:Q,alt:"Preview",className:"w-16 h-16 object-cover rounded-lg"}):(0,wt.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,wt.jsx)(Ds,{className:"w-8 h-8 text-gray-400"})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium truncate",children:_.name}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:(e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(_.size)}),B&&(0,wt.jsx)("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-1.5",children:(0,wt.jsx)("div",{className:"bg-green-600 h-1.5 rounded-full transition-all",style:{width:"".concat(I,"%")}})})]}),(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("button",{onClick:async()=>{if(_&&m)try{N(!0),v(null);let t="file";_.type.startsWith("image/")?t="image":_.type.startsWith("video/")&&(t="video");var e;if((await Gs.sendPublicMessageWithFile(m,{file:_,type:t,sendername:(null===s||void 0===s?void 0:s.name)||"Visiteur",senderemail:(null===s||void 0===s?void 0:s.email)||null,content:null},e=>M(e))).success)U(null),L(null),M(0),(null===(e=$.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&$.current.send(JSON.stringify({type:"file_sent",chatId:m})),await me(m)}catch(t){console.error("Erreur envoi fichier:",t),v(t.message||"Erreur lors de l'envoi du fichier")}finally{N(!1)}},disabled:B,className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50",children:B?(0,wt.jsx)(Vs,{className:"w-4 h-4 animate-spin"}):(0,wt.jsx)(qs,{className:"w-4 h-4"})}),(0,wt.jsx)("button",{onClick:()=>{U(null),L(null),M(0),v(null)},disabled:B,className:"p-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors disabled:opacity-50",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]})]})}),(0,wt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-end gap-2",children:[(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>{var e;m?null===(e=W.current)||void 0===e||e.click():v("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation")},className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Joindre une image",disabled:!m,children:(0,wt.jsx)(Ws,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:()=>{var e;m?null===(e=q.current)||void 0===e||e.click():v("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation")},className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Joindre un fichier",disabled:!m,children:(0,wt.jsx)(Ds,{className:"w-5 h-5"})})]}),(0,wt.jsx)("textarea",{ref:V,value:u,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),pe())},placeholder:"\xc9crivez votre message...",className:"flex-1 resize-none border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm max-h-[120px]",rows:"1",disabled:y}),(0,wt.jsx)("button",{onClick:pe,disabled:!u.trim()||y,className:"p-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Envoyer",children:y?(0,wt.jsx)(Vs,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(qs,{className:"w-5 h-5"})})]})})]})]}):null},Ni={"faux-diplomes":"\ud83d\udcdc","offre-formation-irreguliere":"\ud83c\udf93","recrutements-irreguliers":"\ud83d\udcbc",harcelement:"\u26a0\ufe0f",corruption:"\ud83d\udd34",divers:"\ud83d\udccb"},ji={"faux-diplomes":"Faux Dipl\xf4mes","offre-formation-irreguliere":"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)","recrutements-irreguliers":"Recrutements Irr\xe9guliers",harcelement:"Harc\xe8lement",corruption:"Corruption",divers:"Divers"},Ci={"faux-diplomes":"Signalement de faux dipl\xf4me","offre-formation-irreguliere":"Signalement d'offre de formation irr\xe9guli\xe8re (non habilit\xe9)","recrutements-irreguliers":"Signalement de recrutement irr\xe9gulier",harcelement:"Signalement de harc\xe8lement",corruption:"Signalement de corruption",divers:"Signalement divers"},ki={en_cours:"En cours",finalise:"Finalis\xe9",doublon:"Doublon",refuse:"Refus\xe9",traitement_classification:"Traitement et classification",investigation:"Investigation",transmis_autorite:"Transmis aux autorit\xe9s",classifier:"Classifi\xe9"},Fi={completed:"Compl\xe9t\xe9",in_progress:"En cours",pending:"En attente",rejected:"Rejet\xe9",duplicate:"Doublon",not_required:"Non requis"};function Si(){var e,n,r,s,a,i,o,l,A,c,u,d,h,f,m,p,g,x,b,v,y,w,B,N,j,C,k,F,S,E,_,U;const Q=de(),[L,I]=(0,t.useState)("recherche"),[M,D]=(0,t.useState)(""),[P,T]=(0,t.useState)(null),[O,H]=(0,t.useState)(""),[R,z]=(0,t.useState)(!1),[K,V]=(0,t.useState)(null),[,q]=(0,t.useState)(null),W=e=>e.replace(/\s+/g,""),G=async()=>{const e=W(M);if(e.trim())try{z(!0),H(""),V(null);const t=(await is.get("/reports/tracking/".concat(e))).data;if(!t.success||!t.data)return void H("Aucun dossier trouv\xe9 avec cette r\xe9f\xe9rence");const n=t.data;let r=[];if(n.files&&Array.isArray(n.files))r=n.files;else if(n.files&&"string"===typeof n.files)try{const e=JSON.parse(n.files);Array.isArray(e)&&(r=e)}catch(NN){console.error("Erreur parsing JSON files:",NN)}const s="anonyme"===n.type||n.name&&"anonyme"===n.name.toLowerCase(),a=((e,t)=>{var n,r,s,a,i,o,l,A,c,u,d,h;if(!e)return{drse:{date:null===t||void 0===t?void 0:t.created_at,status:"in_progress",progress:33,agent:"DAAQ / DRSE"},cac:{date:null,status:"pending",progress:0,agent:"DAAQ / CAC / DAJ"},bianco:{date:null,status:"pending",progress:0,agent:"DAAQ / BIANCO"}};if("string"===typeof e)try{e=JSON.parse(e)}catch(NN){console.error("Erreur parsing workflow:",NN)}return{drse:{date:(null===(n=e.drse)||void 0===n?void 0:n.date)||(null===t||void 0===t?void 0:t.created_at),status:(null===(r=e.drse)||void 0===r?void 0:r.status)||"in_progress",progress:(null===(s=e.drse)||void 0===s?void 0:s.progress)||33,agent:(null===(a=e.drse)||void 0===a?void 0:a.agent)||"DAAQ / DRSE"},cac:{date:(null===(i=e.cac)||void 0===i?void 0:i.date)||null,status:(null===(o=e.cac)||void 0===o?void 0:o.status)||"pending",progress:(null===(l=e.cac)||void 0===l?void 0:l.progress)||0,agent:(null===(A=e.cac)||void 0===A?void 0:A.agent)||"DAAQ / CAC / DAJ"},bianco:{date:(null===(c=e.bianco)||void 0===c?void 0:c.date)||null,status:(null===(u=e.bianco)||void 0===u?void 0:u.status)||"pending",progress:(null===(d=e.bianco)||void 0===d?void 0:d.progress)||0,agent:(null===(h=e.bianco)||void 0===h?void 0:h.agent)||"DAAQ / BIANCO"}}})(n.workflow,n),i={reference:n.reference,statut:n.status||"en_cours",titre:Ci[n.category]||"Signalement",dateCreation:n.created_at,dateMiseAJour:n.updated_at,category:n.category,hasProof:n.has_proof||r.length>0,workflow:a,isAnonymous:s,name:s?"Anonyme":n.name||"Non renseign\xe9",email:s?"":n.email||"",phone:s?"":n.phone||"",description:n.description||"Aucune description disponible pour ce signalement.",region:n.region||"",city:n.city||"",province:n.province||"",address:n.address||"",files:r,type:n.type||(s?"anonyme":"identifie"),accept_terms:n.accept_terms||!0,accept_truth:n.accept_truth||!0};console.log("Dossier construit:",i),T(i),I("details")}catch(NN){var t;console.error("Erreur lors de la recherche:",NN),404===(null===(t=NN.response)||void 0===t?void 0:t.status)?H("Aucun dossier trouv\xe9 avec cette r\xe9f\xe9rence"):H("Erreur lors de la consultation du dossier"),V(NN.message)}finally{z(!1)}else H("Veuillez saisir une r\xe9f\xe9rence")},Y=e=>{const t=e.target.value,n=W(t);D(n),O&&H("")},J=()=>{I("recherche"),D(""),T(null),H("")},X=()=>{Q("/")},Z=e=>"string"===typeof e?e.includes("http://")||e.includes("https://")||e.includes("/")?e.split("/").pop():e:"object"===typeof e&&null!==e?e.file_name||e.filename||Z(e.path||e.url||""):e,$=e=>{switch(e){case"completed":return(0,wt.jsx)(ws,{className:"text-green-600",size:20});case"in_progress":return(0,wt.jsx)(Bs,{className:"text-blue-600",size:20});case"rejected":return(0,wt.jsx)(Ns,{className:"text-red-600",size:20});case"duplicate":return(0,wt.jsx)(Bs,{className:"text-yellow-600",size:20});default:return(0,wt.jsx)(Bs,{className:"text-gray-400",size:20})}},ee=e=>{switch(e){case"completed":return"bg-green-50 border-green-200";case"in_progress":return"bg-blue-50 border-blue-200";case"rejected":return"bg-red-50 border-red-200";case"duplicate":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}},te=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(NN){return e}};return K&&"recherche"===L?(0,wt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex flex-col font-bill",children:[(0,wt.jsx)("div",{className:"w-full bg-white border-b-2 border-gray-200 py-4 shadow-sm",children:(0,wt.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:os,alt:"Logo R\xe9publique",className:"h-12 w-12 object-contain"}),(0,wt.jsx)("img",{src:ls,alt:"Logo MESUPRES",className:"h-12 w-12 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministre de l'Enseignement Sup\xe9rieur",(0,wt.jsx)("br",{}),"et de la Recherche Scientifique"]})]})]})})}),(0,wt.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,wt.jsx)("div",{className:"w-full max-w-lg",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-8 border border-gray-200 text-center",children:[(0,wt.jsx)("div",{className:"w-16 h-16 bg-red-100 flex items-center justify-center mx-auto mb-4",children:(0,wt.jsx)(Ut,{className:"text-red-600",size:32})}),(0,wt.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Erreur de chargement"}),(0,wt.jsx)("p",{className:"text-gray-600 mb-4",children:K}),(0,wt.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded transition-colors",children:"R\xe9essayer"})]})})}),(0,wt.jsx)("div",{className:"w-full text-center py-4 mt-auto",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2025"})})]}):"recherche"===L?(0,wt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex flex-col font-bill",children:[(0,wt.jsx)("div",{className:"w-full bg-white border-b-2 border-gray-200 py-4 shadow-sm",children:(0,wt.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:os,alt:"Logo R\xe9publique",className:"h-12 w-12 object-contain"}),(0,wt.jsx)("img",{src:ls,alt:"Logo MESUPRES",className:"h-12 w-12 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministre de l'Enseignement Sup\xe9rieur",(0,wt.jsx)("br",{}),"et de la Recherche Scientifique"]})]})]})})}),(0,wt.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,wt.jsx)("div",{className:"w-full max-w-lg",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-8 border border-gray-200",children:[(0,wt.jsxs)("div",{className:"text-center mb-8",children:[(0,wt.jsx)("div",{className:"flex justify-center mb-3",children:(0,wt.jsx)("img",{src:As,alt:"FOSIKA",className:"h-16 object-contain"})}),(0,wt.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Suivi de Dossier"}),(0,wt.jsx)("p",{className:"text-gray-600",children:"Consultez l'\xe9tat d'avancement de votre signalement"})]}),(0,wt.jsxs)("div",{className:"space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"R\xe9f\xe9rence du dossier"}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("input",{type:"text",value:M,onChange:Y,placeholder:"Ex: REF-20251119-6AB2BF",className:"w-full px-4 py-3.5 pl-12 text-lg border-2 border-gray-300 rounded focus:ring-2 focus:ring-[#5e8f3e] focus:border-[#5e8f3e] transition-all outline-none font-bill",onKeyPress:e=>{"Enter"===e.key&&G()}}),(0,wt.jsx)(js,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),O&&(0,wt.jsx)("p",{className:"text-red-500 text-sm mt-2",children:O})]}),(0,wt.jsx)("button",{onClick:G,disabled:R,className:"w-full bg-[#5e8f3e] text-white py-4 rounded font-semibold text-lg hover:bg-[#4a7b32] transition-all transform hover:scale-[1.02] shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:R?"Recherche en cours...":"Rechercher le dossier"})]}),(0,wt.jsx)("div",{className:"mt-6 text-center",children:(0,wt.jsxs)("button",{onClick:X,className:"inline-flex items-center gap-2 px-6 py-3 bg-white hover:bg-gray-50 text-gray-700 font-medium rounded transition-all shadow-md border-2 border-gray-200 hover:border-[#b3d088]",children:[(0,wt.jsx)(Cs,{size:20}),"Retour \xe0 l'accueil"]})})]})})}),(0,wt.jsx)("div",{className:"w-full text-center py-4 mt-auto",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-Mesupres 2025"})})]}):P?(0,wt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 font-bill",children:[(0,wt.jsx)("div",{className:"w-full bg-white border-b-2 border-gray-200 py-4 shadow-sm",children:(0,wt.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,wt.jsx)("img",{src:os,alt:"Logo R\xe9publique",className:"h-12 w-12 object-contain"}),(0,wt.jsx)("img",{src:ls,alt:"Logo MESUPRES",className:"h-12 w-12 object-contain"})]}),(0,wt.jsx)("div",{className:"w-[2px] bg-gray-400 h-28"}),(0,wt.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:"Repoblikani Madagasikara"}),(0,wt.jsxs)("span",{className:"font-semibold text-sm uppercase leading-tight p-2",children:["Ministre de l'Enseignement Sup\xe9rieur",(0,wt.jsx)("br",{}),"et de la Recherche Scientifique"]})]})]})})}),(0,wt.jsx)("div",{className:"max-w-4xl mx-auto p-4 md:p-6",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl overflow-hidden border border-gray-200",children:[(0,wt.jsx)("div",{className:"bg-gradient-to-r from-[#0c2844] to-[#09407e] p-6",children:(0,wt.jsxs)("div",{className:"flex items-start justify-between flex-wrap gap-3",children:[(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,wt.jsx)("span",{className:"text-2xl",children:Ni[P.category]||"\ud83d\udccb"}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-xl font-bold text-white",children:P.titre}),(0,wt.jsx)("p",{className:"text-white/90 text-sm mt-1",children:ji[P.category]||"Signalement"})]})]}),(0,wt.jsx)("div",{className:"inline-block bg-white/20 backdrop-blur-sm px-3 py-1.5 rounded",children:(0,wt.jsxs)("p",{className:"text-white font-mono font-semibold text-sm",children:["R\xe9f\xe9rence : ",P.reference]})}),(0,wt.jsx)("div",{className:"mt-2",children:(0,wt.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium "+(P.hasProof?"bg-green-100 text-green-800 border border-green-200":"bg-gray-100 text-gray-600 border border-gray-200"),children:P.hasProof?"Avec preuves":"Sans preuves"})})]}),(0,wt.jsx)("div",{children:(0,wt.jsx)("span",{className:"px-4 py-2 rounded text-sm font-bold border-2 shadow-lg "+(e=>{switch(e){case"en_cours":case"traitement_classification":return"bg-blue-100 text-blue-800 border-blue-200";case"finalise":case"classifier":return"bg-green-100 text-green-800 border-green-200";case"doublon":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"refuse":case"rejected":return"bg-red-100 text-red-800 border-red-200";case"investigation":return"bg-purple-100 text-purple-800 border-purple-200";case"transmis_autorite":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(P.statut),children:ki[P.statut]||P.statut||"En cours"})})]})}),(0,wt.jsxs)("div",{className:"p-6 space-y-6",children:[(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,wt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),P.isAnonymous?"Signalement anonyme":"Informations de l'\xe9metteur"]}),P.isAnonymous?(0,wt.jsxs)("div",{className:"bg-gray-50 border-2 border-gray-200 rounded p-5 text-center",children:[(0,wt.jsx)(ks,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),(0,wt.jsx)("p",{className:"text-gray-600 font-semibold text-sm",children:"Ce signalement a \xe9t\xe9 effectu\xe9 de mani\xe8re anonyme."}),(0,wt.jsx)("div",{className:"mt-3 bg-white rounded p-3 border border-gray-200 inline-block",children:(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Fs,{className:"w-4 h-4 text-[#4c7026]"}),(0,wt.jsxs)("div",{className:"text-left",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Date de cr\xe9ation"}),(0,wt.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:te(P.dateCreation)})]})]})})]}):(0,wt.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,wt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(ks,{className:"w-4 h-4 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Nom complet"}),(0,wt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:P.name})]})]})}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(Ss,{className:"w-4 h-4 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"T\xe9l\xe9phone"}),(0,wt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:P.phone||"Non renseign\xe9"})]})]})}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(Es,{className:"w-4 h-4 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Email"}),(0,wt.jsx)("p",{className:"font-semibold text-gray-800 text-sm break-all",children:P.email||"Non renseign\xe9"})]})]})}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(_s,{className:"w-4 h-4 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Localisation"}),(0,wt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:P.address||(P.city||P.province||P.region?"".concat(P.city||"").concat(P.city&&P.province?", ":"").concat(P.province||"").concat((P.city||P.province)&&P.region?" - ":"").concat(P.region||""):"Non renseign\xe9")})]})]})}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded p-3 border border-gray-200 md:col-span-2",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-9 h-9 bg-[#09407e] flex items-center justify-center flex-shrink-0",children:(0,wt.jsx)(Fs,{className:"w-4 h-4 text-white"})}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-0.5",children:"Date de cr\xe9ation"}),(0,wt.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:te(P.dateCreation)})]})]})})]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,wt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),"Description du signalement"]}),(0,wt.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded p-4",children:(0,wt.jsx)("p",{className:"text-gray-700 leading-relaxed text-sm whitespace-pre-wrap",children:P.description})})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,wt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,wt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),"Pi\xe8ces jointes",(0,wt.jsxs)("span",{className:"ml-3 text-sm font-normal text-gray-500",children:[(null===(e=P.files)||void 0===e?void 0:e.length)||0," fichier",1!==(null===(n=P.files)||void 0===n?void 0:n.length)?"s":""]})]})}),P.files&&P.files.length>0?(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:P.files.map((e,t)=>{var n;const r=Z(e),s=(null===(n=r.split(".").pop())||void 0===n?void 0:n.toUpperCase())||"FILE";return(0,wt.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded p-3 hover:bg-gray-100 transition-colors",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-[#4c7026] to-[#b4cd7b] flex items-center justify-center flex-shrink-0 shadow-sm rounded",children:(0,wt.jsx)("span",{className:"text-white text-xs font-bold",children:s})}),(0,wt.jsx)("div",{className:"truncate",children:(0,wt.jsxs)("span",{className:"text-gray-800 font-medium text-sm block",children:["Preuve ",t+1]})})]}),(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(async e=>{try{const t=Z(e),n="".concat(is.defaults.baseURL,"/files/public/").concat(t);window.open(n,"_blank")||alert("Veuillez autoriser les pop-ups pour visualiser les fichiers")}catch(K){alert("Erreur lors de l'ouverture du fichier: "+K.message)}})(e),className:"p-1.5 text-blue-600 hover:text-blue-800",title:"Voir",children:(0,wt.jsx)(Us,{size:14})}),(0,wt.jsx)("button",{onClick:()=>(async e=>{try{const t=Z(e),n="".concat(is.defaults.baseURL,"/files/public/").concat(t,"/download"),r=document.createElement("a");r.href=n,r.setAttribute("download",t),r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(K){alert("Erreur lors du t\xe9l\xe9chargement: "+K.message)}})(e),className:"p-1.5 text-green-600 hover:text-green-800",title:"T\xe9l\xe9charger",children:(0,wt.jsx)(Qs,{size:14})})]})]}),(0,wt.jsx)("div",{className:"text-xs text-gray-500 truncate",title:r,children:r})]},t)})}):(0,wt.jsx)("div",{className:"text-center py-5 bg-gray-50 border border-gray-200 rounded",children:(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:P.hasProof?"Aucun fichier joint \xe0 ce dossier":"Signalement soumis sans pi\xe8ces jointes"})})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[(0,wt.jsx)("div",{className:"w-1 h-6 bg-[#4c7026] mr-3"}),"Suivi du traitement"]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-px bg-gray-300"}),(0,wt.jsxs)("div",{className:"space-y-5 pl-10",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute -left-4 top-2 w-3 h-3 bg-[#4c7026] border-2 border-white shadow"}),(0,wt.jsx)("div",{className:"border rounded px-4 py-3 bg-white shadow-sm hover:shadow-md transition-all "+ee((null===(r=P.workflow)||void 0===r||null===(s=r.drse)||void 0===s?void 0:s.status)||"pending"),children:(0,wt.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"mt-0.5",children:$((null===(a=P.workflow)||void 0===a||null===(i=a.drse)||void 0===i?void 0:i.status)||"pending")}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"\xc9tape 1"}),(0,wt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Traitement et classification"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:(null===(o=P.workflow)||void 0===o||null===(l=o.drse)||void 0===l?void 0:l.agent)||"DAAQ / DRSE"})]})]}),(0,wt.jsxs)("div",{className:"text-right",children:[(0,wt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 text-[11px] font-semibold bg-white border border-gray-200 text-gray-800",children:Fi[(null===(A=P.workflow)||void 0===A||null===(c=A.drse)||void 0===c?void 0:c.status)||"pending"]||"En attente"}),(null===(u=P.workflow)||void 0===u||null===(d=u.drse)||void 0===d?void 0:d.date)&&(0,wt.jsxs)("p",{className:"text-[11px] text-gray-500 mt-1 flex items-center justify-end gap-1.5",children:[(0,wt.jsx)(Fs,{size:12}),te(P.workflow.drse.date)]})]})]})})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute -left-4 top-2 w-3 h-3 bg-gray-300 border-2 border-white shadow"}),(0,wt.jsx)("div",{className:"border rounded px-4 py-3 bg-white shadow-sm hover:shadow-md transition-all "+ee((null===(h=P.workflow)||void 0===h||null===(f=h.cac)||void 0===f?void 0:f.status)||"pending"),children:(0,wt.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"mt-0.5",children:$((null===(m=P.workflow)||void 0===m||null===(p=m.cac)||void 0===p?void 0:p.status)||"pending")}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"\xc9tape 2"}),(0,wt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Ouverture d'enqu\xeates"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:(null===(g=P.workflow)||void 0===g||null===(x=g.cac)||void 0===x?void 0:x.agent)||"DAAQ / CAC / DAJ"})]})]}),(0,wt.jsxs)("div",{className:"text-right",children:[(0,wt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 text-[11px] font-semibold bg-white border border-gray-200 text-gray-800",children:Fi[(null===(b=P.workflow)||void 0===b||null===(v=b.cac)||void 0===v?void 0:v.status)||"pending"]||"En attente"}),(null===(y=P.workflow)||void 0===y||null===(w=y.cac)||void 0===w?void 0:w.date)&&(0,wt.jsxs)("p",{className:"text-[11px] text-gray-500 mt-1 flex items-center justify-end gap-1.5",children:[(0,wt.jsx)(Fs,{size:12}),te(P.workflow.cac.date)]})]})]})})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute -left-4 top-2 w-3 h-3 bg-gray-300 border-2 border-white shadow"}),(0,wt.jsx)("div",{className:"border rounded px-4 py-3 bg-white shadow-sm hover:shadow-md transition-all "+ee((null===(B=P.workflow)||void 0===B||null===(N=B.bianco)||void 0===N?void 0:N.status)||"pending"),children:(0,wt.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"mt-0.5",children:$((null===(j=P.workflow)||void 0===j||null===(C=j.bianco)||void 0===C?void 0:C.status)||"pending")}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"\xc9tape 3"}),(0,wt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:(null===(k=P.workflow)||void 0===k||null===(F=k.bianco)||void 0===F?void 0:F.agent)||"DAAQ / BIANCO"})]})]}),(0,wt.jsxs)("div",{className:"text-right",children:[(0,wt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 text-[11px] font-semibold bg-white border border-gray-200 text-gray-800",children:Fi[(null===(S=P.workflow)||void 0===S||null===(E=S.bianco)||void 0===E?void 0:E.status)||"pending"]||"En attente"}),(null===(_=P.workflow)||void 0===_||null===(U=_.bianco)||void 0===U?void 0:U.date)&&(0,wt.jsxs)("p",{className:"text-[11px] text-gray-500 mt-1 flex items-center justify-end gap-1.5",children:[(0,wt.jsx)(Fs,{size:12}),te(P.workflow.bianco.date)]})]})]})})]})]})]})]}),(0,wt.jsxs)("div",{className:"mt-6 flex flex-wrap gap-3 justify-center",children:[(0,wt.jsxs)("button",{onClick:J,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-white hover:bg-gray-50 text-gray-700 font-semibold transition-all shadow-md border-2 border-[#b4cd7b] hover:border-[#4c7026]",children:[(0,wt.jsx)(js,{size:18}),"Nouvelle recherche"]}),(0,wt.jsxs)("button",{onClick:X,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-[#4c7026] hover:bg-[#3a5a1d] text-white font-semibold transition-all shadow-md",children:[(0,wt.jsx)(Cs,{size:18}),"Retour \xe0 l'accueil"]})]})]})]})}),(0,wt.jsx)("div",{className:"w-full text-center py-4 mt-6",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs",children:"\xa9 daaq-mesupres 2025"})}),P&&(0,wt.jsx)(Bi,{reference:P.reference,dossierInfo:P})]}):(0,wt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center font-bill",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("p",{className:"text-gray-600 mb-4",children:"Aucun dossier s\xe9lectionn\xe9"}),(0,wt.jsx)("button",{onClick:J,className:"bg-[#5e8f3e] text-white px-6 py-3 rounded hover:bg-[#4a7b32] transition-colors",children:"Retour \xe0 la recherche"})]})})}const Ei={async login(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r;const s=await is.post("/auth/login",{login:e,password:t,remember:n}),a=s.data.user||(null===(r=s.data.data)||void 0===r?void 0:r.user)||s.data,i=s.data.token;if(!a)throw new Error("Donn\xe9es utilisateur introuvables");if(!i)throw new Error("Token manquant");return a.role=(a.role||"agent").toString().toLowerCase().trim(),this.setUser(a,n),this.setUserToken(i,n),{success:!0,user:a,token:i,requires_2fa:!0===s.data.requires_2fa,two_factor_enabled:!0===s.data.two_factor_enabled,message:s.data.message||"Connexion r\xe9ussie"}}catch(i){var s,a;return{success:!1,message:(null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Erreur de connexion",error:i.message}}},async logout(){try{await is.post("/auth/logout")}catch(NN){}finally{this.clearAuthData(),window.location.href="/login"}},clientExpireSession(){this.clearAuthData()},async checkAuth(){const e=this.getUser(),t=this.getUserToken();if(!e||!t)return{success:!1,authenticated:!1,message:"Aucune session locale"};try{var n;const e=await is.get("/check-auth");return null!==(n=e.data)&&void 0!==n&&n.authenticated?(e.data.user&&this.setUser(e.data.user,this.isRemembered()),{success:!0,authenticated:!0,user:e.data.user,requires_2fa:e.data.requires_2fa||!1,two_factor_verified:e.data.two_factor_verified||!1,message:"Session valide"}):(this.clearAuthData(),{success:!1,authenticated:!1,message:"Session expir\xe9e"})}catch(s){var r;return 401===(null===(r=s.response)||void 0===r?void 0:r.status)?(this.clearAuthData(),{success:!1,authenticated:!1,message:"Token invalide"}):{success:!0,authenticated:!0,user:e,offline:!0,message:"Mode hors ligne - session locale conserv\xe9e"}}},setUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t?localStorage:sessionStorage;localStorage.removeItem("user_data"),sessionStorage.removeItem("user_data"),localStorage.removeItem("remember_me"),n.setItem("user_data",JSON.stringify(e)),t&&localStorage.setItem("remember_me","true")},getUser(){try{const e=localStorage.getItem("user_data")||sessionStorage.getItem("user_data");return e?JSON.parse(e):null}catch(e){return null}},setUserToken(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?localStorage:sessionStorage;localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),t.setItem("auth_token",e)},getUserToken:()=>localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),getRole(){var e,t;return(null===(e=this.getUser())||void 0===e||null===(t=e.role)||void 0===t?void 0:t.toLowerCase())||null},isAuthenticated(){return!(!this.getUser()||!this.getUserToken())},isRemembered:()=>"true"===localStorage.getItem("remember_me"),clearAuthData(){const e=localStorage.getItem("remember_me"),t=sessionStorage.getItem("redirect_after_2fa");localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("just_logged_in"),e&&localStorage.setItem("remember_me",e),t&&sessionStorage.setItem("redirect_after_2fa",t)}},_i=Ei,Ui=()=>{const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[A,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),g=de();return(0,t.useEffect)(()=>{(async()=>{const e=Number(sessionStorage.getItem("last_check_auth_ts")||0),t=Date.now();if(t-e<3e3)return void f(!0);sessionStorage.setItem("last_check_auth_ts",String(t));const n=localStorage.getItem("user_data")||sessionStorage.getItem("user_data"),r=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(n&&r)try{const e=JSON.parse(n);if(!e||!e.id)return localStorage.removeItem("user_data"),localStorage.removeItem("auth_token"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("auth_token"),void f(!0);try{var s;const t=await is.get("/check-auth");if(200!==t.status||null===(s=t.data)||void 0===s||!s.authenticated)throw new Error("Session invalid");if(!0===t.data.requires_2fa)return void g("/two-factor-verify",{replace:!0});(e=>{const t=null===e||void 0===e?void 0:e.toLowerCase();g({admin:"/admin",agent:"/agent",investigateur:"/investigateur",investigator:"/investigateur"}[t]||"/admin",{replace:!0})})(e.role)}catch(A){var a;const t=null===(a=A.response)||void 0===a?void 0:a.status;if(401===t||419===t)return localStorage.removeItem("user_data"),localStorage.removeItem("auth_token"),localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("just_logged_in"),void f(!0);if(429===t)return c("Trop de requ\xeates. Veuillez patienter quelques secondes."),void f(!0);f(!0)}}catch(i){localStorage.removeItem("user_data"),localStorage.removeItem("auth_token"),localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("user_data"),sessionStorage.removeItem("auth_token"),sessionStorage.removeItem("just_logged_in"),f(!0)}else f(!0)})();const e=setTimeout(()=>{localStorage.removeItem("just_logged_in"),sessionStorage.removeItem("just_logged_in")},5e3);return()=>clearTimeout(e)},[g]),h?(0,wt.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4 overflow-hidden relative",children:[(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-50 transition-all duration-500 transform ".concat(m?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,wt.jsxs)("div",{className:"bg-white border-l-4 border-[#b4cd7b] rounded shadow-2xl p-4 w-80 flex items-start",children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:(0,wt.jsx)("svg",{className:"h-6 w-6 text-[#b4cd7b]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,wt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,wt.jsx)("p",{className:"text-sm font-bold text-gray-900 leading-5",children:"Mot de passe oubli\xe9 ?"}),(0,wt.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-600",children:"Contactez l'administrateur pour r\xe9initialiser votre mot de passe."})]}),(0,wt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,wt.jsx)("button",{onClick:()=>p(!1),className:"inline-flex text-gray-400 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",children:(0,wt.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,wt.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L10 10 5.707 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),(0,wt.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-sm border border-gray-200",children:[(0,wt.jsxs)("div",{className:"text-center mb-8",children:[(0,wt.jsx)("div",{className:"mx-auto w-40 h-40 rounded-full flex items-center justify-center overflow-hidden mb-4",children:(0,wt.jsx)("img",{src:As,alt:"Fosika Logo",className:"w-full h-full object-contain"})}),(0,wt.jsx)("h2",{className:"text-2xl font-extrabold text-gray-900 tracking-tight",children:"Connexion"}),(0,wt.jsxs)("p",{className:"mt-2 text-sm font-medium text-gray-500",children:["Portail ",(0,wt.jsx)("span",{className:"text-[#b4cd7b] font-bold",children:"Admin"})," ou"," ",(0,wt.jsx)("span",{className:"text-[#b4cd7b] font-bold",children:"Agent"})]})]}),(0,wt.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),d(!0),c("");try{const t=await _i.login(e,r,o);if(t.success){const e=o?localStorage:sessionStorage;if(e.setItem("user_data",JSON.stringify(t.user)),e.setItem("auth_token",t.token),e.setItem("just_logged_in","true"),window.__userData=t.user,window.dispatchEvent(new CustomEvent("userLoggedIn",{detail:t.user})),!0===t.requires_2fa){const e=t.user.role.toLowerCase(),n={admin:"/admin",agent:"/agent",investigateur:"/investigateur",investigator:"/investigateur"}[e]||"/admin";return sessionStorage.setItem("redirect_after_2fa",n),void g("/two-factor-verify",{replace:!0})}const n=t.user.role.toLowerCase();g({admin:"/admin",agent:"/agent",investigateur:"/investigateur",investigator:"/investigateur"}[n]||"/admin",{replace:!0})}else c(t.message||"Identifiant ou mot de passe incorrect")}catch(A){c(A.message||"Erreur de connexion")}finally{d(!1)}},className:"space-y-6",children:[A&&(0,wt.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg flex items-center text-xs",children:[(0,wt.jsx)("svg",{className:"w-4 h-4 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,wt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,wt.jsx)("span",{children:A})]}),(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("input",{type:"text",id:"login_field",value:e,onChange:e=>n(e.target.value),autoComplete:"username",className:"block px-3 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-[#b4cd7b] peer",placeholder:" ",required:!0,disabled:u}),(0,wt.jsx)("label",{htmlFor:"login_field",className:"absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-[#b4cd7b] peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1",children:"Email ou Nom d'utilisateur"}),(0,wt.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,wt.jsx)("svg",{className:"w-4 h-4 text-gray-400 group-focus-within:text-[#b4cd7b] transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})]}),(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("input",{type:a?"text":"password",id:"password_field",value:r,onChange:e=>s(e.target.value),autoComplete:"current-password",className:"block px-3 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-[#b4cd7b] peer",placeholder:" ",required:!0,disabled:u}),(0,wt.jsx)("label",{htmlFor:"password_field",className:"absolute text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white px-2 peer-focus:px-2 peer-focus:text-[#b4cd7b] peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 left-1",children:"Mot de passe"}),(0,wt.jsx)("button",{type:"button",onClick:()=>i(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none",disabled:u,children:a?(0,wt.jsxs)("svg",{className:"w-4 h-4 group-focus-within:text-[#b4cd7b] transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):(0,wt.jsx)("svg",{className:"w-4 h-4 group-focus-within:text-[#b4cd7b] transition-colors duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]}),(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("input",{type:"checkbox",checked:o,onChange:e=>l(e.target.checked),className:"sr-only",disabled:u}),(0,wt.jsx)("div",{className:"w-4 h-4 border-2 rounded transition duration-200 ".concat(o?"bg-[#b4cd7b] border-[#b4cd7b]":"bg-white border-gray-300"),children:o&&(0,wt.jsx)("svg",{className:"w-2.5 h-2.5 text-white mx-auto mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),(0,wt.jsx)("span",{className:"text-xs text-gray-700 font-medium",children:"Rester connect\xe9"})]}),(0,wt.jsx)("button",{type:"button",className:"text-xs text-[#b4cd7b] hover:text-[#9ab567] font-medium focus:outline-none",disabled:u,onClick:()=>{p(!0),setTimeout(()=>p(!1),5e3)},children:"Mot de passe oubli\xe9 ?"})]}),(0,wt.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-[#b4cd7b] to-[#9ab567] text-white p-3 rounded-lg hover:from-[#a0bd6d] hover:to-[#8aa35c] transition duration-200 font-semibold shadow disabled:opacity-50 transform hover:scale-[1.02] active:scale-[0.98] text-sm",children:u?(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,wt.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,wt.jsx)("span",{children:"Connexion..."})]}):(0,wt.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,wt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),(0,wt.jsx)("span",{children:"Se connecter"})]})})]}),(0,wt.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,wt.jsxs)("div",{className:"text-center text-xs text-gray-500 space-y-1",children:[(0,wt.jsxs)("p",{children:["Mode : ",o?"Session persistante":"Session temporaire"]}),(0,wt.jsx)("p",{children:"\xa9 daaq-mesupres 2025"})]})})]})]}):(0,wt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-[#b4cd7b] border-t-transparent rounded-full animate-spin"}),(0,wt.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"V\xe9rification de la session..."})]})})},Qi=Et("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Li=Et("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),Ii=Et("school",[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),Mi=Et("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),Di=Et("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Pi=Et("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),Ti={getAllPublic:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await is.get("/enseignants",{params:e})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des enseignants:",t),t}},getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await is.get("/enseignants",{params:e})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des enseignants:",t),t}},getByIdPublic:async e=>{try{return(await is.get("/enseignants/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'enseignant:",t),t}},getById:async e=>{try{return(await is.get("/enseignants/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'enseignant:",t),t}},getStatistiquesGlobal:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await is.get("/enseignants/statistiques/global",{params:e})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques:",t),t}},getStats:async e=>{try{const t=e?{universite_id:e}:{};return(await is.get("/enseignants/statistiques/global",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques:",t),t}},getStatistiquesParEtablissement:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?{universite_id:e}:{};return(await is.get("/enseignants/statistiques/par-etablissement",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des statistiques par \xe9tablissement:",t),t}},search:async e=>{try{return(await is.get("/enseignants",{params:{search:e}})).data}catch(t){throw console.error("Erreur lors de la recherche d'enseignants:",t),t}},create:async e=>{try{return(await is.post("/admin/enseignants",e)).data}catch(n){if(console.error("Erreur lors de la cr\xe9ation de l'enseignant:",n),n.response){var t;const e=(null===(t=n.response.data)||void 0===t?void 0:t.message)||"Erreur lors de la cr\xe9ation";throw new Error(e)}throw n.request?new Error("Aucune r\xe9ponse du serveur"):n}},update:async(e,t)=>{try{return(await is.put("/admin/enseignants/".concat(e),t)).data}catch(r){if(console.error("Erreur lors de la modification de l'enseignant:",r),r.response){var n;const e=(null===(n=r.response.data)||void 0===n?void 0:n.message)||"Erreur lors de la modification";throw new Error(e)}throw r.request?new Error("Aucune r\xe9ponse du serveur"):r}},delete:async e=>{try{return(await is.delete("/admin/enseignants/".concat(e))).data}catch(n){if(console.error("Erreur lors de la suppression de l'enseignant:",n),n.response){var t;const e=(null===(t=n.response.data)||void 0===t?void 0:t.message)||"Erreur lors de la suppression";throw new Error(e)}throw n.request?new Error("Aucune r\xe9ponse du serveur"):n}},import:async e=>{try{const t=new FormData;t.append("file",e);return(await is.post("/admin/enseignants/import",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){if(console.error("Erreur lors de l'import:",n),n.response){var t;const e=(null===(t=n.response.data)||void 0===t?void 0:t.message)||"Erreur lors de l'import";throw new Error(e)}throw n.request?new Error("Aucune r\xe9ponse du serveur"):n}},export:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await is.get("/admin/enseignants/export",{params:e,responseType:"blob"})).data}catch(t){throw console.error("Erreur lors de l'export:",t),t}},getByUniversite:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await is.get("/enseignants",{params:o(o({},t),{},{universite_id:e})})).data}catch(n){throw console.error("Erreur lors de la r\xe9cup\xe9ration par universit\xe9:",n),n}},getByEtablissement:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await is.get("/enseignants",{params:o(o({},t),{},{etablissement_id:e})})).data}catch(n){throw console.error("Erreur lors de la r\xe9cup\xe9ration par \xe9tablissement:",n),n}},getByCategorie:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await is.get("/enseignants",{params:o(o({},t),{},{categorie:e})})).data}catch(n){throw console.error("Erreur lors de la r\xe9cup\xe9ration par cat\xe9gorie:",n),n}},getByCorps:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return(await is.get("/enseignants",{params:o(o({},t),{},{corps:e})})).data}catch(n){throw console.error("Erreur lors de la r\xe9cup\xe9ration par corps:",n),n}},validateImport:async e=>{try{const t=new FormData;t.append("file",e);return(await is.post("/admin/enseignants/validate-import",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Erreur lors de la validation de l'import:",t),t}},downloadTemplate:async()=>{try{const e=await is.get("/admin/enseignants/template",{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");return n.href=t,n.setAttribute("download","template_enseignants.xlsx"),document.body.appendChild(n),n.click(),n.remove(),e.data}catch(e){throw console.error("Erreur lors du t\xe9l\xe9chargement du template:",e),e}}},Oi=Ti,Hi={getAll:async()=>{try{return(await is.get("/universites")).data}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration des universit\xe9s:",e),e}},getById:async e=>{try{return(await is.get("/universites/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'universit\xe9:",t),t}},create:async e=>{try{return(await is.post("/admin/universites",e)).data}catch(t){throw console.error("Erreur lors de la cr\xe9ation de l'universit\xe9:",t),t}},update:async(e,t)=>{try{return(await is.put("/admin/universites/".concat(e),t)).data}catch(n){throw console.error("Erreur lors de la modification de l'universit\xe9:",n),n}},delete:async e=>{try{return(await is.delete("/admin/universites/".concat(e))).data}catch(t){throw console.error("Erreur lors de la suppression de l'universit\xe9:",t),t}}},Ri=Hi,zi={getAll:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?{universite_id:e}:{};return(await is.get("/etablissements",{params:t})).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration des \xe9tablissements:",t),t}},getById:async e=>{try{return(await is.get("/etablissements/".concat(e))).data}catch(t){throw console.error("Erreur lors de la r\xe9cup\xe9ration de l'\xe9tablissement:",t),t}},create:async e=>{try{return(await is.post("/admin/etablissements",e)).data}catch(t){throw console.error("Erreur lors de la cr\xe9ation de l'\xe9tablissement:",t),t}},update:async(e,t)=>{try{return(await is.put("/admin/etablissements/".concat(e),t)).data}catch(n){throw console.error("Erreur lors de la modification de l'\xe9tablissement:",n),n}},delete:async e=>{try{return(await is.delete("/admin/etablissements/".concat(e))).data}catch(t){throw console.error("Erreur lors de la suppression de l'\xe9tablissement:",t),t}}},Ki=zi,Vi=["PROFESSEUR TITULAIRE","PROFESSEUR D'ENSEIGNEMENT SUPERIEUR","MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR","ASSITANT D'ENSEIGNEMENT SUPERIEUR"],qi=["Docteur d'\xc9tat","HDR","Doctorat","Agr\xe9gation","Master","DEA","Ing\xe9niorat","DOCTEUR D'ETAT"],Wi=()=>{const e=de(),[n,r]=(0,t.useState)(!1),[s,a]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,A]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)("Tous"),[p,g]=(0,t.useState)("Tous"),[x,b]=(0,t.useState)("Tous"),[v,y]=(0,t.useState)("Tous"),[w,B]=(0,t.useState)(""),[N,j]=(0,t.useState)(1),[C,k]=(0,t.useState)(10),[F,S]=(0,t.useState)(0);(0,t.useEffect)(()=>{(async()=>{try{u(!0);const e=await Ri.getAll();a(e),h(null)}catch(e){console.error("Erreur lors du chargement des universit\xe9s:",e),h("Impossible de charger les universit\xe9s")}finally{u(!1)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(0!==s.length)try{let e;if("Tous"===f)e=await Ki.getAll();else{const t=s.find(e=>e.nom===f);e=t?await Ki.getAll(t.id):[]}o(e)}catch(e){console.error("Erreur lors du chargement des \xe9tablissements:",e),o([])}})()},[f,s]);const E=(0,t.useMemo)(()=>Array.from(new Set(i.map(e=>e.nom))).sort(),[i]);(0,t.useEffect)(()=>{"Tous"===p||E.includes(p)||g("Tous")},[E,p]),(0,t.useEffect)(()=>{if(0===s.length)return;const e=setTimeout(()=>{(async()=>{u(!0),h(null);try{const e={page:N,per_page:C};if(w&&""!==w.trim()&&(e.search=w.trim()),"Tous"!==f){const t=s.find(e=>e.nom===f);t&&(e.universite_id=t.id)}if("Tous"!==p){const t=i.find(e=>e.nom===p);t&&(e.etablissement_id=t.id)}"Tous"!==x&&(e.categorie=x),"Tous"!==v&&(e.diplome=v);const t=await Oi.getAllPublic(e),n=(t.data||[]).map(e=>{var t,n;return{id:e.id,nom:e.nom,grade:e.categorie||e.corps,etablissement:(null===(t=e.etablissement)||void 0===t?void 0:t.nom)||"N/A",univ:(null===(n=e.universite)||void 0===n?void 0:n.nom)||"N/A",specialite:e.specialite||"N/A",diplome:e.diplome||"N/A"}}).sort((e,t)=>{const n=(e.nom||"").toLowerCase(),r=(t.nom||"").toLowerCase();return n.localeCompare(r,"fr",{sensitivity:"base"})});A(n),S(t.total||0)}catch(e){console.error("Erreur lors du chargement des enseignants:",e),h("Impossible de charger les enseignants"),A([]),S(0)}finally{u(!1)}})()},300);return()=>clearTimeout(e)},[N,C,f,p,x,v,w,s,i]);const _=(0,t.useMemo)(()=>s.map(e=>e.nom),[s]),U=Math.ceil(F/C)||1;(0,t.useEffect)(()=>{U>0&&N>U&&j(U)},[N,U]);const Q="Tous"!==f?f.toUpperCase():"TOUTES LES UNIVERSIT\xc9S",L="Tous"!==p?p.toUpperCase():"TOUS LES \xc9TABLISSEMENTS";return c&&0===s.length?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)(Vs,{className:"w-16 h-16 text-[#4c7026] animate-spin mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-xl text-gray-700",children:"Chargement des donn\xe9es..."})]})}):d&&0===s.length?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)(Ut,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-xl text-gray-700 mb-4",children:d}),(0,wt.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-[#4c7026] text-white rounded-lg hover:bg-[#3a5a1d]",children:"R\xe9essayer"})]})}):(0,wt.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col font-bill text-gray-800 overflow-x-hidden",children:[(0,wt.jsx)("div",{className:"w-full bg-white border-b border-gray-200 py-4 shadow-sm relative z-20",children:(0,wt.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,wt.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 md:gap-0",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-4 md:gap-6",children:[(0,wt.jsx)("img",{src:os,alt:"Logo R\xe9publique",className:"h-12 w-auto object-contain md:h-16"}),(0,wt.jsx)("img",{src:ls,alt:"Logo MESUPRES",className:"h-12 w-auto object-contain md:h-16"})]}),(0,wt.jsx)("div",{className:"flex-1 text-center px-2 hidden md:block",children:(0,wt.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-1",children:[(0,wt.jsxs)("span",{className:"font-bold text-sm lg:text-base uppercase text-[#4c7026] leading-tight",children:["MINISTERE DE L'ENSEIGNEMENT SUPERIEUR ",(0,wt.jsx)("br",{})," ET DE LA RECHERCHE SCIENTIFIQUE"]}),(0,wt.jsx)("span",{className:"font-bold text-xs lg:text-sm uppercase text-gray-700",children:"SECRETARIAT GENERAL"}),(0,wt.jsx)("span",{className:"font-bold text-xs lg:text-sm uppercase text-gray-600",children:"DIRECTION DES RESSOURCES HUMAINES"})]})}),(0,wt.jsx)("div",{children:(0,wt.jsx)("img",{src:As,alt:"FOSIKA",className:"h-20 w-auto object-contain md:h-28"})})]}),(0,wt.jsxs)("div",{className:"md:hidden text-center mt-4 border-t border-gray-100 pt-3",children:[(0,wt.jsxs)("p",{className:"font-bold text-xs uppercase text-[#4c7026] leading-tight mb-1",children:["MINISTERE DE L'ENSEIGNEMENT SUPERIEUR ",(0,wt.jsx)("br",{})," ET DE LA RECHERCHE SCIENTIFIQUE"]}),(0,wt.jsx)("p",{className:"font-bold text-[10px] uppercase text-gray-600",children:"DIRECTION DES RESSOURCES HUMAINES"})]})]})}),(0,wt.jsx)("div",{className:"bg-white border-b border-gray-200 pt-6 pb-6",children:(0,wt.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,wt.jsxs)("div",{className:"border-l-4 border-[#4c7026] pl-4 md:pl-6 py-1",children:[(0,wt.jsx)("h1",{className:"text-xl md:text-2xl font-bold text-[#4c7026] uppercase mb-3 leading-snug",children:"LISTE DES ENSEIGNANTS CHERCHEURS PERMANENTS"}),(0,wt.jsxs)("div",{className:"grid gap-1 text-xs md:text-sm font-bold text-gray-500 uppercase",children:[(0,wt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-2",children:[(0,wt.jsx)("span",{className:"w-32 shrink-0",children:"UNIVERSITE:"}),(0,wt.jsx)("span",{className:"text-gray-900 break-words",children:Q})]}),(0,wt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:gap-2",children:[(0,wt.jsx)("span",{className:"w-32 shrink-0",children:"ETABLISSEMENT:"}),(0,wt.jsx)("span",{className:"text-gray-900 break-words",children:L})]}),(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("span",{className:"w-32 shrink-0",children:"ANNEE:"}),(0,wt.jsx)("span",{className:"text-gray-900",children:"2025"})]})]})]})})}),(0,wt.jsxs)("main",{className:"flex-1 max-w-7xl mx-auto px-4 py-6 md:py-8 w-full",children:[(0,wt.jsx)("div",{className:"lg:hidden mb-4",children:(0,wt.jsxs)("button",{onClick:()=>r(!n),className:"w-full flex items-center justify-between px-4 py-3 bg-white border border-gray-300 rounded shadow-sm text-[#4c7026] font-bold uppercase text-xs",children:[(0,wt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Qi,{size:16})," Afficher les filtres"]}),n?(0,wt.jsx)(Lt,{size:16}):(0,wt.jsx)(Li,{size:16})]})}),(0,wt.jsxs)("div",{className:"".concat(n?"block":"hidden"," lg:block bg-white p-4 md:p-5 rounded-lg shadow-sm border border-gray-200 mb-6 transition-all"),children:[(0,wt.jsxs)("div",{className:"hidden lg:flex items-center gap-2 mb-4 text-[#4c7026] font-bold uppercase text-sm border-b border-gray-100 pb-2",children:[(0,wt.jsx)(Qi,{size:16})," Filtres de recherche"]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end",children:[(0,wt.jsxs)("div",{className:"lg:col-span-1",children:[(0,wt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Recherche Rapide"}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("input",{type:"text",placeholder:"Nom, dipl\xf4me...",className:"w-full pl-9 pr-3 py-2.5 bg-gray-50 border border-gray-300 rounded text-sm focus:border-[#4c7026] focus:ring-1 focus:ring-[#4c7026] outline-none transition-all placeholder:text-gray-400",value:w,onChange:e=>{B(e.target.value),j(1)}}),(0,wt.jsx)(js,{className:"absolute left-3 top-3 text-gray-400",size:16})]})]}),(0,wt.jsxs)("div",{className:"lg:col-span-1",children:[(0,wt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Universit\xe9"}),(0,wt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer truncate",value:f,onChange:e=>{m(e.target.value),j(1)},children:[(0,wt.jsx)("option",{value:"Tous",children:"Toutes les Universit\xe9s"}),_.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]})]}),(0,wt.jsxs)("div",{className:"lg:col-span-1",children:[(0,wt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"\xc9tablissement"}),(0,wt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer disabled:bg-gray-100 disabled:text-gray-400 truncate",value:p,onChange:e=>{g(e.target.value),j(1)},disabled:0===E.length,children:[(0,wt.jsx)("option",{value:"Tous",children:"Tous les \xc9tablissements"}),E.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]})]}),(0,wt.jsxs)("div",{className:"lg:col-span-1",children:[(0,wt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Grade"}),(0,wt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer truncate",value:x,onChange:e=>{b(e.target.value),j(1)},children:[(0,wt.jsx)("option",{value:"Tous",children:"Tous les Grades"}),Vi.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]})]}),(0,wt.jsxs)("div",{className:"lg:col-span-1",children:[(0,wt.jsx)("label",{className:"block text-[11px] font-bold text-gray-500 uppercase mb-1",children:"Dipl\xf4me"}),(0,wt.jsxs)("select",{className:"w-full px-3 py-2.5 bg-white border border-gray-300 rounded text-sm focus:border-[#4c7026] outline-none cursor-pointer truncate",value:v,onChange:e=>{y(e.target.value),j(1)},children:[(0,wt.jsx)("option",{value:"Tous",children:"Tous les Dipl\xf4mes"}),qi.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]})]})]}),(0,wt.jsx)("div",{className:"flex justify-center md:justify-end mt-4 pt-4 border-t border-gray-100",children:(0,wt.jsx)("button",{onClick:()=>{m("Tous"),g("Tous"),b("Tous"),y("Tous"),B(""),r(!1),j(1)},className:"w-full md:w-auto px-4 py-2 text-xs font-bold uppercase bg-gray-100 text-gray-600 hover:bg-gray-200 hover:text-[#ea1b31] rounded transition-colors",children:"Effacer les filtres"})})]}),(0,wt.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-4 px-1",children:[(0,wt.jsx)("div",{className:"text-sm font-bold text-gray-700 bg-white px-3 py-1.5 rounded shadow-sm border border-gray-200",children:c?(0,wt.jsxs)("span",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Vs,{className:"animate-spin",size:16}),"Chargement..."]}):(0,wt.jsxs)(wt.Fragment,{children:["Affichage de"," ",(0,wt.jsx)("span",{className:"text-[#4c7026]",children:l.length>0?(N-1)*C+1:0})," ","\xe0"," ",(0,wt.jsx)("span",{className:"text-[#4c7026]",children:Math.min(N*C,F)})," ","sur ",(0,wt.jsx)("span",{className:"text-[#4c7026]",children:F})," ","enseignants"]})}),(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Afficher par :"}),(0,wt.jsxs)("select",{className:"px-2 py-1.5 bg-white border border-gray-300 rounded text-sm font-semibold focus:border-[#4c7026] outline-none cursor-pointer",value:C,onChange:e=>{k(Number(e.target.value)),j(1)},children:[(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:20,children:"20"}),(0,wt.jsx)("option",{value:30,children:"30"}),(0,wt.jsx)("option",{value:50,children:"50"}),(0,wt.jsx)("option",{value:100,children:"100"})]})]})]}),(0,wt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden border border-gray-200",children:[(0,wt.jsxs)("div",{className:"hidden md:grid grid-cols-12 gap-4 p-4 bg-[#f4f7f0] border-b border-gray-200",children:[(0,wt.jsx)("div",{className:"col-span-4 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"Nom et Pr\xe9noms"}),(0,wt.jsx)("div",{className:"col-span-3 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"\xc9tablissement d'Origine"}),(0,wt.jsx)("div",{className:"col-span-2 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"Grade"}),(0,wt.jsx)("div",{className:"col-span-3 text-xs font-bold text-[#4c7026] uppercase tracking-wide",children:"Dipl\xf4me & Sp\xe9cialit\xe9"})]}),(0,wt.jsx)("div",{className:"divide-y divide-gray-100",children:c?(0,wt.jsx)("div",{className:"py-20 flex justify-center",children:(0,wt.jsx)(Vs,{className:"animate-spin text-[#4c7026]",size:48})}):l.length>0?l.map(e=>(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 md:gap-4 p-4 hover:bg-gray-50 transition-all duration-200 group",children:[(0,wt.jsxs)("div",{className:"col-span-12 md:col-span-4 flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-10 h-10 md:w-9 md:h-9 rounded bg-[#b4cd7b]/20 text-[#4c7026] flex items-center justify-center shrink-0 border border-[#b4cd7b]/30",children:(0,wt.jsx)(ks,{size:18})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Identit\xe9"}),(0,wt.jsx)("h3",{className:"font-bold text-gray-800 text-sm group-hover:text-[#4c7026] transition-colors capitalize leading-tight",children:e.nom}),(0,wt.jsx)("p",{className:"md:hidden text-xs text-gray-500 mt-1 capitalize",children:e.univ})]})]}),(0,wt.jsxs)("div",{className:"col-span-12 md:col-span-3 pl-14 md:pl-0",children:[(0,wt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"\xc9tablissement"}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-800 font-medium capitalize",children:[(0,wt.jsx)(Ii,{size:15,className:"text-[#b4cd7b]"}),e.etablissement]}),(0,wt.jsx)("div",{className:"hidden md:block text-[11px] text-gray-500 ml-6 mt-0.5 truncate capitalize",children:e.univ})]}),(0,wt.jsxs)("div",{className:"col-span-6 md:col-span-2 pl-14 md:pl-0 mt-2 md:mt-0",children:[(0,wt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Grade"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded bg-gray-100 text-gray-700 text-xs font-medium border border-gray-200 capitalize",children:e.grade})]}),(0,wt.jsxs)("div",{className:"col-span-6 md:col-span-3 pl-14 md:pl-0 mt-2 md:mt-0",children:[(0,wt.jsx)("span",{className:"md:hidden text-[10px] font-bold text-gray-400 uppercase block mb-1",children:"Qualification"}),(0,wt.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs font-bold text-[#4c7026] capitalize",children:[(0,wt.jsx)(Mi,{size:15}),e.diplome]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600 capitalize",children:[(0,wt.jsx)(Di,{size:15,className:"text-gray-400"}),e.specialite]})]})]})]},e.id)):(0,wt.jsxs)("div",{className:"py-16 text-center text-gray-500 bg-white",children:[(0,wt.jsx)(Pi,{size:48,className:"mx-auto text-gray-300 mb-4"}),(0,wt.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"Aucun r\xe9sultat trouv\xe9"}),(0,wt.jsx)("p",{className:"text-sm px-4",children:"Modifiez vos crit\xe8res de recherche pour voir plus de r\xe9sultats."})]})}),(0,wt.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-200 flex flex-col sm:flex-row justify-between items-center gap-4 text-xs text-gray-600",children:[(0,wt.jsxs)("span",{className:"font-medium",children:["Page ",N," sur ",U]}),(0,wt.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,wt.jsxs)("button",{onClick:()=>j(e=>Math.max(e-1,1)),disabled:1===N||c,className:"px-3 py-1.5 border rounded bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[(0,wt.jsx)(_t,{size:14})," Pr\xe9c\xe9dent"]}),(0,wt.jsx)("div",{className:"px-2 font-bold text-gray-800",children:N}),(0,wt.jsxs)("button",{onClick:()=>j(e=>Math.min(e+1,U)),disabled:N===U||c,className:"px-3 py-1.5 border rounded bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Suivant ",(0,wt.jsx)(Os,{size:14})]})]})]})]}),(0,wt.jsx)("div",{className:"mt-8 flex justify-center pb-8",children:(0,wt.jsxs)("button",{onClick:()=>e("/signalement"),className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#4c7026] hover:bg-[#3a5a1d] text-white font-bold uppercase rounded shadow-lg transition-all transform hover:-translate-y-0.5",children:[(0,wt.jsx)(Cs,{size:18})," Retour \xe0 l'accueil"]})})]}),(0,wt.jsx)("footer",{className:"w-full text-center py-6 mt-auto border-t border-gray-200 bg-white",children:(0,wt.jsx)("div",{className:"text-gray-500 text-xs font-medium",children:"\xa9 daaq-mesupres 2025"})})]})},Gi=()=>(0,wt.jsx)("section",{className:"page_404 min-h-screen flex items-center justify-center",children:(0,wt.jsx)("div",{className:"container mx-auto",children:(0,wt.jsx)("div",{className:"flex justify-center",children:(0,wt.jsxs)("div",{className:"w-full text-center",children:[(0,wt.jsx)("div",{className:"four_zero_four_bg",children:(0,wt.jsx)("h1",{className:"text-center text-gray-800",children:"404"})}),(0,wt.jsxs)("div",{className:"content_box_404",children:[(0,wt.jsx)("h3",{className:"h2 text-3xl font-bold mb-4",children:"On dirait que vous \xeates perdu"}),(0,wt.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"La page que vous recherchez n'est pas disponible !"}),(0,wt.jsx)(ht,{to:"/",className:"link_404",children:"Retour \xe0 l'accueil"})]})]})})})}),Yi=Et("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ji=Et("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Xi=Et("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Zi=Et("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$i=Et("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),eo=e=>{let{onNavigateToNotifications:n,onDeconnexion:r,onNavigateToProfile:s,onNavigateToSettings:a,adminData:i,userRole:l="admin"}=e;const[A,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)(0),[b,v]=(0,t.useState)(!1),[y,w]=(0,t.useState)(0),[B,N]=(0,t.useState)(i||{}),j=(0,t.useCallback)(async()=>{try{const e=await is.get("/profile");e.data.success&&(N(e.data.data),w(e=>e+1))}catch(e){}},[]);(0,t.useEffect)(()=>{j();const e=()=>{j()};return window.addEventListener("profileUpdated",e),()=>{window.removeEventListener("profileUpdated",e)}},[j]);const C=(()=>{if(B.name&&""!==B.name.trim())return B.name.trim();const e=B.lastname||B.last_name||"",t=B.firstname||B.first_name||"";return e||t?"".concat(e," ").concat(t).trim():B.name||"Utilisateur"})(),k=(B.role||B.formattedrole||l||"admin").toLowerCase(),F={admin:{bg:"bg-blue-600",text:"text-blue-600",light:"bg-blue-50",border:"border-blue-200",badge:"bg-blue-100 text-blue-800",ring:"ring-blue-500"},agent:{bg:"bg-green-600",text:"text-green-600",light:"bg-green-50",border:"border-green-200",badge:"bg-green-100 text-green-800",ring:"ring-green-500"},investigateur:{bg:"bg-purple-600",text:"text-purple-600",light:"bg-purple-50",border:"border-purple-200",badge:"bg-purple-100 text-purple-800",ring:"ring-purple-500"}},S=F[k]||F.admin;(0,t.useEffect)(()=>{const e=async()=>{try{const e=await is.get("/notifications/recent");if(e.data.success){const t=e.data.data||[];p(t),x(t.filter(e=>"active"===e.status).length)}}catch(e){}};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[]);const E=(0,t.useCallback)(e=>{if(!e)return null;let t=e;return t.startsWith("http")?"".concat(t,"?t=").concat(Date.now()):t.includes("storage/avatars/")?t.startsWith("/")?"".concat(ss).concat(t):"".concat(ss,"/").concat(t):(t.startsWith("/")||(t="/".concat(t)),t.startsWith("/storage")||(t="/storage".concat(t)),"".concat(ss).concat(t,"?v=").concat(y,"&t=").concat(Date.now()))},[y]);(0,t.useEffect)(()=>{const e=B.avatar_url||B.avatar;if(!e)return void v(!1);const t=E(e),n=new Image;n.onload=()=>v(!0),n.onerror=()=>v(!1),n.src=t},[B,y,E]);const _=E(B.avatar_url||B.avatar),U=()=>{const e=B.lastname||B.last_name,t=B.firstname||B.first_name,n=B.name;return e&&t?"".concat(e[0]).concat(t[0]).toUpperCase():n?n.substring(0,2).toUpperCase():"U"},Q=e=>{switch(e){case"nouveau_signalement":return(0,wt.jsx)(Ks,{className:"w-5 h-5 text-blue-500"});case"probleme_critique":return(0,wt.jsx)(Yi,{className:"w-5 h-5 text-red-500"});default:return(0,wt.jsx)(ws,{className:"w-5 h-5 text-green-500"})}},L=e=>{if(B.formattedrole)return B.formattedrole;const t=e||k;return t.charAt(0).toUpperCase()+t.slice(1)};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("header",{className:"fixed top-0 left-0 right-0 h-20 bg-white border-b border-gray-200 flex items-center justify-between px-8 z-50 shadow-sm",children:[(0,wt.jsx)("div",{className:"flex items-center ml-6",children:(0,wt.jsx)("img",{src:As,alt:"FOSIKA",className:"h-28 object-contain"})}),(0,wt.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("button",{onClick:()=>c(!A),className:"relative p-2 rounded-full hover:bg-gray-100 transition-colors",children:[(0,wt.jsx)(Ji,{className:"w-6 h-6 text-gray-600"}),g>0&&(0,wt.jsx)("span",{className:"absolute top-0 right-0 h-5 w-5 rounded-full text-xs font-bold flex items-center justify-center bg-red-600 text-white shadow-sm ring-2 ring-white",children:g})]}),A&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),(0,wt.jsxs)("div",{className:"absolute right-0 mt-3 w-80 bg-white rounded-xl shadow-2xl py-2 z-20 max-h-96 overflow-y-auto border border-gray-100 animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,wt.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[(0,wt.jsx)("h3",{className:"font-semibold text-gray-700",children:"Notifications"}),g>0&&(0,wt.jsxs)("span",{className:"text-xs ".concat(S.text," bg-white px-2 py-1 rounded-full border ").concat(S.border),children:[g," nouvelle(s)"]})]}),0===m.length?(0,wt.jsxs)("div",{className:"px-4 py-8 text-center text-gray-500 text-sm",children:[(0,wt.jsx)("div",{className:"inline-block p-3 bg-gray-50 rounded-full mb-2",children:(0,wt.jsx)(Ji,{className:"w-6 h-6 text-gray-400"})}),(0,wt.jsx)("p",{children:"Aucune notification r\xe9cente"})]}):(0,wt.jsx)("ul",{children:m.map(e=>(0,wt.jsx)("li",{className:"border-b border-gray-50 hover:bg-gray-50 transition-colors ".concat("active"===e.status?"".concat(S.light," bg-opacity-30"):""),children:(0,wt.jsxs)("button",{className:"w-full text-left px-4 py-3 flex items-start space-x-3",onClick:()=>{(async e=>{try{await is.post("/notifications/".concat(e,"/read")),p(t=>t.map(t=>t.id===e?o(o({},t),{},{status:"read"}):t)),x(e=>Math.max(0,e-1))}catch(t){}})(e.id),n&&(n(),c(!1))},children:[(0,wt.jsx)("div",{className:"mt-1",children:Q(e.type)}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("p",{className:"text-sm ".concat("active"===e.status?"font-semibold text-gray-800":"text-gray-600"),children:e.message}),(0,wt.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:new Date(e.created_at).toLocaleString()})]}),"active"===e.status&&(0,wt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(S.bg," mt-2 shadow-sm")})]})},e.id))})]})]})]}),(0,wt.jsxs)("div",{className:"relative pl-4 border-l border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>d(!u),className:"flex items-center space-x-3 hover:bg-gray-50 p-1.5 rounded-full transition-colors pr-3",children:[b?(0,wt.jsx)("img",{src:_,alt:"Profil",className:"w-10 h-10 rounded-full object-cover border-2 border-white shadow-sm ring-2 ring-opacity-50 ".concat(S.ring)}):(0,wt.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(S.bg," text-white font-bold text-sm shadow-sm ring-2 ring-offset-2 ring-white"),children:U()}),(0,wt.jsxs)("div",{className:"hidden md:block text-left",children:[(0,wt.jsx)("p",{className:"text-sm font-semibold text-gray-700 leading-none mb-1",children:C}),(0,wt.jsx)("p",{className:"text-xs ".concat(S.text," font-medium"),children:L(k)})]}),(0,wt.jsx)(Xi,{className:"w-4 h-4 text-gray-400"})]}),u&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),(0,wt.jsxs)("div",{className:"absolute right-0 mt-3 w-72 bg-white rounded-xl shadow-2xl py-2 z-20 border border-gray-100 animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,wt.jsx)("div",{className:"px-6 py-4 ".concat(S.light," border-b ").concat(S.border," mb-2"),children:(0,wt.jsxs)("div",{className:"flex items-center space-x-4",children:[b?(0,wt.jsx)("img",{src:_,alt:"Avatar",className:"w-14 h-14 rounded-full object-cover border-4 border-white shadow-md"}):(0,wt.jsx)("div",{className:"w-14 h-14 rounded-full flex items-center justify-center ".concat(S.bg," text-white font-bold text-xl border-4 border-white shadow-md"),children:U()}),(0,wt.jsxs)("div",{className:"overflow-hidden",children:[(0,wt.jsx)("p",{className:"font-bold text-gray-800 truncate",title:C,children:C}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 truncate mb-1.5",title:B.email,children:B.email||"Email non disponible"}),(0,wt.jsx)("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider ".concat(S.badge),children:L(k)})]})]})}),(0,wt.jsxs)("div",{className:"px-2",children:[(0,wt.jsxs)("button",{onClick:()=>{s&&s(),d(!1)},className:"w-full flex items-center px-4 py-2.5 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors group",children:[(0,wt.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg mr-3 group-hover:bg-white group-hover:shadow-sm transition-all",children:(0,wt.jsx)(ks,{className:"w-4 h-4 text-gray-500 group-hover:text-blue-600"})}),(0,wt.jsxs)("div",{className:"text-left",children:[(0,wt.jsx)("span",{className:"text-sm font-medium block",children:"Mon Profil"}),(0,wt.jsx)("span",{className:"text-xs text-gray-400",children:"G\xe9rer vos informations"})]})]}),(0,wt.jsxs)("button",{onClick:()=>{a&&a(),d(!1)},className:"w-full flex items-center px-4 py-2.5 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors group",children:[(0,wt.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg mr-3 group-hover:bg-white group-hover:shadow-sm transition-all",children:(0,wt.jsx)(Zi,{className:"w-4 h-4 text-gray-500 group-hover:text-blue-600"})}),(0,wt.jsxs)("div",{className:"text-left",children:[(0,wt.jsx)("span",{className:"text-sm font-medium block",children:"Param\xe8tres"}),(0,wt.jsx)("span",{className:"text-xs text-gray-400",children:"Pr\xe9f\xe9rences du compte"})]})]})]}),(0,wt.jsx)("div",{className:"border-t border-gray-100 my-2 mx-2"}),(0,wt.jsx)("div",{className:"px-2 pb-1",children:(0,wt.jsxs)("button",{onClick:()=>{f(!0),d(!1)},className:"w-full flex items-center px-4 py-2.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors group",children:[(0,wt.jsx)("div",{className:"p-2 bg-red-50 rounded-lg mr-3 group-hover:bg-white group-hover:shadow-sm transition-all",children:(0,wt.jsx)($i,{className:"w-4 h-4 text-red-500"})}),(0,wt.jsx)("span",{className:"text-sm font-medium",children:"D\xe9connexion"})]})})]})]})]})]})]}),h&&(0,wt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-[100] animate-in fade-in duration-200",children:(0,wt.jsxs)("div",{className:"bg-white rounded-2xl p-8 max-w-sm w-full mx-4 shadow-2xl transform transition-all scale-100 border border-gray-100",children:[(0,wt.jsxs)("div",{className:"text-center mb-6",children:[(0,wt.jsx)("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,wt.jsx)($i,{className:"w-8 h-8 text-red-600 ml-1"})}),(0,wt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"D\xe9connexion"}),(0,wt.jsx)("p",{className:"text-gray-500",children:"\xcates-vous s\xfbr de vouloir quitter votre session actuelle ?"})]}),(0,wt.jsxs)("div",{className:"flex space-x-3",children:[(0,wt.jsx)("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-semibold",children:"Annuler"}),(0,wt.jsx)("button",{onClick:()=>{f(!1),(async()=>{try{await is.post("/auth/logout").catch(()=>{})}catch(e){}finally{localStorage.clear(),sessionStorage.clear(),"function"===typeof r?r():window.location.href="/login"}})()},className:"flex-1 px-4 py-2.5 text-white bg-red-600 rounded-xl hover:bg-red-700 transition-colors font-semibold shadow-lg shadow-red-200",children:"Confirmer"})]})]})})]})},to=Et("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),no=Et("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),ro=Et("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),so=e=>{let{currentView:t,onViewChange:n,collapsed:r,onToggle:s}=e;const a=[{id:"dashboard",label:"Tableau de bord",icon:(0,wt.jsx)(to,{size:20})},{id:"reports",label:"Gestion des signalements",icon:(0,wt.jsx)(Ks,{size:20})},{id:"chat",label:"Messagerie",icon:(0,wt.jsx)(no,{size:20})},{id:"enseignants",label:"Enseignants",icon:(0,wt.jsx)(Mi,{size:20})},{id:"equipe",label:"Utilisateurs",icon:(0,wt.jsx)(ro,{size:20})},{id:"audit",label:"Log / Audit",icon:(0,wt.jsx)(Di,{size:20})}];return(0,wt.jsxs)("aside",{className:"\n        relative bg-white border-r border-gray-200 h-full flex flex-col transition-all duration-300 ease-in-out z-30\n        ".concat(r?"w-20":"w-64","\n      "),style:{paddingTop:"5rem"},children:[(0,wt.jsxs)("div",{className:"relative flex items-center justify-end px-4 pt-2 pb-4 h-12",children:[!r&&(0,wt.jsx)("h2",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Menu"}),(0,wt.jsx)("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors relative z-10","aria-label":r?"Agrandir le menu":"R\xe9duire le menu",children:r?(0,wt.jsx)(Os,{size:20}):(0,wt.jsx)(_t,{size:20})})]}),(0,wt.jsx)("nav",{className:"flex-1 overflow-y-auto px-3 space-y-1",children:a.map(e=>(0,wt.jsxs)("button",{onClick:()=>n(e.id),className:"\n              w-full flex items-center p-3 rounded-lg transition-colors duration-200 group relative\n              ".concat(t===e.id?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n            "),title:r?e.label:"",children:[(0,wt.jsx)("span",{className:"flex-shrink-0 ".concat(r?"mx-auto":""),children:e.icon}),!r&&(0,wt.jsx)("span",{className:"ml-3 truncate text-sm",children:e.label}),t===e.id&&!r&&(0,wt.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-600"}),r&&(0,wt.jsx)("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:e.label})]},e.id))}),!r&&(0,wt.jsx)("div",{className:"p-4 border-t border-gray-100 text-xs text-center text-gray-400",children:"\xa9 daaq-mesupres 2025"})]})};function ao(e){return e+.5|0}const io=(e,t,n)=>Math.max(Math.min(e,n),t);function oo(e){return io(ao(2.55*e),0,255)}function lo(e){return io(ao(255*e),0,255)}function Ao(e){return io(ao(e/2.55)/100,0,1)}function co(e){return io(ao(100*e),0,100)}const uo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ho=[..."0123456789ABCDEF"],fo=e=>ho[15&e],mo=e=>ho[(240&e)>>4]+ho[15&e],po=e=>(240&e)>>4===(15&e);function go(e){var t=(e=>po(e.r)&&po(e.g)&&po(e.b)&&po(e.a))(e)?fo:mo;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const xo=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function bo(e,t,n){const r=t*Math.min(n,1-n),s=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(s-3,9-s,1),-1)};return[s(0),s(8),s(4)]}function vo(e,t,n){const r=function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(s,4-s,1),0)};return[r(5),r(3),r(1)]}function yo(e,t,n){const r=bo(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function wo(e){const t=e.r/255,n=e.g/255,r=e.b/255,s=Math.max(t,n,r),a=Math.min(t,n,r),i=(s+a)/2;let o,l,A;return s!==a&&(A=s-a,l=i>.5?A/(2-s-a):A/(s+a),o=function(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}(t,n,r,A,s),o=60*o+.5),[0|o,l||0,i]}function Bo(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(lo)}function No(e,t,n){return Bo(bo,e,t,n)}function jo(e){return(e%360+360)%360}function Co(e){const t=xo.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?oo(+t[5]):lo(+t[5]));const s=jo(+t[2]),a=+t[3]/100,i=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Bo(yo,e,t,n)}(s,a,i):"hsv"===t[1]?function(e,t,n){return Bo(vo,e,t,n)}(s,a,i):No(s,a,i),{r:n[0],g:n[1],b:n[2],a:r}}const ko={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fo={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let So;function Eo(e){So||(So=function(){const e={},t=Object.keys(Fo),n=Object.keys(ko);let r,s,a,i,o;for(r=0;r<t.length;r++){for(i=o=t[r],s=0;s<n.length;s++)a=n[s],o=o.replace(a,ko[a]);a=parseInt(Fo[i],16),e[o]=[a>>16&255,a>>8&255,255&a]}return e}(),So.transparent=[0,0,0,0]);const t=So[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const _o=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Uo=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Qo=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Lo(e,t,n){if(e){let r=wo(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=No(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Io(e,t){return e?Object.assign(t||{},e):e}function Mo(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=lo(e[3]))):(t=Io(e,{r:0,g:0,b:0,a:1})).a=lo(t.a),t}function Do(e){return"r"===e.charAt(0)?function(e){const t=_o.exec(e);let n,r,s,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?oo(e):io(255*e,0,255)}return n=+t[1],r=+t[3],s=+t[5],n=255&(t[2]?oo(n):io(n,0,255)),r=255&(t[4]?oo(r):io(r,0,255)),s=255&(t[6]?oo(s):io(s,0,255)),{r:n,g:r,b:s,a:a}}}(e):Co(e)}class Po{constructor(e){if(e instanceof Po)return e;const t=typeof e;let n;"object"===t?n=Mo(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*uo[e[1]],g:255&17*uo[e[2]],b:255&17*uo[e[3]],a:5===n?17*uo[e[4]]:255}:7!==n&&9!==n||(t={r:uo[e[1]]<<4|uo[e[2]],g:uo[e[3]]<<4|uo[e[4]],b:uo[e[5]]<<4|uo[e[6]],a:9===n?uo[e[7]]<<4|uo[e[8]]:255})),t}(e)||Eo(e)||Do(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Io(this._rgb);return e&&(e.a=Ao(e.a)),e}set rgb(e){this._rgb=Mo(e)}rgbString(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Ao(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}hexString(){return this._valid?go(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=wo(e),n=t[0],r=co(t[1]),s=co(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(Ao(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let s;const a=t===s?.5:t,i=2*a-1,o=n.a-r.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;s=1-l,n.r=255&l*n.r+s*r.r+.5,n.g=255&l*n.g+s*r.g+.5,n.b=255&l*n.b+s*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Qo(Ao(e.r)),s=Qo(Ao(e.g)),a=Qo(Ao(e.b));return{r:lo(Uo(r+n*(Qo(Ao(t.r))-r))),g:lo(Uo(s+n*(Qo(Ao(t.g))-s))),b:lo(Uo(a+n*(Qo(Ao(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Po(this.rgb)}alpha(e){return this._rgb.a=lo(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ao(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Lo(this._rgb,2,e),this}darken(e){return Lo(this._rgb,2,-e),this}saturate(e){return Lo(this._rgb,1,e),this}desaturate(e){return Lo(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=wo(e);n[0]=jo(n[0]+t),n=No(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function To(){}const Oo=(()=>{let e=0;return()=>e++})();function Ho(e){return null===e||void 0===e}function Ro(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function zo(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Ko(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Vo(e,t){return Ko(e)?e:t}function qo(e,t){return"undefined"===typeof e?t:e}const Wo=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Go(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Yo(e,t,n,r){let s,a,i;if(Ro(e))if(a=e.length,r)for(s=a-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<a;s++)t.call(n,e[s],s);else if(zo(e))for(i=Object.keys(e),a=i.length,s=0;s<a;s++)t.call(n,e[i[s]],i[s])}function Jo(e,t){let n,r,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Xo(e){if(Ro(e))return e.map(Xo);if(zo(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=Xo(e[n[s]]);return t}return e}function Zo(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function $o(e,t,n,r){if(!Zo(e))return;const s=t[e],a=n[e];zo(s)&&zo(a)?el(s,a,r):t[e]=Xo(a)}function el(e,t,n){const r=Ro(t)?t:[t],s=r.length;if(!zo(e))return e;const a=(n=n||{}).merger||$o;let i;for(let o=0;o<s;++o){if(i=r[o],!zo(i))continue;const t=Object.keys(i);for(let r=0,s=t.length;r<s;++r)a(t[r],e,i,n)}return e}function tl(e,t){return el(e,t,{merger:nl})}function nl(e,t,n){if(!Zo(e))return;const r=t[e],s=n[e];zo(r)&&zo(s)?tl(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Xo(s))}const rl={"":e=>e,x:e=>e.x,y:e=>e.y};function sl(e,t){const n=rl[t]||(rl[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function al(e){return e.charAt(0).toUpperCase()+e.slice(1)}const il=e=>"undefined"!==typeof e,ol=e=>"function"===typeof e,ll=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Al=Math.PI,cl=2*Al,ul=cl+Al,dl=Number.POSITIVE_INFINITY,hl=Al/180,fl=Al/2,ml=Al/4,pl=2*Al/3,gl=Math.log10,xl=Math.sign;function bl(e,t,n){return Math.abs(e-t)<n}function vl(e){const t=Math.round(e);e=bl(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(gl(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function yl(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function wl(e,t,n){let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Bl(e){return e*(Al/180)}function Nl(e){return e*(180/Al)}function jl(e){if(!Ko(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Cl(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Al&&(a+=cl),{angle:a,distance:s}}function kl(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Fl(e,t){return(e-t+ul)%cl-Al}function Sl(e){return(e%cl+cl)%cl}function El(e,t,n,r){const s=Sl(e),a=Sl(t),i=Sl(n),o=Sl(a-s),l=Sl(i-s),A=Sl(s-a),c=Sl(s-i);return s===a||s===i||r&&a===i||o>l&&A<c}function _l(e,t,n){return Math.max(t,Math.min(n,e))}function Ul(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Ql(e,t,n){n=n||(n=>e[n]<t);let r,s=e.length-1,a=0;for(;s-a>1;)r=a+s>>1,n(r)?a=r:s=r;return{lo:a,hi:s}}const Ll=(e,t,n,r)=>Ql(e,n,r?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),Il=(e,t,n)=>Ql(e,n,r=>e[r][t]>=n);const Ml=["push","pop","shift","splice","unshift"];function Dl(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);-1!==s&&r.splice(s,1),r.length>0||(Ml.forEach(t=>{delete e[t]}),delete e._chartjs)}function Pl(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Tl="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Ol(e,t){let n=[],r=!1;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n=a,r||(r=!0,Tl.call(window,()=>{r=!1,e.apply(t,n)}))}}const Hl=e=>"start"===e?"left":"end"===e?"right":"center",Rl=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function zl(e,t,n){const r=t.length;let s=0,a=r;if(e._sorted){const{iScale:i,vScale:o,_parsed:l}=e,A=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,c=i.axis,{min:u,max:d,minDefined:h,maxDefined:f}=i.getUserBounds();if(h){if(s=Math.min(Ll(l,c,u).lo,n?r:Ll(t,c,i.getPixelForValue(u)).lo),A){const e=l.slice(0,s+1).reverse().findIndex(e=>!Ho(e[o.axis]));s-=Math.max(0,e)}s=_l(s,0,r-1)}if(f){let e=Math.max(Ll(l,i.axis,d,!0).hi+1,n?0:Ll(t,c,i.getPixelForValue(d),!0).hi+1);if(A){const t=l.slice(e-1).findIndex(e=>!Ho(e[o.axis]));e+=Math.max(0,t)}a=_l(e,s,r)-s}else a=r-s}return{start:s,count:a}}function Kl(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),a}const Vl=e=>0===e||1===e,ql=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*cl/n),Wl=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*cl/n)+1,Gl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*fl),easeOutSine:e=>Math.sin(e*fl),easeInOutSine:e=>-.5*(Math.cos(Al*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Vl(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Vl(e)?e:ql(e,.075,.3),easeOutElastic:e=>Vl(e)?e:Wl(e,.075,.3),easeInOutElastic(e){const t=.1125;return Vl(e)?e:e<.5?.5*ql(2*e,t,.45):.5+.5*Wl(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Gl.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Gl.easeInBounce(2*e):.5*Gl.easeOutBounce(2*e-1)+.5};function Yl(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Jl(e){return Yl(e)?e:new Po(e)}function Xl(e){return Yl(e)?e:new Po(e).saturate(.5).darken(.1).hexString()}const Zl=["x","y","borderWidth","radius","tension"],$l=["color","borderColor","backgroundColor"];const eA=new Map;function tA(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=eA.get(n);return r||(r=new Intl.NumberFormat(e,t),eA.set(n,r)),r}(t,n).format(e)}const nA={values:e=>Ro(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let s,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const i=gl(Math.abs(a)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),tA(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(gl(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?nA.numeric.call(this,e,t,n):""}};var rA={formatters:nA};const sA=Object.create(null),aA=Object.create(null);function iA(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function oA(e,t,n){return"string"===typeof t?el(iA(e,t),n):el(iA(e,""),t)}class lA{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Xl(t.backgroundColor),this.hoverBorderColor=(e,t)=>Xl(t.borderColor),this.hoverColor=(e,t)=>Xl(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return oA(this,e,t)}get(e){return iA(this,e)}describe(e,t){return oA(aA,e,t)}override(e,t){return oA(sA,e,t)}route(e,t,n,r){const s=iA(this,e),a=iA(this,n),i="_"+t;Object.defineProperties(s,{[i]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=a[r];return zo(e)?Object.assign({},t,e):qo(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach(e=>e(this))}}var AA=new lA({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:$l},numbers:{type:"number",properties:Zl}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function cA(e,t,n,r,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>r&&(r=a),r}function uA(e,t,n,r){let s=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(s=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let i=0;const o=n.length;let l,A,c,u,d;for(l=0;l<o;l++)if(u=n[l],void 0===u||null===u||Ro(u)){if(Ro(u))for(A=0,c=u.length;A<c;A++)d=u[A],void 0===d||null===d||Ro(d)||(i=cA(e,s,a,i,d))}else i=cA(e,s,a,i,u);e.restore();const h=a.length/2;if(h>n.length){for(l=0;l<h;l++)delete s[a[l]];a.splice(0,h)}return i}function dA(e,t,n){const r=e.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function hA(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function fA(e,t,n,r){mA(e,t,n,r,null)}function mA(e,t,n,r,s){let a,i,o,l,A,c,u,d;const h=t.pointStyle,f=t.rotation,m=t.radius;let p=(f||0)*hl;if(h&&"object"===typeof h&&(a=h.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,r),e.rotate(p),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),h){default:s?e.ellipse(n,r,s/2,m,0,0,cl):e.arc(n,r,m,0,cl),e.closePath();break;case"triangle":c=s?s/2:m,e.moveTo(n+Math.sin(p)*c,r-Math.cos(p)*m),p+=pl,e.lineTo(n+Math.sin(p)*c,r-Math.cos(p)*m),p+=pl,e.lineTo(n+Math.sin(p)*c,r-Math.cos(p)*m),e.closePath();break;case"rectRounded":A=.516*m,l=m-A,i=Math.cos(p+ml)*l,u=Math.cos(p+ml)*(s?s/2-A:l),o=Math.sin(p+ml)*l,d=Math.sin(p+ml)*(s?s/2-A:l),e.arc(n-u,r-o,A,p-Al,p-fl),e.arc(n+d,r-i,A,p-fl,p),e.arc(n+u,r+o,A,p,p+fl),e.arc(n-d,r+i,A,p+fl,p+Al),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,c=s?s/2:l,e.rect(n-c,r-l,2*c,2*l);break}p+=ml;case"rectRot":u=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,d=Math.sin(p)*(s?s/2:m),e.moveTo(n-u,r-o),e.lineTo(n+d,r-i),e.lineTo(n+u,r+o),e.lineTo(n-d,r+i),e.closePath();break;case"crossRot":p+=ml;case"cross":u=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,d=Math.sin(p)*(s?s/2:m),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+d,r-i),e.lineTo(n-d,r+i);break;case"star":u=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,d=Math.sin(p)*(s?s/2:m),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+d,r-i),e.lineTo(n-d,r+i),p+=ml,u=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,d=Math.sin(p)*(s?s/2:m),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+d,r-i),e.lineTo(n-d,r+i);break;case"line":i=s?s/2:Math.cos(p)*m,o=Math.sin(p)*m,e.moveTo(n-i,r-o),e.lineTo(n+i,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(p)*(s?s/2:m),r+Math.sin(p)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function pA(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function gA(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function xA(e){e.restore()}function bA(e,t,n,r,s){if(!t)return e.lineTo(n.x,n.y);if("middle"===s){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===s!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function vA(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function yA(e,t,n,r,s){if(s.strikethrough||s.underline){const a=e.measureText(r),i=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,A=n+a.actualBoundingBoxDescent,c=s.strikethrough?(l+A)/2:A;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(i,c),e.lineTo(o,c),e.stroke()}}function wA(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function BA(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=Ro(t)?t:[t],o=a.strokeWidth>0&&""!==a.strokeColor;let l,A;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Ho(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<i.length;++l)A=i[l],a.backdrop&&wA(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Ho(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(A,n,r,a.maxWidth)),e.fillText(A,n,r,a.maxWidth),yA(e,n,r,A,a),r+=Number(s.lineHeight);e.restore()}function NA(e,t){const{x:n,y:r,w:s,h:a,radius:i}=t;e.arc(n+i.topLeft,r+i.topLeft,i.topLeft,1.5*Al,Al,!0),e.lineTo(n,r+a-i.bottomLeft),e.arc(n+i.bottomLeft,r+a-i.bottomLeft,i.bottomLeft,Al,fl,!0),e.lineTo(n+s-i.bottomRight,r+a),e.arc(n+s-i.bottomRight,r+a-i.bottomRight,i.bottomRight,fl,0,!0),e.lineTo(n+s,r+i.topRight),e.arc(n+s-i.topRight,r+i.topRight,i.topRight,0,-fl,!0),e.lineTo(n+i.topLeft,r)}const jA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,CA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function kA(e,t){const n=(""+e).match(jA);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const FA=e=>+e||0;function SA(e,t){const n={},r=zo(t),s=r?Object.keys(t):t,a=zo(e)?r?n=>qo(e[n],e[t[n]]):t=>e[t]:()=>e;for(const i of s)n[i]=FA(a(i));return n}function EA(e){return SA(e,{top:"y",right:"x",bottom:"y",left:"x"})}function _A(e){return SA(e,["topLeft","topRight","bottomLeft","bottomRight"])}function UA(e){const t=EA(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function QA(e,t){e=e||{},t=t||AA.font;let n=qo(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=qo(e.style,t.style);r&&!(""+r).match(CA)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:qo(e.family,t.family),lineHeight:kA(qo(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:qo(e.weight,t.weight),string:""};return s.string=function(e){return!e||Ho(e.size)||Ho(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function LA(e,t,n,r){let s,a,i,o=!0;for(s=0,a=e.length;s<a;++s)if(i=e[s],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),o=!1),void 0!==n&&Ro(i)&&(i=i[n%i.length],o=!1),void 0!==i))return r&&!o&&(r.cacheable=!1),i}function IA(e,t){return Object.assign(Object.create(e),t)}function MA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const s=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=WA("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:r,override:r=>MA([r,...e],t,s,n)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>HA(n,r,()=>function(e,t,n,r){let s;for(const a of t)if(s=WA(TA(a,e),n),"undefined"!==typeof s)return OA(e,s)?VA(n,r,e,s):s}(r,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>GA(e).includes(t),ownKeys:e=>GA(e),set(e,t,n){const s=e._storage||(e._storage=r());return e[t]=s[t]=n,delete e._keys,!0}})}function DA(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:PA(e,r),setContext:t=>DA(e,t,n,r),override:s=>DA(e.override(s),t,n,r)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>HA(e,t,()=>function(e,t,n){const{_proxy:r,_context:s,_subProxy:a,_descriptors:i}=e;let o=r[t];ol(o)&&i.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:s,_context:a,_subProxy:i,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,i||r);o.delete(e),OA(e,l)&&(l=VA(s._scopes,s,e,l));return l}(t,o,e,n));Ro(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=n;if("undefined"!==typeof a.index&&r(e))return t[a.index%t.length];if(zo(t[0])){const n=t,r=s._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=VA(r,s,e,l);t.push(DA(n,a,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));OA(t,o)&&(o=DA(o,s,a&&a[t],i));return o}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function PA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ol(n)?n:()=>n,isIndexable:ol(r)?r:()=>r}}const TA=(e,t)=>e?e+al(t):t,OA=(e,t)=>zo(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function HA(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function RA(e,t,n){return ol(e)?e(t,n):e}const zA=(e,t)=>!0===e?t:"string"===typeof e?sl(t,e):void 0;function KA(e,t,n,r,s){for(const a of t){const t=zA(n,a);if(t){e.add(t);const a=RA(t._fallback,n,s);if("undefined"!==typeof a&&a!==n&&a!==r)return a}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function VA(e,t,n,r){const s=t._rootScopes,a=RA(t._fallback,n,r),i=[...e,...s],o=new Set;o.add(r);let l=qA(o,i,n,a||n,r);return null!==l&&(("undefined"===typeof a||a===n||(l=qA(o,i,a,l,r),null!==l))&&MA(Array.from(o),[""],s,a,()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];if(Ro(s)&&zo(n))return n;return s||{}}(t,n,r)))}function qA(e,t,n,r,s){for(;n;)n=KA(e,t,n,r,s);return n}function WA(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function GA(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function YA(e,t,n,r){const{iScale:s}=e,{key:a="r"}=this._parsing,i=new Array(r);let o,l,A,c;for(o=0,l=r;o<l;++o)A=o+n,c=t[A],i[o]={r:s.parse(sl(c,a),A)};return i}const JA=Number.EPSILON||1e-14,XA=(e,t)=>t<e.length&&!e[t].skip&&e[t],ZA=e=>"x"===e?"y":"x";function $A(e,t,n,r){const s=e.skip?t:e,a=t,i=n.skip?t:n,o=kl(a,s),l=kl(i,a);let A=o/(o+l),c=l/(o+l);A=isNaN(A)?0:A,c=isNaN(c)?0:c;const u=r*A,d=r*c;return{previous:{x:a.x-u*(i.x-s.x),y:a.y-u*(i.y-s.y)},next:{x:a.x+d*(i.x-s.x),y:a.y+d*(i.y-s.y)}}}function ec(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=ZA(t),r=e.length,s=Array(r).fill(0),a=Array(r);let i,o,l,A=XA(e,0);for(i=0;i<r;++i)if(o=l,l=A,A=XA(e,i+1),l){if(A){const e=A[t]-l[t];s[i]=0!==e?(A[n]-l[n])/e:0}a[i]=o?A?xl(s[i-1])!==xl(s[i])?0:(s[i-1]+s[i])/2:s[i-1]:s[i]}!function(e,t,n){const r=e.length;let s,a,i,o,l,A=XA(e,0);for(let c=0;c<r-1;++c)l=A,A=XA(e,c+1),l&&A&&(bl(t[c],0,JA)?n[c]=n[c+1]=0:(s=n[c]/t[c],a=n[c+1]/t[c],o=Math.pow(s,2)+Math.pow(a,2),o<=9||(i=3/Math.sqrt(o),n[c]=s*i*t[c],n[c+1]=a*i*t[c])))}(e,s,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=ZA(n),s=e.length;let a,i,o,l=XA(e,0);for(let A=0;A<s;++A){if(i=o,o=l,l=XA(e,A+1),!o)continue;const s=o[n],c=o[r];i&&(a=(s-i[n])/3,o["cp1".concat(n)]=s-a,o["cp1".concat(r)]=c-a*t[A]),l&&(a=(l[n]-s)/3,o["cp2".concat(n)]=s+a,o["cp2".concat(r)]=c+a*t[A])}}(e,a,t)}function tc(e,t,n){return Math.max(Math.min(e,n),t)}function nc(e,t,n,r,s){let a,i,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)ec(e,s);else{let n=r?e[e.length-1]:e[0];for(a=0,i=e.length;a<i;++a)o=e[a],l=$A(n,o,e[Math.min(a+1,i-(r?0:1))%i],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,s,a,i,o=pA(e[0],t);for(n=0,r=e.length;n<r;++n)i=a,a=o,o=n<r-1&&pA(e[n+1],t),a&&(s=e[n],i&&(s.cp1x=tc(s.cp1x,t.left,t.right),s.cp1y=tc(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=tc(s.cp2x,t.left,t.right),s.cp2y=tc(s.cp2y,t.top,t.bottom)))}(e,n)}function rc(){return"undefined"!==typeof window&&"undefined"!==typeof document}function sc(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ac(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const ic=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const oc=["top","right","bottom","left"];function lc(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=oc[s];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Ac(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=ic(n),a="border-box"===s.boxSizing,i=lc(s,"padding"),o=lc(s,"border","width"),{x:l,y:A,box:c}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=r;let i,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(s,a,e.target))i=s,o=a;else{const e=t.getBoundingClientRect();i=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,n),u=i.left+(c&&o.left),d=i.top+(c&&o.top);let{width:h,height:f}=t;return a&&(h-=i.width+o.width,f-=i.height+o.height),{x:Math.round((l-u)/h*n.width/r),y:Math.round((A-d)/f*n.height/r)}}const cc=e=>Math.round(10*e)/10;function uc(e,t,n,r){const s=ic(e),a=lc(s,"margin"),i=ac(s.maxWidth,e,"clientWidth")||dl,o=ac(s.maxHeight,e,"clientHeight")||dl,l=function(e,t,n){let r,s;if(void 0===t||void 0===n){const a=e&&sc(e);if(a){const e=a.getBoundingClientRect(),i=ic(a),o=lc(i,"border","width"),l=lc(i,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=ac(i.maxWidth,a,"clientWidth"),s=ac(i.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||dl,maxHeight:s||dl}}(e,t,n);let{width:A,height:c}=l;if("content-box"===s.boxSizing){const e=lc(s,"border","width"),t=lc(s,"padding");A-=t.width+e.width,c-=t.height+e.height}A=Math.max(0,A-a.width),c=Math.max(0,r?A/r:c-a.height),A=cc(Math.min(A,i,l.maxWidth)),c=cc(Math.min(c,o,l.maxHeight)),A&&!c&&(c=cc(A/2));return(void 0!==t||void 0!==n)&&r&&l.height&&c>l.height&&(c=l.height,A=cc(Math.floor(c*r))),{width:A,height:c}}function dc(e,t,n){const r=t||1,s=cc(e.height*r),a=cc(e.width*r);e.height=cc(e.height),e.width=cc(e.width);const i=e.canvas;return i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||i.height!==s||i.width!==a)&&(e.currentDevicePixelRatio=r,i.height=s,i.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0)}const hc=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};rc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(NN){}return e}();function fc(e,t){const n=function(e,t){return ic(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function mc(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function pc(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function gc(e,t,n,r){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},i=mc(e,s,n),o=mc(s,a,n),l=mc(a,t,n),A=mc(i,o,n),c=mc(o,l,n);return mc(A,c,n)}function xc(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function bc(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function vc(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function yc(e){return"angle"===e?{between:El,compare:Fl,normalize:Sl}:{between:Ul,compare:(e,t)=>e-t,normalize:e=>e}}function wc(e){let{start:t,end:n,count:r,loop:s,style:a}=e;return{start:t%r,end:n%r,loop:s&&(n-t+1)%r===0,style:a}}function Bc(e,t,n){if(!n)return[e];const{property:r,start:s,end:a}=n,i=t.length,{compare:o,between:l,normalize:A}=yc(r),{start:c,end:u,loop:d,style:h}=function(e,t,n){const{property:r,start:s,end:a}=n,{between:i,normalize:o}=yc(r),l=t.length;let A,c,{start:u,end:d,loop:h}=e;if(h){for(u+=l,d+=l,A=0,c=l;A<c&&i(o(t[u%l][r]),s,a);++A)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:h,style:e.style}}(e,t,n),f=[];let m,p,g,x=!1,b=null;const v=()=>x||l(s,g,m)&&0!==o(s,g),y=()=>!x||0===o(a,m)||l(a,g,m);for(let w=c,B=c;w<=u;++w)p=t[w%i],p.skip||(m=A(p[r]),m!==g&&(x=l(m,s,a),null===b&&v()&&(b=0===o(m,s)?w:B),null!==b&&y()&&(f.push(wc({start:b,end:w,loop:d,count:i,style:h})),b=null),B=w,g=m));return null!==b&&f.push(wc({start:b,end:u,loop:d,count:i,style:h})),f}function Nc(e,t){const n=[],r=e.segments;for(let s=0;s<r.length;s++){const a=Bc(r[s],e.points,t);a.length&&n.push(...a)}return n}function jc(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const s=e._chart.getContext(),a=Cc(e.options),{_datasetIndex:i,options:{spanGaps:o}}=e,l=n.length,A=[];let c=a,u=t[0].start,d=u;function h(e,t,r,s){const a=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(A.push({start:e%l,end:t%l,loop:r,style:s}),c=s,u=t%l)}}for(const f of t){u=o?u:f.start;let e,t=n[u%l];for(d=u+1;d<=f.end;d++){const a=n[d%l];e=Cc(r.setContext(IA(s,{type:"segment",p0:t,p1:a,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:i}))),kc(e,c)&&h(u,d-1,f.loop,c),t=a,c=e}u<d-1&&h(u,d-1,f.loop,c)}return A}(e,t,n,r):t}function Cc(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function kc(e,t){if(!t)return!1;const n=[],r=function(e,t){return Yl(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Fc(e,t,n){return e.options.clip?e[n]:t[n]}function Sc(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Fc(n,t,"left"),right:Fc(n,t,"right"),top:Fc(r,t,"top"),bottom:Fc(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class Ec{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const s=t.listeners[r],a=t.duration;s.forEach(r=>r({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Tl.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let a,i=s.length-1,o=!1;for(;i>=0;--i)a=s[i],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),o=!0):(s[i]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var _c=new Ec;const Uc="transparent",Qc={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=Jl(e||Uc),s=r.valid&&Jl(t||Uc);return s&&s.valid?s.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Lc{constructor(e,t,n,r){const s=t[n];r=LA([e.to,r,s,e.from]);const a=LA([e.from,s,r]);this._active=!0,this._fn=e.fn||Qc[e.type||typeof a],this._easing=Gl[e.easing]||Gl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=LA([e.to,t,r,e.from]),this._from=LA([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,s=this._from,a=this._loop,i=this._to;let o;if(this._active=s!==i&&(a||t<n),!this._active)return this._target[r]=i,void this._notify(!0);t<0?this._target[r]=s:(o=t/n%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(s,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class Ic{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!zo(e))return;const t=Object.keys(AA.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!zo(s))return;const a={};for(const e of t)a[e]=s[e];(Ro(s.properties)&&s.properties||[r]).forEach(e=>{e!==r&&n.has(e)||n.set(e,a)})})}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const t=e[r[s]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),i=Date.now();let o;for(o=a.length-1;o>=0;--o){const l=a[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const A=t[l];let c=s[l];const u=n.get(l);if(c){if(u&&c.active()){c.update(u,A,i);continue}c.cancel()}u&&u.duration?(s[l]=c=new Lc(u,e,l,A),r.push(c)):e[l]=A}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(_c.add(this._chart,n),!0):void 0}}function Mc(e,t){const n=e&&e.options||{},r=n.reverse,s=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:s,end:r?s:a}}function Dc(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=r.length;s<a;++s)n.push(r[s].index);return n}function Pc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=e.keys,a="single"===r.mode;let i,o,l,A;if(null===t)return;let c=!1;for(i=0,o=s.length;i<o;++i){if(l=+s[i],l===n){if(c=!0,r.all)continue;break}A=e.values[l],Ko(A)&&(a||0===t||xl(t)===xl(A))&&(t+=A)}return c||r.all?t:0}function Tc(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Oc(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Hc(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const t=e[s.index];if(n&&t>0||!n&&t<0)return s.index}return null}function Rc(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:i,index:o}=r,l=a.axis,A=i.axis,c=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,i,r),u=t.length;let d;for(let h=0;h<u;++h){const e=t[h],{[l]:n,[A]:a}=e;d=(e._stacks||(e._stacks={}))[A]=Oc(s,c,n),d[o]=a,d._top=Hc(d,i,!0,r.type),d._bottom=Hc(d,i,!1,r.type);(d._visualValues||(d._visualValues={}))[o]=a}}function zc(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function Kc(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const Vc=e=>"reset"===e||"none"===e,qc=(e,t)=>t?e:Object.assign({},e);class Wc{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Tc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Kc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,s=t.xAxisID=qo(n.xAxisID,zc(e,"x")),a=t.yAxisID=qo(n.yAxisID,zc(e,"y")),i=t.rAxisID=qo(n.rAxisID,zc(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,s,a,i),A=t.vAxisID=r(o,a,s,i);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(A)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Dl(this._data,this),e._stacked&&Kc(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(zo(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,s="x"===n.axis?"x":"y",a="x"===r.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,A,c;for(l=0,A=i.length;l<A;++l)c=i[l],o[l]={[s]:c,[a]:e[c]};return o}(t,e)}else if(n!==t){if(n){Dl(n,this);const e=this._cachedMeta;Kc(e),e._parsed=[]}t&&Object.isExtensible(t)&&(s=this,(r=t)._chartjs?r._chartjs.listeners.push(s):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),Ml.forEach(e=>{const t="_onData"+al(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];const i=n.apply(this,s);return r._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...s)}),i}})}))),this._syncList=[],this._data=t}var r,s}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=Tc(t.vScale,t),t.stack!==n.stack&&(r=!0,Kc(t),t.stack=n.stack),this._resyncElements(e),(r||s!==t._stacked)&&(Rc(this,t._parsed),t._stacked=Tc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:a}=n,i=s.axis;let o,l,A,c=0===e&&t===r.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,A=r;else{A=Ro(r[e])?this.parseArrayData(n,r,e,t):zo(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const s=()=>null===l[i]||u&&l[i]<u[i];for(o=0;o<t;++o)n._parsed[o+e]=l=A[o],c&&(s()&&(c=!1),u=l);n._sorted=c}a&&Rc(this,A)}parsePrimitiveData(e,t,n,r){const{iScale:s,vScale:a}=e,i=s.axis,o=a.axis,l=s.getLabels(),A=s===a,c=new Array(r);let u,d,h;for(u=0,d=r;u<d;++u)h=u+n,c[u]={[i]:A||s.parse(l[h],h),[o]:a.parse(t[h],h)};return c}parseArrayData(e,t,n,r){const{xScale:s,yScale:a}=e,i=new Array(r);let o,l,A,c;for(o=0,l=r;o<l;++o)A=o+n,c=t[A],i[o]={x:s.parse(c[0],A),y:a.parse(c[1],A)};return i}parseObjectData(e,t,n,r){const{xScale:s,yScale:a}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let A,c,u,d;for(A=0,c=r;A<c;++A)u=A+n,d=t[u],l[A]={x:s.parse(sl(d,i),u),y:a.parse(sl(d,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,s=this._cachedMeta,a=t[e.axis];return Pc({keys:Dc(r,!0),values:t._stacks[e.axis]._visualValues},a,s.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const s=n[t.axis];let a=null===s?NaN:s;const i=r&&n._stacks[t.axis];r&&i&&(r.values=i,a=Pc(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,a=r.length,i=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Dc(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:A,max:c}=function(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}(i);let u,d;function h(){d=r[u];const t=d[i.axis];return!Ko(d[e.axis])||A>t||c<t}for(u=0;u<a&&(h()||(this.updateRangeFromParsed(l,e,d,o),!s));++u);if(s)for(u=a-1;u>=0;--u)if(!h()){this.updateRangeFromParsed(l,e,d,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,s,a;for(r=0,s=t.length;r<s;++r)a=t[r][e.axis],Ko(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,s;return zo(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:!1===e}}(qo(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=Mc(e,n),s=Mc(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],s=t.chartArea,a=[],i=this._drawStart||0,o=this._drawCount||r.length-i,l=this.options.drawActiveElementsOnTop;let A;for(n.dataset&&n.dataset.draw(e,s,i,o),A=i;A<i+o;++A){const t=r[A];t.hidden||(t.active&&l?a.push(t):t.draw(e,s))}for(A=0;A<a.length;++A)a[A].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,n){return IA(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return IA(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,s=this._cachedDataOpts,a=e+"-"+t,i=s[a],o=this.enableOptionSharing&&il(n);if(i)return qc(i,o);const l=this.chart.config,A=l.datasetElementScopeKeys(this._type,e),c=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),A),d=Object.keys(AA.elements[e]),h=l.resolveNamedOptions(u,d,()=>this.getContext(n,r,t),c);return h.$shared&&(h.$shared=o,s[a]=Object.freeze(qc(h,o))),h}_resolveAnimations(e,t,n){const r=this.chart,s=this._cachedDataOpts,a="animation-".concat(t),i=s[a];if(i)return i;let o;if(!1!==r.options.animation){const r=this.chart.config,s=r.datasetAnimationScopeKeys(this._type,t),a=r.getOptionScopes(this.getDataset(),s);o=r.createResolver(a,this.getContext(e,n,t))}const l=new Ic(r,o&&o.animations);return o&&o._cacheable&&(s[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Vc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:a}}updateElement(e,t,n,r){Vc(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!Vc(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const r=n.length,s=t.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,s=r.data,a=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=a;i--)e[i]=e[i-t]};for(o(s),i=e;i<a;++i)s[i]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&Kc(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Gc(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,s=n.length;t<s;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=Pl(r.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let r,s,a,i,o=t._length;const l=()=>{32767!==a&&-32768!==a&&(il(i)&&(o=Math.min(o,Math.abs(a-i)||o)),i=a)};for(r=0,s=n.length;r<s;++r)a=t.getPixelForValue(n[r]),l();for(i=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),l();return o}function Yc(e,t,n,r){return Ro(e)?function(e,t,n,r){const s=n.parse(e[0],r),a=n.parse(e[1],r),i=Math.min(s,a),o=Math.max(s,a);let l=i,A=o;Math.abs(i)>Math.abs(o)&&(l=o,A=i),t[n.axis]=A,t._custom={barStart:l,barEnd:A,start:s,end:a,min:i,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Jc(e,t,n,r){const s=e.iScale,a=e.vScale,i=s.getLabels(),o=s===a,l=[];let A,c,u,d;for(A=n,c=n+r;A<c;++A)d=t[A],u={},u[s.axis]=o||s.parse(i[A],A),l.push(Yc(d,u,a,A));return l}function Xc(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Zc(e,t,n,r){let s=t.borderSkipped;const a={};if(!s)return void(e.borderSkipped=a);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:o,reverse:l,top:A,bottom:c}=function(e){let t,n,r,s,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",a="start"):(s="start",a="end"),{start:n,end:r,reverse:t,top:s,bottom:a}}(e);"middle"===s&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=A:(n._bottom||0)===r?s=c:(a[$c(c,i,o,l)]=!0,s=A)),a[$c(s,i,o,l)]=!0,e.borderSkipped=a}function $c(e,t,n,r){var s,a,i;return r?(i=n,e=eu(e=(s=e)===(a=t)?i:s===i?a:s,n,t)):e=eu(e,t,n),e}function eu(e,t,n){return"start"===e?t:"end"===e?n:e}function tu(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}(0,a.A)(Wc,"defaults",{}),(0,a.A)(Wc,"datasetElementType",null),(0,a.A)(Wc,"dataElementType",null);class nu extends Wc{parsePrimitiveData(e,t,n,r){return Jc(e,t,n,r)}parseArrayData(e,t,n,r){return Jc(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:s,vScale:a}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l="x"===s.axis?i:o,A="x"===a.axis?i:o,c=[];let u,d,h,f;for(u=n,d=n+r;u<d;++u)f=t[u],h={},h[s.axis]=s.parse(sl(f,l),u),c.push(Yc(sl(f,A),h,a,u));return c}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,s=this.getParsed(e),a=s._custom,i=Xc(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const s="reset"===r,{index:a,_cachedMeta:{vScale:i}}=this,o=i.getBasePixel(),l=i.isHorizontal(),A=this._getRuler(),{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r);for(let d=t;d<t+n;d++){const t=this.getParsed(d),n=s||Ho(t[i.axis])?{base:o,head:o}:this._calculateBarValuePixels(d),h=this._calculateBarIndexPixels(d,A),f=(t._stacks||{})[i.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||Xc(t._custom)||a===f._top||a===f._bottom,x:l?n.head:h.center,y:l?h.center:n.head,height:l?h.size:Math.abs(n.size),width:l?Math.abs(n.size):h.size};u&&(m.options=c||this.resolveDataElementOptions(d,e[d].active?"active":r));const p=m.options||e[d].options;Zc(m,p,f,a),tu(m,p,A.ratio),this.updateElement(e[d],d,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),s=n.options.stacked,a=[],i=this._cachedMeta.controller.getParsed(t),o=i&&i[n.axis],l=e=>{const t=e._parsed.find(e=>e[n.axis]===o),r=t&&t[e.vScale.axis];if(Ho(r)||isNaN(r))return!0};for(const A of r)if((void 0===t||!l(A))&&((!1===s||-1===a.indexOf(A.stack)||void 0===s&&void 0===A.stack)&&a.push(A.stack),A.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[qo("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),s=void 0!==t?r.indexOf(t):-1;return-1===s?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let s,a;for(s=0,a=t.data.length;s<a;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const i=e.barThickness;return{min:i||Gc(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:s,minBarLength:a}}=this,i=s||0,o=this.getParsed(e),l=o._custom,A=Xc(l);let c,u,d=o[t.axis],h=0,f=n?this.applyStack(t,o,n):d;f!==d&&(h=f-d,f=d),A&&(d=l.barStart,f=l.barEnd-l.barStart,0!==d&&xl(d)!==xl(l.barEnd)&&(h=0),h+=d);const m=Ho(s)||A?h:s;let p=t.getPixelForValue(m);if(c=this.chart.getDataVisibility(e)?t.getPixelForValue(h+f):p,u=c-p,Math.abs(u)<a){u=function(e,t,n){return 0!==e?xl(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,i)*a,d===i&&(p-=u/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),h=Math.max(e,s);p=Math.max(Math.min(p,h),l),c=p+u,n&&!A&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(c)-t.getValueForPixel(p))}if(p===t.getPixelForValue(i)){const e=xl(u)*t.getLineWidthForValue(i)/2;p+=e,u-=e}return{size:u,base:p,head:c,center:c+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,s=r.skipNull,a=qo(r.maxBarThickness,1/0);let i,o;const l=this._getAxisCount();if(t.grouped){const n=s?this._getStackCount(e):t.stackCount,A="flex"===r.barThickness?function(e,t,n,r){const s=t.pixels,a=s[e];let i=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;null===i&&(i=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-i);const A=a-(a-Math.min(i,o))/2*l;return{chunk:Math.abs(o-i)/2*l/r,ratio:n.barPercentage,start:A}}(e,t,r,n*l):function(e,t,n,r){const s=n.barThickness;let a,i;return Ho(s)?(a=t.min*n.categoryPercentage,i=n.barPercentage):(a=s*r,i=1),{chunk:a/r,ratio:i,start:t.pixels[e]-a/2}}(e,t,r,n*l),c="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(qo(c,this.getFirstScaleIdForIndexAxis())),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+u;i=A.start+A.chunk*d+A.chunk/2,o=Math.min(a,A.chunk*A.ratio)}else i=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(a,t.min*t.ratio);return{base:i-o/2,head:i+o/2,center:i,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)null===this.getParsed(s)[t.axis]||n[s].hidden||n[s].draw(this._ctx)}}(0,a.A)(nu,"id","bar"),(0,a.A)(nu,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,a.A)(nu,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ru extends Wc{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const s=super.parsePrimitiveData(e,t,n,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+n).radius;return s}parseArrayData(e,t,n,r){const s=super.parseArrayData(e,t,n,r);for(let a=0;a<s.length;a++){const e=t[n+a];s[a]._custom=qo(e[2],this.resolveDataElementOptions(a+n).radius)}return s}parseObjectData(e,t,n,r){const s=super.parseObjectData(e,t,n,r);for(let a=0;a<s.length;a++){const e=t[n+a];s[a]._custom=qo(e&&e.r&&+e.r,this.resolveDataElementOptions(a+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),i=r.getLabelForValue(a.x),o=s.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+i+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const s="reset"===r,{iScale:a,vScale:i}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,r),A=a.axis,c=i.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!s&&this.getParsed(u),d={},h=d[A]=s?a.getPixelForDecimal(.5):a.getPixelForValue(n[A]),f=d[c]=s?i.getBasePixel():i.getPixelForValue(n[c]);d.skip=isNaN(h)||isNaN(f),l&&(d.options=o||this.resolveDataElementOptions(u,t.active?"active":r),s&&(d.options.radius=0)),this.updateElement(t,u,d,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return"active"!==t&&(r.radius=0),r.radius+=qo(n&&n._custom,s),r}}(0,a.A)(ru,"id","bubble"),(0,a.A)(ru,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,a.A)(ru,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class su extends Wc{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let s,a,i=e=>+n[e];if(zo(n[e])){const{key:e="value"}=this._parsing;i=t=>+sl(n[t],e)}for(s=e,a=e+t;s<a;++s)r._parsed[s]=i(s)}}_getRotation(){return Bl(this.options.rotation-90)}_getCircumference(){return Bl(this.options.circumference)}_getRotationExtents(){let e=cl,t=-cl;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,i=Math.max((Math.min(n.width,n.height)-a)/2,0),o=Math.min((l=this.options.cutout,A=i,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/A),1);var l,A;const c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:m,offsetY:p}=function(e,t,n){let r=1,s=1,a=0,i=0;if(t<cl){const o=e,l=o+t,A=Math.cos(o),c=Math.sin(o),u=Math.cos(l),d=Math.sin(l),h=(e,t,r)=>El(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),f=(e,t,r)=>El(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),m=h(0,A,u),p=h(fl,c,d),g=f(Al,A,u),x=f(Al+fl,c,d);r=(m-g)/2,s=(p-x)/2,a=-(m+g)/2,i=-(p+x)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:i}}(d,u,o),g=(n.width-a)/h,x=(n.height-a)/f,b=Math.max(Math.min(g,x)/2,0),v=Wo(this.options.radius,b),y=(v-Math.max(v*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*v,this.offsetY=p*v,r.total=this.calculateTotal(),this.outerRadius=v-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/cl)}updateElements(e,t,n,r){const s="reset"===r,a=this.chart,i=a.chartArea,o=a.options.animation,l=(i.left+i.right)/2,A=(i.top+i.bottom)/2,c=s&&o.animateScale,u=c?0:this.innerRadius,d=c?0:this.outerRadius,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(t,r);let m,p=this._getRotation();for(m=0;m<t;++m)p+=this._circumference(m,s);for(m=t;m<t+n;++m){const t=this._circumference(m,s),n=e[m],a={x:l+this.offsetX,y:A+this.offsetY,startAngle:p,endAngle:p+t,circumference:t,outerRadius:d,innerRadius:u};f&&(a.options=h||this.resolveDataElementOptions(m,n.active?"active":r)),p+=t,this.updateElement(n,m,a,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const s=e._parsed[n];null===s||isNaN(s)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?cl*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=tA(t._parsed[e],n.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,s,a,i,o;if(!e)for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){a=n.getDatasetMeta(r),e=a.data,i=a.controller;break}if(!e)return 0;for(r=0,s=e.length;r<s;++r)o=i.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(qo(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,a.A)(su,"id","doughnut"),(0,a.A)(su,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,a.A)(su,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,a.A)(su,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:r,color:s,useBorderRadius:a,borderRadius:i}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(o),lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:l.borderWidth,strokeStyle:l.borderColor,textAlign:r,pointStyle:n,borderRadius:a&&(i||l.borderRadius),index:o}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class au extends Wc{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:i,count:o}=zl(t,r,a);this._drawStart=i,this._drawCount=o,Kl(t)&&(i=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(r,i,o,e)}updateElements(e,t,n,r){const s="reset"===r,{iScale:a,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:A,includeOptions:c}=this._getSharedOptions(t,r),u=a.axis,d=i.axis,{spanGaps:h,segment:f}=this.options,m=yl(h)?h:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||s||"none"===r,g=t+n,x=e.length;let b=t>0&&this.getParsed(t-1);for(let v=0;v<x;++v){const n=e[v],h=p?n:{};if(v<t||v>=g){h.skip=!0;continue}const x=this.getParsed(v),y=Ho(x[d]),w=h[u]=a.getPixelForValue(x[u],v),B=h[d]=s||y?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,x,o):x[d],v);h.skip=isNaN(w)||isNaN(B)||y,h.stop=v>0&&Math.abs(x[u]-b[u])>m,f&&(h.parsed=x,h.raw=l.data[v]),c&&(h.options=A||this.resolveDataElementOptions(v,n.active?"active":r)),p||this.updateElement(n,v,h,r),b=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,a.A)(au,"id","line"),(0,a.A)(au,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,a.A)(au,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class iu extends Wc{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=tA(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,n,r){return YA.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),a=(s-Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,r){const s="reset"===r,a=this.chart,i=a.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,A=o.yCenter,c=o.getIndexAngle(0)-.5*Al;let u,d=c;const h=360/this.countVisibleElements();for(u=0;u<t;++u)d+=this._computeAngle(u,r,h);for(u=t;u<t+n;u++){const t=e[u];let n=d,f=d+this._computeAngle(u,r,h),m=a.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;d=f,s&&(i.animateScale&&(m=0),i.animateRotate&&(n=f=c));const p={x:l,y:A,innerRadius:0,outerRadius:m,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(u,t.active?"active":r)};this.updateElement(t,u,p,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Bl(this.resolveDataElementOptions(e,t).angle||n):0}}(0,a.A)(iu,"id","polarArea"),(0,a.A)(iu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,a.A)(iu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((t,s)=>{const a=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ou extends su{}(0,a.A)(ou,"id","pie"),(0,a.A)(ou,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class lu extends Wc{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return YA.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const s=this._cachedMeta.rScale,a="reset"===r;for(let i=t;i<t+n;i++){const t=e[i],n=this.resolveDataElementOptions(i,t.active?"active":r),o=s.getPointPositionForValue(i,this.getParsed(i).r),l=a?s.xCenter:o.x,A=a?s.yCenter:o.y,c={x:l,y:A,angle:o.angle,skip:isNaN(l)||isNaN(A),options:n};this.updateElement(t,i,c,r)}}}(0,a.A)(lu,"id","radar"),(0,a.A)(lu,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,a.A)(lu,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Au extends Wc{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),i=r.getLabelForValue(a.x),o=s.getLabelForValue(a.y);return{label:n[e]||"",value:"("+i+", "+o+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:a}=zl(t,n,r);if(this._drawStart=s,this._drawCount=a,Kl(t)&&(s=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:a}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=n;const i=this.resolveDatasetElementOptions(e);i.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:i},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const s="reset"===r,{iScale:a,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,A=this.resolveDataElementOptions(t,r),c=this.getSharedOptions(A),u=this.includeOptions(r,c),d=a.axis,h=i.axis,{spanGaps:f,segment:m}=this.options,p=yl(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||"none"===r;let x=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),A=g?t:{},f=Ho(n[h]),v=A[d]=a.getPixelForValue(n[d],b),y=A[h]=s||f?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,n,o):n[h],b);A.skip=isNaN(v)||isNaN(y)||f,A.stop=b>0&&Math.abs(n[d]-x[d])>p,m&&(A.parsed=n,A.raw=l.data[b]),u&&(A.options=c||this.resolveDataElementOptions(b,t.active?"active":r)),g||this.updateElement(t,b,A,r),x=n}this.updateSharedOptions(c,r,A)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,a)/2}}(0,a.A)(Au,"id","scatter"),(0,a.A)(Au,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,a.A)(Au,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var cu=Object.freeze({__proto__:null,BarController:nu,BubbleController:ru,DoughnutController:su,LineController:au,PieController:ou,PolarAreaController:iu,RadarController:lu,ScatterController:Au});function uu(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class du{static override(e){Object.assign(du.prototype,e)}constructor(e){(0,a.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return uu()}parse(){return uu()}format(){return uu()}add(){return uu()}diff(){return uu()}startOf(){return uu()}endOf(){return uu()}}var hu=du;function fu(e,t,n,r){const{controller:s,data:a,_sorted:i}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&a.length){const i=o._reversePixels?Il:Ll;if(!r){const r=i(a,t,n);if(l){const{vScale:t}=s._cachedMeta,{_parsed:n}=e,a=n.slice(0,r.lo+1).reverse().findIndex(e=>!Ho(e[t.axis]));r.lo-=Math.max(0,a);const i=n.slice(r.hi).findIndex(e=>!Ho(e[t.axis]));r.hi+=Math.max(0,i)}return r}if(s._sharedOptions){const e=a[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=i(a,t,n-r),s=i(a,t,n+r);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}function mu(e,t,n,r,s){const a=e.getSortedVisibleDatasetMetas(),i=n[t];for(let o=0,l=a.length;o<l;++o){const{index:e,data:n}=a[o],{lo:l,hi:A}=fu(a[o],t,i,s);for(let t=l;t<=A;++t){const s=n[t];s.skip||r(s,e,t)}}}function pu(e,t,n,r,s){const a=[];if(!s&&!e.isPointInArea(t))return a;return mu(e,n,t,function(n,i,o){(s||pA(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&a.push({element:n,datasetIndex:i,index:o})},!0),a}function gu(e,t,n,r,s,a){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const s=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return mu(e,n,t,function(n,A,c){const u=n.inRange(t.x,t.y,s);if(r&&!u)return;const d=n.getCenterPoint(s);if(!(!!a||e.isPointInArea(d))&&!u)return;const h=o(t,d);h<l?(i=[{element:n,datasetIndex:A,index:c}],l=h):h===l&&i.push({element:n,datasetIndex:A,index:c})}),i}function xu(e,t,n,r,s,a){return a||e.isPointInArea(t)?"r"!==n||r?gu(e,t,n,r,s,a):function(e,t,n,r){let s=[];return mu(e,n,t,function(e,n,a){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Cl(e,{x:t.x,y:t.y});El(l,i,o)&&s.push({element:e,datasetIndex:n,index:a})}),s}(e,t,n,s):[]}function bu(e,t,n,r,s){const a=[],i="x"===n?"inXRange":"inYRange";let o=!1;return mu(e,n,t,(e,r,l)=>{e[i]&&e[i](t[n],s)&&(a.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,s))}),r&&!o?[]:a}var vu={evaluateInteractionItems:mu,modes:{index(e,t,n,r){const s=Ac(t,e),a=n.axis||"x",i=n.includeInvisible||!1,o=n.intersect?pu(e,s,a,r,i):xu(e,s,a,!1,r,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,r){const s=Ac(t,e),a=n.axis||"xy",i=n.includeInvisible||!1;let o=n.intersect?pu(e,s,a,r,i):xu(e,s,a,!1,r,i);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>pu(e,Ac(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const s=Ac(t,e),a=n.axis||"xy",i=n.includeInvisible||!1;return xu(e,s,a,n.intersect,r,i)},x:(e,t,n,r)=>bu(e,Ac(t,e),"x",n.intersect,r),y:(e,t,n,r)=>bu(e,Ac(t,e),"y",n.intersect,r)}};const yu=["left","top","right","bottom"];function wu(e,t){return e.filter(e=>e.pos===t)}function Bu(e,t){return e.filter(e=>-1===yu.indexOf(e.pos)&&e.box.axis===t)}function Nu(e,t){return e.sort((e,n)=>{const r=t?n:e,s=t?e:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function ju(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:s}=n;if(!e||!yu.includes(r))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let a,i,o;for(a=0,i=e.length;a<i;++a){o=e[a];const{fullSize:i}=o.box,l=n[o.stack],A=l&&o.stackWeight/l.weight;o.horizontal?(o.width=A?A*r:i&&t.availableWidth,o.height=s):(o.width=r,o.height=A?A*s:i&&t.availableHeight)}return n}function Cu(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function ku(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Fu(e,t,n,r){const{pos:s,box:a}=n,i=e.maxPadding;if(!zo(s)){n.size&&(e[s]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[s]+=n.size}a.getPadding&&ku(i,a.getPadding());const o=Math.max(0,t.outerWidth-Cu(i,e,"left","right")),l=Math.max(0,t.outerHeight-Cu(i,e,"top","bottom")),A=o!==e.w,c=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:A,other:c}:{same:c,other:A}}function Su(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{r[e]=Math.max(t[e],n[e])}),r}return r(e?["left","right"]:["top","bottom"])}function Eu(e,t,n,r){const s=[];let a,i,o,l,A,c;for(a=0,i=e.length,A=0;a<i;++a){o=e[a],l=o.box,l.update(o.width||t.w,o.height||t.h,Su(o.horizontal,t));const{same:i,other:u}=Fu(t,n,o,r);A|=i&&s.length,c=c||u,l.fullSize||s.push(o)}return A&&Eu(s,t,n,r)||c}function _u(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function Uu(e,t,n,r){const s=n.padding;let{x:a,y:i}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},A=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*A,a=l.size||e.height;il(l.start)&&(i=l.start),e.fullSize?_u(e,s.left,i,n.outerWidth-s.right-s.left,a):_u(e,t.left+l.placed,i,r,a),l.start=i,l.placed+=r,i=e.bottom}else{const r=t.h*A,i=l.size||e.width;il(l.start)&&(a=l.start),e.fullSize?_u(e,a,s.top,i,n.outerHeight-s.bottom-s.top):_u(e,a,t.top+l.placed,i,r),l.start=a,l.placed+=r,a=e.right}}t.x=a,t.y=i}var Qu={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=UA(e.options.layout.padding),a=Math.max(t-s.width,0),i=Math.max(n-s.height,0),o=function(e){const t=function(e){const t=[];let n,r,s,a,i,o;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],({position:a,options:{stack:i,stackWeight:o=1}}=s),t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:i&&a+i,stackWeight:o});return t}(e),n=Nu(t.filter(e=>e.box.fullSize),!0),r=Nu(wu(t,"left"),!0),s=Nu(wu(t,"right")),a=Nu(wu(t,"top"),!0),i=Nu(wu(t,"bottom")),o=Bu(t,"x"),l=Bu(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:s.concat(l).concat(i).concat(o),chartArea:wu(t,"chartArea"),vertical:r.concat(s).concat(l),horizontal:a.concat(i).concat(o)}}(e.boxes),l=o.vertical,A=o.horizontal;Yo(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const c=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:i,vBoxMaxWidth:a/2/c,hBoxMaxHeight:i/2}),d=Object.assign({},s);ku(d,UA(r));const h=Object.assign({maxPadding:d,w:a,h:i,x:s.left,y:s.top},s),f=ju(l.concat(A),u);Eu(o.fullSize,h,u,f),Eu(l,h,u,f),Eu(A,h,u,f)&&Eu(l,h,u,f),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(h),Uu(o.leftAndTop,h,u,f),h.x+=h.w,h.y+=h.h,Uu(o.rightAndBottom,h,u,f),e.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Yo(o.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class Lu{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Iu extends Lu{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Mu="$chartjs",Du={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pu=e=>null===e||""===e;const Tu=!!hc&&{passive:!0};function Ou(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Tu)}function Hu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Ru(e,t,n){const r=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||Hu(n.addedNodes,r),t=t&&!Hu(n.removedNodes,r);t&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function zu(e,t,n){const r=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||Hu(n.removedNodes,r),t=t&&!Hu(n.addedNodes,r);t&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ku=new Map;let Vu=0;function qu(){const e=window.devicePixelRatio;e!==Vu&&(Vu=e,Ku.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function Wu(e,t,n){const r=e.canvas,s=r&&sc(r);if(!s)return;const a=Ol((e,t)=>{const r=s.clientWidth;n(e,t),r<s.clientWidth&&n()},window),i=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)});return i.observe(s),function(e,t){Ku.size||window.addEventListener("resize",qu),Ku.set(e,t)}(e,a),i}function Gu(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Ku.delete(e),Ku.size||window.removeEventListener("resize",qu)}(e)}function Yu(e,t,n){const r=e.canvas,s=Ol(t=>{null!==e.ctx&&n(function(e,t){const n=Du[e.type]||e.type,{x:r,y:s}=Ac(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==s?s:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,Tu)}(r,t,s),s}class Ju extends Lu{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[Mu]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Pu(s)){const t=fc(e,"width");void 0!==t&&(e.width=t)}if(Pu(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=fc(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Mu])return!1;const n=t[Mu].initial;["height","width"].forEach(e=>{const r=n[e];Ho(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=n.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t[Mu],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),s={attach:Ru,detach:zu,resize:Wu}[t]||Yu;r[t]=s(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:Gu,detach:Gu,resize:Gu}[t]||Ou)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return uc(e,t,n,r)}isAttached(e){const t=e&&sc(e);return!(!t||!t.isConnected)}}class Xu{constructor(){(0,a.A)(this,"x",void 0),(0,a.A)(this,"y",void 0),(0,a.A)(this,"active",!1),(0,a.A)(this,"options",void 0),(0,a.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return yl(this.x)&&yl(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),r}}function Zu(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}(e),s=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],i=a.length,o=a[0],l=a[i-1],A=[];if(i>s)return function(e,t,n,r){let s,a=0,i=n[0];for(r=Math.ceil(r),s=0;s<e.length;s++)s===i&&(t.push(e[s]),a++,i=n[a*r])}(t,A,a,i/s),A;const c=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),s=t.length/n;if(!r)return Math.max(s,1);const a=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(r);for(let i=0,o=a.length-1;i<o;i++){const e=a[i];if(e>s)return e}return Math.max(s,1)}(a,t,s);if(i>0){let e,n;const r=i>1?Math.round((l-o)/(i-1)):null;for($u(t,A,c,Ho(r)?0:o-r,o),e=0,n=i-1;e<n;e++)$u(t,A,c,a[e],a[e+1]);return $u(t,A,c,l,Ho(r)?t.length:l+r),A}return $u(t,A,c),A}function $u(e,t,n,r,s){const a=qo(r,0),i=Math.min(qo(s,e.length),e.length);let o,l,A,c=0;for(n=Math.ceil(n),s&&(o=s-r,n=o/Math.floor(o/n)),A=a;A<0;)c++,A=Math.round(a+c*n);for(l=Math.max(a,0);l<i;l++)l===A&&(t.push(e[l]),c++,A=Math.round(a+c*n))}(0,a.A)(Xu,"defaults",{}),(0,a.A)(Xu,"defaultRoutes",void 0);const ed=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,td=(e,t)=>Math.min(t||e,e);function nd(e,t){const n=[],r=e.length/t,s=e.length;let a=0;for(;a<s;a+=r)n.push(e[Math.floor(a)]);return n}function rd(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),a=e._startPixel,i=e._endPixel,o=1e-6;let l,A=e.getPixelForTick(s);if(!(n&&(l=1===r?Math.max(A-a,i-A):0===t?(e.getPixelForTick(1)-A)/2:(A-e.getPixelForTick(s-1))/2,A+=s<t?l:-l,A<a-o||A>i+o)))return A}function sd(e){return e.drawTicks?e.tickLength:0}function ad(e,t){if(!e.display)return 0;const n=QA(e.font,t),r=UA(e.padding);return(Ro(e.text)?e.text.length:1)*n.lineHeight+r.height}function id(e,t,n){let r=Hl(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class od extends Xu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=Vo(e,Number.POSITIVE_INFINITY),t=Vo(t,Number.NEGATIVE_INFINITY),n=Vo(n,Number.POSITIVE_INFINITY),r=Vo(r,Number.NEGATIVE_INFINITY),{min:Vo(e,n),max:Vo(t,r),minDefined:Ko(e),maxDefined:Ko(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:s,maxDefined:a}=this.getUserBounds();if(s&&a)return{min:n,max:r};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),s||(n=Math.min(n,t.min)),a||(r=Math.max(r,t.max));return n=a&&n>r?r:n,r=s&&n>r?n:r,{min:Vo(n,Vo(r,n)),max:Vo(r,Vo(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Go(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:s,ticks:a}=this.options,i=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:s}=e,a=Wo(t,(s-r)/2),i=(e,t)=>n&&0===e?0:e+t;return{min:i(r,-Math.abs(a)),max:i(s,a)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?nd(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Zu(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Go(this.options.afterUpdate,[this])}beforeSetDimensions(){Go(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Go(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Go(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Go(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=Go(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){Go(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Go(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=td(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let a,i,o,l=r;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const A=this._getLabelSizes(),c=A.widest.width,u=A.highest.height,d=_l(this.chart.width-c,0,this.maxWidth);a=e.offset?this.maxWidth/n:d/(n-1),c+6>a&&(a=d/(n-(e.offset?.5:1)),i=this.maxHeight-sd(e.grid)-t.padding-ad(e.title,this.chart.options.font),o=Math.sqrt(c*c+u*u),l=Nl(Math.min(Math.asin(_l((A.highest.height+6)/a,-1,1)),Math.asin(_l(i/o,-1,1))-Math.asin(_l(u/o,-1,1)))),l=Math.max(r,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){Go(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Go(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,a=this._isVisible(),i=this.isHorizontal();if(a){const a=ad(r,t.options.font);if(i?(e.width=this.maxWidth,e.height=sd(s)+a):(e.height=this.maxHeight,e.width=sd(s)+a),n.display&&this.ticks.length){const{first:t,last:r,widest:s,highest:a}=this._getLabelSizes(),o=2*n.padding,l=Bl(this.labelRotation),A=Math.cos(l),c=Math.sin(l);if(i){const t=n.mirror?0:c*s.width+A*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:A*s.width+c*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,c,A)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:s,padding:a},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,A=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,u=0;o?l?(c=r*e.width,u=n*t.height):(c=n*e.height,u=r*t.width):"start"===s?u=t.width:"end"===s?c=e.width:"inner"!==s&&(c=e.width/2,u=t.width/2),this.paddingLeft=Math.max((c-i+a)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-A+a)*this.width/(this.width-A),0)}else{let n=t.height/2,r=e.height/2;"start"===s?(n=0,r=e.height):"end"===s&&(n=t.height,r=0),this.paddingTop=n+a,this.paddingBottom=r+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Go(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Ho(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=nd(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:s}=this,a=[],i=[],o=Math.floor(t/td(t,n));let l,A,c,u,d,h,f,m,p,g,x,b=0,v=0;for(l=0;l<t;l+=o){if(u=e[l].label,d=this._resolveTickFontOptions(l),r.font=h=d.string,f=s[h]=s[h]||{data:{},gc:[]},m=d.lineHeight,p=g=0,Ho(u)||Ro(u)){if(Ro(u))for(A=0,c=u.length;A<c;++A)x=u[A],Ho(x)||Ro(x)||(p=cA(r,f.data,f.gc,p,x),g+=m)}else p=cA(r,f.data,f.gc,p,u),g=m;a.push(p),i.push(g),b=Math.max(p,b),v=Math.max(g,v)}!function(e,t){Yo(e,e=>{const n=e.gc,r=n.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[n[s]];n.splice(0,r)}})}(s,t);const y=a.indexOf(b),w=i.indexOf(v),B=e=>({width:a[e]||0,height:i[e]||0});return{first:B(0),last:B(t-1),widest:B(y),highest:B(w),widths:a,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return _l(this._alignToPixels?dA(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return IA(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=IA(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Bl(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,i=s?s.widest.width+a:0,o=s?s.highest.height+a:0;return this.isHorizontal()?o*n>i*r?i/n:o/r:o*r<i*n?o/n:i/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:a,border:i}=r,o=s.offset,l=this.isHorizontal(),A=this.ticks.length+(o?1:0),c=sd(s),u=[],d=i.setContext(this.getContext()),h=d.display?d.width:0,f=h/2,m=function(e){return dA(n,e,h)};let p,g,x,b,v,y,w,B,N,j,C,k;if("top"===a)p=m(this.bottom),y=this.bottom-c,B=p-f,j=m(e.top)+f,k=e.bottom;else if("bottom"===a)p=m(this.top),j=e.top,k=m(e.bottom)-f,y=p+f,B=this.top+c;else if("left"===a)p=m(this.right),v=this.right-c,w=p-f,N=m(e.left)+f,C=e.right;else if("right"===a)p=m(this.left),N=e.left,C=m(e.right)-f,v=p+f,w=this.left+c;else if("x"===t){if("center"===a)p=m((e.top+e.bottom)/2+.5);else if(zo(a)){const e=Object.keys(a)[0],t=a[e];p=m(this.chart.scales[e].getPixelForValue(t))}j=e.top,k=e.bottom,y=p+f,B=y+c}else if("y"===t){if("center"===a)p=m((e.left+e.right)/2);else if(zo(a)){const e=Object.keys(a)[0],t=a[e];p=m(this.chart.scales[e].getPixelForValue(t))}v=p-f,w=v-c,N=e.left,C=e.right}const F=qo(r.ticks.maxTicksLimit,A),S=Math.max(1,Math.ceil(A/F));for(g=0;g<A;g+=S){const e=this.getContext(g),t=s.setContext(e),r=i.setContext(e),a=t.lineWidth,A=t.color,c=r.dash||[],d=r.dashOffset,h=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],p=t.tickBorderDashOffset;x=rd(this,g,o),void 0!==x&&(b=dA(n,x,a),l?v=w=N=C=b:y=B=j=k=b,u.push({tx1:v,ty1:y,tx2:w,ty2:B,x1:N,y1:j,x2:C,y2:k,width:a,color:A,borderDash:c,borderDashOffset:d,tickWidth:h,tickColor:f,tickBorderDash:m,tickBorderDashOffset:p}))}return this._ticksLength=A,this._borderValue=p,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:s}=n,a=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:A,mirror:c}=s,u=sd(n.grid),d=u+A,h=c?-A:d,f=-Bl(this.labelRotation),m=[];let p,g,x,b,v,y,w,B,N,j,C,k,F="middle";if("top"===r)y=this.bottom-h,w=this._getXAxisLabelAlignment();else if("bottom"===r)y=this.top+h,w=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,v=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,v=e.x}else if("x"===t){if("center"===r)y=(e.top+e.bottom)/2+d;else if(zo(r)){const e=Object.keys(r)[0],t=r[e];y=this.chart.scales[e].getPixelForValue(t)+d}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)v=(e.left+e.right)/2-d;else if(zo(r)){const e=Object.keys(r)[0],t=r[e];v=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?F="top":"end"===o&&(F="bottom"));const S=this._getLabelSizes();for(p=0,g=i.length;p<g;++p){x=i[p],b=x.label;const e=s.setContext(this.getContext(p));B=this.getPixelForTick(p)+s.labelOffset,N=this._resolveTickFontOptions(p),j=N.lineHeight,C=Ro(b)?b.length:1;const t=C/2,n=e.color,o=e.textStrokeColor,A=e.textStrokeWidth;let u,d=w;if(a?(v=B,"inner"===w&&(d=p===g-1?this.options.reverse?"left":"right":0===p?this.options.reverse?"right":"left":"center"),k="top"===r?"near"===l||0!==f?-C*j+j/2:"center"===l?-S.highest.height/2-t*j+j:-S.highest.height+j/2:"near"===l||0!==f?j/2:"center"===l?S.highest.height/2-t*j:S.highest.height-C*j,c&&(k*=-1),0===f||e.showLabelBackdrop||(v+=j/2*Math.sin(f))):(y=B,k=(1-C)*j/2),e.showLabelBackdrop){const t=UA(e.backdropPadding),n=S.heights[p],r=S.widths[p];let s=k-t.top,a=0-t.left;switch(F){case"middle":s-=n/2;break;case"bottom":s-=n}switch(w){case"center":a-=r/2;break;case"right":a-=r;break;case"inner":p===g-1?a-=r:p>0&&(a-=r/2)}u={left:a,top:s,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:N,textOffset:k,options:{rotation:f,color:n,strokeColor:o,strokeWidth:A,textAlign:d,textBaseline:F,translation:[v,y],backdrop:u}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Bl(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,a=e+s,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+s,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-a,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+s,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+a,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const i=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(s=0,a=r.length;s<a;++s){const e=r[s];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const i=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,A,c,u;this.isHorizontal()?(l=dA(e,this.left,a)-a/2,A=dA(e,this.right,i)+i/2,c=u=o):(c=dA(e,this.top,a)-a/2,u=dA(e,this.bottom,i)+i/2,l=A=o),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,c),t.lineTo(A,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&gA(t,n);const r=this.getLabelItems(e);for(const s of r){const e=s.options,n=s.font;BA(t,s.label,0,s.textOffset,n,e)}n&&xA(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=QA(n.font),a=UA(n.padding),i=n.align;let o=s.lineHeight/2;"bottom"===t||"center"===t||zo(t)?(o+=a.bottom,Ro(n.text)&&(o+=s.lineHeight*(n.text.length-1))):o+=a.top;const{titleX:l,titleY:A,maxWidth:c,rotation:u}=function(e,t,n,r){const{top:s,left:a,bottom:i,right:o,chart:l}=e,{chartArea:A,scales:c}=l;let u,d,h,f=0;const m=i-s,p=o-a;if(e.isHorizontal()){if(d=Rl(r,a,o),zo(n)){const e=Object.keys(n)[0],r=n[e];h=c[e].getPixelForValue(r)+m-t}else h="center"===n?(A.bottom+A.top)/2+m-t:ed(e,n,t);u=o-a}else{if(zo(n)){const e=Object.keys(n)[0],r=n[e];d=c[e].getPixelForValue(r)-p+t}else d="center"===n?(A.left+A.right)/2-p+t:ed(e,n,t);h=Rl(r,i,s),f="left"===n?-fl:fl}return{titleX:d,titleY:h,maxWidth:u,rotation:f}}(this,o,t,i);BA(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:u,textAlign:id(i,t,r),textBaseline:"middle",translation:[l,A]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=qo(e.grid&&e.grid.z,-1),r=qo(e.border&&e.border.z,0);return this._isVisible()&&this.draw===od.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,a;for(s=0,a=t.length;s<a;++s){const a=t[s];a[n]!==this.id||e&&a.type!==e||r.push(a)}return r}_resolveTickFontOptions(e){return QA(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ld{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function(e,t,n){const r=el(Object.create(null),[n?AA.get(n):{},AA.get(t),e.defaults]);AA.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),a=[e].concat(r).join("."),i=t[n].split("."),o=i.pop(),l=i.join(".");AA.route(a,s,l,o)})}(t,e.defaultRoutes);e.descriptors&&AA.describe(t,e.descriptors)}(e,a,n),this.override&&AA.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in AA[r]&&(delete AA[r][n],this.override&&delete sA[n])}}class Ad{constructor(){this.controllers=new ld(Wc,"datasets",!0),this.elements=new ld(Xu,"elements"),this.plugins=new ld(Object,"plugins"),this.scales=new ld(od,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):Yo(t,t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)})})}_exec(e,t,n){const r=al(e);Go(n["before"+r],[],n),t[e](n),Go(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var cd=new Ad;class ud{constructor(){this._init=void 0}notify(e,t,n,r){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,t,n);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,n,r){r=r||{};for(const s of e){const e=s.plugin;if(!1===Go(e[n],[t,r,s.options],e)&&r.cancelable)return!1}return!0}invalidate(){Ho(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=qo(n.options&&n.options.plugins,{}),s=function(e){const t={},n=[],r=Object.keys(cd.plugins.items);for(let a=0;a<r.length;a++)n.push(cd.getPlugin(r[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const e=s[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:s,localIds:a}=t;const i=[],o=e.getContext();for(const l of s){const t=l.id,s=dd(n[t],r);null!==s&&i.push({plugin:l,options:hd(e.config,{plugin:l,local:a[t]},s,o)})}return i}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function dd(e,t){return t||!1!==e?!0===e?{}:e:null}function hd(e,t,n,r){let{plugin:s,local:a}=t;const i=e.pluginScopeKeys(s),o=e.getOptionScopes(n,i);return a&&s.defaults&&o.push(s.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function fd(e,t){const n=AA.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function md(e){if("x"===e||"y"===e||"r"===e)return e}function pd(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function gd(e){if(md(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||pd(s.position)||e.length>1&&md(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function xd(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function bd(e,t){const n=sA[e.type]||{scales:{}},r=t.scales||{},s=fd(e.type,t),a=Object.create(null);return Object.keys(r).forEach(t=>{const i=r[t];if(!zo(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=gd(t,i,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return xd(e,"x",n[0])||xd(e,"y",n[0])}return{}}(t,e),AA.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,s),A=n.scales||{};a[t]=tl(Object.create(null),[{axis:o},i,A[o],A[l]])}),e.data.datasets.forEach(n=>{const s=n.type||e.type,i=n.indexAxis||fd(s,t),o=(sA[s]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,i),s=n[t+"AxisID"]||t;a[s]=a[s]||Object.create(null),tl(a[s],[{axis:t},r[s],o[e]])})}),Object.keys(a).forEach(e=>{const t=a[e];tl(t,[AA.scales[t.type],AA.scale])}),a}function vd(e){const t=e.options||(e.options={});t.plugins=qo(t.plugins,{}),t.scales=bd(e,t)}function yd(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const wd=new Map,Bd=new Set;function Nd(e,t){let n=wd.get(e);return n||(n=t(),wd.set(e,n),Bd.add(n)),n}const jd=(e,t,n)=>{const r=sl(t,n);void 0!==r&&e.add(r)};class Cd{constructor(e){this._config=function(e){return(e=e||{}).data=yd(e.data),vd(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=yd(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),vd(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Nd(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return Nd("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return Nd("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Nd("".concat(n,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:s}=this,a=this._cachedScopes(e,n),i=a.get(t);if(i)return i;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>jd(o,e,t))),t.forEach(e=>jd(o,r,e)),t.forEach(e=>jd(o,sA[s]||{},e)),t.forEach(e=>jd(o,AA,e)),t.forEach(e=>jd(o,aA,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),Bd.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,sA[t]||{},AA.datasets[t]||{},{type:t},AA,aA]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const s={$shared:!0},{resolver:a,subPrefixes:i}=kd(this._resolverCache,e,r);let o=a;if(function(e,t){const{isScriptable:n,isIndexable:r}=PA(e);for(const s of t){const t=n(s),a=r(s),i=(a||t)&&e[s];if(t&&(ol(i)||Fd(i))||a&&Ro(i))return!0}return!1}(a,t)){s.$shared=!1;o=DA(a,n=ol(n)?n():n,this.createResolver(e,n,i))}for(const l of t)s[l]=o[l];return s}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:s}=kd(this._resolverCache,e,n);return zo(t)?DA(s,t,void 0,r):s}}function kd(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let a=r.get(s);if(!a){a={resolver:MA(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},r.set(s,a)}return a}const Fd=e=>zo(e)&&Object.getOwnPropertyNames(e).some(t=>ol(e[t]));const Sd=["top","bottom","left","right","chartArea"];function Ed(e,t){return"top"===e||"bottom"===e||-1===Sd.indexOf(e)&&"x"===t}function _d(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Ud(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Go(n&&n.onComplete,[e],t)}function Qd(e){const t=e.chart,n=t.options.animation;Go(n&&n.onProgress,[e],t)}function Ld(e){return rc()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Id={},Md=e=>{const t=Ld(e);return Object.values(Id).filter(e=>e.canvas===t).pop()};function Dd(e,t,n){const r=Object.keys(e);for(const s of r){const r=+s;if(r>=t){const a=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=a)}}}class Pd{static register(){cd.add(...arguments),Td()}static unregister(){cd.remove(...arguments),Td()}constructor(e,t){const n=this.config=new Cd(t),r=Ld(e),s=Md(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!rc()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Iu:Ju}(r)),this.platform.updateConfig(n);const i=this.platform.acquireContext(r,a.aspectRatio),o=i&&i.canvas,l=o&&o.height,A=o&&o.width;this.id=Oo(),this.ctx=i,this.canvas=o,this.width=A,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ud,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],Id[this.id]=this,i&&o?(_c.listen(this,"complete",Ud),_c.listen(this,"progress",Qd),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:s}=this;return Ho(e)?t&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return cd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():dc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hA(this.canvas,this.ctx),this}stop(){return _c.stop(this),this}resize(e,t){_c.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,s),i=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,dc(this,i,!0)&&(this.notifyPlugins("resize",{size:a}),Go(n.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){Yo(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let s=[];t&&(s=s.concat(Object.keys(t).map(e=>{const n=t[e],r=gd(e,n),s="r"===r,a="x"===r;return{options:n,dposition:s?"chartArea":a?"bottom":"left",dtype:s?"radialLinear":a?"category":"linear"}}))),Yo(s,t=>{const s=t.options,a=s.id,i=gd(a,s),o=qo(s.type,t.dtype);void 0!==s.position&&Ed(s.position,i)===Ed(t.dposition)||(s.position=t.dposition),r[a]=!0;let l=null;if(a in n&&n[a].type===o)l=n[a];else{l=new(cd.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(s,e)}),Yo(r,(e,t)=>{e||delete n[t]}),Yo(n,e=>{Qu.configure(this,e,e.options),Qu.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(_d("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let s=this.getDatasetMeta(n);const a=r.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=a,s.indexAxis=r.indexAxis||fd(a,this.options),s.order=r.order||0,s.index=n,s.label=""+r.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const t=cd.getController(a),{datasetElementType:r,dataElementType:i}=AA.datasets[a];Object.assign(t,{dataElementType:cd.getElement(i),datasetElementType:r&&cd.getElement(r)}),s.controller=new t(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){Yo(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,A=this.data.datasets.length;l<A;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===s.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||Yo(s,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_d("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){Yo(this.scales,e=>{Qu.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);ll(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of t){Dd(e,r,"_removeElements"===n?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),r=n(0);for(let s=1;s<t;s++)if(!ll(r,n(s)))return;return Array.from(r).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Qu.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Yo(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ol(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(_c.has(this)?this.attached&&!_c.running(this)&&_c.start(this):(this.draw(),Ud({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,s;for(r=0,s=t.length;r<s;++r){const s=t[r];e&&!s.visible||n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=Sc(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&gA(t,r),e.controller.draw(),r&&xA(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return pA(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const s=vu.modes[t];return"function"===typeof s?s(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(e=>e&&e._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=IA(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);il(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),_c.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),hA(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Id[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Yo(this.options.events,e=>n(e,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const i=()=>{r("attach",i),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",i)},t.isAttached(this.canvas)?i():a()}unbindEvents(){Yo(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Yo(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let s,a,i,o;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){a=e[i];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}});!Jo(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const r=this.options.hover,s=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=s(t,e),i=n?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),i.length&&r.mode&&this.updateHoverStyle(i,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:s}=this,a=t,i=this._getActiveElements(e,r,n,a),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,Go(s.onHover,[e,i,this],this),o&&Go(s.onClick,[e,i,this],this));const A=!Jo(i,r);return(A||t)&&(this._active=i,this._updateHoverStyles(i,r,t)),this._lastEvent=l,A}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}function Td(){return Yo(Pd.instances,e=>e._plugins.invalidate())}function Od(e,t,n,r){const s=SA(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(n-t)/2,i=Math.min(a,r*t/2),o=e=>{const t=(n-Math.min(a,e))*r/2;return _l(e,0,Math.min(a,t))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:_l(s.innerStart,0,i),innerEnd:_l(s.innerEnd,0,i)}}function Hd(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Rd(e,t,n,r,s,a){const{x:i,y:o,startAngle:l,pixelMargin:A,innerRadius:c}=t,u=Math.max(t.outerRadius+r+n-A,0),d=c>0?c+r+n+A:0;let h=0;const f=s-l;if(r){const e=((c>0?c-r:0)+(u>0?u-r:0))/2;h=(f-(0!==e?f*e/(e+r):f))/2}const m=(f-Math.max(.001,f*u-n/Al)/u)/2,p=l+m+h,g=s-m-h,{outerStart:x,outerEnd:b,innerStart:v,innerEnd:y}=Od(t,d,u,g-p),w=u-x,B=u-b,N=p+x/w,j=g-b/B,C=d+v,k=d+y,F=p+v/C,S=g-y/k;if(e.beginPath(),a){const t=(N+j)/2;if(e.arc(i,o,u,N,t),e.arc(i,o,u,t,j),b>0){const t=Hd(B,j,i,o);e.arc(t.x,t.y,b,j,g+fl)}const n=Hd(k,g,i,o);if(e.lineTo(n.x,n.y),y>0){const t=Hd(k,S,i,o);e.arc(t.x,t.y,y,g+fl,S+Math.PI)}const r=(g-y/d+(p+v/d))/2;if(e.arc(i,o,d,g-y/d,r,!0),e.arc(i,o,d,r,p+v/d,!0),v>0){const t=Hd(C,F,i,o);e.arc(t.x,t.y,v,F+Math.PI,p-fl)}const s=Hd(w,p,i,o);if(e.lineTo(s.x,s.y),x>0){const t=Hd(w,N,i,o);e.arc(t.x,t.y,x,p-fl,N)}}else{e.moveTo(i,o);const t=Math.cos(N)*u+i,n=Math.sin(N)*u+o;e.lineTo(t,n);const r=Math.cos(j)*u+i,s=Math.sin(j)*u+o;e.lineTo(r,s)}e.closePath()}function zd(e,t,n,r,s){const{fullCircles:a,startAngle:i,circumference:o,options:l}=t,{borderWidth:A,borderJoinStyle:c,borderDash:u,borderDashOffset:d,borderRadius:h}=l,f="inner"===l.borderAlign;if(!A)return;e.setLineDash(u||[]),e.lineDashOffset=d,f?(e.lineWidth=2*A,e.lineJoin=c||"round"):(e.lineWidth=A,e.lineJoin=c||"bevel");let m=t.endAngle;if(a){Rd(e,t,n,r,m,s);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(m=i+(o%cl||cl))}f&&function(e,t,n){const{startAngle:r,pixelMargin:s,x:a,y:i,outerRadius:o,innerRadius:l}=t;let A=s/o;e.beginPath(),e.arc(a,i,o,r-A,n+A),l>s?(A=s/l,e.arc(a,i,l,n+A,r-A,!0)):e.arc(a,i,s,n+fl,r-fl),e.closePath(),e.clip()}(e,t,m),l.selfJoin&&m-i>=Al&&0===h&&"miter"!==c&&function(e,t,n){const{startAngle:r,x:s,y:a,outerRadius:i,innerRadius:o,options:l}=t,{borderWidth:A,borderJoinStyle:c}=l,u=Math.min(A/i,Sl(r-n));if(e.beginPath(),e.arc(s,a,i-A/2,r+u/2,n-u/2),o>0){const t=Math.min(A/o,Sl(r-n));e.arc(s,a,o+A/2,n-t/2,r+t/2,!0)}else{const t=Math.min(A/2,i*Sl(r-n));if("round"===c)e.arc(s,a,t,n-Al/2,r+Al/2,!0);else if("bevel"===c){const i=2*t*t,o=-i*Math.cos(n+Al/2)+s,l=-i*Math.sin(n+Al/2)+a,A=i*Math.cos(r+Al/2)+s,c=i*Math.sin(r+Al/2)+a;e.lineTo(o,l),e.lineTo(A,c)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,m),a||(Rd(e,t,n,r,m,s),e.stroke())}(0,a.A)(Pd,"defaults",AA),(0,a.A)(Pd,"instances",Id),(0,a.A)(Pd,"overrides",sA),(0,a.A)(Pd,"registry",cd),(0,a.A)(Pd,"version","4.5.1"),(0,a.A)(Pd,"getChart",Md);class Kd extends Xu{constructor(e){super(),(0,a.A)(this,"circumference",void 0),(0,a.A)(this,"endAngle",void 0),(0,a.A)(this,"fullCircles",void 0),(0,a.A)(this,"innerRadius",void 0),(0,a.A)(this,"outerRadius",void 0),(0,a.A)(this,"pixelMargin",void 0),(0,a.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:s,distance:a}=Cl(r,{x:e,y:t}),{startAngle:i,endAngle:o,innerRadius:l,outerRadius:A,circumference:c}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,d=qo(c,o-i),h=El(s,i,o)&&i!==o,f=d>=cl||h,m=Ul(a,l+u,A+u);return f&&m}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:s,innerRadius:a,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,A=(r+s)/2,c=(a+i+l+o)/2;return{x:t+Math.cos(A)*c,y:n+Math.sin(A)*c}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>cl?Math.floor(n/cl):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*r,Math.sin(i)*r);const o=r*(1-Math.sin(Math.min(Al,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,s){const{fullCircles:a,startAngle:i,circumference:o}=t;let l=t.endAngle;if(a){Rd(e,t,n,r,l,s);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=i+(o%cl||cl))}Rd(e,t,n,r,l,s),e.fill()}(e,this,o,s,a),zd(e,this,o,s,a),e.restore()}}function Vd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=qo(n.borderCapStyle,t.borderCapStyle),e.setLineDash(qo(n.borderDash,t.borderDash)),e.lineDashOffset=qo(n.borderDashOffset,t.borderDashOffset),e.lineJoin=qo(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=qo(n.borderWidth,t.borderWidth),e.strokeStyle=qo(n.borderColor,t.borderColor)}function qd(e,t,n){e.lineTo(n.x,n.y)}function Wd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:s=0,end:a=r-1}=n,{start:i,end:o}=t,l=Math.max(s,i),A=Math.min(a,o),c=s<i&&a<i||s>o&&a>o;return{count:r,start:l,loop:t.loop,ilen:A<l&&!c?r+A-l:A-l}}function Gd(e,t,n,r){const{points:s,options:a}=t,{count:i,start:o,loop:l,ilen:A}=Wd(s,n,r),c=function(e){return e.stepped?bA:e.tension||"monotone"===e.cubicInterpolationMode?vA:qd}(a);let u,d,h,{move:f=!0,reverse:m}=r||{};for(u=0;u<=A;++u)d=s[(o+(m?A-u:u))%i],d.skip||(f?(e.moveTo(d.x,d.y),f=!1):c(e,h,d,m,a.stepped),h=d);return l&&(d=s[(o+(m?A:0))%i],c(e,h,d,m,a.stepped)),!!l}function Yd(e,t,n,r){const s=t.points,{count:a,start:i,ilen:o}=Wd(s,n,r),{move:l=!0,reverse:A}=r||{};let c,u,d,h,f,m,p=0,g=0;const x=e=>(i+(A?o-e:e))%a,b=()=>{h!==f&&(e.lineTo(p,f),e.lineTo(p,h),e.lineTo(p,m))};for(l&&(u=s[x(0)],e.moveTo(u.x,u.y)),c=0;c<=o;++c){if(u=s[x(c)],u.skip)continue;const t=u.x,n=u.y,r=0|t;r===d?(n<h?h=n:n>f&&(f=n),p=(g*p+t)/++g):(b(),e.lineTo(t,n),d=r,g=0,h=f=n),m=n}b()}function Jd(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Yd:Gd}(0,a.A)(Kd,"id","arc"),(0,a.A)(Kd,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),(0,a.A)(Kd,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,a.A)(Kd,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Xd="function"===typeof Path2D;function Zd(e,t,n,r){Xd&&!t.options.segment?function(e,t,n,r){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,r)&&s.closePath()),Vd(e,t.options),e.stroke(s)}(e,t,n,r):function(e,t,n,r){const{segments:s,options:a}=t,i=Jd(t);for(const o of s)Vd(e,a,o.style),e.beginPath(),i(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class $d extends Xu{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;nc(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,s=n.length;if(!s)return[];const a=!!e._loop,{start:i,end:o}=function(e,t,n,r){let s=0,a=t-1;if(n&&!r)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}(n,s,a,r);return jc(e,!0===r?[{start:i,end:o,loop:a}]:function(e,t,n,r){const s=e.length,a=[];let i,o=t,l=e[t];for(i=t+1;i<=n;++i){const n=e[i%s];n.skip||n.stop?l.skip||(r=!1,a.push({start:t%s,end:(i-1)%s,loop:r}),t=o=n.stop?i:null):(o=i,l.skip&&(t=i)),l=n}return null!==o&&a.push({start:t%s,end:o%s,loop:r}),a}(n,i,o<i?o+s:o,!!e._fullLoop&&0===i&&o===s-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],s=this.points,a=Nc(this,{property:t,start:r,end:r});if(!a.length)return;const i=[],o=function(e){return e.stepped?pc:e.tension||"monotone"===e.cubicInterpolationMode?gc:mc}(n);let l,A;for(l=0,A=a.length;l<A;++l){const{start:A,end:c}=a[l],u=s[A],d=s[c];if(u===d){i.push(u);continue}const h=o(u,d,Math.abs((r-u[t])/(d[t]-u[t])),n.stepped);h[t]=e[t],i.push(h)}return 1===i.length?i[0]:i}pathSegment(e,t,n){return Jd(this)(e,this,t,n)}path(e,t,n){const r=this.segments,s=Jd(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const i of r)a&=s(e,this,i,{start:t,end:t+n-1});return!!a}draw(e,t,n,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Zd(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function eh(e,t,n,r){const s=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<s.radius+s.hitRadius}(0,a.A)($d,"id","line"),(0,a.A)($d,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,a.A)($d,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,a.A)($d,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class th extends Xu{constructor(e){super(),(0,a.A)(this,"parsed",void 0),(0,a.A)(this,"skip",void 0),(0,a.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return eh(this,e,"x",t)}inYRange(e,t){return eh(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!pA(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,fA(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function nh(e,t){const{x:n,y:r,base:s,width:a,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,A,c,u;return e.horizontal?(u=i/2,o=Math.min(n,s),l=Math.max(n,s),A=r-u,c=r+u):(u=a/2,o=n-u,l=n+u,A=Math.min(r,s),c=Math.max(r,s)),{left:o,top:A,right:l,bottom:c}}function rh(e,t,n,r){return e?0:_l(t,n,r)}function sh(e){const t=nh(e),n=t.right-t.left,r=t.bottom-t.top,s=function(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,a=EA(r);return{t:rh(s.top,a.top,0,n),r:rh(s.right,a.right,0,t),b:rh(s.bottom,a.bottom,0,n),l:rh(s.left,a.left,0,t)}}(e,n/2,r/2),a=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=_A(s),i=Math.min(t,n),o=e.borderSkipped,l=r||zo(s);return{topLeft:rh(!l||o.top||o.left,a.topLeft,0,i),topRight:rh(!l||o.top||o.right,a.topRight,0,i),bottomLeft:rh(!l||o.bottom||o.left,a.bottomLeft,0,i),bottomRight:rh(!l||o.bottom||o.right,a.bottomRight,0,i)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function ah(e,t,n,r){const s=null===t,a=null===n,i=e&&!(s&&a)&&nh(e,r);return i&&(s||Ul(t,i.left,i.right))&&(a||Ul(n,i.top,i.bottom))}function ih(e,t){e.rect(t.x,t.y,t.w,t.h)}function oh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,i=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+a,h:e.h+i,radius:e.radius}}(0,a.A)(th,"id","point"),(0,a.A)(th,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,a.A)(th,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class lh extends Xu{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:a}=sh(this),i=(o=a.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?NA:ih;var o;e.save(),a.w===s.w&&a.h===s.h||(e.beginPath(),i(e,oh(a,t,s)),e.clip(),i(e,oh(s,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),i(e,oh(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return ah(this,e,t,n)}inXRange(e,t){return ah(this,e,null,t)}inYRange(e,t){return ah(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,a.A)(lh,"id","bar"),(0,a.A)(lh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,a.A)(lh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Ah=Object.freeze({__proto__:null,ArcElement:Kd,BarElement:lh,LineElement:$d,PointElement:th});const ch=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],uh=ch.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function dh(e){return ch[e%ch.length]}function hh(e){return uh[e%uh.length]}function fh(e){let t=0;return(n,r)=>{const s=e.getDatasetMeta(r).controller;s instanceof su?t=function(e,t){return e.backgroundColor=e.data.map(()=>dh(t++)),t}(n,t):s instanceof iu?t=function(e,t){return e.backgroundColor=e.data.map(()=>hh(t++)),t}(n,t):s&&(t=function(e,t){return e.borderColor=dh(t),e.backgroundColor=hh(t),++t}(n,t))}}function mh(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var ph={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:s}=e.config,{elements:a}=s,i=mh(r)||(o=s)&&(o.borderColor||o.backgroundColor)||a&&mh(a)||"rgba(0,0,0,0.1)"!==AA.borderColor||"rgba(0,0,0,0.1)"!==AA.backgroundColor;var o;if(!n.forceOverride&&i)return;const l=fh(e);r.forEach(l)}};function gh(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function xh(e){e.data.datasets.forEach(e=>{gh(e)})}var bh={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void xh(e);const r=e.width;e.data.datasets.forEach((t,s)=>{const{_data:a,indexAxis:i}=t,l=e.getDatasetMeta(s),A=a||t.data;if("y"===LA([i,e.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const c=e.scales[l.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:u,count:d}=function(e,t){const n=t.length;let r,s=0;const{iScale:a}=e,{min:i,max:o,minDefined:l,maxDefined:A}=a.getUserBounds();return l&&(s=_l(Ll(t,a.axis,i).lo,0,n-1)),r=A?_l(Ll(t,a.axis,o).hi+1,s,n)-s:n-s,{start:s,count:r}}(l,A);if(d<=(n.threshold||4*r))return void gh(t);let h;switch(Ho(a)&&(t._data=A,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":h=function(e,t,n,r,s){const a=s.samples||r;if(a>=n)return e.slice(t,t+n);const i=[],o=(n-2)/(a-2);let l=0;const A=t+n-1;let c,u,d,h,f,m=t;for(i[l++]=e[m],c=0;c<a-2;c++){let r,s=0,a=0;const A=Math.floor((c+1)*o)+1+t,p=Math.min(Math.floor((c+2)*o)+1,n)+t,g=p-A;for(r=A;r<p;r++)s+=e[r].x,a+=e[r].y;s/=g,a/=g;const x=Math.floor(c*o)+1+t,b=Math.min(Math.floor((c+1)*o)+1,n)+t,{x:v,y:y}=e[m];for(d=h=-1,r=x;r<b;r++)h=.5*Math.abs((v-s)*(e[r].y-y)-(v-e[r].x)*(a-y)),h>d&&(d=h,u=e[r],f=r);i[l++]=u,m=f}return i[l++]=e[A],i}(A,u,d,r,n);break;case"min-max":h=function(e,t,n,r){let s,a,i,l,A,c,u,d,h,f,m=0,p=0;const g=[],x=t+n-1,b=e[t].x,v=e[x].x-b;for(s=t;s<t+n;++s){a=e[s],i=(a.x-b)/v*r,l=a.y;const t=0|i;if(t===A)l<h?(h=l,c=s):l>f&&(f=l,u=s),m=(p*m+a.x)/++p;else{const n=s-1;if(!Ho(c)&&!Ho(u)){const t=Math.min(c,u),r=Math.max(c,u);t!==d&&t!==n&&g.push(o(o({},e[t]),{},{x:m})),r!==d&&r!==n&&g.push(o(o({},e[r]),{},{x:m}))}s>0&&n!==d&&g.push(e[n]),g.push(a),A=t,p=0,h=f=l,c=u=d=s}}return g}(A,u,d,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=h})},destroy(e){xh(e)}};function vh(e,t,n,r){if(r)return;let s=t[e],a=n[e];return"angle"===e&&(s=Sl(s),a=Sl(a)),{property:e,start:s,end:a}}function yh(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function wh(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Bh(e,t){let n=[],r=!1;return Ro(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},s=t.points,a=[];return t.segments.forEach(e=>{let{start:t,end:i}=e;i=yh(t,i,s);const o=s[t],l=s[i];null!==r?(a.push({x:o.x,y:r}),a.push({x:l.x,y:r})):null!==n&&(a.push({x:n,y:o.y}),a.push({x:n,y:l.y}))}),a}(e,t),n.length?new $d({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Nh(e){return e&&!1!==e.fill}function jh(e,t,n){let r=e[t].fill;const s=[t];let a;if(!n)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Ko(r))return r;if(a=e[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function Ch(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=qo(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(zo(r))return!isNaN(r.value)&&r;let s=parseFloat(r);return Ko(s)&&Math.floor(s)===s?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function kh(e,t,n){const r=[];for(let s=0;s<n.length;s++){const a=n[s],{first:i,last:o,point:l}=Fh(a,t,"x");if(!(!l||i&&o))if(i)r.unshift(l);else if(e.push(l),!o)break}e.push(...r)}function Fh(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const s=r[n],a=e.segments,i=e.points;let o=!1,l=!1;for(let A=0;A<a.length;A++){const e=a[A],t=i[e.start][n],r=i[e.end][n];if(Ul(s,t,r)){o=s===t,l=s===r;break}}return{first:o,last:l,point:r}}class Sh{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:s,radius:a}=this;return t=t||{start:0,end:cl},e.arc(r,s,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function Eh(e){const{chart:t,fill:n,line:r}=e;if(Ko(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,s=[],a=r.segments,i=r.points,o=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const e=r[s];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);o.push(Bh({x:null,y:t.bottom},r));for(let l=0;l<a.length;l++){const e=a[l];for(let t=e.start;t<=e.end;t++)kh(s,i[t],o)}return new $d({points:s,options:{}})}(e);if("shape"===n)return!0;const s=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,s=t.getLabels().length,a=r.reverse?t.max:t.min,i=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:zo(e)?e.value:t.getBaseValue(),r}(n,t,a),o=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,a);return new Sh({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let l=0;l<s;++l)o.push(t.getPointPositionForValue(l,i));return o}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:zo(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(Ko(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return s instanceof Sh?s:Bh(s,r)}function _h(e,t,n){const r=Eh(t),{chart:s,index:a,line:i,scale:o,axis:l}=t,A=i.options,c=A.fill,u=A.backgroundColor,{above:d=u,below:h=u}=c||{},f=s.getDatasetMeta(a),m=Sc(s,f);r&&i.points.length&&(gA(e,n),function(e,t){const{line:n,target:r,above:s,below:a,area:i,scale:o,clip:l}=t,A=n._loop?"angle":t.axis;e.save();let c=a;a!==s&&("x"===A?(Uh(e,r,i.top),Lh(e,{line:n,target:r,color:s,scale:o,property:A,clip:l}),e.restore(),e.save(),Uh(e,r,i.bottom)):"y"===A&&(Qh(e,r,i.left),Lh(e,{line:n,target:r,color:a,scale:o,property:A,clip:l}),e.restore(),e.save(),Qh(e,r,i.right),c=s));Lh(e,{line:n,target:r,color:c,scale:o,property:A,clip:l}),e.restore()}(e,{line:i,target:r,above:d,below:h,area:n,scale:o,axis:l,clip:m}),xA(e))}function Uh(e,t,n){const{segments:r,points:s}=t;let a=!0,i=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,A=s[r],c=s[yh(r,l,s)];a?(e.moveTo(A.x,A.y),a=!1):(e.lineTo(A.x,n),e.lineTo(A.x,A.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(c.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Qh(e,t,n){const{segments:r,points:s}=t;let a=!0,i=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,A=s[r],c=s[yh(r,l,s)];a?(e.moveTo(A.x,A.y),a=!1):(e.lineTo(n,A.y),e.lineTo(A.x,A.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(n,c.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Lh(e,t){const{line:n,target:r,property:s,color:a,scale:i,clip:o}=t,l=function(e,t,n){const r=e.segments,s=e.points,a=t.points,i=[];for(const o of r){let{start:e,end:r}=o;r=yh(e,r,s);const l=vh(n,s[e],s[r],o.loop);if(!t.segments){i.push({source:o,target:l,start:s[e],end:s[r]});continue}const A=Nc(t,l);for(const t of A){const e=vh(n,a[t.start],a[t.end],t.loop),r=Bc(o,s,e);for(const s of r)i.push({source:s,target:t,start:{[n]:wh(l,e,"start",Math.max)},end:{[n]:wh(l,e,"end",Math.min)}})}}return i}(n,r,s);for(const{source:A,target:c,start:u,end:d}of l){const{style:{backgroundColor:t=a}={}}=A,l=!0!==r;e.save(),e.fillStyle=t,Ih(e,i,o,l&&vh(s,u,d)),e.beginPath();const h=!!n.pathSegment(e,A);let f;if(l){h?e.closePath():Mh(e,r,d,s);const t=!!r.pathSegment(e,c,{move:h,reverse:!0});f=h&&t,f||Mh(e,r,u,s)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function Ih(e,t,n,r){const s=t.chart.chartArea,{property:a,start:i,end:o}=r||{};if("x"===a||"y"===a){let t,r,l,A;"x"===a?(t=i,r=s.top,l=o,A=s.bottom):(t=s.left,r=i,l=s.right,A=o),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),r=Math.max(r,n.top),A=Math.min(A,n.bottom)),e.rect(t,r,l-t,A-r),e.clip()}}function Mh(e,t,n,r){const s=t.interpolate(n,r);s&&e.lineTo(s.x,s.y)}var Dh={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,s=[];let a,i,o,l;for(i=0;i<r;++i)a=e.getDatasetMeta(i),o=a.dataset,l=null,o&&o.options&&o instanceof $d&&(l={visible:e.isDatasetVisible(i),index:i,fill:Ch(o,i,r),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,s.push(l);for(i=0;i<r;++i)l=s[i],l&&!1!==l.fill&&(l.fill=jh(s,i,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,s=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let i=s.length-1;i>=0;--i){const t=s[i].$filler;t&&(t.line.updateControlPoints(a,t.axis),r&&t.fill&&_h(e.ctx,t,a))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const t=r[s].$filler;Nh(t)&&_h(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;Nh(r)&&"beforeDatasetDraw"===n.drawTime&&_h(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ph=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class Th extends Xu{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Go(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=QA(n.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=Ph(n,s);let l,A;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,A=this._fitRows(a,s,i,o)+10):(A=this.maxHeight,l=this._fitCols(a,r,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(A,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:s,maxWidth:a,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],A=r+i;let c=e;s.textAlign="left",s.textBaseline="middle";let u=-1,d=-A;return this.legendItems.forEach((e,h)=>{const f=n+t/2+s.measureText(e.text).width;(0===h||l[l.length-1]+f+2*i>a)&&(c+=A,l[l.length-(h>0?0:1)]=0,d+=A,u++),o[h]={left:0,top:d,row:u,width:f,height:r},l[l.length-1]+=f+i}),c}_fitCols(e,t,n,r){const{ctx:s,maxHeight:a,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],A=a-e;let c=i,u=0,d=0,h=0,f=0;return this.legendItems.forEach((e,a)=>{const{itemWidth:m,itemHeight:p}=function(e,t,n,r,s){const a=function(e,t,n,r){let s=e.text;s&&"string"!==typeof s&&(s=s.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+r.measureText(s).width}(r,e,t,n),i=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=Oh(t,n));return r}(s,r,t.lineHeight);return{itemWidth:a,itemHeight:i}}(n,t,s,e,r);a>0&&d+p+2*i>A&&(c+=u+i,l.push({width:u,height:d}),h+=u+i,f++,u=d=0),o[a]={left:h,top:d,col:f,width:m,height:p},u=Math.max(u,m),d+=p+i}),c+=u,l.push({width:u,height:d}),c}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,a=xc(s,this.left,this.width);if(this.isHorizontal()){let s=0,i=Rl(n,this.left+r,this.right-this.lineWidths[s]);for(const o of t)s!==o.row&&(s=o.row,i=Rl(n,this.left+r,this.right-this.lineWidths[s])),o.top+=this.top+e+r,o.left=a.leftForLtr(a.x(i),o.width),i+=o.width+r}else{let s=0,i=Rl(n,this.top+e+r,this.bottom-this.columnSizes[s].height);for(const o of t)o.col!==s&&(s=o.col,i=Rl(n,this.top+e+r,this.bottom-this.columnSizes[s].height)),o.top=i,o.left+=this.left+r,o.left=a.leftForLtr(a.x(o.left),o.width),i+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;gA(e,this),this._draw(),xA(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:a}=e,i=AA.color,o=xc(e.rtl,this.left,this.width),l=QA(a.font),{padding:A}=a,c=l.size,u=c/2;let d;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:h,boxHeight:f,itemHeight:m}=Ph(a,c),p=this.isHorizontal(),g=this._computeTitleHeight();d=p?{x:Rl(s,this.left+A,this.right-n[0]),y:this.top+A+g,line:0}:{x:this.left+A,y:Rl(s,this.top+g+A,this.bottom-t[0].height),line:0},bc(this.ctx,e.textDirection);const x=m+A;this.legendItems.forEach((b,v)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const y=r.measureText(b.text).width,w=o.textAlign(b.textAlign||(b.textAlign=a.textAlign)),B=h+u+y;let N=d.x,j=d.y;o.setWidth(this.width),p?v>0&&N+B+A>this.right&&(j=d.y+=x,d.line++,N=d.x=Rl(s,this.left+A,this.right-n[d.line])):v>0&&j+x>this.bottom&&(N=d.x=N+t[d.line].width+A,d.line++,j=d.y=Rl(s,this.top+g+A,this.bottom-t[d.line].height));if(function(e,t,n){if(isNaN(h)||h<=0||isNaN(f)||f<0)return;r.save();const s=qo(n.lineWidth,1);if(r.fillStyle=qo(n.fillStyle,i),r.lineCap=qo(n.lineCap,"butt"),r.lineDashOffset=qo(n.lineDashOffset,0),r.lineJoin=qo(n.lineJoin,"miter"),r.lineWidth=s,r.strokeStyle=qo(n.strokeStyle,i),r.setLineDash(qo(n.lineDash,[])),a.usePointStyle){const i={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:s},l=o.xPlus(e,h/2);mA(r,i,l,t+u,a.pointStyleWidth&&h)}else{const a=t+Math.max((c-f)/2,0),i=o.leftForLtr(e,h),l=_A(n.borderRadius);r.beginPath(),Object.values(l).some(e=>0!==e)?NA(r,{x:i,y:a,w:h,h:f,radius:l}):r.rect(i,a,h,f),r.fill(),0!==s&&r.stroke()}r.restore()}(o.x(N),j,b),N=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(w,N+h+u,p?N+B:this.right,e.rtl),function(e,t,n){BA(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(N),j,b),p)d.x+=B+A;else if("string"!==typeof b.text){const e=l.lineHeight;d.y+=Oh(b,e)+A}else d.y+=x}),vc(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=QA(t.font),r=UA(t.padding);if(!t.display)return;const s=xc(e.rtl,this.left,this.width),a=this.ctx,i=t.position,o=n.size/2,l=r.top+o;let A,c=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),A=this.top+l,c=Rl(e.align,c,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);A=l+Rl(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=Rl(i,c,c+u);a.textAlign=s.textAlign(Hl(i)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,BA(a,t.text,d,A,n)}_computeTitleHeight(){const e=this.options.title,t=QA(e.font),n=UA(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,s;if(Ul(e,this.left,this.right)&&Ul(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],Ul(e,r.left,r.left+r.width)&&Ul(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const r=this._hoveredItem,s=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,n);r&&!s&&Go(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!s&&Go(t.onHover,[e,n,this],this)}else n&&Go(t.onClick,[e,n,this],this)}}function Oh(e,t){return t*(e.text?e.text.length:0)}var Hh={id:"legend",_element:Th,start(e,t,n){const r=e.legend=new Th({ctx:e.ctx,options:n,chart:e});Qu.configure(e,r,n),Qu.addBox(e,r)},stop(e){Qu.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Qu.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:a,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),A=UA(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(A.width+A.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Rh extends Xu{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=Ro(n.text)?n.text.length:1;this._padding=UA(n.padding);const s=r*QA(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:s,options:a}=this,i=a.align;let o,l,A,c=0;return this.isHorizontal()?(l=Rl(i,n,s),A=t+e,o=s-n):("left"===a.position?(l=n+e,A=Rl(i,r,t),c=-.5*Al):(l=s-e,A=Rl(i,t,r),c=.5*Al),o=r-t),{titleX:l,titleY:A,maxWidth:o,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=QA(t.font),r=n.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:i,rotation:o}=this._drawArgs(r);BA(e,t.text,0,0,n,{color:t.color,maxWidth:i,rotation:o,textAlign:Hl(t.align),textBaseline:"middle",translation:[s,a]})}}var zh={id:"title",_element:Rh,start(e,t,n){!function(e,t){const n=new Rh({ctx:e.ctx,options:t,chart:e});Qu.configure(e,n,t),Qu.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Qu.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Qu.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Kh=new WeakMap;var Vh={id:"subtitle",start(e,t,n){const r=new Rh({ctx:e.ctx,options:n,chart:e});Qu.configure(e,r,n),Qu.addBox(e,r),Kh.set(e,r)},stop(e){Qu.removeBox(e,Kh.get(e)),Kh.delete(e)},beforeUpdate(e,t,n){const r=Kh.get(e);Qu.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qh={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),s+=e.y,++a}}if(0===a||0===r.size)return!1;const i=[...r].reduce((e,t)=>e+t)/r.size;return{x:i,y:s/a}},nearest(e,t){if(!e.length)return!1;let n,r,s,a=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=kl(t,r.getCenterPoint());e<o&&(o=e,s=r)}}if(s){const e=s.tooltipPosition();a=e.x,i=e.y}return{x:a,y:i}}};function Wh(e,t){return t&&(Ro(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Gh(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Yh(e,t){const{element:n,datasetIndex:r,index:s}=t,a=e.getDatasetMeta(r).controller,{label:i,value:o}=a.getLabelAndValue(s);return{chart:e,label:i,parsed:a.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:o,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Jh(e,t){const n=e.chart.ctx,{body:r,footer:s,title:a}=e,{boxWidth:i,boxHeight:o}=t,l=QA(t.bodyFont),A=QA(t.titleFont),c=QA(t.footerFont),u=a.length,d=s.length,h=r.length,f=UA(t.padding);let m=f.height,p=0,g=r.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(g+=e.beforeBody.length+e.afterBody.length,u&&(m+=u*A.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){m+=h*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(g-h)*l.lineHeight+(g-1)*t.bodySpacing}d&&(m+=t.footerMarginTop+d*c.lineHeight+(d-1)*t.footerSpacing);let x=0;const b=function(e){p=Math.max(p,n.measureText(e).width+x)};return n.save(),n.font=A.string,Yo(e.title,b),n.font=l.string,Yo(e.beforeBody.concat(e.afterBody),b),x=t.displayColors?i+2+t.boxPadding:0,Yo(r,e=>{Yo(e.before,b),Yo(e.lines,b),Yo(e.after,b)}),x=0,n.font=c.string,Yo(e.footer,b),n.restore(),p+=f.width,{width:p,height:m}}function Xh(e,t,n,r){const{x:s,width:a}=n,{width:i,chartArea:{left:o,right:l}}=e;let A="center";return"center"===r?A=s<=(o+l)/2?"left":"right":s<=a/2?A="left":s>=i-a/2&&(A="right"),function(e,t,n,r){const{x:s,width:a}=r,i=n.caretSize+n.caretPadding;return"left"===e&&s+a+i>t.width||"right"===e&&s-a-i<0||void 0}(A,e,t,n)&&(A="center"),A}function Zh(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Xh(e,t,n,r),yAlign:r}}function $h(e,t,n,r){const{caretSize:s,caretPadding:a,cornerRadius:i}=e,{xAlign:o,yAlign:l}=n,A=s+a,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=_A(i);let f=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const m=function(e,t,n){let{y:r,height:s}=e;return"top"===t?r+=n:r-="bottom"===t?s+n:s/2,r}(t,l,A);return"center"===l?"left"===o?f+=A:"right"===o&&(f-=A):"left"===o?f-=Math.max(c,d)+s:"right"===o&&(f+=Math.max(u,h)+s),{x:_l(f,0,r.width-t.width),y:_l(m,0,r.height-t.height)}}function ef(e,t,n){const r=UA(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function tf(e){return Wh([],Gh(e))}function nf(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const rf={beforeTitle:To,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:To,beforeBody:To,beforeLabel:To,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Ho(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:To,afterBody:To,beforeFooter:To,footer:To,afterFooter:To};function sf(e,t,n,r){const s=e[t].call(n,r);return"undefined"===typeof s?rf[t].call(n,r):s}class af extends Xu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,s=new Ic(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,IA(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=sf(n,"beforeTitle",this,e),s=sf(n,"title",this,e),a=sf(n,"afterTitle",this,e);let i=[];return i=Wh(i,Gh(r)),i=Wh(i,Gh(s)),i=Wh(i,Gh(a)),i}getBeforeBody(e,t){return tf(sf(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return Yo(e,e=>{const t={before:[],lines:[],after:[]},s=nf(n,e);Wh(t.before,Gh(sf(s,"beforeLabel",this,e))),Wh(t.lines,sf(s,"label",this,e)),Wh(t.after,Gh(sf(s,"afterLabel",this,e))),r.push(t)}),r}getAfterBody(e,t){return tf(sf(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=sf(n,"beforeFooter",this,e),s=sf(n,"footer",this,e),a=sf(n,"afterFooter",this,e);let i=[];return i=Wh(i,Gh(r)),i=Wh(i,Gh(s)),i=Wh(i,Gh(a)),i}_createItems(e){const t=this._active,n=this.chart.data,r=[],s=[],a=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(Yh(this.chart,t[i]));return e.filter&&(l=l.filter((t,r,s)=>e.filter(t,r,s,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),Yo(l,t=>{const n=nf(e.callbacks,t);r.push(sf(n,"labelColor",this,t)),s.push(sf(n,"labelPointStyle",this,t)),a.push(sf(n,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(r.length){const e=qh[n.position].call(this,r,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=Jh(this,n),i=Object.assign({},e,t),o=Zh(this.chart,n,i),l=$h(n,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const s=this.getCaretPosition(e,n,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:i}=n,{topLeft:o,topRight:l,bottomLeft:A,bottomRight:c}=_A(i),{x:u,y:d}=e,{width:h,height:f}=t;let m,p,g,x,b,v;return"center"===s?(b=d+f/2,"left"===r?(m=u,p=m-a,x=b+a,v=b-a):(m=u+h,p=m+a,x=b-a,v=b+a),g=m):(p="left"===r?u+Math.max(o,A)+a:"right"===r?u+h-Math.max(l,c)-a:this.caretX,"top"===s?(x=d,b=x-a,m=p-a,g=p+a):(x=d+f,b=x+a,m=p+a,g=p-a),v=x),{x1:m,x2:p,x3:g,y1:x,y2:b,y3:v}}drawTitle(e,t,n){const r=this.title,s=r.length;let a,i,o;if(s){const l=xc(n.rtl,this.x,this.width);for(e.x=ef(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=QA(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,o=0;o<s;++o)t.fillText(r[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i,o+1===s&&(e.y+=n.titleMarginBottom-i)}}_drawColorBox(e,t,n,r,s){const a=this.labelColors[n],i=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=s,A=QA(s.bodyFont),c=ef(this,"left",s),u=r.x(c),d=o<A.lineHeight?(A.lineHeight-o)/2:0,h=t.y+d;if(s.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},n=r.leftForLtr(u,l)+l/2,A=h+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,fA(e,t,n,A),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,fA(e,t,n,A)}else{e.lineWidth=zo(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=r.leftForLtr(u,l),n=r.leftForLtr(r.xPlus(u,1),l-2),i=_A(a.borderRadius);Object.values(i).some(e=>0!==e)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,NA(e,{x:t,y:h,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),NA(e,{x:n,y:h+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,h,l,o),e.strokeRect(t,h,l,o),e.fillStyle=a.backgroundColor,e.fillRect(n,h+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:A}=n,c=QA(n.bodyFont);let u=c.lineHeight,d=0;const h=xc(n.rtl,this.x,this.width),f=function(n){t.fillText(n,h.x(e.x+d),e.y+u/2),e.y+=u+s},m=h.textAlign(a);let p,g,x,b,v,y,w;for(t.textAlign=a,t.textBaseline="middle",t.font=c.string,e.x=ef(this,m,n),t.fillStyle=n.bodyColor,Yo(this.beforeBody,f),d=i&&"right"!==m?"center"===a?l/2+A:l+2+A:0,b=0,y=r.length;b<y;++b){for(p=r[b],g=this.labelTextColors[b],t.fillStyle=g,Yo(p.before,f),x=p.lines,i&&x.length&&(this._drawColorBox(t,e,b,h,n),u=Math.max(c.lineHeight,o)),v=0,w=x.length;v<w;++v)f(x[v]),u=c.lineHeight;Yo(p.after,f)}d=0,u=c.lineHeight,Yo(this.afterBody,f),e.y-=s}drawFooter(e,t,n){const r=this.footer,s=r.length;let a,i;if(s){const o=xc(n.rtl,this.x,this.width);for(e.x=ef(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",a=QA(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,i=0;i<s;++i)t.fillText(r[i],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:s,yAlign:a}=this,{x:i,y:o}=e,{width:l,height:A}=n,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=_A(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(i+c,o),"top"===a&&this.drawCaret(e,t,n,r),t.lineTo(i+l-u,o),t.quadraticCurveTo(i+l,o,i+l,o+u),"center"===a&&"right"===s&&this.drawCaret(e,t,n,r),t.lineTo(i+l,o+A-h),t.quadraticCurveTo(i+l,o+A,i+l-h,o+A),"bottom"===a&&this.drawCaret(e,t,n,r),t.lineTo(i+d,o+A),t.quadraticCurveTo(i,o+A,i,o+A-d),"center"===a&&"left"===s&&this.drawCaret(e,t,n,r),t.lineTo(i,o+c),t.quadraticCurveTo(i,o,i+c,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const n=qh[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=Jh(this,e),i=Object.assign({},n,this._size),o=Zh(t,e,i),l=$h(e,i,o,t);r._to===l.x&&s._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=UA(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,t),bc(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),vc(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}),s=!Jo(n,r),a=this._positionChanged(r,t);(s||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,n),i=this._positionChanged(a,e),o=t||!Jo(a,s)||i;return o&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const s=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:r,options:s}=this,a=qh[s.position].call(this,e,t);return!1!==a&&(n!==a.x||r!==a.y)}}(0,a.A)(af,"positioners",qh);var of={id:"tooltip",_element:af,positioners:qh,afterInit(e,t,n){n&&(e.tooltip=new af({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",o(o({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rf},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},lf=Object.freeze({__proto__:null,Colors:ph,Decimation:bh,Filler:Dh,Legend:Hh,SubTitle:Vh,Title:zh,Tooltip:of});function Af(e,t,n,r){const s=e.indexOf(t);if(-1===s)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return s!==e.lastIndexOf(t)?n:s}function cf(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class uf extends od{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ho(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:_l(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Af(n,e,qo(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return cf.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function df(e,t){const n=[],{bounds:r,step:s,min:a,max:i,precision:o,count:l,maxTicks:A,maxDigits:c,includeBounds:u}=e,d=s||1,h=A-1,{min:f,max:m}=t,p=!Ho(a),g=!Ho(i),x=!Ho(l),b=(m-f)/(c+1);let v,y,w,B,N=vl((m-f)/h/d)*d;if(N<1e-14&&!p&&!g)return[{value:f},{value:m}];B=Math.ceil(m/N)-Math.floor(f/N),B>h&&(N=vl(B*N/h/d)*d),Ho(o)||(v=Math.pow(10,o),N=Math.ceil(N*v)/v),"ticks"===r?(y=Math.floor(f/N)*N,w=Math.ceil(m/N)*N):(y=f,w=m),p&&g&&s&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((i-a)/s,N/1e3)?(B=Math.round(Math.min((i-a)/N,A)),N=(i-a)/B,y=a,w=i):x?(y=p?a:y,w=g?i:w,B=l-1,N=(w-y)/B):(B=(w-y)/N,B=bl(B,Math.round(B),N/1e3)?Math.round(B):Math.ceil(B));const j=Math.max(jl(N),jl(y));v=Math.pow(10,Ho(o)?j:o),y=Math.round(y*v)/v,w=Math.round(w*v)/v;let C=0;for(p&&(u&&y!==a?(n.push({value:a}),y<a&&C++,bl(Math.round((y+C*N)*v)/v,a,hf(a,b,e))&&C++):y<a&&C++);C<B;++C){const e=Math.round((y+C*N)*v)/v;if(g&&e>i)break;n.push({value:e})}return g&&u&&w!==i?n.length&&bl(n[n.length-1].value,i,hf(i,b,e))?n[n.length-1].value=i:n.push({value:i}):g&&w!==i||n.push({value:w}),n}function hf(e,t,n){let{horizontal:r,minRotation:s}=n;const a=Bl(s),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}(0,a.A)(uf,"id","category"),(0,a.A)(uf,"defaults",{ticks:{callback:cf}});class ff extends od{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ho(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const a=e=>r=t?r:e,i=e=>s=n?s:e;if(e){const e=xl(r),t=xl(s);e<0&&t<0?i(0):e>0&&t>0&&a(0)}if(r===s){let t=0===s?1:Math.abs(.05*s);i(s+t),e||a(r-t)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=df({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&wl(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return tA(e,this.chart.options.locale,this.options.ticks.format)}}class mf extends ff{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ko(e)?e:0,this.max=Ko(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Bl(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,a.A)(mf,"id","linear"),(0,a.A)(mf,"defaults",{ticks:{callback:rA.formatters.numeric}});const pf=e=>Math.floor(gl(e)),gf=(e,t)=>Math.pow(10,pf(e)+t);function xf(e){return 1===e/Math.pow(10,pf(e))}function bf(e,t,n){const r=Math.pow(10,n),s=Math.floor(e/r);return Math.ceil(t/r)-s}function vf(e,t){let{min:n,max:r}=t;n=Vo(e.min,n);const s=[],a=pf(n);let i=function(e,t){let n=pf(t-e);for(;bf(e,t,n)>10;)n++;for(;bf(e,t,n)<10;)n--;return Math.min(n,pf(e))}(n,r),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),A=a>i?Math.pow(10,a):0,c=Math.round((n-A)*o)/o,u=Math.floor((n-A)/l/10)*l*10;let d=Math.floor((c-u)/Math.pow(10,i)),h=Vo(e.min,Math.round((A+u+d*Math.pow(10,i))*o)/o);for(;h<r;)s.push({value:h,major:xf(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(i++,d=2,o=i>=0?1:o),h=Math.round((A+u+d*Math.pow(10,i))*o)/o;const f=Vo(e.max,h);return s.push({value:f,major:xf(f),significand:d}),s}class yf extends od{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=ff.prototype.parse.apply(this,[e,t]);if(0!==n)return Ko(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ko(e)?Math.max(0,e):null,this.max=Ko(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ko(this._userMin)&&(this.min=e===gf(this.min,0)?gf(this.min,-1):gf(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const s=t=>n=e?n:t,a=e=>r=t?r:e;n===r&&(n<=0?(s(1),a(10)):(s(gf(n,-1)),a(gf(r,1)))),n<=0&&s(gf(r,-1)),r<=0&&a(gf(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=vf({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&wl(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":tA(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=gl(e),this._valueRange=gl(this.max)-gl(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(gl(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function wf(e){const t=e.ticks;if(t.display&&e.display){const e=UA(t.backdropPadding);return qo(t.font&&t.font.size,AA.font.size)+e.height}return 0}function Bf(e,t,n){return n=Ro(n)?n:[n],{w:uA(e,t.string,n),h:n.length*t.lineHeight}}function Nf(e,t,n,r,s){return e===r||e===s?{start:t-n/2,end:t+n/2}:e<r||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function jf(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],s=[],a=e._pointLabels.length,i=e.options.pointLabels,o=i.centerPointLabels?Al/a:0;for(let l=0;l<a;l++){const a=i.setContext(e.getPointLabelContext(l));s[l]=a.padding;const A=e.getPointPosition(l,e.drawingArea+s[l],o),c=QA(a.font),u=Bf(e.ctx,c,e._pointLabels[l]);r[l]=u;const d=Sl(e.getIndexAngle(l)+o),h=Math.round(Nl(d));Cf(n,t,d,Nf(h,A.x,u.w,0,180),Nf(h,A.y,u.h,90,270))}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],s=e._pointLabels.length,a=e.options,{centerPointLabels:i,display:o}=a.pointLabels,l={extra:wf(a)/2,additionalAngle:i?Al/s:0};let A;for(let c=0;c<s;c++){l.padding=n[c],l.size=t[c];const s=kf(e,c,l);r.push(s),"auto"===o&&(s.visible=Ff(s,A),s.visible&&(A=s))}return r}(e,r,s)}function Cf(e,t,n,r,s){const a=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),s.start<t.t?(l=(t.t-s.start)/i,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/i,e.b=Math.max(e.b,t.b+l))}function kf(e,t,n){const r=e.drawingArea,{extra:s,additionalAngle:a,padding:i,size:o}=n,l=e.getPointPosition(t,r+s+i,a),A=Math.round(Nl(Sl(l.angle+fl))),c=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,A),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(A),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,u);return{visible:!0,x:l.x,y:c,textAlign:u,left:d,top:c,right:d+o.w,bottom:c+o.h}}function Ff(e,t){if(!t)return!0;const{left:n,top:r,right:s,bottom:a}=e;return!(pA({x:n,y:r},t)||pA({x:n,y:a},t)||pA({x:s,y:r},t)||pA({x:s,y:a},t))}function Sf(e,t,n){const{left:r,top:s,right:a,bottom:i}=n,{backdropColor:o}=t;if(!Ho(o)){const n=_A(t.borderRadius),l=UA(t.backdropPadding);e.fillStyle=o;const A=r-l.left,c=s-l.top,u=a-r+l.width,d=i-s+l.height;Object.values(n).some(e=>0!==e)?(e.beginPath(),NA(e,{x:A,y:c,w:u,h:d,radius:n}),e.fill()):e.fillRect(A,c,u,d)}}function Ef(e,t,n,r){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,cl);else{let n=e.getPointPosition(0,t);s.moveTo(n.x,n.y);for(let a=1;a<r;a++)n=e.getPointPosition(a,t),s.lineTo(n.x,n.y)}}(0,a.A)(yf,"id","logarithmic"),(0,a.A)(yf,"defaults",{ticks:{callback:rA.formatters.logarithmic,major:{enabled:!0}}});class _f extends ff{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=UA(wf(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ko(e)&&!isNaN(e)?e:0,this.max=Ko(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wf(this.options))}generateTickLabels(e){ff.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const n=Go(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?jf(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Sl(e*(cl/(this._pointLabels.length||1))+Bl(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Ho(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ho(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return IA(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-fl+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Ef(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:s}=t,a=this._pointLabels.length;let i,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let s=t-1;s>=0;s--){const t=e._pointLabelItems[s];if(!t.visible)continue;const a=r.setContext(e.getPointLabelContext(s));Sf(n,a,t);const i=QA(a.font),{x:o,y:l,textAlign:A}=t;BA(n,e._pointLabels[s],o,l+i.lineHeight/2,i,{color:a.color,textAlign:A,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),i=r.setContext(n),l=s.setContext(n);!function(e,t,n,r,s){const a=e.ctx,i=t.circular,{color:o,lineWidth:l}=t;!i&&!r||!o||!l||n<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(s.dash||[]),a.lineDashOffset=s.dashOffset,a.beginPath(),Ef(e,n,i,r),a.closePath(),a.stroke(),a.restore())}(this,i,o,a,l)}}),n.display){for(e.save(),i=a-1;i>=0;i--){const r=n.setContext(this.getPointLabelContext(i)),{color:s,lineWidth:a}=r;a&&s&&(e.lineWidth=a,e.strokeStyle=s,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(i,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((r,i)=>{if(0===i&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(i)),l=QA(o.font);if(s=this.getDistanceFromCenterForValue(this.ticks[i].value),o.showLabelBackdrop){e.font=l.string,a=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=UA(o.backdropPadding);e.fillRect(-a/2-t.left,-s-l.size/2-t.top,a+t.width,l.size+t.height)}BA(e,r.label,0,-s,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),e.restore()}drawTitle(){}}(0,a.A)(_f,"id","radialLinear"),(0,a.A)(_f,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:rA.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,a.A)(_f,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,a.A)(_f,"descriptors",{angleLines:{_fallback:"grid"}});const Uf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qf=Object.keys(Uf);function Lf(e,t){return e-t}function If(e,t){if(Ho(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:a}=e._parseOpts;let i=t;return"function"===typeof r&&(i=r(i)),Ko(i)||(i="string"===typeof r?n.parse(i,r):n.parse(i)),null===i?null:(s&&(i="week"!==s||!yl(a)&&!0!==a?n.startOf(i,s):n.startOf(i,"isoWeek",a)),+i)}function Mf(e,t,n,r){const s=Qf.length;for(let a=Qf.indexOf(e);a<s-1;++a){const e=Uf[Qf[a]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(s*e.size))<=r)return Qf[a]}return Qf[s-1]}function Df(e,t,n){if(n){if(n.length){const{lo:r,hi:s}=Ql(n,t);e[n[r]>=t?n[r]:n[s]]=!0}}else e[t]=!0}function Pf(e,t,n){const r=[],s={},a=t.length;let i,o;for(i=0;i<a;++i)o=t[i],s[o]=i,r.push({value:o,major:!1});return 0!==a&&n?function(e,t,n,r){const s=e._adapter,a=+s.startOf(t[0].value,r),i=t[t.length-1].value;let o,l;for(o=a;o<=i;o=+s.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,s,n):r}class Tf extends od{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new hu(e.adapters.date);r.init(t),tl(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:If(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:i}=this.getUserBounds();function o(e){a||isNaN(e.min)||(r=Math.min(r,e.min)),i||isNaN(e.max)||(s=Math.max(s,e.max))}a&&i||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=Ko(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),s=Ko(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=function(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}(r,s,this.max);return this._unit=t.unit||(n.autoSkip?Mf(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,n,r,s){for(let a=Qf.length-1;a>=Qf.indexOf(n);a--){const n=Qf[a];if(Uf[n].common&&e._adapter.diff(s,r,n)>=t-1)return n}return Qf[n?Qf.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Qf.indexOf(e)+1,n=Qf.length;t<n;++t)if(Uf[Qf[t]].common)return Qf[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),Pf(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,s=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),s=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;r=_l(r,0,a),s=_l(s,0,a),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,s=r.time,a=s.unit||Mf(s.minUnit,t,n,this._getLabelCapacity(t)),i=qo(r.ticks.stepSize,1),o="week"===a&&s.isoWeekday,l=yl(o)||!0===o,A={};let c,u,d=t;if(l&&(d=+e.startOf(d,"isoWeek",o)),d=+e.startOf(d,l?"day":a),e.diff(n,t,a)>1e5*i)throw new Error(t+" and "+n+" are too far apart with stepSize of "+i+" "+a);const h="data"===r.ticks.source&&this.getDataTimestamps();for(c=d,u=0;c<n;c=+e.add(c,i,a),u++)Df(A,c,h);return c!==n&&"ticks"!==r.bounds&&1!==u||Df(A,c,h),Object.keys(A).sort(Lf).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,s=t||n[r];return this._adapter.format(e,s)}_tickFormatFunction(e,t,n,r){const s=this.options,a=s.ticks.callback;if(a)return Go(a,[e,t,n],this);const i=s.time.displayFormats,o=this._unit,l=this._majorUnit,A=o&&i[o],c=l&&i[l],u=n[t],d=l&&c&&u&&u.major;return this._adapter.format(e,r||(d?c:A))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Bl(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),a=Math.sin(r),i=this._resolveTickFontOptions(0).size;return{w:n*s+i*a,h:n*a+i*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,Pf(this,[e],this._majorUnit),r),a=this._getLabelSize(s),i=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(If(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Pl(e.sort(Lf))}}function Of(e,t,n){let r,s,a,i,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=Ll(e,"pos",t)),({pos:r,time:a}=e[o]),({pos:s,time:i}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=Ll(e,"time",t)),({time:r,pos:a}=e[o]),({time:s,pos:i}=e[l]));const A=s-r;return A?a+(i-a)*(t-r)/A:a}(0,a.A)(Tf,"id","time"),(0,a.A)(Tf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Hf extends Tf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Of(t,this.min),this._tableRange=Of(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],s=[];let a,i,o,l,A;for(a=0,i=e.length;a<i;++a)l=e[a],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,i=r.length;a<i;++a)A=r[a+1],o=r[a-1],l=r[a],Math.round((A+o)/2)!==l&&s.push({time:l,pos:a/(i-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Of(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Of(this._table,n*this._tableRange+this._minPos,!0)}}(0,a.A)(Hf,"id","timeseries"),(0,a.A)(Hf,"defaults",Tf.defaults);const Rf=[cu,Ah,lf,Object.freeze({__proto__:null,CategoryScale:uf,LinearScale:mf,LogarithmicScale:yf,RadialLinearScale:_f,TimeScale:Tf,TimeSeriesScale:Hf})];Pd.register(...Rf);const zf=Pd,Kf=Et("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Vf=Et("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),qf=Et("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),Wf=[{border:"#2B6CB0",background:"rgba(43,108,176,0.08)"},{border:"#6B7280",background:"rgba(107,114,128,0.08)"},{border:"#16A34A",background:"rgba(22,163,74,0.08)"},{border:"#D97706",background:"rgba(217,119,6,0.06)"},{border:"#44403C",background:"rgba(68,64,60,0.06)"},{border:"#475569",background:"rgba(71,85,105,0.06)"}],Gf=["#2B6CB0","#6B7280","#16A34A","#D97706","#475569","#94A3B8","#CBD5E1","#9CA3AF"],Yf=[{id:"faux-diplomes",name:"Faux dipl\xf4mes",subtitle:"D\xe9livrance ill\xe9gale",icon:"\ud83d\udcdc"},{id:"offre-formation-irreguliere",name:"Offre de formation\nirr\xe9guli\xe8re (non habilit\xe9)",subtitle:"Offre irr\xe9guli\xe8re",icon:"\ud83c\udf93"},{id:"recrutements-irreguliers",name:"Recrutements",subtitle:"Irr\xe9gularit\xe9s RH",icon:"\ud83d\udc65"},{id:"harcelement",name:"Harc\xe8lement",subtitle:"Signalements",icon:"\u26a0\ufe0f"},{id:"corruption",name:"Corruption",subtitle:"Malversations",icon:"\ud83d\udd34"},{id:"divers",name:"Divers",subtitle:"Autres",icon:"\ud83c\udff7\ufe0f"}],Jf=e=>{let{title:t,value:n,subtitle:r,icon:s,color:a,onClick:i,isActive:o}=e;return(0,wt.jsx)("div",{onClick:i,className:"bg-white rounded-xl p-4 shadow-sm border cursor-pointer transition-all duration-200 \n      ".concat(o?"ring-2 ring-blue-500 border-blue-500 bg-blue-50/30":"border-slate-100 hover:shadow-md hover:border-slate-200"),children:(0,wt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide ".concat(o?"text-blue-700":"text-slate-500"),children:t}),(0,wt.jsx)("p",{className:"mt-1 text-2xl font-bold text-slate-900",children:n}),r&&(0,wt.jsx)("p",{className:"text-xs text-slate-400 mt-0.5",children:r})]}),(0,wt.jsx)("div",{className:"p-2 rounded-lg ".concat(a," bg-opacity-10"),children:(0,wt.jsx)("span",{className:"text-xl",children:s})})]})})},Xf=e=>({en_cours:"En cours",investigation:"Ouverture d'enqu\xeates",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes",classifier:"Dossier class\xe9 sans suite"}[e]||e||"Statut inconnu"),Zf=e=>{let{isSorted:t,isAsc:n}=e;return t?n?(0,wt.jsx)(Vf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(qf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(Kf,{className:"w-3 h-3 text-gray-400"})};function $f(){const e=(0,t.useRef)(null),n=(0,t.useRef)(null),r=(0,t.useRef)(null),s=(0,t.useRef)(null),a=(0,t.useRef)(null),i=(0,t.useRef)(null),[l,A]=(de(),(0,t.useState)([])),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)({total:0,en_cours:0,investigation:0,transmis_autorite:0,classifier:0}),[f,m]=(0,t.useState)(0),[p,g]=(0,t.useState)(!0),[x,b]=(0,t.useState)(""),[v,y]=(0,t.useState)("year"),[w,B]=(0,t.useState)("all"),[N,j]=(0,t.useState)(1),[C,k]=(0,t.useState)(10),[F,S]=(0,t.useState)([]),[E,_]=(0,t.useState)(0),[U,Q]=(0,t.useState)(!1),[L,I]=(0,t.useState)({key:"date",direction:"desc"});(0,t.useEffect)(()=>(M(),D(),()=>{s.current&&s.current.destroy(),a.current&&a.current.destroy(),i.current&&i.current.destroy()}),[]),(0,t.useEffect)(()=>{c.length>0&&l.length>0&&(z(),K(),V())},[v,c,l]),(0,t.useEffect)(()=>{O()},[l,N,C,w,L]);const M=()=>{const e=Yf.map((e,t)=>o(o({},e),{},{total:0,encours:0,investigation:0,transmis_autorite:0,classifier:0,color:Wf[t]}));u(e)},D=async()=>{try{var e;g(!0),b("");const t=await is.get("/reports?per_page=5000"),n=Array.isArray(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)?t.data.data:[];A(n),n.length>0&&(T(n),P(n))}catch(t){console.error("Erreur dashboard:",t),b("Erreur lors du chargement des donn\xe9es")}finally{g(!1)}},P=e=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),1),r=e.filter(e=>e.created_at&&new Date(e.created_at)>=n).length;m(r)},T=e=>{const t=e.length,n=e.filter(e=>"en_cours"===e.status).length,r=e.filter(e=>"investigation"===e.status).length,s=e.filter(e=>"transmis_autorite"===e.status).length,a=e.filter(e=>"classifier"===e.status).length;h({total:t,en_cours:n,investigation:r,transmis_autorite:s,classifier:a});const i=Yf.map((t,n)=>{const r=e.filter(e=>e.category===t.id),s=r.filter(e=>"en_cours"===e.status).length,a=r.filter(e=>"investigation"===e.status).length,i=r.filter(e=>"transmis_autorite"===e.status).length,l=r.filter(e=>"classifier"===e.status).length;return o(o({},t),{},{total:r.length,encours:s,investigation:a,transmis_autorite:i,classifier:l,color:Wf[n]})});u(i)},O=()=>{let e=[...l];"all"!==w&&(e="en_cours"===w?e.filter(e=>"en_cours"===e.status||"investigation"===e.status):e.filter(e=>e.status===w)),e.sort((e,t)=>{if(!L.key)return 0;let n=e[L.key],r=t[L.key];return"date"===L.key&&(n=new Date(e.created_at||0),r=new Date(t.created_at||0)),"reference"===L.key&&(n=(e.reference||"REF-".concat(e.id)).toLowerCase(),r=(t.reference||"REF-".concat(t.id)).toLowerCase()),"description"===L.key&&(n=(e.description||"").toLowerCase(),r=(t.description||"").toLowerCase()),n<r?"asc"===L.direction?-1:1:n>r?"asc"===L.direction?1:-1:0}),_(e.length);const t=(N-1)*C,n=t+C,r=e.slice(t,n).map(e=>{const t=e.description||"Aucune description",n=t.length>80?t.substring(0,80)+"...":t,r=c.find(t=>t.id===e.category),s=r?r.name:e.category;return{id:e.id,reference:e.reference||"REF-".concat(e.id),date:e.created_at?new Date(e.created_at).toLocaleDateString("fr-FR"):"-",name:e.is_anonymous?"Anonyme":e.name||"Non sp\xe9cifi\xe9",category:s,regionprovince:e.region||"-",status:e.status,displayStatus:Xf(e.status),description:e.description||"Aucune description",shortDescription:n,rawStatus:e.status}});S(r)},H=e=>{I(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})),j(1)},R=e=>{let t;t="en_cours"===e?"en_cours"===w?"all":"en_cours":w===e?"all":e,B(t),j(1)},z=()=>{if(!e.current)return;const{labels:t,datasets:n}=(()=>{let e=[],t=[];const n=new Date,r=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"],s=(e,t)=>c.map(n=>{const r=e.map((e,r)=>{const s=t[r];return l.filter(e=>{if(!e.created_at)return!1;const t=new Date(e.created_at);return s(t)&&e.category===n.id}).length});return{label:n.name.replace(/\n/g," "),data:r,borderColor:n.color.border,backgroundColor:n.color.background,tension:.4,fill:!1,pointRadius:3,borderWidth:2}});if("day"===v){const r=new Date(n);r.setHours(r.getHours()-23);const a=Array.from({length:24},(e,t)=>new Date(r.getTime()+36e5*t));e=a.map(e=>"".concat(e.getHours(),"h"));const i=a.map(e=>t=>t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getHours()===e.getHours());t=s(e,i)}else if("week"===v){const r=new Date(n);r.setDate(r.getDate()-6);const a=Array.from({length:7},(e,t)=>new Date(r.getTime()+864e5*t));e=a.map(e=>"".concat(e.getDate(),"/").concat(e.getMonth()+1));const i=a.map(e=>t=>t.getDate()===e.getDate()&&t.getMonth()===e.getMonth());t=s(e,i)}else if("month"===v){e=["Sem 1","Sem 2","Sem 3","Sem 4"];const n=[0,1,2,3].map(e=>t=>Math.ceil(t.getDate()/7)===e+1);t=s(e,n)}else{const a=new Date(n.getFullYear(),n.getMonth()-11,1),i=Array.from({length:12},(e,t)=>new Date(a.getFullYear(),a.getMonth()+t,1));e=i.map(e=>r[e.getMonth()]);const o=i.map(e=>t=>t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear());t=s(e,o)}return{labels:e,datasets:t}})();s.current&&s.current.destroy();const r=e.current.getContext("2d");s.current=new zf(r,{type:"line",data:{labels:t,datasets:n},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,boxWidth:8,font:{size:9},padding:15}}},scales:{x:{grid:{display:!1},ticks:{font:{size:10}}},y:{beginAtZero:!0,grid:{borderDash:[2,4]},ticks:{font:{size:10}}}}}})},K=()=>{if(!n.current)return;a.current&&a.current.destroy();const{labels:e,datasets:t}=(()=>{const e=new Date,t=new Date(e.getFullYear(),e.getMonth()-11,1),n=Array.from({length:12},(e,n)=>new Date(t.getFullYear(),t.getMonth()+n,1)),r=["Jan","F\xe9v","Mar","Avr","Mai","Juin","Juil","Ao\xfbt","Sep","Oct","Nov","D\xe9c"],s=n.map(e=>r[e.getMonth()]),a=c.map(e=>({label:e.name.replace(/\n/g," "),data:n.map(t=>l.filter(n=>{const r=new Date(n.created_at);return r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()&&n.category===e.id}).length),backgroundColor:e.color.border,borderColor:e.color.border,borderWidth:1}));return{labels:s,datasets:a}})(),r=n.current.getContext("2d");a.current=new zf(r,{type:"bar",data:{labels:e,datasets:t},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,boxWidth:8,padding:10,font:{size:9}}}},scales:{x:{grid:{display:!1},ticks:{font:{size:10}}},y:{beginAtZero:!0,ticks:{callback:function(e){if(Number.isInteger(e))return e},font:{size:10}},title:{display:!0,text:"Nombre de signalements",font:{size:11}}}},datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}}})},V=()=>{if(!r.current)return;i.current&&i.current.destroy();const e=c.filter(e=>e.total>0),t=e.reduce((e,t)=>e+t.total,0),n=e.map(e=>t>0?(e.total/t*100).toFixed(1):0),s=e.map((e,t)=>"".concat(e.name.replace(/\n/g," ")," (").concat(n[t],"%)")),a=r.current.getContext("2d");i.current=new zf(a,{type:"doughnut",data:{labels:s,datasets:[{data:e.map(e=>e.total),backgroundColor:Gf,borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{boxWidth:10,font:{size:9},padding:12}},tooltip:{callbacks:{label:function(e){const t=e.label||"",n=e.raw||0,r=e.dataset.data.reduce((e,t)=>e+t,0),s=r>0?Math.round(n/r*100):0;return"".concat(t.split(" (")[0],": ").concat(n," (").concat(s,"%)")}}}}}})},q=()=>(0,wt.jsx)("div",{className:"absolute top-10 right-0 bg-white rounded-lg shadow-xl border border-gray-200 p-3 z-50 min-w-60",children:(0,wt.jsxs)("div",{className:"space-y-1",children:[(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>{y("day"),Q(!1)},children:"Jour"}),(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>{y("week"),Q(!1)},children:"Semaine"}),(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>{y("month"),Q(!1)},children:"Mois"}),(0,wt.jsx)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 rounded text-sm text-gray-700",onClick:()=>{y("year"),Q(!1)},children:"Ann\xe9e"})]})}),W=0===E?1:Math.ceil(E/C);return p?(0,wt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,wt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"})}):x?(0,wt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,wt.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md border-l-4 border-red-500",children:[(0,wt.jsx)("h3",{className:"text-red-600 font-bold text-sm",children:"Erreur"}),(0,wt.jsx)("p",{className:"text-slate-600 mt-1 text-sm",children:x}),(0,wt.jsx)("button",{type:"button",onClick:D,className:"mt-3 px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded text-xs",children:"R\xe9essayer"})]})}):(0,wt.jsx)("div",{className:"min-h-screen bg-slate-50 pb-8 font-sans text-slate-900",children:(0,wt.jsxs)("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-6 py-5 space-y-5",children:[(0,wt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:"Tableau de bord"}),(0,wt.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:"Vue d'ensemble synchronis\xe9e en temps r\xe9el"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("button",{className:"flex items-center space-x-1.5 px-3 py-1.5 border border-gray-300 rounded text-sm hover:bg-gray-50 bg-white",onClick:()=>Q(!U),children:[(0,wt.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,wt.jsx)("span",{className:"text-sm",children:"day"===v?"Jour":"week"===v?"Semaine":"month"===v?"Mois":"Ann\xe9e"})]}),U&&(0,wt.jsx)(q,{})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3",children:[(0,wt.jsx)(Jf,{title:"Total",value:d.total,subtitle:"Tous les signalements",icon:"\ud83d\udcca",color:"bg-blue-500",isActive:"all"===w,onClick:()=>R("all")}),(0,wt.jsx)(Jf,{title:"En cours",value:d.en_cours,subtitle:"Signalements en cours",icon:"\u23f3",color:"bg-yellow-500",isActive:"en_cours"===w,onClick:()=>R("en_cours")}),(0,wt.jsx)(Jf,{title:"Enqu\xeates",value:d.investigation,subtitle:"Investigation en cours",icon:"\ud83d\udd0d",color:"bg-purple-500",isActive:"investigation"===w,onClick:()=>R("investigation")}),(0,wt.jsx)(Jf,{title:"Transmis",value:d.transmis_autorite,subtitle:"Transmis pour action",icon:"\u2696\ufe0f",color:"bg-indigo-500",isActive:"transmis_autorite"===w,onClick:()=>R("transmis_autorite")}),(0,wt.jsx)(Jf,{title:"Class\xe9s",value:d.classifier,subtitle:"Class\xe9s sans suite",icon:"\ud83d\udccb",color:"bg-emerald-500",isActive:"classifier"===w,onClick:()=>R("classifier")})]}),(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:c.map(e=>(0,wt.jsxs)("div",{className:"bg-white rounded-xl p-3 shadow-sm border border-slate-100 hover:shadow-md transition",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("span",{className:"text-lg",children:e.icon}),(0,wt.jsxs)("div",{className:"min-w-0",children:[(0,wt.jsx)("p",{className:"text-xs font-semibold text-slate-800 whitespace-pre-line leading-tight",children:e.name}),(0,wt.jsx)("p",{className:"text-xs text-slate-400",children:e.subtitle})]})]}),(0,wt.jsx)("p",{className:"text-xl font-bold text-slate-900",children:e.total})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-4 gap-1.5 text-xs text-slate-500 border-t border-slate-100 pt-2",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"En cours"}),(0,wt.jsx)("p",{className:"font-semibold text-amber-600",children:e.encours})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"Enqu\xeates"}),(0,wt.jsx)("p",{className:"font-semibold text-purple-600",children:e.investigation})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"Transmis"}),(0,wt.jsx)("p",{className:"font-semibold text-indigo-600",children:e.transmis_autorite})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-[10px] uppercase tracking-wide",children:"Class\xe9s"}),(0,wt.jsx)("p",{className:"font-semibold text-emerald-600",children:e.classifier})]})]})]},e.id))}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,wt.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-slate-100 p-4",children:[(0,wt.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,wt.jsx)("h3",{className:"font-bold text-slate-800 text-sm",children:"\xc9volution temporelle"})}),(0,wt.jsx)("div",{className:"h-64 w-full",children:(0,wt.jsx)("canvas",{ref:e})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-4",children:[(0,wt.jsx)("h3",{className:"font-bold text-slate-800 mb-3 text-sm",children:"R\xe9partition par type"}),(0,wt.jsx)("div",{className:"h-64 w-full flex items-center justify-center",children:(0,wt.jsx)("canvas",{ref:r})})]})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 p-4",children:[(0,wt.jsx)("h3",{className:"font-bold text-slate-800 mb-3 text-sm",children:"D\xe9tails mensuels par cat\xe9gorie"}),(0,wt.jsx)("div",{className:"h-64 w-full",children:(0,wt.jsx)("canvas",{ref:n})}),(0,wt.jsx)("p",{className:"text-xs text-slate-500 mt-3 text-center",children:"Chaque cat\xe9gorie est repr\xe9sent\xe9e par des barres individuelles c\xf4te \xe0 c\xf4te pour chaque mois"})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden flex flex-col",children:[(0,wt.jsxs)("div",{className:"px-4 py-3 border-b border-slate-100 flex flex-col sm:flex-row sm:items-center justify-between gap-3 bg-white",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("h3",{className:"font-bold text-slate-800 text-base",children:"Liste des dossiers r\xe9cents"}),"all"!==w&&(0,wt.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-blue-50 text-blue-700 text-xs font-semibold border border-blue-100",children:["Filtre : ",Xf(w),(0,wt.jsx)("button",{type:"button",onClick:()=>R("all"),className:"ml-0.5 p-0.5 hover:bg-blue-100 rounded-full",children:(0,wt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:(0,wt.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,wt.jsx)("span",{className:"text-slate-500 text-xs",children:"Lignes :"}),(0,wt.jsxs)("select",{value:C,onChange:e=>{k(Number(e.target.value)),j(1)},className:"form-select text-xs border-slate-300 rounded focus:ring-blue-500 focus:border-blue-500 py-1 px-2 bg-slate-50",children:[(0,wt.jsx)("option",{value:5,children:"5"}),(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:20,children:"20"}),(0,wt.jsx)("option",{value:50,children:"50"})]})]})]}),(0,wt.jsx)("div",{className:"overflow-x-auto",children:(0,wt.jsxs)("table",{className:"min-w-full divide-y divide-slate-100 text-xs",children:[(0,wt.jsx)("thead",{className:"bg-slate-50/50",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:(0,wt.jsxs)("button",{onClick:()=>H("id"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,wt.jsx)("span",{children:"ID"}),(0,wt.jsx)(Zf,{isSorted:"id"===L.key,isAsc:"asc"===L.direction})]})}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:(0,wt.jsxs)("button",{onClick:()=>H("reference"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,wt.jsx)("span",{children:"R\xc9F\xc9RENCE"}),(0,wt.jsx)(Zf,{isSorted:"reference"===L.key,isAsc:"asc"===L.direction})]})}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:(0,wt.jsxs)("button",{onClick:()=>H("date"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,wt.jsx)("span",{children:"DATE"}),(0,wt.jsx)(Zf,{isSorted:"date"===L.key,isAsc:"asc"===L.direction})]})}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"NOM / PR\xc9NOM"}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider min-w-[120px]",children:"CAT\xc9GORIE"}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:(0,wt.jsxs)("button",{onClick:()=>H("description"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full text-left",children:[(0,wt.jsx)("span",{children:"DESCRIPTION"}),(0,wt.jsx)(Zf,{isSorted:"description"===L.key,isAsc:"asc"===L.direction})]})}),(0,wt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-bold text-slate-500 uppercase tracking-wider",children:"STATUT"})]})}),(0,wt.jsx)("tbody",{className:"bg-white divide-y divide-slate-100",children:0===F.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:"7",className:"px-4 py-8 text-center",children:(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[(0,wt.jsx)("span",{className:"text-3xl mb-1",children:"\ud83d\udd0d"}),(0,wt.jsx)("p",{className:"text-xs",children:"Aucun dossier trouv\xe9 pour ce filtre."})]})})}):F.map(e=>(0,wt.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group cursor-default",children:[(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs font-mono font-medium text-slate-700",children:e.id}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs font-mono font-medium text-blue-600 group-hover:text-blue-700",children:e.reference}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-slate-500",children:e.date}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-xs font-medium text-slate-900",children:e.name}),(0,wt.jsx)("td",{className:"px-4 py-3 text-xs text-slate-600 whitespace-pre-line leading-tight",children:e.category}),(0,wt.jsx)("td",{className:"px-4 py-3 max-w-[180px]",children:(0,wt.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2",children:e.shortDescription})}),(0,wt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap",children:(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-yellow-100 text-yellow-800":"transmis_autorite"===e.status?"bg-indigo-100 text-indigo-800":"classifier"===e.status?"bg-blue-100 text-blue-800":"investigation"===e.status?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:e.displayStatus})})]},e.id))})]})}),(0,wt.jsxs)("div",{className:"bg-white px-4 py-3 border-t border-slate-100 flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,wt.jsx)("span",{className:"text-slate-500",children:"\xc9l\xe9ments par page :"}),(0,wt.jsxs)("select",{value:C,onChange:e=>{k(Number(e.target.value)),j(1)},className:"px-2 py-1 border rounded text-xs",children:[(0,wt.jsx)("option",{value:5,children:"5"}),(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:20,children:"20"}),(0,wt.jsx)("option",{value:50,children:"50"})]}),(0,wt.jsxs)("span",{className:"text-gray-500",children:[0===E?0:(N-1)*C+1,"-",Math.min(N*C,E)," sur"," ",E]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>j(e=>Math.max(1,e-1)),disabled:1===N,className:"p-1 border rounded disabled:opacity-50 hover:bg-gray-50",children:(0,wt.jsx)(_t,{className:"w-3 h-3"})}),(()=>{const e=[];if(W<=7)for(let t=1;t<=W;t++)e.push(t);else{e.push(1);let t=Math.max(2,N-2),n=Math.min(W-1,N+2);N<=3&&(n=5),N>=W-2&&(t=W-5+1),t>2&&e.push("...");for(let r=t;r<=n;r++)e.push(r);n<W-1&&e.push("..."),e.push(W)}return e})().map((e,t)=>"..."===e?(0,wt.jsx)("span",{className:"px-1.5 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,wt.jsx)("button",{onClick:()=>j(e),className:"px-2 py-0.5 text-xs border rounded ".concat(N===e?"bg-blue-600 text-white":"bg-white hover:bg-gray-50"),children:e},e)),(0,wt.jsx)("button",{onClick:()=>j(e=>Math.min(W,e+1)),disabled:N===W||0===W,className:"p-1 border rounded disabled:opacity-50 hover:bg-gray-50",children:(0,wt.jsx)(Os,{className:"w-3 h-3"})})]})]})]})]})})}const em=Et("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),tm=Et("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),nm=Et("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),rm=Et("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),sm=Et("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),am=Et("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),im=Et("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),om=Et("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),lm=Et("chart-no-axes-column-increasing",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]]);var Am=n(2284),cm=Uint8Array,um=Uint16Array,dm=Int32Array,hm=new cm([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fm=new cm([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mm=new cm([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pm=function(e,t){for(var n=new um(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var s=new dm(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)s[a]=a-n[r]<<5|r;return{b:n,r:s}},gm=pm(hm,2),xm=gm.b,bm=gm.r;xm[28]=258,bm[258]=28;for(var vm=pm(fm,0),ym=(vm.b,vm.r),wm=new um(32768),Bm=0;Bm<32768;++Bm){var Nm=(43690&Bm)>>1|(21845&Bm)<<1;Nm=(61680&(Nm=(52428&Nm)>>2|(13107&Nm)<<2))>>4|(3855&Nm)<<4,wm[Bm]=((65280&Nm)>>8|(255&Nm)<<8)>>1}var jm=function(e,t,n){for(var r=e.length,s=0,a=new um(t);s<r;++s)e[s]&&++a[e[s]-1];var i,o=new um(t);for(s=1;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;if(n){i=new um(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var A=s<<4|e[s],c=t-e[s],u=o[e[s]-1]++<<c,d=u|(1<<c)-1;u<=d;++u)i[wm[u]>>l]=A}else for(i=new um(r),s=0;s<r;++s)e[s]&&(i[s]=wm[o[e[s]-1]++]>>15-e[s]);return i},Cm=new cm(288);for(Bm=0;Bm<144;++Bm)Cm[Bm]=8;for(Bm=144;Bm<256;++Bm)Cm[Bm]=9;for(Bm=256;Bm<280;++Bm)Cm[Bm]=7;for(Bm=280;Bm<288;++Bm)Cm[Bm]=8;var km=new cm(32);for(Bm=0;Bm<32;++Bm)km[Bm]=5;var Fm=jm(Cm,9,0),Sm=jm(km,5,0),Em=function(e){return(e+7)/8|0},_m=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new cm(e.subarray(t,n))},Um=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Qm=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Lm=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,a=n.slice();if(!s)return{t:Hm,l:0};if(1==s){var i=new cm(n[0].s+1);return i[n[0].s]=1,{t:i,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],A=0,c=1,u=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=s-1;)o=n[n[A].f<n[u].f?A++:u++],l=n[A!=c&&n[A].f<n[u].f?A++:u++],n[c++]={s:-1,f:o.f+l.f,l:o,r:l};var d=a[0].s;for(r=1;r<s;++r)a[r].s>d&&(d=a[r].s);var h=new um(d+1),f=Im(n[c-1],h,0);if(f>t){r=0;var m=0,p=f-t,g=1<<p;for(a.sort(function(e,t){return h[t.s]-h[e.s]||e.f-t.f});r<s;++r){var x=a[r].s;if(!(h[x]>t))break;m+=g-(1<<f-h[x]),h[x]=t}for(m>>=p;m>0;){var b=a[r].s;h[b]<t?m-=1<<t-h[b]++-1:++r}for(;r>=0&&m;--r){var v=a[r].s;h[v]==t&&(--h[v],++m)}f=t}return{t:new cm(h),l:f}},Im=function(e,t,n){return-1==e.s?Math.max(Im(e.l,t,n+1),Im(e.r,t,n+1)):t[e.s]=n},Mm=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new um(++t),r=0,s=e[0],a=1,i=function(e){n[r++]=e},o=1;o<=t;++o)if(e[o]==s&&o!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[o]}return{c:n.subarray(0,r),n:t}},Dm=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Pm=function(e,t,n){var r=n.length,s=Em(t+2);e[s]=255&r,e[s+1]=r>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var a=0;a<r;++a)e[s+a+4]=n[a];return 8*(s+4+r)},Tm=function(e,t,n,r,s,a,i,o,l,A,c){Um(t,c++,n),++s[256];for(var u=Lm(s,15),d=u.t,h=u.l,f=Lm(a,15),m=f.t,p=f.l,g=Mm(d),x=g.c,b=g.n,v=Mm(m),y=v.c,w=v.n,B=new um(19),N=0;N<x.length;++N)++B[31&x[N]];for(N=0;N<y.length;++N)++B[31&y[N]];for(var j=Lm(B,7),C=j.t,k=j.l,F=19;F>4&&!C[mm[F-1]];--F);var S,E,_,U,Q=A+5<<3,L=Dm(s,Cm)+Dm(a,km)+i,I=Dm(s,d)+Dm(a,m)+i+14+3*F+Dm(B,C)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&Q<=L&&Q<=I)return Pm(t,c,e.subarray(l,l+A));if(Um(t,c,1+(I<L)),c+=2,I<L){S=jm(d,h,0),E=d,_=jm(m,p,0),U=m;var M=jm(C,k,0);Um(t,c,b-257),Um(t,c+5,w-1),Um(t,c+10,F-4),c+=14;for(N=0;N<F;++N)Um(t,c+3*N,C[mm[N]]);c+=3*F;for(var D=[x,y],P=0;P<2;++P){var T=D[P];for(N=0;N<T.length;++N){var O=31&T[N];Um(t,c,M[O]),c+=C[O],O>15&&(Um(t,c,T[N]>>5&127),c+=T[N]>>12)}}}else S=Fm,E=Cm,_=Sm,U=km;for(N=0;N<o;++N){var H=r[N];if(H>255){Qm(t,c,S[(O=H>>18&31)+257]),c+=E[O+257],O>7&&(Um(t,c,H>>23&31),c+=hm[O]);var R=31&H;Qm(t,c,_[R]),c+=U[R],R>3&&(Qm(t,c,H>>5&8191),c+=fm[R])}else Qm(t,c,S[H]),c+=E[H]}return Qm(t,c,S[256]),c+E[256]},Om=new dm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Hm=new cm(0),Rm=function(e,t,n,r,s,a){var i=a.z||e.length,o=new cm(r+i+5*(1+Math.ceil(i/7e3))+s),l=o.subarray(r,o.length-s),A=a.l,c=7&(a.r||0);if(t){c&&(l[0]=a.r>>3);for(var u=Om[t-1],d=u>>13,h=8191&u,f=(1<<n)-1,m=a.p||new um(32768),p=a.h||new um(f+1),g=Math.ceil(n/3),x=2*g,b=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<x)&f},v=new dm(25e3),y=new um(288),w=new um(32),B=0,N=0,j=a.i||0,C=0,k=a.w||0,F=0;j+2<i;++j){var S=b(j),E=32767&j,_=p[S];if(m[E]=_,p[S]=E,k<=j){var U=i-j;if((B>7e3||C>24576)&&(U>423||!A)){c=Tm(e,l,0,v,y,w,N,C,F,j-F,c),C=B=N=0,F=j;for(var Q=0;Q<286;++Q)y[Q]=0;for(Q=0;Q<30;++Q)w[Q]=0}var L=2,I=0,M=h,D=E-_&32767;if(U>2&&S==b(j-D))for(var P=Math.min(d,U)-1,T=Math.min(32767,j),O=Math.min(258,U);D<=T&&--M&&E!=_;){if(e[j+L]==e[j+L-D]){for(var H=0;H<O&&e[j+H]==e[j+H-D];++H);if(H>L){if(L=H,I=D,H>P)break;var R=Math.min(D,H-2),z=0;for(Q=0;Q<R;++Q){var K=j-D+Q&32767,V=K-m[K]&32767;V>z&&(z=V,_=K)}}}D+=(E=_)-(_=m[E])&32767}if(I){v[C++]=268435456|bm[L]<<18|ym[I];var q=31&bm[L],W=31&ym[I];N+=hm[q]+fm[W],++y[257+q],++w[W],k=j+L,++B}else v[C++]=e[j],++y[e[j]]}}for(j=Math.max(j,k);j<i;++j)v[C++]=e[j],++y[e[j]];c=Tm(e,l,A,v,y,w,N,C,F,j-F,c),A||(a.r=7&c|l[c/8|0]<<3,c-=7,a.h=p,a.p=m,a.i=j,a.w=k)}else{for(j=a.w||0;j<i+A;j+=65535){var G=j+65535;G>=i&&(l[c/8|0]=A,G=i),c=Pm(l,c+1,e.subarray(j,G))}a.i=i}return _m(o,0,r+Em(c)+s)},zm=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,a=0|n.length,i=0;i!=a;){for(var o=Math.min(i+2655,a);i<o;++i)s+=r+=n[i];r=(65535&r)+15*(r>>16),s=(65535&s)+15*(s>>16)}e=r,t=s},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Km=function(e,t,n,r,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),i=new cm(a.length+e.length);i.set(a),i.set(e,a.length),e=i,s.w=a.length}return Rm(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,s)},Vm=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},qm=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=zm();s.p(t.dictionary),Vm(e,2,s.d())}};function Wm(e,t){t||(t={});var n=zm();n.p(e);var r=Km(e,t,t.dictionary?6:2,4);return qm(r,t),Vm(r,r.length-4,n.d()),r}var Gm="undefined"!=typeof TextDecoder&&new TextDecoder;try{Gm.decode(Hm,{stream:!0})}catch(NN){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function Ym(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Jm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,a,i,o=[],l=!0,A=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){A=!0,s=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(A)throw s}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ym(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ym(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xm(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const Zm=new TextEncoder;const $m=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),ep={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class tp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,a.A)(this,"buffer",void 0),(0,a.A)(this,"byteLength",void 0),(0,a.A)(this,"byteOffset",void 0),(0,a.A)(this,"length",void 0),(0,a.A)(this,"offset",void 0),(0,a.A)(this,"lastWrittenByte",void 0),(0,a.A)(this,"littleEndian",void 0),(0,a.A)(this,"_data",void 0),(0,a.A)(this,"_mark",void 0),(0,a.A)(this,"_marks",void 0);let n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,s=e.byteLength-r;let i=r;(ArrayBuffer.isView(e)||e instanceof tp)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+r),e=e.buffer),this.lastWrittenByte=n?s:0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,s),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=ep[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+n);if(this.littleEndian===$m&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const s=new ep[t](e.buffer);return this.offset+=n,s.reverse(),s}const a=new ep[t](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Xm(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return Xm(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return Zm.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function np(e){let t=e.length;for(;--t>=0;)e[t]=0}const rp=256,sp=286,ap=30,ip=15,op=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),lp=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ap=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),cp=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),up=new Array(576);np(up);const dp=new Array(60);np(dp);const hp=new Array(512);np(hp);const fp=new Array(256);np(fp);const mp=new Array(29);np(mp);const pp=new Array(ap);function gp(e,t,n,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}let xp,bp,vp;function yp(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}np(pp);const wp=e=>e<256?hp[e]:hp[256+(e>>>7)],Bp=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Np=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Bp(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},jp=(e,t,n)=>{Np(e,n[2*t],n[2*t+1])},Cp=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},kp=(e,t,n)=>{const r=new Array(16);let s,a,i=0;for(s=1;s<=ip;s++)i=i+n[s-1]<<1,r[s]=i;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=Cp(r[t]++,t))}},Fp=e=>{let t;for(t=0;t<sp;t++)e.dyn_ltree[2*t]=0;for(t=0;t<ap;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Sp=e=>{e.bi_valid>8?Bp(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ep=(e,t,n,r)=>{const s=2*t,a=2*n;return e[s]<e[a]||e[s]===e[a]&&r[t]<=r[n]},_p=(e,t,n)=>{const r=e.heap[n];let s=n<<1;for(;s<=e.heap_len&&(s<e.heap_len&&Ep(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!Ep(t,r,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=r},Up=(e,t,n)=>{let r,s,a,i,o=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+o++],r+=(255&e.pending_buf[e.sym_buf+o++])<<8,s=e.pending_buf[e.sym_buf+o++],0===r?jp(e,s,t):(a=fp[s],jp(e,a+rp+1,t),i=op[a],0!==i&&(s-=mp[a],Np(e,s,i)),r--,a=wp(r),jp(e,a,n),i=lp[a],0!==i&&(r-=pp[a],Np(e,r,i)))}while(o<e.sym_next);jp(e,256,t)},Qp=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.elems;let i,o,l,A=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<a;i++)0!==n[2*i]?(e.heap[++e.heap_len]=A=i,e.depth[i]=0):n[2*i+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=A<2?++A:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,s&&(e.static_len-=r[2*l+1]);for(t.max_code=A,i=e.heap_len>>1;i>=1;i--)_p(e,n,i);l=a;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_p(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=o,n[2*l]=n[2*i]+n[2*o],e.depth[l]=(e.depth[i]>=e.depth[o]?e.depth[i]:e.depth[o])+1,n[2*i+1]=n[2*o+1]=l,e.heap[1]=l++,_p(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let A,c,u,d,h,f,m=0;for(d=0;d<=ip;d++)e.bl_count[d]=0;for(n[2*e.heap[e.heap_max]+1]=0,A=e.heap_max+1;A<573;A++)c=e.heap[A],d=n[2*n[2*c+1]+1]+1,d>l&&(d=l,m++),n[2*c+1]=d,c>r||(e.bl_count[d]++,h=0,c>=o&&(h=i[c-o]),f=n[2*c],e.opt_len+=f*(d+h),a&&(e.static_len+=f*(s[2*c+1]+h)));if(0!==m){do{for(d=l-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(d=l;0!==d;d--)for(c=e.bl_count[d];0!==c;)u=e.heap[--A],u>r||(n[2*u+1]!==d&&(e.opt_len+=(d-n[2*u+1])*n[2*u],n[2*u+1]=d),c--)}})(e,t),kp(n,A,e.bl_count)},Lp=(e,t,n)=>{let r,s,a=-1,i=t[1],o=0,l=7,A=4;for(0===i&&(l=138,A=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)s=i,i=t[2*(r+1)+1],++o<l&&s===i||(o<A?e.bl_tree[2*s]+=o:0!==s?(s!==a&&e.bl_tree[2*s]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=s,0===i?(l=138,A=3):s===i?(l=6,A=3):(l=7,A=4))},Ip=(e,t,n)=>{let r,s,a=-1,i=t[1],o=0,l=7,A=4;for(0===i&&(l=138,A=3),r=0;r<=n;r++)if(s=i,i=t[2*(r+1)+1],!(++o<l&&s===i)){if(o<A)do{jp(e,s,e.bl_tree)}while(0!==--o);else 0!==s?(s!==a&&(jp(e,s,e.bl_tree),o--),jp(e,16,e.bl_tree),Np(e,o-3,2)):o<=10?(jp(e,17,e.bl_tree),Np(e,o-3,3)):(jp(e,18,e.bl_tree),Np(e,o-11,7));o=0,a=s,0===i?(l=138,A=3):s===i?(l=6,A=3):(l=7,A=4)}};let Mp=!1;const Dp=(e,t,n,r)=>{Np(e,0+(r?1:0),3),Sp(e),Bp(e,n),Bp(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var Pp=e=>{Mp||((()=>{let e,t,n,r,s;const a=new Array(16);for(n=0,r=0;r<28;r++)for(mp[r]=n,e=0;e<1<<op[r];e++)fp[n++]=r;for(fp[n-1]=r,s=0,r=0;r<16;r++)for(pp[r]=s,e=0;e<1<<lp[r];e++)hp[s++]=r;for(s>>=7;r<ap;r++)for(pp[r]=s<<7,e=0;e<1<<lp[r]-7;e++)hp[256+s++]=r;for(t=0;t<=ip;t++)a[t]=0;for(e=0;e<=143;)up[2*e+1]=8,e++,a[8]++;for(;e<=255;)up[2*e+1]=9,e++,a[9]++;for(;e<=279;)up[2*e+1]=7,e++,a[7]++;for(;e<=287;)up[2*e+1]=8,e++,a[8]++;for(kp(up,287,a),e=0;e<ap;e++)dp[2*e+1]=5,dp[2*e]=Cp(e,5);xp=new gp(up,op,257,sp,ip),bp=new gp(dp,lp,0,ap,ip),vp=new gp(new Array(0),Ap,0,19,7)})(),Mp=!0),e.l_desc=new yp(e.dyn_ltree,xp),e.d_desc=new yp(e.dyn_dtree,bp),e.bl_desc=new yp(e.bl_tree,vp),e.bi_buf=0,e.bi_valid=0,Fp(e)},Tp=(e,t,n,r)=>{let s,a,i=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<rp;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Qp(e,e.l_desc),Qp(e,e.d_desc),i=(e=>{let t;for(Lp(e,e.dyn_ltree,e.l_desc.max_code),Lp(e,e.dyn_dtree,e.d_desc.max_code),Qp(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*cp[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),s=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=s&&(s=a)):s=a=n+5,n+4<=s&&-1!==t?Dp(e,t,n,r):4===e.strategy||a===s?(Np(e,2+(r?1:0),3),Up(e,up,dp)):(Np(e,4+(r?1:0),3),((e,t,n,r)=>{let s;for(Np(e,t-257,5),Np(e,n-1,5),Np(e,r-4,4),s=0;s<r;s++)Np(e,e.bl_tree[2*cp[s]+1],3);Ip(e,e.dyn_ltree,t-1),Ip(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,i+1),Up(e,e.dyn_ltree,e.dyn_dtree)),Fp(e),r&&Sp(e)},Op=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(fp[n]+rp+1)]++,e.dyn_dtree[2*wp(t)]++),e.sym_next===e.sym_end),Hp=e=>{Np(e,2,3),jp(e,256,up),(e=>{16===e.bi_valid?(Bp(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},Rp={_tr_init:Pp,_tr_stored_block:Dp,_tr_flush_block:Tp,_tr_tally:Op,_tr_align:Hp};var zp=(e,t,n,r)=>{let s=65535&e,a=e>>>16&65535,i=0;for(;0!==n;){i=n>2e3?2e3:n,n-=i;do{s=s+t[r++]|0,a=a+s|0}while(--i);s%=65521,a%=65521}return s|a<<16};const Kp=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Vp=(e,t,n,r)=>{const s=Kp,a=r+n;e^=-1;for(let i=r;i<a;i++)e=e>>>8^s[255&(e^t[i])];return-1^e},qp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Wp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Gp,_tr_stored_block:Yp,_tr_flush_block:Jp,_tr_tally:Xp,_tr_align:Zp}=Rp,{Z_NO_FLUSH:$p,Z_PARTIAL_FLUSH:eg,Z_FULL_FLUSH:tg,Z_FINISH:ng,Z_BLOCK:rg,Z_OK:sg,Z_STREAM_END:ag,Z_STREAM_ERROR:ig,Z_DATA_ERROR:og,Z_BUF_ERROR:lg,Z_DEFAULT_COMPRESSION:Ag,Z_FILTERED:cg,Z_HUFFMAN_ONLY:ug,Z_RLE:dg,Z_FIXED:hg,Z_DEFAULT_STRATEGY:fg,Z_UNKNOWN:mg,Z_DEFLATED:pg}=Wp,gg=258,xg=262,bg=42,vg=113,yg=666,wg=(e,t)=>(e.msg=qp[t],t),Bg=e=>2*e-(e>4?9:0),Ng=e=>{let t=e.length;for(;--t>=0;)e[t]=0},jg=e=>{let t,n,r,s=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=s?n-s:0}while(--t);t=s,r=t;do{n=e.prev[--r],e.prev[r]=n>=s?n-s:0}while(--t)};let Cg=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const kg=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Fg=(e,t)=>{Jp(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,kg(e.strm)},Sg=(e,t)=>{e.pending_buf[e.pending++]=t},Eg=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},_g=(e,t,n,r)=>{let s=e.avail_in;return s>r&&(s=r),0===s?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),n),1===e.state.wrap?e.adler=zp(e.adler,t,s,n):2===e.state.wrap&&(e.adler=Vp(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)},Ug=(e,t)=>{let n,r,s=e.max_chain_length,a=e.strstart,i=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-xg?e.strstart-(e.w_size-xg):0,A=e.window,c=e.w_mask,u=e.prev,d=e.strstart+gg;let h=A[a+i-1],f=A[a+i];e.prev_length>=e.good_match&&(s>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,A[n+i]===f&&A[n+i-1]===h&&A[n]===A[a]&&A[++n]===A[a+1]){a+=2,n++;do{}while(A[++a]===A[++n]&&A[++a]===A[++n]&&A[++a]===A[++n]&&A[++a]===A[++n]&&A[++a]===A[++n]&&A[++a]===A[++n]&&A[++a]===A[++n]&&A[++a]===A[++n]&&a<d);if(r=gg-(d-a),a=d-gg,r>i){if(e.match_start=t,i=r,r>=o)break;h=A[a+i-1],f=A[a+i]}}}while((t=u[t&c])>l&&0!==--s);return i<=e.lookahead?i:e.lookahead},Qg=e=>{const t=e.w_size;let n,r,s;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-xg)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),jg(e),r+=t),0===e.strm.avail_in)break;if(n=_g(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Cg(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Cg(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<xg&&0!==e.strm.avail_in)},Lg=(e,t)=>{let n,r,s,a=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i=0,o=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s)break;if(s=e.strm.avail_out-s,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>s&&(n=s),n<a&&(0===n&&t!==ng||t===$p||n!==r+e.strm.avail_in))break;i=t===ng&&n===r+e.strm.avail_in?1:0,Yp(e,0,0,i),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,kg(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(_g(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===i);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),i?4:t!==$p&&t!==ng&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(_g(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,a=s>e.w_size?e.w_size:s,r=e.strstart-e.block_start,(r>=a||(r||t===ng)&&t!==$p&&0===e.strm.avail_in&&r<=s)&&(n=r>s?s:r,i=t===ng&&0===e.strm.avail_in&&n===r?1:0,Yp(e,e.block_start,n,i),e.block_start+=n,kg(e.strm)),i?3:1)},Ig=(e,t)=>{let n,r;for(;;){if(e.lookahead<xg){if(Qg(e),e.lookahead<xg&&t===$p)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Cg(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-xg&&(e.match_length=Ug(e,n)),e.match_length>=3)if(r=Xp(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Cg(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Cg(e,e.ins_h,e.window[e.strstart+1]);else r=Xp(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Fg(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ng?(Fg(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fg(e,!1),0===e.strm.avail_out)?1:2},Mg=(e,t)=>{let n,r,s;for(;;){if(e.lookahead<xg){if(Qg(e),e.lookahead<xg&&t===$p)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Cg(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-xg&&(e.match_length=Ug(e,n),e.match_length<=5&&(e.strategy===cg||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-3,r=Xp(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=Cg(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Fg(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=Xp(e,0,e.window[e.strstart-1]),r&&Fg(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Xp(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ng?(Fg(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fg(e,!1),0===e.strm.avail_out)?1:2};function Dg(e,t,n,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=s}const Pg=[new Dg(0,0,0,0,Lg),new Dg(4,4,8,4,Ig),new Dg(4,5,16,8,Ig),new Dg(4,6,32,32,Ig),new Dg(4,4,16,16,Mg),new Dg(8,16,32,32,Mg),new Dg(8,16,128,128,Mg),new Dg(8,32,128,256,Mg),new Dg(32,128,258,1024,Mg),new Dg(32,258,258,4096,Mg)];function Tg(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pg,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ng(this.dyn_ltree),Ng(this.dyn_dtree),Ng(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ng(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ng(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Og=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==bg&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==vg&&t.status!==yg?1:0},Hg=e=>{if(Og(e))return wg(e,ig);e.total_in=e.total_out=0,e.data_type=mg;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?bg:vg,e.adler=2===t.wrap?0:1,t.last_flush=-2,Gp(t),sg},Rg=e=>{const t=Hg(e);return t===sg&&(e=>{e.window_size=2*e.w_size,Ng(e.head),e.max_lazy_match=Pg[e.level].max_lazy,e.good_match=Pg[e.level].good_length,e.nice_match=Pg[e.level].nice_length,e.max_chain_length=Pg[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},zg=(e,t,n,r,s,a)=>{if(!e)return ig;let i=1;if(t===Ag&&(t=6),r<0?(i=0,r=-r):r>15&&(i=2,r-=16),s<1||s>9||n!==pg||r<8||r>15||t<0||t>9||a<0||a>hg||8===r&&1!==i)return wg(e,ig);8===r&&(r=9);const o=new Tg;return e.state=o,o.strm=e,o.status=bg,o.wrap=i,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=s+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<s+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=a,o.method=n,Rg(e)};var Kg=(e,t)=>{if(Og(e)||t>rg||t<0)return e?wg(e,ig):ig;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===yg&&t!==ng)return wg(e,0===e.avail_out?lg:ig);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(kg(e),0===e.avail_out)return n.last_flush=-1,sg}else if(0===e.avail_in&&Bg(t)<=Bg(r)&&t!==ng)return wg(e,lg);if(n.status===yg&&0!==e.avail_in)return wg(e,lg);if(n.status===bg&&0===n.wrap&&(n.status=vg),n.status===bg){let t=pg+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=ug||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,Eg(n,t),0!==n.strstart&&(Eg(n,e.adler>>>16),Eg(n,65535&e.adler)),e.adler=1,n.status=vg,kg(e),0!==n.pending)return n.last_flush=-1,sg}if(57===n.status)if(e.adler=0,Sg(n,31),Sg(n,139),Sg(n,8),n.gzhead)Sg(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Sg(n,255&n.gzhead.time),Sg(n,n.gzhead.time>>8&255),Sg(n,n.gzhead.time>>16&255),Sg(n,n.gzhead.time>>24&255),Sg(n,9===n.level?2:n.strategy>=ug||n.level<2?4:0),Sg(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Sg(n,255&n.gzhead.extra.length),Sg(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Vp(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Sg(n,0),Sg(n,0),Sg(n,0),Sg(n,0),Sg(n,0),Sg(n,9===n.level?2:n.strategy>=ug||n.level<2?4:0),Sg(n,3),n.status=vg,kg(e),0!==n.pending)return n.last_flush=-1,sg;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=Vp(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=s,kg(e),0!==n.pending)return n.last_flush=-1,sg;t=0,r-=s}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=Vp(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Vp(e.adler,n.pending_buf,n.pending-r,r)),kg(e),0!==n.pending)return n.last_flush=-1,sg;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Sg(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=Vp(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=Vp(e.adler,n.pending_buf,n.pending-r,r)),kg(e),0!==n.pending)return n.last_flush=-1,sg;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Sg(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=Vp(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(kg(e),0!==n.pending))return n.last_flush=-1,sg;Sg(n,255&e.adler),Sg(n,e.adler>>8&255),e.adler=0}if(n.status=vg,kg(e),0!==n.pending)return n.last_flush=-1,sg}if(0!==e.avail_in||0!==n.lookahead||t!==$p&&n.status!==yg){let r=0===n.level?Lg(n,t):n.strategy===ug?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Qg(e),0===e.lookahead)){if(t===$p)return 1;break}if(e.match_length=0,n=Xp(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Fg(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ng?(Fg(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fg(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===dg?((e,t)=>{let n,r,s,a;const i=e.window;for(;;){if(e.lookahead<=gg){if(Qg(e),e.lookahead<=gg&&t===$p)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(s=e.strstart-1,r=i[s],r===i[++s]&&r===i[++s]&&r===i[++s])){a=e.strstart+gg;do{}while(r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&s<a);e.match_length=gg-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Xp(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Xp(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Fg(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ng?(Fg(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Fg(e,!1),0===e.strm.avail_out)?1:2})(n,t):Pg[n.level].func(n,t);if(3!==r&&4!==r||(n.status=yg),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),sg;if(2===r&&(t===eg?Zp(n):t!==rg&&(Yp(n,0,0,!1),t===tg&&(Ng(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),kg(e),0===e.avail_out))return n.last_flush=-1,sg}return t!==ng?sg:n.wrap<=0?ag:(2===n.wrap?(Sg(n,255&e.adler),Sg(n,e.adler>>8&255),Sg(n,e.adler>>16&255),Sg(n,e.adler>>24&255),Sg(n,255&e.total_in),Sg(n,e.total_in>>8&255),Sg(n,e.total_in>>16&255),Sg(n,e.total_in>>24&255)):(Eg(n,e.adler>>>16),Eg(n,65535&e.adler)),kg(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?sg:ag)},Vg=(e,t)=>{let n=t.length;if(Og(e))return ig;const r=e.state,s=r.wrap;if(2===s||1===s&&r.status!==bg||r.lookahead)return ig;if(1===s&&(e.adler=zp(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===s&&(Ng(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const a=e.avail_in,i=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Qg(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Cg(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Qg(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=i,e.input=o,e.avail_in=a,r.wrap=s,sg},qg={deflateInit:(e,t)=>zg(e,t,pg,15,8,fg),deflateInit2:zg,deflateReset:Rg,deflateResetKeep:Hg,deflateSetHeader:(e,t)=>Og(e)||2!==e.state.wrap?ig:(e.state.gzhead=t,sg),deflate:Kg,deflateEnd:e=>{if(Og(e))return ig;const t=e.state.status;return e.state=null,t===vg?wg(e,og):sg},deflateSetDictionary:Vg,deflateInfo:"pako deflate (from Nodeca project)"};const Wg=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Gg=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Wg(n,t)&&(e[t]=n[t])}}return e},Yg=e=>{let t=0;for(let r=0,s=e.length;r<s;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,s=0,a=e.length;r<a;r++){let t=e[r];n.set(t,s),s+=t.length}return n};let Jg=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(jN){Jg=!1}const Xg=new Uint8Array(256);for(let n=0;n<256;n++)Xg[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Xg[254]=Xg[254]=1;var Zg=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,s,a,i=e.length,o=0;for(s=0;s<i;s++)n=e.charCodeAt(s),55296===(64512&n)&&s+1<i&&(r=e.charCodeAt(s+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),s++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),a=0,s=0;a<o;s++)n=e.charCodeAt(s),55296===(64512&n)&&s+1<i&&(r=e.charCodeAt(s+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},$g=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,s;const a=new Array(2*n);for(s=0,r=0;r<n;){let t=e[r++];if(t<128){a[s++]=t;continue}let i=Xg[t];if(i>4)a[s++]=65533,r+=i-1;else{for(t&=2===i?31:3===i?15:7;i>1&&r<n;)t=t<<6|63&e[r++],i--;i>1?a[s++]=65533:t<65536?a[s++]=t:(t-=65536,a[s++]=55296|t>>10&1023,a[s++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Jg)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(a,s)},ex=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+Xg[e[n]]>t?n:t};var tx=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const nx=Object.prototype.toString,{Z_NO_FLUSH:rx,Z_SYNC_FLUSH:sx,Z_FULL_FLUSH:ax,Z_FINISH:ix,Z_OK:ox,Z_STREAM_END:lx,Z_DEFAULT_COMPRESSION:Ax,Z_DEFAULT_STRATEGY:cx,Z_DEFLATED:ux}=Wp;function dx(e){this.options=Gg({level:Ax,method:ux,chunkSize:16384,windowBits:15,memLevel:8,strategy:cx},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tx,this.strm.avail_out=0;let n=qg.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==ox)throw new Error(qp[n]);if(t.header&&qg.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?Zg(t.dictionary):"[object ArrayBuffer]"===nx.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=qg.deflateSetDictionary(this.strm,e),n!==ox)throw new Error(qp[n]);this._dict_set=!0}}function hx(e,t){const n=new dx(t);if(n.push(e,!0),n.err)throw n.msg||qp[n.err];return n.result}dx.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let s,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?ix:rx,"string"===typeof e?n.input=Zg(e):"[object ArrayBuffer]"===nx.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===sx||a===ax)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(s=qg.deflate(n,a),s===lx)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=qg.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===ox;if(0!==n.avail_out){if(a>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},dx.prototype.onData=function(e){this.chunks.push(e)},dx.prototype.onEnd=function(e){e===ox&&(this.result=Yg(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var fx={Deflate:dx,deflate:hx,deflateRaw:function(e,t){return(t=t||{}).raw=!0,hx(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,hx(e,t)},constants:Wp};const mx=16209;var px=function(e,t){let n,r,s,a,i,o,l,A,c,u,d,h,f,m,p,g,x,b,v,y,w,B,N,j;const C=e.state;n=e.next_in,N=e.input,r=n+(e.avail_in-5),s=e.next_out,j=e.output,a=s-(t-e.avail_out),i=s+(e.avail_out-257),o=C.dmax,l=C.wsize,A=C.whave,c=C.wnext,u=C.window,d=C.hold,h=C.bits,f=C.lencode,m=C.distcode,p=(1<<C.lenbits)-1,g=(1<<C.distbits)-1;e:do{h<15&&(d+=N[n++]<<h,h+=8,d+=N[n++]<<h,h+=8),x=f[d&p];t:for(;;){if(b=x>>>24,d>>>=b,h-=b,b=x>>>16&255,0===b)j[s++]=65535&x;else{if(!(16&b)){if(0===(64&b)){x=f[(65535&x)+(d&(1<<b)-1)];continue t}if(32&b){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=mx;break e}v=65535&x,b&=15,b&&(h<b&&(d+=N[n++]<<h,h+=8),v+=d&(1<<b)-1,d>>>=b,h-=b),h<15&&(d+=N[n++]<<h,h+=8,d+=N[n++]<<h,h+=8),x=m[d&g];n:for(;;){if(b=x>>>24,d>>>=b,h-=b,b=x>>>16&255,!(16&b)){if(0===(64&b)){x=m[(65535&x)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",C.mode=mx;break e}if(y=65535&x,b&=15,h<b&&(d+=N[n++]<<h,h+=8,h<b&&(d+=N[n++]<<h,h+=8)),y+=d&(1<<b)-1,y>o){e.msg="invalid distance too far back",C.mode=mx;break e}if(d>>>=b,h-=b,b=s-a,y>b){if(b=y-b,b>A&&C.sane){e.msg="invalid distance too far back",C.mode=mx;break e}if(w=0,B=u,0===c){if(w+=l-b,b<v){v-=b;do{j[s++]=u[w++]}while(--b);w=s-y,B=j}}else if(c<b){if(w+=l+c-b,b-=c,b<v){v-=b;do{j[s++]=u[w++]}while(--b);if(w=0,c<v){b=c,v-=b;do{j[s++]=u[w++]}while(--b);w=s-y,B=j}}}else if(w+=c-b,b<v){v-=b;do{j[s++]=u[w++]}while(--b);w=s-y,B=j}for(;v>2;)j[s++]=B[w++],j[s++]=B[w++],j[s++]=B[w++],v-=3;v&&(j[s++]=B[w++],v>1&&(j[s++]=B[w++]))}else{w=s-y;do{j[s++]=j[w++],j[s++]=j[w++],j[s++]=j[w++],v-=3}while(v>2);v&&(j[s++]=j[w++],v>1&&(j[s++]=j[w++]))}break}}break}}while(n<r&&s<i);v=h>>3,n-=v,h-=v<<3,d&=(1<<h)-1,e.next_in=n,e.next_out=s,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=s<i?i-s+257:257-(s-i),C.hold=d,C.bits=h};const gx=15,xx=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bx=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vx=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yx=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var wx=(e,t,n,r,s,a,i,o)=>{const l=o.bits;let A,c,u,d,h,f,m=0,p=0,g=0,x=0,b=0,v=0,y=0,w=0,B=0,N=0,j=null;const C=new Uint16Array(16),k=new Uint16Array(16);let F,S,E,_=null;for(m=0;m<=gx;m++)C[m]=0;for(p=0;p<r;p++)C[t[n+p]]++;for(b=l,x=gx;x>=1&&0===C[x];x--);if(b>x&&(b=x),0===x)return s[a++]=20971520,s[a++]=20971520,o.bits=1,0;for(g=1;g<x&&0===C[g];g++);for(b<g&&(b=g),w=1,m=1;m<=gx;m++)if(w<<=1,w-=C[m],w<0)return-1;if(w>0&&(0===e||1!==x))return-1;for(k[1]=0,m=1;m<gx;m++)k[m+1]=k[m]+C[m];for(p=0;p<r;p++)0!==t[n+p]&&(i[k[t[n+p]]++]=p);if(0===e?(j=_=i,f=20):1===e?(j=xx,_=bx,f=257):(j=vx,_=yx,f=0),N=0,p=0,m=g,h=a,v=b,y=0,u=-1,B=1<<b,d=B-1,1===e&&B>852||2===e&&B>592)return 1;for(;;){F=m-y,i[p]+1<f?(S=0,E=i[p]):i[p]>=f?(S=_[i[p]-f],E=j[i[p]-f]):(S=96,E=0),A=1<<m-y,c=1<<v,g=c;do{c-=A,s[h+(N>>y)+c]=F<<24|S<<16|E}while(0!==c);for(A=1<<m-1;N&A;)A>>=1;if(0!==A?(N&=A-1,N+=A):N=0,p++,0===--C[m]){if(m===x)break;m=t[n+i[p]]}if(m>b&&(N&d)!==u){for(0===y&&(y=b),h+=g,v=m-y,w=1<<v;v+y<x&&(w-=C[v+y],!(w<=0));)v++,w<<=1;if(B+=1<<v,1===e&&B>852||2===e&&B>592)return 1;u=N&d,s[u]=b<<24|v<<16|h-a}}return 0!==N&&(s[h+N]=m-y<<24|64<<16),o.bits=b,0};const{Z_FINISH:Bx,Z_BLOCK:Nx,Z_TREES:jx,Z_OK:Cx,Z_STREAM_END:kx,Z_NEED_DICT:Fx,Z_STREAM_ERROR:Sx,Z_DATA_ERROR:Ex,Z_MEM_ERROR:_x,Z_BUF_ERROR:Ux,Z_DEFLATED:Qx}=Wp,Lx=16180,Ix=16190,Mx=16191,Dx=16192,Px=16194,Tx=16199,Ox=16200,Hx=16206,Rx=16209,zx=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Kx(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vx=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Lx||t.mode>16211?1:0},qx=e=>{if(Vx(e))return Sx;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Lx,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Cx},Wx=e=>{if(Vx(e))return Sx;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,qx(e)},Gx=(e,t)=>{let n;if(Vx(e))return Sx;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Sx:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Wx(e))},Yx=(e,t)=>{if(!e)return Sx;const n=new Kx;e.state=n,n.strm=e,n.window=null,n.mode=Lx;const r=Gx(e,t);return r!==Cx&&(e.state=null),r};let Jx,Xx,Zx=!0;const $x=e=>{if(Zx){Jx=new Int32Array(512),Xx=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(wx(1,e.lens,0,288,Jx,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;wx(2,e.lens,0,32,Xx,0,e.work,{bits:5}),Zx=!1}e.lencode=Jx,e.lenbits=9,e.distcode=Xx,e.distbits=5},eb=(e,t,n,r)=>{let s;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>r&&(s=r),a.window.set(t.subarray(n-r,n-r+s),a.wnext),(r-=s)?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0};var tb=(e,t)=>{let n,r,s,a,i,o,l,A,c,u,d,h,f,m,p,g,x,b,v,y,w,B,N=0;const j=new Uint8Array(4);let C,k;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vx(e)||!e.output||!e.input&&0!==e.avail_in)return Sx;n=e.state,n.mode===Mx&&(n.mode=Dx),i=e.next_out,s=e.output,l=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,A=n.hold,c=n.bits,u=o,d=l,B=Cx;e:for(;;)switch(n.mode){case Lx:if(0===n.wrap){n.mode=Dx;break}for(;c<16;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}if(2&n.wrap&&35615===A){0===n.wbits&&(n.wbits=15),n.check=0,j[0]=255&A,j[1]=A>>>8&255,n.check=Vp(n.check,j,2,0),A=0,c=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&A)<<8)+(A>>8))%31){e.msg="incorrect header check",n.mode=Rx;break}if((15&A)!==Qx){e.msg="unknown compression method",n.mode=Rx;break}if(A>>>=4,c-=4,w=8+(15&A),0===n.wbits&&(n.wbits=w),w>15||w>n.wbits){e.msg="invalid window size",n.mode=Rx;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&A?16189:Mx,A=0,c=0;break;case 16181:for(;c<16;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}if(n.flags=A,(255&n.flags)!==Qx){e.msg="unknown compression method",n.mode=Rx;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Rx;break}n.head&&(n.head.text=A>>8&1),512&n.flags&&4&n.wrap&&(j[0]=255&A,j[1]=A>>>8&255,n.check=Vp(n.check,j,2,0)),A=0,c=0,n.mode=16182;case 16182:for(;c<32;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}n.head&&(n.head.time=A),512&n.flags&&4&n.wrap&&(j[0]=255&A,j[1]=A>>>8&255,j[2]=A>>>16&255,j[3]=A>>>24&255,n.check=Vp(n.check,j,4,0)),A=0,c=0,n.mode=16183;case 16183:for(;c<16;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}n.head&&(n.head.xflags=255&A,n.head.os=A>>8),512&n.flags&&4&n.wrap&&(j[0]=255&A,j[1]=A>>>8&255,n.check=Vp(n.check,j,2,0)),A=0,c=0,n.mode=16184;case 16184:if(1024&n.flags){for(;c<16;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}n.length=A,n.head&&(n.head.extra_len=A),512&n.flags&&4&n.wrap&&(j[0]=255&A,j[1]=A>>>8&255,n.check=Vp(n.check,j,2,0)),A=0,c=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(h=n.length,h>o&&(h=o),h&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+h),w)),512&n.flags&&4&n.wrap&&(n.check=Vp(n.check,r,h,a)),o-=h,a+=h,n.length-=h),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;h=0;do{w=r[a+h++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w))}while(w&&h<o);if(512&n.flags&&4&n.wrap&&(n.check=Vp(n.check,r,h,a)),o-=h,a+=h,w)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;h=0;do{w=r[a+h++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w))}while(w&&h<o);if(512&n.flags&&4&n.wrap&&(n.check=Vp(n.check,r,h,a)),o-=h,a+=h,w)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;c<16;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}if(4&n.wrap&&A!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Rx;break}A=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Mx;break;case 16189:for(;c<32;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}e.adler=n.check=zx(A),A=0,c=0,n.mode=Ix;case Ix:if(0===n.havedict)return e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=A,n.bits=c,Fx;e.adler=n.check=1,n.mode=Mx;case Mx:if(t===Nx||t===jx)break e;case Dx:if(n.last){A>>>=7&c,c-=7&c,n.mode=Hx;break}for(;c<3;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}switch(n.last=1&A,A>>>=1,c-=1,3&A){case 0:n.mode=16193;break;case 1:if($x(n),n.mode=Tx,t===jx){A>>>=2,c-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Rx}A>>>=2,c-=2;break;case 16193:for(A>>>=7&c,c-=7&c;c<32;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}if((65535&A)!==(A>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Rx;break}if(n.length=65535&A,A=0,c=0,n.mode=Px,t===jx)break e;case Px:n.mode=16195;case 16195:if(h=n.length,h){if(h>o&&(h=o),h>l&&(h=l),0===h)break e;s.set(r.subarray(a,a+h),i),o-=h,a+=h,l-=h,i+=h,n.length-=h;break}n.mode=Mx;break;case 16196:for(;c<14;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}if(n.nlen=257+(31&A),A>>>=5,c-=5,n.ndist=1+(31&A),A>>>=5,c-=5,n.ncode=4+(15&A),A>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Rx;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;c<3;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}n.lens[F[n.have++]]=7&A,A>>>=3,c-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},B=wx(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,B){e.msg="invalid code lengths set",n.mode=Rx;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;N=n.lencode[A&(1<<n.lenbits)-1],p=N>>>24,g=N>>>16&255,x=65535&N,!(p<=c);){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}if(x<16)A>>>=p,c-=p,n.lens[n.have++]=x;else{if(16===x){for(k=p+2;c<k;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}if(A>>>=p,c-=p,0===n.have){e.msg="invalid bit length repeat",n.mode=Rx;break}w=n.lens[n.have-1],h=3+(3&A),A>>>=2,c-=2}else if(17===x){for(k=p+3;c<k;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}A>>>=p,c-=p,w=0,h=3+(7&A),A>>>=3,c-=3}else{for(k=p+7;c<k;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}A>>>=p,c-=p,w=0,h=11+(127&A),A>>>=7,c-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Rx;break}for(;h--;)n.lens[n.have++]=w}}if(n.mode===Rx)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Rx;break}if(n.lenbits=9,C={bits:n.lenbits},B=wx(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,B){e.msg="invalid literal/lengths set",n.mode=Rx;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},B=wx(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,B){e.msg="invalid distances set",n.mode=Rx;break}if(n.mode=Tx,t===jx)break e;case Tx:n.mode=Ox;case Ox:if(o>=6&&l>=258){e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=A,n.bits=c,px(e,d),i=e.next_out,s=e.output,l=e.avail_out,a=e.next_in,r=e.input,o=e.avail_in,A=n.hold,c=n.bits,n.mode===Mx&&(n.back=-1);break}for(n.back=0;N=n.lencode[A&(1<<n.lenbits)-1],p=N>>>24,g=N>>>16&255,x=65535&N,!(p<=c);){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}if(g&&0===(240&g)){for(b=p,v=g,y=x;N=n.lencode[y+((A&(1<<b+v)-1)>>b)],p=N>>>24,g=N>>>16&255,x=65535&N,!(b+p<=c);){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}A>>>=b,c-=b,n.back+=b}if(A>>>=p,c-=p,n.back+=p,n.length=x,0===g){n.mode=16205;break}if(32&g){n.back=-1,n.mode=Mx;break}if(64&g){e.msg="invalid literal/length code",n.mode=Rx;break}n.extra=15&g,n.mode=16201;case 16201:if(n.extra){for(k=n.extra;c<k;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}n.length+=A&(1<<n.extra)-1,A>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;N=n.distcode[A&(1<<n.distbits)-1],p=N>>>24,g=N>>>16&255,x=65535&N,!(p<=c);){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}if(0===(240&g)){for(b=p,v=g,y=x;N=n.distcode[y+((A&(1<<b+v)-1)>>b)],p=N>>>24,g=N>>>16&255,x=65535&N,!(b+p<=c);){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}A>>>=b,c-=b,n.back+=b}if(A>>>=p,c-=p,n.back+=p,64&g){e.msg="invalid distance code",n.mode=Rx;break}n.offset=x,n.extra=15&g,n.mode=16203;case 16203:if(n.extra){for(k=n.extra;c<k;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}n.offset+=A&(1<<n.extra)-1,A>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Rx;break}n.mode=16204;case 16204:if(0===l)break e;if(h=d-l,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Rx;break}h>n.wnext?(h-=n.wnext,f=n.wsize-h):f=n.wnext-h,h>n.length&&(h=n.length),m=n.window}else m=s,f=i-n.offset,h=n.length;h>l&&(h=l),l-=h,n.length-=h;do{s[i++]=m[f++]}while(--h);0===n.length&&(n.mode=Ox);break;case 16205:if(0===l)break e;s[i++]=n.length,l--,n.mode=Ox;break;case Hx:if(n.wrap){for(;c<32;){if(0===o)break e;o--,A|=r[a++]<<c,c+=8}if(d-=l,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=n.flags?Vp(n.check,s,d,i-d):zp(n.check,s,d,i-d)),d=l,4&n.wrap&&(n.flags?A:zx(A))!==n.check){e.msg="incorrect data check",n.mode=Rx;break}A=0,c=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;c<32;){if(0===o)break e;o--,A+=r[a++]<<c,c+=8}if(4&n.wrap&&A!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Rx;break}A=0,c=0}n.mode=16208;case 16208:B=kx;break e;case Rx:B=Ex;break e;case 16210:return _x;default:return Sx}return e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=A,n.bits=c,(n.wsize||d!==e.avail_out&&n.mode<Rx&&(n.mode<Hx||t!==Bx))&&eb(e,e.output,e.next_out,d-e.avail_out),u-=e.avail_in,d-=e.avail_out,e.total_in+=u,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=n.flags?Vp(n.check,s,d,e.next_out-d):zp(n.check,s,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Mx?128:0)+(n.mode===Tx||n.mode===Px?256:0),(0===u&&0===d||t===Bx)&&B===Cx&&(B=Ux),B},nb={inflateReset:Wx,inflateReset2:Gx,inflateResetKeep:qx,inflateInit:e=>Yx(e,15),inflateInit2:Yx,inflate:tb,inflateEnd:e=>{if(Vx(e))return Sx;let t=e.state;return t.window&&(t.window=null),e.state=null,Cx},inflateGetHeader:(e,t)=>{if(Vx(e))return Sx;const n=e.state;return 0===(2&n.wrap)?Sx:(n.head=t,t.done=!1,Cx)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,s,a;return Vx(e)?Sx:(r=e.state,0!==r.wrap&&r.mode!==Ix?Sx:r.mode===Ix&&(s=1,s=zp(s,t,n,0),s!==r.check)?Ex:(a=eb(e,t,n,n),a?(r.mode=16210,_x):(r.havedict=1,Cx)))},inflateInfo:"pako inflate (from Nodeca project)"};var rb=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const sb=Object.prototype.toString,{Z_NO_FLUSH:ab,Z_FINISH:ib,Z_OK:ob,Z_STREAM_END:lb,Z_NEED_DICT:Ab,Z_STREAM_ERROR:cb,Z_DATA_ERROR:ub,Z_MEM_ERROR:db}=Wp;function hb(e){this.options=Gg({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tx,this.strm.avail_out=0;let n=nb.inflateInit2(this.strm,t.windowBits);if(n!==ob)throw new Error(qp[n]);if(this.header=new rb,nb.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Zg(t.dictionary):"[object ArrayBuffer]"===sb.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=nb.inflateSetDictionary(this.strm,t.dictionary),n!==ob)))throw new Error(qp[n])}function fb(e,t){const n=new hb(t);if(n.push(e),n.err)throw n.msg||qp[n.err];return n.result}hb.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let a,i,o;if(this.ended)return!1;for(i=t===~~t?t:!0===t?ib:ab,"[object ArrayBuffer]"===sb.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=nb.inflate(n,i),a===Ab&&s&&(a=nb.inflateSetDictionary(n,s),a===ob?a=nb.inflate(n,i):a===ub&&(a=Ab));n.avail_in>0&&a===lb&&n.state.wrap>0&&0!==e[n.next_in];)nb.inflateReset(n),a=nb.inflate(n,i);switch(a){case cb:case ub:case Ab:case db:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||a===lb))if("string"===this.options.to){let e=ex(n.output,n.next_out),t=n.next_out-e,s=$g(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(s)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==ob||0!==o){if(a===lb)return a=nb.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},hb.prototype.onData=function(e){this.chunks.push(e)},hb.prototype.onEnd=function(e){e===ob&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Yg(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var mb={Inflate:hb,inflate:fb,inflateRaw:function(e,t){return(t=t||{}).raw=!0,fb(e,t)},ungzip:fb,constants:Wp};const{Deflate:pb,deflate:gb,deflateRaw:xb,gzip:bb}=fx,{Inflate:vb,inflate:yb,inflateRaw:wb,ungzip:Bb}=mb;var Nb=vb,jb=yb;const Cb=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;Cb[n]=e}const kb=4294967295;function Fb(e,t){return(function(e,t,n){let r=e;for(let s=0;s<n;s++)r=Cb[255&(r^t[s])]^r>>>8;return r}(kb,e,t)^kb)>>>0}function Sb(e,t,n){const r=e.readUint32(),s=Fb(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==r)throw new Error("CRC mismatch for chunk ".concat(n,". Expected ").concat(r,", found ").concat(s))}function Eb(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function _b(e,t,n,r){let s=0;for(;s<r;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-r]&255}function Ub(e,t,n,r){let s=0;if(0===n.length)for(;s<r;s++)t[s]=e[s];else for(;s<r;s++)t[s]=e[s]+n[s]&255}function Qb(e,t,n,r,s){let a=0;if(0===n.length){for(;a<s;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-s]>>1)&255}else{for(;a<s;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-s]+n[a]>>1)&255}}function Lb(e,t,n,r,s){let a=0;if(0===n.length){for(;a<s;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-s]&255}else{for(;a<s;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+Ib(t[a-s],n[a],n[a-s])&255}}function Ib(e,t,n){const r=e+t-n,s=Math.abs(r-e),a=Math.abs(r-t),i=Math.abs(r-n);return s<=a&&s<=i?e:a<=i?t:n}function Mb(e,t,n,r,s,a){switch(e){case 0:Eb(t,n,s);break;case 1:_b(t,n,s,a);break;case 2:Ub(t,n,r,s);break;case 3:Qb(t,n,r,s,a);break;case 4:Lb(t,n,r,s,a);break;default:throw new Error("Unsupported filter: ".concat(e))}}const Db=new Uint16Array([255]),Pb=255===new Uint8Array(Db.buffer)[0];function Tb(e){return(255&e)<<8|e>>8&255}const Ob=new Uint16Array([255]),Hb=255===new Uint8Array(Ob.buffer)[0],Rb=new Uint8Array(0);function zb(e){const{data:t,width:n,height:r,channels:s,depth:a}=e,i=Math.ceil(a/8)*s,o=Math.ceil(a/8*s*n),l=new Uint8Array(r*o);let A,c,u=Rb,d=0;for(let h=0;h<r;h++){switch(A=t.subarray(d+1,d+1+o),c=l.subarray(h*o,(h+1)*o),t[d]){case 0:Eb(A,c,o);break;case 1:_b(A,c,o,i);break;case 2:Ub(A,c,u,o);break;case 3:Qb(A,c,u,o,i);break;case 4:Lb(A,c,u,o,i);break;default:throw new Error("Unsupported filter: ".concat(t[d]))}u=c,d+=o+1}if(16===a){const e=new Uint16Array(l.buffer);if(Hb)for(let t=0;t<e.length;t++)e[t]=Kb(e[t]);return e}return l}function Kb(e){return(255&e)<<8|e>>8&255}const Vb=Uint8Array.of(137,80,78,71,13,10,26,10);function qb(e){if(!function(e){if(e.length<Vb.length)return!1;for(let t=0;t<Vb.length;t++)if(e[t]!==Vb[t])return!1;return!0}(e.readBytes(Vb.length)))throw new Error("wrong PNG signature")}const Wb="tEXt",Gb=new TextDecoder("latin1");function Yb(e){if(Xb(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Jb=/^[\u0000-\u00FF]*$/;function Xb(e){if(!Jb.test(e))throw new Error("invalid latin1 text")}function Zb(e,t,n){const r=$b(t);e[r]=function(e,t){return Gb.decode(e.readBytes(t))}(t,n-r.length-1)}function $b(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=Gb.decode(e.readBytes(t-e.offset-1));return e.skip(1),Yb(n),n}const ev=-1,tv=0,nv=2,rv=3,sv=4,av=6,iv=-1,ov=0,lv=-1,Av=0,cv=-1,uv=0,dv=1,hv=0,fv=1,mv=2,pv=0,gv=1;class xv extends tp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,a.A)(this,"_checkCrc",void 0),(0,a.A)(this,"_inflator",void 0),(0,a.A)(this,"_png",void 0),(0,a.A)(this,"_apng",void 0),(0,a.A)(this,"_end",void 0),(0,a.A)(this,"_hasPalette",void 0),(0,a.A)(this,"_palette",void 0),(0,a.A)(this,"_hasTransparency",void 0),(0,a.A)(this,"_transparency",void 0),(0,a.A)(this,"_compressionMethod",void 0),(0,a.A)(this,"_filterMethod",void 0),(0,a.A)(this,"_interlaceMethod",void 0),(0,a.A)(this,"_colorType",void 0),(0,a.A)(this,"_isAnimated",void 0),(0,a.A)(this,"_numberOfFrames",void 0),(0,a.A)(this,"_numberOfPlays",void 0),(0,a.A)(this,"_frames",void 0),(0,a.A)(this,"_writingDataChunks",void 0);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new Nb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=iv,this._filterMethod=lv,this._interlaceMethod=cv,this._colorType=ev,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(qb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(qb(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Wb:Zb(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?Sb(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?Sb(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case tv:n=1;break;case nv:n=3;break;case rv:n=1;break;case sv:n=2;break;case av:n=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==ov)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case tv:case nv:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case rv:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=$b(this),n=this.readUint8();if(n!==ov)throw new Error("Unsupported iCCP compression method: ".concat(n));const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:jb(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=zb({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case hv:break;case fv:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const s=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[s+e]=0}break;case mv:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case pv:for(let n=0;n<t.height;n++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:i}=r(n,s);for(let n=0;n<this._png.channels;n++)e.data[a+n]=t.data[i+n]}break;case gv:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:i,frameIndex:o}=r(s,a);for(let r=0;r<this._png.channels;r++){const s=t.data[o+this._png.channels-1]/n,a=r%(this._png.channels-1)===0?1:t.data[o+r],l=Math.floor(s*a+(1-s)*e.data[i+r]);e.data[i+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==Av)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===uv)this._png.data=zb({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==dv)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:n,height:r,channels:s,depth:a}=e,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*s,l=new Uint8Array(r*n*o);let A=0;for(let c=0;c<7;c++){const e=i[c],s=Math.ceil((n-e.x)/e.xStep),a=Math.ceil((r-e.y)/e.yStep);if(s<=0||a<=0)continue;const u=s*o,d=new Uint8Array(u);for(let i=0;i<a;i++){const a=t[A++],c=t.subarray(A,A+u);A+=u;const h=new Uint8Array(u);Mb(a,c,h,d,u,o),d.set(h);for(let t=0;t<s;t++){const s=e.x+t*e.xStep,a=e.y+i*e.yStep;if(!(s>=n||a>=r))for(let e=0;e<o;e++)l[(a*n+s)*o+e]=h[t*o+e]}}}if(16===a){const e=new Uint16Array(l.buffer);if(Pb)for(let t=0;t<e.length;t++)e[t]=Tb(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:hv,blendOp:pv,data:e}),this._inflator=new Nb,this._writingDataChunks=!1}}var bv;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(bv||(bv={}));var vv=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function yv(){vv.console&&"function"==typeof vv.console.log&&vv.console.log.apply(vv.console,arguments)}var wv={log:yv,warn:function(e){vv.console&&("function"==typeof vv.console.warn?vv.console.warn.apply(vv.console,arguments):yv.call(null,arguments))},error:function(e){vv.console&&("function"==typeof vv.console.error?vv.console.error.apply(vv.console,arguments):yv(e))}};function Bv(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Cv(r.response,t,n)},r.onerror=function(){wv.error("could not download file")},r.send()}function Nv(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function jv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Cv=vv.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,Am.A)(window))||window!==vv?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=vv.URL||vv.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin!==location.origin?Nv(s.href)?Bv(e,t,n):jv(s,s.target="_blank"):jv(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){jv(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Nv(e))Bv(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){jv(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,Am.A)(t)&&(wv.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return Bv(e,t,n);var s="application/octet-stream"===e.type,a=/constructor/i.test(vv.HTMLElement)||vv.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&a)&&"object"===("undefined"==typeof FileReader?"undefined":(0,Am.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},o.readAsDataURL(e)}else{var l=vv.URL||vv.webkitURL,A=l.createObjectURL(e);r?r.location=A:location.href=A,r=null,setTimeout(function(){l.revokeObjectURL(A)},4e4)}});function kv(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,a=n[r].process,i=s.exec(e);i&&(t=a(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var Fv=vv.atob.bind(vv),Sv=vv.btoa.bind(vv);function Ev(e,t){var n=e[0],r=e[1],s=e[2],a=e[3];n=Uv(n,r,s,a,t[0],7,-680876936),a=Uv(a,n,r,s,t[1],12,-389564586),s=Uv(s,a,n,r,t[2],17,606105819),r=Uv(r,s,a,n,t[3],22,-1044525330),n=Uv(n,r,s,a,t[4],7,-176418897),a=Uv(a,n,r,s,t[5],12,1200080426),s=Uv(s,a,n,r,t[6],17,-1473231341),r=Uv(r,s,a,n,t[7],22,-45705983),n=Uv(n,r,s,a,t[8],7,1770035416),a=Uv(a,n,r,s,t[9],12,-1958414417),s=Uv(s,a,n,r,t[10],17,-42063),r=Uv(r,s,a,n,t[11],22,-1990404162),n=Uv(n,r,s,a,t[12],7,1804603682),a=Uv(a,n,r,s,t[13],12,-40341101),s=Uv(s,a,n,r,t[14],17,-1502002290),n=Qv(n,r=Uv(r,s,a,n,t[15],22,1236535329),s,a,t[1],5,-165796510),a=Qv(a,n,r,s,t[6],9,-1069501632),s=Qv(s,a,n,r,t[11],14,643717713),r=Qv(r,s,a,n,t[0],20,-373897302),n=Qv(n,r,s,a,t[5],5,-701558691),a=Qv(a,n,r,s,t[10],9,38016083),s=Qv(s,a,n,r,t[15],14,-660478335),r=Qv(r,s,a,n,t[4],20,-405537848),n=Qv(n,r,s,a,t[9],5,568446438),a=Qv(a,n,r,s,t[14],9,-1019803690),s=Qv(s,a,n,r,t[3],14,-187363961),r=Qv(r,s,a,n,t[8],20,1163531501),n=Qv(n,r,s,a,t[13],5,-1444681467),a=Qv(a,n,r,s,t[2],9,-51403784),s=Qv(s,a,n,r,t[7],14,1735328473),n=Lv(n,r=Qv(r,s,a,n,t[12],20,-1926607734),s,a,t[5],4,-378558),a=Lv(a,n,r,s,t[8],11,-2022574463),s=Lv(s,a,n,r,t[11],16,1839030562),r=Lv(r,s,a,n,t[14],23,-35309556),n=Lv(n,r,s,a,t[1],4,-1530992060),a=Lv(a,n,r,s,t[4],11,1272893353),s=Lv(s,a,n,r,t[7],16,-155497632),r=Lv(r,s,a,n,t[10],23,-1094730640),n=Lv(n,r,s,a,t[13],4,681279174),a=Lv(a,n,r,s,t[0],11,-358537222),s=Lv(s,a,n,r,t[3],16,-722521979),r=Lv(r,s,a,n,t[6],23,76029189),n=Lv(n,r,s,a,t[9],4,-640364487),a=Lv(a,n,r,s,t[12],11,-421815835),s=Lv(s,a,n,r,t[15],16,530742520),n=Iv(n,r=Lv(r,s,a,n,t[2],23,-995338651),s,a,t[0],6,-198630844),a=Iv(a,n,r,s,t[7],10,1126891415),s=Iv(s,a,n,r,t[14],15,-1416354905),r=Iv(r,s,a,n,t[5],21,-57434055),n=Iv(n,r,s,a,t[12],6,1700485571),a=Iv(a,n,r,s,t[3],10,-1894986606),s=Iv(s,a,n,r,t[10],15,-1051523),r=Iv(r,s,a,n,t[1],21,-2054922799),n=Iv(n,r,s,a,t[8],6,1873313359),a=Iv(a,n,r,s,t[15],10,-30611744),s=Iv(s,a,n,r,t[6],15,-1560198380),r=Iv(r,s,a,n,t[13],21,1309151649),n=Iv(n,r,s,a,t[4],6,-145523070),a=Iv(a,n,r,s,t[11],10,-1120210379),s=Iv(s,a,n,r,t[2],15,718787259),r=Iv(r,s,a,n,t[9],21,-343485551),e[0]=zv(n,e[0]),e[1]=zv(r,e[1]),e[2]=zv(s,e[2]),e[3]=zv(a,e[3])}function _v(e,t,n,r,s,a){return t=zv(zv(t,e),zv(r,a)),zv(t<<s|t>>>32-s,n)}function Uv(e,t,n,r,s,a,i){return _v(t&n|~t&r,e,t,s,a,i)}function Qv(e,t,n,r,s,a,i){return _v(t&r|n&~r,e,t,s,a,i)}function Lv(e,t,n,r,s,a,i){return _v(t^n^r,e,t,s,a,i)}function Iv(e,t,n,r,s,a,i){return _v(n^(t|~r),e,t,s,a,i)}function Mv(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ev(r,Dv(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Ev(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,Ev(r,s),r}function Dv(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Pv="0123456789abcdef".split("");function Tv(e){for(var t="",n=0;n<4;n++)t+=Pv[e>>8*n+4&15]+Pv[e>>8*n&15];return t}function Ov(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Hv(e){return Mv(e).map(Ov).join("")}var Rv="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Tv(e[t]);return e.join("")}(Mv("hello"));function zv(e,t){if(Rv){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Kv(e,t){var n,r,s,a;if(e!==n){for(var i=(s=e,a=1+(256/e.length|0),new Array(a+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var A=0;for(l=0;l<256;l++){var c=o[l];A=(A+c+i.charCodeAt(l))%256,o[l]=o[A],o[A]=c}n=e,r=o}else o=r;var u=t.length,d=0,h=0,f="";for(l=0;l<u;l++)h=(h+(c=o[d=(d+1)%256]))%256,o[d]=o[h],o[h]=c,i=o[(o[d]+o[h])%256],f+=String.fromCharCode(t.charCodeAt(l)^i);return f}var Vv={print:4,modify:8,copy:16,"annot-forms":32};function qv(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(e){if(void 0!==Vv.perm)throw new Error("Invalid permission: "+e);s+=Vv[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var a=(t+this.padding).substr(0,32),i=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,i),this.P=-(1+(255^s)),this.encryptionKey=Hv(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Kv(this.encryptionKey,this.padding)}function Wv(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);t+=s<33||35===s||37===s||40===s||41===s||47===s||60===s||62===s||91===s||93===s||123===s||125===s||s>126?"#"+("0"+s.toString(16)).slice(-2):e[r]}return t}function Gv(e){if("object"!==(0,Am.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!r],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[n]){var i=t[n][a];try{i[0].apply(e,r)}catch(jv){vv.console&&wv.error("jsPDF PubSub Error",jv.message,jv)}i[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Yv(e){if(!(this instanceof Yv))return new Yv(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Jv(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Xv(e,t,n,r,s){if(!(this instanceof Xv))return new Xv(e,t,n,r,s);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Jv.call(this,r,s)}function Zv(e,t,n,r,s){if(!(this instanceof Zv))return new Zv(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Jv.call(this,r,s)}function $v(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],s=arguments[2],a=arguments[3],i=[],o=1,l=16,A="S",c=null;"object"===(0,Am.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,s=e.format||s,a=e.compress||e.compressPdf||a,null!==(c=e.encryption||null)&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),A=e.defaultPathOperation||"S"),i=e.filters||(!0===a?["FlateEncode"]:i),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=Gv;var f="1.3",m=h.__private__.getPdfVersion=function(){return f};h.__private__.setPdfVersion=function(e){f=e};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return p};var g=h.__private__.getPageFormat=function(e){return p[e]};s=s||"a4";var x="compat",b="advanced",v=x;function y(){this.saveGraphicsState(),X(new _e(de,0,0,-de,0,hn()*de).toString()+" cm"),this.setFontSize(this.getFontSize()/de),A="n",v=b}function w(){this.restoreGraphicsState(),A="S",v=x}var B=h.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};h.advancedAPI=function(e){var t=v===x;return t&&y.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},h.compatAPI=function(e){var t=v===b;return t&&w.call(this),"function"!=typeof e||(e(this),t&&y.call(this)),this},h.isAdvancedAPI=function(){return v===b};var N,j=function(e){if(v!==b)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};N=h.hpf=h.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var k=h.f2=h.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},F=h.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},S=h.scale=h.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===x?e*de:v===b?e:void 0},E=function(e){return S(function(e){return v===x?hn()-e:v===b?e:void 0}(e))};h.__private__.setPrecision=h.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var _,U="00000000000000000000000000000000",Q=h.__private__.getFileId=function(){return U},L=h.__private__.setFileId=function(e){return U=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==c&&(xt=new qv(c.userPermissions,c.userPassword,c.ownerPassword,U)),U};h.setFileId=function(e){return L(e),this},h.getFileId=function(){return Q()};var I=h.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),s=Math.abs(t%60),a=[n,O(r),"'",O(s),"'"].join("");return["D:",e.getFullYear(),O(e.getMonth()+1),O(e.getDate()),O(e.getHours()),O(e.getMinutes()),O(e.getSeconds()),a].join("")},M=h.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),i=parseInt(e.substr(14,2),10);return new Date(t,n,r,s,a,i,0)},D=h.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=I(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return _=t},P=h.__private__.getCreationDate=function(e){var t=_;return"jsDate"===e&&(t=M(_)),t};h.setCreationDate=function(e){return D(e),this},h.getCreationDate=function(e){return P(e)};var T,O=h.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},H=h.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},R=0,z=[],K=[],V=0,q=[],W=[],G=!1,Y=K;h.__private__.setCustomOutputDestination=function(e){G=!0,Y=e};var J=function(e){G||(Y=e)};h.__private__.resetCustomOutputDestination=function(){G=!1,Y=K};var X=h.__private__.out=function(e){return e=e.toString(),V+=e.length+1,Y.push(e),Y},Z=h.__private__.write=function(e){return X(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},$=h.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(e){return te=v===b?e/de:e,this};var ne,re=h.__private__.getFontSize=h.getFontSize=function(){return v===x?te:te*de},se=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(e){return se=e,this},h.__private__.getR2L=h.getR2L=function(){return se};var ae,ie=h.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};h.__private__.getZoomMode=function(){return ne};var oe,le=h.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ae=e};h.__private__.getPageMode=function(){return ae};var Ae=h.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};h.__private__.getLayoutMode=function(){return oe},h.__private__.setDisplayMode=h.setDisplayMode=function(e,t,n){return ie(e),Ae(t),le(n),this};var ce={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ce).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ce[e]},h.__private__.getDocumentProperties=function(){return ce},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(e){for(var t in ce)ce.hasOwnProperty(t)&&e[t]&&(ce[t]=e[t]);return this},h.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ce).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ce[e]=t};var ue,de,he,fe,me,pe={},ge={},xe=[],be={},ve={},ye={},we={},Be=null,Ne=0,je=[],Ce=new Gv(h),ke=e.hotfixes||[],Fe={},Se={},Ee=[],_e=function e(t,n,r,s,a,i){if(!(this instanceof e))return new e(t,n,r,s,a,i);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(s)&&(s=1),isNaN(a)&&(a=0),isNaN(i)&&(i=0),this._matrix=[t,n,r,s,a,i]};Object.defineProperty(_e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(_e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(_e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(_e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(_e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(_e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(_e.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(_e.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(_e.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(_e.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(_e.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(_e.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(_e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(_e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(_e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(_e.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),_e.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(e)},_e.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,s=e.shx*this.shy+e.sy*this.sy,a=e.tx*this.sx+e.ty*this.shx+this.tx,i=e.tx*this.shy+e.ty*this.sy+this.ty;return new _e(t,n,r,s,a,i)},_e.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,a=this.ty,i=Math.sqrt(e*e+t*t),o=(e/=i)*n+(t/=i)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,i=-i),{scale:new _e(i,0,0,l,0,0),translate:new _e(1,0,0,1,s,a),rotate:new _e(e,t,-t,e,0,0),skew:new _e(1,0,o,1,0,0)}},_e.prototype.toString=function(e){return this.join(" ")},_e.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,a=this.ty,i=1/(e*r-t*n),o=r*i,l=-t*i,A=-n*i,c=e*i;return new _e(o,l,A,c,-o*s-A*a,-l*s-c*a)},_e.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new tn(t,n)},_e.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new tn(e.x+e.w,e.y+e.h));return new nn(t.x,t.y,n.x-t.x,n.y-t.y)},_e.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,a=this.ty;return new _e(e,t,n,r,s,a)},h.Matrix=_e;var Ue=h.matrixMult=function(e,t){return t.multiply(e)},Qe=new _e(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Qe;var Le=function(e,t){if(!ve[e]){var n=(t instanceof Xv?"Sh":"P")+(Object.keys(be).length+1).toString(10);t.id=n,ve[e]=n,be[n]=t,Ce.publish("addPattern",t)}};h.ShadingPattern=Xv,h.TilingPattern=Zv,h.addShadingPattern=function(e,t){return j("addShadingPattern()"),Le(e,t),this},h.beginTilingPattern=function(e){j("beginTilingPattern()"),sn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},h.endTilingPattern=function(e,t){j("endTilingPattern()"),t.stream=W[T].join("\n"),Le(e,t),Ce.publish("endTilingPattern",t),Ee.pop().restore()};var Ie,Me=h.__private__.newObject=function(){var e=De();return Pe(e,!0),e},De=h.__private__.newObjectDeferred=function(){return R++,z[R]=function(){return V},R},Pe=function(e,t){return t="boolean"==typeof t&&t,z[e]=V,t&&X(e+" 0 obj"),e},Te=h.__private__.newAdditionalObject=function(){var e={objId:De(),content:""};return q.push(e),e},Oe=De(),He=De(),Re=h.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",s=0;s<3;s++)r+=("0"+Math.floor(255*parseFloat(t[s])).toString(16)).slice(-2);return r},ze=h.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,s=e.ch3,a=e.ch4,i="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new kv(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,s=255&l}if(void 0===r||void 0===a&&n===r&&r===s)t="string"==typeof n?n+" "+i[0]:2===e.precision?k(n/255)+" "+i[0]:F(n/255)+" "+i[0];else if(void 0===a||"object"===(0,Am.A)(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.","1.","1.",i[1]].join(" ");t="string"==typeof n?[n,r,s,i[1]].join(" "):2===e.precision?[k(n/255),k(r/255),k(s/255),i[1]].join(" "):[F(n/255),F(r/255),F(s/255),i[1]].join(" ")}else t="string"==typeof n?[n,r,s,a,i[2]].join(" "):2===e.precision?[k(n),k(r),k(s),k(a),i[2]].join(" "):[F(n),F(r),F(s),F(a),i[2]].join(" ");return t},Ke=h.__private__.getFilters=function(){return i},Ve=h.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ke(),r=e.alreadyAppliedFilters||[],s=e.addLength1||!1,a=t.length,i=e.objectId,o=function(e){return e};if(null!==c&&void 0===i)throw new Error("ObjectId must be passed to putStream for file encryption");null!==c&&(o=xt.encryptor(i,0));var l={};!0===n&&(n=["FlateEncode"]);var A=e.additionalKeyValues||[],u=(l=void 0!==$v.API.processDataByFilters?$v.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(A.push({key:"Length",value:l.data.length}),!0===s&&A.push({key:"Length1",value:a})),0!=u.length)if(u.split("/").length-1==1)A.push({key:"Filter",value:u});else{A.push({key:"Filter",value:"["+u+"]"});for(var d=0;d<A.length;d+=1)if("DecodeParms"===A[d].key){for(var h=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)h.push("null");h.push(A[d].value),A[d].value="["+h.join(" ")+"]"}}X("<<");for(var m=0;m<A.length;m++)X("/"+A[m].key+" "+A[m].value);X(">>"),0!==l.data.length&&(X("stream"),X(o(l.data)),X("endstream"))},qe=h.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,s=e.contentsObjId;Pe(r,!0),X("<</Type /Page"),X("/Parent "+e.rootDictionaryObjId+" 0 R"),X("/Resources "+e.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(N(e.mediaBox.bottomLeftX))+" "+parseFloat(N(e.mediaBox.bottomLeftY))+" "+N(e.mediaBox.topRightX)+" "+N(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&X("/CropBox ["+N(e.cropBox.bottomLeftX)+" "+N(e.cropBox.bottomLeftY)+" "+N(e.cropBox.topRightX)+" "+N(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&X("/BleedBox ["+N(e.bleedBox.bottomLeftX)+" "+N(e.bleedBox.bottomLeftY)+" "+N(e.bleedBox.topRightX)+" "+N(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&X("/TrimBox ["+N(e.trimBox.bottomLeftX)+" "+N(e.trimBox.bottomLeftY)+" "+N(e.trimBox.topRightX)+" "+N(e.trimBox.topRightY)+"]"),null!==e.artBox&&X("/ArtBox ["+N(e.artBox.bottomLeftX)+" "+N(e.artBox.bottomLeftY)+" "+N(e.artBox.topRightX)+" "+N(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&X("/UserUnit "+e.userUnit),Ce.publish("putPage",{objId:r,pageContext:je[t],pageNumber:t,page:n}),X("/Contents "+s+" 0 R"),X(">>"),X("endobj");var a=n.join("\n");return v===b&&(a+="\nQ"),Pe(s,!0),Ve({data:a,filters:Ke(),objectId:s}),X("endobj"),r},We=h.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Ne;e++)je[e].objId=De(),je[e].contentsObjId=De();for(e=1;e<=Ne;e++)n.push(qe({number:e,data:W[e],objId:je[e].objId,contentsObjId:je[e].contentsObjId,mediaBox:je[e].mediaBox,cropBox:je[e].cropBox,bleedBox:je[e].bleedBox,trimBox:je[e].trimBox,artBox:je[e].artBox,userUnit:je[e].userUnit,rootDictionaryObjId:Oe,resourceDictionaryObjId:He}));Pe(Oe,!0),X("<</Type /Pages");var r="/Kids [";for(t=0;t<Ne;t++)r+=n[t]+" 0 R ";X(r+"]"),X("/Count "+Ne),X(">>"),X("endobj"),Ce.publish("postPutPages")},Ge=function(e){Ce.publish("putFont",{font:e,out:X,newObject:Me,putStream:Ve}),!0!==e.isAlreadyPutted&&(e.objectNumber=Me(),X("<<"),X("/Type /Font"),X("/BaseFont /"+Wv(e.postScriptName)),X("/Subtype /Type1"),"string"==typeof e.encoding&&X("/Encoding /"+e.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Ye=function(e){e.objectNumber=Me();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[N(e.x),N(e.y),N(e.x+e.width),N(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Ve({data:n,additionalKeyValues:t,objectId:e.objectNumber}),X("endobj")},Je=function(e,t){t||(t=21);var n=Me(),r=function(e,t){var n,r=[],s=1/(t-1);for(n=0;n<1;n+=s)r.push(n);if(r.push(1),0!=e[0].offset){var a={offset:0,color:e[0].color};e.unshift(a)}if(1!=e[e.length-1].offset){var i={offset:1,color:e[e.length-1].color};e.push(i)}for(var o="",l=0,A=0;A<r.length;A++){for(n=r[A];n>e[l+1].offset;)l++;var c=e[l].offset,u=(n-c)/(e[l+1].offset-c),d=e[l].color,h=e[l+1].color;o+=H(Math.round((1-u)*d[0]+u*h[0]).toString(16))+H(Math.round((1-u)*d[1]+u*h[1]).toString(16))+H(Math.round((1-u)*d[2]+u*h[2]).toString(16))}return o.trim()}(e.colors,t),s=[];s.push({key:"FunctionType",value:"0"}),s.push({key:"Domain",value:"[0.0 1.0]"}),s.push({key:"Size",value:"["+t+"]"}),s.push({key:"BitsPerSample",value:"8"}),s.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),s.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:r,additionalKeyValues:s,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),X("endobj"),e.objectNumber=Me(),X("<< /ShadingType "+e.type),X("/ColorSpace /DeviceRGB");var a="/Coords ["+N(parseFloat(e.coords[0]))+" "+N(parseFloat(e.coords[1]))+" ";2===e.type?a+=N(parseFloat(e.coords[2]))+" "+N(parseFloat(e.coords[3])):a+=N(parseFloat(e.coords[2]))+" "+N(parseFloat(e.coords[3]))+" "+N(parseFloat(e.coords[4]))+" "+N(parseFloat(e.coords[5])),X(a+="]"),e.matrix&&X("/Matrix ["+e.matrix.toString()+"]"),X("/Function "+n+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Xe=function(e,t){var n=De(),r=Me();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var s=[];s.push({key:"Type",value:"/Pattern"}),s.push({key:"PatternType",value:"1"}),s.push({key:"PaintType",value:"1"}),s.push({key:"TilingType",value:"1"}),s.push({key:"BBox",value:"["+e.boundingBox.map(N).join(" ")+"]"}),s.push({key:"XStep",value:N(e.xStep)}),s.push({key:"YStep",value:N(e.yStep)}),s.push({key:"Resources",value:n+" 0 R"}),e.matrix&&s.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ve({data:e.stream,additionalKeyValues:s,objectId:e.objectNumber}),X("endobj")},Ze=function(e){for(var t in e.objectNumber=Me(),X("<<"),e)switch(t){case"opacity":X("/ca "+k(e[t]));break;case"stroke-opacity":X("/CA "+k(e[t]))}X(">>"),X("endobj")},$e=function(e){Pe(e.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in X("/Font <<"),pe)pe.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&X("/"+e+" "+pe[e].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(be).length>0){for(var e in X("/Shading <<"),be)be.hasOwnProperty(e)&&be[e]instanceof Xv&&be[e].objectNumber>=0&&X("/"+e+" "+be[e].objectNumber+" 0 R");Ce.publish("putShadingPatternDict"),X(">>")}}(),function(e){if(Object.keys(be).length>0){for(var t in X("/Pattern <<"),be)be.hasOwnProperty(t)&&be[t]instanceof h.TilingPattern&&be[t].objectNumber>=0&&be[t].objectNumber<e&&X("/"+t+" "+be[t].objectNumber+" 0 R");Ce.publish("putTilingPatternDict"),X(">>")}}(e.objectOid),function(){if(Object.keys(ye).length>0){var e;for(e in X("/ExtGState <<"),ye)ye.hasOwnProperty(e)&&ye[e].objectNumber>=0&&X("/"+e+" "+ye[e].objectNumber+" 0 R");Ce.publish("putGStateDict"),X(">>")}}(),function(){for(var e in X("/XObject <<"),Fe)Fe.hasOwnProperty(e)&&Fe[e].objectNumber>=0&&X("/"+e+" "+Fe[e].objectNumber+" 0 R");Ce.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},et=function(e){ge[e.fontName]=ge[e.fontName]||{},ge[e.fontName][e.fontStyle]=e.id},tt=function(e,t,n,r,s){var a={id:"F"+(Object.keys(pe).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:s||!1,metadata:{}};return Ce.publish("addFont",{font:a,instance:this}),pe[a.id]=a,et(a),a.id},nt=h.__private__.pdfEscape=h.pdfEscape=function(e,t){return function(e,t){var n,r,s,a,i,o,l,A,c;if(s=(t=t||{}).sourceEncoding||"Unicode",i=t.outputEncoding,(t.autoencode||i)&&pe[ue].metadata&&pe[ue].metadata[s]&&pe[ue].metadata[s].encoding&&(a=pe[ue].metadata[s].encoding,!i&&pe[ue].encoding&&(i=pe[ue].encoding),!i&&a.codePages&&(i=a.codePages[0]),"string"==typeof i&&(i=a[i]),i)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(A=i[e.charCodeAt(n)])?o.push(String.fromCharCode(A)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((c=(A=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(c),o.push(A-(c<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rt=h.__private__.beginPage=function(e){W[++Ne]=[],je[Ne]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},it(Ne),J(W[T])},st=function(e,t){var r,a,i;switch(n=t||n,"string"==typeof e&&(r=g(e.toLowerCase()),Array.isArray(r)&&(a=r[0],i=r[1])),Array.isArray(e)&&(a=e[0]*de,i=e[1]*de),isNaN(a)&&(a=s[0],i=s[1]),(a>14400||i>14400)&&(wv.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),i=Math.min(14400,i)),s=[a,i],n.substr(0,1)){case"l":i>a&&(s=[i,a]);break;case"p":a>i&&(s=[i,a])}rt(s),Pt(Mt),X(qt),0!==Zt&&X(Zt+" J"),0!==$t&&X($t+" j"),Ce.publish("addPage",{pageNumber:Ne})},at=function(e){e>0&&e<=Ne&&(W.splice(e,1),je.splice(e,1),Ne--,T>Ne&&(T=Ne),this.setPage(T))},it=function(e){e>0&&e<=Ne&&(T=e)},ot=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return W.length-1},lt=function(e,t,n){var r,s=void 0;return n=n||{},e=void 0!==e?e:pe[ue].fontName,t=void 0!==t?t:pe[ue].fontStyle,r=e.toLowerCase(),void 0!==ge[r]&&void 0!==ge[r][t]?s=ge[r][t]:void 0!==ge[e]&&void 0!==ge[e][t]?s=ge[e][t]:!1===n.disableWarning&&wv.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),s||n.noFallback||null==(s=ge.times[t])&&(s=ge.times.normal),s},At=h.__private__.putInfo=function(){var e=Me(),t=function(e){return e};for(var n in null!==c&&(t=xt.encryptor(e,0)),X("<<"),X("/Producer ("+nt(t("jsPDF "+$v.version))+")"),ce)ce.hasOwnProperty(n)&&ce[n]&&X("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+nt(t(ce[n]))+")");X("/CreationDate ("+nt(t(_))+")"),X(">>"),X("endobj")},ct=h.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Oe;switch(Me(),X("<<"),X("/Type /Catalog"),X("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&X("/OpenAction [3 0 R /XYZ null null "+k(ne)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}ae&&X("/PageMode /"+ae),Ce.publish("putCatalog"),X(">>"),X("endobj")},ut=h.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(R+1)),X("/Root "+R+" 0 R"),X("/Info "+(R-1)+" 0 R"),null!==c&&X("/Encrypt "+xt.oid+" 0 R"),X("/ID [ <"+U+"> <"+U+"> ]"),X(">>")},dt=h.__private__.putHeader=function(){X("%PDF-"+f),X("%\xba\xdf\xac\xe0")},ht=h.__private__.putXRef=function(){var e="0000000000";X("xref"),X("0 "+(R+1)),X("0000000000 65535 f ");for(var t=1;t<=R;t++)"function"==typeof z[t]?X((e+z[t]()).slice(-10)+" 00000 n "):void 0!==z[t]?X((e+z[t]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},ft=h.__private__.buildDocument=function(){var e;R=0,V=0,K=[],z=[],q=[],Oe=De(),He=De(),J(K),Ce.publish("buildDocument"),dt(),We(),function(){Ce.publish("putAdditionalObjects");for(var e=0;e<q.length;e++){var t=q[e];Pe(t.objId,!0),X(t.content),X("endobj")}Ce.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in pe)pe.hasOwnProperty(e)&&(!1===u||!0===u&&d.hasOwnProperty(e))&&Ge(pe[e])}(),function(){var e;for(e in ye)ye.hasOwnProperty(e)&&Ze(ye[e])}(),function(){for(var e in Fe)Fe.hasOwnProperty(e)&&Ye(Fe[e])}(),function(e){var t;for(t in be)be.hasOwnProperty(t)&&(be[t]instanceof Xv?Je(be[t]):be[t]instanceof Zv&&Xe(be[t],e))}(e),Ce.publish("putResources"),e.forEach($e),$e({resourcesOid:He,objectOid:Number.MAX_SAFE_INTEGER}),Ce.publish("postPutResources"),null!==c&&(xt.oid=Me(),X("<<"),X("/Filter /Standard"),X("/V "+xt.v),X("/R "+xt.r),X("/U <"+xt.toHexString(xt.U)+">"),X("/O <"+xt.toHexString(xt.O)+">"),X("/P "+xt.P),X(">>"),X("endobj")),At(),ct();var t=V;return ht(),ut(),X("startxref"),X(""+t),X("%%EOF"),J(W[T]),K.join("\n")},mt=h.__private__.getBlob=function(e){return new Blob([$(e)],{type:"application/pdf"})},pt=h.output=h.__private__.output=(Ie=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return ft();case"save":h.save(t.filename);break;case"arraybuffer":return $(ft());case"blob":return mt(ft());case"bloburi":case"bloburl":if(void 0!==vv.URL&&"function"==typeof vv.URL.createObjectURL)return vv.URL&&vv.URL.createObjectURL(mt(ft()))||void 0;wv.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=ft();try{n=Sv(r)}catch(c){n=Sv(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(vv)){var s="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(s=t.pdfObjectUrl,a="");var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+s+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=vv.open();return null!==o&&o.document.write(i),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(vv)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',A=vv.open();if(null!==A){A.document.write(l);var u=this;A.document.documentElement.querySelector("#pdfViewer").onload=function(){A.document.title=t.filename,A.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return A}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(vv))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',f=vv.open();if(null!==f&&(f.document.write(d),f.document.title=t.filename),f||"undefined"==typeof safari)return f;break;case"datauri":case"dataurl":return vv.document.location.href=this.output("datauristring",t);default:return null}},Ie.foo=function(){try{return Ie.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!vv.console)throw new Error(n);vv.console.error(n,t),vv.alert&&alert(n)}},Ie.foo.bar=Ie,Ie.foo),gt=function(e){return!0===Array.isArray(ke)&&ke.indexOf(e)>-1};switch(r){case"pt":de=1;break;case"mm":de=72/25.4;break;case"cm":de=72/2.54;break;case"in":de=72;break;case"px":de=1==gt("px_scaling")?.75:96/72;break;case"pc":case"em":de=12;break;case"ex":de=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);de=r}var xt=null;D(),L();var bt=h.__private__.getPageInfo=h.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:je[e].objId,pageNumber:e,pageContext:je[e]}},vt=h.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in je)if(je[t].objId===e)break;return bt(t)},yt=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:je[T].objId,pageNumber:T,pageContext:je[T]}};h.addPage=function(){return st.apply(this,arguments),this},h.setPage=function(){return it.apply(this,arguments),J.call(this,W[T]),this},h.insertPage=function(e){return this.addPage(),this.movePage(T,e),this},h.movePage=function(e,t){var n,r;if(e>t){n=W[e],r=je[e];for(var s=e;s>t;s--)W[s]=W[s-1],je[s]=je[s-1];W[t]=n,je[t]=r,this.setPage(t)}else if(e<t){n=W[e],r=je[e];for(var a=e;a<t;a++)W[a]=W[a+1],je[a]=je[a+1];W[t]=n,je[t]=r,this.setPage(t)}return this},h.deletePage=function(){return at.apply(this,arguments),this},h.__private__.text=h.text=function(e,t,n,r,s){var a,i,o,l,A,c,u,h,f,m=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var p=n;n=t,t=e,e=p}if(arguments[3]instanceof _e==0?(o=arguments[4],l=arguments[5],"object"===(0,Am.A)(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),r={flags:u,angle:o,align:l})):(j("The transform parameter of text() with a Matrix value"),f=s),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return m;var g,x="",y="number"==typeof r.lineHeightFactor?r.lineHeightFactor:It,w=m.internal.scaleFactor;function B(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),nt(e,u)}function C(e){for(var t,n=e.concat(),r=[],s=n.length;s--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function k(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,s,a=e.concat(),i=[],o=a.length;o--;)"string"==typeof(r=a.shift())?i.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(s=t(r[0],r[1],r[2]),i.push([s[0],s[1],s[2]]));n=i}return n}var F=!1,E=!0;if("string"==typeof e)F=!0;else if(Array.isArray(e)){var _=e.concat();i=[];for(var U,Q=_.length;Q--;)("string"!=typeof(U=_.shift())||Array.isArray(U)&&"string"!=typeof U[0])&&(E=!1);F=E}if(!1===F)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=te/m.internal.scaleFactor,I=L*(y-1);switch(r.baseline){case"bottom":n-=I;break;case"top":n+=L-I;break;case"hanging":n+=L-2*I;break;case"middle":n+=L/2-I}if((c=r.maxWidth||0)>0&&("string"==typeof e?e=m.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(m.splitTextToSize(t,c))},[]))),a={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:pe,activeFontSize:te}},Ce.publish("preProcessText",a),e=a.text,o=(r=a.options).angle,f instanceof _e==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),v===b&&(o=-o);var M=Math.cos(o),D=Math.sin(o);f=new _e(M,D,-D,M,0,0)}else o&&o instanceof _e&&(f=o);v!==b||f||(f=Qe),void 0!==(A=r.charSpace||Jt)&&(x+=N(S(A))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(h=r.horizontalScale)&&(x+=N(100*h)+" Tz\n"),r.lang;var P=-1,T=void 0!==r.renderingMode?r.renderingMode:r.stroke,O=m.internal.getCurrentPageInfo().pageContext;switch(T){case 0:case!1:case"fill":P=0;break;case 1:case!0:case"stroke":P=1;break;case 2:case"fillThenStroke":P=2;break;case 3:case"invisible":P=3;break;case 4:case"fillAndAddForClipping":P=4;break;case 5:case"strokeAndAddPathForClipping":P=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":P=6;break;case 7:case"addToPathForClipping":P=7}var H=void 0!==O.usedRenderingMode?O.usedRenderingMode:-1;-1!==P?x+=P+" Tr\n":-1!==H&&(x+="0 Tr\n"),-1!==P&&(O.usedRenderingMode=P),l=r.align||"left";var R,z=te*y,K=m.internal.pageSize.getWidth(),V=pe[ue];A=r.charSpace||Jt,c=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var q=[],W=function(e){return m.getStringUnitWidth(e,{font:V,charSpace:A,fontSize:te,doKerning:!1})*te/w};if("[object Array]"===Object.prototype.toString.call(e)){var G;i=C(e),"left"!==l&&(R=i.map(W));var Y,J=0;if("right"===l){t-=R[0],e=[],Q=i.length;for(var Z=0;Z<Q;Z++)0===Z?(Y=Rt(t),G=zt(n)):(Y=S(J-R[Z]),G=-z),e.push([i[Z],Y,G]),J=R[Z]}else if("center"===l){t-=R[0]/2,e=[],Q=i.length;for(var $=0;$<Q;$++)0===$?(Y=Rt(t),G=zt(n)):(Y=S((J-R[$])/2),G=-z),e.push([i[$],Y,G]),J=R[$]}else if("left"===l){e=[],Q=i.length;for(var ee=0;ee<Q;ee++)e.push(i[ee])}else if("justify"===l&&"Identity-H"===V.encoding){e=[],Q=i.length,c=0!==c?c:K;for(var ne=0,re=0;re<Q;re++)if(G=0===re?zt(n):-z,Y=0===re?Rt(t):ne,re<Q-1){var ae=S((c-R[re])/(i[re].split(" ").length-1)),ie=i[re].split(" ");e.push([ie[0]+" ",Y,G]),ne=0;for(var oe=1;oe<ie.length;oe++){var le=(W(ie[oe-1]+" "+ie[oe])-W(ie[oe]))*w+ae;oe==ie.length-1?e.push([ie[oe],le,0]):e.push([ie[oe]+" ",le,0]),ne-=le}}else e.push([i[re],Y,G]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],Q=i.length,c=0!==c?c:K,re=0;re<Q;re++){G=0===re?zt(n):-z,Y=0===re?Rt(t):0;var Ae=i[re].split(" ").length-1,ce=Ae>0?(c-R[re])/Ae:0;re<Q-1?q.push(N(S(ce))):q.push(0),e.push([i[re],Y,G])}}}!0===("boolean"==typeof r.R2L?r.R2L:se)&&(e=k(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),a={text:e,x:t,y:n,options:r,mutex:{pdfEscape:nt,activeFontKey:ue,fonts:pe,activeFontSize:te}},Ce.publish("postProcessText",a),e=a.text,g=a.mutex.isHex||!1;var de=pe[ue].encoding;"WinAnsiEncoding"!==de&&"StandardEncoding"!==de||(e=k(e,function(e,t,n){return[B(e),t,n]})),i=C(e),e=[];for(var he,fe,me,ge=Array.isArray(i[0])?1:0,xe="",be=function(e,t,n){var s="";return n instanceof _e?(n="number"==typeof r.angle?Ue(n,new _e(1,0,0,1,e,t)):Ue(new _e(1,0,0,1,e,t),n),v===b&&(n=Ue(new _e(1,0,0,-1,0,0),n)),s=n.join(" ")+" Tm\n"):s=N(e)+" "+N(t)+" Td\n",s},ve=0;ve<i.length;ve++){switch(xe="",ge){case 1:me=(g?"<":"(")+i[ve][0]+(g?">":")"),he=parseFloat(i[ve][1]),fe=parseFloat(i[ve][2]);break;case 0:me=(g?"<":"(")+i[ve]+(g?">":")"),he=Rt(t),fe=zt(n)}void 0!==q&&void 0!==q[ve]&&(xe=q[ve]+" Tw\n"),0===ve?e.push(xe+be(he,fe,f)+me):0===ge?e.push(xe+me):1===ge&&e.push(xe+be(he,fe,f)+me)}e=0===ge?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ye="BT\n/";return ye+=ue+" "+te+" Tf\n",ye+=N(te*y)+" TL\n",ye+=Gt+"\n",ye+=x,ye+=e,X(ye+="ET"),d[ue]=!0,m};var wt=h.__private__.clip=h.clip=function(e){return X("evenodd"===e?"W*":"W"),this};h.clipEvenOdd=function(){return wt("evenodd")},h.__private__.discardPath=h.discardPath=function(){return X("n"),this};var Bt=h.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(e){return Bt(e)&&(A=e),this};var Nt=h.__private__.getStyle=h.getStyle=function(e){var t=A;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},jt=h.close=function(){return X("h"),this};h.stroke=function(){return X("S"),this},h.fill=function(e){return Ct("f",e),this},h.fillEvenOdd=function(e){return Ct("f*",e),this},h.fillStroke=function(e){return Ct("B",e),this},h.fillStrokeEvenOdd=function(e){return Ct("B*",e),this};var Ct=function(e,t){"object"===(0,Am.A)(t)?St(t,e):X(e)},kt=function(e){null===e||v===b&&void 0===e||(e=Nt(e),X(e))};function Ft(e,t,n,r,s){var a=new Zv(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,s||this.matrix);a.stream=this.stream;var i=e+"$$"+this.cloneIndex+++"$$";return Le(i,a),a}var St=function(e,t){var n=ve[e.key],r=be[n];if(r instanceof Xv)X("q"),X(Et(t)),r.gState&&h.setGState(r.gState),X(e.matrix.toString()+" cm"),X("/"+n+" sh"),X("Q");else if(r instanceof Zv){var s=new _e(1,0,0,-1,0,hn());e.matrix&&(s=s.multiply(e.matrix||Qe),n=Ft.call(r,e.key,e.boundingBox,e.xStep,e.yStep,s).id),X("q"),X("/Pattern cs"),X("/"+n+" scn"),r.gState&&h.setGState(r.gState),X(t),X("Q")}},Et=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},_t=h.moveTo=function(e,t){return X(N(S(e))+" "+N(E(t))+" m"),this},Ut=h.lineTo=function(e,t){return X(N(S(e))+" "+N(E(t))+" l"),this},Qt=h.curveTo=function(e,t,n,r,s,a){return X([N(S(e)),N(E(t)),N(S(n)),N(E(r)),N(S(s)),N(E(a)),"c"].join(" ")),this};h.__private__.line=h.line=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.line");return v===x?this.lines([[n-e,r-t]],e,t,[1,1],s||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},h.__private__.lines=h.lines=function(e,t,n,r,s,a){var i,o,l,A,c,u,d,h,f,m,p,g;if("number"==typeof e&&(g=n,n=t,t=e,e=g),r=r||[1,1],a=a||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Bt(s)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(_t(t,n),i=r[0],o=r[1],A=e.length,m=t,p=n,l=0;l<A;l++)2===(c=e[l]).length?(m=c[0]*i+m,p=c[1]*o+p,Ut(m,p)):(u=c[0]*i+m,d=c[1]*o+p,h=c[2]*i+m,f=c[3]*o+p,m=c[4]*i+m,p=c[5]*o+p,Qt(u,d,h,f,m,p));return a&&jt(),kt(s),this},h.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":_t(r[0],r[1]);break;case"l":Ut(r[0],r[1]);break;case"c":Qt.apply(this,r);break;case"h":jt()}}return this},h.__private__.rect=h.rect=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.rect");return v===x&&(r=-r),X([N(S(e)),N(E(t)),N(S(n)),N(S(r)),"re"].join(" ")),kt(s),this},h.__private__.triangle=h.triangle=function(e,t,n,r,s,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(a)||!Bt(i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[s-n,a-r],[e-s,t-a]],e,t,[1,1],i,!0),this},h.__private__.roundedRect=h.roundedRect=function(e,t,n,r,s,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(a)||!Bt(i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return s=Math.min(s,.5*n),a=Math.min(a,.5*r),this.lines([[n-2*s,0],[s*o,0,s,a-a*o,s,a],[0,r-2*a],[0,a*o,-s*o,a,-s,a],[2*s-n,0],[-s*o,0,-s,-a*o,-s,-a],[0,2*a-r],[0,-a*o,s*o,-a,s,-a]],e+s,t,[1,1],i,!0),this},h.__private__.ellipse=h.ellipse=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Bt(s))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*n,i=4/3*(Math.SQRT2-1)*r;return _t(e+n,t),Qt(e+n,t-i,e+a,t-r,e,t-r),Qt(e-a,t-r,e-n,t-i,e-n,t),Qt(e-n,t+i,e-a,t+r,e,t+r),Qt(e+a,t+r,e+n,t+i,e+n,t),kt(s),this},h.__private__.circle=h.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Bt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},h.setFont=function(e,t,n){return n&&(t=B(t,n)),ue=lt(e,t,{disableWarning:!1}),this};var Lt=h.__private__.getFont=h.getFont=function(){return pe[lt.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var e,t,n={};for(e in ge)if(ge.hasOwnProperty(e))for(t in n[e]=[],ge[e])ge[e].hasOwnProperty(t)&&n[e].push(t);return n},h.addFont=function(e,t,n,r,s){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?s=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(n=B(n,r)),tt.call(this,e,t,n,s=s||"Identity-H")};var It,Mt=e.lineWidth||.200025,Dt=h.__private__.getLineWidth=h.getLineWidth=function(){return Mt},Pt=h.__private__.setLineWidth=h.setLineWidth=function(e){return Mt=e,X(N(S(e))+" w"),this};h.__private__.setLineDash=$v.API.setLineDash=$v.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return N(S(e))}).join(" "),t=N(S(t)),X("["+e+"] "+t+" d"),this};var Tt=h.__private__.getLineHeight=h.getLineHeight=function(){return te*It};h.__private__.getLineHeight=h.getLineHeight=function(){return te*It};var Ot=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(It=e),this},Ht=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return It};Ot(e.lineHeight);var Rt=h.__private__.getHorizontalCoordinate=function(e){return S(e)},zt=h.__private__.getVerticalCoordinate=function(e){return v===b?e:je[T].mediaBox.topRightY-je[T].mediaBox.bottomLeftY-S(e)},Kt=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(e){return N(Rt(e))},Vt=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(e){return N(zt(e))},qt=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Re(qt)},h.__private__.setStrokeColor=h.setDrawColor=function(e,t,n,r){return qt=ze({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),X(qt),this};var Wt=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Re(Wt)},h.__private__.setFillColor=h.setFillColor=function(e,t,n,r){return Wt=ze({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),X(Wt),this};var Gt=e.textColor||"0 g",Yt=h.__private__.getTextColor=h.getTextColor=function(){return Re(Gt)};h.__private__.setTextColor=h.setTextColor=function(e,t,n,r){return Gt=ze({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Jt=e.charSpace,Xt=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Jt||0)};h.__private__.setCharSpace=h.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jt=e,this};var Zt=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,X(t+" J"),this};var $t=0;h.__private__.setLineJoin=h.setLineJoin=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $t=t,X(t+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(N(S(e))+" M"),this},h.GState=Yv,h.setGState=function(e){(e="string"==typeof e?ye[we[e]]:en(null,e)).equals(Be)||(X("/"+e.id+" gs"),Be=e)};var en=function(e,t){if(!e||!we[e]){var n=!1;for(var r in ye)if(ye.hasOwnProperty(r)&&ye[r].equals(t)){n=!0;break}if(n)t=ye[r];else{var s="GS"+(Object.keys(ye).length+1).toString(10);ye[s]=t,t.id=s}return e&&(we[e]=t.id),Ce.publish("addGState",t),t}};h.addGState=function(e,t){return en(e,t),this},h.saveGraphicsState=function(){return X("q"),xe.push({key:ue,size:te,color:Gt}),this},h.restoreGraphicsState=function(){X("Q");var e=xe.pop();return ue=e.key,te=e.size,Gt=e.color,Be=null,this},h.setCurrentTransformationMatrix=function(e){return X(e.toString()+" cm"),this},h.comment=function(e){return X("#"+e),this};var tn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var s="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return s},set:function(e){s=e.toString()}}),this},nn=function(e,t,n,r){tn.call(this,e,t),this.type="rect";var s=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}});var a=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},rn=function(){this.page=Ne,this.currentPage=T,this.pages=W.slice(0),this.pagesContext=je.slice(0),this.x=he,this.y=fe,this.matrix=me,this.width=on(T),this.height=An(T),this.outputDestination=Y,this.id="",this.objectNumber=-1};rn.prototype.restore=function(){Ne=this.page,T=this.currentPage,je=this.pagesContext,W=this.pages,he=this.x,fe=this.y,me=this.matrix,ln(T,this.width),cn(T,this.height),Y=this.outputDestination};var sn=function(e,t,n,r,s){Ee.push(new rn),Ne=T=0,W=[],he=e,fe=t,me=s,rt([n,r])};for(var an in h.beginFormObject=function(e,t,n,r,s){return sn(e,t,n,r,s),this},h.endFormObject=function(e){return function(e){if(Se[e])Ee.pop().restore();else{var t=new rn,n="Xo"+(Object.keys(Fe).length+1).toString(10);t.id=n,Se[e]=n,Fe[n]=t,Ce.publish("addFormObject",t),Ee.pop().restore()}}(e),this},h.doFormObject=function(e,t){var n=Fe[Se[e]];return X("q"),X(t.toString()+" cm"),X("/"+n.id+" Do"),X("Q"),this},h.getFormObject=function(e){var t=Fe[Se[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},h.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Cv(mt(ft()),e),"function"==typeof Cv.unload&&vv.setTimeout&&setTimeout(Cv.unload,911),this):new Promise(function(t,n){try{var s=Cv(mt(ft()),e);"function"==typeof Cv.unload&&vv.setTimeout&&setTimeout(Cv.unload,911),t(s)}catch(r){n(r.message)}})},$v.API)$v.API.hasOwnProperty(an)&&("events"===an&&$v.API.events.length?function(e,t){var n,r,s;for(s=t.length-1;-1!==s;s--)n=t[s][0],r=t[s][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ce,$v.API.events):h[an]=$v.API[an]);function on(e){return je[e].mediaBox.topRightX-je[e].mediaBox.bottomLeftX}function ln(e,t){je[e].mediaBox.topRightX=t+je[e].mediaBox.bottomLeftX}function An(e){return je[e].mediaBox.topRightY-je[e].mediaBox.bottomLeftY}function cn(e,t){je[e].mediaBox.topRightY=t+je[e].mediaBox.bottomLeftY}var un=h.getPageWidth=function(e){return on(e=e||T)/de},dn=h.setPageWidth=function(e,t){ln(e,t*de)},hn=h.getPageHeight=function(e){return An(e=e||T)/de},fn=h.setPageHeight=function(e,t){cn(e,t*de)};return h.internal={pdfEscape:nt,getStyle:Nt,getFont:Lt,getFontSize:re,getCharSpace:Xt,getTextColor:Yt,getLineHeight:Tt,getLineHeightFactor:Ht,getLineWidth:Dt,write:Z,getHorizontalCoordinate:Rt,getVerticalCoordinate:zt,getCoordinateString:Kt,getVerticalCoordinateString:Vt,collections:{},newObject:Me,newAdditionalObject:Te,newObjectDeferred:De,newObjectDeferredBegin:Pe,getFilters:Ke,putStream:Ve,events:Ce,scaleFactor:de,pageSize:{getWidth:function(){return un(T)},setWidth:function(e){dn(T,e)},getHeight:function(){return hn(T)},setHeight:function(e){fn(T,e)}},encryptionOptions:c,encryption:xt,getEncryptor:function(e){return null!==c?xt.encryptor(e,0):function(e){return e}},output:pt,getNumberOfPages:ot,get pages(){return W},out:X,f2:k,f3:F,getPageInfo:bt,getPageInfoByObjId:vt,getCurrentPageInfo:yt,getPDFVersion:m,Point:tn,Rectangle:nn,Matrix:_e,hasHotfix:gt},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return un(T)},set:function(e){dn(T,e)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return hn(T)},set:function(e){fn(T,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(d[r]=!0);var s=e[t][0].split("-");et({id:r,fontName:s[0],fontStyle:s[1]||""})}Ce.publish("addFonts",{fonts:pe,dictionary:ge})}.call(h,ee),ue="F1",st(s,n),Ce.publish("initialized"),h}qv.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},qv.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qv.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},qv.prototype.processOwnerPassword=function(e,t){return Kv(Hv(t).substr(0,5),e)},qv.prototype.encryptor=function(e,t){var n=Hv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Kv(n,e)}},Yv.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,Am.A)(e)!==(0,Am.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},$v.API={events:[]},$v.version="3.0.4";var ey=$v.API,ty=1,ny=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ry=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sy=function(e){return e.toFixed(2)},ay=function(e){return e.toFixed(5)};ey.__acroform__={};var iy=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},oy=function(e){return e*ty},ly=function(e){var t=new Ny,n=Py.internal.getHeight(e)||0,r=Py.internal.getWidth(e)||0;return t.BBox=[0,0,Number(sy(r)),Number(sy(n))],t},Ay=ey.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},cy=ey.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},uy=ey.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},dy=ey.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return uy(e,t-1)},hy=ey.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ay(e,t-1)},fy=ey.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cy(e,t-1)},my=ey.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],a=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(s+i)||0,l.upperRight_Y=r(a)||0,[Number(sy(l.lowerLeft_X)),Number(sy(l.lowerLeft_Y)),Number(sy(l.upperRight_X)),Number(sy(l.upperRight_Y))]},py=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=gy(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+sy(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=ly(e);return a.scope=e.scope,a.stream=t.join("\n"),a}},gy=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(e){return e.split("\n")}):s.map(function(e){return[e]});var a=n,i=Py.internal.getHeight(e)||0;i=i<0?-i:i;var o=Py.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<s.length){var a=n+" "+s[t+1][0];return xy(a,e,r).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var A,c,u=xy("3",e,a).height,d=e.multiline?i-a:(i-u)/2,h=d+=2,f=0,m=0,p=0;if(a<=0){t="(...) Tj\n",t+="% Width of Text: "+xy(t,e,a=12).width+", FieldWidth:"+o+"\n";break}for(var g="",x=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var v=!1;if(1!==s[b].length&&p!==s[b].length-1){if((u+2)*(x+2)+2>i)continue e;g+=s[b][p],v=!0,m=b,b--}else{g=" "==(g+=s[b][p]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var y=parseInt(b),w=l(y,g,a),B=b>=s.length-1;if(w&&!B){g+=" ",p=0;continue}if(w||B){if(B)m=y;else if(e.multiline&&(u+2)*(x+2)+2>i)continue e}else{if(!e.multiline)continue e;if((u+2)*(x+2)+2>i)continue e;m=y}}for(var N="",j=f;j<=m;j++){var C=s[j];if(e.multiline){if(j===m){N+=C[p]+" ",p=(p+1)%C.length;continue}if(j===f){N+=C[C.length-1]+" ";continue}}N+=C[0]+" "}switch(N=" "==N.substr(N.length-1)?N.substr(0,N.length-1):N,c=xy(N,e,a).width,e.textAlign){case"right":A=o-c-2;break;case"center":A=(o-c)/2;break;default:A=2}t+=sy(A)+" "+sy(h)+" Td\n",t+="("+ny(N)+") Tj\n",t+=-sy(A)+" 0 Td\n",h=-(a+2),c=0,f=v?m:m+1,x++,g=""}break}return r.text=t,r.fontSize=a,r},xy=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},by={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vy=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},yy=ey.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(0!==a&&(s+=" "),(0,Am.A)(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":"/"!==e[a].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),s+="("+ny(r(e[a].toString()))+")"):s+=e[a].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wy=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+ny(r(e))+")"},By=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};By.prototype.toString=function(){return this.objId+" 0 R"},By.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},By.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:yy(s,this.objId,this.scope)}):s instanceof By?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):"function"!=typeof s&&e.push({key:r,value:s}))}return e};var Ny=function(){By.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};iy(Ny,By);var jy=function(){By.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ny(t(e))+")"}},set:function(t){e=t}})};iy(jy,By);var Cy=function e(){By.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(t,3))},set:function(e){!0===Boolean(e)?this.F=hy(t,3):this.F=fy(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Ly)return;a="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ny(t(a))+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===A?50/ty:A},set:function(e){A=e}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Ly||this instanceof My))return wy(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof _y==0?wy(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof _y==0?"("===e.substr(0,1)?ry(e.substr(1,e.length-2)):ry(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _y==1?ry(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof _y==1?"/"+e:e}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof _y==0?wy(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof _y==0?"("===e.substr(0,1)?ry(e.substr(1,e.length-2)):ry(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _y==1?ry(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof _y==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,1):this.Ff=fy(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,2):this.Ff=fy(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,3):this.Ff=fy(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==p)return p},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');p=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(p){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:p=2;break;case"center":case 1:p=1;break;default:p=0}}})};iy(Cy,By);var ky=function(){Cy.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yy(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,s=[];r=t.exec(e);)s.push(r[n]);return s}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,18):this.Ff=fy(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=hy(this.Ff,19):this.Ff=fy(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=hy(this.Ff,20),t.sort()):this.Ff=fy(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,22):this.Ff=fy(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,23):this.Ff=fy(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,27):this.Ff=fy(this.Ff,27)}}),this.hasAppearanceStream=!1};iy(ky,Cy);var Fy=function(){ky.call(this),this.fontName="helvetica",this.combo=!1};iy(Fy,ky);var Sy=function(){Fy.call(this),this.combo=!0};iy(Sy,Fy);var Ey=function(){Sy.call(this),this.edit=!0};iy(Ey,Sy);var _y=function(){Cy.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,15):this.Ff=fy(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,16):this.Ff=fy(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,17):this.Ff=fy(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,26):this.Ff=fy(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+ny(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,Am.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};iy(_y,Cy);var Uy=function(){_y.call(this),this.pushButton=!0};iy(Uy,_y);var Qy=function(){_y.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};iy(Qy,_y);var Ly=function(){var e,t;Cy.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+ny(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,Am.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Py.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};iy(Ly,Cy),Qy.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Qy.prototype.createOption=function(e){var t=new Ly;return t.Parent=this,t.optionName=e,this.Kids.push(t),Ty.call(this.scope,t),t};var Iy=function(){_y.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Py.CheckBox.createAppearanceStream()};iy(Iy,_y);var My=function(){Cy.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,13):this.Ff=fy(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,21):this.Ff=fy(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,23):this.Ff=fy(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,24):this.Ff=fy(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,25):this.Ff=fy(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,26):this.Ff=fy(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};iy(My,Cy);var Dy=function(){My.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(dy(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=hy(this.Ff,14):this.Ff=fy(this.Ff,14)}}),this.password=!0};iy(Dy,My);var Py={CheckBox:{createAppearanceStream:function(){return{N:{On:Py.CheckBox.YesNormal},D:{On:Py.CheckBox.YesPushDown,Off:Py.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ly(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=gy(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+sy(Py.internal.getWidth(e))+" "+sy(Py.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+sy(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=ly(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],a=Py.internal.getHeight(e),i=Py.internal.getWidth(e),o=gy(e,e.caption);return s.push("1 g"),s.push("0 0 "+sy(i)+" "+sy(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+sy(i-1)+" "+sy(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+sy(o.fontSize)+" Tf "+r),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join("\n"),t},OffPushDown:function(e){var t=ly(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+sy(Py.internal.getWidth(e))+" "+sy(Py.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Py.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Py.RadioButton.Circle.YesNormal,t.D[e]=Py.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ly(e);t.scope=e.scope;var n=[],r=Py.internal.getWidth(e)<=Py.internal.getHeight(e)?Py.internal.getWidth(e)/4:Py.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Py.internal.Bezier_C,a=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ay(Py.internal.getWidth(e)/2)+" "+ay(Py.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=ly(e);t.scope=e.scope;var n=[],r=Py.internal.getWidth(e)<=Py.internal.getHeight(e)?Py.internal.getWidth(e)/4:Py.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*Py.internal.Bezier_C).toFixed(5)),i=Number((r*Py.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ay(Py.internal.getWidth(e)/2)+" "+ay(Py.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ay(Py.internal.getWidth(e)/2)+" "+ay(Py.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=ly(e);t.scope=e.scope;var n=[],r=Py.internal.getWidth(e)<=Py.internal.getHeight(e)?Py.internal.getWidth(e)/4:Py.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*Py.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ay(Py.internal.getWidth(e)/2)+" "+ay(Py.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Py.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Py.RadioButton.Cross.YesNormal,t.D[e]=Py.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ly(e);t.scope=e.scope;var n=[],r=Py.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+sy(Py.internal.getWidth(e)-2)+" "+sy(Py.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(sy(r.x1.x)+" "+sy(r.x1.y)+" m"),n.push(sy(r.x2.x)+" "+sy(r.x2.y)+" l"),n.push(sy(r.x4.x)+" "+sy(r.x4.y)+" m"),n.push(sy(r.x3.x)+" "+sy(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=ly(e);t.scope=e.scope;var n=Py.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+sy(Py.internal.getWidth(e))+" "+sy(Py.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+sy(Py.internal.getWidth(e)-2)+" "+sy(Py.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(sy(n.x1.x)+" "+sy(n.x1.y)+" m"),r.push(sy(n.x2.x)+" "+sy(n.x2.y)+" l"),r.push(sy(n.x4.x)+" "+sy(n.x4.y)+" m"),r.push(sy(n.x3.x)+" "+sy(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=ly(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+sy(Py.internal.getWidth(e))+" "+sy(Py.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Py.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Py.internal.getWidth(e),n=Py.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Py.internal.getWidth=function(e){var t=0;return"object"===(0,Am.A)(e)&&(t=oy(e.Rect[2])),t},Py.internal.getHeight=function(e){var t=0;return"object"===(0,Am.A)(e)&&(t=oy(e.Rect[3])),t};var Ty=ey.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Cy.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(by)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ty=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new jy,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&vy(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var s=e[r],a=[],i=s.Rect;if(s.Rect&&(s.Rect=my(s.Rect,t)),t.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Py.createDefaultAppearanceStream(s),"object"===(0,Am.A)(s)&&"function"==typeof s.getKeyValueListForStream&&(a=s.getKeyValueListForStream()),s.Rect=i,s.hasAppearanceStream&&!s.appearanceStreamContent){var o=py(s);a.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(s.appearanceStreamContent){var l="";for(var A in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(A)){var c=s.appearanceStreamContent[A];if(l+="/"+A+" ",l+="<<",Object.keys(c).length>=1||Array.isArray(c)){for(var r in c)if(c.hasOwnProperty(r)){var u=c[r];"function"==typeof u&&(u=u.call(t,s)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=c)&&(u=u.call(t,s)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}a.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:a,objectId:s.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),"object"===(0,Am.A)(s)&&"function"==typeof s.putStream&&s.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof Cy))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ey.AcroFormChoiceField=ky,ey.AcroFormListBox=Fy,ey.AcroFormComboBox=Sy,ey.AcroFormEditBox=Ey,ey.AcroFormButton=_y,ey.AcroFormPushButton=Uy,ey.AcroFormRadioButton=Qy,ey.AcroFormCheckBox=Iy,ey.AcroFormTextField=My,ey.AcroFormPasswordField=Dy,ey.AcroFormAppearance=Py,ey.AcroForm={ChoiceField:ky,ListBox:Fy,ComboBox:Sy,EditBox:Ey,Button:_y,PushButton:Uy,RadioButton:Qy,CheckBox:Iy,TextField:My,PasswordField:Dy,Appearance:Py},$v.AcroForm={ChoiceField:ky,ListBox:Fy,ComboBox:Sy,EditBox:Ey,Button:_y,PushButton:Uy,RadioButton:Qy,CheckBox:Iy,TextField:My,PasswordField:Dy,Appearance:Py};$v.AcroForm;function Oy(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(e,t){var s,a,i,o,l,A=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(w(e))for(l in r)for(i=r[l],s=0;s<i.length;s+=1){for(o=!0,a=0;a<i[s].length;a+=1)if(void 0!==i[s][a]&&i[s][a]!==e[a]){o=!1;break}if(!0===o){A=l;break}}else for(l in r)for(i=r[l],s=0;s<i.length;s+=1){for(o=!0,a=0;a<i[s].length;a+=1)if(void 0!==i[s][a]&&i[s][a]!==e.charCodeAt(a)){o=!1;break}if(!0===o){A=l;break}}return A===n&&t!==n&&(A=t),A},a=function e(t){for(var n=this.internal.write,r=this.internal.putStream,s=(0,this.internal.getFilters)();-1!==s.indexOf("FlateEncode");)s.splice(s.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:t.width}),a.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var i="",o=0,l=t.transparency.length;o<l;o++)i+=t.transparency[o]+" "+t.transparency[o]+" ";a.push({key:"Mask",value:"["+i+"]"})}void 0!==t.sMask&&a.push({key:"SMask",value:t.objectId+1+" 0 R"});var A=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:A,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var c,u=null!==(c=t.sMaskBitsPerComponent)&&void 0!==c?c:t.bitsPerComponent,d={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:u,data:t.sMask};"filter"in t&&(d.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(u," /Columns ").concat(t.width),d.filter=t.filter),e.call(this,d)}if(t.colorSpace===g.INDEXED){var h=this.internal.newObject();r({data:N(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},i=function(){var e=this.internal.collections[t+"images"];for(var n in e)a.call(this,e[n])},o=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var s in n)r("/I"+(e=n[s]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},c=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},d=function(e){return"object"===(0,Am.A)(e)&&1===e.nodeType},h=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return Fv(unescape(r).split("base64,").pop());var s=e.loadFile(r,!0);if(void 0!==s)return s}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var a;switch(n){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return Fv(t.toDataURL(a,1).split("base64,").pop())}},f=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},p=function(e,t,n,r,s,a){var i=m.call(this,n,r,s),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=A.call(this);if(n=i[0],r=i[1],c[s.index]=s,a){a*=Math.PI/180;var u=Math.cos(a),d=Math.sin(a),h=function(e){return e.toFixed(4)},f=[h(u),h(d),h(-1*d),h(u),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,o(e),l(t+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+s.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(w(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},y=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var w=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},B=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},N=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=w(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,s,a,i,o,A,c;if("number"==typeof arguments[1]?(t=n,r=arguments[1],s=arguments[2],a=arguments[3],i=arguments[4],o=arguments[5],A=arguments[6],c=arguments[7]):(t=arguments[1],r=arguments[2],s=arguments[3],a=arguments[4],i=arguments[5],o=arguments[6],A=arguments[7],c=arguments[8]),"object"===(0,Am.A)(e=arguments[0])&&!d(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||n,r=u.x||r||0,s=u.y||s||0,a=u.w||u.width||a,i=u.h||u.height||i,o=u.alias||o,A=u.compression||A,c=u.rotation||u.angle||c}var h=this.internal.getFilters();if(void 0===A&&-1!==h.indexOf("FlateEncode")&&(A="SLOW"),isNaN(r)||isNaN(s))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var f=j.call(this,e,t,o,A);return p.call(this,r,s,a,i,f,c),this};var j=function(t,r,a,i){var o,l,A;if("string"==typeof t&&s(t)===n){t=unescape(t);var m=C(t,!1);(""!==m||void 0!==(m=e.loadFile(t,!0)))&&(t=m)}if(d(t)&&(t=h(t,r)),r=s(t,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(A=a)||0===A.length)&&(a=function(e){return"string"==typeof e||w(e)?b(e):w(e.data)?b(e.data):null}(t)),(o=f.call(this,a))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=B(t)),o=this["process"+r.toUpperCase()](t,c.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:x.NONE}(i),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var a;n=null!==(a=y(e))&&void 0!==a?a:e;try{r=Fv(n)}catch(s){if(t)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+s.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,a,i="";if(d(t)&&(t=h(t)),"string"==typeof t&&s(t)===n&&(""===(i=C(t,!1))&&(i=e.loadFile(t)||""),t=i),a=s(t),!u(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(t instanceof Uint8Array||(t=B(t)),!(r=this["process"+a.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=a,r}}($v.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};$v.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,s,a=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,A=!1,c=0;c<l.length&&!A;c++)switch((n=l[c]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(A=!0);break;case"reference":case"text":case"freetext":A=!0}if(0!=A){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var d=this.internal.pdfEscape,h=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(f.objId),g=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(n.bounds.x)+" "+i(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y)+"] ")+"/Contents ("+d(p(n.contents))+")",s+=" /Popup "+m.objId+" 0 R",s+=" /P "+o.objId+" 0 R",s+=" /T ("+d(p(g))+") >>",f.content=s;var x=f.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(n.bounds.x+30)+" "+i(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+i(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(s+=" /Open true"),s+=" >>",m.content=s,this.internal.write(f.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+a(n.bounds.x)+" "+i(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(h(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var v=this.annotations._nameMap[n.options.name];n.options.pageNumber=v.page,n.options.top=v.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(h(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var y=i(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+y+" "+n.options.zoom+"]"}""!=s&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,s){var a=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:i(e),y:o(t),w:i(e+n),h:o(t+r)},options:s,type:"link"})},e.textWithLink=function(e,t,n,r){var s,a,i=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){a=r.maxWidth;var l=this.splitTextToSize(e,a).length;s=Math.ceil(o*l)}else a=i,s=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=i/2),"right"===r.align&&(t-=i),this.link(t,n-o,a,s,r),i},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}($v.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},i=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return i(e)&&s.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return i(e)&&a(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,s="",a=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(a++,"number"==typeof(r=r[e.charCodeAt(t)])&&(s+=String.fromCharCode(r),r=n,a=0),t===e.length-1&&(r=n,s+=e.charAt(t-(a-1)),t-=a-1,a=0)):(r=n,s+=e.charAt(t-a),t-=a,a=0);return s};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return i(e)?!1===a(e)?-1:!A(e)||!i(t)&&!i(n)||!i(n)&&o(t)||o(e)&&!i(t)||o(e)&&l(t)||o(e)&&o(t)?0:c(e)&&i(t)&&!o(t)&&i(n)&&A(n)?3:o(e)||!i(n)?1:2:-1},h=function(e){var n=0,r=0,s=0,a="",o="",l="",A=(e=e||"").split("\\s+"),c=[];for(n=0;n<A.length;n+=1){for(c.push(""),r=0;r<A[n].length;r+=1)a=A[n][r],o=A[n][r-1],l=A[n][r+1],i(a)?(s=d(a,o,l),c[n]+=-1!==s?String.fromCharCode(t[a.charCodeAt(0)][s]):a):c[n]+=a;c[n]=u(c[n])}return c.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([h(t[r][0]),t[r][1],t[r][2]]):n.push([h(t[r])]);e=n}else e=h(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}($v.API),$v.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}($v.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var s=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var i=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return i},set:function(e){i=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),s=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,i=0,o=0,l=0,A=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var c=t.maxWidth;c>0?"string"==typeof e?e=this.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(A.splitTextToSize(t,c))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)i<(l=this.getStringUnitWidth(e[u],{font:s})*n)&&(i=l);return 0!==i&&(o=e.length),{w:i/=a,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var e;e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var s=this.internal.__cell__.lastCell,i=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,A=this.internal.__cell__.printHeaders;return void 0!==s.lineNumber&&(s.lineNumber===e.lineNumber?(e.x=(s.x||0)+(s.width||0),e.y=s.y||0):s.y+s.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,A&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=s.y+s.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-i,e.y+i,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+i,{align:"center",baseline:"top",maxWidth:e.width-i-i}):this.text(e.text,e.x+i,e.y+i,{align:"left",baseline:"top",maxWidth:e.width-i-i})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,A,c){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,d,h,f,m=[],p=[],g=[],x={},b={},v=[],y=[],w=(c=c||{}).autoSize||!1,B=!1!==c.printHeaders,N=c.css&&void 0!==c.css["font-size"]?16*c.css["font-size"]:c.fontSize||12,j=c.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof c.padding?c.padding:3,k=c.headerBackgroundColor||"#c8c8c8",F=c.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=N,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=F,this.setFontSize(N),null==A)p=m=Object.keys(l[0]),g=m.map(function(){return"left"});else if(Array.isArray(A)&&"object"===(0,Am.A)(A[0]))for(m=A.map(function(e){return e.name}),p=A.map(function(e){return e.prompt||e.name||""}),g=A.map(function(e){return e.align||"left"}),u=0;u<A.length;u+=1)b[A[u].name]=.7499990551181103*A[u].width;else Array.isArray(A)&&"string"==typeof A[0]&&(p=m=A,g=m.map(function(){return"left"}));if(w||Array.isArray(A)&&"string"==typeof A[0])for(u=0;u<m.length;u+=1){for(x[f=m[u]]=l.map(function(e){return e[f]}),this.setFont(void 0,"bold"),v.push(this.getTextDimensions(p[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=x[f],this.setFont(void 0,"normal"),h=0;h<d.length;h+=1)v.push(this.getTextDimensions(d[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);b[f]=Math.max.apply(null,v)+C+C,v=[]}if(B){var S={};for(u=0;u<m.length;u+=1)S[m[u]]={},S[m[u]].text=p[u],S[m[u]].align=g[u];var E=o.call(this,S,b);y=m.map(function(t){return new a(e,n,b[t],E,S[t].text,void 0,S[t].align)}),this.setTableHeaderRow(y),this.printHeaderRow(1,!1)}var _=A.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in c&&c.rowStart instanceof Function&&c.rowStart({row:u,data:l[u]},this);var U=o.call(this,l[u],b);for(h=0;h<m.length;h+=1){var Q=l[u][m[h]];"cellStart"in c&&c.cellStart instanceof Function&&c.cellStart({row:u,col:h,data:Q},this),i.call(this,new a(e,n,b[m[h]],U,Q,u+2,_[m[h]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var o=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,s=this.internal.scaleFactor;return Object.keys(e).map(function(r){var s=e[r];return this.splitTextToSize(s.hasOwnProperty("text")?s.text:s,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/s+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var s;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],A=0;A<this.internal.__cell__.tableHeaderRow.length;A+=1){s=this.internal.__cell__.tableHeaderRow[A].clone(),t&&(s.y=this.internal.__cell__.margins.top||0,l.push(s)),s.lineNumber=e;var c=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,s),this.setTextColor(c)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}($v.API);var Hy={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ry=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zy=Oy(Ry),Ky=[100,200,300,400,500,600,700,800,900],Vy=Oy(Ky);function qy(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Hy[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),s=function(e){return"number"==typeof zy[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function Wy(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var Gy={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Yy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Jy(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Xy(e){return e.trimLeft()}function Zy(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function $y(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var ew,tw,nw,rw,sw,aw,iw,ow,lw,Aw=["times"];function cw(e,t,n,r,s){var a=4,i=hw;switch(s){case $v.API.image_compression.FAST:a=1,i=dw;break;case $v.API.image_compression.MEDIUM:a=6,i=fw;break;case $v.API.image_compression.SLOW:a=9,i=mw}e=function(e,t,n,r){for(var s,a=e.length/t,i=new Uint8Array(e.length+a),o=[uw,dw,hw,fw,mw],l=0;l<a;l+=1){var A=l*t,c=e.subarray(A,A+t);if(r)i.set(r(c,n,s),A+l);else{for(var u=o.length,d=[],h=0;h<u;h+=1)d[h]=o[h](c,n,s);var f=gw(d.concat());i.set(d[f],A+l)}s=c}return i}(e,t,Math.ceil(n*r/8),i);var o=Wm(e,{level:a});return $v.API.__addimage__.arrayBufferToBinaryString(o)}function uw(e){var t=Array.apply([],e);return t.unshift(0),t}function dw(e,t){var n=e.length,r=[];r[0]=1;for(var s=0;s<n;s+=1){var a=e[s-t]||0;r[s+1]=e[s]-a+256&255}return r}function hw(e,t,n){var r=e.length,s=[];s[0]=2;for(var a=0;a<r;a+=1){var i=n&&n[a]||0;s[a+1]=e[a]-i+256&255}return s}function fw(e,t,n){var r=e.length,s=[];s[0]=3;for(var a=0;a<r;a+=1){var i=e[a-t]||0,o=n&&n[a]||0;s[a+1]=e[a]+256-(i+o>>>1)&255}return s}function mw(e,t,n){var r=e.length,s=[];s[0]=4;for(var a=0;a<r;a+=1){var i=pw(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);s[a+1]=e[a]-i+256&255}return s}function pw(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),s=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=s&&r<=a?e:s<=a?t:n}function gw(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function xw(e,t,n){var r=t*n,s=Math.floor(r/8),a=16-(r-8*s+n),i=(1<<n)-1;return vw(e,s)>>a&i}function bw(e,t,n,r){var s=n*r,a=Math.floor(s/8),i=16-(s-8*a+r),o=(1<<r)-1,l=(t&o)<<i;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,a,vw(e,a)&~(o<<i)&65535|l)}function vw(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function yw(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,i=1<<1+(7&s);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=i,t+=3*i);var A=!0,c=[],u=0,d=null,h=0,f=null;for(this.width=n,this.height=r;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];u=e[t++]|e[t++]<<8,d=e[t++],1&m||(d=null),h=m>>2&7,t++;break;case 254:for(;;){if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var p=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,v=e[t++],y=v>>6&1,w=1<<1+(7&v),B=o,N=l,j=!1;v>>7&&(j=!0,B=t,N=w,t+=3*w);var C=t;for(t++;;){var k;if(!((k=e[t++])>=0))throw Error("Invalid block size");if(0===k)break;t+=k}c.push({x:p,y:g,width:x,height:b,has_local_palette:j,palette_offset:B,palette_size:N,data_offset:C,data_length:t-C,transparent_index:d,interlaced:!!y,delay:u,disposal:h});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,r){var s=this.frameInfo(t),a=s.width*s.height,i=new Uint8Array(a);ww(e,s.data_offset,i,a);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var A=s.width,c=n-A,u=A,d=4*(s.y*n+s.x),h=4*((s.y+s.height)*n+s.x),f=d,m=4*c;!0===s.interlaced&&(m+=4*n*7);for(var p=8,g=0,x=i.length;g<x;++g){var b=i[g];if(0===u&&(u=A,(f+=m)>=h&&(m=4*c+4*n*(p-1),f=d+(A+c)*(p<<1),p>>=1)),b===l)f+=4;else{var v=e[o+3*b],y=e[o+3*b+1],w=e[o+3*b+2];r[f++]=w,r[f++]=y,r[f++]=v,r[f++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var s=this.frameInfo(t),a=s.width*s.height,i=new Uint8Array(a);ww(e,s.data_offset,i,a);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var A=s.width,c=n-A,u=A,d=4*(s.y*n+s.x),h=4*((s.y+s.height)*n+s.x),f=d,m=4*c;!0===s.interlaced&&(m+=4*n*7);for(var p=8,g=0,x=i.length;g<x;++g){var b=i[g];if(0===u&&(u=A,(f+=m)>=h&&(m=4*c+4*n*(p-1),f=d+(A+c)*(p<<1),p>>=1)),b===l)f+=4;else{var v=e[o+3*b],y=e[o+3*b+1],w=e[o+3*b+2];r[f++]=v,r[f++]=y,r[f++]=w,r[f++]=255}--u}}}function ww(e,t,n,r){for(var s=e[t++],a=1<<s,i=a+1,o=i+1,l=s+1,A=(1<<l)-1,c=0,u=0,d=0,h=e[t++],f=new Int32Array(4096),m=null;;){for(;c<16&&0!==h;)u|=e[t++]<<c,c+=8,1===h?h=e[t++]:--h;if(c<l)break;var p=u&A;if(u>>=l,c-=l,p!==a){if(p===i)break;for(var g=p<o?p:m,x=0,b=g;b>a;)b=f[b]>>8,++x;var v=b;if(d+x+(g!==p?1:0)>r)return void wv.log("Warning, gif stream longer than expected.");n[d++]=v;var y=d+=x;for(g!==p&&(n[d++]=v),b=g;x--;)b=f[b],n[--y]=255&b,b>>=8;null!==m&&o<4096&&(f[o++]=m<<8|v,o>=A+1&&l<12&&(++l,A=A<<1|1)),m=p}else o=i+1,A=(1<<(l=s+1))-1,m=null}return d!==r&&wv.log("Warning, gif stream shorter than expected."),n}function Bw(e){var t,n,r,s,a,i=Math.floor,o=new Array(64),l=new Array(64),A=new Array(64),c=new Array(64),u=new Array(65535),d=new Array(65535),h=new Array(64),f=new Array(64),m=[],p=0,g=7,x=new Array(64),b=new Array(64),v=new Array(64),y=new Array(256),w=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(e,t){for(var n=0,r=0,s=new Array,a=1;a<=16;a++){for(var i=1;i<=e[a];i++)s[t[r]]=[],s[t[r]][0]=n,s[t[r]][1]=a,r++,n++;n*=2}return s}function Q(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(p|=1<<g),n--,--g<0&&(255==p?(L(255),L(0)):L(p),g=7,p=0)}function L(e){m.push(e)}function I(e){L(e>>8&255),L(255&e)}function M(e,t,n,r,s){for(var a,i=s[0],o=s[240],l=function(e,t){var n,r,s,a,i,o,l,A,c,u,d=0;for(c=0;c<8;++c){n=e[d],r=e[d+1],s=e[d+2],a=e[d+3],i=e[d+4],o=e[d+5],l=e[d+6];var f=n+(A=e[d+7]),m=n-A,p=r+l,g=r-l,x=s+o,b=s-o,v=a+i,y=a-i,w=f+v,B=f-v,N=p+x,j=p-x;e[d]=w+N,e[d+4]=w-N;var C=.707106781*(j+B);e[d+2]=B+C,e[d+6]=B-C;var k=.382683433*((w=y+b)-(j=g+m)),F=.5411961*w+k,S=1.306562965*j+k,E=.707106781*(N=b+g),_=m+E,U=m-E;e[d+5]=U+F,e[d+3]=U-F,e[d+1]=_+S,e[d+7]=_-S,d+=8}for(d=0,c=0;c<8;++c){n=e[d],r=e[d+8],s=e[d+16],a=e[d+24],i=e[d+32],o=e[d+40],l=e[d+48];var Q=n+(A=e[d+56]),L=n-A,I=r+l,M=r-l,D=s+o,P=s-o,T=a+i,O=a-i,H=Q+T,R=Q-T,z=I+D,K=I-D;e[d]=H+z,e[d+32]=H-z;var V=.707106781*(K+R);e[d+16]=R+V,e[d+48]=R-V;var q=.382683433*((H=O+P)-(K=M+L)),W=.5411961*H+q,G=1.306562965*K+q,Y=.707106781*(z=P+M),J=L+Y,X=L-Y;e[d+40]=X+W,e[d+24]=X-W,e[d+8]=J+G,e[d+56]=J-G,d++}for(c=0;c<64;++c)u=e[c]*t[c],h[c]=u>0?u+.5|0:u-.5|0;return h}(e,t),A=0;A<64;++A)f[B[A]]=l[A];var c=f[0]-n;n=f[0],0==c?Q(r[0]):(Q(r[d[a=32767+c]]),Q(u[a]));for(var m=63;m>0&&0==f[m];)m--;if(0==m)return Q(i),n;for(var p,g=1;g<=m;){for(var x=g;0==f[g]&&g<=m;)++g;var b=g-x;if(b>=16){p=b>>4;for(var v=1;v<=p;++v)Q(o);b&=15}a=32767+f[g],Q(s[(b<<4)+d[a]]),Q(u[a]),g++}return 63!=m&&Q(i),n}function D(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=i((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[B[n]]=r}for(var s=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var u=i((s[a]*e+50)/100);u=Math.min(Math.max(u,1),255),l[B[a]]=u}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,f=0;f<8;f++)for(var m=0;m<8;m++)A[h]=1/(o[B[h]]*d[f]*d[m]*8),c[h]=1/(l[B[h]]*d[f]*d[m]*8),h++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){a&&D(a),m=new Array,p=0,g=7,I(65496),I(65504),I(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),I(1),I(1),L(0),L(0),function(){I(65499),I(132),L(0);for(var e=0;e<64;e++)L(o[e]);L(1);for(var t=0;t<64;t++)L(l[t])}(),function(e,t){I(65472),I(17),L(8),I(t),I(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){I(65476),I(418),L(0);for(var e=0;e<16;e++)L(N[e+1]);for(var t=0;t<=11;t++)L(j[t]);L(16);for(var n=0;n<16;n++)L(C[n+1]);for(var r=0;r<=161;r++)L(k[r]);L(1);for(var s=0;s<16;s++)L(F[s+1]);for(var a=0;a<=11;a++)L(S[a]);L(17);for(var i=0;i<16;i++)L(E[i+1]);for(var o=0;o<=161;o++)L(_[o])}(),I(65498),I(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var i=0,u=0,d=0;p=0,g=7,this.encode.displayName="_encode_";for(var h,f,y,B,U,P,T,O,H,R=e.data,z=e.width,K=e.height,V=4*z,q=0;q<K;){for(h=0;h<V;){for(U=V*q+h,T=-1,O=0,H=0;H<64;H++)P=U+(O=H>>3)*V+(T=4*(7&H)),q+O>=K&&(P-=V*(q+1+O-K)),h+T>=V&&(P-=h+T-V+4),f=R[P++],y=R[P++],B=R[P++],x[H]=(w[f]+w[y+256|0]+w[B+512|0]>>16)-128,b[H]=(w[f+768|0]+w[y+1024|0]+w[B+1280|0]>>16)-128,v[H]=(w[f+1280|0]+w[y+1536|0]+w[B+1792|0]>>16)-128;i=M(x,A,i,t,r),u=M(b,c,u,n,s),d=M(v,c,d,n,s),h+=32}q+=8}if(g>=0){var W=[];W[1]=g+1,W[0]=(1<<g+1)-1,Q(W)}return I(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)y[t]=e(t)}(),t=U(N,j),n=U(F,S),r=U(C,k),s=U(E,_),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var s=-(t-1);s<=-e;s++)d[32767+s]=n,u[32767+s]=[],u[32767+s][1]=n,u[32767+s][0]=t-1+s;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)w[e]=19595*e,w[e+256|0]=38470*e,w[e+512|0]=7471*e+32768,w[e+768|0]=-11059*e,w[e+1024|0]=-21709*e,w[e+1280|0]=32768*e+8421375,w[e+1536|0]=-27439*e,w[e+1792|0]=-5329*e}(),D(e)}function Nw(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jw(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,s){for(var a=0;a<s;a++)e[t+a]=n[r+a]}function s(e,t,n,r){for(var s=0;s<r;s++)e[t+s]=n}function a(e){return new Int32Array(e)}function i(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,s){for(var a=s[r],i=0;i<a&&(n.push(s.length>r+1?[]:new t),!(s.length<r+1));i++)e(n[i],r+1,s)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function A(e,n,r,s,a){t(!(s%r));do{e[n+(s-=r)]=a}while(0<s)}function c(e,n,r,s,i){if(t(2328>=i),512>=i)var o=a(512);else if(null==(o=a(i)))return 0;return function(e,n,r,s,i,o){var c,d,h=n,f=1<<r,m=a(16),p=a(16);for(t(0!=i),t(null!=s),t(null!=e),t(0<r),d=0;d<i;++d){if(15<s[d])return 0;++m[s[d]]}if(m[0]==i)return 0;for(p[1]=0,c=1;15>c;++c){if(m[c]>1<<c)return 0;p[c+1]=p[c]+m[c]}for(d=0;d<i;++d)c=s[d],0<s[d]&&(o[p[c]++]=d);if(1==p[15])return(s=new u).g=0,s.value=o[0],A(e,h,1,f,s),f;var g,x=-1,b=f-1,v=0,y=1,w=1,B=1<<r;for(d=0,c=1,i=2;c<=r;++c,i<<=1){if(y+=w<<=1,0>(w-=m[c]))return 0;for(;0<m[c];--m[c])(s=new u).g=c,s.value=o[d++],A(e,h+v,i,B,s),v=l(v,c)}for(c=r+1,i=2;15>=c;++c,i<<=1){if(y+=w<<=1,0>(w-=m[c]))return 0;for(;0<m[c];--m[c]){if(s=new u,(v&b)!=x){for(h+=B,g=1<<(x=c)-r;15>x&&!(0>=(g-=m[x]));)++x,g<<=1;f+=B=1<<(g=x-r),e[n+(x=v&b)].g=g+r,e[n+x].value=h-n-x}s.g=c-r,s.value=o[d++],A(e,h+(v>>r),i,B,s),v=l(v,c)}}return y!=2*p[15]-1?0:f}(e,n,r,s,i,o)}function u(){this.value=this.g=0}function d(){this.value=this.g=0}function h(){this.G=i(5,u),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Pn,d)}function f(e,n,r,s){t(null!=e),t(null!=n),t(2147483648>s),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+s,e.Zc=4<=s?r+s-4+1:r,C(e)}function m(e,t){for(var n=0;0<t--;)n|=F(e,128)<<t;return n}function p(e,t){var n=m(e,t);return k(e)?-n:n}function g(e,n,r,s){var a,i=0;for(t(null!=e),t(null!=n),t(4294967288>s),e.Sb=s,e.Ra=0,e.u=0,e.h=0,4<s&&(s=4),a=0;a<s;++a)i+=n[r+a]<<8*a;e.Ra=i,e.bb=s,e.oa=n,e.pa=r}function x(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Hn-8>>>0,++e.bb,e.u-=8;B(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=On){var r=w(e)&Tn[n];return e.u+=n,x(e),r}return e.h=1,e.u=0}function v(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function w(e){return e.Ra>>>(e.u&Hn-1)>>>0}function B(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Hn}function N(e,t){e.u=t,e.h=B(e)}function j(e){e.u>=Rn&&(t(e.u>=Rn),x(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function k(e){return m(e,1)}function F(e,t){var n=e.Ca;0>e.b&&C(e);var r=e.b,s=n*t>>>8,a=(e.I>>>r>s)+0;for(a?(n-=s,e.I-=s+1<<r>>>0):n=s+1,r=n,s=0;256<=r;)s+=8,r>>=8;return r=7^s+zn[r],e.b-=r,e.Ca=(n<<r)-1,a}function S(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function E(e,t){return e[t+0]|e[t+1]<<8}function _(e,t){return E(e,t)|e[t+2]<<16}function U(e,t){return E(e,t)|E(e,t+2)<<16}function Q(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=a(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function L(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function I(){this.X=[],this.Xa=this.Mb=0}function M(e,n,r,s){t(null!=r),t(null!=s);var a=r[0],i=s[0];return 0==a&&(a=(e*i+n/2)/n),0==i&&(i=(n*a+e/2)/e),0>=a||0>=i?0:(r[0]=a,s[0]=i,1)}function D(e,t){return e+(1<<t)-1>>>t}function P(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function T(t,n){e[n]=function(n,r,s,a,i,o,l){var A;for(A=0;A<i;++A){var c=e[t](o[l+A-1],s,a+A);o[l+A]=P(n[r+A],c)}}}function O(){this.ud=this.hd=this.jd=0}function H(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function R(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function z(e,t){return R(e+(e-t+.5>>1))}function K(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function V(e,t,n,r,s,a,i){for(r=a[i-1],n=0;n<s;++n)a[i+n]=r=P(e[t+n],r)}function q(e,t,n,r,s){var a;for(a=0;a<n;++a){var i=e[t+a],o=i>>8&255,l=16711935&(l=(l=16711935&i)+((o<<16)+o));r[s+a]=(4278255360&i)+l>>>0}}function W(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function G(e,t,n,r,s,a){var i;for(i=0;i<r;++i){var o=t[n+i],l=o>>>8,A=o,c=255&(c=(c=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));A=255&(A=(A+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(c<<24>>24)>>>5)),s[a+i]=(4278255360&o)+(c<<16)+A}}function Y(t,n,r,s,a){e[n]=function(e,t,n,r,i,o,l,A,c){for(r=l;r<A;++r)for(l=0;l<c;++l)i[o++]=a(n[s(e[t++])])},e[t]=function(t,n,i,o,l,A,c){var u=8>>t.b,d=t.Ea,h=t.K[0],f=t.w;if(8>u)for(t=(1<<t.b)-1,f=(1<<u)-1;n<i;++n){var m,p=0;for(m=0;m<d;++m)m&t||(p=s(o[l++])),A[c++]=a(h[p&f]),p>>=u}else e["VP8LMapColor"+r](o,l,h,f,A,c,n,i,d)}}function J(e,t,n,r,s){for(n=t+n;t<n;){var a=e[t++];r[s++]=a>>16&255,r[s++]=a>>8&255,r[s++]=255&a}}function X(e,t,n,r,s){for(n=t+n;t<n;){var a=e[t++];r[s++]=a>>16&255,r[s++]=a>>8&255,r[s++]=255&a,r[s++]=a>>24&255}}function Z(e,t,n,r,s){for(n=t+n;t<n;){var a=(i=e[t++])>>16&240|i>>12&15,i=240&i|i>>28&15;r[s++]=a,r[s++]=i}}function $(e,t,n,r,s){for(n=t+n;t<n;){var a=(i=e[t++])>>16&248|i>>13&7,i=i>>5&224|i>>3&31;r[s++]=a,r[s++]=i}}function ee(e,t,n,r,s){for(n=t+n;t<n;){var a=e[t++];r[s++]=255&a,r[s++]=a>>8&255,r[s++]=a>>16&255}}function te(e,t,n,s,a,i){if(0==i)for(n=t+n;t<n;)S(s,((i=e[t++])[0]>>24|i[1]>>8&65280|i[2]<<8&16711680|i[3]<<24)>>>0),a+=32;else r(s,a,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Rr||e==zr||e==Kr||e==Vr}function se(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new se,this.f.kb=new ae,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ae(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ce(e,t){var n=e.T,s=t.ba.f.RGBA,a=s.eb,i=s.fb+e.ka*s.A,o=ps[t.ba.S],l=e.y,A=e.O,c=e.f,u=e.N,d=e.ea,h=e.W,f=t.cc,m=t.dc,p=t.Mc,g=t.Nc,x=e.ka,b=e.ka+e.T,v=e.U,y=v+1>>1;for(0==x?o(l,A,null,null,c,u,d,h,c,u,d,h,a,i,null,null,v):(o(t.ec,t.fc,l,A,f,m,p,g,c,u,d,h,a,i-s.A,a,i,v),++n);x+2<b;x+=2)f=c,m=u,p=d,g=h,u+=e.Rc,h+=e.Rc,i+=2*s.A,o(l,(A+=2*e.fa)-e.fa,l,A,f,m,p,g,c,u,d,h,a,i-s.A,a,i,v);return A+=e.fa,e.j+b<e.o?(r(t.ec,t.fc,l,A,v),r(t.cc,t.dc,c,u,y),r(t.Mc,t.Nc,d,h,y),n--):1&b||o(l,A,null,null,c,u,d,h,c,u,d,h,a,i+s.A,null,null,v),n}function ue(e,n,r){var s=e.F,a=[e.J];if(null!=s){var i=e.U,o=n.ba.S,l=o==Tr||o==Kr;n=n.ba.f.RGBA;var A=[0],c=e.ka;A[0]=e.T,e.Kb&&(0==c?--A[0]:(--c,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(A[0]=e.o-e.j-c));var u=n.eb;c=n.fb+c*n.A,e=Nr(s,a[0],e.width,i,A,u,c+(l?0:3),n.A),t(r==A),e&&re(o)&&wr(u,c,l,i,A,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,r=11>n,s=n==Mr||n==Pr||n==Tr||n==Or||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!In(t.Oa,e,s?11:12))return 0;if(s&&re(n)&&xn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=Ae,e.Kb){if(n=e.U+1>>1,t.memory=a(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ce,xn()}}else alert("todo:EmitYUV");s&&(t.Jb=ue,r&&pn())}if(r&&!Es){for(e=0;256>e;++e)_s[e]=89858*(e-128)+js>>Ns,Ls[e]=-22014*(e-128)+js,Qs[e]=-45773*(e-128),Us[e]=113618*(e-128)+js>>Ns;for(e=Cs;e<ks;++e)t=76283*(e-16)+js>>Ns,Is[e-Cs]=Ve(t,255),Ms[e-Cs]=Ve(t+8>>4,15);Es=1}return 1}function he(e){var n=e.ma,r=e.U,s=e.T;return t(!(1&e.ka)),0>=r||0>=s?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function me(e,t,n,r){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,r[0]=b(e,1),0!=b(e,3)?0:!e.h)}function pe(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function ge(e,t){return 120<t?t-120:1<=(n=((n=Xr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function xe(e,t,n){var r=w(n),s=e[t+=255&r].g-8;return 0<s&&(N(n,n.u+8),r=w(n),t+=e[t].value,t+=r&(1<<s)-1),N(n,n.u+e[t].g),e[t].value}function be(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ve(e,n,r){var s=e.xc;return t((n=0==s?0:e.vc[e.md*(r>>s)+(n>>s)])<e.Wb),e.Ya[n]}function ye(e,n,s,a){var i=e.ab,o=e.c*n,l=e.C;n=l+n;var A=s,c=a;for(a=e.Ta,s=e.Ua;0<i--;){var u=e.gc[i],d=l,h=n,f=A,m=c,p=(c=a,A=s,u.Ea);switch(t(d<h),t(h<=u.nc),u.hc){case 2:qn(f,m,(h-d)*p,c,A);break;case 0:var g=d,x=h,b=c,v=A,y=(C=u).Ea;0==g&&(Kn(f,m,null,null,1,b,v),V(f,m+1,0,0,y-1,b,v+1),m+=y,v+=y,++g);for(var w=1<<C.b,B=w-1,N=D(y,C.b),j=C.K,C=C.w+(g>>C.b)*N;g<x;){var k=j,F=C,S=1;for(Vn(f,m,b,v-y,1,b,v);S<y;){var E=(S&~B)+w;E>y&&(E=y),(0,Xn[k[F++]>>8&15])(f,m+ +S,b,v+S-y,E-S,b,v+S),S=E}m+=y,v+=y,++g&B||(C+=N)}h!=u.nc&&r(c,A-p,c,A+(h-d-1)*p,p);break;case 1:for(p=f,x=m,y=(f=u.Ea)-(v=f&~(b=(m=1<<u.b)-1)),g=D(f,u.b),w=u.K,u=u.w+(d>>u.b)*g;d<h;){for(B=w,N=u,j=new O,C=x+v,k=x+f;x<C;)W(B[N++],j),Zn(j,p,x,m,c,A),x+=m,A+=m;x<k&&(W(B[N++],j),Zn(j,p,x,y,c,A),x+=y,A+=y),++d&b||(u+=g)}break;case 3:if(f==c&&m==A&&0<u.b){for(x=c,f=p=A+(h-d)*p-(v=(h-d)*D(u.Ea,u.b)),m=c,b=A,g=[],v=(y=v)-1;0<=v;--v)g[v]=m[b+v];for(v=y-1;0<=v;--v)x[f+v]=g[v];Wn(u,d,h,c,p,c,A)}else Wn(u,d,h,f,m,c,A)}A=a,c=s}c!=s&&r(a,s,A,c,o)}function we(e,n){var r=e.V,s=e.Ba+e.c*e.C,a=n-e.C;if(t(n<=e.l.o),t(16>=a),0<a){var i=e.l,o=e.Ta,l=e.Ua,A=i.width;if(ye(e,a,r,s),a=l=[l],t((r=e.C)<(s=n)),t(i.v<i.va),s>i.o&&(s=i.o),r<i.j){var c=i.j-r;r=i.j,a[0]+=c*A}if(r>=s?r=0:(a[0]+=4*i.v,i.ka=r-i.j,i.U=i.va-i.v,i.T=s-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,d=(s=r.S,a=i.U,i=i.T,c=u.eb,u.A),h=i;for(u=u.fb+e.Ma*u.A;0<h--;){var f=o,m=l,p=a,g=c,x=u;switch(s){case Ir:$n(f,m,p,g,x);break;case Mr:er(f,m,p,g,x);break;case Rr:er(f,m,p,g,x),wr(g,x,0,p,1,0);break;case Dr:rr(f,m,p,g,x);break;case Pr:te(f,m,p,g,x,1);break;case zr:te(f,m,p,g,x,1),wr(g,x,0,p,1,0);break;case Tr:te(f,m,p,g,x,0);break;case Kr:te(f,m,p,g,x,0),wr(g,x,1,p,1,0);break;case Or:tr(f,m,p,g,x);break;case Vr:tr(f,m,p,g,x),Br(g,x,p,1,0);break;case Hr:nr(f,m,p,g,x);break;default:t(0)}l+=A,u+=d}e.Ma+=i}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Be(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Ne(e,n,r,s,a,i){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=ms[e.Z]);n<r;++n)ms[e.Z](o,l,s,a,s,a,i),o=s,l=a,a+=i;e.qd=o,e.rd=l}}function je(e,n){var r=e.l.ma,s=0==r.Z||1==r.Z?e.l.j:e.C;if(s=e.C<s?s:e.C,t(n<=e.l.o),n>s){var a=e.l.width,i=r.ca,o=r.tb+a*s,l=e.V,A=e.Ba+e.c*s,c=e.gc;t(1==e.ab),t(3==c[0].hc),Yn(c[0],s,n,l,A,i,o),Ne(r,s,n,i,o,a)}e.C=e.Ma=n}function Ce(e,n,r,s,a,i,o){var l=e.$/s,A=e.$%s,c=e.m,u=e.s,d=r+e.$,h=d;a=r+s*a;var f=r+s*i,m=280+u.ua,p=e.Pb?l:16777216,g=0<u.ua?u.Wa:null,x=u.wc,b=d<f?ve(u,A,l):null;t(e.C<i),t(f<=a);var v=!1;e:for(;;){for(;v||d<f;){var y=0;if(l>=p){var C=d-r;t((p=e).Pb),p.wd=p.m,p.xd=C,0<p.s.ua&&L(p.s.Wa,p.s.vb),p=l+$r}if(A&x||(b=ve(u,A,l)),t(null!=b),b.Qb&&(n[d]=b.qb,v=!0),!v)if(j(c),b.jc){y=c,C=n;var k=d,F=b.pd[w(y)&Pn-1];t(b.jc),256>F.g?(N(y,y.u+F.g),C[k]=F.value,y=0):(N(y,y.u+F.g-256),t(256<=F.value),y=F.value),0==y&&(v=!0)}else y=xe(b.G[0],b.H[0],c);if(c.h)break;if(v||256>y){if(!v)if(b.nd)n[d]=(b.qb|y<<8)>>>0;else{if(j(c),v=xe(b.G[1],b.H[1],c),j(c),C=xe(b.G[2],b.H[2],c),k=xe(b.G[3],b.H[3],c),c.h)break;n[d]=(k<<24|v<<16|y<<8|C)>>>0}if(v=!1,++d,++A>=s&&(A=0,++l,null!=o&&l<=i&&!(l%16)&&o(e,l),null!=g))for(;h<d;)y=n[h++],g.X[(506832829*y&4294967295)>>>g.Mb]=y}else if(280>y){if(y=pe(y-256,c),C=xe(b.G[4],b.H[4],c),j(c),C=ge(s,C=pe(C,c)),c.h)break;if(d-r<C||a-d<y)break e;for(k=0;k<y;++k)n[d+k]=n[d+k-C];for(d+=y,A+=y;A>=s;)A-=s,++l,null!=o&&l<=i&&!(l%16)&&o(e,l);if(t(d<=a),A&x&&(b=ve(u,A,l)),null!=g)for(;h<d;)y=n[h++],g.X[(506832829*y&4294967295)>>>g.Mb]=y}else{if(!(y<m))break e;for(v=y-280,t(null!=g);h<d;)y=n[h++],g.X[(506832829*y&4294967295)>>>g.Mb]=y;y=d,t(!(v>>>(C=g).Xa)),n[y]=C.X[v],v=!0}v||t(c.h==B(c))}if(e.Pb&&c.h&&d<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(c.h)break e;null!=o&&o(e,l>i?i:l),e.a=0,e.$=d-r}return 1}return e.a=3,0}function ke(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Fe(){var t=new an;return null==t?null:(t.a=0,t.xb=fs,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),qn=q,Zn=G,$n=J,er=X,tr=Z,nr=$,rr=ee,e.VP8LMapColor32b=Gn,e.VP8LMapColor8b=Jn,t)}function Se(e,n,r,o,l){var A=1,d=[e],f=[n],m=o.m,p=o.s,g=null,x=0;e:for(;;){if(r)for(;A&&b(m,1);){var v=d,y=f,B=o,C=1,k=B.m,F=B.gc[B.ab],S=b(k,2);if(B.Oc&1<<S)A=0;else{switch(B.Oc|=1<<S,F.hc=S,F.Ea=v[0],F.nc=y[0],F.K=[null],++B.ab,t(4>=B.ab),S){case 0:case 1:F.b=b(k,3)+2,C=Se(D(F.Ea,F.b),D(F.nc,F.b),0,B,F.K),F.K=F.K[0];break;case 3:var E,_=b(k,8)+1,U=16<_?0:4<_?1:2<_?2:3;if(v[0]=D(F.Ea,U),F.b=U,E=C=Se(_,1,0,B,F.K)){var L,I=_,M=F,T=1<<(8>>M.b),O=a(T);if(null==O)E=0;else{var H=M.K[0],R=M.w;for(O[0]=M.K[0][0],L=1;L<1*I;++L)O[L]=P(H[R+L],O[L-1]);for(;L<4*T;++L)O[L]=0;M.K[0]=null,M.K[0]=O,E=1}}C=E;break;case 2:break;default:t(0)}A=C}}if(d=d[0],f=f[0],A&&b(m,1)&&!(A=1<=(x=b(m,4))&&11>=x)){o.a=3;break e}var z;if(z=A)t:{var K,V,q,W=o,G=d,Y=f,J=x,X=r,Z=W.m,$=W.s,ee=[null],te=1,ne=0,re=Zr[J];n:for(;;){if(X&&b(Z,1)){var se=b(Z,3)+2,ae=D(G,se),ie=D(Y,se),oe=ae*ie;if(!Se(ae,ie,0,W,ee))break n;for(ee=ee[0],$.xc=se,K=0;K<oe;++K){var le=ee[K]>>8&65535;ee[K]=le,le>=te&&(te=le+1)}}if(Z.h)break n;for(V=0;5>V;++V){var Ae=Gr[V];!V&&0<J&&(Ae+=1<<J),ne<Ae&&(ne=Ae)}var ce=i(te*re,u),ue=te,de=i(ue,h);if(null==de)var he=null;else t(65536>=ue),he=de;var fe=a(ne);if(null==he||null==fe||null==ce){W.a=1;break n}var me=ce;for(K=q=0;K<te;++K){var pe=he[K],ge=pe.G,xe=pe.H,ve=0,ye=1,we=0;for(V=0;5>V;++V){Ae=Gr[V],ge[V]=me,xe[V]=q,!V&&0<J&&(Ae+=1<<J);r:{var Be,Ne=Ae,je=W,Fe=fe,Ee=me,_e=q,Ue=0,Qe=je.m,Le=b(Qe,1);if(s(Fe,0,0,Ne),Le){var Ie=b(Qe,1)+1,Me=b(Qe,1),De=b(Qe,0==Me?1:8);Fe[De]=1,2==Ie&&(Fe[De=b(Qe,8)]=1);var Pe=1}else{var Te=a(19),Oe=b(Qe,4)+4;if(19<Oe){je.a=3;var He=0;break r}for(Be=0;Be<Oe;++Be)Te[Jr[Be]]=b(Qe,3);var Re=void 0,ze=void 0,Ke=je,Ve=Te,qe=Ne,We=Fe,Ge=0,Ye=Ke.m,Je=8,Xe=i(128,u);s:for(;c(Xe,0,7,Ve,19);){if(b(Ye,1)){var Ze=2+2*b(Ye,3);if((Re=2+b(Ye,Ze))>qe)break s}else Re=qe;for(ze=0;ze<qe&&Re--;){j(Ye);var $e=Xe[0+(127&w(Ye))];N(Ye,Ye.u+$e.g);var et=$e.value;if(16>et)We[ze++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=Wr[nt],st=b(Ye,qr[nt])+rt;if(ze+st>qe)break s;for(var at=tt?Je:0;0<st--;)We[ze++]=at}}Ge=1;break s}Ge||(Ke.a=3),Pe=Ge}(Pe=Pe&&!Qe.h)&&(Ue=c(Ee,_e,8,Fe,Ne)),Pe&&0!=Ue?He=Ue:(je.a=3,He=0)}if(0==He)break n;if(ye&&1==Yr[V]&&(ye=0==me[q].g),ve+=me[q].g,q+=He,3>=V){var it,ot=fe[0];for(it=1;it<Ae;++it)fe[it]>ot&&(ot=fe[it]);we+=ot}}if(pe.nd=ye,pe.Qb=0,ye&&(pe.qb=(ge[3][xe[3]+0].value<<24|ge[1][xe[1]+0].value<<16|ge[2][xe[2]+0].value)>>>0,0==ve&&256>ge[0][xe[0]+0].value&&(pe.Qb=1,pe.qb+=ge[0][xe[0]+0].value<<8)),pe.jc=!pe.Qb&&6>we,pe.jc){var lt,At=pe;for(lt=0;lt<Pn;++lt){var ct=lt,ut=At.pd[ct],dt=At.G[0][At.H[0]+ct];256<=dt.value?(ut.g=dt.g+256,ut.value=dt.value):(ut.g=0,ut.value=0,ct>>=be(dt,8,ut),ct>>=be(At.G[1][At.H[1]+ct],16,ut),ct>>=be(At.G[2][At.H[2]+ct],0,ut),be(At.G[3][At.H[3]+ct],24,ut))}}}$.vc=ee,$.Wb=te,$.Ya=he,$.yc=ce,z=1;break t}z=0}if(!(A=z)){o.a=3;break e}if(0<x){if(p.ua=1<<x,!Q(p.Wa,x)){o.a=1,A=0;break e}}else p.ua=0;var ht=o,ft=d,mt=f,pt=ht.s,gt=pt.xc;if(ht.c=ft,ht.i=mt,pt.md=D(ft,gt),pt.wc=0==gt?-1:(1<<gt)-1,r){o.xb=hs;break e}if(null==(g=a(d*f))){o.a=1,A=0;break e}A=(A=Ce(o,g,0,d,f,f,null))&&!m.h;break e}return A?(null!=l?l[0]=g:(t(null==g),t(r)),o.$=0,r||ke(p)):ke(p),A}function Ee(e,n){var r=e.c*e.i,s=r+n+16*n;return t(e.c<=n),e.V=a(s),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function _e(e,n){var r=e.C,s=n-r,a=e.V,i=e.Ba+e.c*r;for(t(n<=e.l.o);0<s;){var o=16<s?16:s,l=e.l.ma,A=e.l.width,c=A*o,u=l.ca,d=l.tb+A*r,h=e.Ta,f=e.Ua;ye(e,o,a,i),jr(h,f,u,d,c),Ne(l,r,r+o,u,d,A),s-=o,a+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Ue(){this.ub=this.yd=this.td=this.Rb=0}function Qe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ie(){this.Yb=function(){var e=[];return function e(t,n,r){for(var s=r[n],a=0;a<s&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));a++)e(t[a],n+1,r)}(e,0,[3,11]),e}()}function Me(){this.jb=a(3),this.Wc=o([4,8],Ie),this.Xc=o([4,17],Ie)}function De(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Pe(){this.ld=this.La=this.dd=this.tc=0}function Te(){this.Na=this.la=0}function Oe(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function He(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Re(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pe),this.Y=0,this.ya=Array(new He),this.aa=0,this.l=new qe}function ze(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ke(){this.cb=this.a=0,this.sc="",this.m=new v,this.Od=new Ue,this.Kc=new Qe,this.ed=new De,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new Re,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,v),this.ia=0,this.pb=i(4,Oe),this.Pa=new Me,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ze),this.Hd=0,this.rb=Array(new Te),this.sb=0,this.wa=Array(new Pe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new He),this.L=this.aa=0,this.gd=o([4,2],Pe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function qe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function We(){var e=new Ke;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ns||(ns=Xe)),e}function Ge(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ye(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ge(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,a=n.w,i=n.ha;if(4>i)return Ge(e,7,"Truncated header.");var o=r[a+0]|r[a+1]<<8|r[a+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ge(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ge(e,4,"Frame not displayable.");a+=3,i-=3;var A=e.Kc;if(l.Rb){if(7>i)return Ge(e,7,"cannot parse picture header");if(!Ye(r,a,i))return Ge(e,3,"Bad code word");A.c=16383&(r[a+4]<<8|r[a+3]),A.Td=r[a+4]>>6,A.i=16383&(r[a+6]<<8|r[a+5]),A.Ud=r[a+6]>>6,a+=7,i-=7,e.za=A.c+15>>4,e.Ub=A.i+15>>4,n.width=A.c,n.height=A.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,s((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,s(o.Zb,0,0,o.Zb.length),s(o.Lb,0,0,o.Lb)}if(l.ub>i)return Ge(e,7,"bad partition length");f(o=e.m,r,a,l.ub),a+=l.ub,i-=l.ub,l.Rb&&(A.Ld=k(o),A.Kd=k(o)),A=e.Qa;var c,u=e.Pa;if(t(null!=o),t(null!=A),A.Cb=k(o),A.Cb){if(A.Bb=k(o),k(o)){for(A.Fb=k(o),c=0;4>c;++c)A.Zb[c]=k(o)?p(o,7):0;for(c=0;4>c;++c)A.Lb[c]=k(o)?p(o,6):0}if(A.Bb)for(c=0;3>c;++c)u.jb[c]=k(o)?m(o,8):255}else A.Bb=0;if(o.Ka)return Ge(e,3,"cannot parse segment header");if((A=e.ed).zd=k(o),A.Tb=m(o,6),A.wb=m(o,3),A.Pc=k(o),A.Pc&&k(o)){for(u=0;4>u;++u)k(o)&&(A.vd[u]=p(o,6));for(u=0;4>u;++u)k(o)&&(A.od[u]=p(o,6))}if(e.L=0==A.Tb?0:A.zd?1:2,o.Ka)return Ge(e,3,"cannot parse filter header");var d=i;if(i=c=a,a=c+d,A=d,e.Xb=(1<<m(e.m,2))-1,d<3*(u=e.Xb))r=7;else{for(c+=3*u,A-=3*u,d=0;d<u;++d){var h=r[i+0]|r[i+1]<<8|r[i+2]<<16;h>A&&(h=A),f(e.Jc[+d],r,c,h),c+=h,A-=h,i+=3}f(e.Jc[+u],r,c,A),r=c<a?0:5}if(0!=r)return Ge(e,r,"cannot parse partitions");for(r=m(c=e.m,7),i=k(c)?p(c,4):0,a=k(c)?p(c,4):0,A=k(c)?p(c,4):0,u=k(c)?p(c,4):0,c=k(c)?p(c,4):0,d=e.Qa,h=0;4>h;++h){if(d.Cb){var g=d.Zb[h];d.Fb||(g+=r)}else{if(0<h){e.pb[h]=e.pb[0];continue}g=r}var x=e.pb[h];x.Sc[0]=es[Ve(g+i,127)],x.Sc[1]=ts[Ve(g+0,127)],x.Eb[0]=2*es[Ve(g+a,127)],x.Eb[1]=101581*ts[Ve(g+A,127)]>>16,8>x.Eb[1]&&(x.Eb[1]=8),x.Qc[0]=es[Ve(g+u,117)],x.Qc[1]=ts[Ve(g+c,127)],x.lc=g+c}if(!l.Rb)return Ge(e,4,"Not a key frame.");for(k(o),l=e.Pa,r=0;4>r;++r){for(i=0;8>i;++i)for(a=0;3>a;++a)for(A=0;11>A;++A)u=F(o,ls[r][i][a][A])?m(o,8):is[r][i][a][A],l.Wc[r][i].Yb[a][A]=u;for(i=0;17>i;++i)l.Xc[r][i]=l.Wc[r][As[i]]}return e.kc=k(o),e.kc&&(e.Bd=m(o,8)),e.cb=1}function Xe(e,t,n,r,s,a,i){var o=t[s].Yb[n];for(n=0;16>s;++s){if(!F(e,o[n+0]))return s;for(;!F(e,o[n+1]);)if(o=t[++s].Yb[0],n=0,16==s)return 16;var l=t[s+1].Yb;if(F(e,o[n+2])){var A=e,c=0;if(F(A,(d=o)[(u=n)+3]))if(F(A,d[u+6])){for(o=0,u=2*(c=F(A,d[u+8]))+(d=F(A,d[u+9+c])),c=0,d=rs[u];d[o];++o)c+=c+F(A,d[o]);c+=3+(8<<u)}else F(A,d[u+7])?(c=7+2*F(A,165),c+=F(A,145)):c=5+F(A,159);else c=F(A,d[u+4])?3+F(A,d[u+5]):2;o=l[2]}else c=1,o=l[1];l=i+ss[s],0>(A=e).b&&C(A);var u,d=A.b,h=(u=A.Ca>>1)-(A.I>>d)>>31;--A.b,A.Ca+=h,A.Ca|=1,A.I-=(u+1&h)<<d,a[l]=((c^h)-h)*r[(0<s)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,s(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,t,n,r,s){s=e[t+n+32*r]+(s>>3),e[t+n+32*r]=-256&s?0>s?0:255:s}function et(e,t,n,r,s,a){$e(e,t,0,n,r+s),$e(e,t,1,n,r+a),$e(e,t,2,n,r-a),$e(e,t,3,n,r-s)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var s,i=0,o=a(16);for(s=0;4>s;++s){var l=e[t+0]+e[t+8],A=e[t+0]-e[t+8],c=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);o[i+0]=l+u,o[i+1]=A+c,o[i+2]=A-c,o[i+3]=l-u,i+=4,t++}for(s=i=0;4>s;++s)l=(e=o[i+0]+4)+o[i+8],A=e-o[i+8],c=(35468*o[i+4]>>16)-tt(o[i+12]),$e(n,r,0,0,l+(u=tt(o[i+4])+(35468*o[i+12]>>16))),$e(n,r,1,0,A+c),$e(n,r,2,0,A-c),$e(n,r,3,0,l-u),i++,r+=32}function rt(e,t,n,r){var s=e[t+0]+4,a=35468*e[t+4]>>16,i=tt(e[t+4]),o=35468*e[t+1]>>16;et(n,r,0,s+i,e=tt(e[t+1]),o),et(n,r,1,s+a,e,o),et(n,r,2,s-a,e,o),et(n,r,3,s-i,e,o)}function st(e,t,n,r,s){nt(e,t,n,r),s&&nt(e,t+16,n,r+4)}function at(e,t,n,r){ar(e,t+0,n,r,1),ar(e,t+32,n,r+128,1)}function it(e,t,n,r){var s;for(e=e[t+0]+4,s=0;4>s;++s)for(t=0;4>t;++t)$e(n,r,t,s,e)}function ot(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var s,i=a(16);for(s=0;4>s;++s){var o=e[t+0+s]+e[t+12+s],l=e[t+4+s]+e[t+8+s],A=e[t+4+s]-e[t+8+s],c=e[t+0+s]-e[t+12+s];i[0+s]=o+l,i[8+s]=o-l,i[4+s]=c+A,i[12+s]=c-A}for(s=0;4>s;++s)o=(e=i[0+4*s]+3)+i[3+4*s],l=i[1+4*s]+i[2+4*s],A=i[1+4*s]-i[2+4*s],c=e-i[3+4*s],n[r+0]=o+l>>3,n[r+16]=c+A>>3,n[r+32]=o-l>>3,n[r+48]=c-A>>3,r+=64}function At(e,t,n){var r,s=t-32,a=Qr,i=255-e[s-1];for(r=0;r<n;++r){var o,l=a,A=i+e[t-1];for(o=0;o<n;++o)e[t+o]=l[A+e[s+o]];t+=32}}function ct(e,t){At(e,t,4)}function ut(e,t){At(e,t,8)}function dt(e,t){At(e,t,16)}function ht(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function ft(e,t){var n;for(n=16;0<n;--n)s(e,t,e[t-1],16),t+=32}function mt(e,t,n){var r;for(r=0;16>r;++r)s(t,n+32*r,e,16)}function pt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];mt(r>>5,e,t)}function gt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];mt(r>>4,e,t)}function xt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];mt(r>>4,e,t)}function bt(e,t){mt(128,e,t)}function vt(e,t,n){return e+2*t+n+2>>2}function yt(e,t){var n,s=t-32;for(s=new Uint8Array([vt(e[s-1],e[s+0],e[s+1]),vt(e[s+0],e[s+1],e[s+2]),vt(e[s+1],e[s+2],e[s+3]),vt(e[s+2],e[s+3],e[s+4])]),n=0;4>n;++n)r(e,t+32*n,s,0,s.length)}function wt(e,t){var n=e[t-1],r=e[t-1+32],s=e[t-1+64],a=e[t-1+96];S(e,t+0,16843009*vt(e[t-1-32],n,r)),S(e,t+32,16843009*vt(n,r,s)),S(e,t+64,16843009*vt(r,s,a)),S(e,t+96,16843009*vt(s,a,a))}function Bt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)s(e,t+32*n,r,4)}function Nt(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],a=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],A=e[t+3-32];e[t+0+96]=vt(r,s,e[t-1+96]),e[t+1+96]=e[t+0+64]=vt(n,r,s),e[t+2+96]=e[t+1+64]=e[t+0+32]=vt(a,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=vt(i,a,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=vt(o,i,a),e[t+3+32]=e[t+2+0]=vt(l,o,i),e[t+3+0]=vt(A,l,o)}function jt(e,t){var n=e[t+1-32],r=e[t+2-32],s=e[t+3-32],a=e[t+4-32],i=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=vt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=vt(n,r,s),e[t+2+0]=e[t+1+32]=e[t+0+64]=vt(r,s,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=vt(s,a,i),e[t+3+32]=e[t+2+64]=e[t+1+96]=vt(a,i,o),e[t+3+64]=e[t+2+96]=vt(i,o,l),e[t+3+96]=vt(o,l,l)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],a=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],A=e[t+3-32];e[t+0+0]=e[t+1+64]=a+i+1>>1,e[t+1+0]=e[t+2+64]=i+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+A+1>>1,e[t+0+96]=vt(s,r,n),e[t+0+64]=vt(r,n,a),e[t+0+32]=e[t+1+96]=vt(n,a,i),e[t+1+32]=e[t+2+96]=vt(a,i,o),e[t+2+32]=e[t+3+96]=vt(i,o,l),e[t+3+32]=vt(o,l,A)}function kt(e,t){var n=e[t+0-32],r=e[t+1-32],s=e[t+2-32],a=e[t+3-32],i=e[t+4-32],o=e[t+5-32],l=e[t+6-32],A=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+s+1>>1,e[t+2+0]=e[t+1+64]=s+a+1>>1,e[t+3+0]=e[t+2+64]=a+i+1>>1,e[t+0+32]=vt(n,r,s),e[t+1+32]=e[t+0+96]=vt(r,s,a),e[t+2+32]=e[t+1+96]=vt(s,a,i),e[t+3+32]=e[t+2+96]=vt(a,i,o),e[t+3+64]=vt(i,o,l),e[t+3+96]=vt(o,l,A)}function Ft(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],a=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+s+1>>1,e[t+2+32]=e[t+0+64]=s+a+1>>1,e[t+1+0]=vt(n,r,s),e[t+3+0]=e[t+1+32]=vt(r,s,a),e[t+3+32]=e[t+1+64]=vt(s,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function St(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],a=e[t-1+96],i=e[t-1-32],o=e[t+0-32],l=e[t+1-32],A=e[t+2-32];e[t+0+0]=e[t+2+32]=n+i+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=s+r+1>>1,e[t+0+96]=a+s+1>>1,e[t+3+0]=vt(o,l,A),e[t+2+0]=vt(i,o,l),e[t+1+0]=e[t+3+32]=vt(n,i,o),e[t+1+32]=e[t+3+64]=vt(r,n,i),e[t+1+64]=e[t+3+96]=vt(s,r,n),e[t+1+96]=vt(a,s,r)}function Et(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function _t(e,t){var n;for(n=0;8>n;++n)s(e,t,e[t-1],8),t+=32}function Ut(e,t,n){var r;for(r=0;8>r;++r)s(t,n+32*r,e,8)}function Qt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Ut(r>>4,e,t)}function Lt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Ut(r>>3,e,t)}function It(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Ut(r>>3,e,t)}function Mt(e,t){Ut(128,e,t)}function Dt(e,t,n){var r=e[t-n],s=e[t+0],a=3*(s-r)+_r[1020+e[t-2*n]-e[t+n]],i=Ur[112+(a+4>>3)];e[t-n]=Qr[255+r+Ur[112+(a+3>>3)]],e[t+0]=Qr[255+s-i]}function Pt(e,t,n,r){var s=e[t+0],a=e[t+n];return Lr[255+e[t-2*n]-e[t-n]]>r||Lr[255+a-s]>r}function Tt(e,t,n,r){return 4*Lr[255+e[t-n]-e[t+0]]+Lr[255+e[t-2*n]-e[t+n]]<=r}function Ot(e,t,n,r,s){var a=e[t-3*n],i=e[t-2*n],o=e[t-n],l=e[t+0],A=e[t+n],c=e[t+2*n],u=e[t+3*n];return 4*Lr[255+o-l]+Lr[255+i-A]>r?0:Lr[255+e[t-4*n]-a]<=s&&Lr[255+a-i]<=s&&Lr[255+i-o]<=s&&Lr[255+u-c]<=s&&Lr[255+c-A]<=s&&Lr[255+A-l]<=s}function Ht(e,t,n,r){var s=2*r+1;for(r=0;16>r;++r)Tt(e,t+r,n,s)&&Dt(e,t+r,n)}function Rt(e,t,n,r){var s=2*r+1;for(r=0;16>r;++r)Tt(e,t+r*n,1,s)&&Dt(e,t+r*n,1)}function zt(e,t,n,r){var s;for(s=3;0<s;--s)Ht(e,t+=4*n,n,r)}function Kt(e,t,n,r){var s;for(s=3;0<s;--s)Rt(e,t+=4,n,r)}function Vt(e,t,n,r,s,a,i,o){for(a=2*a+1;0<s--;){if(Ot(e,t,n,a,i))if(Pt(e,t,n,o))Dt(e,t,n);else{var l=e,A=t,c=n,u=l[A-2*c],d=l[A-c],h=l[A+0],f=l[A+c],m=l[A+2*c],p=27*(x=_r[1020+3*(h-d)+_r[1020+u-f]])+63>>7,g=18*x+63>>7,x=9*x+63>>7;l[A-3*c]=Qr[255+l[A-3*c]+x],l[A-2*c]=Qr[255+u+g],l[A-c]=Qr[255+d+p],l[A+0]=Qr[255+h-p],l[A+c]=Qr[255+f-g],l[A+2*c]=Qr[255+m-x]}t+=r}}function qt(e,t,n,r,s,a,i,o){for(a=2*a+1;0<s--;){if(Ot(e,t,n,a,i))if(Pt(e,t,n,o))Dt(e,t,n);else{var l=e,A=t,c=n,u=l[A-c],d=l[A+0],h=l[A+c],f=Ur[112+(4+(m=3*(d-u))>>3)],m=Ur[112+(m+3>>3)],p=f+1>>1;l[A-2*c]=Qr[255+l[A-2*c]+p],l[A-c]=Qr[255+u+m],l[A+0]=Qr[255+d-f],l[A+c]=Qr[255+h-p]}t+=r}}function Wt(e,t,n,r,s,a){Vt(e,t,n,1,16,r,s,a)}function Gt(e,t,n,r,s,a){Vt(e,t,1,n,16,r,s,a)}function Yt(e,t,n,r,s,a){var i;for(i=3;0<i;--i)qt(e,t+=4*n,n,1,16,r,s,a)}function Jt(e,t,n,r,s,a){var i;for(i=3;0<i;--i)qt(e,t+=4,1,n,16,r,s,a)}function Xt(e,t,n,r,s,a,i,o){Vt(e,t,s,1,8,a,i,o),Vt(n,r,s,1,8,a,i,o)}function Zt(e,t,n,r,s,a,i,o){Vt(e,t,1,s,8,a,i,o),Vt(n,r,1,s,8,a,i,o)}function $t(e,t,n,r,s,a,i,o){qt(e,t+4*s,s,1,8,a,i,o),qt(n,r+4*s,s,1,8,a,i,o)}function en(e,t,n,r,s,a,i,o){qt(e,t+4,1,s,8,a,i,o),qt(n,r+4,1,s,8,a,i,o)}function tn(){this.ba=new ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new I,this.vb=new I,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new h,this.yc=new u}function an(){this.xb=this.a=0,this.l=new qe,this.ca=new ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new y,this.Pb=0,this.wd=new y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=i(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,s,a,i){for(e=null==e?0:e[t+0],t=0;t<i;++t)s[a+t]=e+n[r+t]&255,e=s[a+t]}function An(e,t,n,r,s,a,i){var o;if(null==e)ln(null,null,n,r,s,a,i);else for(o=0;o<i;++o)s[a+o]=e[t+o]+n[r+o]&255}function cn(e,t,n,r,s,a,i){if(null==e)ln(null,null,n,r,s,a,i);else{var o,l=e[t+0],A=l,c=l;for(o=0;o<i;++o)A=c+(l=e[t+o])-A,c=n[r+o]+(-256&A?0>A?0:255:A)&255,A=l,s[a+o]=c}}function un(e,n,s,i){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>s||0>=i||s+i>l)return null;if(!e.Cc){if(null==e.ga){var A;if(e.ga=new on,(A=null==e.ga)||(A=n.width*n.o,t(0==e.Gb.length),e.Gb=a(A),e.Uc=0,null==e.Gb?A=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,A=1),A=!A),!A){A=e.ga;var c=e.Fa,u=e.P,d=e.qc,h=e.mb,f=e.nb,m=u+1,p=d-1,x=A.l;if(t(null!=c&&null!=h&&null!=n),ms[0]=null,ms[1]=ln,ms[2]=An,ms[3]=cn,A.ca=h,A.tb=f,A.c=n.width,A.i=n.height,t(0<A.c&&0<A.i),1>=d)n=0;else if(A.$a=3&c[u+0],A.Z=c[u+0]>>2&3,A.Lc=c[u+0]>>4&3,u=c[u+0]>>6&3,0>A.$a||1<A.$a||4<=A.Z||1<A.Lc||u)n=0;else if(x.put=he,x.ac=de,x.bc=fe,x.ma=A,x.width=n.width,x.height=n.height,x.Da=n.Da,x.v=n.v,x.va=n.va,x.j=n.j,x.o=n.o,A.$a)e:{t(1==A.$a),n=Fe();t:for(;;){if(null==n){n=0;break e}if(t(null!=A),A.mc=n,n.c=A.c,n.i=A.i,n.l=A.l,n.l.ma=A,n.l.width=A.c,n.l.height=A.i,n.a=0,g(n.m,c,m,p),!Se(A.c,A.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Be(n.s)?(A.ic=1,c=n.c*n.i,n.Ta=null,n.Ua=0,n.V=a(c),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(A.ic=0,n=Ee(n,A.c)),!n)break t;n=1;break e}A.mc=null,n=0}else n=p>=A.c*A.i;A=!n}if(A)return null;1!=e.ga.Lc?e.Ga=0:i=l-s}t(null!=e.ga),t(s+i<=l);e:{if(n=(c=e.ga).c,l=c.l.o,0==c.$a){if(m=e.rc,p=e.Vc,x=e.Fa,u=e.P+1+s*n,d=e.mb,h=e.nb+s*n,t(u<=e.P+e.qc),0!=c.Z)for(t(null!=ms[c.Z]),A=0;A<i;++A)ms[c.Z](m,p,x,u,d,h,n),m=d,p=h,h+=n,u+=n;else for(A=0;A<i;++A)r(d,h,x,u,n),m=d,p=h,h+=n,u+=n;e.rc=m,e.Vc=p}else{if(t(null!=c.mc),n=s+i,t(null!=(A=c.mc)),t(n<=A.i),A.C>=n)n=1;else if(c.ic||pn(),c.ic){c=A.V,m=A.Ba,p=A.c;var b=A.i,v=(x=1,u=A.$/p,d=A.$%p,h=A.m,f=A.s,A.$),y=p*b,w=p*n,N=f.wc,C=v<w?ve(f,d,u):null;t(v<=y),t(n<=b),t(Be(f));t:for(;;){for(;!h.h&&v<w;){if(d&N||(C=ve(f,d,u)),t(null!=C),j(h),256>(b=xe(C.G[0],C.H[0],h)))c[m+v]=b,++v,++d>=p&&(d=0,++u<=n&&!(u%16)&&je(A,u));else{if(!(280>b)){x=0;break t}b=pe(b-256,h);var k,F=xe(C.G[4],C.H[4],h);if(j(h),!(v>=(F=ge(p,F=pe(F,h)))&&y-v>=b)){x=0;break t}for(k=0;k<b;++k)c[m+v+k]=c[m+v+k-F];for(v+=b,d+=b;d>=p;)d-=p,++u<=n&&!(u%16)&&je(A,u);v<w&&d&N&&(C=ve(f,d,u))}t(h.h==B(h))}je(A,u>n?n:u);break t}!x||h.h&&v<y?(x=0,A.a=h.h?5:3):A.$=v,n=x}else n=Ce(A,A.V,A.Ba,A.c,A.i,n,_e);if(!n){i=0;break e}}s+i>=l&&(e.Cc=1),i=1}if(!i)return null;if(e.Cc&&(null!=(i=e.ga)&&(i.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+s*o}function dn(e,t,n,r,s,a){for(;0<s--;){var i,o=e,l=t+(n?1:0),A=e,c=t+(n?0:3);for(i=0;i<r;++i){var u=A[c+4*i];255!=u&&(u*=32897,o[l+4*i+0]=o[l+4*i+0]*u>>23,o[l+4*i+1]=o[l+4*i+1]*u>>23,o[l+4*i+2]=o[l+4*i+2]*u>>23)}t+=a}}function hn(e,t,n,r,s){for(;0<r--;){var a;for(a=0;a<n;++a){var i=e[t+2*a+0],o=15&(A=e[t+2*a+1]),l=4369*o,A=(240&A|A>>4)*l>>16;e[t+2*a+0]=(240&i|i>>4)*l>>16&240|(15&i|i<<4)*l>>16>>4&15,e[t+2*a+1]=240&A|o}t+=s}}function fn(e,t,n,r,s,a,i,o){var l,A,c=255;for(A=0;A<s;++A){for(l=0;l<r;++l){var u=e[t+l];a[i+4*l]=u,c&=u}t+=n,i+=o}return 255!=c}function mn(e,t,n,r,s){var a;for(a=0;a<s;++a)n[r+a]=e[t+a]>>8}function pn(){wr=dn,Br=hn,Nr=fn,jr=mn}function gn(n,r,s){e[n]=function(e,n,a,i,o,l,A,c,u,d,h,f,m,p,g,x,b){var v,y=b-1>>1,w=o[l+0]|A[c+0]<<16,B=u[d+0]|h[f+0]<<16;t(null!=e);var N=3*w+B+131074>>2;for(r(e[n+0],255&N,N>>16,m,p),null!=a&&(N=3*B+w+131074>>2,r(a[i+0],255&N,N>>16,g,x)),v=1;v<=y;++v){var j=o[l+v]|A[c+v]<<16,C=u[d+v]|h[f+v]<<16,k=w+j+B+C+524296,F=k+2*(j+B)>>3;N=F+w>>1,w=(k=k+2*(w+C)>>3)+j>>1,r(e[n+2*v-1],255&N,N>>16,m,p+(2*v-1)*s),r(e[n+2*v-0],255&w,w>>16,m,p+(2*v-0)*s),null!=a&&(N=k+B>>1,w=F+C>>1,r(a[i+2*v-1],255&N,N>>16,g,x+(2*v-1)*s),r(a[i+2*v+0],255&w,w>>16,g,x+(2*v+0)*s)),w=j,B=C}1&b||(N=3*w+B+131074>>2,r(e[n+b-1],255&N,N>>16,m,p+(b-1)*s),null!=a&&(N=3*B+w+131074>>2,r(a[i+b-1],255&N,N>>16,g,x+(b-1)*s)))}}function xn(){ps[Ir]=gs,ps[Mr]=bs,ps[Dr]=xs,ps[Pr]=vs,ps[Tr]=ys,ps[Or]=ws,ps[Hr]=Bs,ps[Rr]=bs,ps[zr]=vs,ps[Kr]=ys,ps[Vr]=ws}function bn(e){return e&~Ss?0>e?0:255:e>>Fs}function vn(e,t){return bn((19077*e>>8)+(26149*t>>8)-14234)}function yn(e,t,n){return bn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function wn(e,t){return bn((19077*e>>8)+(33050*t>>8)-17685)}function Bn(e,t,n,r,s){r[s+0]=vn(e,n),r[s+1]=yn(e,t,n),r[s+2]=wn(e,t)}function Nn(e,t,n,r,s){r[s+0]=wn(e,t),r[s+1]=yn(e,t,n),r[s+2]=vn(e,n)}function jn(e,t,n,r,s){var a=yn(e,t,n);t=a<<3&224|wn(e,t)>>3,r[s+0]=248&vn(e,n)|a>>5,r[s+1]=t}function Cn(e,t,n,r,s){var a=240&wn(e,t)|15;r[s+0]=240&vn(e,n)|yn(e,t,n)>>4,r[s+1]=a}function kn(e,t,n,r,s){r[s+0]=255,Bn(e,t,n,r,s+1)}function Fn(e,t,n,r,s){Nn(e,t,n,r,s),r[s+3]=255}function Sn(e,t,n,r,s){Bn(e,t,n,r,s),r[s+3]=255}function En(t,n,r){e[t]=function(e,t,s,a,i,o,l,A,c){for(var u=A+(-2&c)*r;A!=u;)n(e[t+0],s[a+0],i[o+0],l,A),n(e[t+1],s[a+0],i[o+0],l,A+r),t+=2,++a,++o,A+=2*r;1&c&&n(e[t+0],s[a+0],i[o+0],l,A)}}function _n(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Un(e,t,n,r,s){switch(e>>>30){case 3:ar(t,n,r,s,0);break;case 2:ir(t,n,r,s);break;case 1:lr(t,n,r,s)}}function Qn(e,t){var n,a,i=t.M,o=t.Nb,l=e.oc,A=e.pc+40,c=e.oc,u=e.pc+584,d=e.oc,h=e.pc+600;for(n=0;16>n;++n)l[A+32*n-1]=129;for(n=0;8>n;++n)c[u+32*n-1]=129,d[h+32*n-1]=129;for(0<i?l[A-1-32]=c[u-1-32]=d[h-1-32]=129:(s(l,A-32-1,127,21),s(c,u-32-1,127,9),s(d,h-32-1,127,9)),a=0;a<e.za;++a){var f=t.ya[t.aa+a];if(0<a){for(n=-1;16>n;++n)r(l,A+32*n-4,l,A+32*n+12,4);for(n=-1;8>n;++n)r(c,u+32*n-4,c,u+32*n+4,4),r(d,h+32*n-4,d,h+32*n+4,4)}var m=e.Gd,p=e.Hd+a,g=f.ad,x=f.Hc;if(0<i&&(r(l,A-32,m[p].y,0,16),r(c,u-32,m[p].f,0,8),r(d,h-32,m[p].ea,0,8)),f.Za){var b=l,v=A-32+16;for(0<i&&(a>=e.za-1?s(b,v,m[p].y[15],4):r(b,v,m[p+1].y,0,4)),n=0;4>n;n++)b[v+128+n]=b[v+256+n]=b[v+384+n]=b[v+0+n];for(n=0;16>n;++n,x<<=2)b=l,v=A+Ds[n],us[f.Ob[n]](b,v),Un(x,g,16*+n,b,v)}else if(b=_n(a,i,f.Ob[0]),cs[b](l,A),0!=x)for(n=0;16>n;++n,x<<=2)Un(x,g,16*+n,l,A+Ds[n]);for(n=f.Gc,b=_n(a,i,f.Dd),ds[b](c,u),ds[b](d,h),x=g,b=c,v=u,255&(f=0|n)&&(170&f?or(x,256,b,v):Ar(x,256,b,v)),f=d,x=h,255&(n>>=8)&&(170&n?or(g,320,f,x):Ar(g,320,f,x)),i<e.Ub-1&&(r(m[p].y,0,l,A+480,16),r(m[p].f,0,c,u+224,8),r(m[p].ea,0,d,h+224,8)),n=8*o*e.B,m=e.sa,p=e.ta+16*a+16*o*e.R,g=e.qa,f=e.ra+8*a+n,x=e.Ha,b=e.Ia+8*a+n,n=0;16>n;++n)r(m,p+n*e.R,l,A+32*n,16);for(n=0;8>n;++n)r(g,f+n*e.B,c,u+32*n,8),r(x,b+n*e.B,d,h+32*n,8)}}function Ln(e,r,s,a,i,o,l,A,c){var u=[0],d=[0],h=0,f=null!=c?c.kd:0,m=null!=c?c:new nn;if(null==e||12>s)return 7;m.data=e,m.w=r,m.ha=s,r=[r],s=[s],m.gb=[m.gb];e:{var p=r,x=s,b=m.gb;if(t(null!=e),t(null!=x),t(null!=b),b[0]=0,12<=x[0]&&!n(e,p[0],"RIFF")){if(n(e,p[0]+8,"WEBP")){b=3;break e}var v=U(e,p[0]+4);if(12>v||4294967286<v){b=3;break e}if(f&&v>x[0]-8){b=7;break e}b[0]=v,p[0]+=12,x[0]-=12}b=0}if(0!=b)return b;for(v=0<m.gb[0],s=s[0];;){e:{var w=e;x=r,b=s;var B=u,N=d,j=p=[0];if((F=h=[h])[0]=0,8>b[0])b=7;else{if(!n(w,x[0],"VP8X")){if(10!=U(w,x[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var C=U(w,x[0]+8),k=1+_(w,x[0]+12);if(2147483648<=k*(w=1+_(w,x[0]+15))){b=3;break e}null!=j&&(j[0]=C),null!=B&&(B[0]=k),null!=N&&(N[0]=w),x[0]+=18,b[0]-=18,F[0]=1}b=0}}if(h=h[0],p=p[0],0!=b)return b;if(x=!!(2&p),!v&&h)return 3;if(null!=o&&(o[0]=!!(16&p)),null!=l&&(l[0]=x),null!=A&&(A[0]=0),l=u[0],p=d[0],h&&x&&null==c){b=0;break}if(4>s){b=7;break}if(v&&h||!v&&!h&&!n(e,r[0],"ALPH")){s=[s],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{C=e,b=r,v=s;var F=m.gb;B=m.na,N=m.P,j=m.Sa,k=22,t(null!=C),t(null!=v),w=b[0];var S=v[0];for(t(null!=B),t(null!=j),B[0]=null,N[0]=null,j[0]=0;;){if(b[0]=w,v[0]=S,8>S){b=7;break e}var E=U(C,w+4);if(4294967286<E){b=3;break e}var Q=8+E+1&-2;if(k+=Q,0<F&&k>F){b=3;break e}if(!n(C,w,"VP8 ")||!n(C,w,"VP8L")){b=0;break e}if(S[0]<Q){b=7;break e}n(C,w,"ALPH")||(B[0]=C,N[0]=w+8,j[0]=E),w+=Q,S-=Q}}if(s=s[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=b)break}s=[s],m.Ja=[m.Ja],m.xa=[m.xa];e:if(F=e,b=r,v=s,B=m.gb[0],N=m.Ja,j=m.xa,C=b[0],w=!n(F,C,"VP8 "),k=!n(F,C,"VP8L"),t(null!=F),t(null!=v),t(null!=N),t(null!=j),8>v[0])b=7;else{if(w||k){if(F=U(F,C+4),12<=B&&F>B-12){b=3;break e}if(f&&F>v[0]-8){b=7;break e}N[0]=F,b[0]+=8,v[0]-=8,j[0]=k}else j[0]=5<=v[0]&&47==F[C+0]&&!(F[C+4]>>5),N[0]=v[0];b=0}if(s=s[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=b)break;if(4294967286<m.Ja)return 3;if(null==A||x||(A[0]=m.xa?2:1),l=[l],p=[p],m.xa){if(5>s){b=7;break}A=l,f=p,x=o,null==e||5>s?e=0:5<=s&&47==e[r+0]&&!(e[r+4]>>5)?(v=[0],F=[0],B=[0],g(N=new y,e,r,s),me(N,v,F,B)?(null!=A&&(A[0]=v[0]),null!=f&&(f[0]=F[0]),null!=x&&(x[0]=B[0]),e=1):e=0):e=0}else{if(10>s){b=7;break}A=p,null==e||10>s||!Ye(e,r+3,s-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,x=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=m.Ja||!x||!e?e=0:(l&&(l[0]=x),A&&(A[0]=e),e=1))}if(!e)return 3;if(l=l[0],p=p[0],h&&(u[0]!=l||d[0]!=p))return 3;null!=c&&(c[0]=m,c.offset=r-c.w,t(4294967286>r-c.w),t(c.offset==c.ha-s));break}return 0==b||7==b&&h&&null==c?(null!=o&&(o[0]|=null!=m.na&&0<m.na.length),null!=a&&(a[0]=l),null!=i&&(i[0]=p),0):b}function In(e,t,n){var r=t.width,s=t.height,a=0,i=0,o=r,l=s;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,a=e.v,i=e.j,11>n||(a&=-2,i&=-2),0>a||0>i||0>=o||0>=l||a+o>r||i+l>s))return 0;if(t.v=a,t.j=i,t.va=a+o,t.o=i+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!M(o,l,n=[e.ib],a=[e.hb]))return 0;t.ib=n[0],t.hb=a[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*s/4,t.Kb=0),1}function Mn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Dn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var s=n.cd,i=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=s||0>=i||o+s>e||l+i>t)return 2;e=s,t=i}if(n.da){if(!M(e,t,s=[n.ib],i=[n.hb]))return 2;e=s[0],t=i[0]}}r.width=e,r.height=t;e:{var A=r.width,c=r.height;if(e=r.S,0>=A||0>=c||!(e>=Ir&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=i=s=t=0;var u=(l=A*Os[e])*c;if(11>e||(i=(c+1)/2*(t=(A+1)/2),12==e&&(o=(s=A)*c)),null==(c=a(u+2*i+o))){e=1;break e}r.sd=c,11>e?((A=r.f.RGBA).eb=c,A.fb=0,A.A=l,A.size=u):((A=r.f.kb).y=c,A.O=0,A.fa=l,A.Fd=u,A.f=c,A.N=0+u,A.Ab=t,A.Cd=i,A.ea=c,A.W=0+u+i,A.Db=t,A.Ed=i,12==e&&(A.F=c,A.J=0+u+2*i),A.Tc=o,A.lb=s)}if(t=1,s=r.S,i=r.width,o=r.height,s>=Ir&&13>s)if(11>s)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+i<=e.size,t&=l>=i*Os[s],t&=null!=e.eb;else{e=r.f.kb,l=(i+1)/2,u=(o+1)/2,A=Math.abs(e.fa),c=Math.abs(e.Ab);var d=Math.abs(e.Db),h=Math.abs(e.lb),f=h*(o-1)+i;t&=A*(o-1)+i<=e.Fd,t&=c*(u-1)+l<=e.Cd,t=(t&=d*(u-1)+l<=e.Ed)&A>=i&c>=l&d>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==s&&(t&=h>=i,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Mn(r)),e}var Pn=64,Tn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],On=24,Hn=32,Rn=8,zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];T("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return H(H(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return H(e,t[n-1])},e.Predictor7=function(e,t,n){return H(e,t[n+0])},e.Predictor8=function(e,t,n){return H(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return H(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return H(H(e,t[n-1]),H(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=K(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+K(r>>16&255,e>>16&255,t>>16&255)+K(r>>8&255,e>>8&255,t>>8&255)+K(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(R((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|R((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|R((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|R((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(z((e=H(e,t[n+0]))>>24&255,r>>24&255)<<24|z(e>>16&255,r>>16&255)<<16|z(e>>8&255,r>>8&255)<<8|z(255&e,255&r))>>>0};var Kn=e.PredictorAdd0;e.PredictorAdd1=V,T("Predictor2","PredictorAdd2"),T("Predictor3","PredictorAdd3"),T("Predictor4","PredictorAdd4"),T("Predictor5","PredictorAdd5"),T("Predictor6","PredictorAdd6"),T("Predictor7","PredictorAdd7"),T("Predictor8","PredictorAdd8"),T("Predictor9","PredictorAdd9"),T("Predictor10","PredictorAdd10"),T("Predictor11","PredictorAdd11"),T("Predictor12","PredictorAdd12"),T("Predictor13","PredictorAdd13");var Vn=e.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var qn,Wn=e.ColorIndexInverseTransform,Gn=e.MapARGB,Yn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Xn=e.VP8LPredictorsAdd=[];Xn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,$n,er,tr,nr,rr,sr,ar,ir,or,lr,Ar,cr,ur,dr,hr,fr,mr,pr,gr,xr,br,vr,yr,wr,Br,Nr,jr,Cr=a(511),kr=a(2041),Fr=a(225),Sr=a(767),Er=0,_r=kr,Ur=Fr,Qr=Sr,Lr=Cr,Ir=0,Mr=1,Dr=2,Pr=3,Tr=4,Or=5,Hr=6,Rr=7,zr=8,Kr=9,Vr=10,qr=[2,3,7],Wr=[3,3,11],Gr=[280,256,256,256,40],Yr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$r=8,es=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ts=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ns=null,rs=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ss=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],as=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],is=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],os=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ls=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],As=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cs=[],us=[],ds=[],hs=1,fs=2,ms=[],ps=[];gn("UpsampleRgbLinePair",Bn,3),gn("UpsampleBgrLinePair",Nn,3),gn("UpsampleRgbaLinePair",Sn,4),gn("UpsampleBgraLinePair",Fn,4),gn("UpsampleArgbLinePair",kn,4),gn("UpsampleRgba4444LinePair",Cn,2),gn("UpsampleRgb565LinePair",jn,2);var gs=e.UpsampleRgbLinePair,xs=e.UpsampleBgrLinePair,bs=e.UpsampleRgbaLinePair,vs=e.UpsampleBgraLinePair,ys=e.UpsampleArgbLinePair,ws=e.UpsampleRgba4444LinePair,Bs=e.UpsampleRgb565LinePair,Ns=16,js=1<<Ns-1,Cs=-227,ks=482,Fs=6,Ss=(256<<Fs)-1,Es=0,_s=a(256),Us=a(256),Qs=a(256),Ls=a(256),Is=a(ks-Cs),Ms=a(ks-Cs);En("YuvToRgbRow",Bn,3),En("YuvToBgrRow",Nn,3),En("YuvToRgbaRow",Sn,4),En("YuvToBgraRow",Fn,4),En("YuvToArgbRow",kn,4),En("YuvToRgba4444Row",Cn,2),En("YuvToRgb565Row",jn,2);var Ds=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ps=[0,2,8],Ts=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,o,l,A){var c=Mr,u=new tn,d=new ie;u.ba=d,d.S=c,d.width=[d.width],d.height=[d.height];var h=d.width,f=d.height,m=new oe;if(null==m||null==e)var p=2;else t(null!=m),p=Ln(e,n,o,m.width,m.height,m.Pd,m.Qd,m.format,null);if(0!=p?h=0:(null!=h&&(h[0]=m.width[0]),null!=f&&(f[0]=m.height[0]),h=1),h){d.width=d.width[0],d.height=d.height[0],null!=l&&(l[0]=d.width),null!=A&&(A[0]=d.height);e:{if(l=new qe,(A=new nn).data=e,A.w=n,A.ha=o,A.kd=1,n=[0],t(null!=A),(0==(e=Ln(A.data,A.w,A.ha,null,null,null,n,null,A))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=u),l.data=A.data,l.w=A.w+A.offset,l.ha=A.ha-A.offset,l.put=he,l.ac=de,l.bc=fe,l.ma=u,A.xa){if(null==(e=Fe())){u=1;break e}if(function(e,n){var r=[0],s=[0],a=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,g(e.m,n.data,n.w,n.ha),!me(e.m,r,s,a)){e.a=3;break t}if(e.xb=fs,n.width=r[0],n.height=s[0],!Se(r[0],s[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Dn(l.width,l.height,u.Oa,u.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(A=o.ma)),0!=l.xb){if(l.ca=A.ba,l.tb=A.tb,t(null!=l.ca),!In(A.Oa,o,Pr)){l.a=2;break n}if(!Ee(l,o.width))break n;if(o.da)break n;if((o.da||re(l.ca.S))&&pn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&pn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!Q(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Ce(l,l.V,l.Ba,l.c,l.i,o.o,we))break n;A.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new We)){u=1;break e}if(e.Fa=A.na,e.P=A.P,e.qc=A.Sa,Je(e,l)){if(0==(n=Dn(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(A=e)),null!=o){if(0<(h=0>(h=o.Md)?0:100<h?255:255*h/100)){for(f=m=0;4>f;++f)12>(p=A.pb[f]).lc&&(p.ia=h*Ts[0>p.lc?0:p.lc]>>3),m|=p.ia;m&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=o.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ge(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Ps[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var A;if(e.Qa.Cb){var c=e.Qa.Lb[o];e.Qa.Fb||(c+=l.Tb)}else c=l.Tb;for(A=0;1>=A;++A){var u=e.gd[o][A],d=c;if(l.Pc&&(d+=l.vd[0],A&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var h=d;0<l.wb&&(h=4<l.wb?h>>2:h>>1)>9-l.wb&&(h=9-l.wb),1>h&&(h=1),u.dd=h,u.tc=2*d+h,u.ld=40<=d?2:15<=d?1:0}else u.tc=0;u.La=A}}}o=0}else Ge(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(h=e.za);var f=32*h,m=h+1,p=0<e.L?h*(0<e.Aa?2:1):0,g=(2==e.Aa?2:1)*h;if((u=l+832+(A=3*(16*o+Ps[e.L])/2*f)+(c=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=a(u),e.Fc=0,null==e.Ec){o=Ge(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,d=e.Fc,e.Ac=u,e.Bc=d,d+=l,e.Gd=i(f,ze),e.Hd=0,e.rb=i(m+1,Te),e.sb=1,e.wa=p?i(p,Pe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=h),t(!0),e.oc=u,e.pc=d,d+=832,e.ya=i(g,He),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=h),e.R=16*h,e.B=8*h,h=(f=Ps[e.L])*e.R,f=f/2*e.B,e.sa=u,e.ta=d+h,e.qa=e.sa,e.ra=e.ta+16*o*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+f,e.$c=0,d+=A,e.mb=c?u:null,e.nb=c?d:null,t(d+c<=e.Fc+e.Vb),Ze(e),s(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Er){for(o=-255;255>=o;++o)Cr[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)kr[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Fr[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Sr[255+o]=0>o?0:255<o?255:o;Er=1}sr=lt,ar=st,or=at,lr=it,Ar=ot,ir=rt,cr=Wt,ur=Gt,dr=Xt,hr=Zt,fr=Yt,mr=Jt,pr=$t,gr=en,xr=Ht,br=Rt,vr=zt,yr=Kt,us[0]=Bt,us[1]=ct,us[2]=yt,us[3]=wt,us[4]=Nt,us[5]=Ct,us[6]=jt,us[7]=kt,us[8]=St,us[9]=Ft,cs[0]=pt,cs[1]=dt,cs[2]=ht,cs[3]=ft,cs[4]=gt,cs[5]=xt,cs[6]=bt,ds[0]=Qt,ds[1]=ut,ds[2]=Et,ds[3]=_t,ds[4]=It,ds[5]=Lt,ds[6]=Mt,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var i,o=e.Jc[e.M&e.Xb],l=e.m,A=e;for(i=0;i<A.za;++i){var c=l,u=A,d=u.Ac,h=u.Bc+4*i,f=u.zc,m=u.ya[u.aa+i];if(u.Qa.Bb?m.$b=F(c,u.Pa.jb[0])?2+F(c,u.Pa.jb[2]):F(c,u.Pa.jb[1]):m.$b=0,u.kc&&(m.Ad=F(c,u.Bd)),m.Za=!F(c,145)+0,m.Za){var p=m.Ob,g=0;for(u=0;4>u;++u){var x,b=f[0+u];for(x=0;4>x;++x){b=os[d[h+x]][b];for(var v=as[F(c,b[0])];0<v;)v=as[2*v+F(c,b[v])];b=-v,d[h+x]=b}r(p,g,d,h,4),g+=4,f[0+u]=b}}else b=F(c,156)?F(c,128)?1:3:F(c,163)?2:0,m.Ob[0]=b,s(d,h,b,4),s(f,0,b,4);m.Dd=F(c,142)?F(c,114)?F(c,183)?1:3:2:0}if(A.m.Ka)return Ge(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(A=o,c=(l=e).rb[l.sb-1],d=l.rb[l.sb+l.ja],i=l.ya[l.aa+l.ja],h=l.kc?i.Ad:0)c.la=d.la=0,i.Za||(c.Na=d.Na=0),i.Hc=0,i.Gc=0,i.ia=0;else{var y,w;if(c=d,d=A,h=l.Pa.Xc,f=l.ya[l.aa+l.ja],m=l.pb[f.$b],u=f.ad,p=0,g=l.rb[l.sb-1],b=x=0,s(u,p,0,384),f.Za)var B=0,N=h[3];else{v=a(16);var j=c.Na+g.Na;if(j=ns(d,h[1],j,m.Eb,0,v,0),c.Na=g.Na=(0<j)+0,1<j)sr(v,0,u,p);else{var C=v[0]+3>>3;for(v=0;256>v;v+=16)u[p+v]=C}B=1,N=h[0]}var k=15&c.la,S=15&g.la;for(v=0;4>v;++v){var E=1&S;for(C=w=0;4>C;++C)k=k>>1|(E=(j=ns(d,N,j=E+(1&k),m.Sc,B,u,p))>B)<<7,w=w<<2|(3<j?3:1<j?2:0!=u[p+0]),p+=16;k>>=4,S=S>>1|E<<7,x=(x<<8|w)>>>0}for(N=k,B=S>>4,y=0;4>y;y+=2){for(w=0,k=c.la>>4+y,S=g.la>>4+y,v=0;2>v;++v){for(E=1&S,C=0;2>C;++C)j=E+(1&k),k=k>>1|(E=0<(j=ns(d,h[2],j,m.Qc,0,u,p)))<<3,w=w<<2|(3<j?3:1<j?2:0!=u[p+0]),p+=16;k>>=2,S=S>>1|E<<5}b|=w<<4*y,N|=k<<4<<y,B|=(240&S)<<y}c.la=N,g.la=B,f.Hc=x,f.Gc=b,f.ia=43690&b?0:m.ia,h=!(x|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[i.$b][i.Za],l.wa[l.Y+l.ja].La|=!h),A.Ka)return Ge(e,7,"Premature end-of-file encountered.")}if(Ze(e),l=n,A=1,i=(o=e).D,c=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(i.M=o.M,i.uc=c,Qn(o,i),A=1,i=(w=o.D).Nb,c=(b=Ps[o.L])*o.R,d=b/2*o.B,v=16*i*o.R,C=8*i*o.B,h=o.sa,f=o.ta-c+v,m=o.qa,u=o.ra-d+C,p=o.Ha,g=o.Ia-d+C,S=0==(k=w.M),x=k>=o.Va-1,2==o.Aa&&Qn(o,w),w.uc)for(E=(j=o).D.M,t(j.D.uc),w=j.yb;w<j.Hb;++w){B=w,N=E;var _=(U=(H=j).D).Nb;y=H.R;var U=U.wa[U.Y+B],Q=H.sa,L=H.ta+16*_*y+16*B,I=U.dd,M=U.tc;if(0!=M)if(t(3<=M),1==H.L)0<B&&br(Q,L,y,M+4),U.La&&yr(Q,L,y,M),0<N&&xr(Q,L,y,M+4),U.La&&vr(Q,L,y,M);else{var D=H.B,P=H.qa,T=H.ra+8*_*D+8*B,O=H.Ha,H=H.Ia+8*_*D+8*B;_=U.ld,0<B&&(ur(Q,L,y,M+4,I,_),hr(P,T,O,H,D,M+4,I,_)),U.La&&(mr(Q,L,y,M,I,_),gr(P,T,O,H,D,M,I,_)),0<N&&(cr(Q,L,y,M+4,I,_),dr(P,T,O,H,D,M+4,I,_)),U.La&&(fr(Q,L,y,M,I,_),pr(P,T,O,H,D,M,I,_))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(w=16*k,k=16*(k+1),S?(l.y=o.sa,l.O=o.ta+v,l.f=o.qa,l.N=o.ra+C,l.ea=o.Ha,l.W=o.Ia+C):(w-=b,l.y=h,l.O=f,l.f=m,l.N=u,l.ea=p,l.W=g),x||(k-=b),k>l.o&&(k=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&w<k&&(l.J=un(o,l,w,k-w),l.F=o.mb,null==l.F&&0==l.F.length)){A=Ge(o,3,"Could not decode alpha data.");break t}w<l.j&&(b=l.j-w,w=l.j,t(!(1&b)),l.O+=o.R*b,l.N+=o.B*(b>>1),l.W+=o.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),w<k&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=w-l.j,l.U=l.va-l.v,l.T=k-w,A=l.put(l))}i+1!=o.Ic||x||(r(o.sa,o.ta-c,h,f+16*o.R,c),r(o.qa,o.ra-d,m,u+8*o.B,d),r(o.Ha,o.Ia-d,p,g+8*o.B,d))}if(!A)return Ge(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=u.Oa&&u.Oa.fd&&(n=Mn(u.ba))}u=n}c=0!=u?null:11>c?d.f.RGBA.eb:d.f.kb.y}else c=null;return c};var Os=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function c(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],f=[0],m=[],p=new l,g=e,x=function(e,t){var n={},r=0,s=!1,a=0,i=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(d(e,t+=4),t+=8;t<e.length;){var o=A(e,t),l=d(e,t+=4);t+=4;var h=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(p=n.frames[r]).src_off=s?i:t-8,p.src_size=a+l+8,r++,s&&(s=!1,a=0,i=0);break;case"VP8X":(p=n.header={}).feature_flags=e[t];var f=t+4;p.canvas_width=1+u(e,f),f+=3,p.canvas_height=1+u(e,f),f+=3;break;case"ALPH":s=!0,a=h+8,i=t-8;break;case"ANIM":(p=n.header).bgcolor=d(e,t),f=t+4,p.loop_count=c(e,f),f+=2;break;case"ANMF":var m,p;(p=n.frames[r]={}).offset_x=2*u(e,t),t+=3,p.offset_y=2*u(e,t),t+=3,p.width=1+u(e,t),t+=3,p.height=1+u(e,t),t+=3,p.duration=u(e,t),t+=3,m=e[t++],p.dispose=1&m,p.blend=m>>1&1}"ANMF"!=o&&(t+=h)}return n}}(g,0);x.response=g,x.rgbaoutput=!0,x.dataurl=!1;var b=x.header?x.header:null,v=x.frames?x.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],f=[b.canvas_width];for(var y=0;y<v.length&&0!=v[y].blend;y++);}var w=v[0],B=p.WebPDecodeRGBA(g,w.src_off,w.src_size,f,h);w.rgba=B,w.imgwidth=f[0],w.imgheight=h[0];for(var N=0;N<f[0]*h[0]*4;N++)m[N]=B[N];return this.width=f,this.height=h,this.data=m,this}!function(e){var t,n,r,s,a,i,o,l,A,c=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new i,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new i,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,A=new c}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var s=0;Object.defineProperty(this,"posX",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),A.margin=t}});var i=!1;Object.defineProperty(this,"autoPaging",{get:function(){return i},set:function(e){i=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(e){e instanceof c&&(A=e)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(e){A.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=d(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=d(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null,f=null,m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){h=null,f=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],s=t[4];t[5];var a=t[6],i=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(s)[2];s="px"===i?Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor):"em"===i?Math.floor(parseFloat(s)*this.pdf.getFontSize()):Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(s);var o=function(e){var t,n,r=[],s=e.trim();if(""===s)return Aw;if(s in Yy)return[Yy[s]];for(;""!==s;){switch(n=null,t=(s=Xy(s)).charAt(0)){case'"':case"'":n=Zy(s.substring(1),t);break;default:n=$y(s)}if(null===n)return Aw;if(r.push(n[0]),""!==(s=Xy(n[1]))&&","!==s.charAt(0))return Aw;s=s.replace(/^,/,"")}return r}(a);if(this.fontFaces){var l=function(e,t){var n=e.getFontList(),r=JSON.stringify(n);if(null===h||f!==r){var s=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(n);h=function(e){for(var t={},n=0;n<e.length;++n){var r=qy(e[n]),s=r.family,a=r.stretch,i=r.style,o=r.weight;t[s]=t[s]||{},t[s][a]=t[s][a]||{},t[s][a][i]=t[s][a][i]||{},t[s][a][i][o]=r}return t}(s.concat(t)),f=r}return h}(this.pdf,this.fontFaces),A=o.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}),c=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},Gy,n.genericFontFamilies||{}),a=null,i=null,o=0;o<t.length;++o)if(s[(a=qy(t[o])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){i=e[a.family];break}if(!(i=i||e[r]))throw new Error("Could not find a font-family for the rule '"+Jy(a)+"' and default family '"+r+"'.");if(i=function(e,t){if(t[e])return t[e];var n=zy[e],r=n<=zy.normal?-1:1,s=Wy(t,Ry,n,r);if(!s)throw new Error("Could not find a matching font-stretch value for "+e);return s}(a.stretch,i),i=function(e,t){if(t[e])return t[e];for(var n=Hy[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(a.style,i),!(i=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Vy[e],r=Wy(t,Ky,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(a.weight,i)))throw new Error("Failed to resolve a font for the rule '"+Jy(a)+"'.");return i}(l,A);this.pdf.setFont(c.ref.name,c.ref.style)}else{var u="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var d="",m={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},p=0;p<o.length;p++){if(void 0!==this.pdf.internal.getFont(o[p],u,{noFallback:!0,disableWarning:!0})){d=o[p];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(o[p],"bold",{noFallback:!0,disableWarning:!0}))d=o[p],u="bold";else if(void 0!==this.pdf.internal.getFont(o[p],"normal",{noFallback:!0,disableWarning:!0})){d=o[p],u="normal";break}}if(""===d)for(var g=0;g<o.length;g++)if(m[o[g]]){d=m[o[g]];break}d=""===d?"Times":d,this.pdf.setFont(d,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,D.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,D.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){v.call(this,"fill",!1)},u.prototype.stroke=function(){v.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw wv.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new i(e,t)},u.prototype.closePath=function(){var e=new i(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,Am.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new i(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw wv.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new i(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw wv.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var s=this.ctx.transform.applyToPoint(new i(n,r)),a=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"qct",x1:a.x,y1:a.y,x:s.x,y:s.y}),this.ctx.lastPoint=new i(s.x,s.y)},u.prototype.bezierCurveTo=function(e,t,n,r,s,a){if(isNaN(s)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw wv.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new i(s,a)),l=this.ctx.transform.applyToPoint(new i(e,t)),A=this.ctx.transform.applyToPoint(new i(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:A.x,y2:A.y,x:o.x,y:o.y}),this.ctx.lastPoint=new i(o.x,o.y)},u.prototype.arc=function(e,t,n,r,s,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s))throw wv.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new i(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new i(0,n)),A=this.ctx.transform.applyToPoint(new i(0,0));n=Math.sqrt(Math.pow(l.x-A.x,2)+Math.pow(l.y-A.y,2))}Math.abs(s-r)>=2*Math.PI&&(r=0,s=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:s,counterclockwise:a})},u.prototype.arcTo=function(e,t,n,r,s){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw wv.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw wv.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var s={};"butt"!==this.lineCap&&(s.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(s.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),s.hasOwnProperty("lineCap")&&(this.lineCap=s.lineCap),s.hasOwnProperty("lineJoin")&&(this.lineJoin=s.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw wv.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw wv.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(e){var t,n,r,s;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,s=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==a)t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),s=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),s=parseFloat(a[4]);else{if(s=1,"string"==typeof e&&"#"!==e.charAt(0)){var i=new kv(e);e=i.ok?i.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:s,style:e}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw wv.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!h.call(this)){var s=L(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;F.call(this,{text:e,x:t,y:n,scale:a,angle:s,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw wv.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r;var s=L(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;F.call(this,{text:e,x:t,y:n,scale:a,renderingMode:"stroke",angle:s,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw wv.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),s=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:s*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw wv.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw wv.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw wv.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,s,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(a))throw wv.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var i=new l(e,t,n,r,s,a);this.ctx.transform=this.ctx.transform.multiply(i)},u.prototype.setTransform=function(e,t,n,r,s,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,s=isNaN(s)?0:s,a=isNaN(a)?0:a,this.ctx.transform=new l(e,t,n,r,s,a)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,s,a,i,A,c){var u=this.pdf.getImageProperties(e),d=1,h=1,f=1,g=1;void 0!==r&&void 0!==A&&(f=A/r,g=c/s,d=u.width/r*A/r,h=u.height/s*c/s),void 0===a&&(a=t,i=n,t=0,n=0),void 0!==r&&void 0===A&&(A=r,c=s),void 0===r&&void 0===A&&(A=u.width,c=u.height);var v=this.ctx.transform.decompose(),w=L(v.rotate.shx),B=new l,N=(B=(B=(B=B.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToRectangle(new o(a-t*f,i-n*g,r*d,s*h));if(this.autoPaging){for(var j,C=p.call(this,N),k=[],F=0;F<C.length;F+=1)-1===k.indexOf(C[F])&&k.push(C[F]);b(k);for(var S=k[0],E=k[k.length-1],_=S;_<E+1;_++){this.pdf.setPage(_);var U=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Q=1===_?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],M=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],D=1===_?0:I+(_-2)*M;if(0!==this.ctx.clip_path.length){var P=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(j,this.posX+this.margin[3],-D+Q+this.ctx.prevPageLastElemOffset),y.call(this,"fill",!0),this.path=P}var T=JSON.parse(JSON.stringify(N));T=x([T],this.posX+this.margin[3],-D+Q+this.ctx.prevPageLastElemOffset)[0];var O=(_>S||_<E)&&m.call(this);O&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],U,M,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",T.x,T.y,T.w,T.h,null,null,w),O&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(e,"JPEG",N.x,N.y,N.w,N.h,null,null,w)};var p=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var s=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+s)/n)+1);break;case"arc":r.push(Math.floor((e.y+s-e.radius)/n)+1),r.push(Math.floor((e.y+s+e.radius)/n)+1);break;case"qct":var a=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((a.y+s)/n)+1),r.push(Math.floor((a.y+a.h+s)/n)+1);break;case"bct":var i=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((i.y+s)/n)+1),r.push(Math.floor((i.y+i.h+s)/n)+1);break;case"rect":r.push(Math.floor((e.y+s)/n)+1),r.push(Math.floor((e.y+e.h+s)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)g.call(this);return r},g=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,s=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=s,this.lineJoin=a},x=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},b=function(e){return e.sort(function(e,t){return e-t})},v=function(e,t){var n=this.fillStyle,r=this.strokeStyle,s=this.lineCap,a=this.lineWidth,i=Math.abs(a*this.ctx.transform.scaleX),o=this.lineJoin;if(this.autoPaging){for(var l,A,c=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),d=[],h=0;h<u.length;h++)if(void 0!==u[h].x)for(var f=p.call(this,u[h]),v=0;v<f.length;v+=1)-1===d.indexOf(f[v])&&d.push(f[v]);for(var w=0;w<d.length;w++)for(;this.pdf.internal.getNumberOfPages()<d[w];)g.call(this);b(d);for(var B=d[0],N=d[d.length-1],j=B;j<N+1;j++){this.pdf.setPage(j),this.fillStyle=n,this.strokeStyle=r,this.lineCap=s,this.lineWidth=i,this.lineJoin=o;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],k=1===j?this.posY+this.margin[0]:this.margin[0],F=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],S=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],E=1===j?0:F+(j-2)*S;if(0!==this.ctx.clip_path.length){var _=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(l,this.posX+this.margin[3],-E+k+this.ctx.prevPageLastElemOffset),y.call(this,e,!0),this.path=_}if(A=JSON.parse(JSON.stringify(c)),this.path=x(A,this.posX+this.margin[3],-E+k+this.ctx.prevPageLastElemOffset),!1===t||0===j){var U=(j>B||j<N)&&m.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,S,null).clip().discardPath()),y.call(this,e,t),U&&this.pdf.restoreGraphicsState()}this.lineWidth=a}this.path=c}else this.lineWidth=i,y.call(this,e,t),this.lineWidth=a},y=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!h.call(this))){for(var n,r,s=[],a=this.path,i=0;i<a.length;i++){var o=a[i];switch(o.type){case"begin":s.push({begin:!0});break;case"close":s.push({close:!0});break;case"mt":s.push({start:o,deltas:[],abs:[]});break;case"lt":var l=s.length;if(a[i-1]&&!isNaN(a[i-1].x)&&(n=[o.x-a[i-1].x,o.y-a[i-1].y],l>0))for(;l>=0;l--)if(!0!==s[l-1].close&&!0!==s[l-1].begin){s[l-1].deltas.push(n),s[l-1].abs.push(o);break}break;case"bct":n=[o.x1-a[i-1].x,o.y1-a[i-1].y,o.x2-a[i-1].x,o.y2-a[i-1].y,o.x-a[i-1].x,o.y-a[i-1].y],s[s.length-1].deltas.push(n);break;case"qct":var A=a[i-1].x+2/3*(o.x1-a[i-1].x),c=a[i-1].y+2/3*(o.y1-a[i-1].y),u=o.x+2/3*(o.x1-o.x),d=o.y+2/3*(o.y1-o.y),m=o.x,p=o.y;n=[A-a[i-1].x,c-a[i-1].y,u-a[i-1].x,d-a[i-1].y,m-a[i-1].x,p-a[i-1].y],s[s.length-1].deltas.push(n);break;case"arc":s.push({deltas:[],abs:[],arc:!0}),Array.isArray(s[s.length-1].abs)&&s[s.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var g=!1,x=0;x<s.length;x++)if(s[x].arc)for(var b=s[x].abs,v=0;v<b.length;v++){var y=b[v];"arc"===y.type?N.call(this,y.x,y.y,y.radius,y.startAngle,y.endAngle,y.counterclockwise,void 0,t,!g):S.call(this,y.x,y.y),g=!0}else if(!0===s[x].close)this.pdf.internal.out("h"),g=!1;else if(!0!==s[x].begin){var w=s[x].start.x,B=s[x].start.y;E.call(this,s[x].deltas,w,B),g=!0}r&&j.call(this,r),t&&C.call(this)}},w=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},B=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(e,t,n,r,s,a,i,o,l){for(var A=U.call(this,n,r,s,a),c=0;c<A.length;c++){var u=A[c];0===c&&(l?k.call(this,u.x1+e,u.y1+t):S.call(this,u.x1+e,u.y1+t)),_.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?C.call(this):j.call(this,i)},j=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},F=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n,r,s,a=this.pdf.getTextDimensions(e.text),A=w.call(this,e.y),c=B.call(this,A)-a.h,u=this.ctx.transform.applyToPoint(new i(e.x,A));if(this.autoPaging){var d=this.ctx.transform.decompose(),h=new l;h=(h=(h=h.multiply(d.translate)).multiply(d.skew)).multiply(d.scale);for(var f=this.ctx.transform.applyToRectangle(new o(e.x,A,a.w,a.h)),g=h.applyToRectangle(new o(e.x,c,a.w,a.h)),v=p.call(this,g),N=[],j=0;j<v.length;j+=1)-1===N.indexOf(v[j])&&N.push(v[j]);b(N);for(var C=N[0],k=N[N.length-1],F=C;F<k+1;F++){this.pdf.setPage(F);var S=1===F?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_=this.pdf.internal.pageSize.height-this.margin[2],U=_-this.margin[0],Q=this.pdf.internal.pageSize.width-this.margin[1],L=Q-this.margin[3],I=1===F?0:E+(F-2)*U;if(0!==this.ctx.clip_path.length){var M=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(n,this.posX+this.margin[3],-1*I+S),y.call(this,"fill",!0),this.path=M}var D=x([JSON.parse(JSON.stringify(g))],this.posX+this.margin[3],-I+S+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(r=this.pdf.internal.getFontSize(),this.pdf.setFontSize(r*e.scale),s=this.lineWidth,this.lineWidth=s*e.scale);var P="text"!==this.autoPaging;if(P||D.y+D.h<=_){if(P||D.y>=S&&D.x<=Q){var T=P?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||Q-D.x)[0],O=x([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-I+S+this.ctx.prevPageLastElemOffset)[0],H=P&&(F>C||F<k)&&m.call(this);H&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,U,null).clip().discardPath()),this.pdf.text(T,O.x,O.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),H&&this.pdf.restoreGraphicsState()}}else D.y<_&&(this.ctx.prevPageLastElemOffset+=_-D.y);e.scale>=.01&&(this.pdf.setFontSize(r),this.lineWidth=s)}}else e.scale>=.01&&(r=this.pdf.internal.getFontSize(),this.pdf.setFontSize(r*e.scale),s=this.lineWidth,this.lineWidth=s*e.scale),this.pdf.text(e.text,u.x+this.posX,u.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(r),this.lineWidth=s)},S=function(e,t,s,a){s=s||0,a=a||0,this.pdf.internal.out(n(e+s)+" "+r(t+a)+" l")},E=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},_=function(e,n,r,i,o,l,A,c){this.pdf.internal.out([t(s(r+e)),t(a(i+n)),t(s(o+e)),t(a(l+n)),t(s(A+e)),t(a(c+n)),"c"].join(" "))},U=function(e,t,n,r){for(var s=2*Math.PI,a=Math.PI/2;t>n;)t-=s;var i=Math.abs(n-t);i<s&&r&&(i=s-i);for(var o=[],l=r?-1:1,A=t;i>1e-5;){var c=A+l*Math.min(i,a);o.push(Q.call(this,e,A,c)),i-=Math.abs(c-A),A=c}return o},Q=function(e,t,n){var r=(n-t)/2,s=e*Math.cos(r),a=e*Math.sin(r),i=s,o=-a,l=i*i+o*o,A=l+i*s+o*a,c=4/3*(Math.sqrt(2*l*A)-A)/(i*a-o*s),u=i-c*o,d=o+c*i,h=u,f=-d,m=r+t,p=Math.cos(m),g=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*p-d*g,y2:u*g+d*p,x3:h*p-f*g,y3:h*g+f*p,x4:e*Math.cos(n),y4:e*Math.sin(n)}},L=function(e){return 180*e/Math.PI},I=function(e,t,n,r,s,a){var i=e+.5*(n-e),l=t+.5*(r-t),A=s+.5*(n-s),c=a+.5*(r-a),u=Math.min(e,s,i,A),d=Math.max(e,s,i,A),h=Math.min(t,a,l,c),f=Math.max(t,a,l,c);return new o(u,h,d-u,f-h)},M=function(e,t,n,r,s,a,i,l){var A,c,u,d,h,f,m,p,g,x,b,v,y,w,B=n-e,N=r-t,j=s-n,C=a-r,k=i-s,F=l-a;for(c=0;c<41;c++)g=(m=(u=e+(A=c/40)*B)+A*((h=n+A*j)-u))+A*(h+A*(s+A*k-h)-m),x=(p=(d=t+A*N)+A*((f=r+A*C)-d))+A*(f+A*(a+A*F-f)-p),0==c?(b=g,v=x,y=g,w=x):(b=Math.min(b,g),v=Math.min(v,x),y=Math.max(y,g),w=Math.max(w,x));return new o(Math.round(b),Math.round(v),Math.round(y-b),Math.round(w-v))},D=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}($v.API),function(e){var t=function(e){var t,n,r,s,a,i,o,l,A,c;for(/[^\x00-\xFF]/.test(e),n=[],r=0,s=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;s>r;r+=4)0!==(a=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(i=(a=((a=((a=((a=(a-(c=a%85))/85)-(A=a%85))/85)-(l=a%85))/85)-(o=a%85))/85)%85,n.push(i+33,o+33,l+33,A+33,c+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,s,a,i=String,o="length",l=255,A="charCodeAt",c="slice",u="replace";for(e[c](-2),e=e[c](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],s=0,a=(e+=t="uuuuu"[c](e[o]%5||5))[o];a>s;s+=5)n=52200625*(e[A](s)-33)+614125*(e[A](s+1)-33)+7225*(e[A](s+2)-33)+85*(e[A](s+3)-33)+(e[A](s+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),i.fromCharCode.apply(i,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},a=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=Wm(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,i){var o=0,l=e||"",A=[];for("string"==typeof(i=i||[])&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=s(l),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:A.reverse().join(" ")}}}($v.API),(lw=$v.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,s=0,a=function(e){var t=e.length,n=[],r=String.fromCharCode;for(s=0;s<t;s+=1)n.push(r(255&e.charCodeAt(s)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(a(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return a(r.responseText)}(e,t,n)}catch(Bm){}return r}(e,t,n)},lw.loadImageFile=lw.loadFile,function(e){function t(){return(vv.html2canvas?Promise.resolve(vv.html2canvas):Promise.resolve().then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(vv.DOMPurify?Promise.resolve(vv.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var s=function(e){var t=(0,Am.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},a=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},i=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),s=t.firstChild;s;s=s.nextSibling)!0!==n&&1===s.nodeType&&"SCRIPT"===s.nodeName||r.appendChild(e(s,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(s(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(r).then(function(t){return this.set({src:a("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,s=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete s.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var a=0;a<n.length;++a){var i=n[a],o=i.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,i.ref.name,i.ref.style)}return s.windowHeight=s.windowHeight||0,s.windowHeight=0==s.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):s.windowHeight,t.context2d.save(!0),e(this.prop.container,s)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==s(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},o.prototype.setMargin=function(e){return this.then(function(){switch(s(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||$v.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var s=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:o.convert(Object.assign({},r),Promise.prototype),a=n.call(s,e,t);return o.convert(a,r.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,$v.getPageSize=function(e,t,n){if("object"===(0,Am.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var s,a=(""+n).toLowerCase(),i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+t}var o,l=0,A=0;if(i.hasOwnProperty(a))l=i[a][1]/s,A=i[a][0]/s;else try{l=n[1],A=n[0]}catch(kv){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",A>l&&(o=A,A=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>A&&(o=A,A=l,l=o)}return{width:A,height:l,unit:t,k:s,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(qy):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}($v.API),$v.API.addJS=function(e){return nw=e,this.internal.events.subscribe("postPutResources",function(){ew=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ew+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+nw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==ew&&void 0!==tw&&this.internal.out("/Names <</JavaScript "+ew+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],i=n.exec(a);if(null!=i){var o=i[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,A=[];for(s=0;s<l;s++){var c=e.internal.newObject();A.push(c);var u=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<A.length;s++)e.internal.write("(page_"+(s+1)+")"+A[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var s=t.children[r];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var i=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}($v.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,s,a,i){var o,l=this.decode.DCT_DECODE,A=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),s=e.length,a={width:0,height:0,numcomponents:1},i=4;i<s;i+=2){if(i+=r,-1!==t.indexOf(e.charCodeAt(i+1))){n=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),a={width:256*e.charCodeAt(i+7)+e.charCodeAt(i+8),height:n,numcomponents:e.charCodeAt(i+9)};break}r=256*e.charCodeAt(i+2)+e.charCodeAt(i+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),o.numcomponents){case 1:i=this.color_spaces.DEVICE_GRAY;break;case 4:i=this.color_spaces.DEVICE_CMYK;break;case 3:i=this.color_spaces.DEVICE_RGB}A={data:e,width:o.width,height:o.height,colorSpace:i,bitsPerComponent:8,filter:l,index:n,alias:r}}return A}}($v.API),$v.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,a=function(e,t){return new xv(e,t).decode()}(e,{checkCrc:!0}),i=a.width,o=a.height,l=a.channels,A=a.palette,c=a.depth;s=A&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,s=e.palette,a=e.depth,i=!1,o=[],l=[],A=void 0,c=!1,u=0,d=0;d<s.length;d++){var h=Jm(s[d],4),f=h[0],m=h[1],p=h[2],g=h[3];o.push(f,m,p),null!=g&&(0===g?(u++,l.length<1&&l.push(d)):g<255&&(c=!0))}if(c||u>1){i=!0,l=void 0;var x=t*n;A=new Uint8Array(x);for(var b=new DataView(r.buffer),v=0;v<x;v++){var y=Jm(s[xw(b,v,a)],4)[3];A[v]=y}}else 0===u&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:i?8:void 0,colorBytes:r,alphaBytes:A,needSMask:i,palette:o,mask:l}}(a):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,s=e.channels,a=e.depth,i=2===s?"DeviceGray":"DeviceRGB",o=s-1,l=n*r,A=o,c=l*A,u=1*l,d=Math.ceil(c*a/8),h=Math.ceil(u*a/8),f=new Uint8Array(d),m=new Uint8Array(h),p=new DataView(t.buffer),g=new DataView(f.buffer),x=new DataView(m.buffer),b=!1,v=0;v<l;v++){for(var y=v*s,w=0;w<A;w++)bw(g,xw(p,y+w,a),v*A+w,a);var B=xw(p,y+A,a);B<(1<<a)-1&&(b=!0),bw(x,B,1*v,a)}return{colorSpace:i,colorsPerPixel:o,sMaskBitsPerComponent:b?a:void 0,colorBytes:f,alphaBytes:m,needSMask:b}}(a):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,n=new Uint8Array(2*t),r=new DataView(n.buffer,n.byteOffset,n.byteLength),s=0;s<t;s++)r.setUint16(2*s,e[s],!1);return n}(t):t,needSMask:!1}}(a);var u,d,h,f=s,m=f.colorSpace,p=f.colorsPerPixel,g=f.sMaskBitsPerComponent,x=f.colorBytes,b=f.alphaBytes,v=f.needSMask,y=f.palette,w=f.mask,B=null;return r!==$v.API.image_compression.NONE?(B=function(e){var t;switch(e){case $v.API.image_compression.FAST:t=11;break;case $v.API.image_compression.MEDIUM:t=13;break;case $v.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),u=this.decode.FLATE_DECODE,d="/Predictor ".concat(B," /Colors ").concat(p," /BitsPerComponent ").concat(c," /Columns ").concat(i),e=cw(x,Math.ceil(i*p*c/8),p,c,r),v&&(h=cw(b,Math.ceil(i*g/8),1,g,r))):(u=void 0,d=void 0,e=x,v&&(h=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:e,index:t,filter:u,decodeParameters:d,transparency:w,palette:y,sMask:h,predictor:B,width:i,height:o,bitsPerComponent:c,sMaskBitsPerComponent:g,colorSpace:m}}},function(e){e.processGIF89A=function(t,n,r,s){var a=new yw(t),i=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:i,height:o},c=new Bw(100).encode(A,100);return e.processJPEG.call(this,c,n,r,s)},e.processGIF87A=e.processGIF89A}($v.API),Nw.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Nw.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){wv.log("bit decode error:"+n)}},Nw.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}0!==n&&(this.pos+=4-n)}},Nw.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+2*s*4,o=a>>4,l=15&a,A=this.palette[o];if(this.data[i]=A.blue,this.data[i+1]=A.green,this.data[i+2]=A.red,this.data[i+3]=255,2*s+1>=this.width)break;A=this.palette[l],this.data[i+4]=A.blue,this.data[i+4+1]=A.green,this.data[i+4+2]=A.red,this.data[i+4+3]=255}0!==t&&(this.pos+=4-t)}},Nw.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(s<this.palette.length){var i=this.palette[s];this.data[a]=i.red,this.data[a+1]=i.green,this.data[a+2]=i.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==e&&(this.pos+=4-e)}},Nw.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,A=a>>15?255:0,c=r*this.width*4+4*s;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=i,this.data[c+3]=A}this.pos+=e}},Nw.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&n)/n*255|0,A=(i>>11)/t*255|0,c=s*this.width*4+4*a;this.data[c]=A,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=e}},Nw.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;this.data[i]=a,this.data[i+1]=s,this.data[i+2]=r,this.data[i+3]=255}this.pos+=this.width%4}},Nw.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=i}},Nw.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var a=new Nw(t,!1),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},A=new Bw(100).encode(l,100);return e.processJPEG.call(this,A,n,r,s)}}($v.API),jw.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var a=new jw(t),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},A=new Bw(100).encode(l,100);return e.processJPEG.call(this,A,n,r,s)}}($v.API),$v.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,a=new Uint8Array(s/4*3),i=new Uint8Array(s/4),o=0,l=0,A=0;A<s;A+=4){var c=r[A],u=r[A+1],d=r[A+2],h=r[A+3];a[o++]=c,a[o++]=u,a[o++]=d,i[l++]=h}var f=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},$v.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rw=$v.API,sw=rw.getCharWidthsArray=function(e,t){var n,r,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,A=t.kerning?t.kerning:s.metadata.Unicode.kerning,c=A.fof?A.fof:1,u=!1!==t.doKerning,d=0,h=e.length,f=0,m=o[0]||l,p=[];for(n=0;n<h;n++)r=e.charCodeAt(n),"function"==typeof s.metadata.widthOfString?p.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+i*(1e3/a)||0)/1e3):(d=u&&"object"===(0,Am.A)(A[r])&&!isNaN(parseInt(A[r][f],10))?A[r][f]/c:0,p.push((o[r]||m)/l+d)),f=r;return p},aw=rw.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return rw.processArabic&&(e=rw.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,s)/n:sw.apply(this,arguments).reduce(function(e,t){return e+t},0)},iw=function(e,t,n,r){for(var s=[],a=0,i=e.length,o=0;a!==i&&o+t[a]<n;)o+=t[a],a++;s.push(e.slice(0,a));var l=a;for(o=0;a!==i;)o+t[a]>r&&(s.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&s.push(e.slice(l,a)),s},ow=function(e,t,n){n||(n={});var r,s,a,i,o,l,A,c=[],u=[c],d=n.textIndent||0,h=0,f=0,m=e.split(" "),p=sw.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),x=[];m.map(function(e){(e=e.split(/\s*\n/)).length>1?x=x.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):x.push(e[0])}),m=x,l=aw.apply(this,[g,n])}for(a=0,i=m.length;a<i;a++){var b=0;if(r=m[a],l&&"\n"==r[0]&&(r=r.substr(1),b=1),d+h+(f=(s=sw.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||b){if(f>t){for(o=iw.apply(this,[r,s,t-(d+h),t]),c.push(o.shift()),c=[o.pop()];o.length;)u.push([o.shift()]);f=s.slice(r.length-(c[0]?c[0].length:0)).reduce(function(e,t){return e+t},0)}else c=[r];u.push(c),d=f+l,h=p}else c.push(r),d+=h+f,h=p}return A=l?function(e,t){return(t?g:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(A)},rw.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var o,l,A=[];for(o=0,l=r.length;o<l;o++)A=A.concat(ow.apply(this,[r[o],i,a]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},s={},a=0;a<16;a++)r[n[a]]=t[a],s[t[a]]=n[a];var i=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,r,a,l=["{"];for(var A in e){if(t=e[A],isNaN(parseInt(A,10))?n="'"+A+"'":(A=parseInt(A,10),n=(n=i(A).slice(2)).slice(0,-1)+s[n.slice(-1)]),"number"==typeof t)t<0?(r=i(t).slice(3),a="-"):(r=i(t).slice(2),a=""),r=a+r.slice(0,-1)+s[r.slice(-1)];else{if("object"!==(0,Am.A)(t))throw new Error("Don't know what to do with value type "+(0,Am.A)(t)+".");r=o(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,s,a,i={},o=1,l=i,A=[],c="",u="",d=e.length-1,h=1;h<d;h+=1)"'"==(a=e[h])?t?(s=t.join(""),t=void 0):t=[]:t?t.push(a):"{"==a?(A.push([l,s]),l={},s=void 0):"}"==a?((n=A.pop())[0][n[1]]=l,s=void 0,l=n[0]):"-"==a?o=-1:void 0===s?r.hasOwnProperty(a)?(c+=r[a],s=parseInt(c,16)*o,o=1,c=""):c+=a:r.hasOwnProperty(a)?(u+=r[a],l[s]=parseInt(u,16)*o,o=1,s=void 0,u=""):u+=a;return i},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}($v.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(void 0===a)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if("string"!=typeof(r=!1===a.existsFileInVFS(s.postScriptName)?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(Fv(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(s,r)}}])}($v),$v.API.addSvgAsImage=function(e,t,r,s,a,i,o,l){if(isNaN(t)||isNaN(r))throw wv.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw wv.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var A=document.createElement("canvas");A.width=s,A.height=a;var c=A.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,A.width,A.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(vv.canvg?Promise.resolve(vv.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){d.addImage(A.toDataURL("image/jpeg",1),t,r,s,a,o,l)})},$v.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},$v.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,s,a,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],A=0,c=0,u=0;function d(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var h=o.length;for(u=0;u<h;u+=1)n[o[u]].value=n[o[u]].defaultValue,n[o[u]].explicitSet=!1}if("object"===(0,Am.A)(e))for(s in e)if(a=e[s],d(o,s)&&void 0!==a){if("boolean"===n[s].type&&"boolean"==typeof a)n[s].value=a;else if("name"===n[s].type&&d(n[s].valueSet,a))n[s].value=a;else if("integer"===n[s].type&&Number.isInteger(a))n[s].value=a;else if("array"===n[s].type){for(A=0;A<a.length;A+=1)if(r=!0,1===a[A].length&&"number"==typeof a[A][0])l.push(String(a[A]-1));else if(a[A].length>1){for(c=0;c<a[A].length;c+=1)"number"!=typeof a[A][c]&&(r=!1);!0===r&&l.push([a[A][0]-1,a[A][1]-1].join(" "))}n[s].value="["+l.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),i=n.length+r.length+s.length+t.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+s+a),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}($v.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,s=["","0","00","000","0000"],a=[""],i=0,o=e.length;i<o;++i){if(n=t.metadata.characterToGlyph(e.charCodeAt(i)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(i),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return a.join("");n=n.toString(16),a.push(s[4-n.length],n)}return a.join("")},r=function(e){var t,n,r,s,a,i,o;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],i=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;i<o;i++)t=n[i],r.length>=100&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(s=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+s+">"));return r.length&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,s=t.out,a=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),A="",c=0;c<l.length;c++)A+=String.fromCharCode(l[c]);var u=a();i({data:A,addLength1:!0,objectId:u}),s("endobj");var d=a();i({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),s("endobj");var h=a();s("<<"),s("/Type /FontDescriptor"),s("/FontName /"+Wv(n.fontName)),s("/FontFile2 "+u+" 0 R"),s("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),s("/Flags "+n.metadata.flags),s("/StemV "+n.metadata.stemV),s("/ItalicAngle "+n.metadata.italicAngle),s("/Ascent "+n.metadata.ascender),s("/Descent "+n.metadata.decender),s("/CapHeight "+n.metadata.capHeight),s(">>"),s("endobj");var f=a();s("<<"),s("/Type /Font"),s("/BaseFont /"+Wv(n.fontName)),s("/FontDescriptor "+h+" 0 R"),s("/W "+e.API.PDFObject.convert(o)),s("/CIDToGIDMap /Identity"),s("/DW 1000"),s("/Subtype /CIDFontType2"),s("/CIDSystemInfo"),s("<<"),s("/Supplement 0"),s("/Registry (Adobe)"),s("/Ordering ("+n.encoding+")"),s(">>"),s(">>"),s("endobj"),n.objectNumber=a(),s("<<"),s("/Type /Font"),s("/Subtype /Type0"),s("/ToUnicode "+d+" 0 R"),s("/BaseFont /"+Wv(n.fontName)),s("/Encoding /"+n.encoding),s("/DescendantFonts ["+f+" 0 R]"),s(">>"),s("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,s=t.out,a=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",A=0;A<o.length;A++)l+=String.fromCharCode(o[A]);var c=a();i({data:l,addLength1:!0,objectId:c}),s("endobj");var u=a();i({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),s("endobj");var d=a();s("<<"),s("/Descent "+n.metadata.decender),s("/CapHeight "+n.metadata.capHeight),s("/StemV "+n.metadata.stemV),s("/Type /FontDescriptor"),s("/FontFile2 "+c+" 0 R"),s("/Flags 96"),s("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),s("/FontName /"+Wv(n.fontName)),s("/ItalicAngle "+n.metadata.italicAngle),s("/Ascent "+n.metadata.ascender),s(">>"),s("endobj"),n.objectNumber=a();for(var h=0;h<n.metadata.hmtx.widths.length;h++)n.metadata.hmtx.widths[h]=parseInt(n.metadata.hmtx.widths[h]*(1e3/n.metadata.head.unitsPerEm));s("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Wv(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),s("endobj"),n.isAlreadyPutted=!0}}(t)}]);var s=function(e){var t,r=e.text||"",s=e.x,a=e.y,i=e.options||{},o=e.mutex||{},l=o.pdfEscape,A=o.activeFontKey,c=o.fonts,u=A,d="",h=0,f="",m=c[u].encoding;if("Identity-H"!==c[u].encoding)return{text:r,x:s,y:a,options:i,mutex:o};for(f=r,u=A,Array.isArray(r)&&(f=r[0]),h=0;h<f.length;h+=1)c[u].metadata.hasOwnProperty("cmap")&&(t=c[u].metadata.cmap.unicode.codeMap[f[h].charCodeAt(0)]),t||f[h].charCodeAt(0)<256&&c[u].metadata.hasOwnProperty("Unicode")?d+=f[h]:d+="";var p="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===m?p=l(d,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(p=n(d,c[u])),o.isHex=!0,{text:p,x:s,y:a,options:i,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&3===t[a].length?n.push([s(Object.assign({},r,{text:t[a][0]})).text,t[a][1],t[a][2]]):n.push(s(Object.assign({},r,{text:t[a]})).text);e.text=n}else e.text=s(Object.assign({},r,{text:t})).text}])}($v),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}($v.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,s,a,i,o,l,A=t,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},h={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),p=!1,g=0;this.__bidiEngine__={};var x=function(e){var t=e.charCodeAt(),n=t>>8,r=h[n];return void 0!==r?A[256*r+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=x(e.charAt(n))))return!1;if("R"===t)return!0}return!1},v=function(e,t,i,o){var l,A,c,u,d=t[o];switch(d){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":p=!1;break;case"N":case"AN":break;case"EN":p&&(d="AN");break;case"AL":p=!0,d="R";break;case"WS":case"BN":d="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=i[o-1])&&"AN"!==l||"EN"!==(A=t[o+1])&&"AN"!==A?d="N":p&&(A="AN"),d=A===l?A:"N";break;case"ES":d="EN"===(l=o>0?i[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===i[o-1]){d="EN";break}if(p){d="N";break}for(c=o+1,u=t.length;c<u&&"ET"===t[c];)c++;d=c<u&&"EN"===t[c]?"EN":"N";break;case"NSM":if(s&&!a){for(u=t.length,c=o+1;c<u&&"NSM"===t[c];)c++;if(c<u){var h=e[o],f=h>=1425&&h<=2303||64286===h;if(l=t[c],f&&("R"===l||"AL"===l)){d="R";break}}}d=o<1||"B"===(l=t[o-1])?"N":i[o-1];break;case"B":p=!1,n=!0,d=g;break;case"S":r=!0,d="N"}return d},y=function(e,t,n){var r=e.split("");return n&&w(r,n,{hiLevel:g}),r.reverse(),t&&t.reverse(),r.join("")},w=function(e,t,s){var a,i,o,l,A,h=-1,f=e.length,m=0,b=[],y=g?u:c,w=[];for(p=!1,n=!1,r=!1,i=0;i<f;i++)w[i]=x(e[i]);for(o=0;o<f;o++){if(A=m,b[o]=v(e,w,b,o),a=240&(m=y[A][d[b[o]]]),m&=15,t[o]=l=y[m][5],a>0)if(16===a){for(i=h;i<o;i++)t[i]=1;h=-1}else h=-1;if(y[m][6])-1===h&&(h=o);else if(h>-1){for(i=h;i<o;i++)t[i]=l;h=-1}"B"===w[o]&&(t[o]=0),s.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=g;for(var s=r-1;s>=0&&"WS"===e[s];s--)t[s]=g}}(w,t,f)},B=function(e,t,r,s,a){if(!(a.hiLevel<e)){if(1===e&&1===g&&!n)return t.reverse(),void(r&&r.reverse());for(var i,o,l,A,c=t.length,u=0;u<c;){if(s[u]>=e){for(l=u+1;l<c&&s[l]>=e;)l++;for(A=u,o=l-1;A<o;A++,o--)i=t[A],t[A]=t[o],t[o]=i,r&&(i=r[A],r[A]=r[o],r[o]=i);u=l}u++}}},N=function(e,t,n){var r=e.split(""),s={hiLevel:g};return n||(n=[]),w(r,n,s),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,s=0;s<e.length;s++)1===t[s]&&(r=f.indexOf(e[s]))>=0&&(e[s]=f[r+1])}(r,n,s),B(2,r,t,n,s),B(1,r,t,n,s),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===a&&(a=b(e)),void 0===o&&(o=b(e))}(e,t),s||!i||o)if(s&&i&&a^o)g=a?1:0,e=y(e,t,n);else if(!s&&i&&o)g=a?1:0,e=N(e,t,n),e=y(e,t);else if(!s||a||i||o){if(s&&!i&&a^o)e=y(e,t),a?(g=0,e=N(e,t,n)):(g=1,e=N(e,t,n),e=y(e,t));else if(s&&a&&!i&&o)g=1,e=N(e,t,n),e=y(e,t);else if(!s&&!i&&a^o){var r=l;a?(g=1,e=N(e,t,n),g=0,l=!1,e=N(e,t,n),l=r):(g=0,e=N(e,t,n),e=y(e,t),g=1,l=!1,e=N(e,t,n),l=r,e=y(e,t))}}else g=0,e=N(e,t,n);else g=a?1:0,e=N(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(s=e.isInputVisual,i=e.isOutputVisual,a=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var s=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var a=0;for(s=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?s.push([n.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):s.push([n.doBidiReorder(t[a])]);e.text=s}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}($v),$v.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new kw(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new qw(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Fw(this.contents),this.head=new _w(this),this.name=new Pw(this),this.cmap=new Qw(this),this.toUnicode={},this.hhea=new Lw(this),this.maxp=new Tw(this),this.hmtx=new Ow(this),this.post=new Mw(this),this.os2=new Iw(this),this.loca=new Vw(this),this.glyf=new Rw(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,s;for(s=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],s.push(Math.round(e*this.scaleFactor));return s}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,s,a,i;for(a=0,s=0,i=(e=""+e).length;0<=i?s<i:s>i;s=0<=i?++s:--s)r=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Cw,kw=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,s,a,i,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^i)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*s+65536*a+256*i+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,s;for(s=[],n=0,r=e.length;n<r;n++)t=e[n],s.push(this.writeByte(t));return s},e}(),Fw=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,s,a,i,o,l,A,c,u,d,h,f;for(f in d=Object.keys(t).length,o=Math.log(2),c=16*Math.floor(Math.log(d)/o),a=Math.floor(c/o),A=16*d-c,(r=new kw).writeInt(this.scalarType),r.writeShort(d),r.writeShort(c),r.writeShort(a),r.writeShort(A),s=16*d,l=r.pos+s,i=null,h=[],t)for(u=t[f],r.writeString(f),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),h=h.concat(u),"head"===f&&(i=l),l+=u.length;l%4;)h.push(0),l++;return r.write(h),n=2981146554-e(r.data),r.pos=i+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,s;for(e=Hw.call(e);e.length%4;)e.push(0);for(r=new kw(e),n=0,t=0,s=e.length;t<s;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),Sw={}.hasOwnProperty,Ew=function(e,t){for(var n in t)Sw.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Cw=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var _w=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ew(e,Cw),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new kw).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Uw=function(){function e(e,t){var n,r,s,a,i,o,l,A,c,u,d,h,f,m,p,g,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(d=e.readUInt16(),u=d/2,e.pos+=6,s=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),A=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,i=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=p=0,x=s.length;p<x;o=++p)for(m=s[o],n=g=h=f[o];h<=m?g<=m:g>=m;n=h<=m?++g:--g)0===A[o]?a=n+l[o]:0!==(a=i[A[o]/2+(n-h)-(u-o)]||0)&&(a+=l[o]),this.codeMap[n]=65535&a}e.pos=c}return e.encode=function(e,t){var n,r,s,a,i,o,l,A,c,u,d,h,f,m,p,g,x,b,v,y,w,B,N,j,C,k,F,S,E,_,U,Q,L,I,M,D,P,T,O,H,R,z,K,V,q,W;switch(S=new kw,a=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(f=0,m=function(){var e=[];for(h=0;h<256;++h)e.push(0);return e}(),g={0:0},s={},E=0,L=a.length;E<L;E++)null==g[K=e[r=a[E]]]&&(g[K]=++f),s[r]={old:e[r],new:g[e[r]]},m[r]=g[e[r]];return S.writeUInt16(1),S.writeUInt16(0),S.writeUInt32(12),S.writeUInt16(0),S.writeUInt16(262),S.writeUInt16(0),S.write(m),{charMap:s,subtable:S.data,maxGlyphID:f+1};case"unicode":for(k=[],c=[],x=0,g={},n={},p=l=null,_=0,I=a.length;_<I;_++)null==g[v=e[r=a[_]]]&&(g[v]=++x),n[r]={old:v,new:g[v]},i=g[v]-r,null!=p&&i===l||(p&&c.push(p),k.push(r),l=i),p=r;for(p&&c.push(p),c.push(65535),k.push(65535),j=2*(N=k.length),B=2*Math.pow(Math.log(N)/Math.LN2,2),u=Math.log(B/2)/Math.LN2,w=2*N-B,o=[],y=[],d=[],h=U=0,M=k.length;U<M;h=++U){if(C=k[h],A=c[h],65535===C){o.push(0),y.push(0);break}if(C-(F=n[C].new)>=32768)for(o.push(0),y.push(2*(d.length+N-h)),r=Q=C;C<=A?Q<=A:Q>=A;r=C<=A?++Q:--Q)d.push(n[r].new);else o.push(F-C),y.push(0)}for(S.writeUInt16(3),S.writeUInt16(1),S.writeUInt32(12),S.writeUInt16(4),S.writeUInt16(16+8*N+2*d.length),S.writeUInt16(0),S.writeUInt16(j),S.writeUInt16(B),S.writeUInt16(u),S.writeUInt16(w),R=0,D=c.length;R<D;R++)r=c[R],S.writeUInt16(r);for(S.writeUInt16(0),z=0,P=k.length;z<P;z++)r=k[z],S.writeUInt16(r);for(V=0,T=o.length;V<T;V++)i=o[V],S.writeUInt16(i);for(q=0,O=y.length;q<O;q++)b=y[q],S.writeUInt16(b);for(W=0,H=d.length;W<H;W++)f=d[W],S.writeUInt16(f);return{charMap:n,subtable:S.data,maxGlyphID:x+1}}},e}(),Qw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ew(e,Cw),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Uw(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Uw.encode(e,t),(r=new kw).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Lw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ew(e,Cw),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Iw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ew(e,Cw),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Mw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ew(e,Cw),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],s=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;s=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Dw=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Pw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ew(e,Cw),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,s,a,i,o,l,A,c,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),i=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+i+e.readShort()});for(o={},s=A=0,c=n.length;A<c;s=++A)r=n[s],e.pos=r.offset,l=e.readString(r.length),a=new Dw(l,r),null==o[u=r.nameID]&&(o[u]=[]),o[r.nameID].push(a);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(Fv){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),Tw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ew(e,Cw),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Ow=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ew(e,Cw),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,s,a,i,o;for(e.pos=this.offset,this.metrics=[],t=0,i=this.file.hhea.numberOfMetrics;0<=i?t<i:t>i;t=0<=i?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,s;for(s=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)s.push(e.readInt16());return s}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)s=n[e],r.push(s.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Hw=[].slice,Rw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ew(e,Cw),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,s,a,i,o,l,A,c;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),0===(r=s.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,a=(i=new kw(t.read(r))).readShort(),l=i.readShort(),c=i.readShort(),o=i.readShort(),A=i.readShort(),this.cache[e]=-1===a?new Kw(i,l,c,o,A):new zw(i,a,l,c,o,A),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,s,a,i,o;for(a=[],s=[],i=0,o=t.length;i<o;i++)r=e[t[i]],s.push(a.length),r&&(a=a.concat(r.encode(n)));return s.push(a.length),{table:a,offsets:s}},e}(),zw=function(){function e(e,t,n,r,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Kw=function(){function e(e,t,n,r,s){var a,i;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;i=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&i;)a.pos+=1&i?4:2,128&i?a.pos+=8:64&i?a.pos+=4:8&i&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new kw(Hw.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Vw=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Ew(e,Cw),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<n.length;++a)if(n[a]=r,s<t.length&&t[s]==a){++s,n[a]=r;var i=this.offsets[a],o=this.offsets[a+1]-i;o>0&&(r+=o)}for(var l=new Array(4*n.length),A=0;A<n.length;++A)l[4*A+3]=255&n[A],l[4*A+2]=(65280&n[A])>>8,l[4*A+1]=(16711680&n[A])>>16,l[4*A]=(4278190080&n[A])>>24;return l},e}(),qw=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,s,a,i,o;for(r={},a=0,i=e.length;a<i;a++)r[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(null!=(n=r[s])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in o=this.glyphsFor(t))n=o[s],r[s]=n;return r},e.prototype.encode=function(e,t){var n,r,s,a,i,o,l,A,c,u,d,h,f,m,p;for(r in n=Qw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},p=n.charMap)d[(o=p[r]).old]=o.new;for(h in u=n.maxGlyphID,a)h in d||(d[h]=u++);return A=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),c=Object.keys(A).sort(function(e,t){return e-t}),f=function(){var e,t,n;for(n=[],e=0,t=c.length;e<t;e++)i=c[e],n.push(A[i]);return n}(),s=this.font.glyf.encode(a,f,d),l=this.font.loca.encode(s.offsets,f),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();$v.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,s,a,i;if(Array.isArray(n))return"["+function(){var e,s,a;for(a=[],e=0,s=n.length;e<s;e++)r=n[e],a.push(t.convert(r));return a}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(s in a=["<<"],n)i=n[s],a.push("/"+s+" "+t.convert(i));return a.push(">>"),a.join("\n")}return""+n},t}();var Ww=n(5239),Gw=n.n(Ww);function Yw(e){let{message:t,type:n="error",show:r,onClose:s}=e;return(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-[9999] transition-all duration-500 transform ".concat(r?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,wt.jsxs)("div",{className:"bg-white border-l-4 ".concat((()=>{switch(n){case"success":return"border-green-500";case"warning":return"border-yellow-500";case"info":return"border-blue-500";default:return"border-red-500"}})()," rounded shadow-2xl p-4 w-80 flex items-start"),children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(n){case"success":return(0,wt.jsx)("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return(0,wt.jsx)("svg",{className:"h-6 w-6 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.998-.833-2.732 0L4.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":return(0,wt.jsx)("svg",{className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,wt.jsx)("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})()}),(0,wt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,wt.jsx)("p",{className:"text-sm font-bold text-gray-900 leading-5",children:"success"===n?"Succ\xe8s":"warning"===n?"Avertissement":"info"===n?"Information":"Erreur"}),(0,wt.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-600",children:t})]}),(0,wt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,wt.jsx)("button",{onClick:s,className:"inline-flex text-gray-400 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",children:(0,wt.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,wt.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L10 10 5.707 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})})}function Jw(e){let{show:t,title:n,message:r,onConfirm:s,onCancel:a,confirmText:i="Confirmer",cancelText:o="Annuler"}=e;return t?(0,wt.jsx)("div",{className:"fixed inset-0 z-[10000] overflow-y-auto",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center",children:[(0,wt.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:a}),(0,wt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,wt.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,wt.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,wt.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,wt.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,wt.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,wt.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,wt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n}),(0,wt.jsx)("div",{className:"mt-2",children:(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:r})})]})]})}),(0,wt.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,wt.jsx)("button",{type:"button",onClick:s,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:i}),(0,wt.jsx)("button",{type:"button",onClick:a,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:o})]})]})]})}):null}const Xw=e=>{let{isSorted:t,isAsc:n}=e;return t?n?(0,wt.jsx)(Vf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(qf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(Kf,{className:"w-3 h-3 text-gray-400"})},Zw=e=>{let{onContactReference:n}=e;const[]=(0,t.useState)("tous"),[r,s]=(0,t.useState)({search:"",statut:"",dateDebut:"",dateFin:""}),[a,i]=(0,t.useState)(1),[l,A]=(0,t.useState)(10),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),[x,b]=(0,t.useState)("tous"),[v,y]=(0,t.useState)(!1),[]=(0,t.useState)(!1),[w,B]=(0,t.useState)(!1),[N,j]=(0,t.useState)(!1),[C,k]=(0,t.useState)(!1),[F,S]=(0,t.useState)(!1),[,E]=(0,t.useState)(!1),[_,U]=(0,t.useState)(null),[Q,L]=(0,t.useState)({general:!0,auteur:!0,description:!0,pieces:!0}),[I,M]=(0,t.useState)({key:"date",direction:"desc"}),[D,P]=(0,t.useState)({category:"",description:"",files:[],name:"",email:"",phone:"",address:"",type:"identifie"}),[T,O]=(0,t.useState)({status:""}),[H,R]=(0,t.useState)({}),[z,K]=(0,t.useState)({type:"quotidien",dateDebut:(new Date).toISOString().split("T")[0],dateFin:(new Date).toISOString().split("T")[0],categories:[],notes:""}),[V,q]=(0,t.useState)(null),[W,G]=(0,t.useState)({show:!1,message:"",type:"error"}),[Y,J]=(0,t.useState)({show:!1,title:"",message:"",reportId:null,action:null}),X=[{id:"faux-diplomes",icon:Ks,name:"Faux Dipl\xf4mes"},{id:"offre-formation-irreguliere",icon:Mi,name:"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)"},{id:"recrutements-irreguliers",icon:em,name:"Recrutements Irr\xe9guliers"},{id:"harcelement",icon:Yi,name:"Harc\xe8lement"},{id:"corruption",icon:tm,name:"Corruption"},{id:"divers",icon:nm,name:"Divers"}],Z=function(e){G({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error"}),setTimeout(()=>{G(e=>o(o({},e),{},{show:!1}))},5e3)},$=()=>{J({show:!1,title:"",message:"",reportId:null,action:null})},ee=async()=>{const{reportId:e,action:t}=Y;if(e){try{"delete"===t&&(await is.delete("/reports/".concat(e)),Z("Signalement supprim\xe9 avec succ\xe8s","success"),E(!1),(null===p||void 0===p?void 0:p.id)===e&&g(null),await te())}catch(f){var n,r;if(404===(null===(n=f.response)||void 0===n?void 0:n.status))await te(),Z("Signalement supprim\xe9","info");else if(403===(null===(r=f.response)||void 0===r?void 0:r.status))Z("Vous n'avez pas les droits pour supprimer ce signalement","error");else{var s,a;Z("Erreur: ".concat((null===(s=f.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||f.message),"error")}}$()}else $()},te=async()=>{h(!0),m(null);try{const e=(await is.get("/reports?per_page=1000")).data;if(e.success&&Array.isArray(e.data)){const t=e.data.map(e=>{let t=[];try{e.files&&("string"===typeof e.files?t=JSON.parse(e.files):Array.isArray(e.files)&&(t=e.files))}catch(NN){}const n=e.description||"Aucune description",r=n.length>80?n.substring(0,80)+"...":n;return{id:e.id,reference:e.reference,date:e.created_at,nom_prenom:e.is_anonymous?"Anonyme":e.name||"Non sp\xe9cifi\xe9",telephone:e.phone||"N/A",email:e.email||"N/A",categorie:e.category,categorieLabel:e.category,raison:e.title||"Non sp\xe9cifi\xe9",type_signalement:e.is_anonymous?"Anonyme":"Non-Anonyme",explication:e.description||"Aucune description",shortDescription:r,files:t,status:e.status||"en_cours",assigned_to:e.assigned_to||"Non assign\xe9",city:e.city,province:e.province,region:e.region,has_proof:e.has_proof||!1}});u(t)}else u([])}catch(f){var e,t;m((null===(e=f.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||f.message),Z("Erreur lors du chargement des signalements","error")}finally{h(!1)}};(0,t.useEffect)(()=>{te()},[]);const ne=e=>{if("tous"===e){return{total:c.length,encours:c.filter(e=>"en_cours"===e.status).length,resolus:c.filter(e=>"classifier"===e.status).length}}const t=c.filter(t=>t.categorie===e);return{total:t.length,encours:t.filter(e=>"en_cours"===e.status).length,resolus:t.filter(e=>"classifier"===e.status).length}},re=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(NN){return e}},se=e=>({en_cours:"En cours",investigation:"Ouverture d'enqu\xeates",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes",classifier:"Dossier class\xe9 sans suite"}[e]||e),ae=(0,t.useMemo)(()=>{const e=[...c].sort((e,t)=>{if(!I.key)return 0;let n=e[I.key],r=t[I.key];return"date"===I.key&&(n=new Date(n),r=new Date(r)),"reference"===I.key&&(n=n.toLowerCase(),r=r.toLowerCase()),n<r?"asc"===I.direction?-1:1:n>r?"asc"===I.direction?1:-1:0});return e},[c,I]),ie=(0,t.useMemo)(()=>{let e=ae;return"tous"!==x&&(e=e.filter(e=>e.categorie===x)),(r.dateDebut||r.dateFin)&&(e=e.filter(e=>{const t=new Date(e.date),n=r.dateDebut?new Date(r.dateDebut):null,s=r.dateFin?new Date(r.dateFin):null;let a=!0;if(n&&(a=a&&t>=n),s){const e=new Date(s);e.setDate(e.getDate()+1),a=a&&t<e}return a})),e.filter(e=>{const t=!r.search||e.reference.toLowerCase().includes(r.search.toLowerCase())||e.nom_prenom.toLowerCase().includes(r.search.toLowerCase())||e.categorieLabel&&e.categorieLabel.toLowerCase().includes(r.search.toLowerCase())||e.explication.toLowerCase().includes(r.search.toLowerCase()),n=!r.statut||e.status===r.statut;return t&&n})},[ae,r,x]),oe=Math.ceil(ie.length/l),le=a*l,Ae=le-l,ce=ie.slice(Ae,le),ue=e=>{M(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})),i(1)},de=(e,t)=>{s(n=>o(o({},n),{},{[e]:t})),i(1)},he=e=>{g(e),setTimeout(()=>{const e=document.querySelector(".print-section");if(e){const t=document.body.innerHTML,n=e.innerHTML;document.body.innerHTML=n,window.print(),document.body.innerHTML=t,window.location.reload()}},500)},fe=e=>{U(e),O({status:"en_cours"===e.status?"":e.status||""}),B(!0)},me=e=>{U(e),R({category:e.categorie,description:e.explication,nom_prenom:e.nom_prenom,email:e.email,telephone:e.telephone,city:e.city,province:e.province,region:e.region}),j(!0)},pe=e=>{U(e),((e,t,n,r)=>{J({show:!0,title:e,message:t,reportId:n,action:r})})("Supprimer ce signalement ?","Cette action est irr\xe9versible. Le signalement sera d\xe9finitivement supprim\xe9.",e.id,"delete")},ge=e=>{L(t=>o(o({},t),{},{[e]:!t[e]}))},xe=async e=>{if(e.preventDefault(),_)try{const e="Anonyme"===_.type_signalement,a=o(o({category:H.category,description:H.description},!e&&{nom_prenom:H.nom_prenom,email:H.email,telephone:H.telephone}),{},{city:H.city,province:H.province,region:H.region,type_signalement:e?"anonyme":"non-anonyme"}),i=_.files&&0===_.files.length,l=H.newFiles&&H.newFiles.length>0;if(i&&l)return void Z("\u26a0\ufe0f Vous ne pouvez pas ajouter des preuves \xe0 un signalement qui n'en avait pas initialement. Veuillez cr\xe9er un nouveau signalement avec les preuves n\xe9cessaires.","warning");if(H.newFiles&&H.newFiles.length>0||H.filesToRemove&&H.filesToRemove.length>0)try{const e=new FormData;H.filesToRemove&&H.filesToRemove.length>0&&H.filesToRemove.forEach((t,n)=>{e.append("files_to_remove[".concat(n,"]"),t)}),H.newFiles&&H.newFiles.length>0&&H.newFiles.forEach((t,n)=>{e.append("new_files[".concat(n,"]"),t)});(await is.post("/reports/".concat(_.id,"/files"),e,{headers:{"Content-Type":"multipart/form-data"}})).data.success&&Z("Fichiers mis \xe0 jour avec succ\xe8s","success")}catch(m){var t,n,r,s;403===(null===(t=m.response)||void 0===t?void 0:t.status)&&"Ce signalement ne peut plus \xeatre modifi\xe9"===(null===(n=m.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)?Z("\u274c Impossible d'ajouter des preuves : Ce signalement ne peut plus \xeatre modifi\xe9. Pour ajouter des preuves, cr\xe9ez un nouveau signalement.","error"):403===(null===(s=m.response)||void 0===s?void 0:s.status)&&Z("\u274c Permission refus\xe9e pour modifier les pi\xe8ces jointes. Ce signalement a peut-\xeatre d\xe9j\xe0 \xe9t\xe9 trait\xe9 ou class\xe9.","error")}await te(),j(!1),U(null),(null===p||void 0===p?void 0:p.id)===_.id&&g(e=>o(o({},e),a)),Z("Signalement modifi\xe9 avec succ\xe8s","success")}catch(f){var a,i,l,A,c,u;if(403===(null===(a=f.response)||void 0===a?void 0:a.status)&&null!==(i=f.response)&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&l.message){const t=f.response.data.message;t.includes("ne peut plus \xeatre modifi\xe9")?Z("\u274c Modification impossible : ".concat(t,"\n\n")+"\u2022 Pour ajouter des preuves, cr\xe9ez un nouveau signalement\n\u2022 Pour modifier les informations, contactez l'administrateur\n\u2022 Ce signalement a probablement \xe9t\xe9 trait\xe9 ou archiv\xe9","error"):Z("Permission refus\xe9e : ".concat(t),"error")}else if(422===(null===(A=f.response)||void 0===A?void 0:A.status)&&null!==(c=f.response)&&void 0!==c&&null!==(u=c.data)&&void 0!==u&&u.errors){const t=Object.entries(f.response.data.errors).map(e=>{let[t,n]=e;return"\u2022 ".concat(t,": ").concat(Array.isArray(n)?n.join(", "):n)}).join("\n");Z("Erreurs de validation:\n".concat(t),"error")}else{var d,h;Z("Erreur lors de la modification: "+((null===(d=f.response)||void 0===d||null===(h=d.data)||void 0===h?void 0:h.message)||f.message),"error")}}},be=async e=>{if(e.preventDefault(),_&&T.status)try{(await is.put("/reports/".concat(_.id,"/status"),{status:T.status})).data.success&&(Z("Statut mis \xe0 jour avec succ\xe8s !\nNouveau statut: ".concat(se(T.status)),"success"),B(!1),O({status:""}),U(null),await te())}catch(f){var t,n;Z("Erreur: ".concat((null===(t=f.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||f.message),"error")}else Z("Veuillez s\xe9lectionner un statut","error")},ve=e=>{e.preventDefault();const t=z.categories.length>0?X.filter(e=>z.categories.includes(e.id)).map(e=>e.name):["Toutes les cat\xe9gories"],n={total:ie.length,en_cours:ie.filter(e=>"en_cours"===e.status).length,transmis_autorite:ie.filter(e=>"transmis_autorite"===e.status).length,classifier:ie.filter(e=>"classifier"===e.status).length,investigation:ie.filter(e=>"investigation"===e.status).length},r={type:z.type,periode:"".concat(re(z.dateDebut)," - ").concat(re(z.dateFin)),categories:t,notes:z.notes,stats:n,dateGeneration:(new Date).toLocaleDateString("fr-FR"),heureGeneration:(new Date).toLocaleTimeString("fr-FR")};q(r),S(!0),Z("Rapport g\xe9n\xe9r\xe9 avec succ\xe8s","success")},ye=()=>{const e=document.getElementById("report-preview");Gw()(e,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}).then(e=>{const t=210*e.height/e.width;let n=t,r=0;const s=new $v("p","mm","a4");let a=e.toDataURL("image/jpeg",.98);for(s.addImage(a,"JPEG",0,r,210,t),n-=297;n>=0;)r=n-t,s.addPage(),s.addImage(a,"JPEG",0,r,210,t),n-=297;s.save("rapport_signalements_".concat(V.dateGeneration,".pdf")),Z("PDF export\xe9 avec succ\xe8s","success")}).catch(e=>{console.error("Erreur lors de la g\xe9n\xe9ration du PDF:",e),Z("Erreur lors de la g\xe9n\xe9ration du PDF","error")})},we=X.find(e=>e.id===x),Be=ne(x);return p&&!V?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("style",{children:"\n            @media print {\n              body * {\n                visibility: hidden;\n              }\n              \n              .print-section,\n              .print-section * {\n                visibility: visible;\n              }\n              \n              .print-section {\n                position: absolute;\n                left: 0;\n                top: 0;\n                width: 100%;\n                background: white;\n                padding: 20px;\n              }\n              \n              .no-print {\n                display: none !important;\n              }\n              \n              .print-actions {\n                display: none !important;\n              }\n            }\n          "}),(0,wt.jsx)(Yw,{message:W.message,type:W.type,show:W.show,onClose:()=>G(e=>o(o({},e),{},{show:!1}))}),(0,wt.jsx)(Jw,{show:Y.show,title:Y.title,message:Y.message,onConfirm:ee,onCancel:$,confirmText:"Supprimer",cancelText:"Annuler"}),(0,wt.jsxs)("div",{className:"print-section p-4 bg-white min-h-screen",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4 no-print",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h1",{className:"text-lg font-bold text-gray-900",children:["D\xe9tail du Signalement - ",p.reference]}),(0,wt.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[re(p.date)," \u2022"," ",p.categorieLabel]})]}),(0,wt.jsxs)("button",{onClick:()=>g(null),className:"flex items-center gap-2 px-3 py-2 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,wt.jsx)(_t,{className:"w-3 h-3"}),"Retour \xe0 la liste"]})]}),(0,wt.jsxs)("div",{className:"space-y-3",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>ge("general"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations G\xe9n\xe9rales"})]}),Q.general?(0,wt.jsx)(rm,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Xi,{className:"w-4 h-4 text-gray-500"})]}),Q.general&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:(0,wt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-xs",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"R\xe9f\xe9rence:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:p.reference})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Date:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:re(p.date)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Cat\xe9gorie:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:p.categorieLabel})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Statut:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===p.status?"bg-yellow-100 text-yellow-800":"transmis_autorite"===p.status?"bg-indigo-100 text-indigo-800":"classifier"===p.status?"bg-blue-100 text-blue-800":"investigation"===p.status?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:se(p.status)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Assign\xe9 \xe0:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("investigateur"===p.assigned_to?"bg-indigo-100 text-indigo-800":"cac_daj"===p.assigned_to?"bg-blue-100 text-blue-800":"autorite_competente"===p.assigned_to?"bg-cyan-100 text-cyan-800":"bg-gray-100 text-gray-800"),children:(Ne=p.assigned_to,{investigateur:"Investigateur",cac_daj:"DAAQ / CAC / DAJ",autorite_competente:"Autorit\xe9 comp\xe9tente"}[Ne]||Ne||"Non assign\xe9")})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Type:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:p.type_signalement})]})]})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>ge("auteur"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations de l'Auteur"})]}),Q.auteur?(0,wt.jsx)(rm,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Xi,{className:"w-4 h-4 text-gray-500"})]}),Q.auteur&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:"Anonyme"===p.type_signalement?(0,wt.jsxs)("div",{className:"text-center py-3",children:[(0,wt.jsx)(ro,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Signalement anonyme"})]}):(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Nom / Pr\xe9nom:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:p.nom_prenom})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Email:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:p.email})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"T\xe9l\xe9phone:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:p.telephone})]})]})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>ge("description"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Description du Signalement"})]}),Q.description?(0,wt.jsx)(rm,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Xi,{className:"w-4 h-4 text-gray-500"})]}),Q.description&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:(0,wt.jsx)("div",{className:"bg-gray-50 rounded-md p-3 text-xs leading-relaxed",children:p.explication})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>ge("pieces"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Pi\xe8ces Jointes"})]}),Q.pieces?(0,wt.jsx)(rm,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Xi,{className:"w-4 h-4 text-gray-500"})]}),Q.pieces&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:p.files&&p.files.length>0?(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:p.files.map((e,t)=>{var n;const r="string"===typeof e?e:e.name||"",s=null===(n=r.split(".").pop())||void 0===n?void 0:n.toLowerCase(),a=["jpg","jpeg","png","gif","webp"].includes(s),i="pdf"===s;return(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg border overflow-hidden",children:[(0,wt.jsx)("div",{className:"aspect-video bg-white flex items-center justify-center",children:a?(0,wt.jsx)("img",{src:"".concat(is.defaults.baseURL,"/files/public/").concat(encodeURIComponent(r.replace(/^admin\//,"").replace(/^\//,"").split("/").pop())),alt:r,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='120'%3E%3Crect width='100%25' height='100%25' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%239ca3af' font-size='12'%3EImpossible de charger l'image%3C/text%3E%3C/svg%3E"}}):i?(0,wt.jsxs)("div",{className:"text-center p-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,wt.jsx)("span",{className:"text-red-600 font-bold text-xs",children:"PDF"})}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Document PDF"})]}):(0,wt.jsxs)("div",{className:"text-center p-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,wt.jsx)("span",{className:"text-gray-600 font-bold text-xs",children:null===s||void 0===s?void 0:s.toUpperCase()})}),(0,wt.jsxs)("p",{className:"text-xs text-gray-600",children:["Fichier ",s]})]})}),(0,wt.jsxs)("div",{className:"p-2",children:[(0,wt.jsx)("p",{className:"text-xs font-medium truncate mb-1",title:r,children:r}),(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{const t=e.replace(/^admin\//,"").replace(/^\//,"").split("/").pop(),n=encodeURIComponent(t);console.log("\ud83d\udc41\ufe0f Ouverture fichier:",t);const r="".concat(is.defaults.baseURL,"/files/public/").concat(n);window.open(r,"_blank")})(r),className:"flex-1 bg-blue-50 text-blue-600 py-1 px-1 rounded text-xs hover:bg-blue-100 transition-colors",children:"Voir"}),(0,wt.jsx)("button",{onClick:()=>(async e=>{try{const t=e.replace(/^admin\//,"").replace(/^\//,"").split("/").pop(),n=encodeURIComponent(t);console.log("\ud83d\udce5 T\xe9l\xe9chargement fichier:",t);const r=await is.get("/files/public/".concat(n,"/download"),{responseType:"blob"}),s=window.URL.createObjectURL(new Blob([r.data])),a=document.createElement("a");a.href=s,a.setAttribute("download",t),document.body.appendChild(a),a.click(),a.remove(),window.URL.revokeObjectURL(s),console.log("\u2705 T\xe9l\xe9chargement r\xe9ussi"),Z("Fichier t\xe9l\xe9charg\xe9 avec succ\xe8s","success")}catch(f){console.error("\u274c Erreur t\xe9l\xe9chargement:",f),Z("Erreur lors du t\xe9l\xe9chargement du fichier","error")}})(r),className:"flex-1 bg-gray-100 text-gray-700 py-1 px-1 rounded text-xs hover:bg-gray-200 transition-colors",children:"T\xe9l\xe9charger"})]})]})]},t)})}):(0,wt.jsxs)("div",{className:"text-center py-4",children:[(0,wt.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,wt.jsx)(Qs,{className:"w-6 h-6 text-gray-400"})}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Aucun fichier joint"})]})})]})]}),(0,wt.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t no-print",children:[(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsxs)("button",{onClick:()=>me(p),className:"flex items-center gap-1 px-3 py-1 text-xs border border-indigo-300 text-indigo-700 rounded-lg hover:bg-indigo-50 transition-colors",children:[(0,wt.jsx)(sm,{className:"w-3 h-3"}),"Modifier"]}),(0,wt.jsxs)("button",{onClick:()=>pe(p),className:"flex items-center gap-1 px-3 py-1 text-xs border border-red-300 text-red-700 rounded-lg hover:bg-red-50 transition-colors",children:[(0,wt.jsx)(am,{className:"w-3 h-3"}),"Supprimer"]})]}),(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsxs)("button",{onClick:()=>he(p),className:"flex items-center gap-1 px-3 py-1 text-xs bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,wt.jsx)(im,{className:"w-3 h-3"}),"Imprimer"]}),(0,wt.jsxs)("button",{onClick:()=>fe(p),className:"flex items-center gap-1 px-3 py-1 text-xs bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:[(0,wt.jsx)(Qi,{className:"w-3 h-3"}),"Statut"]})]})]})]}),w&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Mettre \xe0 jour le statut"}),(0,wt.jsx)("button",{onClick:()=>B(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:be,className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nouveau statut ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsxs)("select",{value:T.status,onChange:e=>O(t=>o(o({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner un statut"}),(0,wt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,wt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"})]})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-amber-600 text-white rounded-md hover:bg-amber-700",children:"Mettre \xe0 jour le statut"})]})]})]})}),N&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Modifier le signalement"}),(0,wt.jsx)("button",{onClick:()=>j(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:xe,className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,wt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Type:"})," ",(0,wt.jsx)("span",{className:"Anonyme"===(null===_||void 0===_?void 0:_.type_signalement)?"text-blue-600":"text-green-600",children:null===_||void 0===_?void 0:_.type_signalement})]}),"Anonyme"===(null===_||void 0===_?void 0:_.type_signalement)&&(0,wt.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"\u26a0\ufe0f Seuls la description et les pi\xe8ces jointes peuvent \xeatre modifi\xe9s pour un signalement anonyme"})]}),"Anonyme"!==(null===_||void 0===_?void 0:_.type_signalement)&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom et Pr\xe9nom"}),(0,wt.jsx)("input",{type:"text",value:H.nom_prenom,onChange:e=>R(o(o({},H),{},{nom_prenom:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Nom complet"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,wt.jsx)("input",{type:"email",value:H.email,onChange:e=>R(o(o({},H),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"email@exemple.com"})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,wt.jsx)("input",{type:"text",value:H.telephone,onChange:e=>R(o(o({},H),{},{telephone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+261 XX XX XXX XX"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),(0,wt.jsx)("input",{type:"text",value:H.city,onChange:e=>R(o(o({},H),{},{city:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ville"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Province"}),(0,wt.jsx)("input",{type:"text",value:H.province,onChange:e=>R(o(o({},H),{},{province:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Province"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cat\xe9gorie"}),(0,wt.jsxs)("select",{value:H.category,onChange:e=>R(o(o({},H),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),X.map(e=>(0,wt.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsx)("textarea",{value:H.description,onChange:e=>R(o(o({},H),{},{description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]}),(null===_||void 0===_?void 0:_.files)&&_.files.length>0&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pi\xe8ces jointes actuelles"}),(0,wt.jsx)("div",{className:"space-y-2",children:_.files.map((e,t)=>{const n="string"===typeof e?e:e.name;return(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[(0,wt.jsx)("span",{className:"text-sm truncate flex-1",children:n}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=_.files.filter((e,n)=>n!==t);U(o(o({},_),{},{files:e})),R(o(o({},H),{},{filesToRemove:[...H.filesToRemove||[],n]}))},className:"ml-2 text-red-600 hover:text-red-800",title:"Supprimer ce fichier",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]},t)})})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajouter de nouvelles pi\xe8ces jointes"}),(0,wt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.pdf,.mp4",onChange:e=>{const t=Array.from(e.target.files);R(o(o({},H),{},{newFiles:t}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formats: JPG, PNG, PDF, MP4 - Max 25 Mo/fichier"})]}),H.newFiles&&H.newFiles.length>0&&(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Nouveaux fichiers \xe0 ajouter (",H.newFiles.length,")"]}),(0,wt.jsx)("div",{className:"space-y-2",children:H.newFiles.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-2 rounded border border-blue-200",children:[(0,wt.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=H.newFiles.filter((e,n)=>n!==t);R(o(o({},H),{},{newFiles:e}))},className:"ml-2 text-red-600 hover:text-red-800",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]},t))})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Modifier"})]})]})]})})]}):C?(0,wt.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4",children:[(0,wt.jsx)(Yw,{message:W.message,type:W.type,show:W.show,onClose:()=>G(e=>o(o({},e),{},{show:!1}))}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"G\xe9n\xe9ration de Rapport"}),(0,wt.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Configurez et pr\xe9visualisez votre rapport"})]}),(0,wt.jsxs)("div",{className:"flex gap-3",children:[(0,wt.jsxs)("button",{onClick:()=>{k(!1),S(!1),q(null)},className:"flex items-center gap-2 px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:[(0,wt.jsx)(_t,{className:"w-4 h-4"}),"Retour \xe0 la liste"]}),V&&(0,wt.jsxs)("button",{onClick:ye,className:"flex items-center gap-2 px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[(0,wt.jsx)(Qs,{className:"w-4 h-4"}),"Exporter PDF"]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,wt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Configuration du Rapport"}),(0,wt.jsxs)("form",{onSubmit:ve,className:"space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de rapport *"}),(0,wt.jsxs)("select",{value:z.type,onChange:e=>K(o(o({},z),{},{type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"quotidien",children:"Quotidien"}),(0,wt.jsx)("option",{value:"hebdomadaire",children:"Hebdomadaire"}),(0,wt.jsx)("option",{value:"mensuel",children:"Mensuel"}),(0,wt.jsx)("option",{value:"annuel",children:"Annuel"})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de d\xe9but *"}),(0,wt.jsx)("input",{type:"date",value:z.dateDebut,onChange:e=>K(o(o({},z),{},{dateDebut:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin *"}),(0,wt.jsx)("input",{type:"date",value:z.dateFin,onChange:e=>K(o(o({},z),{},{dateFin:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cat\xe9gories \xe0 inclure"}),(0,wt.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-gray-200 rounded-md p-3",children:X.map(e=>(0,wt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,wt.jsx)("input",{type:"checkbox",checked:z.categories.includes(e.id),onChange:t=>{const n=t.target.checked?[...z.categories,e.id]:z.categories.filter(t=>t!==e.id);K(o(o({},z),{},{categories:n}))},className:"w-4 h-4"}),(0,wt.jsx)("span",{className:"text-sm",children:e.name})]},e.id))}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Laissez vide pour inclure toutes les cat\xe9gories"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes et observations"}),(0,wt.jsx)("textarea",{value:z.notes,onChange:e=>K(o(o({},z),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ajoutez des commentaires ou observations..."})]}),(0,wt.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors font-medium",children:"G\xe9n\xe9rer le Rapport"})]})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,wt.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Pr\xe9visualisation du Rapport"}),F&&V?(0,wt.jsxs)("div",{id:"report-preview",className:"pdf-export bg-white p-8",children:[(0,wt.jsxs)("div",{className:"text-center border-b-2 border-gray-800 pb-6 mb-6",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,wt.jsxs)("div",{className:"text-left",children:[(0,wt.jsx)("img",{src:os,alt:"R\xe9publique de Madagascar",className:"h-16 object-contain"}),(0,wt.jsx)("p",{className:"text-xs font-bold text-gray-800 mt-1",children:"REPOBLIKAN'I MADAGASIKARA"})]}),(0,wt.jsx)("div",{className:"text-center flex-1 mx-8",children:(0,wt.jsxs)("div",{className:"border-l border-r border-gray-400 px-8",children:[(0,wt.jsx)("img",{src:ls,alt:"MESUPRES",className:"h-16 object-contain mx-auto"}),(0,wt.jsx)("p",{className:"text-xs font-bold text-gray-800 mt-1 uppercase",children:"MINISTERAN'NY FAMPIANARANA AMBONY SY FIKAROHANA ARA-TSIANSA"})]})}),(0,wt.jsxs)("div",{className:"text-right",children:[(0,wt.jsx)("img",{src:As,alt:"FOSIKA",className:"h-16 object-contain ml-auto"}),(0,wt.jsx)("p",{className:"text-xs font-bold text-gray-800 mt-1",children:"FOSIKA"})]})]}),(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2 uppercase",children:"Rapport des Signalements"}),(0,wt.jsxs)("p",{className:"text-lg font-semibold text-gray-700",children:[V.type.charAt(0).toUpperCase()+V.type.slice(1)," ","- ",V.periode]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"Informations G\xe9n\xe9rales"}),(0,wt.jsxs)("div",{className:"space-y-3",children:[(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Type de rapport:"}),(0,wt.jsx)("span",{className:"capitalize",children:V.type})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"P\xe9riode couverte:"}),(0,wt.jsx)("span",{children:V.periode})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Cat\xe9gories incluses:"}),(0,wt.jsx)("span",{className:"text-right",children:V.categories.length>0?V.categories.join(", "):"Toutes les cat\xe9gories"})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Date de g\xe9n\xe9ration:"}),(0,wt.jsxs)("span",{children:[V.dateGeneration," \xe0"," ",V.heureGeneration]})]})]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"Statistiques des Signalements"}),(0,wt.jsxs)("div",{className:"space-y-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Total des signalements enregistr\xe9s:"}),(0,wt.jsx)("span",{className:"font-bold",children:V.stats.total})]}),(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Signalements en cours:"}),(0,wt.jsx)("span",{className:"font-bold text-amber-600",children:V.stats.en_cours})]}),(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Transmis aux autorit\xe9s comp\xe9tentes:"}),(0,wt.jsx)("span",{className:"font-bold text-indigo-600",children:V.stats.transmis_autorite})]}),(0,wt.jsxs)("div",{className:"flex justify-between border-b pb-2",children:[(0,wt.jsx)("span",{children:"Dossiers class\xe9s sans suite:"}),(0,wt.jsx)("span",{className:"font-bold text-blue-600",children:V.stats.classifier})]}),(0,wt.jsxs)("div",{className:"flex justify-between",children:[(0,wt.jsx)("span",{children:"Ouverture d'enqu\xeates:"}),(0,wt.jsx)("span",{className:"font-bold text-purple-600",children:V.stats.investigation})]})]})]}),(0,wt.jsxs)("div",{className:"mb-6",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4 border-b border-gray-300 pb-2",children:"Analyse"}),(0,wt.jsxs)("div",{className:"space-y-4 text-sm leading-relaxed",children:[(0,wt.jsxs)("p",{children:["Le pr\xe9sent rapport d'activit\xe9 du syst\xe8me FOSIKA couvre la p\xe9riode du ",(0,wt.jsxs)("strong",{children:[" ",V.periode," "]}),"et pr\xe9sente une analyse exhaustive des signalements re\xe7us concernant les irr\xe9gularit\xe9s dans le secteur de l'enseignement sup\xe9rieur et de la recherche scientifique."]}),(0,wt.jsxs)("p",{children:["Durant cette p\xe9riode,"," ",(0,wt.jsxs)("strong",{children:[V.stats.total," signalements"]})," ","ont \xe9t\xe9 enregistr\xe9s et trait\xe9s par notre syst\xe8me. La r\xe9partition par statut d\xe9montre l'efficacit\xe9 de notre m\xe9canisme de traitement :"]}),(0,wt.jsxs)("ul",{className:"list-disc list-inside space-y-2 ml-4",children:[(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[V.stats.en_cours," dossiers"]})," ","sont actuellement en cours d'instruction active"]}),(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[V.stats.transmis_autorite," dossiers"]})," ","ont \xe9t\xe9 transmis aux autorit\xe9s comp\xe9tentes"]}),(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[V.stats.classifier," dossiers"]})," ","ont \xe9t\xe9 class\xe9s sans suite"]}),(0,wt.jsxs)("li",{children:[(0,wt.jsxs)("strong",{children:[V.stats.investigation," cas"]})," ","font l'objet d'une investigation approfondie"]})]}),(0,wt.jsx)("p",{children:"Le syst\xe8me FOSIKA continue de d\xe9montrer son utilit\xe9 dans la lutte contre les fraudes acad\xe9miques et les irr\xe9gularit\xe9s dans l'enseignement sup\xe9rieur. Notre plateforme assure un suivi rigoureux de chaque signalement depuis sa r\xe9ception jusqu'\xe0 sa r\xe9solution d\xe9finitive."}),V.notes&&(0,wt.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mt-4",children:[(0,wt.jsx)("h3",{className:"font-bold text-blue-900 mb-2",children:"Observations particuli\xe8res :"}),(0,wt.jsx)("p",{className:"text-blue-800 whitespace-pre-wrap text-sm",children:V.notes})]})]})]}),(0,wt.jsxs)("div",{className:"mt-8 pt-6 border-t-2 border-gray-800 text-center text-xs text-gray-600",children:[(0,wt.jsx)("p",{className:"font-bold",children:"\xa9 DAAQ-MESUPRES 2025 - Tous droits r\xe9serv\xe9s"}),(0,wt.jsx)("p",{className:"mt-1",children:"Syst\xe8me FOSIKA - Plateforme de gestion des signalements"}),(0,wt.jsxs)("p",{className:"mt-2",children:["Document g\xe9n\xe9r\xe9 le ",V.dateGeneration," \xe0"," ",V.heureGeneration]}),(0,wt.jsx)("p",{className:"mt-1 font-semibold",children:"\xc0 usage officiel - Confidentiel"})]})]}):(0,wt.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[(0,wt.jsx)(Ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-gray-500",children:"Le rapport appara\xeetra ici apr\xe8s g\xe9n\xe9ration"}),(0,wt.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:'Configurez les param\xe8tres et cliquez sur "G\xe9n\xe9rer le Rapport"'})]})]})]})]}):(0,wt.jsxs)("div",{className:"p-4",children:[(0,wt.jsx)(Yw,{message:W.message,type:W.type,show:W.show,onClose:()=>G(e=>o(o({},e),{},{show:!1}))}),(0,wt.jsx)(Jw,{show:Y.show,title:Y.title,message:Y.message,onConfirm:ee,onCancel:$,confirmText:"Supprimer",cancelText:"Annuler"}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-base font-semibold",children:"Liste compl\xe8te des signalements"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:"Gestion et suivi des dossiers avec filtres avanc\xe9s."})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center gap-1 px-3 py-1 text-xs rounded-md bg-blue-600 text-white hover:bg-blue-700",children:[(0,wt.jsx)(om,{className:"w-3 h-3"}),"Nouveau signalement"]}),(0,wt.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Ks,{className:"w-3 h-3"}),"G\xe9n\xe9rer rapport"]}),(0,wt.jsxs)("button",{onClick:()=>{const e=[["ID","R\xc9F\xc9RENCE","DATE","NOM / PR\xc9NOM","CAT\xc9GORIE","STATUT","DESCRIPTION"],...ie.map(e=>[e.id,e.reference,re(e.date),e.nom_prenom,e.categorieLabel||"N/A",se(e.status),e.explication])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),r=URL.createObjectURL(t);n.setAttribute("href",r),n.setAttribute("download","signalements_".concat((new Date).toISOString().split("T")[0],".csv")),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),Z("Export CSV r\xe9alis\xe9 avec succ\xe8s","success")},className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Qs,{className:"w-3 h-3"}),"Exporter CSV"]})]})]}),(0,wt.jsxs)("div",{className:"mb-6 bg-white rounded-lg border p-4",children:[(0,wt.jsxs)("div",{className:"mb-4",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Analyse D\xe9taill\xe9e par Cat\xe9gories"}),(0,wt.jsx)("p",{className:"text-sm text-gray-600",children:"Visualisation et analyse approfondie des signalements par cat\xe9gorie"})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-2 mb-4",children:[(0,wt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat("tous"===x?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>b("tous"),children:[(0,wt.jsx)(lm,{className:"w-5 h-5 mb-1"}),(0,wt.jsx)("span",{className:"text-xs font-medium",children:"Toutes"})]}),X.map(e=>{const t=ne(e.id),n=e.icon;return(0,wt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat(x===e.id?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>b(e.id),title:e.name,children:[(0,wt.jsx)(n,{className:"w-5 h-5 mb-1"}),(0,wt.jsx)("span",{className:"text-xs font-medium truncate w-full text-center",children:e.name.split(" ")[0]}),(0,wt.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:t.total})]},e.id)})]}),(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,wt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"tous"===x?"Synth\xe8se - Toutes cat\xe9gories":"Synth\xe8se - ".concat(null===we||void 0===we?void 0:we.name)}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"tous"===x?ae.length:Be.total}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"Signalements totaux"})]}),(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:"tous"===x?c.filter(e=>"en_cours"===e.status).length:Be.encours}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"En cours"})]}),(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"tous"===x?c.filter(e=>"classifier"===e.status).length:Be.resolus}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"R\xe9solus"})]})]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-3",children:[(0,wt.jsx)("div",{className:"md:col-span-2",children:(0,wt.jsx)("input",{type:"text",value:r.search,onChange:e=>de("search",e.target.value),placeholder:"Rechercher par r\xe9f\xe9rence, nom, description...",className:"w-full px-2 py-1 text-xs border rounded-md"})}),(0,wt.jsx)("div",{children:(0,wt.jsx)("input",{type:"date",value:r.dateDebut,onChange:e=>de("dateDebut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date d\xe9but"})}),(0,wt.jsx)("div",{children:(0,wt.jsx)("input",{type:"date",value:r.dateFin,onChange:e=>de("dateFin",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date fin"})}),(0,wt.jsx)("div",{children:(0,wt.jsxs)("select",{value:r.statut,onChange:e=>de("statut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",children:[(0,wt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,wt.jsx)("option",{value:"en_cours",children:"En cours"}),(0,wt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"}),(0,wt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s"})]})})]}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-2 text-xs",children:[(0,wt.jsxs)("button",{onClick:()=>{s({search:"",statut:"",dateDebut:"",dateFin:""}),i(1)},className:"flex items-center gap-1 px-2 py-1 border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Lt,{className:"w-3 h-3"}),"R\xe9initialiser les filtres"]}),(0,wt.jsxs)("div",{className:"text-gray-500",children:[ie.length," signalements trouv\xe9s"]})]}),f&&(0,wt.jsxs)("div",{className:"flex items-center gap-2 p-2 mb-2 text-xs text-red-700 bg-red-50 border border-red-200 rounded-md",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4"}),(0,wt.jsxs)("span",{children:["Erreur lors du chargement des donn\xe9es : ",f]})]}),(0,wt.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,wt.jsx)("div",{className:"overflow-x-auto",children:d?(0,wt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Chargement en cours..."}):0===ie.length?(0,wt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Aucun signalement trouv\xe9 avec les filtres actuels"}):(0,wt.jsxs)("table",{className:"min-w-full text-xs",children:[(0,wt.jsx)("thead",{className:"bg-gray-50",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>ue("id"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"ID"}),(0,wt.jsx)(Xw,{isSorted:"id"===I.key,isAsc:"asc"===I.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>ue("reference"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"R\xc9F\xc9RENCE"}),(0,wt.jsx)(Xw,{isSorted:"reference"===I.key,isAsc:"asc"===I.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>ue("date"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"DATE"}),(0,wt.jsx)(Xw,{isSorted:"date"===I.key,isAsc:"asc"===I.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"NOM / PR\xc9NOM"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"CAT\xc9GORIE"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"DESCRIPTION"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"STATUT"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"ACTIONS"})]})}),(0,wt.jsx)("tbody",{children:ce.map(e=>(0,wt.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,wt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.id}),(0,wt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.reference}),(0,wt.jsx)("td",{className:"px-2 py-2",children:re(e.date)}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.nom_prenom}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.categorieLabel}),(0,wt.jsx)("td",{className:"px-2 py-2 max-w-[150px]",children:(0,wt.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2",children:e.shortDescription})}),(0,wt.jsx)("td",{className:"px-2 py-2",children:(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-yellow-100 text-yellow-800":"transmis_autorite"===e.status?"bg-indigo-100 text-indigo-800":"classifier"===e.status?"bg-blue-100 text-blue-800":"investigation"===e.status?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:se(e.status)})}),(0,wt.jsx)("td",{className:"px-2 py-2",children:(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{g((null===p||void 0===p?void 0:p.id)===e.id?null:e),L({general:!0,auteur:!0,description:!0,pieces:!0})})(e),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Voir d\xe9tails",children:(0,wt.jsx)(Us,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>he(e),className:"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Imprimer",children:(0,wt.jsx)(im,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>fe(e),className:"p-1 text-amber-600 hover:bg-amber-100 rounded transition-colors",title:"Mettre \xe0 jour statut",children:(0,wt.jsx)(Qi,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>me(e),className:"p-1 text-indigo-600 hover:bg-indigo-100 rounded transition-colors",title:"Modifier",children:(0,wt.jsx)(sm,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>(e=>{n?n(e.reference):Z("Fonction de contact non disponible","warning")})(e),title:"Contacter",className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",children:(0,wt.jsx)(Hs,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>pe(e),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Supprimer",children:(0,wt.jsx)(am,{className:"w-3 h-3"})})]})})]},e.id))})]})}),ie.length>0&&(0,wt.jsxs)("div",{className:"flex items-center justify-between px-2 py-2 border-t bg-gray-50",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,wt.jsx)("span",{children:"\xc9l\xe9ments par page :"}),(0,wt.jsxs)("select",{value:l,onChange:e=>{A(Number(e.target.value)),i(1)},className:"px-2 py-1 border rounded-md text-xs",children:[(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:30,children:"30"}),(0,wt.jsx)("option",{value:50,children:"50"}),(0,wt.jsx)("option",{value:100,children:"100"})]}),(0,wt.jsxs)("span",{className:"text-gray-500",children:[Ae+1,"-",Math.min(le,ie.length)," sur"," ",ie.length]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>i(e=>Math.max(1,e-1)),disabled:1===a,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(_t,{className:"w-4 h-4"})}),(()=>{const e=[];if(oe<=7)for(let t=1;t<=oe;t++)e.push(t);else{e.push(1);let t=Math.max(2,a-2),n=Math.min(oe-1,a+2);a<=3&&(n=5),a>=oe-2&&(t=oe-5+1),t>2&&e.push("...");for(let r=t;r<=n;r++)e.push(r);n<oe-1&&e.push("..."),e.push(oe)}return e})().map((e,t)=>"..."===e?(0,wt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,wt.jsx)("button",{onClick:()=>i(e),className:"px-2 py-1 text-xs border rounded-md ".concat(a===e?"bg-blue-600 text-white":"bg-white"),children:e},e)),(0,wt.jsx)("button",{onClick:()=>i(e=>Math.min(oe,e+1)),disabled:a===oe||0===oe,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(Os,{className:"w-4 h-4"})})]})]})]}),v&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Nouveau Signalement"}),(0,wt.jsx)("button",{onClick:()=>y(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),D.category)if(D.description)if("identifie"!==D.type||D.name)try{const e=new FormData;e.append("type",D.type),e.append("name",D.name||"Anonyme"),e.append("category",D.category),e.append("description",D.description),e.append("accept_terms",1),e.append("accept_truth",1),D.email&&D.email.trim()&&e.append("email",D.email.trim()),D.phone&&D.phone.trim()&&e.append("phone",D.phone.trim()),D.address&&D.address.trim()&&e.append("address",D.address.trim()),D.files.length>0&&D.files.forEach(t=>{e.append("files[]",t)});const t=await is.post("/reports",e,{headers:{"Content-Type":"multipart/form-data"}});t.data.success&&(P({category:"",description:"",files:[],name:"",email:"",phone:"",address:"",type:"identifie"}),y(!1),await te(),Z("Signalement cr\xe9\xe9 avec succ\xe8s! R\xe9f\xe9rence: ".concat(t.data.reference),"success"))}catch(f){var t;if(422===(null===(t=f.response)||void 0===t?void 0:t.status)){const t=f.response.data.errors||{},n=Object.entries(t).map(e=>{let[t,n]=e;return"\u2022 ".concat(t,": ").concat(Array.isArray(n)?n.join(", "):n)}).join("\n");Z("Erreur de validation:\n\n".concat(n),"error")}else{var n,r;Z("Erreur: ".concat((null===(n=f.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||f.message),"error")}}else Z("Le nom est obligatoire pour un signalement identifi\xe9","error");else Z("La description est obligatoire","error");else Z("Veuillez s\xe9lectionner une cat\xe9gorie","error")},className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Type de signalement ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsxs)("div",{className:"flex gap-4",children:[(0,wt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,wt.jsx)("input",{type:"radio",name:"type",value:"identifie",checked:"identifie"===D.type,onChange:e=>P(o(o({},D),{},{type:e.target.value})),className:"w-4 h-4"}),(0,wt.jsx)("span",{children:"Je m'identifie"})]}),(0,wt.jsxs)("label",{className:"flex items-center gap-2",children:[(0,wt.jsx)("input",{type:"radio",name:"type",value:"anonyme",checked:"anonyme"===D.type,onChange:e=>P(o(o({},D),{},{type:e.target.value})),className:"w-4 h-4"}),(0,wt.jsx)("span",{children:"Anonyme"})]})]})]}),"identifie"===D.type&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom et Pr\xe9nom ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsx)("input",{type:"text",value:D.name,onChange:e=>P(o(o({},D),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Votre nom complet"})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,wt.jsx)("input",{type:"email",value:D.email,onChange:e=>P(o(o({},D),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"email@exemple.com"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,wt.jsx)("input",{type:"tel",value:D.phone,onChange:e=>P(o(o({},D),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+261 XX XX XXX XX"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),(0,wt.jsx)("input",{type:"text",value:D.address,onChange:e=>P(o(o({},D),{},{address:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Ville, r\xe9gion..."})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cat\xe9gorie ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsxs)("select",{value:D.category,onChange:e=>P(o(o({},D),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),X.map(e=>(0,wt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsx)("textarea",{value:D.description,onChange:e=>P(o(o({},D),{},{description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"D\xe9crivez en d\xe9tail la situation...",required:!0})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pi\xe8ces jointes (optionnel)"}),(0,wt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.pdf,.mp4",onChange:e=>{const t=Array.from(e.target.files);P(e=>o(o({},e),{},{files:[...e.files,...t]}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formats: JPG, PNG, PDF, MP4 - Max 8 Mo/fichier"})]}),D.files.length>0&&(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("p",{className:"text-sm font-medium text-gray-700",children:["Fichiers ajout\xe9s (",D.files.length,")"]}),D.files.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[(0,wt.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,wt.jsx)("button",{type:"button",onClick:()=>(e=>{P(t=>o(o({},t),{},{files:t.files.filter((t,n)=>n!==e)}))})(t),className:"ml-2 text-red-600 hover:text-red-800",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]},t))]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",disabled:!D.category||!D.description||"identifie"===D.type&&!D.name.trim(),className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cr\xe9er le signalement"})]})]})]})}),w&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Mettre \xe0 jour le statut"}),(0,wt.jsx)("button",{onClick:()=>B(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:be,className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nouveau statut ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsxs)("select",{value:T.status,onChange:e=>O(t=>o(o({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner un statut"}),(0,wt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,wt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"})]})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-amber-600 text-white rounded-md hover:bg-amber-700",children:"Mettre \xe0 jour le statut"})]})]})]})}),N&&(0,wt.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50",children:(0,wt.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,wt.jsx)("h2",{className:"text-lg font-semibold",children:"Modifier le signalement"}),(0,wt.jsx)("button",{onClick:()=>j(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})})]}),(0,wt.jsxs)("form",{onSubmit:xe,className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,wt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"Type:"})," ",(0,wt.jsx)("span",{className:"Anonyme"===(null===_||void 0===_?void 0:_.type_signalement)?"text-blue-600":"text-green-600",children:null===_||void 0===_?void 0:_.type_signalement})]}),"Anonyme"===(null===_||void 0===_?void 0:_.type_signalement)&&(0,wt.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"\u26a0\ufe0f Seuls la description et les pi\xe8ces jointes peuvent \xeatre modifi\xe9s pour un signalement anonyme"})]}),"Anonyme"!==(null===_||void 0===_?void 0:_.type_signalement)&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom et Pr\xe9nom"}),(0,wt.jsx)("input",{type:"text",value:H.nom_prenom,onChange:e=>R(o(o({},H),{},{nom_prenom:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"Nom complet",disabled:"Anonyme"===(null===_||void 0===_?void 0:_.type_signalement)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,wt.jsx)("input",{type:"email",value:H.email,onChange:e=>R(o(o({},H),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"email@exemple.com",disabled:"Anonyme"===(null===_||void 0===_?void 0:_.type_signalement)})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,wt.jsx)("input",{type:"text",value:H.telephone,onChange:e=>R(o(o({},H),{},{telephone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"+261 XX XX XXX XX",disabled:"Anonyme"===(null===_||void 0===_?void 0:_.type_signalement)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),(0,wt.jsx)("input",{type:"text",value:H.city,onChange:e=>R(o(o({},H),{},{city:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"Ville",disabled:"Anonyme"===(null===_||void 0===_?void 0:_.type_signalement)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Province"}),(0,wt.jsx)("input",{type:"text",value:H.province,onChange:e=>R(o(o({},H),{},{province:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",placeholder:"Province",disabled:"Anonyme"===(null===_||void 0===_?void 0:_.type_signalement)})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cat\xe9gorie"}),(0,wt.jsxs)("select",{value:H.category,onChange:e=>R(o(o({},H),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md disabled:bg-gray-100 disabled:text-gray-500 disabled:cursor-not-allowed",disabled:"Anonyme"===(null===_||void 0===_?void 0:_.type_signalement),children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner une cat\xe9gorie"}),X.map(e=>(0,wt.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",(0,wt.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,wt.jsx)("textarea",{value:H.description,onChange:e=>R(o(o({},H),{},{description:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",required:!0})]}),(null===_||void 0===_?void 0:_.files)&&_.files.length>0&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pi\xe8ces jointes actuelles"}),(0,wt.jsx)("div",{className:"space-y-2",children:_.files.map((e,t)=>{const n="string"===typeof e?e:e.name;return(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded border",children:[(0,wt.jsx)("span",{className:"text-sm truncate flex-1",children:n}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=_.files.filter((e,n)=>n!==t);U(o(o({},_),{},{files:e})),R(o(o({},H),{},{filesToRemove:[...H.filesToRemove||[],n]}))},className:"ml-2 text-red-600 hover:text-red-800",title:"Supprimer ce fichier",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]},t)})})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajouter de nouvelles pi\xe8ces jointes"}),(0,wt.jsx)("input",{type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.pdf,.mp4",onChange:e=>{const t=Array.from(e.target.files);R(o(o({},H),{},{newFiles:t}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formats: JPG, PNG, PDF, MP4 - Max 25 Mo/fichier"})]}),H.newFiles&&H.newFiles.length>0&&(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Nouveaux fichiers \xe0 ajouter (",H.newFiles.length,")"]}),(0,wt.jsx)("div",{className:"space-y-2",children:H.newFiles.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-2 rounded border border-blue-200",children:[(0,wt.jsx)("span",{className:"text-sm truncate flex-1",children:e.name}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=H.newFiles.filter((e,n)=>n!==t);R(o(o({},H),{},{newFiles:e}))},className:"ml-2 text-red-600 hover:text-red-800",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]},t))})]}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Modifier"})]})]})]})})]});var Ne};var $w=n(1224),eB=n.n($w);const tB=Et("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),nB=Et("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),rB=Et("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]),sB=Et("mail-open",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]),aB=e=>{let{navigationData:n,onCloseNotification:r}=e;const[s,a]=(0,t.useState)([]),[i,l]=(0,t.useState)(!0),[A,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(1),[h]=(0,t.useState)(20),[f,m]=(0,t.useState)("all"),[p,g]=(0,t.useState)("list");(0,t.useEffect)(()=>{x()},[]),(0,t.useEffect)(()=>{n&&("detail"===n.view&&n.notification?(c(n.notification),g("detail")):"list"===n.view&&(c(null),g("list")))},[n]);const x=async()=>{try{const e=await is.get("/notifications");e.data.success&&a(e.data.data||[])}catch(e){console.error("Erreur lors du chargement des notifications:",e)}finally{l(!1)}},b=async e=>{try{(await is.post("/notifications/".concat(e,"/read"),{})).data.success&&(a(t=>t.map(t=>t.id===e?o(o({},t),{},{status:"read"}):t)),(null===A||void 0===A?void 0:A.id)===e&&c(e=>o(o({},e),{},{status:"read"})))}catch(t){console.error("Erreur lors du marquage comme lu:",t)}},v=(e,t)=>{const n=document.createElement("div");n.className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",n.innerHTML='\n      <div class="bg-white rounded-xl shadow-2xl max-w-md w-full p-6 mx-4">\n        <div class="flex items-center gap-4 mb-4">\n          <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0">\n            <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>\n            </svg>\n          </div>\n          <div>\n            <h3 class="text-lg font-semibold text-gray-900">Supprimer la notification</h3>\n            <p class="text-gray-600 text-sm mt-1">Cette action est irr\xe9versible</p>\n          </div>\n        </div>\n        <div class="bg-gray-50 rounded-lg p-4 mb-6">\n          <p class="text-gray-700 text-sm">\n            \xcates-vous s\xfbr de vouloir supprimer d\xe9finitivement la notification \n            <strong class="text-gray-900 block mt-1">"'.concat(t,'"</strong> ?\n          </p>\n        </div>\n        <div class="flex gap-3 justify-end">\n          <button id="cancel-btn" class="px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm">\n            Annuler\n          </button>\n          <button id="confirm-btn" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium text-sm">\n            Supprimer\n          </button>\n        </div>\n      </div>\n    ');const r=n.querySelector("#cancel-btn"),s=n.querySelector("#confirm-btn");r.onclick=()=>document.body.removeChild(n),s.onclick=()=>{(async e=>{try{(await is.delete("/notifications/".concat(e))).data.success&&(a(t=>t.filter(t=>t.id!==e)),(null===A||void 0===A?void 0:A.id)===e&&(c(null),g("list")))}catch(t){console.error("Erreur lors de la suppression:",t)}})(e),document.body.removeChild(n)},document.body.appendChild(n)},y=e=>{switch(e){case"nouveau_signalement":return(0,wt.jsx)(Ks,{className:"w-4 h-4 text-blue-600"});case"doublon_detecte":return(0,wt.jsx)(Yi,{className:"w-4 h-4 text-orange-600"});case"signalement_urgent":return(0,wt.jsx)(tB,{className:"w-4 h-4 text-red-600"});case"statut_modifie":return(0,wt.jsx)(nB,{className:"w-4 h-4 text-green-600"});default:return(0,wt.jsx)(Ji,{className:"w-4 h-4 text-gray-600"})}},w=e=>{switch(e){case"nouveau_signalement":return"Nouveau dossier";case"doublon_detecte":return"Doublon d\xe9tect\xe9";case"signalement_urgent":return"Signalement urgent";case"statut_modifie":return"Statut modifi\xe9";default:return"Notification syst\xe8me"}},B=e=>{if(!e)return"";try{const t=new Date(e),n=new Date-t,r=Math.floor(n/6e4),s=Math.floor(n/36e5),a=Math.floor(n/864e5);return r<1?"\xc0 l'instant":r<60?"Il y a ".concat(r," min"):s<24?"Il y a ".concat(s," h"):1===a?"Hier":a<7?"Il y a ".concat(a," j"):t.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch(NN){return e}},N=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(NN){return e}},j=s.filter(e=>"unread"===f?"active"===e.status:"read"!==f||"read"===e.status),C=Math.ceil(j.length/h),k=u*h,F=k-h,S=j.slice(F,k),E=s.filter(e=>"active"===e.status).length,_=async e=>{try{const t=await is.get("/reports/".concat(e));return t.data.success?t.data.data:null}catch(t){console.error("Erreur lors du chargement des d\xe9tails:",t)}return null},U=()=>{c(null),g("list"),r&&r()};return i?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,wt.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,wt.jsxs)("div",{className:"animate-pulse",children:[(0,wt.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),[...Array(8)].map((e,t)=>(0,wt.jsx)("div",{className:"bg-white rounded-lg p-3 mb-2 border border-gray-200",children:(0,wt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),(0,wt.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,wt.jsx)("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),(0,wt.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},t))]})})}):"detail"===p&&A?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,wt.jsxs)("div",{className:"max-w-4xl mx-auto p-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wt.jsxs)("button",{onClick:U,className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[(0,wt.jsx)(_t,{className:"w-4 h-4"}),"Retour aux notifications"]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:["active"===A.status&&(0,wt.jsxs)("button",{onClick:()=>b(A.id),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm flex items-center gap-1",children:[(0,wt.jsx)(Ps,{className:"w-3 h-3"}),"Marquer comme lu"]}),(0,wt.jsxs)("button",{onClick:()=>v(A.id,A.titre),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm flex items-center gap-1",children:[(0,wt.jsx)(am,{className:"w-3 h-3"}),"Supprimer"]})]})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,wt.jsx)("div",{className:"border-b border-gray-200 p-4",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0",children:y(A.type)}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:A.titre}),(0,wt.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[(0,wt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,wt.jsx)(Ji,{className:"w-3 h-3"}),w(A.type)]}),(0,wt.jsx)("span",{children:"\u2022"}),(0,wt.jsx)("span",{children:N(A.created_at||A.timestamp)})]})]})]})}),(0,wt.jsxs)("div",{className:"p-4 space-y-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Message"}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded border p-3",children:(0,wt.jsx)("p",{className:"text-gray-900 text-sm leading-relaxed whitespace-pre-wrap",children:A.message})})]}),"doublon_detecte"===A.type&&(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-1",children:[(0,wt.jsx)(Yi,{className:"w-4 h-4 text-orange-600"}),"Analyse du doublon"]}),(0,wt.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded p-3",children:(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsx)("p",{className:"text-orange-800 text-sm font-medium",children:"Ce signalement a \xe9t\xe9 identifi\xe9 comme un doublon pour les raisons suivantes :"}),null!==(Q=A.metadata)&&void 0!==Q&&Q.raisons_doublon?(0,wt.jsx)("ul",{className:"list-disc list-inside space-y-1 text-orange-800 text-sm",children:A.metadata.raisons_doublon.map((e,t)=>(0,wt.jsx)("li",{children:e},t))}):(0,wt.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-orange-800 text-sm",children:[(0,wt.jsx)("li",{children:"Informations du plaignant identiques ou tr\xe8s similaires"}),(0,wt.jsx)("li",{children:"Description des faits correspondante \xe0 un signalement pr\xe9c\xe9dent"}),(0,wt.jsx)("li",{children:"Localisation et p\xe9riode temporelle identiques"})]})]})})]}),A.signalementDetails&&(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-1",children:[(0,wt.jsx)(Ks,{className:"w-4 h-4 text-blue-600"}),"D\xe9tails du dossier"]}),(0,wt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"PLAIGNANT:"}),(0,wt.jsx)("p",{className:"text-gray-900",children:A.signalementDetails.isAnonymous?"Anonyme":A.signalementDetails.name||"Non sp\xe9cifi\xe9"})]}),A.signalementDetails.email&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"EMAIL:"}),(0,wt.jsx)("p",{className:"text-gray-900",children:A.signalementDetails.email})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"LOCALISATION:"}),(0,wt.jsxs)("p",{className:"text-gray-900",children:[A.signalementDetails.region||"Non sp\xe9cifi\xe9",A.signalementDetails.city&&", ".concat(A.signalementDetails.city)]})]})]}),(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"CAT\xc9GORIE:"}),(0,wt.jsx)("p",{className:"text-gray-900 capitalize",children:(null===(L=A.signalementDetails.category)||void 0===L?void 0:L.replace(/-/g," "))||"Non sp\xe9cifi\xe9"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"R\xc9F\xc9RENCE:"}),(0,wt.jsx)("p",{className:"text-gray-900 font-mono text-blue-600",children:A.signalementDetails.reference})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"DATE DE SOUMISSION:"}),(0,wt.jsx)("p",{className:"text-gray-900",children:new Date(A.signalementDetails.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),A.signalementDetails.description&&(0,wt.jsxs)("div",{className:"mt-3",children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"DESCRIPTION:"}),(0,wt.jsx)("div",{className:"bg-white rounded border p-2 mt-1",children:(0,wt.jsx)("p",{className:"text-gray-900 text-sm leading-relaxed",children:A.signalementDetails.description})})]}),A.signalementDetails.files&&A.signalementDetails.files.length>0&&(0,wt.jsxs)("div",{className:"mt-3",children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"PREUVES (PI\xc8CES JOINTES):"}),(0,wt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-1",children:A.signalementDetails.files.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white rounded border hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>{return t=e.url,void window.open(t,"_blank");var t},children:[(0,wt.jsx)(rB,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm text-gray-900 truncate",children:e.name}),(0,wt.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.size/1024/1024).toFixed(2)," MB"]})]}),(0,wt.jsx)(Us,{className:"w-4 h-4 text-gray-400 hover:text-blue-600 transition-colors"})]},t))})]}),(!A.signalementDetails.files||0===A.signalementDetails.files.length)&&A.signalementDetails.filesCount>0&&(0,wt.jsxs)("div",{className:"mt-3",children:[(0,wt.jsx)("span",{className:"font-medium text-gray-700 text-xs",children:"PREUVES:"}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-white rounded border mt-1",children:[(0,wt.jsx)(Qs,{className:"w-4 h-4 text-blue-600"}),(0,wt.jsxs)("span",{className:"text-sm text-gray-700",children:[A.signalementDetails.filesCount," ","fichier(s) attach\xe9(s)"]})]})]})]})]}),A.reference_dossier&&!A.signalementDetails&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"R\xe9f\xe9rence"}),(0,wt.jsx)("div",{className:"bg-gray-50 rounded border p-3",children:(0,wt.jsx)("p",{className:"font-mono text-blue-600 text-sm font-medium",children:A.reference_dossier})})]})]})]})]})}):(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,wt.jsxs)("div",{className:"max-w-6xl mx-auto p-4",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Notifications"}),(0,wt.jsxs)("p",{className:"text-gray-600 text-xs mt-1",children:[s.length," notification(s) \u2022 ",E," non lu(s)"]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("button",{onClick:x,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",title:"Actualiser",children:(0,wt.jsx)(nB,{className:"w-4 h-4"})}),E>0&&(0,wt.jsxs)("button",{onClick:async()=>{try{(await is.post("/notifications/read-all",{})).data.success&&a(e=>e.map(e=>o(o({},e),{},{status:"read"})))}catch(e){console.error("Erreur lors du marquage de tout comme lu:",e)}},className:"px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded hover:bg-blue-700 transition-colors flex items-center gap-1",children:[(0,wt.jsx)(Ps,{className:"w-3 h-3"}),"Tout marquer comme lu"]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 mt-4 border-b border-gray-200 -mb-px",children:[(0,wt.jsx)("button",{onClick:()=>{m("all"),d(1)},className:"pb-2 px-1 text-xs font-medium border-b-2 transition-colors ".concat("all"===f?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,wt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,wt.jsx)(Ji,{className:"w-3 h-3"}),"Toutes"]})}),(0,wt.jsx)("button",{onClick:()=>{m("unread"),d(1)},className:"pb-2 px-1 text-xs font-medium border-b-2 transition-colors ".concat("unread"===f?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,wt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,wt.jsx)(Es,{className:"w-3 h-3"}),"Non lues",E>0&&(0,wt.jsx)("span",{className:"bg-blue-100 text-blue-600 text-xs px-1.5 py-0.5 rounded-full",children:E})]})}),(0,wt.jsx)("button",{onClick:()=>{m("read"),d(1)},className:"pb-2 px-1 text-xs font-medium border-b-2 transition-colors ".concat("read"===f?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:(0,wt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,wt.jsx)(sB,{className:"w-3 h-3"}),"Lues"]})})]})]}),(0,wt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:0===S.length?(0,wt.jsxs)("div",{className:"text-center py-8",children:[(0,wt.jsx)(Ji,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,wt.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"all"===f?"Aucune notification":"unread"===f?"Aucune notification non lue":"Aucune notification lue"}),(0,wt.jsx)("p",{className:"text-gray-600 text-xs",children:"all"===f?"Vos notifications appara\xeetront ici.":"Aucune notification ne correspond au filtre s\xe9lectionn\xe9."})]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"divide-y divide-gray-100",children:S.map(e=>(0,wt.jsxs)("div",{className:"flex items-start p-3 hover:bg-gray-50 cursor-pointer transition-colors ".concat("active"===e.status?"bg-blue-50 border-l-4 border-l-blue-500":""),onClick:()=>(async e=>{"active"===e.status&&await b(e.id);let t=null;e.reference_dossier&&(t=await _(e.reference_dossier)),c(o(o({},e),{},{signalementDetails:t})),g("detail")})(e),children:[(0,wt.jsx)("div",{className:"flex-shrink-0 mr-3",children:(0,wt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:y(e.type)})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("span",{className:"font-semibold text-xs ".concat("active"===e.status?"text-gray-900":"text-gray-600"),children:w(e.type)}),"active"===e.status&&(0,wt.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"})]}),(0,wt.jsx)("div",{className:"text-xs text-gray-500",children:B(e.created_at||e.timestamp)})]}),(0,wt.jsx)("h3",{className:"font-semibold text-gray-900 text-xs mb-1 ".concat("active"===e.status?"":"text-gray-600"),children:e.titre}),(0,wt.jsx)("p",{className:"text-gray-600 text-xs mb-1 leading-relaxed line-clamp-2",children:e.message}),e.reference_dossier&&(0,wt.jsx)("div",{className:"flex items-center gap-1 text-xs",children:(0,wt.jsxs)("span",{className:"font-mono bg-gray-100 px-1.5 py-0.5 rounded text-gray-600 border text-xs",children:["R\xe9f: ",e.reference_dossier]})})]})]},e.id))}),C>1&&(0,wt.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"text-xs text-gray-500",children:[F+1,"-",Math.min(k,j.length)," ","sur ",j.length]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>d(e=>Math.max(1,e-1)),disabled:1===u,className:"p-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,wt.jsx)(_t,{className:"w-3 h-3"})}),(0,wt.jsxs)("span",{className:"text-xs text-gray-600 mx-2",children:[u," / ",C]}),(0,wt.jsx)("button",{onClick:()=>d(e=>Math.min(C,e+1)),disabled:u===C,className:"p-1 rounded border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,wt.jsx)(Os,{className:"w-3 h-3"})})]})]})})]})})]})});var Q,L},iB=Et("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),oB=e=>{let{status:t}=e;return(0,wt.jsxs)("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium border flex items-center gap-1 w-fit ".concat((()=>{const e=(t||"").toLowerCase();return e.includes("succ\xe8s")||e.includes("success")||"200"===e?"bg-green-100 text-green-700 border-green-200":e.includes("\xe9chec")||e.includes("fail")||e.includes("refus\xe9")||e.includes("40")?"bg-red-100 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"})()),children:[(t||"").toLowerCase().includes("succ\xe8s")?(0,wt.jsx)(ws,{size:12}):(0,wt.jsx)(Ut,{size:12}),t||"Inconnu"]})},lB=e=>{let{action:t}=e;return(0,wt.jsx)("span",{className:"px-2 py-1 rounded-md bg-gray-100 text-gray-600 text-xs font-semibold border border-gray-200",children:t||"Action"})},AB=e=>{let{name:t,email:n}=e;const r=(t||n||"Syst\xe8me").split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase();return(0,wt.jsx)("div",{className:"h-8 w-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-bold border border-indigo-200",children:r})},cB=e=>{let{title:t,value:n,icon:r,color:s="blue",loading:a=!1}=e;const i={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",red:"bg-red-100 text-red-600",purple:"bg-purple-100 text-purple-600"};return(0,wt.jsx)("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:t}),a?(0,wt.jsx)("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse"}):(0,wt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.toLocaleString()})]}),(0,wt.jsx)("div",{className:"p-2 rounded-lg ".concat(i[s]||i.blue),children:(0,wt.jsx)(r,{className:"w-5 h-5"})})]})})},uB=()=>{const[e,n]=(0,t.useState)({user:"",action:"",status:"",auditDateStart:"",auditDateEnd:""}),[r,s]=(0,t.useState)({audit_log:[]}),[a,i]=(0,t.useState)(!0),[l,A]=(0,t.useState)(!0),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)({total:0,today:0,success:0,errors:0,topUsers:[],topActions:[]}),[p,g]=(0,t.useState)(null),[x,b]=(0,t.useState)(null),[v,y]=(0,t.useState)(!1);(0,t.useEffect)(()=>{w(),j()},[]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{a||B()},500);return()=>clearTimeout(e)},[e]);const w=async()=>{try{await Promise.all([B(),N()])}catch(e){console.error("Erreur lors du chargement des donn\xe9es :",e)}},B=async()=>{try{var t;u(null);const n=await is.get("/audit/logs",{params:{user:e.user||void 0,action:e.action||void 0,status:e.status||void 0,auditDateStart:e.auditDateStart||void 0,auditDateEnd:e.auditDateEnd||void 0}});if(null!==(t=n.data)&&void 0!==t&&t.success){n.data.data?s({audit_log:n.data.data}):n.data.audit_log&&s({audit_log:n.data.audit_log});const e=n.data.data||n.data.audit_log||[];C(e),n.data.user_email&&b({email:n.data.user_email,role:n.data.user_role}),g(new Date)}else u("Impossible de charger les logs.")}catch(n){console.error("Erreur data audit:",n),n.response&&404===n.response.status?u("Route API introuvable /audit/logs."):u("Impossible de charger les logs.")}finally{i(!1)}},N=async()=>{try{var e;A(!0);const t=await is.get("/audit/stats");if(null!==(e=t.data)&&void 0!==e&&e.success){const e=t.data.data||{};m(t=>o(o({},t),{},{total:e.total_actions||0,today:e.today_actions||0,success:e.success_actions||0,errors:e.failed_actions||0,topUsers:e.top_users||[],topActions:e.top_actions||[]})),t.data.user_email&&b({email:t.data.user_email,role:t.data.user_role}),g(new Date)}}catch(t){console.error("Erreur stats audit:",t)}finally{A(!1)}},j=async()=>{try{y(!0);const a=_i.getUser();if(a)return void b({email:a.email,role:a.role});try{var e,t;const n=await is.get("/auth/check-auth",{withCredentials:!0,validateStatus:e=>e<500});if(200===n.status&&null!==(e=n.data)&&void 0!==e&&e.authenticated){const e=n.data.user||n.data;b({email:e.email,role:e.role})}else 401===n.status||419===n.status||!1===(null===(t=n.data)||void 0===t?void 0:t.authenticated)?console.log("Utilisateur non authentifi\xe9 (check-auth) - route prot\xe9g\xe9e"):console.warn("R\xe9ponse inattendue de /auth/check-auth :",n.status,n.data)}catch(s){var n,r;401!==(null===(n=s.response)||void 0===n?void 0:n.status)&&419!==(null===(r=s.response)||void 0===r?void 0:r.status)&&console.warn("Erreur lors de la v\xe9rification utilisateur via /auth/check-auth :",s.message)}}catch(a){console.log("Impossible de v\xe9rifier l'utilisateur :",a.message)}},C=e=>{if(!e||0===e.length)return;const t=(new Date).toISOString().split("T")[0],n={totalFiltered:e.length,todayFiltered:e.filter(e=>new Date(e.timestamp).toISOString().split("T")[0]===t).length,successFiltered:e.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("succ\xe8s")||t.includes("success")}).length,errorsFiltered:e.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("\xe9chec")||t.includes("fail")||t.includes("refus\xe9")}).length};m(e=>o(o({},e),n))},k=(e,t)=>{n(n=>o(o({},n),{},{[e]:t}))},F=()=>{n({user:"",action:"",status:"",auditDateStart:"",auditDateEnd:""})},S=(r.audit_log||[]).filter(t=>{const n=(t.utilisateur||"").toLowerCase(),r=(t.action||"").toLowerCase(),s=(t.statut||"").toLowerCase(),a=!e.user||n.includes(e.user.toLowerCase()),i=!e.action||r.includes(e.action.toLowerCase())||r===e.action.toLowerCase(),o=!e.status||s.includes(e.status.toLowerCase());let l=!0;if(e.auditDateStart||e.auditDateEnd){const n=new Date(t.timestamp).toISOString().split("T")[0];e.auditDateStart&&(l=l&&n>=e.auditDateStart),e.auditDateEnd&&(l=l&&n<=e.auditDateEnd)}return a&&i&&o&&l}),E={total:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?S.length:f.total,today:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?S.filter(e=>{const t=(new Date).toISOString().split("T")[0];return new Date(e.timestamp).toISOString().split("T")[0]===t}).length:f.today,success:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?S.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("succ\xe8s")||t.includes("success")}).length:f.success,errors:e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd?S.filter(e=>{const t=(e.statut||"").toLowerCase();return t.includes("\xe9chec")||t.includes("fail")||t.includes("refus\xe9")}).length:f.errors},_=e=>{if(!e)return"";if(e.length<=20)return e;const[t,n]=e.split("@"),r=t.length>10?"".concat(t.substring(0,8),".."):t;return"".concat(r,"@").concat(n)};return a&&0===(r.audit_log||[]).length?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 p-8 flex justify-center items-start",children:(0,wt.jsxs)("div",{className:"flex items-center gap-3 text-gray-500 animate-pulse mt-10",children:[(0,wt.jsx)(nB,{className:"animate-spin"}),(0,wt.jsx)("span",{children:"Chargement du journal d'audit..."})]})}):(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 font-sans text-slate-800 relative",children:(0,wt.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[c&&(0,wt.jsxs)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg border border-red-200 flex items-center gap-2",children:[(0,wt.jsx)(Ut,{size:20}),(0,wt.jsx)("span",{children:c}),(0,wt.jsx)("button",{onClick:w,className:"ml-auto text-sm underline hover:text-red-800",children:"R\xe9essayer"})]}),(0,wt.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,wt.jsx)(tB,{className:"text-blue-600"}),(0,wt.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 text-xs font-medium rounded-full border border-amber-200",children:"Acc\xe8s restreint"}),(null===x||void 0===x?void 0:x.email)&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full border border-blue-200 flex items-center gap-1",children:[(0,wt.jsx)(ks,{size:12}),(0,wt.jsx)("span",{title:x.email,children:_(x.email)}),x.role&&(0,wt.jsx)("span",{className:"ml-1",children:x.role})]})]}),(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Journal d'Audit"}),(0,wt.jsx)("p",{className:"text-slate-500 text-sm mt-1",children:"Surveillance et tra\xe7abilit\xe9 des actions syst\xe8me"}),p&&(0,wt.jsxs)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded mt-2 inline-block",children:["Derni\xe8re mise \xe0 jour: ",(U=p,new Date(U).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}))]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsxs)("div",{className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm font-medium border border-blue-100",children:[E.total.toLocaleString()," \xe9v\xe8nements"]}),(0,wt.jsxs)("button",{onClick:w,className:"flex items-center gap-2 bg-white hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-lg transition-all text-sm font-medium border border-gray-300 shadow-sm",title:"Actualiser les donn\xe9es",children:[(0,wt.jsx)(nB,{size:16}),"Actualiser"]}),(0,wt.jsxs)("button",{onClick:async()=>{try{var t,n;const a=await is.post("/audit/logs/export",o({type:"systeme"},e));if(null!==(t=a.data)&&void 0!==t&&t.success&&a.data.download_url)window.open(a.data.download_url,"_blank");else if(null!==(n=a.data)&&void 0!==n&&n.success){var r;alert("Export r\xe9ussi ! ".concat((null===(r=a.data.data)||void 0===r?void 0:r.count)||0," lignes pr\xe9par\xe9es."))}else{var s;alert("Erreur export: ".concat((null===(s=a.data)||void 0===s?void 0:s.message)||"Erreur inconnue"))}}catch(a){console.error("Erreur export:",a),alert("Erreur technique lors de l'export.")}},className:"flex items-center gap-2 bg-slate-900 hover:bg-slate-800 text-white px-4 py-2 rounded-lg transition-all text-sm font-medium shadow-md hover:shadow-lg",title:"Exporter en CSV",children:[(0,wt.jsx)(Qs,{size:16}),"Exporter CSV"]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,wt.jsx)(cB,{title:"Total Actions",value:E.total,icon:iB,color:"purple",loading:l}),(0,wt.jsx)(cB,{title:"Aujourd'hui",value:E.today,icon:Fs,color:"green",loading:l}),(0,wt.jsx)(cB,{title:"Succ\xe8s",value:E.success,icon:ws,color:"green",loading:l}),(0,wt.jsx)(cB,{title:"\xc9checs",value:E.errors,icon:Ut,color:"red",loading:l})]}),(e.user||e.action||e.status||e.auditDateStart||e.auditDateEnd)&&(0,wt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Qi,{className:"text-blue-600",size:16}),(0,wt.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Filtres actifs"})]}),(0,wt.jsx)("button",{onClick:F,className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Tout effacer"})]}),(0,wt.jsxs)("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.user&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Utilisateur : ",e.user]}),e.action&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Action : ",e.action]}),e.status&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Statut : ",e.status]}),e.auditDateStart&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Depuis : ",e.auditDateStart]}),e.auditDateEnd&&(0,wt.jsxs)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:["Jusqu'\xe0 : ",e.auditDateEnd]})]}),(0,wt.jsxs)("p",{className:"text-xs text-blue-600 mt-2",children:["Affichage de ",S.length," \xe9v\xe8nements sur"," ",f.total," au total"]})]}),(0,wt.jsxs)("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700",children:[(0,wt.jsx)(Qi,{size:16}),"Filtres avanc\xe9s"]}),(0,wt.jsx)("button",{onClick:F,className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"R\xe9initialiser"})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(js,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),(0,wt.jsx)("input",{type:"text",value:e.user,onChange:e=>k("user",e.target.value),placeholder:"Rechercher un utilisateur...",className:"w-full pl-9 pr-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),(0,wt.jsxs)("select",{value:e.action,onChange:e=>k("action",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,wt.jsx)("option",{value:"",children:"Toutes les actions"}),(0,wt.jsx)("option",{value:"Connexion",children:"Connexion"}),(0,wt.jsx)("option",{value:"Cr\xe9ation",children:"Cr\xe9ation"}),(0,wt.jsx)("option",{value:"Modification",children:"Modification"}),(0,wt.jsx)("option",{value:"Suppression",children:"Suppression"}),(0,wt.jsx)("option",{value:"Export",children:"Export"}),(0,wt.jsx)("option",{value:"Consultation",children:"Consultation"}),(0,wt.jsx)("option",{value:"Tentative d'acc\xe8s",children:"Tentative d'acc\xe8s"})]}),(0,wt.jsxs)("select",{value:e.status,onChange:e=>k("status",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",children:[(0,wt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,wt.jsx)("option",{value:"Succ\xe8s",children:"Succ\xe8s"}),(0,wt.jsx)("option",{value:"\xc9chec",children:"\xc9chec"}),(0,wt.jsx)("option",{value:"Refus\xe9",children:"Refus\xe9"})]}),(0,wt.jsx)("input",{type:"date",value:e.auditDateStart,onChange:e=>k("auditDateStart",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:ring-2 focus:ring-blue-500 outline-none"}),(0,wt.jsx)("input",{type:"date",value:e.auditDateEnd,onChange:e=>k("auditDateEnd",e.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-600 focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),(0,wt.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:0===S.length?(0,wt.jsxs)("div",{className:"p-12 text-center text-gray-400 flex flex-col items-center",children:[(0,wt.jsx)("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:(0,wt.jsx)(js,{size:24})}),(0,wt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Aucun r\xe9sultat"}),(0,wt.jsx)("p",{className:"text-sm",children:"Modifiez vos filtres ou v\xe9rifiez la connexion API."}),(0,wt.jsx)("button",{onClick:F,className:"mt-4 text-blue-600 hover:text-blue-800 text-sm font-medium",children:"R\xe9initialiser les filtres"})]}):(0,wt.jsx)("div",{className:"overflow-x-auto",children:(0,wt.jsxs)("table",{className:"w-full whitespace-nowrap text-left text-sm",children:[(0,wt.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-500",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Utilisateur"}),(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Action"}),(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Entit\xe9 Cibl\xe9e"}),(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Statut"}),(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold",children:"Date"}),(0,wt.jsx)("th",{className:"px-6 py-4 font-semibold text-right",children:"D\xe9tails"})]})}),(0,wt.jsx)("tbody",{className:"divide-y divide-gray-100",children:S.map(e=>(0,wt.jsxs)("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[(0,wt.jsx)("td",{className:"px-6 py-4",children:(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)(AB,{name:e.utilisateur,email:e.utilisateur}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("div",{className:"font-medium text-gray-900",children:e.utilisateur||"Syst\xe8me"}),(0,wt.jsx)("div",{className:"text-xs text-gray-400 font-mono",children:e.ip||"N/A"})]})]})}),(0,wt.jsx)("td",{className:"px-6 py-4",children:(0,wt.jsx)(lB,{action:e.action})}),(0,wt.jsx)("td",{className:"px-6 py-4 text-gray-600 font-medium",children:e.entite||"-"}),(0,wt.jsx)("td",{className:"px-6 py-4",children:(0,wt.jsx)(oB,{status:e.statut})}),(0,wt.jsx)("td",{className:"px-6 py-4 text-gray-500",children:(0,wt.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,wt.jsx)(Fs,{size:14,className:"text-gray-400"}),(0,wt.jsx)("span",{children:new Date(e.timestamp).toLocaleDateString("fr-FR")}),(0,wt.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:new Date(e.timestamp).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})}),(0,wt.jsx)("td",{className:"px-6 py-4 text-right",children:(0,wt.jsx)("button",{onClick:()=>h(e),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir les d\xe9tails",children:(0,wt.jsx)(Us,{size:18})})})]},e.id))})]})})}),d&&(0,wt.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end isolate",children:[(0,wt.jsx)("div",{className:"fixed inset-0 bg-gray-900/20 backdrop-blur-[1px] transition-opacity",onClick:()=>h(null)}),(0,wt.jsxs)("div",{className:"relative w-full max-w-lg bg-white shadow-2xl h-full flex flex-col animate-in slide-in-from-right duration-300 border-l border-gray-200",children:[(0,wt.jsxs)("div",{className:"px-6 py-5 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:"D\xe9tails de l'\xe9v\xe8nement"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5 font-mono",children:["ID: ",d.id]})]}),(0,wt.jsx)("button",{onClick:()=>h(null),className:"p-2 hover:bg-gray-200 rounded-full text-gray-500 transition-colors",children:(0,wt.jsx)(Lt,{size:20})})]}),(0,wt.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,wt.jsx)("span",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Utilisateur"}),(0,wt.jsxs)("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,wt.jsx)(AB,{name:d.utilisateur,email:d.utilisateur}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("div",{children:d.utilisateur||"Inconnu"}),(0,wt.jsx)("div",{className:"text-xs text-gray-500",children:d.ip||"IP : N/A"})]})]})]}),(0,wt.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,wt.jsx)("span",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-1",children:"Date & Heure"}),(0,wt.jsxs)("div",{className:"font-medium text-gray-900 flex items-center gap-2",children:[(0,wt.jsx)(Bs,{size:16,className:"text-gray-400"}),(0,wt.jsx)("div",{children:new Date(d.timestamp).toLocaleString("fr-FR")})]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,wt.jsx)("span",{className:"text-xs text-gray-500",children:"Adresse IP"}),(0,wt.jsx)("div",{className:"font-mono text-sm mt-1",children:d.ip||"N/A"})]}),(0,wt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,wt.jsx)("span",{className:"text-xs text-gray-500",children:"R\xe9sultat"}),(0,wt.jsx)("div",{className:"mt-1",children:(0,wt.jsx)(oB,{status:d.statut})})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,wt.jsx)("span",{className:"text-xs text-gray-500",children:"Action"}),(0,wt.jsx)("div",{className:"mt-1",children:(0,wt.jsx)(lB,{action:d.action})})]}),(0,wt.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,wt.jsx)("span",{className:"text-xs text-gray-500",children:"Entit\xe9 concern\xe9e"}),(0,wt.jsx)("div",{className:"mt-1 text-sm text-gray-800",children:d.entite||"-"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h3",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-1 h-4 bg-blue-600 rounded-full"}),"Donn\xe9es Techniques / Changements"]}),(0,wt.jsx)("div",{className:"bg-gray-900 rounded-xl p-4 overflow-hidden shadow-inner border border-gray-800",children:(e=>{try{if(!e)return(0,wt.jsx)("span",{className:"text-gray-500 italic",children:"Aucun d\xe9tail technique."});const t="string"===typeof e&&(e.trim().startsWith("{")||e.trim().startsWith("["))?JSON.parse(e):e;return"object"===typeof t?(0,wt.jsx)("pre",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap break-all",children:JSON.stringify(t,null,2)}):(0,wt.jsx)("p",{className:"text-gray-300 font-mono text-sm whitespace-pre-wrap",children:e})}catch(NN){return(0,wt.jsx)("p",{className:"text-gray-300 font-mono text-sm whitespace-pre-wrap",children:e})}})(d.details)})]})]}),(0,wt.jsxs)("div",{className:"p-4 border-t border-gray-100 bg-gray-50 text-center text-xs text-gray-400",children:["Enregistrement syst\xe8me s\xe9curis\xe9 - lecture seule. Acc\xe8s restreint"," ",(null===x||void 0===x?void 0:x.email)&&"- Vous \xeates ".concat(_(x.email))]})]})]})]})});var U},dB=Et("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),hB=Et("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),fB=Et("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),mB=Et("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),pB=Et("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),gB=Et("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),xB=Et("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),bB=Et("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),vB=e=>{let{message:n,type:r="success",onClose:s}=e;const[a,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=setTimeout(()=>{i(!1),setTimeout(()=>s(),500)},5e3);return()=>clearTimeout(e)},[s]);const o="success"===r?"bg-emerald-50":"bg-rose-50",l="success"===r?"text-emerald-700":"text-rose-700";return(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-50 transition-all duration-500 transform ".concat(a?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,wt.jsxs)("div",{className:"".concat(o," border-l-4 ").concat("success"===r?"border-emerald-500":"border-rose-500"," rounded shadow-2xl p-4 w-80 flex items-start"),children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:"success"===r?(0,wt.jsx)(ws,{className:"h-6 w-6 text-emerald-500"}):(0,wt.jsx)(Yi,{className:"h-6 w-6 text-rose-500"})}),(0,wt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,wt.jsx)("p",{className:"text-sm font-bold ".concat(l," leading-5"),children:"success"===r?"Succ\xe8s":"Erreur"}),(0,wt.jsx)("p",{className:"mt-1 text-sm leading-5 text-slate-700",children:n})]}),(0,wt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,wt.jsx)("button",{onClick:()=>{i(!1),setTimeout(()=>s(),500)},className:"inline-flex text-slate-400 hover:text-slate-600 focus:outline-none transition ease-in-out duration-150",children:(0,wt.jsx)(Lt,{className:"h-5 w-5"})})})]})})},yB=e=>{let{label:n,type:r="text",name:s,value:a,onChange:i,placeholder:o,required:l=!1,disabled:A=!1,icon:c,error:u,showPasswordToggle:d=!1}=e;const[h,f]=(0,t.useState)(!1);return(0,wt.jsxs)("div",{className:"group",children:[(0,wt.jsxs)("label",{className:"block text-xs font-medium text-slate-700 mb-1.5 ml-1 transition-colors group-focus-within:text-blue-600",children:[n," ",l&&(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[c&&(0,wt.jsx)(c,{className:"w-4 h-4 text-slate-400 absolute left-3 top-2.5 transition-colors group-focus-within:text-blue-500"}),(0,wt.jsx)("input",{type:d&&h?"text":r,name:s,value:a,onChange:i,required:l,disabled:A,placeholder:o,className:"w-full ".concat(c?"pl-9":"px-3"," ").concat(d?"pr-10":"pr-3"," py-2 bg-slate-50 border ").concat(u?"border-rose-300":"border-slate-200"," rounded-lg text-sm text-slate-800 placeholder-slate-400 transition-all duration-200 outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 disabled:opacity-80 disabled:bg-slate-100 disabled:text-slate-600 disabled:cursor-not-allowed")}),d&&(0,wt.jsx)("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-2.5 text-slate-400 hover:text-slate-600",children:h?(0,wt.jsx)(dB,{className:"w-4 h-4"}):(0,wt.jsx)(Us,{className:"w-4 h-4"})}),u&&(0,wt.jsx)("div",{className:"text-rose-500 text-xs mt-1 ml-1",children:u})]})]})},wB=e=>{let{isValid:t,text:n}=e,r="text-slate-400",s=null;return!0===t?(r="text-emerald-600",s=Ps):!1===t&&(r="text-rose-600",s=Lt),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs ".concat(r," transition-colors"),children:[s?(0,wt.jsx)(s,{className:"w-3.5 h-3.5 flex-shrink-0"}):(0,wt.jsx)("div",{className:"w-3.5 h-3.5 rounded-full border-2 border-current flex-shrink-0"}),(0,wt.jsx)("span",{children:n})]})},BB=e=>{let{isOpen:n,onClose:r,onSubmit:s,isLoading:a,email:i}=e;const[o,l]=(0,t.useState)(""),A=t.useRef(null);(0,t.useEffect)(()=>{n&&(l(""),setTimeout(()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.focus()},100))},[n]),(0,t.useEffect)(()=>{6!==o.length||a||s(o)},[o,a,s]);return n?(0,wt.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-[#0c2844]/80 backdrop-blur-sm transition-all duration-300 px-4",children:(0,wt.jsxs)("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative transform transition-all scale-100 border border-slate-200",children:[(0,wt.jsx)("button",{onClick:r,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-50 rounded-full transition-colors z-20",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})}),(0,wt.jsxs)("div",{className:"bg-slate-50/80 border-b border-slate-100 p-8 text-center relative",children:[(0,wt.jsx)("div",{className:"mx-auto w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-100 mb-4 transform rotate-3 hover:rotate-0 transition-all duration-500 group",children:(0,wt.jsx)(tB,{className:"w-8 h-8 text-[#0c2844] group-hover:scale-110 transition-transform"})}),(0,wt.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Confirmation S\xe9curis\xe9e"}),(0,wt.jsxs)("p",{className:"text-slate-500 text-sm mt-2",children:["Veuillez saisir le code \xe0 6 chiffres envoy\xe9 \xe0 ",(0,wt.jsx)("br",{}),(0,wt.jsx)("span",{className:"font-semibold text-[#0c2844]",children:i})]})]}),(0,wt.jsxs)("div",{className:"p-8",children:[(0,wt.jsxs)("div",{className:"relative mb-8 group",onClick:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.focus()},children:[(0,wt.jsx)("input",{ref:A,type:"text",value:o,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);l(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",autoComplete:"one-time-code",inputMode:"numeric",maxLength:6,disabled:a,autoFocus:!0}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-2 relative z-10 pointer-events-none",children:[...Array(6)].map((e,t)=>(0,wt.jsx)("div",{className:"\n                                        w-10 h-14 sm:w-12 sm:h-16 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-all duration-200 font-mono\n                                        ".concat(o[t]?"border-[#0c2844] bg-slate-50 text-[#0c2844] scale-105 shadow-sm":"border-slate-200 bg-white text-slate-300","\n                                        ").concat(t===o.length?"border-[#4c7026] ring-4 ring-[#4c7026]/10 z-10 scale-110 bg-white":"","\n                                    "),children:o[t]||(0,wt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t===o.length?"bg-[#4c7026] animate-pulse":"bg-slate-200")})},t))})]}),(0,wt.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>s(o),disabled:a||o.length<6,className:"w-full bg-[#0c2844] hover:bg-[#09407e] text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-blue-900/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-2 group",children:a?(0,wt.jsx)(hB,{className:"w-5 h-5 animate-spin text-white/70"}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("span",{children:"Confirmer"}),(0,wt.jsx)(ws,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})]})}),(0,wt.jsx)("button",{type:"button",onClick:r,className:"w-full py-3.5 text-slate-500 hover:text-slate-700 font-medium hover:bg-slate-50 rounded-xl transition-colors",children:"Annuler"})]}),(0,wt.jsx)("div",{className:"mt-6 text-center",children:(0,wt.jsxs)("p",{className:"text-slate-300 text-[10px] flex items-center justify-center gap-1",children:[(0,wt.jsx)(fB,{className:"w-3 h-3"}),"Connexion chiffr\xe9e"]})})]})]})}):null},NB=e=>{let{isOpen:n,onClose:r,onSubmit:s,isLoading:a,email:i,onResendCode:o}=e;const[l,A]=(0,t.useState)(""),[c,u]=(0,t.useState)(900),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)(0),[x,b]=(0,t.useState)(0),v=t.useRef(null);(0,t.useEffect)(()=>{n&&(A(""),u(900),m(!1),setTimeout(()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.focus()},100))},[n]),(0,t.useEffect)(()=>{if(!n||c<=0)return;const e=setInterval(()=>u(e=>e-1),1e3);return()=>clearInterval(e)},[n,c]),(0,t.useEffect)(()=>{if(p<=0)return;const e=setInterval(()=>g(e=>e-1),1e3);return()=>clearInterval(e)},[p]),(0,t.useEffect)(()=>{6===l.length&&!a&&c>0&&s(l)},[l,a,s,c]);if(!n)return null;const y=0===c;return(0,wt.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-[#0c2844]/80 backdrop-blur-sm transition-all duration-300 px-4",children:(0,wt.jsxs)("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden relative transform transition-all scale-100 border border-slate-200",children:[(0,wt.jsx)("button",{onClick:r,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-50 rounded-full transition-colors z-20",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})}),(0,wt.jsxs)("div",{className:"bg-slate-50/80 border-b border-slate-100 p-8 text-center relative",children:[(0,wt.jsx)("div",{className:"mx-auto w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-100 mb-4 transform rotate-3 hover:rotate-0 transition-all duration-500 group",children:(0,wt.jsx)(Es,{className:"w-8 h-8 text-[#0c2844] group-hover:scale-110 transition-transform"})}),(0,wt.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Confirmation S\xe9curis\xe9e"}),(0,wt.jsxs)("p",{className:"text-slate-500 text-sm mt-2",children:["Veuillez saisir le code \xe0 6 chiffres envoy\xe9 \xe0 ",(0,wt.jsx)("br",{}),(0,wt.jsx)("span",{className:"font-semibold text-[#0c2844]",children:i})]})]}),(0,wt.jsxs)("div",{className:"p-8",children:[(0,wt.jsxs)("div",{className:"relative mb-8 group",onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.focus()},children:[(0,wt.jsx)("input",{ref:v,type:"text",value:l,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);A(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",autoComplete:"one-time-code",inputMode:"numeric",maxLength:6,disabled:y||a,autoFocus:!0}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-2 relative z-10 pointer-events-none",children:[...Array(6)].map((e,t)=>(0,wt.jsx)("div",{className:"\n                                        w-10 h-14 sm:w-12 sm:h-16 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-all duration-200 font-mono\n                                        ".concat(l[t]?"border-[#0c2844] bg-slate-50 text-[#0c2844] scale-105 shadow-sm":"border-slate-200 bg-white text-slate-300","\n                                        ").concat(t!==l.length||y?"":"border-[#4c7026] ring-4 ring-[#4c7026]/10 z-10 scale-110 bg-white","\n                                        ").concat(y?"opacity-50 border-slate-100 bg-slate-50":"","\n                                    "),children:l[t]||(0,wt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t!==l.length||y?"bg-slate-200":"bg-[#4c7026] animate-pulse")})},t))})]}),y&&(0,wt.jsxs)("div",{className:"mb-6 p-3 bg-red-50 border border-red-100 rounded-lg flex items-center justify-center gap-2 text-red-600 text-sm animate-shake",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4"}),(0,wt.jsx)("span",{children:"Le code a expir\xe9"})]}),f&&(0,wt.jsxs)("div",{className:"mb-6 p-3 bg-emerald-50 border border-emerald-100 rounded-lg flex items-center justify-center gap-2 text-emerald-600 text-sm animate-fade-in",children:[(0,wt.jsx)(mB,{className:"w-4 h-4"}),(0,wt.jsx)("span",{children:"Code renvoy\xe9 avec succ\xe8s !"})]}),!y&&(0,wt.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-6 text-xs font-medium text-slate-400",children:[(0,wt.jsx)(Bs,{className:"w-3.5 h-3.5"}),(0,wt.jsx)("span",{children:"Expire dans"}),(0,wt.jsx)("span",{className:"font-mono ".concat(c<60?"text-red-500 font-bold":"text-slate-600"),children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))})(c)})]}),(0,wt.jsx)("button",{onClick:()=>s(l),disabled:a||l.length<6||y,className:"w-full bg-[#0c2844] hover:bg-[#09407e] text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-blue-900/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-2 group",children:a?(0,wt.jsx)(hB,{className:"w-5 h-5 animate-spin text-white/70"}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("span",{children:"V\xe9rifier le code"}),(0,wt.jsx)(pB,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})}),(0,wt.jsx)("div",{className:"mt-6 border-t border-slate-100 pt-6 text-center",children:(0,wt.jsxs)("button",{type:"button",onClick:async()=>{h(!0);try{var e;await o(),m(!0),u(900),A("");g(0===x?30:60*x),b(e=>e+1),setTimeout(()=>m(!1),3e3),null===(e=v.current)||void 0===e||e.focus()}catch(t){}finally{h(!1)}},disabled:d||p>0,className:"text-sm font-medium text-slate-500 hover:text-[#0c2844] transition-colors flex items-center justify-center gap-2 mx-auto disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,wt.jsx)(nB,{className:"w-4 h-4 ".concat(d?"animate-spin":"")}),p>0?"Renvoyer disponible dans ".concat(p,"s"):"Je n'ai pas re\xe7u le code"]})}),(0,wt.jsx)("div",{className:"mt-6 text-center",children:(0,wt.jsxs)("p",{className:"text-slate-300 text-[10px] flex items-center justify-center gap-1",children:[(0,wt.jsx)(fB,{className:"w-3 h-3"}),"S\xe9curit\xe9 garantie par FOSIKA"]})})]})]})})},jB=e=>{var n,r,s,a,i,l,A,c,u,d;let{onReturnToDashboard:h,onAvatarUpdate:f}=e;const[m,p]=(0,t.useState)({name:"",username:"",firstname:"",lastname:"",email:"",phone:"",adresse:"",departement:"",responsabilites:"",specialisations:"",currentpassword:"",newpassword:"",newpasswordconfirmation:"",role:"",formattedrole:"",email_verified_at:null,two_factor_enabled:!1,is_email_verified:!1,is_2fa_enabled:!1,security_level:"low",last_login_at:null}),[g,x]=(0,t.useState)({}),[b,v]=(0,t.useState)({}),[y,w]=(0,t.useState)("informations"),[B,N]=(0,t.useState)(""),[j,C]=(0,t.useState)(!1),[k,F]=(0,t.useState)(!1),[S,E]=(0,t.useState)({minLength:null,hasUpperCase:null,hasNumber:null,hasSpecialChar:null}),[_,U]=(0,t.useState)(!1),[Q,L]=(0,t.useState)(!1),[I,M]=(0,t.useState)(!1),[D,P]=(0,t.useState)(!1),[T,O]=(0,t.useState)([]),H={admin:{bg:"bg-blue-600",text:"text-blue-600",light:"bg-blue-50",gradient:"from-blue-600 to-blue-800"},agent:{bg:"bg-green-600",text:"text-green-600",light:"bg-green-50",gradient:"from-green-600 to-green-800"},investigateur:{bg:"bg-purple-600",text:"text-purple-600",light:"bg-purple-50",gradient:"from-purple-600 to-purple-800"}},R=H[(m.role||"admin").toLowerCase()]||H.admin,z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";const n=Date.now();O(r=>[...r,{id:n,message:e,type:t}])},K=e=>{if(!e)return null;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000";return e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")?e:e.startsWith("/storage/")?"".concat(t).concat(e):e.startsWith("storage/")?"".concat(t,"/").concat(e):"".concat(t,"/storage/").concat(e)};(0,t.useEffect)(()=>{V()},[]),(0,t.useEffect)(()=>{const e=m.newpassword;E(e?{minLength:e.length>=8,hasUpperCase:/[A-Z]/.test(e),hasNumber:/[0-9]/.test(e),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>_\-+=[\];'/`~]/.test(e)}:{minLength:null,hasUpperCase:null,hasNumber:null,hasSpecialChar:null})},[m.newpassword]);const V=async()=>{try{C(!0);const e=await is.get("/profile");if(e.data.success){const t=e.data.data;if(p(e=>o(o(o({},e),t),{},{name:t.name||"",username:t.username||"",firstname:t.first_name||t.firstname||"",lastname:t.last_name||t.lastname||"",specialisations:Array.isArray(t.specialisations)?t.specialisations.join(", "):t.specialisations||"",formattedrole:t.formatted_role||t.formattedrole||t.role||"Utilisateur",email_verified_at:t.email_verified_at||null,two_factor_enabled:!!t.two_factor_enabled,is_email_verified:!!t.email_verified_at,is_2fa_enabled:!!t.two_factor_enabled,security_level:t.security_level||"low",last_login_at:t.last_login_at||null})),t.avatar_url||t.avatar){const e=K(t.avatar_url||t.avatar);e&&N("".concat(e,"?t=").concat(Date.now()))}}}catch(e){z("Erreur lors du chargement du profil","error")}finally{C(!1)}},q=e=>{const{name:t,value:n}=e.target;p(e=>o(o({},e),{},{[t]:n})),g[t]&&x(e=>o(o({},e),{},{[t]:null})),b[t]&&v(e=>o(o({},e),{},{[t]:null}))};return(0,wt.jsxs)("div",{className:"min-h-screen bg-slate-50/50 py-6",children:[T.map(e=>(0,wt.jsx)(vB,{message:e.message,type:e.type,onClose:()=>{return t=e.id,void O(e=>e.filter(e=>e.id!==t));var t}},e.id)),(0,wt.jsx)(BB,{isOpen:_,onClose:()=>U(!1),onSubmit:async e=>{M(!0),x({});try{const t=await is.post("/user/two-factor-authentication/confirm",{code:e});t.data.success?(p(e=>o(o({},e),{},{two_factor_enabled:!0,is_2fa_enabled:!0})),U(!1),z("Double authentification activ\xe9e avec succ\xe8s.")):z(t.data.message||"Code invalide.","error")}catch(r){var t,n;z((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Code invalide ou expir\xe9. Veuillez r\xe9essayer.","error")}finally{M(!1)}},isLoading:I,email:m.email}),(0,wt.jsx)(NB,{isOpen:Q,onClose:()=>L(!1),onSubmit:async e=>{P(!0),x({});try{const t=await is.post("/email/verify",{code:e,email:m.email});t.data.success?(z("Email v\xe9rifi\xe9 avec succ\xe8s !"),L(!1),p(e=>o(o({},e),{},{email_verified_at:t.data.data.email_verified_at,is_email_verified:!0})),V()):z(t.data.message||"Code invalide.","error")}catch(r){var t,n;z((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Code invalide ou expir\xe9. Veuillez r\xe9essayer.","error")}finally{P(!1)}},isLoading:D,email:m.email,onResendCode:async()=>{try{return!!(await is.post("/email/resend-code")).data.success}catch(e){return!1}}}),(0,wt.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,wt.jsx)("div",{className:"mb-4",children:(0,wt.jsxs)("button",{onClick:h,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-slate-700 bg-white rounded-lg border border-slate-200 hover:bg-slate-50 hover:border-slate-300 transition-all duration-200 shadow-sm",children:[(0,wt.jsx)(Cs,{className:"w-4 h-4"}),"Retour au tableau de bord"]})}),(0,wt.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden ring-1 ring-slate-900/5",children:[(0,wt.jsx)("div",{className:"relative h-28"}),(0,wt.jsx)("div",{className:"px-6 pb-6",children:(0,wt.jsxs)("div",{className:"relative flex items-end gap-5 -mt-12",children:[(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full bg-white p-1 shadow-lg ring-1 ring-black/5",children:(0,wt.jsxs)("div",{className:"w-full h-full rounded-full bg-slate-100 flex items-center justify-center text-2xl font-bold overflow-hidden relative",children:[B?(0,wt.jsx)("img",{src:B,alt:"Avatar",className:"w-full h-full object-cover"}):(0,wt.jsx)("span",{className:"".concat(R.text),children:m.firstname&&m.lastname?"".concat(m.firstname[0]).concat(m.lastname[0]).toUpperCase():m.name?m.name.substring(0,2).toUpperCase():"U"}),(0,wt.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none",children:(0,wt.jsx)(gB,{className:"w-6 h-6 text-white/90"})})]})}),(0,wt.jsxs)("div",{className:"absolute bottom-1 right-1 flex h-4 w-4",children:[(0,wt.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),(0,wt.jsx)("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-emerald-500 border-2 border-white"})]}),(0,wt.jsx)("label",{className:"absolute inset-0 cursor-pointer rounded-full",title:"Modifier la photo",children:(0,wt.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(!t)return;if(["image/jpeg","image/png","image/webp","image/gif"].includes(t.type))if(t.size>5242880)z("Image trop lourde (maximum 5 Mo)","error");else try{F(!0);const e=new FormData;e.append("avatar",t);const r=new FileReader;r.onload=e=>N(e.target.result),r.readAsDataURL(t);const s=await is.post("/profile/avatar",e,{headers:{"Content-Type":"multipart/form-data"}});if(s.data.success){var n;if(z("Photo de profil mise \xe0 jour avec succ\xe8s"),null!==(n=s.data.data)&&void 0!==n&&n.avatar_url){const e=K(s.data.data.avatar_url);e&&N("".concat(e,"?t=").concat(Date.now()))}f&&f()}else z("Erreur lors du t\xe9l\xe9chargement de l'image","error")}catch(r){z("Erreur lors du t\xe9l\xe9chargement","error")}finally{F(!1),e.target.value=""}else z("Format d'image invalide","error")},disabled:k||j})})]}),(0,wt.jsx)("div",{className:"flex-1 pb-1 pt-5",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-slate-900 tracking-tight",children:m.firstname||m.lastname?"".concat(m.lastname," ").concat(m.firstname):m.name||"Utilisateur"}),(0,wt.jsxs)("div",{className:"flex items-center flex-wrap gap-2 mt-1",children:[(0,wt.jsx)("p",{className:"text-sm text-slate-500 font-medium",children:m.email}),m.username&&(0,wt.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-slate-100 text-slate-600 border border-slate-200",children:["@",m.username]}),m.is_email_verified?(0,wt.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-emerald-50 text-emerald-700 border border-emerald-100 uppercase tracking-wide",children:[(0,wt.jsx)(Ps,{className:"w-3 h-3 mr-1"}),"V\xe9rifi\xe9e"]}):(0,wt.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold bg-amber-50 text-amber-700 border border-amber-100 uppercase tracking-wide cursor-help",title:"Veuillez v\xe9rifier votre email",children:[(0,wt.jsx)(Yi,{className:"w-3 h-3 mr-1"}),"Non v\xe9rifi\xe9e"]})]})]})})]})}),(0,wt.jsx)("div",{className:"border-b border-slate-200 px-6",children:(0,wt.jsx)("nav",{className:"flex -mb-px space-x-6 overflow-x-auto no-scrollbar",children:[{id:"informations",label:"Informations personnelles",icon:ks},{id:"password",label:"Mot de passe",icon:fB},{id:"security",label:"S\xe9curit\xe9 & 2FA",icon:tB}].map(e=>(0,wt.jsxs)("button",{onClick:()=>w(e.id),className:"group inline-flex items-center py-4 px-1 border-b-2 text-sm font-medium transition-all duration-200 ".concat(y===e.id?"".concat(R.text," border-current"):"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:[(0,wt.jsx)(e.icon,{className:"w-4 h-4 mr-2.5 transition-colors ".concat(y===e.id?"text-current":"text-slate-400 group-hover:text-slate-500")}),e.label]},e.id))})}),Object.keys(b).length>0&&(0,wt.jsx)("div",{className:"px-6 pt-3 animate-in fade-in slide-in-from-top-2 duration-300",children:(0,wt.jsxs)("div",{className:"bg-amber-50 border border-amber-100 text-amber-700 px-4 py-3 rounded-lg text-sm",children:[(0,wt.jsxs)("div",{className:"font-semibold mb-2 flex items-center",children:[(0,wt.jsx)(Yi,{className:"w-4 h-4 mr-2"}),"Erreurs de validation :"]}),(0,wt.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:Object.entries(b).map(e=>{let[t,n]=e;return n&&0!==n.length?(0,wt.jsxs)("li",{className:"flex items-start",children:[(0,wt.jsxs)("span",{className:"font-medium mr-2",children:[t,":"]}),(0,wt.jsx)("span",{children:Array.isArray(n)?n.join(", "):n})]},t):null})})]})}),(0,wt.jsxs)("div",{className:"p-6 min-h-[400px]",children:["informations"===y&&(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x({}),v({}),m.firstname.trim()&&m.lastname.trim()&&m.email.trim())try{C(!0);const e=Array.isArray(m.responsabilites)?m.responsabilites.join(", "):m.responsabilites||"",t=Array.isArray(m.specialisations)?m.specialisations.join(", "):m.specialisations||"",n={name:m.name||"".concat(m.firstname," ").concat(m.lastname),username:m.username||"",firstname:m.firstname,lastname:m.lastname,email:m.email,phone:m.phone||"",adresse:m.adresse||"",departement:m.departement||"",responsabilites:e,specialisations:t};(await is.put("/profile",n)).data.success?(z("Informations mises \xe0 jour avec succ\xe8s"),f&&f(),V()):z("Erreur lors de la mise \xe0 jour","error")}catch(a){var t,n,r,s;if(null!==(t=a.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.errors)v(a.response.data.errors),z("Veuillez corriger les erreurs de validation","error");else z((null===(r=a.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||a.message,"error")}finally{C(!1)}else z("Pr\xe9nom, Nom et Email sont obligatoires","error")},className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,wt.jsxs)("div",{className:"bg-slate-50/50 p-5 rounded-xl border border-slate-100/80",children:[(0,wt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-4 flex items-center uppercase tracking-wider opacity-80",children:[(0,wt.jsx)(ks,{className:"w-4 h-4 mr-2 text-blue-500"}),"Identit\xe9"]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,wt.jsx)(yB,{label:"Nom",name:"lastname",value:m.lastname,onChange:q,required:!0,error:null===(n=b.lastname)||void 0===n?void 0:n[0]}),(0,wt.jsx)(yB,{label:"Pr\xe9nom",name:"firstname",value:m.firstname,onChange:q,required:!0,error:null===(r=b.firstname)||void 0===r?void 0:r[0]}),(0,wt.jsx)(yB,{label:"Nom d'affichage",name:"name",value:m.name,onChange:q,placeholder:"Nom complet affich\xe9",error:null===(s=b.name)||void 0===s?void 0:s[0]}),(0,wt.jsx)(yB,{label:"Nom d'utilisateur",name:"username",value:m.username,onChange:q,placeholder:"Nom d'utilisateur unique",error:null===(a=b.username)||void 0===a?void 0:a[0]})]})]}),(0,wt.jsxs)("div",{className:"bg-slate-50/50 p-5 rounded-xl border border-slate-100/80",children:[(0,wt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-4 flex items-center uppercase tracking-wider opacity-80",children:[(0,wt.jsx)(Es,{className:"w-4 h-4 mr-2 text-blue-500"}),"Coordonn\xe9es"]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,wt.jsx)(yB,{label:"Email",type:"email",name:"email",value:m.email,onChange:q,required:!0,icon:Es,error:null===(i=b.email)||void 0===i?void 0:i[0]}),(0,wt.jsx)(yB,{label:"T\xe9l\xe9phone",name:"phone",value:m.phone,onChange:q,placeholder:"+261 ...",icon:Ss,error:null===(l=b.phone)||void 0===l?void 0:l[0]}),(0,wt.jsx)("div",{className:"md:col-span-2",children:(0,wt.jsx)(yB,{label:"Adresse",name:"adresse",value:m.adresse,onChange:q,icon:_s,error:null===(A=b.adresse)||void 0===A?void 0:A[0]})})]})]}),(0,wt.jsxs)("div",{className:"bg-slate-50/50 p-5 rounded-xl border border-slate-100/80",children:[(0,wt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-4 flex items-center uppercase tracking-wider opacity-80",children:[(0,wt.jsx)(em,{className:"w-4 h-4 mr-2 text-blue-500"}),"D\xe9tails Professionnels"]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,wt.jsx)(yB,{label:"R\xf4le affich\xe9",name:"formattedrole",value:m.formattedrole,onChange:q,disabled:!0}),(0,wt.jsx)(yB,{label:"D\xe9partement",name:"departement",value:m.departement,onChange:q,disabled:!0}),(0,wt.jsxs)("div",{className:"md:col-span-2 group",children:[(0,wt.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-1.5 ml-1 group-focus-within:text-blue-600",children:"Responsabilit\xe9s"}),(0,wt.jsx)("textarea",{name:"responsabilites",value:m.responsabilites,onChange:q,rows:2,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-800 transition-all duration-200 outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10"})]}),(0,wt.jsxs)("div",{className:"md:col-span-2 group",children:[(0,wt.jsx)("label",{className:"block text-xs font-medium text-slate-700 mb-1.5 ml-1 group-focus-within:text-blue-600",children:"Sp\xe9cialisations"}),(0,wt.jsx)("textarea",{name:"specialisations",value:m.specialisations,onChange:q,rows:2,className:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm text-slate-800 transition-all duration-200 outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10"})]})]})]}),(0,wt.jsx)("div",{className:"flex justify-end pt-2",children:(0,wt.jsxs)("button",{type:"submit",disabled:j,className:"inline-flex items-center px-6 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 hover:bg-blue-700 hover:shadow-md transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-60 disabled:shadow-none",children:[j?(0,wt.jsx)(hB,{className:"w-4 h-4 mr-2 animate-spin"}):(0,wt.jsx)(xB,{className:"w-4 h-4 mr-2"}),"Enregistrer les modifications"]})})]}),"password"===y&&(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),x({}),v({}),m.currentpassword)if(m.newpassword===m.newpasswordconfirmation)try{C(!0);(await is.put("/profile/password",{currentpassword:m.currentpassword,newpassword:m.newpassword,newpasswordconfirmation:m.newpasswordconfirmation})).data.success?(z("Mot de passe chang\xe9 avec succ\xe8s"),p(e=>o(o({},e),{},{currentpassword:"",newpassword:"",newpasswordconfirmation:""}))):z("Erreur lors du changement de mot de passe","error")}catch(r){var t,n;null!==(t=r.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.errors?(v(r.response.data.errors),z("Veuillez corriger les erreurs de validation","error")):z("Erreur lors du changement de mot de passe","error")}finally{C(!1)}else z("Les mots de passe ne correspondent pas","error");else z("Le mot de passe actuel est requis","error")},className:"max-w-xl space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,wt.jsxs)("div",{className:"bg-slate-50/50 p-6 rounded-xl border border-slate-100/80",children:[(0,wt.jsxs)("h2",{className:"text-sm font-bold text-slate-900 mb-6 flex items-center uppercase tracking-wider opacity-80",children:[(0,wt.jsx)(fB,{className:"w-4 h-4 mr-2 text-blue-500"}),"Changer le mot de passe"]}),(0,wt.jsxs)("div",{className:"space-y-5",children:[(0,wt.jsx)(yB,{label:"Mot de passe actuel",type:"password",name:"currentpassword",value:m.currentpassword,onChange:q,error:null===(c=b.currentpassword)||void 0===c?void 0:c[0],showPasswordToggle:!0}),(0,wt.jsx)("div",{className:"h-px bg-slate-200 my-2"}),(0,wt.jsx)(yB,{label:"Nouveau mot de passe",type:"password",name:"newpassword",value:m.newpassword,onChange:q,error:null===(u=b.newpassword)||void 0===u?void 0:u[0],showPasswordToggle:!0}),(0,wt.jsx)(yB,{label:"Confirmer le nouveau mot de passe",type:"password",name:"newpasswordconfirmation",value:m.newpasswordconfirmation,onChange:q,error:null===(d=b.newpassword_confirmation)||void 0===d?void 0:d[0],showPasswordToggle:!0})]})]}),(0,wt.jsxs)("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200",children:[(0,wt.jsx)("h3",{className:"text-xs font-bold text-slate-800 mb-3 uppercase tracking-wide",children:"Crit\xe8res de s\xe9curit\xe9"}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,wt.jsx)(wB,{isValid:S.minLength,text:"8 caract\xe8res minimum"}),(0,wt.jsx)(wB,{isValid:S.hasUpperCase,text:"Une majuscule"}),(0,wt.jsx)(wB,{isValid:S.hasNumber,text:"Un chiffre"}),(0,wt.jsx)(wB,{isValid:S.hasSpecialChar,text:"Un caract\xe8re sp\xe9cial"})]})]}),(0,wt.jsx)("div",{className:"flex justify-end",children:(0,wt.jsxs)("button",{type:"submit",disabled:j,className:"inline-flex items-center px-6 py-2.5 bg-blue-600 text-white text-sm font-medium rounded-lg shadow-sm shadow-blue-200 hover:bg-blue-700 transition-all disabled:opacity-60",children:[j?(0,wt.jsx)(hB,{className:"w-4 h-4 mr-2 animate-spin"}):(0,wt.jsx)(xB,{className:"w-4 h-4 mr-2"}),"Mettre \xe0 jour"]})})]}),"security"===y&&(0,wt.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,wt.jsxs)("div",{className:"group p-5 border border-slate-200 rounded-xl bg-white hover:border-blue-300 hover:shadow-md transition-all duration-300",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,wt.jsxs)("div",{className:"flex gap-4",children:[(0,wt.jsx)("div",{className:"p-3 rounded-xl transition-colors ".concat(m.is_email_verified?"bg-emerald-50 text-emerald-600":"bg-amber-50 text-amber-600"),children:(0,wt.jsx)(Es,{className:"w-6 h-6"})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{className:"text-base font-semibold text-slate-900",children:"Adresse e-mail"}),(0,wt.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:m.email}),(0,wt.jsx)("div",{className:"mt-3",children:m.is_email_verified?(0,wt.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-emerald-700 bg-emerald-50 px-2.5 py-1 rounded-full border border-emerald-100 ring-1 ring-emerald-500/10",children:[(0,wt.jsx)(Ps,{className:"w-3.5 h-3.5"})," V\xe9rifi\xe9e"]}):(0,wt.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-amber-700 bg-amber-50 px-2.5 py-1 rounded-full border border-amber-100 ring-1 ring-amber-500/10",children:[(0,wt.jsx)(Yi,{className:"w-3.5 h-3.5"})," Non v\xe9rifi\xe9e"]})})]})]}),!m.is_email_verified&&(0,wt.jsx)("button",{onClick:async()=>{C(!0),x({}),v({});try{const e=await is.post("/email/verification-notification");e.data.success?(z(e.data.message||"Un code de v\xe9rification a \xe9t\xe9 envoy\xe9 \xe0 votre adresse e-mail."),L(!0)):z(e.data.message||"La r\xe9ponse du serveur indique un \xe9chec.","error")}catch(i){var e,t,n,r,s,a;z((null===(e=i.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===(n=i.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||i.message||"Impossible d'envoyer l'e-mail de v\xe9rification. Veuillez r\xe9essayer.","error"),null!==(s=i.response)&&void 0!==s&&null!==(a=s.data)&&void 0!==a&&a.debug}finally{C(!1)}},disabled:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-xs font-semibold hover:bg-blue-700 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:j?(0,wt.jsx)(hB,{className:"w-4 h-4 animate-spin"}):"V\xe9rifier maintenant"})]}),!m.is_email_verified&&(0,wt.jsxs)("div",{className:"mt-4 p-3 bg-blue-50/50 border border-blue-100/50 rounded-lg flex gap-2 text-xs text-blue-800",children:[(0,wt.jsx)(Yi,{className:"w-4 h-4 flex-shrink-0"}),(0,wt.jsx)("span",{children:"La v\xe9rification de l'email est n\xe9cessaire pour activer la s\xe9curit\xe9 renforc\xe9e."})]})]}),(0,wt.jsxs)("div",{className:"group p-5 border border-slate-200 rounded-xl bg-white hover:border-blue-300 hover:shadow-md transition-all duration-300",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,wt.jsxs)("div",{className:"flex gap-4",children:[(0,wt.jsx)("div",{className:"p-3 rounded-xl transition-colors ".concat(m.is_2fa_enabled?"bg-blue-50 text-blue-600":"bg-slate-100 text-slate-400"),children:(0,wt.jsx)(bB,{className:"w-6 h-6"})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{className:"text-base font-semibold text-slate-900",children:"Double authentification (2FA)"}),(0,wt.jsx)("p",{className:"text-sm text-slate-500 mt-1 max-w-md leading-relaxed",children:"S\xe9curisez votre compte avec un code unique envoy\xe9 par email lors de la connexion."}),(0,wt.jsx)("div",{className:"mt-3",children:m.is_2fa_enabled?(0,wt.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-blue-700 bg-blue-50 px-2.5 py-1 rounded-full border border-blue-100 ring-1 ring-blue-500/10",children:[(0,wt.jsx)(tB,{className:"w-3.5 h-3.5"})," 2FA Active"]}):(0,wt.jsx)("span",{className:"inline-flex items-center gap-1.5 text-xs font-medium text-slate-500 bg-slate-100 px-2.5 py-1 rounded-full ring-1 ring-slate-500/10",children:"D\xe9sactiv\xe9e"})})]})]}),(0,wt.jsx)("div",{className:"flex items-center pt-2",children:(0,wt.jsx)("button",{onClick:async()=>{if(x({}),v({}),m.email_verified_at)if(m.two_factor_enabled){if(!window.confirm("\xcates-vous s\xfbr de vouloir d\xe9sactiver la double authentification ?"))return;try{(await is.post("/user/two-factor-authentication",{enabled:!1})).data.success&&(p(e=>o(o({},e),{},{two_factor_enabled:!1,is_2fa_enabled:!1})),z("Double authentification d\xe9sactiv\xe9e."))}catch(e){z("Erreur lors de la d\xe9sactivation.","error")}}else try{(await is.post("/user/two-factor-authentication/send-code")).data.success&&U(!0)}catch(e){z("Impossible d'initialiser la 2FA.","error")}else z("Veuillez v\xe9rifier votre email avant d'activer la 2FA.","error")},disabled:!m.is_email_verified||j||I,className:"relative inline-flex h-7 w-12 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 ".concat(m.is_2fa_enabled?"bg-blue-600":"bg-slate-200"," ").concat(!m.is_email_verified||j||I?"opacity-50 cursor-not-allowed":""),children:(0,wt.jsx)("span",{className:"pointer-events-none inline-block h-6 w-6 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat(m.is_2fa_enabled?"translate-x-5":"translate-x-0")})})})]}),!m.is_email_verified&&(0,wt.jsxs)("div",{className:"mt-4 p-3 bg-amber-50/50 border border-amber-100/50 rounded-lg flex gap-2 text-xs text-amber-800",children:[(0,wt.jsx)(Yi,{className:"w-4 h-4 flex-shrink-0"}),(0,wt.jsx)("span",{children:"V\xe9rifiez votre email avant d'activer la s\xe9curit\xe9 renforc\xe9e."})]}),m.is_2fa_enabled&&(0,wt.jsxs)("div",{className:"mt-4 p-3 bg-emerald-50/50 border border-emerald-100/50 rounded-lg flex gap-2 text-xs text-emerald-800",children:[(0,wt.jsx)(Ps,{className:"w-4 h-4 flex-shrink-0"}),(0,wt.jsx)("span",{children:"Votre compte est s\xe9curis\xe9 avec la double authentification."})]})]})]})]})]})]})]})};class CB{static setAuthToken(e){e?arguments.length>1&&void 0!==arguments[1]&&arguments[1]?localStorage.setItem("auth_token",e):sessionStorage.setItem("auth_token",e):(localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"))}static getAuthToken(){return localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token")}static setUserData(e){localStorage.setItem("user",JSON.stringify(e))}static getUserData(){try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return null}}static clearAuth(){localStorage.removeItem("auth_token"),sessionStorage.removeItem("auth_token"),localStorage.removeItem("user"),delete is.defaults.headers.common.Authorization}static initToken(){const e=this.getAuthToken();return e&&(is.defaults.headers.common.Authorization="Bearer ".concat(e)),e}static async login(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{this.clearAuth();const r=await is.post("/auth/login",{email:e,password:t,remember_me:n}),{token:s,user:a}=r.data;if(!s)throw new Error("No token received from server");return this.setAuthToken(s,n),this.setUserData(a),{success:!0,user:a,token:s,message:"Connexion r\xe9ussie"}}catch(s){var r;return 401===(null===(r=s.response)||void 0===r?void 0:r.status)?{success:!1,message:"Email ou mot de passe incorrect"}:this.handleError(s)}}static async logout(){try{await is.post("/auth/logout")}catch(e){}finally{this.clearAuth()}return{success:!0}}static async checkAuth(){try{var e;const t=this.getAuthToken();if(!t)return{isAuthenticated:!1,user:null};const n=await is.get("/check-auth"),r=(null===(e=n.data)||void 0===e?void 0:e.user)||n.data;return r?(this.setUserData(r),{isAuthenticated:!0,user:r,token:t}):(this.clearAuth(),{isAuthenticated:!1,user:null})}catch(n){var t;return 401===(null===(t=n.response)||void 0===t?void 0:t.status)?(this.clearAuth(),{isAuthenticated:!1,user:null}):{isAuthenticated:!1,user:null}}}static async getCurrentUser(){try{const e=(await is.get("/auth/user")).data;return this.setUserData(e),e}catch(e){return this.getUserData()}}static async getProfile(){try{return(await is.get("/profile")).data}catch(e){return this.handleError(e)}}static async getAllUsers(){try{return(await is.get("/users")).data}catch(e){return this.handleError(e)}}static async getAllTeamUsers(){return this.getAllUsers()}static async getUsersByRole(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n="agent"===e?"/users/agents":"investigateur"===e?"/users/investigateurs":"admin"===e?"/users/administrateurs":"/users";return(await is.get(n,{params:t})).data}catch(n){return this.handleError(n)}}static async getAgents(){try{return(await is.get("/users/agents")).data}catch(e){return this.handleError(e)}}static async getInvestigateurs(){try{return(await is.get("/users/investigateurs")).data}catch(e){return this.handleError(e)}}static async getAdministrateurs(){try{return(await is.get("/users/administrateurs")).data}catch(e){return this.handleError(e)}}static async createUser(e){try{const t={first_name:e.firstname,last_name:e.lastname,email:e.email,username:e.username,password:e.password,role:e.role,departement:e.departement,telephone:e.telephone,adresse:e.adresse,responsabilites:e.responsabilites,specialisations:e.specialisations,statut:e.statut,password_confirmation:e.passwordconfirmation};return(await is.post("/users",t)).data}catch(t){return this.handleError(t)}}static async createUserWithNotification(e){try{const t=e.first_name||e.firstname,n=e.last_name||e.lastname;if(!t)return{success:!1,message:"Le pr\xe9nom est requis"};if(!n)return{success:!1,message:"Le nom est requis"};let r=(e.role||"agent").toString().toLowerCase().trim();["admin","agent","investigateur"].includes(r)||(r="agent");const s={first_name:t,last_name:n,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation||e.passwordconfirmation,role:r,departement:e.departement,telephone:e.telephone,adresse:e.adresse,responsabilites:Array.isArray(e.responsabilites)?e.responsabilites:[],specialisations:Array.isArray(e.specialisations)?e.specialisations:[],statut:void 0===e.statut||e.statut};return(await is.post("/admin/users/create-with-notification",s)).data}catch(t){return this.handleError(t)}}static async updateUser(e,t){try{const n={first_name:t.firstname,last_name:t.lastname,email:t.email,username:t.username,role:t.role,departement:t.departement,telephone:t.telephone,adresse:t.adresse,responsabilites:t.responsabilites,specialisations:t.specialisations,statut:t.statut};t.password&&(n.password=t.password,n.password_confirmation=t.passwordconfirmation);return(await is.put("/users/".concat(e),n)).data}catch(n){return this.handleError(n)}}static async deleteUser(e){try{return(await is.delete("/users/".concat(e))).data}catch(t){return this.handleError(t)}}static async toggleStatus(e){try{return(await is.post("/users/".concat(e,"/toggle-status"))).data}catch(t){return this.handleError(t)}}static async resetPassword(e,t){try{return(await is.post("/users/".concat(e,"/reset-password"),{new_password:t.password,new_password_confirmation:t.passwordconfirmation})).data}catch(n){return this.handleError(n)}}static async restoreUser(e){try{return(await is.post("/users/".concat(e,"/restore"))).data}catch(t){return this.handleError(t)}}static async getStats(){try{return(await is.get("/users/stats")).data}catch(e){return this.handleError(e)}}static async getRoles(){try{return(await is.get("/users/roles")).data}catch(e){return this.handleError(e)}}static async getNotifications(){try{return(await is.get("/notifications")).data}catch(e){return this.handleError(e)}}static async getRecentNotifications(){try{return(await is.get("/notifications/recent")).data}catch(e){return this.handleError(e)}}static async getUnreadNotificationCount(){try{return(await is.get("/notifications/unread-count")).data}catch(e){return this.handleError(e)}}static async markNotificationAsRead(e){try{return(await is.post("/notifications/".concat(e,"/read"))).data}catch(t){return this.handleError(t)}}static async markAllNotificationsAsRead(){try{return(await is.post("/notifications/read-all")).data}catch(e){return this.handleError(e)}}static async getAuditJournal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await is.get("/journal-audit",{params:e})).data}catch(t){return this.handleError(t)}}static async exportAuditJournal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await is.post("/admin/audit/journal/export",e,{responseType:"blob"})).data}catch(t){return this.handleError(t)}}static async sendTwoFactorCode(){try{return(await is.post("/2fa/send-code")).data}catch(e){return this.handleError(e)}}static async verifyTwoFactorCode(e){try{return(await is.post("/2fa/verify",{code:e})).data}catch(t){return this.handleError(t)}}static async checkTwoFactorStatus(){try{return(await is.get("/2fa/status")).data}catch(e){return this.handleError(e)}}static async sendEmailVerificationCode(){try{return(await is.post("/email/verification-notification")).data}catch(e){return this.handleError(e)}}static async verifyEmail(e,t){try{return(await is.post("/email/verify",{code:e,email:t})).data}catch(n){return this.handleError(n)}}static async checkEmailVerificationStatus(){try{return(await is.get("/email/verification-status")).data}catch(e){return this.handleError(e)}}static async checkApiConnection(){try{return await is.get("/health"),!0}catch(e){return!1}}static async getSessionInfo(){try{return(await is.get("/debug/session")).data}catch(e){return this.handleError(e)}}static debugMethods(){return{methods:Object.getOwnPropertyNames(CB).filter(e=>"function"===typeof CB[e]).sort(),createUserWithNotificationExists:"function"===typeof CB.createUserWithNotification}}static formatUserForDisplay(e){const t=e=>{if(Array.isArray(e))return e;if(!e||""===e)return[];if("string"===typeof e&&e.trim().startsWith("[")&&e.trim().endsWith("]"))try{const t=JSON.parse(e);if(Array.isArray(t))return t}catch(NN){}return e.toString().split(",").map(e=>e.trim()).filter(e=>""!==e)};return{id:e.id,firstname:e.firstname||e.first_name||"",lastname:e.lastname||e.last_name||"",email:e.email||"",telephone:e.telephone||e.phone||"",departement:e.departement||"",username:e.username||"",role:e.role||"Agent",specialisations:t(e.specialisations),responsabilites:t(e.responsabilites),adresse:e.adresse||"",statut:void 0===e.statut||e.statut}}static handleError(e){if(e.response){const{status:r,data:s}=e.response;let a=(null===s||void 0===s?void 0:s.message)||(null===s||void 0===s?void 0:s.error)||"Une erreur est survenue";if(401===r)a="Votre session a expir\xe9, veuillez vous reconnecter",this.clearAuth();else if(403===r)a=(null===s||void 0===s?void 0:s.message)||"Acc\xe8s refus\xe9 - Droits insuffisants";else if(404===r)a="Ressource introuvable";else if(405===r){var t,n;a="M\xe9thode non autoris\xe9e (".concat(null===(t=e.config)||void 0===t||null===(n=t.method)||void 0===n?void 0:n.toUpperCase(),")")}else if(422===r)if(s.errors){const e=Object.values(s.errors)[0];a=Array.isArray(e)?e[0]:e}else a=(null===s||void 0===s?void 0:s.message)||"Donn\xe9es invalides";else 500===r&&(a="Erreur serveur interne. Veuillez r\xe9essayer.");return{success:!1,message:a,status:r,data:s}}return e.request?{success:!1,message:"Impossible de contacter le serveur",status:0,isNetworkError:!0}:{success:!1,message:e.message||"Erreur inconnue",status:-1}}}is.interceptors.request.use(e=>{const t=CB.getAuthToken();return t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),CB.initToken();const kB=CB,FB=Et("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),SB=Et("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),EB=Et("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),_B=Et("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),UB=[{id:"agents",label:"Agents",icon:ks,className:"w-4 h-4"},{id:"administrateurs",label:"Administrateurs",icon:tB,className:"w-4 h-4"}],QB=["DAAQ","DRSE"],LB=["DAAQ","DRSE","CAC","DAJ","Ministre"],IB=[{id:1,name:"Admin",code:"admin"},{id:2,name:"Agent",code:"agent"}],MB=e=>{if(console.log("parseStringToArray input:",e,typeof e),Array.isArray(e))return console.log("D\xe9j\xe0 un tableau, retourn\xe9:",e),e;if(!e||""===e)return console.log("Valeur vide, retourne tableau vide"),[];if("string"===typeof e){const t=e.trim();if(t.startsWith("[")&&t.endsWith("]"))try{const e=JSON.parse(t);return console.log("JSON pars\xe9:",e),Array.isArray(e)?e:[]}catch(NN){console.warn("\xc9chec du parsing JSON:",t,NN)}const n=e.split(",").map(e=>e.trim()).filter(e=>""!==e);return console.log("Split par virgule:",n),n}return console.log("Type non g\xe9r\xe9:",typeof e,"retourne tableau vide"),[]},DB=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("mapFormDataToPayload input:",{formData:e,firstname:e.firstname,lastname:e.lastname,role:e.role,specialisations:e.specialisations,responsabilites:e.responsabilites});const n=Array.isArray(e.specialisations)?e.specialisations:[],r=Array.isArray(e.responsabilites)?e.responsabilites:[],s=e.role?e.role.toLowerCase():"agent",a={name:"".concat(e.firstname||""," ").concat(e.lastname||"").trim(),first_name:e.firstname||"",last_name:e.lastname||"",email:e.email||"",phone:e.telephone||"",telephone:e.telephone||"",departement:e.departement||"",username:e.username||"",role:s,responsabilites:r,specialisations:n,adresse:e.adresse||"",statut:void 0===e.statut||e.statut};return t&&e.password&&(a.password=e.password,a.password_confirmation=e.passwordconfirmation),Object.keys(a).forEach(e=>{""!==a[e]&&null!==a[e]&&void 0!==a[e]||delete a[e]}),console.log("Payload envoy\xe9 au backend (corrig\xe9):",a),a},PB=e=>{var t;if(!e)return"Non d\xe9fini";const n="string"===typeof e?e.toLowerCase():null===(t=e.code)||void 0===t?void 0:t.toLowerCase(),r=IB.find(e=>e.code===n);return r?r.name:e};function TB(e){let{password:t,errors:n={}}=e;const r=[{label:"8 caract\xe8res minimum",met:t.length>=8},{label:"Premi\xe8re lettre en majuscule",met:/[A-Z]/.test(t)},{label:"Au moins un chiffre",met:/\d/.test(t)},{label:"Au moins un caract\xe8re sp\xe9cial",met:/[!@#$%^&*(),.?":{}|<>]/.test(t)}],s=r.every(e=>e.met);return(0,wt.jsxs)("div",{className:"space-y-2 mt-2 p-3 bg-gray-50 rounded-lg",children:[(0,wt.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"S\xe9curit\xe9 du mot de passe"}),(0,wt.jsx)("div",{className:"grid grid-cols-1 gap-1",children:r.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e.met?(0,wt.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs",children:"\u2713"}):(0,wt.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-200 border border-gray-300"}),(0,wt.jsx)("span",{className:e.met?"text-green-700 font-medium":"text-red-600 font-medium",children:e.label})]},t))}),n.password&&(0,wt.jsx)("div",{className:"text-xs text-red-600 font-medium mt-1",children:n.password}),s&&(0,wt.jsxs)("div",{className:"text-xs text-green-600 font-bold mt-1 flex items-center",children:[(0,wt.jsx)(tB,{className:"w-3 h-3 mr-1"}),"Mot de passe s\xe9curis\xe9"]})]})}function OB(e){let{message:t,type:n="error",show:r,onClose:s,details:a=null}=e;return(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-[9999] transition-all duration-500 transform ".concat(r?"translate-x-0 opacity-100":"translate-x-full opacity-0"),children:(0,wt.jsxs)("div",{className:"border-l-4 ".concat((()=>{switch(n){case"success":return"border-green-500 bg-green-50";case"warning":return"border-yellow-500 bg-yellow-50";case"info":return"border-blue-500 bg-blue-50";default:return"border-red-500 bg-red-50"}})()," rounded-lg shadow-2xl p-4 w-96 max-w-full flex items-start"),children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(n){case"success":return(0,wt.jsx)(ws,{className:"h-6 w-6 text-green-500"});case"warning":return(0,wt.jsx)("svg",{className:"h-6 w-6 text-yellow-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.998-.833-2.732 0L4.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":return(0,wt.jsx)("svg",{className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,wt.jsx)(Ut,{className:"h-6 w-6 text-red-500"})}})()}),(0,wt.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,wt.jsx)("p",{className:"text-sm font-bold text-gray-900 leading-5",children:(()=>{switch(n){case"success":return"Succ\xe8s";case"warning":return"Avertissement";case"info":return"Information";default:return"Erreur de validation"}})()}),(0,wt.jsx)("p",{className:"mt-1 text-sm leading-5 text-gray-600",children:t}),a&&(0,wt.jsxs)("div",{className:"mt-2 p-2 bg-white rounded border border-gray-200",children:[(0,wt.jsx)("p",{className:"text-xs font-medium text-gray-700",children:"D\xe9tails :"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:a})]})]}),(0,wt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,wt.jsx)("button",{onClick:s,className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-500 transition ease-in-out duration-150",children:(0,wt.jsx)(Lt,{className:"h-5 w-5"})})})]})})}function HB(e){let{show:t,title:n,message:r,onConfirm:s,onCancel:a,confirmText:i="Confirmer",cancelText:o="Annuler"}=e;return t?(0,wt.jsx)("div",{className:"fixed inset-0 z-[10000] overflow-y-auto",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center",children:[(0,wt.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:a}),(0,wt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,wt.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[(0,wt.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,wt.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,wt.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,wt.jsx)("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,wt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,wt.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[(0,wt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:n}),(0,wt.jsx)("div",{className:"mt-2",children:(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:r})})]})]})}),(0,wt.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[(0,wt.jsx)("button",{type:"button",onClick:s,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",children:i}),(0,wt.jsx)("button",{type:"button",onClick:a,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:o})]})]})]})}):null}const RB=()=>{const[e,n]=(0,t.useState)("agents"),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!1),[l,A]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)({lastname:"",firstname:"",email:"",telephone:"",departement:"",username:"",password:"",passwordconfirmation:"",role:"Agent",specialisations:[],responsabilites:[],adresse:"",statut:!0}),[x,b]=(0,t.useState)({}),[v,y]=(0,t.useState)(!1),[w,B]=(0,t.useState)(null),[N,j]=(0,t.useState)({password:"",passwordconfirmation:""}),[C,k]=(0,t.useState)({search:"",departement:"",statut:""}),[F,S]=(0,t.useState)(!1),[E,_]=(0,t.useState)(!1),[U,Q]=(0,t.useState)(!1),[L,I]=(0,t.useState)(!1),[M,D]=(0,t.useState)({show:!1,message:"",type:"error",details:null}),[P,T]=(0,t.useState)({show:!1,title:"",message:"",userId:null,action:null});(0,t.useEffect)(()=>{K()},[e]);const O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";D({show:!0,message:e,type:t,details:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null});setTimeout(()=>{D(e=>o(o({},e),{},{show:!1}))},"error"===t?7e3:5e3)},H=(e,t)=>{const n="email"===e?"Email":"Nom d'utilisateur",r=t.map(e=>"\u2022 ".concat(e.firstname||""," ").concat(e.lastname||""," (").concat(e.email||e.username,")")).join("\n"),s="".concat(n," d\xe9j\xe0 utilis\xe9"),a="Cette ".concat("email"===e?"adresse email":"valeur"," est d\xe9j\xe0 associ\xe9e \xe0 :\n").concat(r);O(s,"error",a)},R=(e,t,n,r)=>{T({show:!0,title:e,message:t,userId:n,action:r})},z=()=>{T({show:!1,title:"",message:"",userId:null,action:null})},K=async()=>{i(!0),A(null);try{const e=await kB.getAllUsers();let t=[];Array.isArray(e)?t=e:null!==e&&void 0!==e&&e.users?t=e.users:null!==e&&void 0!==e&&e.data&&(t=e.data);const n=t.map(e=>({id:e.id,firstname:e.firstname||e.first_name||"",lastname:e.lastname||e.last_name||"",email:e.email||"",telephone:e.telephone||e.phone||"",departement:e.departement||"",username:e.username||"",role:e.role||"Agent",specialisations:MB(e.specialisations),responsabilites:MB(e.responsabilites),adresse:e.adresse||"",statut:void 0===e.statut||e.statut,fullName:e.full_name||"".concat(e.firstname||""," ").concat(e.lastname||"").trim()}));s(n||[])}catch(e){console.error("Erreur chargement",e),A("Impossible de charger les utilisateurs."),O("Impossible de charger les utilisateurs.","error"),s([])}finally{i(!1)}},V=(e,t)=>{const n={};switch(e){case"lastname":t.trim()||(n.lastname="Le nom est requis");break;case"firstname":t.trim()||(n.firstname="Le pr\xe9nom est requis");break;case"email":t.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(n.email="Format d'email invalide"):n.email="L'email est requis";break;case"telephone":t&&!/^\+?[0-9\s\-\(\)]{10,}$/.test(t.replace(/\s/g,""))&&(n.telephone="Num\xe9ro de t\xe9l\xe9phone invalide (chiffres uniquement)");break;case"username":t.trim()||(n.username="Le nom d'utilisateur est requis");break;case"departement":t||(n.departement="Le d\xe9partement est requis");break;case"password":t?t.length<8?n.password="8 caract\xe8res minimum":/[A-Z]/.test(t)?/\d/.test(t)?/[!@#$%^&*(),.?":{}|<>]/.test(t)||(n.password="Au moins un caract\xe8re sp\xe9cial"):n.password="Au moins un chiffre":n.password="Premi\xe8re lettre en majuscule":n.password="Le mot de passe est requis";break;case"passwordconfirmation":p.password&&t!==p.password&&(n.passwordconfirmation="Les mots de passe ne correspondent pas")}return n},q=()=>{const e={};return Object.keys(p).forEach(t=>{if("specialisations"!==t&&"responsabilites"!==t&&"adresse"!==t&&"statut"!==t){const n=V(t,p[t]);n[t]&&(e[t]=n[t])}}),d&&(delete e.password,delete e.passwordconfirmation),e},W=e=>{const{name:t,value:n}=e.target;let s=n;"telephone"===t&&(s=n.replace(/[^\d\+\s\-]/g,"")),g(e=>o(o({},e),{},{[t]:s}));const a=V(t,s),i=o({},x);if(a[t]?i[t]=a[t]:delete i[t],"email"===t&&n&&!d){r.some(e=>e.email.toLowerCase()===n.toLowerCase())?i.email="Cet email est d\xe9j\xe0 utilis\xe9 par un autre utilisateur":i.email&&i.email.includes("d\xe9j\xe0 utilis\xe9")&&delete i.email}if("username"===t&&n&&!d){r.some(e=>e.username.toLowerCase()===n.toLowerCase())?i.username="Ce nom d'utilisateur est d\xe9j\xe0 pris":i.username&&i.username.includes("d\xe9j\xe0 pris")&&delete i.username}if(d&&f){if("email"===t&&n){r.some(e=>e.email.toLowerCase()===n.toLowerCase()&&e.id!==f.id)?i.email="Cet email est d\xe9j\xe0 utilis\xe9 par un autre utilisateur":i.email&&i.email.includes("d\xe9j\xe0 utilis\xe9")&&delete i.email}if("username"===t&&n){r.some(e=>e.username.toLowerCase()===n.toLowerCase()&&e.id!==f.id)?i.username="Ce nom d'utilisateur est d\xe9j\xe0 pris":i.username&&i.username.includes("d\xe9j\xe0 pris")&&delete i.username}}b(i)},G=(e,t)=>{if("Enter"===e.key||","===e.key){e.preventDefault();const n=e.target,r=n.value.trim().replace(/,$/,"");r&&!p[t].includes(r)&&(g(e=>o(o({},e),{},{[t]:[...e[t],r]})),n.value="")}},Y=(e,t)=>{g(n=>o(o({},n),{},{[e]:n[e].filter((e,n)=>n!==t)}))},J=()=>{u(!1),m(null),b({})},X=()=>{y(!1),B(null)},Z=e=>{const{name:t,value:n}=e.target;j(e=>o(o({},e),{},{[t]:n}))},$=r.filter(t=>{var n;const r=C.search.toLowerCase(),s="".concat(t.lastname||""," ").concat(t.firstname||"").trim();let a="agent";"administrateurs"===e&&(a="admin");const i=(("string"===typeof t.role?t.role:null===(n=t.role)||void 0===n?void 0:n.code)||"").toLowerCase()===a,o=!C.search||s.toLowerCase().includes(r)||(t.email||"").toLowerCase().includes(r)||(t.username||"").toLowerCase().includes(r),l=!C.departement||t.departement===C.departement,A=!C.statut||("actif"===C.statut?t.statut:!t.statut);return i&&o&&l&&A}),ee=()=>{const e=["lastname","firstname","email","departement","username"];d||e.push("password","passwordconfirmation");for(const n of e)if(!p[n]||""===p[n].toString().trim())return!1;const t=q();return!(Object.keys(t).length>0)&&((!x.email||!x.email.includes("d\xe9j\xe0 utilis\xe9"))&&(!x.username||!x.username.includes("d\xe9j\xe0 pris")))};function te(e){let{password:t}=e;const n=[{label:"8 caract\xe8res minimum",met:t.length>=8},{label:"Premi\xe8re lettre en majuscule",met:/[A-Z]/.test(t)},{label:"Au moins un chiffre",met:/\d/.test(t)},{label:"Au moins un caract\xe8re sp\xe9cial",met:/[!@#$%^&*(),.?":{}|<>]/.test(t)}],r=n.every(e=>e.met);return(0,wt.jsxs)("div",{className:"space-y-2 mt-2 p-3 bg-gray-50 rounded-lg",children:[(0,wt.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"S\xe9curit\xe9 du mot de passe"}),(0,wt.jsx)("div",{className:"grid grid-cols-1 gap-1",children:n.map((e,t)=>(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e.met?(0,wt.jsx)("div",{className:"w-4 h-4 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-xs",children:"\u2713"}):(0,wt.jsx)("div",{className:"w-4 h-4 rounded-full bg-gray-200 border border-gray-300"}),(0,wt.jsx)("span",{className:e.met?"text-green-700 font-medium":"text-red-600 font-medium",children:e.label})]},t))}),r&&(0,wt.jsxs)("div",{className:"text-xs text-green-600 font-bold mt-1 flex items-center",children:[(0,wt.jsx)(tB,{className:"w-3 h-3 mr-1"}),"Mot de passe s\xe9curis\xe9"]})]})}return(0,wt.jsxs)("div",{className:"min-h-screen bg-gray-50/50 p-6",children:[(0,wt.jsx)(OB,{message:M.message,type:M.type,show:M.show,onClose:()=>D(e=>o(o({},e),{},{show:!1})),details:M.details}),(0,wt.jsx)(HB,{show:P.show,title:P.title,message:P.message,onConfirm:async()=>{const{userId:e,action:t}=P;if(e){try{"delete"===t?(await kB.deleteUser(e),O("Utilisateur supprim\xe9 avec succ\xe8s","success"),K()):"toggleStatus"===t&&(await kB.toggleStatus(e),O("Statut utilisateur mis \xe0 jour","success"),K())}catch(n){O("Erreur ".concat("delete"===t?"lors de la suppression":"lors de la mise \xe0 jour du statut"),"error")}z()}else z()},onCancel:z,confirmText:"Confirmer",cancelText:"Annuler"}),(0,wt.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion d'\xe9quipe"}),(0,wt.jsx)("p",{className:"text-gray-500 mt-1",children:"Administration des acc\xe8s et des r\xf4les du personnel"})]}),(0,wt.jsxs)("button",{onClick:()=>{h(!1),m(null);let t="agent",n="DAAQ";"administrateurs"===e?(t="admin",n="DAAQ"):"agents"===e&&(t="agent",n="DAAQ"),g({lastname:"",firstname:"",email:"",telephone:"",departement:n,username:"",password:"",passwordconfirmation:"",role:t,specialisations:[],responsabilites:[],adresse:"",statut:!0}),b({}),S(!1),_(!1),u(!0),console.log("Modal cr\xe9ation ouvert:",{defaultRole:t,defaultDept:n})},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[(0,wt.jsx)(om,{className:"w-4 h-4 mr-2"}),"Nouvel utilisateur"]})]}),(0,wt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1",children:(0,wt.jsx)("div",{className:"flex space-x-1 overflow-x-auto",children:UB.map(t=>(0,wt.jsxs)("button",{onClick:()=>n(t.id),className:"flex items-center px-4 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 whitespace-nowrap ".concat(e===t.id?"bg-blue-50 text-blue-700 shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,wt.jsx)(t.icon,{className:"mr-2 ".concat(t.className)}),(0,wt.jsx)("span",{children:t.label})]},t.id))})}),(0,wt.jsxs)("div",{className:"space-y-4",children:[(0,wt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,wt.jsx)("div",{className:"md:col-span-2",children:(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(js,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",placeholder:"Rechercher un membre...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",value:C.search,onChange:e=>k(t=>o(o({},t),{},{search:e.target.value}))})]})}),(0,wt.jsxs)("select",{value:C.departement,onChange:e=>k(t=>o(o({},t),{},{departement:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[(0,wt.jsx)("option",{value:"",children:"Tous les d\xe9partements"}),"agents"===e&&QB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e)),"administrateurs"===e&&LB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]}),(0,wt.jsxs)("select",{value:C.statut,onChange:e=>k(t=>o(o({},t),{},{statut:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white",children:[(0,wt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,wt.jsx)("option",{value:"actif",children:"Actifs uniquement"}),(0,wt.jsx)("option",{value:"inactif",children:"Inactifs uniquement"})]})]})}),(0,wt.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[(0,wt.jsxs)("div",{className:"text-sm text-gray-600",children:[$.length," r\xe9sultat",1!==$.length?"s":""," trouv\xe9",1!==$.length?"s":""]}),(0,wt.jsxs)("button",{onClick:()=>((e,t)=>{if(!e||0===e.length)return void alert("Aucune donn\xe9e \xe0 exporter");const n=[["ID","Pr\xe9nom","Nom","Email","T\xe9l\xe9phone","D\xe9partement","Nom d'Utilisateur","R\xf4le","Statut","Sp\xe9cialisations","Responsabilit\xe9s","Adresse"].join(","),...e.map(e=>[e.id,e.firstname||e.first_name||"",e.lastname||e.last_name||"",e.email||"",e.telephone||e.phone||"",e.departement||"",e.username||"",PB(e.role),e.statut?"Actif":"Inactif",Array.isArray(e.specialisations)?e.specialisations.join(", "):e.specialisations||"",Array.isArray(e.responsabilites)?e.responsabilites.join(", "):e.responsabilites||"",e.adresse||""].join(","))].join("\n"),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),a=URL.createObjectURL(r);s.setAttribute("href",a),s.setAttribute("download","".concat(t,"_").concat((new Date).toISOString().split("T")[0],".csv")),document.body.appendChild(s),s.click(),document.body.removeChild(s)})($,"equipe-".concat(e)),className:"inline-flex items-center px-3 py-2 text-sm bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[(0,wt.jsx)(Qs,{className:"w-4 h-4 mr-2"}),"Exporter CSV"]})]})]}),(0,wt.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:a?(0,wt.jsxs)("div",{className:"p-10 text-center text-gray-500",children:[(0,wt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,wt.jsx)("p",{className:"mt-2",children:"Chargement des donn\xe9es..."})]}):l?(0,wt.jsxs)("div",{className:"p-10 text-center",children:[(0,wt.jsx)(Ut,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),(0,wt.jsx)("p",{className:"text-red-600 font-medium",children:l})]}):(0,wt.jsx)("div",{className:"overflow-x-auto",children:(0,wt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,wt.jsx)("thead",{className:"bg-gray-50",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Poste"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"R\xf4le"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,wt.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,wt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===$.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:7,className:"px-6 py-10 text-center text-gray-500",children:(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,wt.jsx)(js,{className:"w-10 h-10 text-gray-300 mb-2"}),(0,wt.jsx)("p",{children:"Aucun utilisateur trouv\xe9"}),(0,wt.jsx)("p",{className:"text-sm text-gray-400",children:"Essayez de modifier vos filtres de recherche."})]})})}):$.map(e=>{const t=e.lastname||e.firstname?"".concat(e.lastname||""," ").concat(e.firstname||"").trim():"Sans nom...",n="Sans nom..."!==t?t.charAt(0).toUpperCase():"?";return(0,wt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.id})}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wt.jsxs)("div",{className:"flex items-center",children:[(0,wt.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-bold text-sm",children:n}),(0,wt.jsxs)("div",{className:"ml-4",children:[(0,wt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t}),(0,wt.jsx)("div",{className:"text-xs text-gray-500",children:e.username||"Aucun username"})]})]})}),(0,wt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,wt.jsx)("div",{className:"text-sm text-gray-900",children:e.email||"Aucun email"}),(0,wt.jsx)("div",{className:"text-xs text-gray-500",children:e.telephone||"-"})]}),(0,wt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,wt.jsx)("div",{className:"text-sm text-gray-900",children:e.departement||"Non d\xe9fini"}),(0,wt.jsxs)("div",{className:"mt-1 space-y-1",children:[e.responsabilites&&e.responsabilites.length>0&&(0,wt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.responsabilites.slice(0,2).map((e,t)=>(0,wt.jsx)("span",{className:"text-xs bg-blue-50 text-blue-700 px-1.5 py-0.5 rounded-full",children:e},"resp-".concat(t))),e.responsabilites.length>2&&(0,wt.jsxs)("span",{className:"text-xs text-gray-400",children:["+",e.responsabilites.length-2]})]}),e.specialisations&&e.specialisations.length>0&&(0,wt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.specialisations.slice(0,2).map((e,t)=>(0,wt.jsx)("span",{className:"text-xs bg-purple-50 text-purple-700 px-1.5 py-0.5 rounded-full",children:e},"spec-".concat(t))),e.specialisations.length>2&&(0,wt.jsxs)("span",{className:"text-xs text-gray-400",children:["+",e.specialisations.length-2]})]})]})]}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wt.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Admin"===e.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:PB(e.role)})}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,wt.jsx)("button",{onClick:()=>(e=>{const t=r.find(t=>t.id===e),n=!!t&&!t.statut;R("Changer le statut de l'utilisateur","\xcates-vous s\xfbr de vouloir ".concat(n?"activer":"d\xe9sactiver"," cet utilisateur ?"),e,"toggleStatus")})(e.id),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer transition-colors ".concat(e.statut?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"),children:e.statut?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(FB,{className:"w-3 h-3 mr-1"}),"Actif"]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(SB,{className:"w-3 h-3 mr-1"}),"Inactif"]})})}),(0,wt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,wt.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{console.log("Donn\xe9es utilisateur originales:",e),h(!0),m(e);const t=MB(e.specialisations),n=MB(e.responsabilites);let r=e.role||"agent";"string"===typeof r&&(r=r.toLowerCase());let s=e.departement||"";s||("agent"===r||"admin"===r?s="DAAQ":"investigateur"===r&&(s="DRSE")),g({lastname:e.lastname||e.last_name||"",firstname:e.firstname||e.first_name||"",email:e.email||"",telephone:e.telephone||"",departement:s,username:e.username||"",password:"",passwordconfirmation:"",role:r,specialisations:t,responsabilites:n,adresse:e.adresse||"",statut:void 0===e.statut||e.statut}),b({}),S(!1),_(!1),u(!0),console.log("Modal \xe9dition ouvert:",{userRole:r,userDepartement:s})})(e),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded",title:"Modifier l'utilisateur",children:(0,wt.jsx)(sm,{className:"w-4 h-4"})}),(0,wt.jsx)("button",{onClick:()=>(e=>{B(e),j({password:"",passwordconfirmation:""}),Q(!1),I(!1),y(!0)})(e),className:"text-orange-400 hover:text-orange-600 p-1 hover:bg-orange-50 rounded",title:"Modifier le mot de passe",children:(0,wt.jsx)(EB,{className:"w-4 h-4"})}),(0,wt.jsx)("button",{onClick:()=>{return t=e.id,void R("Supprimer cet utilisateur ?","Cette action est irr\xe9versible. L'utilisateur sera d\xe9finitivement supprim\xe9.",t,"delete");var t},className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded",title:"Supprimer l'utilisateur",children:(0,wt.jsx)(am,{className:"w-4 h-4"})})]})})]},e.id)})})]})})}),c&&(0,wt.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center sm:block sm:p-0",children:[(0,wt.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:J}),(0,wt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,wt.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:(0,wt.jsxs)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[(0,wt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 flex items-center",children:d?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(sm,{className:"w-5 h-5 mr-2 text-orange-500"}),"Modifier l'Utilisateur"]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(om,{className:"w-5 h-5 mr-2 text-blue-600"}),"Nouvel Utilisateur"]})}),(0,wt.jsx)("button",{onClick:J,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,wt.jsx)(Lt,{className:"h-6 w-6"})})]}),(0,wt.jsxs)("form",{onSubmit:async e=>{var t,n;e.preventDefault(),console.log("Formulaire avant envoi - formData:",p),console.log("Valeurs sp\xe9cifiques:",{firstname:p.firstname,lastname:p.lastname,email:p.email});const s=null===(t=e.nativeEvent.submitter)||void 0===t||null===(n=t.dataset)||void 0===n?void 0:n.action;if(!d){const e=r.filter(e=>e.email.toLowerCase()===p.email.toLowerCase());if(e.length>0)return H("email",e),b(e=>o(o({},e),{},{email:"Cet email est d\xe9j\xe0 utilis\xe9"})),void console.log("Utilisateurs existants avec cet email:",e);const t=r.filter(e=>e.username.toLowerCase()===p.username.toLowerCase());if(t.length>0)return H("username",t),b(e=>o(o({},e),{},{username:"Ce nom d'utilisateur est d\xe9j\xe0 pris"})),void console.log("Utilisateurs existants avec ce username:",t)}if(d&&f){const e=r.filter(e=>e.email.toLowerCase()===p.email.toLowerCase()&&e.id!==f.id);if(e.length>0)return H("email",e),void b(e=>o(o({},e),{},{email:"Cet email est d\xe9j\xe0 utilis\xe9"}));const t=r.filter(e=>e.username.toLowerCase()===p.username.toLowerCase()&&e.id!==f.id);if(t.length>0)return H("username",t),void b(e=>o(o({},e),{},{username:"Ce nom d'utilisateur est d\xe9j\xe0 pris"}))}const a=q();if(Object.keys(a).length>0)return b(a),void O("Veuillez corriger les erreurs dans le formulaire.","error");try{let e;if(!d){const t=DB(p,!0);if(console.log("Payload cr\xe9ation avec notification:",t),!t.first_name||!t.last_name)return void O("Erreur: Pr\xe9nom ou nom manquant","error");if(e=await kB.createUserWithNotification(t),console.log("R\xe9sultat cr\xe9ation:",e),e&&e.success)return O(e.message||"Compte utilisateur cr\xe9\xe9 avec succ\xe8s. Un email a \xe9t\xe9 envoy\xe9 \xe0 l'utilisateur.","success"),J(),void K();var i,l,A,c,u,h,m,g;if(422===(null===(i=e)||void 0===i?void 0:i.status))if(null!==(l=e.message)&&void 0!==l&&l.includes("email")||null!==(A=e.data)&&void 0!==A&&null!==(c=A.errors)&&void 0!==c&&c.email){const e=r.filter(e=>e.email.toLowerCase()===p.email.toLowerCase());H("email",e)}else if(null!==(u=e.message)&&void 0!==u&&u.includes("username")||null!==(h=e.data)&&void 0!==h&&null!==(m=h.errors)&&void 0!==m&&m.username){const e=r.filter(e=>e.username.toLowerCase()===p.username.toLowerCase());H("username",e)}else{var x;O((null===(x=e)||void 0===x?void 0:x.message)||"Erreur lors de la cr\xe9ation de l'utilisateur","error")}else O((null===(g=e)||void 0===g?void 0:g.message)||"Erreur lors de la cr\xe9ation de l'utilisateur","error")}if(!f)return void O("Aucun utilisateur s\xe9lectionn\xe9","error");if("info"===s){const t=DB(p,!1);var v;if(console.log("Payload mise \xe0 jour:",t),e=await kB.updateUser(f.id,t),e&&e.success)O("Informations mises \xe0 jour avec succ\xe8s","success"),J(),K();else O((null===(v=e)||void 0===v?void 0:v.message)||"Erreur lors de la mise \xe0 jour","error")}}catch(C){var y,w,B;console.error("Erreur compl\xe8te:",C);let e="Une erreur est survenue";if(422===(null===(y=C.response)||void 0===y?void 0:y.status)){var N,j;const e=(null===(N=C.response.data)||void 0===N?void 0:N.data)||(null===(j=C.response.data)||void 0===j?void 0:j.errors)||{};if(e.email){const e=r.filter(e=>e.email.toLowerCase()===p.email.toLowerCase());return void H("email",e)}if(e.username){const e=r.filter(e=>e.username.toLowerCase()===p.username.toLowerCase());return void H("username",e)}let t="Erreur de validation : ";const n=[];return Object.entries(e).forEach(e=>{let[t,r]=e;Array.isArray(r)&&n.push("".concat(t,": ").concat(r.join(", ")))}),n.length>0?t+=n.join(", "):t="Donn\xe9es invalides. Veuillez v\xe9rifier les informations saisies.",void O(t,"error")}C.message&&C.message.includes("createUserWithNotification is not a function")?(e="Erreur technique : La fonction de cr\xe9ation avec notification n'est pas disponible. Contactez l'administrateur.",console.error("Fonction manquante dans UserService:",C)):C.message?e=C.message:null!==(w=C.response)&&void 0!==w&&null!==(B=w.data)&&void 0!==B&&B.message&&(e=C.response.data.message),O("Erreur: ".concat(e),"error")}},className:"space-y-6",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:"text",name:"lastname",value:p.lastname,onChange:W,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all ".concat(x.lastname?"border-red-500":"border-gray-300"),placeholder:"Ex: Dupont",required:!0}),x.lastname&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.lastname})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pr\xe9nom ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:"text",name:"firstname",value:p.firstname,onChange:W,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all ".concat(x.firstname?"border-red-500":"border-gray-300"),placeholder:"ex: Jean",required:!0}),x.firstname&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.firstname})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"}),p.email&&!d&&r.some(e=>e.email.toLowerCase()===p.email.toLowerCase())&&(0,wt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 utilis\xe9"}),p.email&&d&&f&&r.some(e=>e.email.toLowerCase()===p.email.toLowerCase()&&e.id!==f.id)&&(0,wt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 utilis\xe9 par un autre utilisateur"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Es,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"email",name:"email",value:p.email,onChange:W,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ".concat(x.email?"border-red-500":"border-gray-300"),placeholder:"jean.dupont@fosika.mg",required:!0})]}),x.email&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.email})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Ss,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",name:"telephone",value:p.telephone,onChange:W,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none ".concat(x.telephone?"border-red-500":"border-gray-300"),placeholder:"+261 3X XX XXX XX"})]}),x.telephone&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.telephone})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom d'utilisateur"," ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"}),p.username&&!d&&r.some(e=>e.username.toLowerCase()===p.username.toLowerCase())&&(0,wt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 pris"}),p.username&&d&&f&&r.some(e=>e.username.toLowerCase()===p.username.toLowerCase()&&e.id!==f.id)&&(0,wt.jsx)("span",{className:"ml-2 text-xs text-red-600 bg-red-50 px-2 py-0.5 rounded",children:"\u26a0\ufe0f D\xe9j\xe0 pris par un autre utilisateur"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(ks,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",name:"username",value:p.username,onChange:W,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none placeholder:text-gray-400 ".concat(x.username?"border-red-500":"border-gray-300"),placeholder:"Ex: jdupont",required:!d})]}),x.username&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.username})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["R\xf4le ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(tB,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsxs)("select",{name:"role",value:p.role,onChange:e=>{const t=e.target.value.toLowerCase();let n="";"agent"===t||"admin"===t?n="DAAQ":"investigateur"===t&&(n="DRSE"),g(e=>o(o({},e),{},{role:t,departement:n}));const r=V("departement",n);b(e=>o(o({},e),{},{departement:r.departement})),console.log("Role chang\xe9:",{newRole:t,defaultDepartement:n})},className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none bg-white appearance-none",children:[(0,wt.jsx)("option",{value:"agent",children:"Agent"}),(0,wt.jsx)("option",{value:"admin",children:"Admin"}),(0,wt.jsx)("option",{value:"investigateur",children:"Investigateur"})]})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["D\xe9partement ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(_B,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,wt.jsxs)("select",{name:"departement",value:p.departement,onChange:W,className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none appearance-none bg-white ".concat(x.departement?"border-red-500":"border-gray-300"),required:!0,children:[(0,wt.jsx)("option",{value:"",children:"S\xe9lectionner..."}),(()=>{const e=p.role;return console.log("getAvailableDepartements appel\xe9 avec r\xf4le:",e),"agent"===e?(console.log("D\xe9partements pour agent:",QB),QB):"admin"===e?(console.log("D\xe9partements pour admin:",LB),LB):"investigateur"===e?(console.log("D\xe9partements pour investigateur:",QB),QB):(console.log("R\xf4le non reconnu, retourne tableau vide"),[])})().map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]})]}),x.departement&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-1",children:x.departement}),(0,wt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["agent"===p.role&&"D\xe9partements disponibles: DAAQ, DRSE","admin"===p.role&&"D\xe9partements disponibles: DAAQ, DRSE, CAC, DAJ, Ministre","investigateur"===p.role&&"D\xe9partements disponibles: DAAQ, DRSE"]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsabilit\xe9s"}),(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("input",{type:"text",id:"responsabilites-input",className:"flex-1 px-3 py-2 border rounded-lg text-sm",placeholder:"Ex: Gestion de projet...",onKeyDown:e=>G(e,"responsabilites")}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=document.getElementById("responsabilites-input"),t=e.value.trim();t&&!p.responsabilites.includes(t)&&(g(e=>o(o({},e),{},{responsabilites:[...e.responsabilites,t]})),e.value="")},className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm hover:bg-blue-200",children:"Ajouter"})]}),(0,wt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[p.responsabilites.map((e,t)=>(0,wt.jsxs)("span",{className:"bg-blue-50 text-blue-700 text-xs px-3 py-1.5 rounded-full flex items-center",children:[e,(0,wt.jsx)("button",{type:"button",onClick:()=>Y("responsabilites",t),className:"ml-2 hover:text-blue-900 text-sm",children:"\xd7"})]},t)),0===p.responsabilites.length&&(0,wt.jsx)("span",{className:"text-gray-400 text-xs italic",children:"Aucune responsabilit\xe9 d\xe9finie"})]}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Appuyez sur Entr\xe9e ou virgule, ou utilisez le bouton "Ajouter"'})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sp\xe9cialisations"}),(0,wt.jsxs)("div",{className:"space-y-2",children:[(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("input",{type:"text",id:"specialisations-input",className:"flex-1 px-3 py-2 border rounded-lg text-sm",placeholder:"Ex: Fraude, Corruption...",onKeyDown:e=>G(e,"specialisations")}),(0,wt.jsx)("button",{type:"button",onClick:()=>{const e=document.getElementById("specialisations-input"),t=e.value.trim();t&&!p.specialisations.includes(t)&&(g(e=>o(o({},e),{},{specialisations:[...e.specialisations,t]})),e.value="")},className:"px-3 py-2 bg-purple-100 text-purple-700 rounded-lg text-sm hover:bg-purple-200",children:"Ajouter"})]}),(0,wt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[p.specialisations.map((e,t)=>(0,wt.jsxs)("span",{className:"bg-purple-50 text-purple-700 text-xs px-3 py-1.5 rounded-full flex items-center",children:[e,(0,wt.jsx)("button",{type:"button",onClick:()=>Y("specialisations",t),className:"ml-2 hover:text-purple-900 text-sm",children:"\xd7"})]},t)),0===p.specialisations.length&&(0,wt.jsx)("span",{className:"text-gray-400 text-xs italic",children:"Aucune sp\xe9cialisation d\xe9finie"})]}),(0,wt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Appuyez sur Entr\xe9e ou virgule, ou utilisez le bouton "Ajouter"'})]})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),(0,wt.jsx)("input",{type:"text",name:"adresse",value:p.adresse,onChange:W,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Adresse physique..."})]}),!d&&(0,wt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200 mt-4",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Mot de passe"," ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:F?"text":"password",name:"password",value:p.password,onChange:W,className:"w-full px-3 py-2 border rounded-md text-sm pr-10 placeholder:text-gray-400 ".concat(x.password?"border-red-500":"border-gray-300"),placeholder:"Cr\xe9er un mot de passe",required:!0}),(0,wt.jsx)("button",{type:"button",onClick:()=>S(!F),className:"absolute right-3 top-9 h-4 w-4 text-gray-400 hover:text-gray-600",children:F?(0,wt.jsx)(dB,{size:16}):(0,wt.jsx)(Us,{size:16})})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:["Confirmation"," ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:E?"text":"password",name:"passwordconfirmation",value:p.passwordconfirmation,onChange:W,className:"w-full px-3 py-2 border rounded-md text-sm pr-10 placeholder:text-gray-400 ".concat(x.passwordconfirmation?"border-red-500":"border-gray-300"),placeholder:"R\xe9p\xe9ter le mot de passe"}),(0,wt.jsx)("button",{type:"button",onClick:()=>_(!E),className:"absolute right-3 top-9 h-4 w-4 text-gray-400 hover:text-gray-600",children:E?(0,wt.jsx)(dB,{size:16}):(0,wt.jsx)(Us,{size:16})})]})]}),p.password&&(0,wt.jsx)(TB,{password:p.password,errors:x}),x.passwordconfirmation&&(0,wt.jsx)("p",{className:"text-xs text-red-600 mt-2",children:x.passwordconfirmation})]}),(0,wt.jsxs)("div",{className:"flex flex-wrap justify-end gap-3 pt-4 border-t mt-6",children:[(0,wt.jsx)("button",{type:"button",onClick:J,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors flex items-center",children:"Annuler"}),(0,wt.jsxs)("button",{type:"submit","data-action":d?"info":"create",className:"px-6 py-2 rounded-lg transition-colors flex items-center shadow-sm ".concat(ee()?"bg-blue-600 text-white hover:bg-blue-700 cursor-pointer":"bg-gray-300 text-gray-500 cursor-not-allowed"),disabled:!ee(),children:[(0,wt.jsx)(xB,{className:"w-4 h-4 mr-2"}),d?"Mettre \xe0 jour":"Enregistrer"]})]})]})]})})]})}),v&&(0,wt.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 text-center sm:block sm:p-0",children:[(0,wt.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:X}),(0,wt.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,wt.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,wt.jsxs)("div",{className:"bg-white px-6 pt-5 pb-4 sm:p-6 sm:pb-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center mb-4 border-b pb-3",children:[(0,wt.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Modifier le mot de passe"}),(0,wt.jsx)("button",{onClick:X,className:"text-gray-400 hover:text-gray-600",children:(0,wt.jsx)(Lt,{className:"w-6 h-6"})})]}),(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),w)if(N.password)if(N.password===N.passwordconfirmation)if(N.password.length<8)O("Le mot de passe doit contenir au moins 8 caract\xe8res.","error");else if(/[A-Z]/.test(N.password))if(/\d/.test(N.password))if(/[!@#$%^&*(),.?":{}|<>]/.test(N.password))try{const e={new_password:N.password,new_password_confirmation:N.passwordconfirmation},t=await kB.resetPassword(w.id,e);t&&t.success?(O("Mot de passe mis \xe0 jour avec succ\xe8s","success"),X()):O((null===t||void 0===t?void 0:t.message)||"Erreur lors de la mise \xe0 jour du mot de passe","error")}catch(t){const e=kB.handleError(t);e.message.includes("new password field is required")?O("Le champ 'nouveau mot de passe' est requis.","error"):O("Erreur: ".concat(e.message),"error")}else O("Le mot de passe doit contenir au moins un caract\xe8re sp\xe9cial.","error");else O("Le mot de passe doit contenir au moins un chiffre.","error");else O("Le mot de passe doit commencer par une majuscule.","error");else O("Les mots de passe ne correspondent pas.","error");else O("Le mot de passe est requis.","error")},className:"space-y-4",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nouveau mot de passe"," ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:U?"text":"password",name:"password",value:N.password,onChange:Z,className:"w-full mt-1 p-2 border rounded-md pr-10",placeholder:"Minimum 8 caract\xe8res, Majuscule, Chiffre, Caract\xe8re sp\xe9cial",required:!0}),(0,wt.jsx)("button",{type:"button",onClick:()=>Q(!U),className:"absolute right-3 top-10 h-4 w-4 text-gray-400 hover:text-gray-600",children:U?(0,wt.jsx)(dB,{size:16}):(0,wt.jsx)(Us,{size:16})})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Confirmation ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("input",{type:L?"text":"password",name:"passwordconfirmation",value:N.passwordconfirmation,onChange:Z,className:"w-full mt-1 p-2 border rounded-md pr-10",placeholder:"R\xe9p\xe9ter le mot de passe",required:!0}),(0,wt.jsx)("button",{type:"button",onClick:()=>I(!L),className:"absolute right-3 top-10 h-4 w-4 text-gray-400 hover:text-gray-600",children:L?(0,wt.jsx)(dB,{size:16}):(0,wt.jsx)(Us,{size:16})})]}),N.password&&(0,wt.jsx)(te,{password:N.password}),(0,wt.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[(0,wt.jsx)("button",{type:"button",onClick:X,className:"px-4 py-2 rounded border border-gray-300 hover:bg-gray-100",children:"Annuler"}),(0,wt.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Enregistrer"})]})]})]})})]})})]})]})},zB=Et("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),KB=Et("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),VB=Et("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),qB=Et("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),WB=["Antananarivo","Antsiranana","Fianarantsoa","Toamasina","Mahajanga","Toliara"],GB={AES:"ASSITANT D'ENSEIGNEMENT SUPERIEUR",PE:"PROFESSEUR EMMERITE",PT:"PROFESSEUR TITULAIRE",PES:"PROFESSEUR D'ENSEIGNEMENT SUPERIEUR",MC:"MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR"},YB=["ASSITANT D'ENSEIGNEMENT SUPERIEUR","MA\xceTRE DE CONF\xc9RENCES D'ENSEIGNEMENT SUPERIEUR","PROFESSEUR D'ENSEIGNEMENT SUPERIEUR","PROFESSEUR EMMERITE","PROFESSEUR TITULAIRE"].sort((e,t)=>e.localeCompare(t,"fr",{sensitivity:"base"})),JB=["AES","PE","PT","PES","MC"],XB=e=>String(null!==e&&void 0!==e?e:"").trim().replace(/\s+/g," ").toUpperCase(),ZB=e=>{var t;return e?Array.isArray(e)?e:Array.isArray(e.data)?e.data:e.data&&Array.isArray(e.data.data)?e.data.data:Array.isArray(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.enseignants)?e.data.enseignants:[]:[]},$B=e=>{let{message:t,type:n="success",onClose:r}=e;const s={success:{icon:(0,wt.jsx)(ws,{className:"w-6 h-6 text-green-500"}),borderColor:"border-green-500",bgColor:"bg-green-50"},error:{icon:(0,wt.jsx)(Ns,{className:"w-6 h-6 text-red-500"}),borderColor:"border-red-500",bgColor:"bg-red-50"}},{icon:a,borderColor:i,bgColor:o}=s[n];return(0,wt.jsxs)("div",{className:"".concat(o," border-l-4 ").concat(i," rounded shadow-2xl p-4 w-80 flex items-start animate-in slide-in-from-right duration-300"),children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:a}),(0,wt.jsx)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:(0,wt.jsx)("p",{className:"text-sm font-medium text-gray-900 leading-5",children:t})}),(0,wt.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,wt.jsx)("button",{onClick:r,className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none transition ease-in-out duration-150",children:(0,wt.jsx)(Lt,{className:"h-5 w-5"})})})]})},eN=e=>{let{isOpen:t,onClose:n,title:r,children:s,size:a="md"}=e;if(!t)return null;return(0,wt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[a]," overflow-hidden flex flex-col max-h-[90vh]"),children:[(0,wt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[(0,wt.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:r}),(0,wt.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,wt.jsx)(Lt,{size:20})})]}),(0,wt.jsx)("div",{className:"p-6 overflow-y-auto",children:s})]})})},tN=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:s,message:a,type:i="danger"}=e;if(!t)return null;const o={danger:{icon:(0,wt.jsx)(Yi,{className:"w-12 h-12"}),iconBg:"bg-red-100",iconColor:"text-red-600",buttonBg:"bg-red-600 hover:bg-red-700",borderColor:"border-red-200"}}[i];return(0,wt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:(0,wt.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in duration-200",children:[(0,wt.jsx)("div",{className:"p-6",children:(0,wt.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,wt.jsx)("div",{className:"".concat(o.iconBg," ").concat(o.iconColor," rounded-full p-4 mb-4"),children:o.icon}),(0,wt.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:s}),(0,wt.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-line",children:a})]})}),(0,wt.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex gap-3 border-t ".concat(o.borderColor),children:[(0,wt.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:()=>{r(),n()},className:"flex-1 px-4 py-2.5 ".concat(o.buttonBg," text-white rounded-lg font-medium transition-colors shadow-sm"),children:"Confirmer"})]})]})})},nN=e=>{let{children:n,trigger:r}=e;const[s,a]=(0,t.useState)(!1);return(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("button",{onClick:()=>a(!s),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:r}),s&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),(0,wt.jsx)("div",{className:"absolute right-0 top-8 z-20 bg-white border border-gray-200 rounded-lg shadow-lg py-1 min-w-[150px]",children:t.Children.map(n,e=>t.cloneElement(e,{onClick:()=>{var t,n;null===(t=(n=e.props).onClick)||void 0===t||t.call(n),a(!1)}}))})]})]})},rN=e=>{let{icon:t,label:n,onClick:r,danger:s}=e;return(0,wt.jsxs)("button",{onClick:r,className:"w-full px-4 py-2 text-left text-sm flex items-center gap-2 hover:bg-gray-50 transition-colors ".concat(s?"text-red-600 hover:bg-red-50":"text-gray-700"),children:[t,(0,wt.jsx)("span",{children:n})]})},sN=()=>{var e,n,r,s;const[a,i]=(0,t.useState)("selection"),[l,A]=(0,t.useState)(null),[c,u]=(0,t.useState)("RECAP"),[d,h]=(0,t.useState)([]),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[x,b]=(0,t.useState)([]),[v,y]=(0,t.useState)(!0),[w,B]=(0,t.useState)(null),[N,j]=(0,t.useState)(!1),[C,k]=(0,t.useState)(!1),[F,S]=(0,t.useState)(!1),[E,_]=(0,t.useState)(!1),[U,Q]=(0,t.useState)(!1),[L,I]=(0,t.useState)(!1),[M,D]=(0,t.useState)(!1),[P,T]=(0,t.useState)(null),[O,H]=(0,t.useState)(null),[R,z]=(0,t.useState)(null),[K,V]=(0,t.useState)({isOpen:!1,title:"",message:"",onConfirm:null}),[q,W]=(0,t.useState)({show:!1,message:"",type:"success"}),[G,Y]=(0,t.useState)({nom:"",province:WB[0],code:""}),[J,X]=(0,t.useState)(""),[Z,$]=(0,t.useState)({nom:"",sexe:"M",im:"",date_naissance:"",corps:"MC",diplome:"",specialite:"",categorie:YB[2]}),[ee,te]=(0,t.useState)(null),[ne,re]=(0,t.useState)(1),[se,ae]=(0,t.useState)(10),[ie,oe]=(0,t.useState)(""),le=(0,t.useMemo)(()=>YB.map(e=>XB(e)),[]),Ae=function(e){W({show:!0,message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>W({show:!1,message:"",type:"success"}),5e3)},ce=e=>{const t=e.replace(/\D/g,"");let n="";if(t.length>0){let e=t.substring(0,2);if(2===e.length&&parseInt(e)>31&&(e="31"),2===e.length&&0===parseInt(e)&&(e="01"),n=e,t.length>=3){let e=t.substring(2,4);2===e.length&&parseInt(e)>12&&(e="12"),2===e.length&&0===parseInt(e)&&(e="01"),n+="/"+e}t.length>=5&&(n+="/"+t.substring(4,8))}return n},ue=e=>e.replace(/\D/g,"").substring(0,6),de=e=>{if(!e||10!==e.length)return"";const[t,n,r]=e.split("/");return t&&n&&r?"".concat(r,"-").concat(n,"-").concat(t):""},he=e=>{if(!e)return"";const t=String(e).split("T")[0].split("-");if(3!==t.length)return"";const[n,r,s]=t;return n&&r&&s?4!==n.length?"":"".concat(s,"/").concat(r,"/").concat(n):""};(0,t.useEffect)(()=>{(async()=>{try{y(!0);const e=await Ri.getAll(),t=ZB(e);h(Array.isArray(t)?t:[]),B(null)}catch(e){console.error("Erreur lors du chargement des universit\xe9s:",e),B("Impossible de charger les universit\xe9s"),Ae("Erreur de chargement des universit\xe9s","error")}finally{y(!1)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(l)try{const e=await Ki.getAll(l.id),t=ZB(e);m(Array.isArray(t)?t:[])}catch(e){console.error("Erreur lors du chargement des \xe9tablissements:",e),m([]),Ae("Erreur de chargement des \xe9tablissements","error")}})()},[l]),(0,t.useEffect)(()=>{(async()=>{if(l){if("RECAP"===c)try{y(!0);const e={universite_id:l.id,per_page:1e5},t=await Oi.getAll(e),n=ZB(t),r=(Array.isArray(n)?n:[]).map(e=>{var t,n,r,s,a,i;return o(o({},e),{},{nom:null!==(t=null===e||void 0===e?void 0:e.nom)&&void 0!==t?t:"",im:null!==(n=null===e||void 0===e?void 0:e.im)&&void 0!==n?n:"",sexe:XB(null===e||void 0===e?void 0:e.sexe),corps:XB(null===e||void 0===e?void 0:e.corps),categorie:XB(null===e||void 0===e?void 0:e.categorie),diplome:null!==(r=null===e||void 0===e?void 0:e.diplome)&&void 0!==r?r:"",specialite:null!==(s=null===e||void 0===e?void 0:e.specialite)&&void 0!==s?s:"",date_naissance:null!==(a=null===e||void 0===e?void 0:e.date_naissance)&&void 0!==a?a:"",etablissement_id:null!==(i=null===e||void 0===e?void 0:e.etablissement_id)&&void 0!==i?i:null})});b(r)}catch(e){console.error("Erreur chargement RECAP enseignants:",e),b([]),Ae("Erreur de chargement du r\xe9capitulatif","error")}finally{y(!1)}}else b([])})()},[l,c]),(0,t.useEffect)(()=>{const e=setTimeout(async()=>{if(l&&"RECAP"!==c){if(f&&0!==f.length)try{y(!0);const e=f.find(e=>e.nom===c);if(!e)return console.warn("\xc9tablissement non trouv\xe9 pour l'onglet:",c),void g([]);const t={universite_id:l.id,etablissement_id:e.id};ie&&""!==ie.trim()&&(t.search=ie.trim()),console.log("Chargement des enseignants avec params:",t);const n=await Oi.getAll(t),r=ZB(n);console.log("Enseignants charg\xe9s:",r);const s=(Array.isArray(r)?r:[]).map(t=>{var n,r,s,a,i,l;return o(o({},t),{},{nom:null!==(n=null===t||void 0===t?void 0:t.nom)&&void 0!==n?n:"",im:null!==(r=null===t||void 0===t?void 0:t.im)&&void 0!==r?r:"",sexe:XB(null===t||void 0===t?void 0:t.sexe),corps:XB(null===t||void 0===t?void 0:t.corps),categorie:XB(null===t||void 0===t?void 0:t.categorie),diplome:null!==(s=null===t||void 0===t?void 0:t.diplome)&&void 0!==s?s:"",specialite:null!==(a=null===t||void 0===t?void 0:t.specialite)&&void 0!==a?a:"",date_naissance:null!==(i=null===t||void 0===t?void 0:t.date_naissance)&&void 0!==i?i:"",etablissement_id:null!==(l=null===t||void 0===t?void 0:t.etablissement_id)&&void 0!==l?l:e.id})});g(s)}catch(e){console.error("Erreur lors du chargement des enseignants:",e),g([]),Ae("Erreur de chargement des enseignants","error")}finally{y(!1)}}else g([])},300);return()=>clearTimeout(e)},[l,c,f,ie]);const fe=async()=>{if(G.nom&&G.code)try{var e;const t=await Ri.create(G),n=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;h(e=>[...e,n]),j(!1),Y({nom:"",province:WB[0],code:""}),Ae("Universit\xe9 ajout\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de l'ajout de l'universit\xe9:",t),Ae("Erreur lors de l'ajout de l'universit\xe9","error")}else Ae("Veuillez remplir tous les champs obligatoires","error")},me=async()=>{if(G.nom&&P)try{var e;const t=await Ri.update(P.id,G),n=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;h(e=>e.map(e=>e.id===P.id?n:e)),_(!1),T(null),Y({nom:"",province:WB[0],code:""}),Ae("Universit\xe9 modifi\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de la modification de l'universit\xe9:",t),Ae("Erreur lors de la modification de l'universit\xe9","error")}else Ae("Veuillez remplir tous les champs obligatoires","error")},pe=(0,t.useMemo)(()=>f.map(e=>e.nom),[f]),ge=(0,t.useMemo)(()=>{if(!l||"RECAP"===c)return[];if(!Array.isArray(p))return[];const e=(ie||"").toLowerCase();return p.filter(t=>{var n,r;const s=(null!==(n=null===t||void 0===t?void 0:t.nom)&&void 0!==n?n:"").toLowerCase(),a=String(null!==(r=null===t||void 0===t?void 0:t.im)&&void 0!==r?r:"");return s.includes(e)||a.includes(ie||"")})},[p,l,c,ie]);(0,t.useEffect)(()=>{re(1)},[ie,c,se]);const xe=Math.ceil(ge.length/se)||1,be=ne*se,ve=be-se,ye=ge.slice(ve,be);(0,t.useEffect)(()=>{ne>xe&&re(xe)},[xe]);const we=(0,t.useMemo)(()=>le.some(e=>ye.some(t=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.categorie)&&void 0!==n?n:"")===e})),[ye,le]),Be=(0,t.useMemo)(()=>{if(!l)return null;const e=Array.isArray(x)?x:[],t={};return f.forEach(n=>{const r=e.filter(e=>(null===e||void 0===e?void 0:e.etablissement_id)===n.id);t[n.nom]={AES:r.filter(e=>{var t;return"AES"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,MC:r.filter(e=>{var t;return"MC"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,PES:r.filter(e=>{var t;return"PES"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,PT:r.filter(e=>{var t;return"PT"===(null!==(t=null===e||void 0===e?void 0:e.corps)&&void 0!==t?t:"")}).length,total:r.length,F:r.filter(e=>{var t;return"F"===(null!==(t=null===e||void 0===e?void 0:e.sexe)&&void 0!==t?t:"")}).length,M:r.filter(e=>{var t;return"M"===(null!==(t=null===e||void 0===e?void 0:e.sexe)&&void 0!==t?t:"")}).length}}),t},[l,f,x]);return v&&"selection"===a&&0===d.length?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)(Vs,{className:"w-16 h-16 text-blue-600 animate-spin mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-xl text-gray-700",children:"Chargement des donn\xe9es..."})]})}):w&&"selection"===a&&0===d.length?(0,wt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)(Ut,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-xl text-gray-700 mb-4",children:w}),(0,wt.jsx)("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"R\xe9essayer"})]})}):"selection"===a?(0,wt.jsxs)("div",{className:"space-y-6 p-2",children:[(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-[60]",children:q.show&&(0,wt.jsx)($B,{message:q.message,type:q.type,onClose:()=>W(o(o({},q),{},{show:!1}))})}),(0,wt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestion des Universit\xe9s"}),(0,wt.jsx)("p",{className:"text-gray-500 text-sm",children:"S\xe9lectionnez un \xe9tablissement pour acc\xe9der \xe0 son personnel."})]}),(0,wt.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg shadow-sm font-medium transition-all",children:[(0,wt.jsx)(om,{size:20})," Nouvelle Universit\xe9"]})]}),(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(e=>(0,wt.jsxs)("div",{className:"group bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg hover:border-blue-400 transition-all duration-200 relative",children:[(0,wt.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,wt.jsxs)(nN,{trigger:(0,wt.jsx)(zB,{size:18,className:"text-gray-400"}),children:[(0,wt.jsx)(rN,{icon:(0,wt.jsx)(sm,{size:16}),label:"Modifier",onClick:()=>(e=>{T(e),Y({nom:e.nom,province:e.province,code:e.code}),_(!0)})(e)}),(0,wt.jsx)(rN,{icon:(0,wt.jsx)(am,{size:16}),label:"Supprimer",onClick:()=>{return t=e.id,void V({isOpen:!0,title:"Suppression d'Universit\xe9",message:"\xcates-vous certain de vouloir supprimer d\xe9finitivement cette universit\xe9 ?\n\nCette action entra\xeenera la suppression de :\n\u2022 Toutes les facult\xe9s associ\xe9es\n\u2022 Tous les enseignants rattach\xe9s\n\u2022 Toutes les donn\xe9es li\xe9es\n\nCette op\xe9ration est irr\xe9versible.",onConfirm:async()=>{try{await Ri.delete(t),h(e=>e.filter(e=>e.id!==t)),Ae("Universit\xe9 supprim\xe9e avec succ\xe8s","success")}catch(e){console.error("Erreur lors de la suppression de l'universit\xe9:",e),Ae("Erreur lors de la suppression de l'universit\xe9","error")}}});var t},danger:!0})]})}),(0,wt.jsxs)("div",{onClick:()=>{A(e),i("dashboard_univ"),u("RECAP")},className:"cursor-pointer",children:[(0,wt.jsx)("div",{className:"flex items-start justify-between mb-4 pr-8",children:(0,wt.jsx)("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:scale-110 transition-transform",children:(0,wt.jsx)(Ii,{size:32})})}),(0,wt.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,wt.jsx)("h3",{className:"text-lg font-bold text-gray-800 group-hover:text-blue-600 flex-1 pr-2",children:e.nom}),(0,wt.jsx)("span",{className:"text-xs font-bold text-white bg-blue-600 px-2 py-1 rounded shrink-0",children:e.code})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 text-sm",children:[(0,wt.jsx)(_s,{size:16})," ",e.province]})]})]},e.id))}),(0,wt.jsx)(eN,{isOpen:N,onClose:()=>j(!1),title:"Ajouter une Universit\xe9",children:(0,wt.jsxs)("div",{className:"space-y-5",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de l'Universit\xe9 ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Ii,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:G.nom,onChange:e=>Y(o(o({},G),{},{nom:e.target.value})),placeholder:"Ex: Universit\xe9 de Mahajanga",required:!0})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Province ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(_s,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("select",{className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all appearance-none bg-white",value:G.province,onChange:e=>Y(o(o({},G),{},{province:e.target.value})),required:!0,children:WB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Code ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(KB,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all uppercase",value:G.code,onChange:e=>Y(o(o({},G),{},{code:e.target.value.toUpperCase()})),placeholder:"Ex: UM",maxLength:5,required:!0})]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,wt.jsx)("button",{onClick:()=>j(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:fe,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg font-semibold transition-all shadow-md",children:"Enregistrer"})]})]})}),(0,wt.jsx)(eN,{isOpen:E,onClose:()=>_(!1),title:"Modifier l'Universit\xe9",children:(0,wt.jsxs)("div",{className:"space-y-5",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de l'Universit\xe9 ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Ii,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",value:G.nom,onChange:e=>Y(o(o({},G),{},{nom:e.target.value})),placeholder:"Ex: Universit\xe9 de Mahajanga",required:!0})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Province ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(_s,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("select",{className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all appearance-none bg-white",value:G.province,onChange:e=>Y(o(o({},G),{},{province:e.target.value})),required:!0,children:WB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Code ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(KB,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all uppercase",value:G.code,onChange:e=>Y(o(o({},G),{},{code:e.target.value.toUpperCase()})),placeholder:"Ex: UM",maxLength:5,required:!0})]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,wt.jsx)("button",{onClick:()=>_(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:me,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg font-semibold transition-all shadow-md",children:"Mettre \xe0 jour"})]})]})}),(0,wt.jsx)(tN,{isOpen:K.isOpen,onClose:()=>V({isOpen:!1,title:"",message:"",onConfirm:null}),onConfirm:K.onConfirm,title:K.title,message:K.message,type:"danger"})]}):(0,wt.jsxs)("div",{className:"flex flex-col h-full",children:[(0,wt.jsx)("div",{className:"fixed top-5 right-5 z-[60]",children:q.show&&(0,wt.jsx)($B,{message:q.message,type:q.type,onClose:()=>W(o(o({},q),{},{show:!1}))})}),(0,wt.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,wt.jsx)("button",{onClick:()=>i("selection"),className:"p-2 hover:bg-gray-100 rounded-full text-gray-500 transition-colors",children:(0,wt.jsx)(Cs,{size:24})}),(0,wt.jsx)("div",{className:"flex-1",children:(0,wt.jsxs)("div",{className:"text-center space-y-1",children:[(0,wt.jsx)("h2",{className:"text-sm font-bold text-gray-800 uppercase",children:"LISTE DES ENSEIGNANTS CHERCHEURS PERMANENTS"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"UNIVERSITE:"})," ",l.nom.toUpperCase()]}),"RECAP"!==c&&(0,wt.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"ETABLISSEMENT:"})," ",c]}),(0,wt.jsxs)("p",{className:"text-xs text-gray-700",children:[(0,wt.jsx)("span",{className:"font-semibold",children:"ANNEE:"})," 2025"]})]})}),(0,wt.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[(0,wt.jsx)(om,{size:18})," Ajouter Facult\xe9"]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1 flex-wrap pb-1 border-t pt-3",children:[(0,wt.jsxs)("button",{onClick:()=>{u("RECAP"),re(1)},className:"px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-colors whitespace-nowrap ".concat("RECAP"===c?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-100"),children:[(0,wt.jsx)(VB,{size:16}),"VUE D'ENSEMBLE"]}),(0,wt.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-2"}),pe.map(e=>(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("button",{onClick:()=>{u(e),re(1),oe("")},className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ".concat(c===e?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-blue-50"),children:e}),(0,wt.jsxs)("div",{className:"absolute -top-2 -right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,wt.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=f.find(t=>(null===t||void 0===t?void 0:t.nom)===e);t&&(H(t),X(t.nom),Q(!0))})(e)},className:"bg-orange-500 text-white rounded-full p-0.5",title:"Modifier facult\xe9",children:(0,wt.jsx)(sm,{size:12})}),(0,wt.jsx)("button",{onClick:()=>(e=>{const t=f.find(t=>(null===t||void 0===t?void 0:t.nom)===e);null!==t&&void 0!==t&&t.id&&V({isOpen:!0,title:"Suppression de Facult\xe9",message:'\xcates-vous certain de vouloir supprimer la facult\xe9 "'.concat(e,'" ?\n\nTous les enseignants de cette facult\xe9 seront \xe9galement supprim\xe9s.\n\nCette action est irr\xe9versible.'),onConfirm:async()=>{try{await Ki.delete(t.id),m(e=>e.filter(e=>e.id!==t.id)),c===e&&u("RECAP"),Ae("Facult\xe9 supprim\xe9e avec succ\xe8s","success")}catch(n){console.error("Erreur lors de la suppression de la facult\xe9:",n),Ae("Erreur lors de la suppression de la facult\xe9","error")}}})})(e),className:"bg-red-500 text-white rounded-full p-0.5",title:"Supprimer facult\xe9",children:(0,wt.jsx)(Lt,{size:12})})]})]},e))]})]}),(0,wt.jsxs)("div",{className:"flex-1 overflow-auto bg-gray-50 p-6",children:["RECAP"===c&&Be&&(0,wt.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,wt.jsxs)("div",{className:"bg-white border border-gray-300 rounded-t-xl px-4 py-4 text-center text-sm font-bold",children:[(0,wt.jsx)("div",{children:"ETAT RECAPITULATIF DES ENSEIGNANTS CHERCHEURS"}),(0,wt.jsx)("div",{className:"mt-1",children:l.nom.toUpperCase()}),(0,wt.jsx)("div",{className:"mt-1 text-gray-600",children:"ANNEE 2025"})]}),(0,wt.jsx)("div",{className:"border border-gray-300 overflow-x-auto bg-white",children:(0,wt.jsxs)("table",{className:"w-full text-[12px] border-collapse",children:[(0,wt.jsxs)("thead",{children:[(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{rowSpan:2,className:"border border-gray-400 bg-gray-200 px-3 py-2 text-left align-middle"}),(0,wt.jsx)("th",{colSpan:4,className:"border border-gray-400 bg-gray-200 px-3 py-2 text-center font-bold",children:"CORPS"}),(0,wt.jsx)("th",{rowSpan:2,className:"border border-gray-400 bg-gray-200 px-3 py-2 text-center font-bold",children:"TOTAL"}),(0,wt.jsx)("th",{colSpan:2,className:"border border-gray-400 bg-gray-200 px-3 py-2 text-center font-bold",children:"GENRE"})]}),(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"AES"}),(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"MC"}),(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"PES"}),(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"PT"}),(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"Fem."}),(0,wt.jsx)("th",{className:"border border-gray-400 bg-gray-200 px-3 py-1 text-center font-semibold",children:"Masc."})]})]}),(0,wt.jsxs)("tbody",{children:[Object.keys(Be).map(e=>{const t=Be[e];return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-left font-semibold",children:e}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.AES}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.MC}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.PES}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.PT}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center font-semibold",children:t.total}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.F}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:t.M})]},e)}),(0,wt.jsxs)("tr",{className:"font-bold bg-gray-100",children:[(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-left",children:"TOTAL"}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(Be).reduce((e,t)=>e+t.AES,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(Be).reduce((e,t)=>e+t.MC,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(Be).reduce((e,t)=>e+t.PES,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(Be).reduce((e,t)=>e+t.PT,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(Be).reduce((e,t)=>e+t.total,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(Be).reduce((e,t)=>e+t.F,0)}),(0,wt.jsx)("td",{className:"border border-gray-300 px-3 py-1 text-center",children:Object.values(Be).reduce((e,t)=>e+t.M,0)})]})]})]})})]}),"RECAP"!==c&&(0,wt.jsxs)("div",{className:"space-y-4",children:[(0,wt.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:[(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,wt.jsx)("input",{type:"text",placeholder:"Rechercher...",className:"pl-10 pr-4 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none w-64",value:ie,onChange:e=>oe(e.target.value)})]}),(0,wt.jsxs)("button",{onClick:()=>S(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-bold shadow-sm transition-colors",children:[(0,wt.jsx)(om,{size:18})," Ajouter Enseignant"]})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[v?(0,wt.jsx)("div",{className:"py-20 flex justify-center",children:(0,wt.jsx)(Vs,{className:"animate-spin text-blue-600",size:48})}):(0,wt.jsx)("div",{className:"overflow-x-auto",children:(0,wt.jsxs)("table",{className:"w-full border-collapse min-w-[1100px]",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{className:"bg-gray-50 text-gray-600 border-b border-gray-200",children:[(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-12 text-center font-medium text-[10px] uppercase tracking-wide",children:"N\xb0"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 text-center font-medium text-[10px] uppercase tracking-wide",children:"Nom"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-16 text-center font-medium text-[10px] uppercase tracking-wide",children:"Sexe"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-24 text-center font-medium text-[10px] uppercase tracking-wide",children:"IM"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-32 text-center font-medium text-[10px] uppercase tracking-wide",children:"Date de Naissance"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-20 text-center font-medium text-[10px] uppercase tracking-wide",children:"Corps"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-24 text-center font-medium text-[10px] uppercase tracking-wide",children:"Facult\xe9"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 w-32 text-center font-medium text-[10px] uppercase tracking-wide",children:"Dipl\xf4mes"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 border-r border-gray-200 text-center font-medium text-[10px] uppercase tracking-wide",children:"Sp\xe9cialit\xe9s"}),(0,wt.jsx)("th",{className:"px-3 py-2.5 text-center w-28 font-medium text-[10px] uppercase tracking-wide",children:"Actions"})]})}),(0,wt.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[le.map(e=>{const n=ye.filter(t=>{var n;return(null!==(n=null===t||void 0===t?void 0:t.categorie)&&void 0!==n?n:"")===e});return 0===n.length?null:(0,wt.jsxs)(t.Fragment,{children:[(0,wt.jsx)("tr",{className:"bg-blue-600",children:(0,wt.jsx)("td",{colSpan:10,className:"px-4 py-2 text-[11px] font-bold text-white uppercase text-center tracking-wide",children:e})}),n.map((e,t)=>(0,wt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:t+1}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-medium text-[13px] text-gray-800",children:e.nom}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:e.sexe}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-mono text-[12px] text-gray-600",children:e.im}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:he(e.date_naissance)}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 font-semibold text-[13px] text-gray-800",children:e.corps}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:c}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[12px] uppercase text-gray-600",children:e.diplome}),(0,wt.jsx)("td",{className:"px-3 py-3 text-center border-r border-gray-100 text-[13px] text-gray-700",children:e.specialite}),(0,wt.jsx)("td",{className:"px-2 py-3 text-center",children:(0,wt.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(z(e),void I(!0)),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Afficher",children:(0,wt.jsx)(Us,{size:15})}),(0,wt.jsx)("button",{onClick:()=>{return z(t=e),te(o(o({},t),{},{date_naissance:he(null===t||void 0===t?void 0:t.date_naissance)})),void D(!0);var t},className:"p-1.5 text-orange-500 hover:bg-orange-50 rounded transition-colors",title:"Modifier",children:(0,wt.jsx)(sm,{size:15})}),(0,wt.jsx)("button",{onClick:()=>(e=>{var t,n;V({isOpen:!0,title:"Suppression d'Enseignant",message:"\xcates-vous certain de vouloir supprimer l'enseignant :\n\n".concat(null!==(t=null===e||void 0===e?void 0:e.nom)&&void 0!==t?t:"","\nIM: ").concat(null!==(n=null===e||void 0===e?void 0:e.im)&&void 0!==n?n:"","\n\nCette action est irr\xe9versible et entra\xeenera la perte d\xe9finitive de toutes les donn\xe9es associ\xe9es \xe0 cet enseignant."),onConfirm:async()=>{try{await Oi.delete(e.id),g(t=>t.filter(t=>t.id!==e.id)),Ae("Enseignant supprim\xe9 avec succ\xe8s","success")}catch(t){console.error("Erreur lors de la suppression de l'enseignant:",t),Ae("Erreur lors de la suppression de l'enseignant","error")}}})})(e),className:"p-1.5 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Supprimer",children:(0,wt.jsx)(am,{size:15})})]})})]},e.id))]},e)}),!we&&(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:10,className:"p-8 text-center text-gray-500 text-sm",children:"Aucun enseignant trouv\xe9."})})]})]})}),ge.length>0&&(0,wt.jsxs)("div",{className:"flex items-center justify-between px-2 py-2 border-t bg-gray-50",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,wt.jsx)("span",{children:"\xc9l\xe9ments par page:"}),(0,wt.jsxs)("select",{value:se,onChange:e=>{ae(Number(e.target.value)),re(1)},className:"px-2 py-1 border rounded-md text-xs",children:[(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:30,children:"30"}),(0,wt.jsx)("option",{value:50,children:"50"}),(0,wt.jsx)("option",{value:100,children:"100"})]}),(0,wt.jsxs)("span",{className:"text-gray-500",children:[ve+1,"-",Math.min(be,ge.length)," sur"," ",ge.length]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>re(e=>Math.max(1,e-1)),disabled:1===ne,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(_t,{className:"w-4 h-4"})}),(()=>{const e=[];if(xe<=7)for(let t=1;t<=xe;t++)e.push(t);else{e.push(1);let t=Math.max(2,ne-2),n=Math.min(xe-1,ne+2);ne<=3&&(n=5),ne>=xe-2&&(t=xe-5+1),t>2&&e.push("...");for(let r=t;r<=n;r++)e.push(r);n<xe-1&&e.push("..."),e.push(xe)}return e})().map((e,t)=>"..."===e?(0,wt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,wt.jsx)("button",{onClick:()=>re(e),className:"px-2 py-1 text-xs border rounded-md ".concat(ne===e?"bg-blue-600 text-white":"bg-white"),children:e},e)),(0,wt.jsx)("button",{onClick:()=>re(e=>Math.min(xe,e+1)),disabled:ne===xe||0===xe,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(Os,{className:"w-4 h-4"})})]})]})]})]})]}),(0,wt.jsx)(eN,{isOpen:C,onClose:()=>k(!1),title:"Ajouter une Facult\xe9",size:"sm",children:(0,wt.jsxs)("div",{className:"space-y-5",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de la Facult\xe9 / \xc9tablissement"," ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Pi,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all uppercase",value:J,onChange:e=>X(e.target.value.toUpperCase()),placeholder:"Ex: DROIT, MEDECINE...",required:!0})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,wt.jsx)("button",{onClick:()=>k(!1),className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:async()=>{if(J&&l)try{var e;const t=await Ki.create({nom:J,universite_id:l.id}),n=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;m(e=>[...e,n]),k(!1),X(""),Ae("Facult\xe9 ajout\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de l'ajout de la facult\xe9:",t),Ae("Erreur lors de l'ajout de la facult\xe9","error")}else Ae("Veuillez saisir le nom de la facult\xe9","error")},className:"flex-1 px-4 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-semibold transition-all shadow-md",children:"Enregistrer"})]})]})}),(0,wt.jsx)(eN,{isOpen:U,onClose:()=>{Q(!1),H(null),X("")},title:"Modifier la Facult\xe9",size:"sm",children:(0,wt.jsxs)("div",{className:"space-y-5",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Nom de la Facult\xe9 / \xc9tablissement"," ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,wt.jsx)(Pi,{className:"h-5 w-5 text-gray-400"})}),(0,wt.jsx)("input",{type:"text",className:"pl-10 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none transition-all uppercase",value:J,onChange:e=>X(e.target.value.toUpperCase()),placeholder:"Ex: DROIT, MEDECINE...",required:!0})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,wt.jsx)("button",{onClick:()=>{Q(!1),H(null),X("")},className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:async()=>{if(J&&O)try{var e;const t=await Ki.update(O.id,{nom:J,universite_id:l.id}),n=null!==(e=null===t||void 0===t?void 0:t.data)&&void 0!==e?e:t;m(e=>e.map(e=>e.id===O.id?n:e)),c===O.nom&&u(n.nom),Q(!1),H(null),X(""),Ae("Facult\xe9 modifi\xe9e avec succ\xe8s","success")}catch(t){console.error("Erreur lors de la modification de la facult\xe9:",t),Ae("Erreur lors de la modification de la facult\xe9","error")}else Ae("Veuillez saisir le nom de la facult\xe9","error")},className:"flex-1 px-4 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg font-semibold transition-all shadow-md",children:"Mettre \xe0 jour"})]})]})}),(0,wt.jsx)(eN,{isOpen:F,onClose:()=>{S(!1),$({nom:"",sexe:"M",im:"",date_naissance:"",corps:"MC",diplome:"",specialite:"",categorie:YB[2]})},title:"Ajouter un Enseignant - ".concat(c),size:"lg",children:(0,wt.jsxs)("div",{className:"space-y-3",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-1",children:[(0,wt.jsx)("h4",{className:"text-xs font-bold text-gray-800 uppercase tracking-wide",children:"Identit\xe9 & \xc9tat Civil"}),(0,wt.jsx)("span",{className:"text-[10px] text-gray-400",children:"* obligatoire"})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,wt.jsxs)("div",{className:"md:col-span-2",children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Nom complet ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none uppercase",value:Z.nom,onChange:e=>$(o(o({},Z),{},{nom:e.target.value.toUpperCase()})),placeholder:"NOM Pr\xe9nom",required:!0})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["IM ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(KB,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none",value:Z.im,onChange:e=>$(o(o({},Z),{},{im:ue(e.target.value)})),placeholder:"123456",maxLength:6,required:!0})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Sexe ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("select",{className:"w-full px-2 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:Z.sexe,onChange:e=>$(o(o({},Z),{},{sexe:e.target.value})),children:[(0,wt.jsx)("option",{value:"M",children:"Homme"}),(0,wt.jsx)("option",{value:"F",children:"Femme"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Naissance"}),(0,wt.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:Z.date_naissance,onChange:e=>$(o(o({},Z),{},{date_naissance:ce(e.target.value)})),placeholder:"JJ/MM/AAAA",maxLength:10})]})]})]}),(0,wt.jsxs)("div",{className:"pt-2",children:[(0,wt.jsx)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-1 mb-2",children:(0,wt.jsx)("h4",{className:"text-xs font-bold text-gray-800 uppercase tracking-wide",children:"Carri\xe8re & Dipl\xf4mes"})}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Corps ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:Z.corps,onChange:e=>{const t=e.target.value;$(o(o({},Z),{},{corps:t,categorie:GB[t]||YB[0]}))},required:!0,children:JB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Titre ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:Z.categorie,onChange:e=>$(o(o({},Z),{},{categorie:e.target.value})),required:!0,children:YB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Dipl\xf4me"}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(qB,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:Z.diplome,onChange:e=>$(o(o({},Z),{},{diplome:e.target.value})),placeholder:"Ex: Doctorat"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Sp\xe9cialit\xe9"}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Di,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:Z.specialite,onChange:e=>$(o(o({},Z),{},{specialite:e.target.value})),placeholder:"Ex: IA"})]})]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-3 mt-2 border-t border-gray-100",children:[(0,wt.jsx)("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-sm font-medium transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:async()=>{if(!Z.nom||!Z.im)return void Ae("Veuillez remplir tous les champs obligatoires","error");const e=f.find(e=>(null===e||void 0===e?void 0:e.nom)===c);if(null!==e&&void 0!==e&&e.id)try{var t;const n={nom:Z.nom,sexe:Z.sexe,im:Z.im,date_naissance:de(Z.date_naissance),corps:Z.corps,diplome:Z.diplome,specialite:Z.specialite,categorie:Z.categorie,universite_id:l.id,etablissement_id:e.id};console.log("\ud83d\udce4 Donn\xe9es envoy\xe9es au backend:",n);const r=await Oi.create(n);console.log("\u2705 R\xe9ponse backend SUCCESS:",r);const s=null!==(t=null===r||void 0===r?void 0:r.data)&&void 0!==t?t:r;g(t=>{var r,a,i,l,A,c,u,d,h,f,m,p,g,x;return[...t,o(o({},s),{},{nom:null!==(r=null!==(a=null===s||void 0===s?void 0:s.nom)&&void 0!==a?a:n.nom)&&void 0!==r?r:"",im:null!==(i=null!==(l=null===s||void 0===s?void 0:s.im)&&void 0!==l?l:n.im)&&void 0!==i?i:"",sexe:XB(null!==(A=null===s||void 0===s?void 0:s.sexe)&&void 0!==A?A:n.sexe),corps:XB(null!==(c=null===s||void 0===s?void 0:s.corps)&&void 0!==c?c:n.corps),categorie:XB(null!==(u=null===s||void 0===s?void 0:s.categorie)&&void 0!==u?u:n.categorie),diplome:null!==(d=null!==(h=null===s||void 0===s?void 0:s.diplome)&&void 0!==h?h:n.diplome)&&void 0!==d?d:"",specialite:null!==(f=null!==(m=null===s||void 0===s?void 0:s.specialite)&&void 0!==m?m:n.specialite)&&void 0!==f?f:"",date_naissance:null!==(p=null!==(g=null===s||void 0===s?void 0:s.date_naissance)&&void 0!==g?g:n.date_naissance)&&void 0!==p?p:"",etablissement_id:null!==(x=null===s||void 0===s?void 0:s.etablissement_id)&&void 0!==x?x:e.id})]}),S(!1),$({nom:"",sexe:"M",im:"",date_naissance:"",corps:"MC",diplome:"",specialite:"",categorie:YB[2]}),Ae("Enseignant ajout\xe9 avec succ\xe8s","success")}catch(s){if(console.error("\u274c ERREUR COMPL\xc8TE:",s),s.response){var n,r;if(console.error("\u274c Status:",s.response.status),console.error("\u274c R\xe9ponse backend:",s.response.data),null!==(n=s.response.data)&&void 0!==n&&n.errors){console.error("\u274c Erreurs de validation:",s.response.data.errors);const e=Object.entries(s.response.data.errors).map(e=>{let[t,n]=e;return"\u2022 ".concat(t,": ").concat(Array.isArray(n)?n.join(", "):n)}).join("\n");return void Ae("Erreurs de validation:\n".concat(e),"error")}if(null!==(r=s.response.data)&&void 0!==r&&r.message)return void Ae(s.response.data.message,"error")}Ae("Erreur lors de l'ajout de l'enseignant","error")}else Ae("\xc9tablissement non trouv\xe9","error")},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium transition-colors shadow-sm",children:"Enregistrer"})]})]})}),(0,wt.jsx)(eN,{isOpen:L,onClose:()=>{I(!1),z(null)},title:"D\xe9tails de l'Enseignant",size:"md",children:R&&(0,wt.jsxs)("div",{className:"space-y-4",children:[(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Nom complet"}),(0,wt.jsx)("p",{className:"text-gray-800 font-semibold",children:null!==(e=null===R||void 0===R?void 0:R.nom)&&void 0!==e?e:"N/A"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Sexe"}),(0,wt.jsx)("p",{className:"text-gray-800 font-semibold",children:"F"===(null===R||void 0===R?void 0:R.sexe)?"Femme":"Homme"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"IM"}),(0,wt.jsx)("p",{className:"text-gray-800 font-semibold",children:null!==(n=null===R||void 0===R?void 0:R.im)&&void 0!==n?n:"N/A"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Date de naissance"}),(0,wt.jsx)("p",{className:"text-gray-800 font-semibold",children:he(null===R||void 0===R?void 0:R.date_naissance)||"N/A"})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Corps"}),(0,wt.jsx)("p",{className:"text-gray-800 font-semibold",children:null!==(r=null===R||void 0===R?void 0:R.corps)&&void 0!==r?r:"N/A"})]}),(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cat\xe9gorie"}),(0,wt.jsx)("p",{className:"text-gray-800 font-semibold",children:null!==(s=null===R||void 0===R?void 0:R.categorie)&&void 0!==s?s:"N/A"})]}),(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Dipl\xf4me"}),(0,wt.jsx)("p",{className:"text-gray-800",children:(null===R||void 0===R?void 0:R.diplome)||"Non renseign\xe9"})]}),(0,wt.jsxs)("div",{className:"col-span-2",children:[(0,wt.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Sp\xe9cialit\xe9"}),(0,wt.jsx)("p",{className:"text-gray-800",children:(null===R||void 0===R?void 0:R.specialite)||"Non renseign\xe9"})]})]}),(0,wt.jsx)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:(0,wt.jsx)("button",{onClick:()=>{I(!1),z(null)},className:"flex-1 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Fermer"})})]})}),(0,wt.jsx)(eN,{isOpen:M,onClose:()=>{D(!1),z(null),te(null)},title:"Modifier l'Enseignant",size:"lg",children:(0,wt.jsxs)("div",{className:"space-y-3",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-1",children:[(0,wt.jsx)("h4",{className:"text-xs font-bold text-gray-800 uppercase tracking-wide",children:"Identit\xe9 & \xc9tat Civil"}),(0,wt.jsx)("span",{className:"text-[10px] text-gray-400",children:"* obligatoire"})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,wt.jsxs)("div",{className:"md:col-span-2",children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Nom complet ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(ks,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none uppercase",value:(null===ee||void 0===ee?void 0:ee.nom)||"",onChange:e=>te(o(o({},ee),{},{nom:e.target.value.toUpperCase()})),required:!0})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["IM ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(KB,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 outline-none",value:(null===ee||void 0===ee?void 0:ee.im)||"",onChange:e=>te(o(o({},ee),{},{im:ue(e.target.value)})),maxLength:6,required:!0})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Sexe ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsxs)("select",{className:"w-full px-2 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:(null===ee||void 0===ee?void 0:ee.sexe)||"M",onChange:e=>te(o(o({},ee),{},{sexe:e.target.value})),children:[(0,wt.jsx)("option",{value:"M",children:"Homme"}),(0,wt.jsx)("option",{value:"F",children:"Femme"})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Naissance"}),(0,wt.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:(null===ee||void 0===ee?void 0:ee.date_naissance)||"",onChange:e=>te(o(o({},ee),{},{date_naissance:ce(e.target.value)})),placeholder:"JJ/MM/AAAA",maxLength:10})]})]})]}),(0,wt.jsxs)("div",{className:"pt-2",children:[(0,wt.jsx)("div",{className:"flex items-center justify-between border-b border-gray-100 pb-1 mb-2",children:(0,wt.jsx)("h4",{className:"text-xs font-bold text-gray-800 uppercase tracking-wide",children:"Carri\xe8re & Dipl\xf4mes"})}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Corps ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:(null===ee||void 0===ee?void 0:ee.corps)||"MC",onChange:e=>{const t=e.target.value;te(o(o({},ee),{},{corps:t,categorie:GB[t]||YB[0]}))},required:!0,children:JB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:["Titre ",(0,wt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,wt.jsx)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none bg-white",value:(null===ee||void 0===ee?void 0:ee.categorie)||YB[0],onChange:e=>te(o(o({},ee),{},{categorie:e.target.value})),required:!0,children:YB.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Dipl\xf4me"}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(qB,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:(null===ee||void 0===ee?void 0:ee.diplome)||"",onChange:e=>te(o(o({},ee),{},{diplome:e.target.value}))})]})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"Sp\xe9cialit\xe9"}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(Di,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,wt.jsx)("input",{type:"text",className:"pl-9 w-full px-3 py-2 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 outline-none",value:(null===ee||void 0===ee?void 0:ee.specialite)||"",onChange:e=>te(o(o({},ee),{},{specialite:e.target.value}))})]})]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-3 pt-3 mt-2 border-t border-gray-100",children:[(0,wt.jsx)("button",{onClick:()=>{D(!1),z(null),te(null)},className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded text-sm font-medium transition-colors",children:"Annuler"}),(0,wt.jsx)("button",{onClick:async()=>{if(null!==ee&&void 0!==ee&&ee.nom&&null!==ee&&void 0!==ee&&ee.im)try{var e;const t=o(o({},ee),{},{date_naissance:de(ee.date_naissance)}),n=await Oi.update(R.id,t),r=null!==(e=null===n||void 0===n?void 0:n.data)&&void 0!==e?e:n;g(e=>e.map(e=>{var n,s,a,i,l,A,c,u,d,h,f,m,p;return e.id===R.id?o(o(o({},e),r),{},{nom:null!==(n=null!==(s=null===r||void 0===r?void 0:r.nom)&&void 0!==s?s:t.nom)&&void 0!==n?n:"",im:null!==(a=null!==(i=null===r||void 0===r?void 0:r.im)&&void 0!==i?i:t.im)&&void 0!==a?a:"",diplome:null!==(l=null!==(A=null===r||void 0===r?void 0:r.diplome)&&void 0!==A?A:t.diplome)&&void 0!==l?l:"",specialite:null!==(c=null!==(u=null===r||void 0===r?void 0:r.specialite)&&void 0!==u?u:t.specialite)&&void 0!==c?c:"",categorie:XB(null!==(d=null===r||void 0===r?void 0:r.categorie)&&void 0!==d?d:t.categorie),corps:XB(null!==(h=null===r||void 0===r?void 0:r.corps)&&void 0!==h?h:t.corps),sexe:XB(null!==(f=null===r||void 0===r?void 0:r.sexe)&&void 0!==f?f:t.sexe),date_naissance:null!==(m=null!==(p=null===r||void 0===r?void 0:r.date_naissance)&&void 0!==p?p:t.date_naissance)&&void 0!==m?m:""}):e})),D(!1),z(null),te(null),Ae("Enseignant modifi\xe9 avec succ\xe8s","success")}catch(t){console.error("Erreur lors de la modification de l'enseignant:",t),Ae("Erreur lors de la modification de l'enseignant","error")}else Ae("Veuillez remplir tous les champs obligatoires","error")},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium transition-colors shadow-sm",children:"Mettre \xe0 jour"})]})]})}),(0,wt.jsx)(tN,{isOpen:K.isOpen,onClose:()=>V({isOpen:!1,title:"",message:"",onConfirm:null}),onConfirm:K.onConfirm,title:K.title,message:K.message,type:"danger"})]})},aN=Et("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),iN=Et("panel-left-open",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]),oN=Et("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),lN=Et("panel-left-close",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),AN=Et("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),cN=()=>{var e,n,r,s,a;const[i,l]=(0,t.useState)([]),[A,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),[m,p]=(0,t.useState)("all"),[g,x]=(0,t.useState)(!1),[b,v]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),[B,N]=(0,t.useState)(!1),[j,C]=(0,t.useState)(!0),[k,F]=(0,t.useState)(!0),[S,E]=(0,t.useState)(null),[_,U]=(0,t.useState)(!1),[Q,L]=(0,t.useState)(!1),[I,M]=(0,t.useState)(""),[D,P]=(0,t.useState)({all:0,unread:0,important:0}),[T,O]=(0,t.useState)({}),[H,R]=(0,t.useState)(null),[z,K]=(0,t.useState)(null),[V,q]=(0,t.useState)(0),[W,G]=(0,t.useState)({isOpen:!1,currentImage:null,currentIndex:0,images:[]}),Y=(0,t.useRef)(null),J=(0,t.useRef)(null),X=(0,t.useRef)(null),Z=(0,t.useRef)(null),$=(0,t.useRef)(null),ee=(0,t.useRef)(null),te=(0,t.useRef)(null),ne=(0,t.useRef)(0),re=(0,t.useRef)(!1),se=(0,t.useRef)(null),ae=(0,t.useRef)(null),ie=e=>{if(!e)return null;try{const t=new Date(e);if(isNaN(t.getTime()))return null;return new Date(t.getTime()+108e5)}catch(NN){return null}},oe=e=>{if(!e)return null;const t=e.url||e.name||e.filename;return t?Gs.getChatFileUrl(t):null},le=e=>(null===e||void 0===e?void 0:e.fileinfo)||(null===e||void 0===e?void 0:e.fileinfo)||null,Ae=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e||F(!0),E(null);const t=await Gs.getUserChats(m);t.success&&(l(t.chats),P(t.filters||{all:0,unread:0,important:0}),t.chats.length>0&&!A&&c(t.chats[0].id))}catch(t){e||E(t.message||"Erreur lors du chargement des conversations")}finally{e||F(!1)}},[m,A]),ce=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!re.current)try{re.current=!0;const n=await Gs.getChatDetails(e);if(n.success){const r=n.chat.messages||[],s=r.length>0?r[r.length-1].id:null;d(n.chat),ae.current=s,ne.current=r.length,t||(await Gs.markAsRead(e),await Ae(!0))}}catch(n){console.error("Erreur chargement d\xe9tails:",n)}finally{re.current=!1}},[Ae]);(0,t.useEffect)(()=>{if(A)return ce(A),se.current=setInterval(()=>{ce(A,!0)},2e3),()=>{se.current&&clearInterval(se.current)}},[A,ce]),(0,t.useEffect)(()=>{Ae()},[Ae]),(0,t.useEffect)(()=>{const e=setInterval(()=>{Ae(!0)},1e4);return()=>clearInterval(e)},[Ae]);const ue=(0,t.useCallback)(async e=>{try{const t=await Gs.getVisitorOnlineStatus(e);t.success&&O(n=>o(o({},n),{},{[e]:{isOnline:t.isonline,lastSeen:t.lastseen}}))}catch(t){console.error("Erreur v\xe9rification statut visiteur:",t)}},[]);(0,t.useEffect)(()=>{if(null!==u&&void 0!==u&&u.reference&&null!==u&&void 0!==u&&u.id){ue(u.id);const e=setInterval(()=>{ue(u.id)},3e4);return()=>clearInterval(e)}},[null===u||void 0===u?void 0:u.id,null===u||void 0===u?void 0:u.reference,ue]),(0,t.useEffect)(()=>{Y.current&&(Y.current.style.height="auto",Y.current.style.height="".concat(Math.min(Y.current.scrollHeight,120),"px"))},[h]),(0,t.useEffect)(()=>{const e=e=>{J.current&&!J.current.contains(e.target)&&v(!1),X.current&&!X.current.contains(e.target)&&N(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,t.useEffect)(()=>{if(null!==u&&void 0!==u&&u.messages&&ee.current){const e=u.messages.length;if(e!==ne.current){const t=te.current;(!t||t.scrollHeight-t.scrollTop-t.clientHeight<100)&&ee.current.scrollIntoView({behavior:"smooth"}),ne.current=e}}},[null===u||void 0===u?void 0:u.messages]);const de=async()=>{if(!h.trim()||!A)return;const e={id:"temp-".concat(Date.now()),content:h.trim(),text:h.trim(),type:"text",sender:"me",sendertype:"support",createdat:(new Date).toISOString(),status:"sending",time:(new Date).toISOString()};d(t=>o(o({},t),{},{messages:[...(null===t||void 0===t?void 0:t.messages)||[],e]}));const t=h;f(""),U(!0);try{const n=await Gs.sendMessage(A,{content:t,type:"text"});n.success?(d(t=>o(o({},t),{},{messages:t.messages.map(t=>t.id===e.id?o(o({},n.message),{},{sender:"me"}):t)})),Ae(!0)):(d(t=>o(o({},t),{},{messages:t.messages.filter(t=>t.id!==e.id)})),E("Erreur lors de l'envoi du message"))}catch(n){d(t=>o(o({},t),{},{messages:t.messages.filter(t=>t.id!==e.id)})),E(n.message||"Erreur lors de l'envoi du message")}finally{U(!1)}},he=e=>{if(!e)return"";try{const t=ie(e);return t?ri(t,"HH:mm",{locale:yi}):""}catch(NN){return""}},fe=e=>{if(!e)return"";try{const t=ie(e);return t?fi(t,{addSuffix:!0,locale:yi}):""}catch(NN){return""}},me=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},pe=e=>{var t;const n=null===u||void 0===u||null===(t=u.messages)||void 0===t?void 0:t.filter(e=>"image"===e.type&&oe(le(e))).map(e=>{var t;return{url:oe(le(e)),name:null===(t=le(e))||void 0===t?void 0:t.name,originalIndex:u.messages.indexOf(e)}}),r=n.findIndex(t=>t.url===e);G({isOpen:!0,currentImage:e,currentIndex:r>=0?r:0,images:n})},ge=e=>{const t="next"===e?(W.currentIndex+1)%W.images.length:(W.currentIndex-1+W.images.length)%W.images.length;G(e=>o(o({},e),{},{currentIndex:t,currentImage:e.images[t].url}))},xe=(e,t)=>{if(e)return"https://ui-avatars.com/api/?name=Anonyme&background=94a3b8&color=fff";return"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(t||"Visiteur"),"&background=3b82f6&color=fff")},be=e=>{let{status:t}=e;return t&&"sent"!==t&&"sending"!==t?"delivered"===t?(0,wt.jsx)(Ts,{className:"w-3.5 h-3.5 text-gray-400"}):"read"===t?(0,wt.jsx)(Ts,{className:"w-3.5 h-3.5 text-blue-500"}):null:(0,wt.jsx)(Ps,{className:"w-3.5 h-3.5 text-gray-400"})},ve=i.filter(e=>{if(!I.trim())return!0;const t=I.toLowerCase(),n=(e.visitorname||e.name||"").toLowerCase(),r=(e.reference||"").toLowerCase(),s=(e.lastmessage||"").toLowerCase();return n.includes(t)||r.includes(t)||s.includes(t)});return(0,wt.jsxs)("div",{className:"flex bg-gray-50 w-full ".concat(g?"fixed inset-0 z-50":"h-screen"),style:{overflow:"hidden"},children:[(0,wt.jsx)("input",{ref:Z,type:"file",className:"hidden",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;if(!A)return void E("Veuillez d'abord s\xe9lectionner une conversation");if(n.size>26214400)return void E("Le fichier ne doit pas d\xe9passer 25 MB");if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","video/mp4","video/quicktime","video/x-msvideo","video/x-ms-wmv"].includes(n.type))return void E("Format non support\xe9. Utilisez PDF, DOC, XLS, TXT ou vid\xe9o");if(n.type.startsWith("video/")){const e=new FileReader;e.onloadend=()=>{K(e.result),R(n),E(null)},e.readAsDataURL(n)}else R(n),K(null),E(null)},accept:".pdf,.doc,.docx,.txt,.xlsx,.xls,.mp4,.mov,.avi,.wmv,video/*"}),(0,wt.jsx)("input",{ref:$,type:"file",className:"hidden",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;if(!A)return void E("Veuillez d'abord s\xe9lectionner une conversation");if(n.size>26214400)return void E("L'image ne doit pas d\xe9passer 25 MB");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(n.type))return void E("Format d'image non support\xe9. Utilisez JPG, JPEG, PNG, GIF ou WEBP");const r=new FileReader;r.onloadend=()=>{K(r.result),R(n),E(null)},r.readAsDataURL(n)},accept:".jpg,.jpeg,.png,.gif,.webp,image/*"}),W.isOpen&&(0,wt.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-95 z-[9999] flex items-center justify-center",children:[(0,wt.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent z-10",children:[(0,wt.jsxs)("div",{className:"text-white",children:[(0,wt.jsx)("p",{className:"text-sm font-medium",children:(null===(e=W.images[W.currentIndex])||void 0===e?void 0:e.name)||"Image"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-300",children:[W.currentIndex+1," / ",W.images.length]})]}),(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),G({isOpen:!1,currentImage:null,currentIndex:0,images:[]})},className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",title:"Fermer",type:"button",children:(0,wt.jsx)(Lt,{className:"w-6 h-6 text-white"})})]}),(0,wt.jsx)("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:(0,wt.jsx)("img",{src:W.currentImage,alt:"Aper\xe7u",className:"max-w-full max-h-full object-contain",onError:e=>{e.target.src="https://via.placeholder.com/400x300?text=Image+non+disponible"}})}),W.images.length>1&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),ge("prev")},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image pr\xe9c\xe9dente",type:"button",children:(0,wt.jsx)(_t,{className:"w-6 h-6 text-white"})}),(0,wt.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),ge("next")},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-10",title:"Image suivante",type:"button",children:(0,wt.jsx)(Os,{className:"w-6 h-6 text-white"})})]}),(0,wt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 flex items-center justify-center gap-4 bg-gradient-to-t from-black/50 to-transparent z-10",children:(0,wt.jsx)("button",{onClick:async e=>{var t;e.preventDefault(),e.stopPropagation();const n=W.currentImage,r=(null===(t=W.images[W.currentIndex])||void 0===t?void 0:t.name)||"image.jpg";try{const e=await fetch(n),t=await e.blob(),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)}catch(S){console.error("Erreur t\xe9l\xe9chargement:",S),window.open(n,"_blank")}},className:"p-3 bg-white/10 hover:bg-white/20 text-white rounded-full transition-colors",title:"T\xe9l\xe9charger l'image",type:"button",children:(0,wt.jsx)(Qs,{className:"w-5 h-5"})})})]}),j&&(0,wt.jsxs)("div",{className:"w-96 bg-white border-r border-gray-200 flex flex-col h-full flex-shrink-0",children:[(0,wt.jsxs)("div",{className:"p-4 border-b border-gray-200 flex-shrink-0",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,wt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Messages"}),(0,wt.jsx)("div",{className:"flex items-center gap-2",children:(0,wt.jsxs)("div",{className:"relative",ref:X,children:[(0,wt.jsxs)("button",{onClick:()=>N(!B),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors relative",title:"Filtres",children:[(0,wt.jsx)(Qi,{className:"w-5 h-5 text-gray-600"}),"all"!==m&&(0,wt.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-600 rounded-full"})]}),B&&(0,wt.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[(0,wt.jsxs)("button",{onClick:()=>{p("all"),N(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between ".concat("all"===m?"bg-blue-50 text-blue-600":"text-gray-700"),children:[(0,wt.jsx)("span",{children:"Tous"}),(0,wt.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:D.all})]}),(0,wt.jsxs)("button",{onClick:()=>{p("unread"),N(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between ".concat("unread"===m?"bg-blue-50 text-blue-600":"text-gray-700"),children:[(0,wt.jsx)("span",{children:"Non lus"}),(0,wt.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:D.unread})]}),(0,wt.jsxs)("button",{onClick:()=>{p("important"),N(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between ".concat("important"===m?"bg-blue-50 text-blue-600":"text-gray-700"),children:[(0,wt.jsx)("span",{children:"Importants"}),(0,wt.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-0.5 rounded-full",children:D.important})]})]})]})})]}),(0,wt.jsxs)("div",{className:"relative",children:[(0,wt.jsx)(js,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,wt.jsx)("input",{type:"text",placeholder:"Rechercher...",value:I,onChange:e=>M(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,wt.jsx)("div",{className:"flex-1 overflow-y-auto min-h-0 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:k?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,wt.jsx)(Vs,{className:"w-8 h-8 text-blue-600 animate-spin mb-3"}),(0,wt.jsx)("p",{className:"text-sm text-gray-500",children:"Chargement..."})]}):S?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-red-600 p-4",children:[(0,wt.jsx)(Ut,{className:"w-8 h-8 mb-3"}),(0,wt.jsx)("p",{className:"text-sm text-center",children:S})]}):0===ve.length?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 p-4",children:[(0,wt.jsx)(Hs,{className:"w-12 h-12 mb-3"}),(0,wt.jsx)("p",{className:"text-sm",children:"Aucune conversation"}),(0,wt.jsx)("p",{className:"text-xs mt-1 text-center",children:I.trim()?"Aucun r\xe9sultat pour votre recherche":"Lorsqu'un utilisateur vous contactera, vos conversations appara\xeetront ici."})]}):ve.map(e=>{const t=(e=>e.reference?e.isanonymous?{mainName:"Anonyme",subName:e.reference}:{mainName:e.visitorname||e.name||"Visiteur",subName:e.reference}:{mainName:e.name||"Utilisateur",subName:e.role||null})(e),n=e.unreadcount||e.unread||0;return(0,wt.jsxs)("div",{onClick:()=>{return t=e.id,c(t),w(!1),R(null),K(null),q(0),ne.current=0,void(ae.current=null);var t},className:"flex items-start gap-3 p-4 cursor-pointer border-b border-gray-100 transition-all hover:bg-gray-50 ".concat(A===e.id?"bg-blue-50 border-l-4 border-l-blue-600":""),children:[(0,wt.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,wt.jsx)("img",{src:e.reference?xe(e.isanonymous,e.visitorname||e.name):e.avatar||"https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff",alt:t.mainName,className:"w-12 h-12 rounded-full",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff"}}),n>0&&e.reference&&(0,wt.jsx)("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:n>9?"9+":n}),e.reference&&(0,wt.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center",children:e.isanonymous?(0,wt.jsx)(Ls,{className:"w-3 h-3 text-gray-400"}):(0,wt.jsx)(ks,{className:"w-3 h-3 text-blue-500"})}),e.important&&(0,wt.jsx)(aN,{className:"absolute top-0 -right-1 w-4 h-4 text-orange-500 fill-orange-500"})]}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,wt.jsx)("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:t.mainName}),(0,wt.jsx)("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:fe(e.lastmessagetime||e.time)})]}),t.subName&&(0,wt.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,wt.jsx)(Ks,{className:"w-3 h-3 text-blue-600"}),(0,wt.jsx)("p",{className:"text-[10px] font-mono text-blue-700 font-semibold truncate",children:t.subName})]}),e.dossierTitre&&(0,wt.jsx)("p",{className:"text-[11px] text-gray-600 mb-1 truncate",children:e.dossierTitre}),(0,wt.jsx)("p",{className:"text-xs truncate ".concat(n>0?"text-gray-900 font-medium":"text-gray-500"),children:e.lastmessage||e.lastMessage||"Nouveau message"})]})]},e.id)})})]}),(0,wt.jsx)("div",{className:"flex-1 flex flex-col h-full min-w-0 overflow-hidden",children:u?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between flex-shrink-0",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[!j&&(0,wt.jsx)("button",{onClick:()=>C(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors lg:hidden flex-shrink-0",title:"Afficher la liste",children:(0,wt.jsx)(iN,{className:"w-5 h-5 text-gray-600"})}),(0,wt.jsx)("img",{src:u.reference?xe(u.isanonymous,u.visitorname||u.name):u.avatar||"https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff",alt:"Avatar",className:"w-10 h-10 rounded-full flex-shrink-0",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff"}}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-1.5",children:[u.reference&&(u.isanonymous?(0,wt.jsx)(Ls,{className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0"}):(0,wt.jsx)(ks,{className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0"})),(0,wt.jsx)("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:u.reference?u.isanonymous?"Anonyme":u.visitorname||u.name||"Visiteur":u.name||"Support FOSIKA"}),(null===(n=T[u.id])||void 0===n?void 0:n.isOnline)&&(0,wt.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-medium text-green-600 ml-2 flex-shrink-0",children:[(0,wt.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,wt.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),(0,wt.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),(0,wt.jsx)("span",{children:"En ligne"})]})]}),(0,wt.jsx)("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-0.5 truncate",children:null!==(r=T[u.id])&&void 0!==r&&r.isOnline||null===(s=T[u.id])||void 0===s||!s.lastSeen?u.role||u.status?(0,wt.jsx)(wt.Fragment,{children:!(null!==(a=T[u.id])&&void 0!==a&&a.isOnline)&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("span",{className:"mx-1 text-gray-300",children:"\u2022"}),(0,wt.jsx)("span",{children:u.status})]})}):null:(0,wt.jsxs)(wt.Fragment,{children:["Vu"," ",(0,wt.jsx)("span",{className:"font-medium",children:fe(T[u.id].lastSeen)})]})})]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,wt.jsx)("button",{onClick:()=>w(!y),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Informations",children:(0,wt.jsx)(oN,{className:"w-5 h-5 text-gray-600"})}),j&&(0,wt.jsx)("button",{onClick:()=>C(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors lg:hidden",title:"Masquer la liste",children:(0,wt.jsx)(lN,{className:"w-5 h-5 text-gray-600"})}),(0,wt.jsx)("button",{onClick:()=>x(!g),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:g?"R\xe9duire":"Plein \xe9cran",children:g?(0,wt.jsx)(AN,{className:"w-5 h-5 text-gray-600"}):(0,wt.jsx)(Rs,{className:"w-5 h-5 text-gray-600"})}),(0,wt.jsxs)("div",{className:"relative",ref:J,children:[(0,wt.jsx)("button",{onClick:()=>v(!b),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Options",children:(0,wt.jsx)(zB,{className:"w-5 h-5 text-gray-600"})}),b&&(0,wt.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:(0,wt.jsxs)("button",{onClick:()=>{(async e=>{try{const t=await Gs.toggleImportant(e);t.success&&(await Ae(!0),u&&u.id===e&&d(e=>o(o({},e),{},{isimportant:t.isimportant})))}catch(t){E(t.message||"Erreur lors de la modification")}})(u.id),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-2 text-gray-700",children:[(0,wt.jsx)(aN,{className:"w-4 h-4 ".concat(u.isimportant?"text-orange-500 fill-orange-500":"")}),(0,wt.jsx)("span",{children:u.isimportant?"Retirer important":"Marquer important"})]})})]})]})]}),u.reference&&(0,wt.jsx)("div",{className:"bg-blue-50 border-b border-blue-100 px-4 py-2.5 flex-shrink-0",children:(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)(Ks,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-xs font-mono font-semibold text-blue-700 truncate",children:u.reference}),u.dossierTitre&&(0,wt.jsx)("p",{className:"text-[11px] text-gray-600 truncate",children:u.dossierTitre})]})]})}),(0,wt.jsxs)("div",{ref:te,className:"flex-1 overflow-y-auto overflow-x-hidden p-4 bg-gray-50 space-y-3 min-h-0 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:[S&&!H&&(0,wt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm flex items-start gap-2",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,wt.jsx)("p",{children:S})]}),u.messages&&u.messages.length>0?u.messages.map((e,n)=>{var r,s,a,i;const o=e.sender,l=e.sendertype||e.sendertype,A="me"===o||"support"===l||"admin"===l||!("visitor"===o||"visitor"===l),c=oe(le(e)),d=e.text||e.content,h=e.createdat||e.createdat||e.time;let f=null;if(h){const e=u.messages[n-1],t=e?e.createdat||e.createdat||e.time:null;try{const e=ie(h),n=t?ie(t):null;!e||n&&ra(e,n)||(f=(e=>{if(!e)return null;try{const t=ie(e);if(!t)return null;if(sa(t))return"Aujourd'hui";if(oa(t))return"Hier";if(Aa(new Date,t)<7){const e=ri(t,"EEEE",{locale:yi});return e.charAt(0).toUpperCase()+e.slice(1)}return ri(t,"dd/MM/yyyy")}catch(NN){return null}})(h))}catch(NN){}}return(0,wt.jsxs)(t.Fragment,{children:[f&&(0,wt.jsx)("div",{className:"flex justify-center my-3",children:(0,wt.jsx)("span",{className:"bg-white text-gray-500 text-xs font-medium px-3 py-1 rounded-lg shadow-sm border border-gray-200",children:f})}),(0,wt.jsx)("div",{className:"flex ".concat(A?"justify-end":"justify-start"),children:(0,wt.jsxs)("div",{className:"max-w-[70%] ".concat(A?"":"flex gap-2"),children:[!A&&(0,wt.jsx)("div",{className:"flex flex-col items-center flex-shrink-0",children:(0,wt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:u.isanonymous||!u.visitorname||"Anonyme"===u.visitorname?(0,wt.jsx)(ks,{className:"w-5 h-5 text-gray-500"}):(0,wt.jsx)("span",{className:"text-xs font-bold text-gray-600",children:u.visitorname?u.visitorname.charAt(0).toUpperCase():"V"})})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[!A&&(0,wt.jsxs)("div",{className:"mb-1 px-2",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[u.isanonymous?(0,wt.jsx)(Ls,{className:"w-3 h-3 text-gray-400"}):(0,wt.jsx)(ks,{className:"w-3 h-3 text-blue-500"}),(0,wt.jsx)("p",{className:"text-[10px] font-semibold text-gray-700",children:u.isanonymous?"Anonyme":u.visitorname||u.name||"Visiteur"})]}),u.reference&&(0,wt.jsx)("p",{className:"text-[9px] font-mono text-gray-500",children:u.reference})]}),(0,wt.jsxs)("div",{className:"rounded-2xl shadow-sm overflow-hidden ".concat(A?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-800 border border-gray-200 rounded-bl-sm"),children:["image"===e.type&&c?(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("img",{src:c,alt:(null===(r=le(e))||void 0===r?void 0:r.name)||"Image",className:"w-full max-w-md cursor-pointer rounded-lg",style:{maxHeight:"400px",objectFit:"cover"},onClick:()=>pe(c),onError:e=>{console.error("Erreur chargement image:",c),e.target.src="https://via.placeholder.com/400x300?text=Image+non+disponible"}}),(0,wt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all flex items-center justify-center rounded-lg",children:(0,wt.jsx)("button",{onClick:()=>pe(c),className:"opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all bg-white/90 hover:bg-white p-2 rounded-full shadow-lg",children:(0,wt.jsx)(Is,{className:"w-5 h-5 text-gray-800"})})})]}):"video"===e.type&&c?(0,wt.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden max-w-md",children:[(0,wt.jsxs)("video",{controls:!0,className:"w-full",style:{maxHeight:"350px"},preload:"metadata",onError:()=>{console.error("Erreur chargement vid\xe9o:",c)},children:[(0,wt.jsx)("source",{src:c,type:(null===(s=le(e))||void 0===s?void 0:s.type)||"video/mp4"}),"Votre navigateur ne supporte pas la lecture vid\xe9o."]}),(0,wt.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,wt.jsx)(Ms,{className:"w-3 h-3"}),"Vid\xe9o"]})]}):"file"===e.type&&c?(0,wt.jsxs)("div",{className:"p-3 ".concat(A?"bg-blue-700":"bg-gray-50"),children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)("div",{className:"p-2 rounded-lg ".concat(A?"bg-blue-800":"bg-white border border-gray-200"),children:(0,wt.jsx)(Ds,{className:"w-5 h-5 ".concat(A?"text-white":"text-gray-600")})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium truncate ".concat(A?"text-white":"text-gray-800"),children:(null===(a=le(e))||void 0===a?void 0:a.name)||"Fichier"}),(null===(i=le(e))||void 0===i?void 0:i.filesize)&&(0,wt.jsx)("p",{className:"text-xs ".concat(A?"text-blue-100":"text-gray-500"),children:me(le(e).filesize)})]})]}),(0,wt.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,wt.jsxs)("a",{href:c,target:"_blank",rel:"noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(A?"bg-blue-800 hover:bg-blue-900 text-white":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"),children:[(0,wt.jsx)(Us,{className:"w-3.5 h-3.5"}),"Voir"]}),(0,wt.jsxs)("a",{href:c,download:!0,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(A?"bg-white/20 hover:bg-white/30 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:[(0,wt.jsx)(Qs,{className:"w-3.5 h-3.5"}),"T\xe9l\xe9charger"]})]})]}):(0,wt.jsx)("div",{className:"px-4 py-3",children:(0,wt.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:d})}),(0,wt.jsxs)("div",{className:"px-4 pb-2 flex items-center ".concat(A?"justify-end":"justify-start"," gap-1 text-[10px] text-gray-400"),children:[(0,wt.jsx)("span",{children:he(h)}),A&&e.status&&(0,wt.jsx)(be,{status:e.status})]})]})]})]})})]},e.id||n)}):(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,wt.jsx)(Hs,{className:"w-16 h-16 mb-3"}),(0,wt.jsx)("p",{className:"text-sm font-medium",children:"Aucun message dans cette conversation"}),(0,wt.jsx)("p",{className:"text-xs mt-1",children:"Envoyez un message pour commencer la conversation"})]}),(0,wt.jsx)("div",{ref:ee})]}),H&&(0,wt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white flex-shrink-0",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:z&&H.type.startsWith("image/")?(0,wt.jsx)("img",{src:z,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):z&&H.type.startsWith("video/")?(0,wt.jsx)("video",{src:z,className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):(0,wt.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center border border-gray-200",children:(0,wt.jsx)(Ks,{className:"w-8 h-8 text-gray-400"})})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:H.name}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:me(H.size)}),Q&&(0,wt.jsxs)("div",{className:"mt-2",children:[(0,wt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,wt.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-200",style:{width:"".concat(V,"%")}})}),(0,wt.jsxs)("p",{className:"text-[10px] text-gray-500 mt-1",children:[V,"%"]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,wt.jsx)("button",{onClick:()=>{R(null),K(null),q(0),E(null)},disabled:Q,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",title:"Annuler",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:async()=>{if(!H||!A)return;const e={id:"temp-file-".concat(Date.now()),content:H.type.startsWith("image/")?"\ud83d\udcf7 Image":H.type.startsWith("video/")?"\ud83c\udfa5 Vid\xe9o":"\ud83d\udcce Fichier",type:H.type.startsWith("image/")?"image":H.type.startsWith("video/")?"video":"file",sender:"me",sendertype:"support",createdat:(new Date).toISOString(),status:"uploading",fileinfo:{name:H.name,size:H.size,filesize:H.size}};d(t=>o(o({},t),{},{messages:[...(null===t||void 0===t?void 0:t.messages)||[],e]})),L(!0),E(null);try{let t="file";H.type.startsWith("image/")?t="image":H.type.startsWith("video/")&&(t="video");const n=await Gs.uploadFile(A,H,t,e=>q(e));n.success?(d(t=>o(o({},t),{},{messages:t.messages.map(t=>t.id===e.id?o(o({},n.message),{},{sender:"me"}):t)})),R(null),K(null),q(0),Ae(!0)):(d(t=>o(o({},t),{},{messages:t.messages.filter(t=>t.id!==e.id)})),E("Erreur lors de l'envoi du fichier"))}catch(t){console.error("Erreur envoi fichier:",t),d(t=>o(o({},t),{},{messages:t.messages.filter(t=>t.id!==e.id)})),E(t.message||"Erreur lors de l'envoi du fichier")}finally{L(!1)}},disabled:Q,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",title:"Envoyer",children:Q?(0,wt.jsx)(Vs,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(qs,{className:"w-5 h-5"})})]})]})}),(0,wt.jsx)("div",{className:"border-t border-gray-200 p-4 bg-white flex-shrink-0",children:(0,wt.jsxs)("div",{className:"flex items-end gap-2",children:[(0,wt.jsxs)("div",{className:"flex gap-1 flex-shrink-0",children:[(0,wt.jsx)("button",{onClick:()=>{var e;A?null===(e=Z.current)||void 0===e||e.click():E("Veuillez d'abord s\xe9lectionner une conversation")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre un fichier",disabled:Q,children:(0,wt.jsx)(Ds,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:()=>{var e;A?null===(e=$.current)||void 0===e||e.click():E("Veuillez d'abord s\xe9lectionner une conversation")},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre une image",disabled:Q,children:(0,wt.jsx)(Ws,{className:"w-5 h-5"})})]}),(0,wt.jsx)("div",{className:"flex-1 min-w-0",children:(0,wt.jsx)("textarea",{ref:Y,rows:1,value:h,onChange:e=>f(e.target.value),placeholder:"\xc9crivez un message...",className:"w-full resize-none border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent max-h-[120px]",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),de())},disabled:_||Q})}),(0,wt.jsx)("button",{onClick:de,disabled:_||Q||!h.trim(),className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"Envoyer",children:_?(0,wt.jsx)(Vs,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(qs,{className:"w-5 h-5"})})]})})]}):(0,wt.jsx)("div",{className:"flex-1 flex items-center justify-center bg-gray-50 h-full",children:k?(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)(Vs,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-gray-500",children:"Chargement des conversations..."})]}):(0,wt.jsxs)("div",{className:"text-center text-gray-400",children:[(0,wt.jsx)(Hs,{className:"w-20 h-20 mx-auto mb-4 text-gray-300"}),(0,wt.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"S\xe9lectionnez une conversation"}),(0,wt.jsx)("p",{className:"text-sm",children:"Choisissez une conversation dans la liste pour commencer \xe0 discuter"})]})})}),y&&u&&(0,wt.jsx)("div",{className:"w-80 bg-white border-l border-gray-200 overflow-y-auto h-full flex-shrink-0 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:(0,wt.jsxs)("div",{className:"p-6",children:[(0,wt.jsxs)("div",{className:"text-center mb-6",children:[(0,wt.jsx)("img",{src:u.reference?xe(u.isanonymous,u.visitorname||u.name):u.avatar||"https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff",alt:"Avatar",className:"w-24 h-24 rounded-full mx-auto mb-3",onError:e=>{e.target.src="https://ui-avatars.com/api/?name=Utilisateur&background=3b82f6&color=fff"}}),(0,wt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:u.isanonymous?"Anonyme":u.visitorname||u.name||"Visiteur"}),(0,wt.jsxs)("p",{className:"text-sm text-gray-500",children:[u.role||"Support",u.location&&(0,wt.jsx)("span",{className:"block text-xs mt-1",children:u.location})]})]}),u.reference&&(0,wt.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"R\xe9f\xe9rence"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1 font-mono",children:u.reference})]}),u.dossierTitre&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Type"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:u.dossierTitre||"Signalement"})]})]}),(0,wt.jsx)("hr",{className:"my-4"}),(0,wt.jsxs)("div",{className:"space-y-4",children:[u.visitorname&&(0,wt.jsxs)("div",{children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Nom complet"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:u.visitorname})]}),u.email&&(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)(Es,{className:"w-4 h-4 text-gray-400 mt-1"}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Email"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1 break-all",children:u.email})]})]}),u.phone&&(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)(Ss,{className:"w-4 h-4 text-gray-400 mt-1"}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"T\xe9l\xe9phone"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:u.phone})]})]}),(u.address||u.city||u.province||u.region)&&(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)(_s,{className:"w-4 h-4 text-gray-400 mt-1"}),(0,wt.jsxs)("div",{className:"flex-1",children:[(0,wt.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Localisation"}),(0,wt.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:[u.address,u.city,u.province&&u.city?u.province:null,(u.city||u.province,u.region)].filter(Boolean).join(", ")||"Non renseign\xe9"})]})]})]})]})})]})},uN=e=>{var n,r;let{onOpenFullChat:s,autoOpen:a,targetReference:i,onAutoOpenHandled:l}=e;const[A,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!0),[g,x]=(0,t.useState)(""),[b,v]=(0,t.useState)([]),[y,w]=(0,t.useState)(null),[B,N]=(0,t.useState)(null),[j,C]=(0,t.useState)(!1),[k,F]=(0,t.useState)(null),[S,E]=(0,t.useState)(!1),[_,U]=(0,t.useState)(!1),[Q,L]=(0,t.useState)(!1),[I,M]=(0,t.useState)(null),[D,P]=(0,t.useState)(null),[T,O]=(0,t.useState)(null),[H,R]=(0,t.useState)(0),[z,K]=(0,t.useState)({isOpen:!1,currentImage:null,currentIndex:0,images:[]}),V=(0,t.useRef)(null),q=(0,t.useRef)(null),W=(0,t.useRef)(null),G=(0,t.useRef)(null),Y=(0,t.useRef)(null),J=(0,t.useRef)(null),X=(0,t.useRef)(0),Z=e=>{if(!e)return null;const t=e.url||e.name||e.filename;return t?Gs.getChatFileUrl(t):null},$=e=>e?(null===e||void 0===e?void 0:e.fileinfo)||(null!==e&&void 0!==e&&e.fileinfo?JSON.parse(e.fileinfo):null):null,ee=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?"":ri(t,"HH:mm",{locale:yi})}catch(NN){return""}},te=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?"":fi(t,{addSuffix:!0,locale:yi})}catch(NN){return""}},ne=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},re=(e,t)=>{if(e)return"https://ui-avatars.com/api/?name=Anonyme&background=94a3b8&color=fff";return"https://ui-avatars.com/api/?name=".concat(encodeURIComponent(t||"Visiteur"),"&background=3b82f6&color=fff")},se=e=>e?e.reference?e.isanonymous?{mainName:"Anonyme",subName:e.reference}:{mainName:e.visitorname||e.name||"Visiteur",subName:e.reference}:{mainName:e.name||"Utilisateur",subName:e.role||null}:{mainName:"Chargement...",subName:""},ae=e=>{if(e.messages&&e.messages.length>0){const t=e.messages[e.messages.length-1];return"image"===t.type?"\ud83d\udcf7 Image":"video"===t.type?"\ud83c\udfa5 Vid\xe9o":"file"===t.type?"\ud83d\udcce Fichier":t.content||t.text||"Message"}return e.lastmessage?e.lastmessage:e.lastMessage?e.lastMessage:"Nouvelle conversation"},ie=(0,t.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||C(!0),F(null);try{const e=await Gs.getUserChats();if(e.success){const t=e.chats.sort((e,t)=>{const n=new Date(e.lastmessageat||e.lastMessageAt||e.createdat||0);return new Date(t.lastmessageat||t.lastMessageAt||t.createdat||0)-n});v(t)}}catch(t){console.error("Erreur chargement chats:",t),e||F(t.message||"Erreur lors du chargement des conversations")}finally{e||C(!1)}},[]),oe=(0,t.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){t||C(!0);try{const n=await Gs.getChatDetails(e);n.success&&(N(e=>{var t;return JSON.stringify(e)!==JSON.stringify(n.chat)?(X.current=(null===(t=n.chat.messages)||void 0===t?void 0:t.length)||0,n.chat):e}),Gs.markAsRead(e).catch(()=>{}),t||ie(!0))}catch(n){console.error("Erreur chargement d\xe9tails chat:",n),t||F(n.message||"Erreur lors du chargement du chat")}finally{t||C(!1)}}},[ie]);(0,t.useEffect)(()=>{a&&!A&&(c(!0),d(!1),l&&l())},[a,A,l]),(0,t.useEffect)(()=>{if(!A||!i||0===b.length)return;const e=b.find(e=>e.reference===i);e?(w(e.id),p(!1),oe(e.id),L(!1),M(null)):(L(!0),M(i),p(!1),N(null),w(null),F(null),x(""))},[A,i,b,oe]),(0,t.useEffect)(()=>{A&&!u&&ie(!0)},[A,u,ie]),(0,t.useEffect)(()=>{if(A&&!u&&m){const e=setInterval(()=>{ie(!0)},15e3);return()=>clearInterval(e)}},[A,u,m,ie]),(0,t.useEffect)(()=>{if(y&&A&&!u&&!m){const e=setInterval(()=>{oe(y,!0)},3e3);return()=>clearInterval(e)}},[y,A,u,m,oe]),(0,t.useEffect)(()=>{V.current&&(V.current.style.height="auto",V.current.style.height=Math.min(V.current.scrollHeight,120)+"px")},[g]),(0,t.useEffect)(()=>{if(null!==B&&void 0!==B&&B.messages){const e=B.messages.length;if(e!==X.current){const t=J.current;if(t){(t.scrollHeight-t.scrollTop-t.clientHeight<150||1===e)&&setTimeout(()=>{var e;null===(e=Y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100)}X.current=e}}},[null===B||void 0===B?void 0:B.messages]),(0,t.useEffect)(()=>{const e=e=>{q.current&&!q.current.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const le=()=>{c(!0),d(!1),p(!0),F(null),ie()},Ae=()=>{c(!1),d(!1),p(!0),ce()},ce=()=>{w(null),N(null),x(""),F(null),P(null),O(null),L(!1),M(null),X.current=0},ue=async()=>{if(!g||!g.trim())return void x("");const e=g.trim();x(""),V.current&&(V.current.style.height="auto"),E(!0),F(null);try{if(Q&&I){const t=await Gs.createAdminChat({reference:I,message:e});if(!t.success)throw new Error(t.message||"Impossible de cr\xe9er la conversation");{L(!1),M(null);const e=t.chat.id;w(e),p(!1),N(t.chat),ie(!0),setTimeout(()=>{oe(e,!0)},500)}}else if(y){const t={id:"temp-"+Date.now(),content:e,text:e,sender:"admin",sendertype:"admin",createdat:(new Date).toISOString(),status:"sending",type:"text"};N(e=>o(o({},e),{},{messages:[...(null===e||void 0===e?void 0:e.messages)||[],t]}));const n=await Gs.sendMessage(y,{content:e,type:"text"});if(!n.success)throw new Error(n.message||"Erreur lors de l'envoi du message");setTimeout(()=>{oe(y,!0)},300)}else F("Veuillez s\xe9lectionner une conversation"),x(e)}catch(t){console.error("Erreur envoi message:",t),F(t.message||"\xc9chec de l'envoi. Veuillez r\xe9essayer."),x(e)}finally{E(!1)}},de=e=>{var t;const n=(null===B||void 0===B||null===(t=B.messages)||void 0===t?void 0:t.filter(e=>"image"===e.type&&Z($(e))).map(e=>{var t;return{url:Z($(e)),name:(null===(t=$(e))||void 0===t?void 0:t.name)||"Image",originalIndex:B.messages.indexOf(e)}}))||[],r=n.findIndex(t=>t.url===e);K({isOpen:!0,currentImage:e,currentIndex:r>=0?r:0,images:n})},he=e=>{const{currentIndex:t,images:n}=z;let r;r="next"===e?(t+1)%n.length:(t-1+n.length)%n.length,K(e=>o(o({},e),{},{currentIndex:r,currentImage:n[r].url}))},fe=e=>{let{status:t}=e;return t&&"sent"!==t?"delivered"===t?(0,wt.jsx)(Ts,{className:"w-3 h-3"}):"read"===t?(0,wt.jsx)(Ts,{className:"w-3 h-3 text-blue-400"}):null:(0,wt.jsx)(Ps,{className:"w-3 h-3"})},me=(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("input",{ref:W,type:"file",accept:".pdf,.doc,.docx,.txt,.xls,.xlsx,.mp4,.mov,.avi,.wmv",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;if(!y&&!Q)return void F("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation");if(n.size>26214400)return void F("Le fichier ne doit pas d\xe9passer 25 MB");if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","video/mp4","video/quicktime","video/x-msvideo","video/x-ms-wmv"].includes(n.type))return void F("Format non support\xe9. Utilisez PDF, DOC, XLS, TXT ou vid\xe9o (MP4, MOV, AVI, WMV)");if(n.type.startsWith("video/")){const e=new FileReader;e.onloadend=()=>{O(e.result),P(n),F(null)},e.readAsDataURL(n)}else P(n),O(null),F(null);W.current&&(W.current.value="")},className:"hidden"}),(0,wt.jsx)("input",{ref:G,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!n)return;if(!y&&!Q)return void F("Veuillez d'abord envoyer un message pour d\xe9marrer la conversation");if(n.size>26214400)return void F("L'image ne doit pas d\xe9passer 25 MB");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(n.type))return void F("Format d'image non support\xe9. Utilisez JPG, PNG, GIF ou WEBP");const r=new FileReader;r.onloadend=()=>{O(r.result),P(n),F(null)},r.readAsDataURL(n),G.current&&(G.current.value="")},className:"hidden"})]}),pe=z.isOpen&&(0,wt.jsxs)("div",{className:"fixed inset-0 bg-black/95 z-[9999] flex items-center justify-center",children:[(0,wt.jsx)("button",{onClick:()=>{K({isOpen:!1,currentImage:null,currentIndex:0,images:[]})},className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:(0,wt.jsx)(Lt,{className:"w-8 h-8"})}),(0,wt.jsxs)("div",{className:"absolute top-4 left-4 text-white z-10",children:[(0,wt.jsx)("p",{className:"text-sm font-medium",children:(null===(n=z.images[z.currentIndex])||void 0===n?void 0:n.name)||"Image"}),(0,wt.jsxs)("p",{className:"text-xs text-gray-300",children:[z.currentIndex+1," / ",z.images.length]})]}),z.images.length>1&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("button",{onClick:()=>he("prev"),className:"absolute left-4 text-white hover:text-gray-300 bg-black/50 rounded-full p-3 z-10",children:(0,wt.jsx)(_t,{className:"w-6 h-6"})}),(0,wt.jsx)("button",{onClick:()=>he("next"),className:"absolute right-4 text-white hover:text-gray-300 bg-black/50 rounded-full p-3 z-10",children:(0,wt.jsx)(Os,{className:"w-6 h-6"})})]}),(0,wt.jsx)("img",{src:z.currentImage,alt:"Aper\xe7u",className:"max-w-[90vw] max-h-[90vh] object-contain"})]});return A?u?(0,wt.jsxs)(wt.Fragment,{children:[me,(0,wt.jsxs)("button",{onClick:()=>d(!1),className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-2xl transition-all duration-300 hover:scale-110 z-50",children:[(0,wt.jsx)(Hs,{className:"w-7 h-7"}),b.filter(e=>(e.unreadcount||e.unread||0)>0).length>0&&(0,wt.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:b.filter(e=>(e.unreadcount||e.unread||0)>0).length})]})]}):(0,wt.jsxs)(wt.Fragment,{children:[me,pe,(0,wt.jsxs)("div",{className:"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 border border-gray-200",children:[(0,wt.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-t-2xl flex items-center justify-between",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[!m&&(0,wt.jsx)("button",{onClick:()=>{p(!0),ce(),ie(!0)},className:"hover:bg-white/20 p-1.5 rounded-lg transition-colors",children:(0,wt.jsx)(_t,{className:"w-5 h-5"})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("h3",{className:"font-semibold text-base truncate",children:m?"".concat(b.length," conversation").concat(b.length>1?"s":""):Q&&I?"Nouveau chat - ".concat(I):se(B).mainName}),(0,wt.jsx)("p",{className:"text-xs text-blue-100 truncate",children:m?"Support & Assistance":Q?"Nouvelle conversation":se(B).subName||(null===B||void 0===B?void 0:B.role)||"Support"})]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[!m&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("button",{onClick:()=>{s&&y&&(s(y),Ae())},className:"hover:bg-white/20 p-2 rounded-lg transition-colors",title:"Ouvrir en plein \xe9cran",children:(0,wt.jsx)(Rs,{className:"w-4 h-4"})}),!Q&&y&&(0,wt.jsxs)("div",{className:"relative",ref:q,children:[(0,wt.jsx)("button",{onClick:()=>f(!h),className:"hover:bg-white/20 p-2 rounded-lg transition-colors",children:(0,wt.jsx)(zB,{className:"w-4 h-4"})}),h&&(0,wt.jsx)("div",{className:"absolute top-full right-0 mt-2 bg-white text-gray-800 rounded-lg shadow-xl py-2 w-48 z-10",children:(0,wt.jsxs)("button",{onClick:()=>{(async e=>{try{const t=await Gs.toggleImportant(e);t.success&&((null===B||void 0===B?void 0:B.id)===e&&N(e=>o(o({},e),{},{isimportant:t.isimportant})),await ie(!0))}catch(t){console.error("Erreur toggle important:",t)}})(y),f(!1)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center gap-2",children:[(0,wt.jsx)(aN,{className:"w-4 h-4 ".concat(null!==B&&void 0!==B&&B.isimportant?"text-yellow-500 fill-yellow-500":"")}),null!==B&&void 0!==B&&B.isimportant?"Retirer l'importance":"Marquer comme important"]})})]})]}),(0,wt.jsx)("button",{onClick:()=>{d(!0)},className:"hover:bg-white/20 p-2 rounded-lg transition-colors",title:"R\xe9duire",children:(0,wt.jsx)(zs,{className:"w-4 h-4"})}),(0,wt.jsx)("button",{onClick:Ae,className:"hover:bg-white/20 p-2 rounded-lg transition-colors",title:"Fermer",children:(0,wt.jsx)(Lt,{className:"w-4 h-4"})})]})]}),m?(0,wt.jsx)("div",{className:"flex-1 overflow-y-auto",children:j?(0,wt.jsxs)("div",{className:"flex items-center justify-center h-full",children:[(0,wt.jsx)(Vs,{className:"w-8 h-8 text-blue-600 animate-spin"}),(0,wt.jsx)("span",{className:"ml-2 text-gray-500",children:"Chargement..."})]}):0===b.length?(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400 px-6",children:[(0,wt.jsx)(Hs,{className:"w-16 h-16 mb-3"}),(0,wt.jsx)("p",{className:"text-sm text-center font-medium",children:"Aucune conversation"}),(0,wt.jsx)("p",{className:"text-xs text-center mt-1",children:"Lorsqu'un utilisateur vous contactera, vos conversations appara\xeetront ici."})]}):b.map(e=>{const t=se(e),n=e.unreadcount||e.unread||0;return(0,wt.jsx)("div",{onClick:()=>{return t=e.id,w(t),p(!1),F(null),P(null),O(null),L(!1),M(null),X.current=0,void oe(t);var t},className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ".concat(y===e.id?"bg-blue-50":""),children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:(0,wt.jsx)("img",{src:re(e.isanonymous,e.visitorname||e.name),alt:"Avatar",className:"w-12 h-12 rounded-full"})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,wt.jsx)("h4",{className:"font-semibold text-gray-900 truncate",children:t.mainName}),e.isimportant&&(0,wt.jsx)(aN,{className:"w-3.5 h-3.5 text-yellow-500 fill-yellow-500 flex-shrink-0"})]}),e.lastmessageat&&(0,wt.jsx)("span",{className:"text-xs text-gray-400 flex-shrink-0",children:te(e.lastmessageat)})]}),t.subName&&(0,wt.jsx)("p",{className:"text-xs text-blue-600 mb-1 truncate",children:t.subName}),e.dossierTitre&&(0,wt.jsx)("p",{className:"text-xs text-gray-500 mb-1 truncate",children:e.dossierTitre}),(0,wt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,wt.jsx)("p",{className:"text-sm truncate ".concat(n>0?"text-gray-900 font-medium":"text-gray-500"),children:ae(e)}),n>0&&(0,wt.jsx)("span",{className:"ml-2 bg-blue-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center flex-shrink-0",children:n})]})]})]})},e.id)})}):(0,wt.jsxs)(wt.Fragment,{children:[B&&!Q&&(0,wt.jsx)("div",{className:"border-b border-gray-200 p-3 bg-gray-50",children:(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)("img",{src:re(B.isanonymous,B.visitorname||B.name),alt:"Avatar",className:"w-10 h-10 rounded-full"}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("p",{className:"font-medium text-sm text-gray-900 truncate",children:B.isanonymous?"Anonyme":B.visitorname||B.name||"Visiteur"}),B.isimportant&&(0,wt.jsx)(aN,{className:"w-3.5 h-3.5 text-yellow-500 fill-yellow-500"})]}),B.reference&&(0,wt.jsxs)("p",{className:"text-xs text-blue-600 truncate",children:[B.reference,B.dossierTitre&&(0,wt.jsxs)("span",{className:"text-gray-500 ml-1",children:["\u2022 ",B.dossierTitre]})]})]})]})}),Q&&I&&(0,wt.jsx)("div",{className:"border-b border-blue-200 p-3 bg-blue-50",children:(0,wt.jsxs)("div",{className:"flex items-start gap-2",children:[(0,wt.jsx)(Ut,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"Nouvelle conversation"}),(0,wt.jsxs)("p",{className:"text-xs text-blue-700 mt-1",children:["R\xe9f\xe9rence: ",(0,wt.jsx)("strong",{children:I})]}),(0,wt.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"\xc9crivez votre message ci-dessous pour d\xe9marrer la conversation."})]})]})}),(0,wt.jsxs)("div",{ref:J,className:"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-3",children:[k&&(0,wt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-red-700 text-sm flex items-start gap-2",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),(0,wt.jsx)("p",{children:k})]}),(null===B||void 0===B||null===(r=B.messages)||void 0===r?void 0:r.length)>0?B.messages.map((e,n)=>{var r,s,a,i;const o=e.sender,l=e.sendertype||e.sendertype,A="me"===o||"support"===l||"admin"===l||!("visitor"===o||"visitor"===l),c=Z($(e)),u=e.text||e.content,d=e.createdat||e.createdat||e.time;let h=null;if(d){const e=B.messages[n-1],t=e?e.createdat||e.createdat||e.time:null;try{const e=new Date(d),n=t?new Date(t):null;isNaN(e.getTime())||n&&ra(e,n)&&!isNaN(n.getTime())||(h=(e=>{if(!e)return null;try{const t=new Date(e);if(isNaN(t.getTime()))return null;if(sa(t))return"Aujourd'hui";if(oa(t))return"Hier";if(Aa(new Date,t)<7){const e=ri(t,"EEEE",{locale:yi});return e.charAt(0).toUpperCase()+e.slice(1)}return ri(t,"dd/MM/yyyy")}catch(NN){return null}})(d))}catch(NN){}}return(0,wt.jsxs)(t.Fragment,{children:[h&&(0,wt.jsx)("div",{className:"flex justify-center my-3",children:(0,wt.jsx)("span",{className:"bg-white text-gray-500 text-xs font-medium px-3 py-1 rounded-lg shadow-sm border border-gray-200",children:h})}),(0,wt.jsxs)("div",{className:"flex ".concat(A?"justify-end":"justify-start"),children:[!A&&(0,wt.jsx)("div",{className:"flex-shrink-0 self-end mb-1",children:(0,wt.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:B.isanonymous||!B.visitorname||"Anonyme"===B.visitorname?(0,wt.jsx)(ks,{className:"w-5 h-5 text-gray-500"}):(0,wt.jsx)("span",{className:"text-xs font-bold text-gray-600",children:(B.visitorname||"V").charAt(0).toUpperCase()})})}),(0,wt.jsx)("div",{className:"max-w-[75%] ".concat(A?"":"ml-2"),children:(0,wt.jsxs)("div",{className:"rounded-2xl shadow-sm overflow-hidden ".concat(A?"bg-blue-600 text-white rounded-br-sm":"bg-white text-gray-800 border border-gray-200 rounded-bl-sm"),children:["image"===e.type&&c&&(0,wt.jsxs)("div",{className:"relative group",children:[(0,wt.jsx)("img",{src:c,alt:(null===(r=$(e))||void 0===r?void 0:r.name)||"Image",className:"w-full max-w-xs cursor-pointer rounded-lg",style:{maxHeight:"300px",objectFit:"cover"},onClick:()=>de(c),onError:e=>{console.error("Erreur chargement image:",c),e.target.src="https://via.placeholder.com/300x200?text=Image+non+disponible"}}),(0,wt.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all flex items-center justify-center rounded-lg",children:(0,wt.jsx)("button",{onClick:()=>de(c),className:"opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all bg-white/90 hover:bg-white p-2 rounded-full shadow-lg",children:(0,wt.jsx)(Is,{className:"w-5 h-5 text-gray-800"})})})]}),"video"===e.type&&c&&(0,wt.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden max-w-xs",children:[(0,wt.jsxs)("video",{controls:!0,className:"w-full",style:{maxHeight:"250px"},preload:"metadata",onError:()=>console.error("Erreur chargement vid\xe9o:",c),children:[(0,wt.jsx)("source",{src:c,type:(null===(s=$(e))||void 0===s?void 0:s.type)||"video/mp4"}),"Votre navigateur ne supporte pas la lecture vid\xe9o."]}),(0,wt.jsxs)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[(0,wt.jsx)(Ms,{className:"w-3 h-3"}),"Vid\xe9o"]})]}),"file"===e.type&&c&&(0,wt.jsxs)("div",{className:"p-3 ".concat(A?"bg-blue-700":"bg-gray-50"),children:[(0,wt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,wt.jsx)("div",{className:"p-2 rounded-lg ".concat(A?"bg-blue-800":"bg-white border border-gray-200"),children:(0,wt.jsx)(Ds,{className:"w-5 h-5 ".concat(A?"text-white":"text-gray-600")})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium truncate ".concat(A?"text-white":"text-gray-800"),children:(null===(a=$(e))||void 0===a?void 0:a.name)||"Fichier"}),(null===(i=$(e))||void 0===i?void 0:i.filesize)&&(0,wt.jsx)("p",{className:"text-xs ".concat(A?"text-blue-100":"text-gray-500"),children:ne($(e).filesize)})]})]}),(0,wt.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,wt.jsxs)("a",{href:c,target:"_blank",rel:"noreferrer",className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(A?"bg-blue-800 hover:bg-blue-900 text-white":"bg-white hover:bg-gray-100 text-gray-700 border border-gray-200"),children:[(0,wt.jsx)(Us,{className:"w-3.5 h-3.5"}),"Voir"]}),(0,wt.jsxs)("a",{href:c,download:!0,className:"flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-xs font-medium transition-colors ".concat(A?"bg-white/20 hover:bg-white/30 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:[(0,wt.jsx)(Qs,{className:"w-3.5 h-3.5"}),"T\xe9l\xe9charger"]})]})]}),u&&(0,wt.jsx)("div",{className:"px-4 py-3",children:(0,wt.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:u})}),(0,wt.jsxs)("div",{className:"px-4 pb-2 flex items-center ".concat(A?"justify-end":"justify-start"," gap-1 text-[10px] ").concat(A?"text-blue-100":"text-gray-400"),children:[(0,wt.jsx)("span",{children:ee(d)}),A&&(0,wt.jsx)(fe,{status:e.status})]})]})})]})]},e.id||n)}):(0,wt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,wt.jsx)(Hs,{className:"w-12 h-12 mb-2"}),(0,wt.jsx)("p",{className:"text-sm",children:Q?"Aucun message pour le moment":"Aucun message"}),(0,wt.jsx)("p",{className:"text-xs",children:Q?"\xc9crivez le premier message":"En attente du premier message"})]}),(0,wt.jsx)("div",{ref:Y})]}),D&&(0,wt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-start gap-3",children:[(0,wt.jsx)("div",{className:"flex-shrink-0",children:T&&D.type.startsWith("image/")?(0,wt.jsx)("img",{src:T,alt:"Preview",className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):T&&D.type.startsWith("video/")?(0,wt.jsx)("video",{src:T,className:"w-16 h-16 rounded-lg object-cover border border-gray-200"}):(0,wt.jsx)("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center border border-gray-200",children:(0,wt.jsx)(Ks,{className:"w-8 h-8 text-gray-400"})})}),(0,wt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,wt.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:D.name}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:ne(D.size)}),_&&(0,wt.jsxs)("div",{className:"mt-2",children:[(0,wt.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,wt.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-200",style:{width:"".concat(H,"%")}})}),(0,wt.jsxs)("p",{className:"text-[10px] text-gray-500 mt-1",children:[H,"%"]})]})]}),(0,wt.jsxs)("div",{className:"flex gap-2",children:[(0,wt.jsx)("button",{onClick:()=>{P(null),O(null),R(0),F(null)},disabled:_,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",title:"Annuler",children:(0,wt.jsx)(Lt,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:async()=>{if(D&&y){U(!0),F(null);try{let e="file";D.type.startsWith("image/")?e="image":D.type.startsWith("video/")&&(e="video");const t=await Gs.uploadFile(y,D,e,e=>R(e));if(!t.success)throw new Error(t.message||"Erreur lors de l'envoi du fichier");P(null),O(null),R(0),await oe(y,!0)}catch(e){console.error("Erreur envoi fichier:",e),F(e.message||"Erreur lors de l'envoi du fichier")}finally{U(!1)}}},disabled:_,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",title:"Envoyer",children:_?(0,wt.jsx)(Vs,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(qs,{className:"w-5 h-5"})})]})]})}),(0,wt.jsx)("div",{className:"border-t border-gray-200 p-3 bg-white",children:(0,wt.jsxs)("div",{className:"flex items-end gap-2",children:[(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>{var e;return null===(e=W.current)||void 0===e?void 0:e.click()},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre un fichier",disabled:!y&&!Q,children:(0,wt.jsx)(Ds,{className:"w-5 h-5"})}),(0,wt.jsx)("button",{onClick:()=>{var e;return null===(e=G.current)||void 0===e?void 0:e.click()},className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Joindre une image",disabled:!y&&!Q,children:(0,wt.jsx)(Ws,{className:"w-5 h-5"})})]}),(0,wt.jsx)("div",{className:"flex-1",children:(0,wt.jsx)("textarea",{ref:V,rows:1,value:g,onChange:e=>x(e.target.value),placeholder:"\xc9crivez un message...",className:"w-full resize-none border border-gray-200 rounded-xl px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent max-h-[120px]",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ue())},disabled:S||_})}),(0,wt.jsx)("button",{onClick:ue,disabled:S||_||!g.trim(),className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Envoyer",children:S?(0,wt.jsx)(Vs,{className:"w-5 h-5 animate-spin"}):(0,wt.jsx)(qs,{className:"w-5 h-5"})})]})})]})]})]}):(0,wt.jsxs)(wt.Fragment,{children:[me,(0,wt.jsxs)("button",{onClick:le,className:"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-2xl transition-all duration-300 hover:scale-110 z-50",title:"Ouvrir les conversations",children:[(0,wt.jsx)(Hs,{className:"w-7 h-7"}),b.filter(e=>(e.unreadcount||e.unread||0)>0).length>0&&(0,wt.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:b.filter(e=>(e.unreadcount||e.unread||0)>0).length})]})]})},dN=e=>{let{onDeconnexion:n}=e;const[r,s]=(0,t.useState)("dashboard"),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[A,c]=(0,t.useState)(!0),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{(()=>{try{const e=_i.getUser();e&&e.email?l(e):n&&n()}catch(e){n&&n()}finally{c(!1)}})()},[n]);const m=e=>{f(e),d(!0)};return A?(0,wt.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,wt.jsx)("p",{className:"text-gray-600",children:"Chargement du tableau de bord..."})]})}):o?(0,wt.jsxs)("div",{className:"flex h-screen bg-gray-100 overflow-hidden",children:[(0,wt.jsx)(so,{currentView:r,onViewChange:s,collapsed:a,onToggle:()=>i(!a)}),(0,wt.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,wt.jsx)(eo,{onNavigateToNotifications:()=>s("notifications"),onDeconnexion:n,onNavigateToProfile:()=>s("profil"),onNavigateToSettings:()=>s("settings"),adminData:o,userRole:"admin"}),(0,wt.jsx)("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 ".concat("chat"===r?"pt-24 h-screen":"mt-20"),children:(()=>{switch(r){case"dashboard":default:return(0,wt.jsx)($f,{});case"reports":return(0,wt.jsx)(Zw,{onContactReference:m});case"chat":return(0,wt.jsx)(cN,{});case"indicateurs":return(0,wt.jsx)(eB(),{});case"enseignants":return(0,wt.jsx)(sN,{});case"equipe":return(0,wt.jsx)(RB,{});case"audit":return(0,wt.jsx)(uB,{});case"notifications":return(0,wt.jsx)(aB,{});case"profil":return(0,wt.jsx)(jB,{userData:o})}})()})]}),"chat"!==r&&(0,wt.jsx)(uN,{onOpenFullChat:e=>{s("chat")},autoOpen:u,targetReference:h,onAutoOpenHandled:()=>d(!1)})]}):(0,wt.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,wt.jsx)("div",{className:"text-center text-red-600",children:(0,wt.jsx)("p",{children:"Authentification requise"})})})},hN=e=>{let{currentView:t,onViewChange:n,collapsed:r,onToggle:s}=e;const a=[{id:"dashboard",label:"Tableau de bord",icon:(0,wt.jsx)(to,{size:20})},{id:"AgentReportView",label:"Gestion de signalements",icon:(0,wt.jsx)(Ks,{size:20})}];return(0,wt.jsxs)("aside",{className:"\n        fixed left-0 top-20 bottom-0 bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out z-30\n        ".concat(r?"w-20":"w-64","\n      "),children:[(0,wt.jsxs)("div",{className:"relative flex items-center justify-end px-4 pt-4 pb-2 h-12 shrink-0",children:[!r&&(0,wt.jsx)("h2",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Menu Agent"}),(0,wt.jsx)("button",{onClick:s,className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-500 transition-colors relative z-10","aria-label":r?"Agrandir le menu":"R\xe9duire le menu",children:r?(0,wt.jsx)(Os,{size:20}):(0,wt.jsx)(_t,{size:20})})]}),(0,wt.jsx)("nav",{className:"flex-1 overflow-y-auto px-3 space-y-1 mt-2",children:a.map(e=>(0,wt.jsxs)("button",{onClick:()=>n(e.id),className:"\n              w-full flex items-center p-3 rounded-lg transition-colors duration-200 group relative\n              ".concat(t===e.id?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n            "),title:r?e.label:"",children:[(0,wt.jsx)("span",{className:"flex-shrink-0 ".concat(r?"mx-auto":""),children:e.icon}),!r&&(0,wt.jsx)("span",{className:"ml-3 truncate text-sm",children:e.label}),t===e.id&&!r&&(0,wt.jsx)("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-blue-600"}),r&&(0,wt.jsx)("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 transition-opacity",children:e.label})]},e.id))}),!r&&(0,wt.jsx)("div",{className:"p-4 border-t border-gray-100 text-xs text-center text-gray-400 shrink-0",children:"\xa9 daaq-mesupres 2025"})]})},fN=e=>{let{isSorted:t,isAsc:n}=e;return t?n?(0,wt.jsx)(Vf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(qf,{className:"w-3 h-3 text-blue-600"}):(0,wt.jsx)(Kf,{className:"w-3 h-3 text-gray-400"})},mN=()=>{const[e,n]=(0,t.useState)({search:"",statut:"",dateDebut:"",dateFin:""}),[r,s]=(0,t.useState)(1),[a,i]=(0,t.useState)(10),[l,A]=(0,t.useState)([]),[c,u]=(0,t.useState)(!0),[d,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)("tous"),[x,b]=(0,t.useState)({general:!0,auteur:!0,description:!0,pieces:!0}),[v,y]=(0,t.useState)({key:"date",direction:"desc"}),w=[{id:"faux-diplomes",icon:Ks,name:"Faux Dipl\xf4mes"},{id:"offre-formation-irreguliere",icon:Mi,name:"Offre de formation irr\xe9guli\xe8re (non habilit\xe9)"},{id:"recrutements-irreguliers",icon:em,name:"Recrutements Irr\xe9guliers"},{id:"harcelement",icon:tm,name:"Harc\xe8lement"},{id:"corruption",icon:tm,name:"Corruption"},{id:"divers",icon:nm,name:"Divers"}];(0,t.useEffect)(()=>{(async()=>{u(!0),h(null);try{const e=(await is.get("/reports?per_page=1000")).data;if(e.success&&Array.isArray(e.data)){const t=e.data.map(e=>{let t=[];try{e.files&&("string"===typeof e.files?t=JSON.parse(e.files):Array.isArray(e.files)&&(t=e.files))}catch(NN){}const n=e.description||"Aucune description",r=n.length>80?n.substring(0,80)+"...":n;return{id:e.id,reference:e.reference,date:e.created_at,nom_prenom:e.is_anonymous?"Anonyme":e.name||"Non sp\xe9cifi\xe9",telephone:e.phone||"N/A",email:e.email||"N/A",categorie:e.category,categorieLabel:e.category,raison:e.title||"Non sp\xe9cifi\xe9",type_signalement:e.is_anonymous?"Anonyme":"Non-Anonyme",explication:e.description||"Aucune description",shortDescription:r,files:t,status:e.status||"en_cours",assigned_to:e.assigned_to||"Non assign\xe9",city:e.city,province:e.province,region:e.region,has_proof:e.has_proof||!1}});A(t)}else A([])}catch(d){var e,t;h((null===(e=d.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||d.message)}finally{u(!1)}})()},[]);const B=e=>{if("tous"===e){return{total:l.length,encours:l.filter(e=>"en_cours"===e.status).length,resolus:l.filter(e=>"classifier"===e.status).length}}const t=l.filter(t=>t.categorie===e);return{total:t.length,encours:t.filter(e=>"en_cours"===e.status).length,resolus:t.filter(e=>"classifier"===e.status).length}},N=e=>{if(!e)return"-";try{return new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(NN){return e}},j=e=>({en_cours:"En cours",investigation:"Ouverture d'enqu\xeates",transmis_autorite:"Transmis aux autorit\xe9s comp\xe9tentes",classifier:"Dossier class\xe9 sans suite"}[e]||e),C=e=>({investigateur:"Investigateur",cac_daj:"DAAQ / CAC / DAJ",autorite_competente:"Autorit\xe9 comp\xe9tente"}[e]||e||"Non assign\xe9"),k=(0,t.useMemo)(()=>{const e=[...l].sort((e,t)=>{if(!v.key)return 0;let n=e[v.key],r=t[v.key];return"date"===v.key&&(n=new Date(n),r=new Date(r)),"reference"===v.key&&(n=n.toLowerCase(),r=r.toLowerCase()),n<r?"asc"===v.direction?-1:1:n>r?"asc"===v.direction?1:-1:0});return e},[l,v]),F=(0,t.useMemo)(()=>{let t=k;return"tous"!==p&&(t=t.filter(e=>e.categorie===p)),(e.dateDebut||e.dateFin)&&(t=t.filter(t=>{const n=new Date(t.date),r=e.dateDebut?new Date(e.dateDebut):null,s=e.dateFin?new Date(e.dateFin):null;let a=!0;if(r&&(a=a&&n>=r),s){const e=new Date(s);e.setDate(e.getDate()+1),a=a&&n<e}return a})),t.filter(t=>{const n=!e.search||t.reference.toLowerCase().includes(e.search.toLowerCase())||t.nom_prenom.toLowerCase().includes(e.search.toLowerCase())||t.categorieLabel&&t.categorieLabel.toLowerCase().includes(e.search.toLowerCase())||t.explication.toLowerCase().includes(e.search.toLowerCase()),r=!e.statut||t.status===e.statut;return n&&r})},[k,e,p]),S=Math.ceil(F.length/a),E=r*a,_=E-a,U=F.slice(_,E),Q=e=>{y(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"})),s(1)},L=(e,t)=>{n(n=>o(o({},n),{},{[e]:t})),s(1)},I=e=>{m(e),setTimeout(()=>{const e=document.querySelector(".print-section");if(e){const t=document.body.innerHTML,n=e.innerHTML;document.body.innerHTML=n,window.print(),document.body.innerHTML=t,window.location.reload()}},500)},M=e=>{b(t=>o(o({},t),{},{[e]:!t[e]}))},D=w.find(e=>e.id===p),P=B(p);return f?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("style",{children:"\n            @media print {\n              body * {\n                visibility: hidden;\n              }\n              \n              .print-section,\n              .print-section * {\n                visibility: visible;\n              }\n              \n              .print-section {\n                position: absolute;\n                left: 0;\n                top: 0;\n                width: 100%;\n                background: white;\n                padding: 20px;\n              }\n              \n              .no-print {\n                display: none !important;\n              }\n              \n              .print-actions {\n                display: none !important;\n              }\n            }\n          "}),(0,wt.jsxs)("div",{className:"print-section p-4 bg-white min-h-screen",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-4 no-print",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsxs)("h1",{className:"text-lg font-bold text-gray-900",children:["D\xe9tail du Signalement - ",f.reference]}),(0,wt.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[N(f.date)," \u2022"," ",f.categorieLabel]})]}),(0,wt.jsxs)("button",{onClick:()=>m(null),className:"flex items-center gap-2 px-3 py-2 text-xs border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,wt.jsx)(_t,{className:"w-3 h-3"}),"Retour \xe0 la liste"]})]}),(0,wt.jsxs)("div",{className:"space-y-3",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>M("general"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations G\xe9n\xe9rales"})]}),x.general?(0,wt.jsx)(rm,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Xi,{className:"w-4 h-4 text-gray-500"})]}),x.general&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:(0,wt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-xs",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"R\xe9f\xe9rence:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.reference})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Date:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:N(f.date)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Cat\xe9gorie:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.categorieLabel})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Statut:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===f.status?"bg-yellow-100 text-yellow-800":"classifier"===f.status?"bg-blue-100 text-blue-800":"investigation"===f.status?"bg-purple-100 text-purple-800":"transmis_autorite"===f.status?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:j(f.status)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Assign\xe9 \xe0:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("investigateur"===f.assigned_to?"bg-indigo-100 text-indigo-800":"cac_daj"===f.assigned_to?"bg-blue-100 text-blue-800":"autorite_competente"===f.assigned_to?"bg-cyan-100 text-cyan-800":"bg-gray-100 text-gray-800"),children:C(f.assigned_to)})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Type:"}),(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:f.type_signalement})]})]})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>M("auteur"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Informations de l'Auteur"})]}),x.auteur?(0,wt.jsx)(rm,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Xi,{className:"w-4 h-4 text-gray-500"})]}),x.auteur&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:"Anonyme"===f.type_signalement?(0,wt.jsxs)("div",{className:"text-center py-3",children:[(0,wt.jsx)(ro,{className:"w-6 h-6 text-gray-400 mx-auto mb-1"}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Signalement anonyme"})]}):(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Nom / Pr\xe9nom:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.nom_prenom})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"Email:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.email})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("span",{className:"text-gray-600 block mb-1",children:"T\xe9l\xe9phone:"}),(0,wt.jsx)("p",{className:"font-medium text-sm",children:f.telephone})]})]})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>M("description"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Description du Signalement"})]}),x.description?(0,wt.jsx)(rm,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Xi,{className:"w-4 h-4 text-gray-500"})]}),x.description&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:(0,wt.jsx)("div",{className:"bg-gray-50 rounded-md p-3 text-xs leading-relaxed",children:f.explication})})]}),(0,wt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[(0,wt.jsxs)("button",{onClick:()=>M("pieces"),className:"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,wt.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,wt.jsx)("h4",{className:"text-sm font-semibold text-gray-900",children:"Pi\xe8ces Jointes"})]}),x.pieces?(0,wt.jsx)(rm,{className:"w-4 h-4 text-gray-500"}):(0,wt.jsx)(Xi,{className:"w-4 h-4 text-gray-500"})]}),x.pieces&&(0,wt.jsx)("div",{className:"px-3 pb-3",children:f.files&&f.files.length>0?(0,wt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:f.files.map((e,t)=>{var n;const r="string"===typeof e?e:e.name||"",s=null===(n=r.split(".").pop())||void 0===n?void 0:n.toLowerCase(),a=["jpg","jpeg","png","gif","webp"].includes(s),i="pdf"===s;return(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg border overflow-hidden",children:[(0,wt.jsx)("div",{className:"aspect-video bg-white flex items-center justify-center",children:a?(0,wt.jsx)("img",{src:"".concat(is.defaults.baseURL,"/files/").concat(encodeURIComponent(r)),alt:r,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='120'%3E%3Crect width='100%25' height='100%25' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' fill='%239ca3af' font-size='12'%3EImpossible de charger l'image%3C/text%3E%3C/svg%3E"}}):i?(0,wt.jsxs)("div",{className:"text-center p-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,wt.jsx)("span",{className:"text-red-600 font-bold text-xs",children:"PDF"})}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Document PDF"})]}):(0,wt.jsxs)("div",{className:"text-center p-2",children:[(0,wt.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center mx-auto mb-1",children:(0,wt.jsx)("span",{className:"text-gray-600 font-bold text-xs",children:null===s||void 0===s?void 0:s.toUpperCase()})}),(0,wt.jsxs)("p",{className:"text-xs text-gray-600",children:["Fichier ",s]})]})}),(0,wt.jsxs)("div",{className:"p-2",children:[(0,wt.jsx)("p",{className:"text-xs font-medium truncate mb-1",title:r,children:r}),(0,wt.jsxs)("div",{className:"flex gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{const t=encodeURIComponent(e),n="".concat(is.defaults.baseURL,"/files/").concat(t);window.open(n,"_blank")})(r),className:"flex-1 bg-blue-50 text-blue-600 py-1 px-1 rounded text-xs hover:bg-blue-100 transition-colors",children:"Voir"}),(0,wt.jsx)("button",{onClick:()=>(async e=>{try{const t=encodeURIComponent(e),n=await is.get("/files/".concat(t,"/download"),{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([n.data])),s=document.createElement("a");s.href=r,s.setAttribute("download",e),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(r)}catch(d){alert("Erreur lors du t\xe9l\xe9chargement du fichier")}})(r),className:"flex-1 bg-gray-100 text-gray-700 py-1 px-1 rounded text-xs hover:bg-gray-200 transition-colors",children:"T\xe9l\xe9charger"})]})]})]},t)})}):(0,wt.jsxs)("div",{className:"text-center py-4",children:[(0,wt.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,wt.jsx)(Qs,{className:"w-6 h-6 text-gray-400"})}),(0,wt.jsx)("p",{className:"text-xs text-gray-600",children:"Aucun fichier joint"})]})})]})]}),(0,wt.jsx)("div",{className:"flex justify-between items-center mt-6 pt-4 border-t no-print",children:(0,wt.jsx)("div",{className:"flex gap-2",children:(0,wt.jsxs)("button",{onClick:()=>I(f),className:"flex items-center gap-1 px-3 py-1 text-xs bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,wt.jsx)(im,{className:"w-3 h-3"}),"Imprimer"]})})})]})]}):(0,wt.jsxs)("div",{className:"p-4",children:[(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h1",{className:"text-base font-semibold",children:"Liste compl\xe8te des signalements (Agent)"}),(0,wt.jsx)("p",{className:"text-xs text-gray-500",children:"Consultation et visualisation des dossiers avec filtres avanc\xe9s."})]}),(0,wt.jsx)("div",{className:"flex items-center gap-2",children:(0,wt.jsxs)("button",{onClick:()=>{const e=[["ID","R\xc9F\xc9RENCE","DATE","NOM / PR\xc9NOM","CAT\xc9GORIE","STATUT","ASSIGN\xc9 \xc0"],...F.map(e=>[e.id,e.reference,N(e.date),e.nom_prenom,e.categorieLabel||"N/A",j(e.status),C(e.assigned_to)])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),t=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),r=URL.createObjectURL(t);n.setAttribute("href",r),n.setAttribute("download","signalements_agent_".concat((new Date).toISOString().split("T")[0],".csv")),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)},className:"flex items-center gap-1 px-3 py-1 text-xs border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Qs,{className:"w-3 h-3"}),"Exporter CSV"]})})]}),(0,wt.jsxs)("div",{className:"mb-6 bg-white rounded-lg border p-4",children:[(0,wt.jsxs)("div",{className:"mb-4",children:[(0,wt.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-1",children:"Analyse D\xe9taill\xe9e par Cat\xe9gories"}),(0,wt.jsx)("p",{className:"text-sm text-gray-600",children:"Visualisation et analyse approfondie des signalements par cat\xe9gorie"})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-2 mb-4",children:[(0,wt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat("tous"===p?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>g("tous"),children:[(0,wt.jsx)(lm,{className:"w-5 h-5 mb-1"}),(0,wt.jsx)("span",{className:"text-xs font-medium",children:"Toutes"})]}),w.map(e=>{const t=B(e.id),n=e.icon;return(0,wt.jsxs)("button",{className:"flex flex-col items-center justify-center p-3 rounded-lg border transition-all h-full ".concat(p===e.id?"bg-blue-50 border-blue-200 text-blue-700 font-semibold":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50"),onClick:()=>g(e.id),title:e.name,children:[(0,wt.jsx)(n,{className:"w-5 h-5 mb-1"}),(0,wt.jsx)("span",{className:"text-xs font-medium truncate w-full text-center",children:e.name.split(" ")[0]}),(0,wt.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:t.total})]},e.id)})]}),(0,wt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,wt.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"tous"===p?"Synth\xe8se - Toutes cat\xe9gories":"Synth\xe8se - ".concat(null===D||void 0===D?void 0:D.name)}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"tous"===p?k.length:P.total}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"Signalements totaux"})]}),(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:"tous"===p?l.filter(e=>"en_cours"===e.status).length:P.encours}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"En cours"})]}),(0,wt.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border text-center",children:[(0,wt.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"tous"===p?l.filter(e=>"classifier"===e.status).length:P.resolus}),(0,wt.jsx)("div",{className:"text-gray-500 text-sm mt-1",children:"R\xe9solus"})]})]})]})]}),(0,wt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-3",children:[(0,wt.jsx)("div",{className:"md:col-span-2",children:(0,wt.jsx)("input",{type:"text",value:e.search,onChange:e=>L("search",e.target.value),placeholder:"Rechercher par r\xe9f\xe9rence, nom, description...",className:"w-full px-2 py-1 text-xs border rounded-md"})}),(0,wt.jsx)("div",{children:(0,wt.jsx)("input",{type:"date",value:e.dateDebut,onChange:e=>L("dateDebut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date d\xe9but"})}),(0,wt.jsx)("div",{children:(0,wt.jsx)("input",{type:"date",value:e.dateFin,onChange:e=>L("dateFin",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",placeholder:"Date fin"})}),(0,wt.jsx)("div",{children:(0,wt.jsxs)("select",{value:e.statut,onChange:e=>L("statut",e.target.value),className:"w-full px-2 py-1 text-xs border rounded-md",children:[(0,wt.jsx)("option",{value:"",children:"Tous les statuts"}),(0,wt.jsx)("option",{value:"en_cours",children:"En cours"}),(0,wt.jsx)("option",{value:"investigation",children:"Ouverture d'enqu\xeates"}),(0,wt.jsx)("option",{value:"transmis_autorite",children:"Transmis aux autorit\xe9s comp\xe9tentes"}),(0,wt.jsx)("option",{value:"classifier",children:"Dossier class\xe9 sans suite"})]})})]}),(0,wt.jsxs)("div",{className:"flex items-center justify-between mb-2 text-xs",children:[(0,wt.jsxs)("button",{onClick:()=>{n({search:"",statut:"",dateDebut:"",dateFin:""}),s(1)},className:"flex items-center gap-1 px-2 py-1 border rounded-md hover:bg-gray-50",children:[(0,wt.jsx)(Lt,{className:"w-3 h-3"}),"R\xe9initialiser les filtres"]}),(0,wt.jsxs)("div",{className:"text-gray-500",children:[F.length," signalements trouv\xe9s"]})]}),d&&(0,wt.jsxs)("div",{className:"flex items-center gap-2 p-2 mb-2 text-xs text-red-700 bg-red-50 border border-red-200 rounded-md",children:[(0,wt.jsx)(Ut,{className:"w-4 h-4"}),(0,wt.jsxs)("span",{children:["Erreur lors du chargement des donn\xe9es : ",d]})]}),(0,wt.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,wt.jsx)("div",{className:"overflow-x-auto",children:c?(0,wt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Chargement en cours..."}):0===F.length?(0,wt.jsx)("div",{className:"p-4 text-center text-xs text-gray-500",children:"Aucun signalement trouv\xe9 avec les filtres actuels"}):(0,wt.jsxs)("table",{className:"min-w-full text-xs",children:[(0,wt.jsx)("thead",{className:"bg-gray-50",children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>Q("id"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"ID"}),(0,wt.jsx)(fN,{isSorted:"id"===v.key,isAsc:"asc"===v.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>Q("reference"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"R\xc9F\xc9RENCE"}),(0,wt.jsx)(fN,{isSorted:"reference"===v.key,isAsc:"asc"===v.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:(0,wt.jsxs)("button",{onClick:()=>Q("date"),className:"flex items-center gap-1 hover:text-blue-600 transition-colors w-full",children:[(0,wt.jsx)("span",{children:"DATE"}),(0,wt.jsx)(fN,{isSorted:"date"===v.key,isAsc:"asc"===v.direction})]})}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"NOM / PR\xc9NOM"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"CAT\xc9GORIE"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"DESCRIPTION"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"STATUT"}),(0,wt.jsx)("th",{className:"px-2 py-2 text-left",children:"ACTIONS"})]})}),(0,wt.jsx)("tbody",{children:U.map(e=>(0,wt.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,wt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.id}),(0,wt.jsx)("td",{className:"px-2 py-2 font-medium",children:e.reference}),(0,wt.jsx)("td",{className:"px-2 py-2",children:N(e.date)}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.nom_prenom}),(0,wt.jsx)("td",{className:"px-2 py-2",children:e.categorieLabel}),(0,wt.jsx)("td",{className:"px-2 py-2 max-w-[150px]",children:(0,wt.jsx)("div",{className:"text-xs text-gray-600 line-clamp-2",children:e.shortDescription})}),(0,wt.jsx)("td",{className:"px-2 py-2",children:(0,wt.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("en_cours"===e.status?"bg-yellow-100 text-yellow-800":"classifier"===e.status?"bg-blue-100 text-blue-800":"investigation"===e.status?"bg-purple-100 text-purple-800":"transmis_autorite"===e.status?"bg-indigo-100 text-indigo-800":"bg-gray-100 text-gray-800"),children:j(e.status)})}),(0,wt.jsx)("td",{className:"px-2 py-2",children:(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>(e=>{m((null===f||void 0===f?void 0:f.id)===e.id?null:e),b({general:!0,auteur:!0,description:!0,pieces:!0})})(e),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Voir d\xe9tails",children:(0,wt.jsx)(Us,{className:"w-3 h-3"})}),(0,wt.jsx)("button",{onClick:()=>I(e),className:"p-1 text-gray-600 hover:bg-gray-100 rounded transition-colors",title:"Imprimer",children:(0,wt.jsx)(im,{className:"w-3 h-3"})})]})})]},e.id))})]})}),F.length>0&&(0,wt.jsxs)("div",{className:"flex items-center justify-between px-2 py-2 border-t bg-gray-50",children:[(0,wt.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,wt.jsx)("span",{children:"\xc9l\xe9ments par page :"}),(0,wt.jsxs)("select",{value:a,onChange:e=>{i(Number(e.target.value)),s(1)},className:"px-2 py-1 border rounded-md text-xs",children:[(0,wt.jsx)("option",{value:10,children:"10"}),(0,wt.jsx)("option",{value:30,children:"30"}),(0,wt.jsx)("option",{value:50,children:"50"}),(0,wt.jsx)("option",{value:100,children:"100"})]}),(0,wt.jsxs)("span",{className:"text-gray-500",children:[_+1,"-",Math.min(E,F.length)," sur"," ",F.length]})]}),(0,wt.jsxs)("div",{className:"flex items-center gap-1",children:[(0,wt.jsx)("button",{onClick:()=>s(e=>Math.max(1,e-1)),disabled:1===r,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(_t,{className:"w-4 h-4"})}),(()=>{const e=[];if(S<=7)for(let t=1;t<=S;t++)e.push(t);else{e.push(1);let t=Math.max(2,r-2),n=Math.min(S-1,r+2);r<=3&&(n=5),r>=S-2&&(t=S-5+1),t>2&&e.push("...");for(let r=t;r<=n;r++)e.push(r);n<S-1&&e.push("..."),e.push(S)}return e})().map((e,t)=>"..."===e?(0,wt.jsx)("span",{className:"px-2 text-xs text-gray-500",children:"..."},"ellipsis-".concat(t)):(0,wt.jsx)("button",{onClick:()=>s(e),className:"px-2 py-1 text-xs border rounded-md ".concat(r===e?"bg-blue-600 text-white":"bg-white"),children:e},e)),(0,wt.jsx)("button",{onClick:()=>s(e=>Math.min(S,e+1)),disabled:r===S||0===S,className:"p-1 border rounded-md disabled:opacity-50",children:(0,wt.jsx)(Os,{className:"w-4 h-4"})})]})]})]})]})},pN=e=>{let{onDeconnexion:n}=e;const[r,s]=(0,t.useState)("dashboard"),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[A,c]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(()=>{try{const e=_i.getUser();e&&e.email?l(e):null===n||void 0===n||n()}catch(e){null===n||void 0===n||n()}finally{c(!1)}})()},[n]);return A?(0,wt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-green-600 mx-auto"}),(0,wt.jsx)("p",{className:"mt-6 text-lg text-gray-600",children:"Chargement..."})]})}):o?(0,wt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,wt.jsx)(eo,{adminData:o,onDeconnexion:n,onNavigateToProfile:()=>s("profil"),onNavigateToNotifications:()=>s("notifications")}),(0,wt.jsxs)("div",{className:"flex pt-20",children:[(0,wt.jsx)(hN,{currentView:r,onViewChange:s,collapsed:a,onToggle:()=>i(!a)}),(0,wt.jsxs)("main",{className:"flex-1 transition-all duration-300 ".concat(a?"ml-16":"ml-64"," p-8"),children:["dashboard"===r&&(0,wt.jsx)($f,{data:o}),"signalements"===r&&(0,wt.jsx)(Zw,{data:o}),"AgentReportView"===r&&(0,wt.jsx)(mN,{}),"notifications"===r&&(0,wt.jsx)(aB,{data:o}),"profil"===r&&(0,wt.jsx)(jB,{onReturnToDashboard:()=>s("dashboard"),onAvatarUpdate:()=>window.location.reload()})]})]})]}):(0,wt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,wt.jsxs)("div",{className:"text-center",children:[(0,wt.jsx)("p",{className:"text-xl text-red-600",children:"Authentification requise"}),(0,wt.jsx)("button",{onClick:n,className:"mt-4 px-4 py-2 bg-green-600 text-white rounded",children:"Retour au login"})]})})},gN=Et("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),xN=()=>{const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[A,c]=(0,t.useState)(900),[u,d]=(0,t.useState)(""),h=(0,t.useRef)(null),f=de();(0,t.useEffect)(()=>{if(!_i.isAuthenticated())return void f("/login",{replace:!0});const e=_i.getUser();null!==e&&void 0!==e&&e.email&&d(g(e.email)),m();const t=setInterval(()=>{c(e=>e>0?e-1:0)},1e3);return()=>clearInterval(t)},[m,f]),(0,t.useEffect)(()=>{h.current&&h.current.focus()},[]);const m=async()=>{try{const e=await is.get("/auth/check-2fa-required");e.data.two_factor_verified&&!e.data.requires_2fa&&p()}catch(t){var e;401===(null===(e=t.response)||void 0===e?void 0:e.status)&&(_i.clearAuthData(),f("/login",{replace:!0}))}},p=()=>{const e=sessionStorage.getItem("redirect_after_2fa");if(sessionStorage.removeItem("redirect_after_2fa"),e)window.location.href=e;else{const e=_i.getRole(),t={admin:"/admin",agent:"/agent",investigateur:"/investigateur"};window.location.href=t[e]||"/admin"}},g=e=>{if(!e||!e.includes("@"))return e;const[t,n]=e.split("@"),r=t.slice(0,2)+"\u2022\u2022\u2022"+t.slice(-1);return"".concat(r,"@").concat(n)},x=async t=>{if(null===t||void 0===t||t.preventDefault(),6===e.length){s(!0),i(""),l("");try{const t=await is.post("/auth/verify-2fa",{code:e.trim()});l("Code v\xe9rifi\xe9 !"),t.data.user&&_i.setUser(t.data.user,_i.isRemembered()),setTimeout(()=>p(),800)}catch(o){var r,a;i((null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Code incorrect"),n(""),s(!1),h.current&&h.current.focus()}}};(0,t.useEffect)(()=>{6===e.length&&x()},[e]);const b=e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))};return(0,wt.jsxs)("div",{className:"min-h-screen w-full flex items-center justify-center bg-white relative overflow-hidden px-4",children:[(0,wt.jsxs)("div",{className:"absolute inset-0 bg-white overflow-hidden",children:[(0,wt.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03]"}),(0,wt.jsx)("div",{className:"absolute -top-[20%] -left-[10%] w-[70%] h-[70%] bg-[#09407e] rounded-full blur-[120px] opacity-[0.08]"}),(0,wt.jsx)("div",{className:"absolute -bottom-[20%] -right-[10%] w-[70%] h-[70%] bg-[#4c7026] rounded-full blur-[120px] opacity-[0.08]"})]}),(0,wt.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,wt.jsxs)("div",{className:"bg-white rounded-2xl shadow-[0_20px_50px_rgba(12,40,68,0.1)] border border-slate-100 overflow-hidden",children:[(0,wt.jsxs)("div",{className:"bg-slate-50/50 border-b border-slate-100 p-6 text-center relative",children:[(0,wt.jsx)("div",{className:"mx-auto w-16 h-16 bg-white rounded-2xl flex items-center justify-center shadow-sm border border-slate-100 mb-4 transform rotate-3 hover:rotate-0 transition-all duration-500",children:(0,wt.jsx)(gN,{className:"w-8 h-8 text-[#0c2844]"})}),(0,wt.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Double Authentification"}),(0,wt.jsxs)("p",{className:"text-slate-500 text-sm mt-2 flex items-center justify-center gap-2",children:[(0,wt.jsx)(bB,{className:"w-4 h-4"}),"Code envoy\xe9 au"," ",(0,wt.jsx)("span",{className:"font-semibold text-slate-700",children:u})]})]}),(0,wt.jsxs)("div",{className:"p-8",children:[a&&(0,wt.jsxs)("div",{className:"mb-6 p-4 bg-red-50/80 border border-red-100 rounded-xl flex items-center gap-3 text-red-700 animate-shake",children:[(0,wt.jsx)(Ut,{className:"w-5 h-5 flex-shrink-0"}),(0,wt.jsx)("span",{className:"text-sm font-medium",children:a})]}),o&&(0,wt.jsxs)("div",{className:"mb-6 p-4 bg-emerald-50/80 border border-emerald-100 rounded-xl flex items-center gap-3 text-emerald-700 animate-fade-in",children:[(0,wt.jsx)(mB,{className:"w-5 h-5 flex-shrink-0"}),(0,wt.jsx)("span",{className:"text-sm font-medium",children:o})]}),(0,wt.jsxs)("div",{className:"relative mb-8 group",children:[(0,wt.jsx)("input",{ref:h,type:"text",value:e,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);n(t)},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20",autoComplete:"one-time-code",inputMode:"numeric",maxLength:6,disabled:r}),(0,wt.jsx)("div",{className:"flex justify-between items-center gap-2 relative z-10 pointer-events-none",children:[...Array(6)].map((t,n)=>(0,wt.jsx)("div",{className:"\n                      w-12 h-14 sm:w-14 sm:h-16 rounded-xl border-2 flex items-center justify-center text-2xl font-bold transition-all duration-200\n                      ".concat(e[n]?"border-[#0c2844] bg-slate-50 text-[#0c2844] scale-105 shadow-sm":"border-slate-200 bg-white text-slate-300","\n                      ").concat(n!==e.length||r?"":"border-[#4c7026] ring-4 ring-[#4c7026]/10 z-10 scale-110","\n                    "),children:e[n]||(0,wt.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(n===e.length?"bg-[#4c7026] animate-pulse":"bg-slate-200")})},n))})]}),(0,wt.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-8 text-sm text-slate-500 bg-slate-50 py-2 rounded-full border border-slate-100 w-fit mx-auto px-4",children:[(0,wt.jsx)(Bs,{className:"w-4 h-4"}),(0,wt.jsx)("span",{children:"Expire dans"}),(0,wt.jsx)("span",{className:"font-mono font-bold ".concat(A<60?"text-red-600":"text-[#0c2844]"),children:b(A)})]}),(0,wt.jsx)("button",{onClick:x,disabled:r||6!==e.length,className:"w-full bg-[#0c2844] hover:bg-[#09407e] text-white py-4 rounded-xl font-semibold shadow-lg shadow-blue-900/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center justify-center gap-2 group",children:r?(0,wt.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("span",{children:"V\xe9rifier l'identit\xe9"}),(0,wt.jsx)(pB,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})}),(0,wt.jsxs)("div",{className:"mt-6 flex flex-col items-center gap-4",children:[(0,wt.jsxs)("button",{onClick:async()=>{s(!0),i("");try{await is.post("/auth/resend-2fa-code"),l("Nouveau code envoy\xe9 !"),c(900),n(""),s(!1),h.current&&h.current.focus()}catch(e){i("Impossible de renvoyer le code"),s(!1)}},disabled:r||A>840,className:"text-sm font-medium text-slate-600 hover:text-[#4c7026] transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,wt.jsx)(nB,{className:"w-4 h-4 ".concat(r?"animate-spin":"")}),A>840?"Renvoyer disponible dans ".concat(b(A-840)):"Je n'ai pas re\xe7u le code"]}),(0,wt.jsxs)("button",{onClick:()=>_i.logout(),className:"text-xs text-slate-400 hover:text-red-500 transition-colors flex items-center gap-1.5 mt-2",children:[(0,wt.jsx)($i,{className:"w-3 h-3"}),"Annuler et se d\xe9connecter"]})]})]})]}),(0,wt.jsx)("div",{className:"mt-8 text-center",children:(0,wt.jsxs)("p",{className:"text-slate-400 text-xs flex items-center justify-center gap-1",children:[(0,wt.jsx)(fB,{className:"w-3 h-3"}),"Connexion chiffr\xe9e de bout en bout"]})})]}),(0,wt.jsx)("style",{jsx:!0,children:"\n        @keyframes shake {\n          0%,\n          100% {\n            transform: translateX(0);\n          }\n          25% {\n            transform: translateX(-4px);\n          }\n          75% {\n            transform: translateX(4px);\n          }\n        }\n        .animate-shake {\n          animation: shake 0.4s ease-in-out;\n        }\n      "})]})},bN=()=>!!(localStorage.getItem("user")||localStorage.getItem("user_data")||sessionStorage.getItem("user")||sessionStorage.getItem("user_data")),vN=()=>{const e=localStorage.getItem("user")||localStorage.getItem("user_data")||sessionStorage.getItem("user")||sessionStorage.getItem("user_data");if(e)try{const t=JSON.parse(e),n=t.role||t.user_type||t.type;return n?n.toLowerCase():null}catch(n){console.error("Erreur parsing user data:",n)}const t=localStorage.getItem("user_type")||sessionStorage.getItem("user_type");return t?t.toLowerCase():null},yN=e=>{let{children:n,allowedRoles:r}=e;const[s,a]=t.useState(!1),[i,o]=t.useState(null),[l,A]=t.useState(!0);if(t.useEffect(()=>{(()=>{const e=bN(),t=vN();a(e),o(t),A(!1)})()},[]),l)return(0,wt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,wt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})});if(!s)return(0,wt.jsx)(Se,{to:"/login",replace:!0});if(i&&!r.includes(i)){const e={admin:"/admin",agent:"/agent",investigateur:"/investigateur"};return(0,wt.jsx)(Se,{to:e[i]||"/login",replace:!0})}return i?n:(0,wt.jsx)(Se,{to:"/login",replace:!0})};const wN=function(){return(0,wt.jsx)(ut,{children:(0,wt.jsxs)(Ue,{children:[(0,wt.jsx)(Ee,{path:"/",element:(0,wt.jsx)(Bt,{})}),(0,wt.jsx)(Ee,{path:"/signalement",element:(0,wt.jsx)(ys,{})}),(0,wt.jsx)(Ee,{path:"/suivi",element:(0,wt.jsx)(Si,{})}),(0,wt.jsx)(Ee,{path:"/enseignants",element:(0,wt.jsx)(Wi,{})}),(0,wt.jsx)(Ee,{path:"/login",element:(0,wt.jsx)(Ui,{})}),(0,wt.jsx)(Ee,{path:"/two-factor-verify",element:(0,wt.jsx)(xN,{})}),(0,wt.jsx)(Ee,{path:"/admin/*",element:(0,wt.jsx)(yN,{allowedRoles:["admin"],children:(0,wt.jsx)(dN,{})})}),(0,wt.jsx)(Ee,{path:"/agent/*",element:(0,wt.jsx)(yN,{allowedRoles:["agent"],children:(0,wt.jsx)(pN,{})})}),(0,wt.jsx)(Ee,{path:"*",element:(0,wt.jsx)(Gi,{})})]})})},BN=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:a,getTTFB:i}=t;n(e),r(e),s(e),a(e),i(e)})};r.createRoot(document.getElementById("root")).render((0,wt.jsx)(t.StrictMode,{children:(0,wt.jsx)(wN,{})})),BN()})()})();
//# sourceMappingURL=main.ed4094c3.js.map